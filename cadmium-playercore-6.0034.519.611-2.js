(function () {
    window.cryptokeys = window.crypto.subtle;
    window.cryptokeys.getKeyByName = (name) => new Promise((resolve) => resolve({ id: "TkZDRENILTAyLUZYMExHTjIxWUdKV0dNRUNDTVFIUkZKTkNONkVVQQ==" }));
    (function (ub, Bb) {
        var wc; function Ub(ib, hb) { if (!hb || "utf-8" === hb) return Pd(ib); throw Error("unsupported encoding"); } function Rb(ib, hb) { if (!hb || "utf-8" === hb) return Qd(ib); throw Error("unsupported encoding"); } function Pd(ib) { for (var hb = 0, gb, db = ib.length, lb = ""; hb < db;) { gb = ib[hb++]; if (gb & 128) if (192 === (gb & 224)) gb = ((gb & 31) << 6) + (ib[hb++] & 63); else if (224 === (gb & 240)) gb = ((gb & 15) << 12) + ((ib[hb++] & 63) << 6) + (ib[hb++] & 63); else throw Error("unsupported character"); lb += String.fromCharCode(gb) } return lb } function Qd(ib) {
            var hb =
                ib.length; var gb = 0; var db, lb = 0; for (db = hb; db--;) { var ob = ib.charCodeAt(db); 128 > ob ? gb++ : gb = 2048 > ob ? gb + 2 : gb + 3 } gb = new Uint8Array(gb); for (db = 0; db < hb; db++)ob = ib.charCodeAt(db), 128 > ob ? gb[lb++] = ob : (2048 > ob ? gb[lb++] = 192 | ob >>> 6 : (gb[lb++] = 224 | ob >>> 12, gb[lb++] = 128 | ob >>> 6 & 63), gb[lb++] = 128 | ob & 63); return gb
        } function Wb(ib, hb) { if (ib === hb) return !0; if (!ib || !hb || ib.length != hb.length) return !1; for (var gb = 0; gb < ib.length; ++gb)if (ib[gb] != hb[gb]) return !1; return !0 } function gc(ib) {
            if (!(ib && ib.constructor == Uint8Array || Array.isArray(ib))) throw new TypeError("Cannot compute the hash code of " +
                ib); for (var hb = 1, gb = 0; gb < ib.length; ++gb) { var db = ib[gb]; if ("number" !== typeof db) throw new TypeError("Cannot compute the hash code over non-numeric elements: " + db); hb = 31 * hb + db & 4294967295 } return hb
        } function ue(ib, hb) { if (ib === hb) return !0; if (!ib || !hb) return !1; hb instanceof Array || (hb = [hb]); for (var gb = 0; gb < hb.length; ++gb) { for (var db = hb[gb], lb = !1, ob = 0; ob < ib.length; ++ob) { var kb = ib[ob]; if (db.equals && "function" === typeof db.equals && db.equals(kb) || db == kb) { lb = !0; break } } if (!lb) return !1 } return !0 } function ve(ib,
            hb) { return ue(ib, hb) && (ib.length == hb.length || ue(hb, ib)) } function Na(ib, hb, gb) { var db; gb && (db = gb); if ("object" !== typeof ib || "function" !== typeof ib.result || "function" !== typeof ib.error) throw new TypeError("callback must be an object with function properties 'result' and 'error'."); try { var lb = hb.call(db, ib); lb !== Bb && ib.result(lb) } catch (ob) { try { ib.error(ob) } catch (kb) { } } } function fb(ib, hb, gb) {
                if ("object" !== typeof ib || "function" !== typeof ib.timeout) throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");
                Na(ib, hb, gb)
            } function W(ib, hb, gb) { 1E5 > ib && (ib = 1E5 + ib); Object.defineProperties(this, { internalCode: { value: ib, writable: !1, configurable: !1 }, responseCode: { value: hb, writable: !1, configurable: !1 }, message: { value: gb, writable: !1, configurable: !1 } }) } function Rd(ib) { switch (ib) { case Ob.PSK: case Ob.MGK: return !0; default: return !1 } } function we(ib) { switch (ib) { case Ob.PSK: case Ob.MGK: case Ob.X509: case Ob.RSA: case Ob.NPTICKET: case Ob.ECC: return !0; default: return !1 } } function Ff(ib) { return ib.toJSON() } function xe(ib, hb) {
                td ?
                    hb.result(td) : Promise.resolve().then(function () { return Kb.getKeyByName(ib) }).catch(function () { return Kb.generateKey({ name: ib }, !1, ["wrapKey", "unwrapKey"]) }).then(function (gb) { td = gb; hb.result(td) }).catch(function (gb) { hb.error(new eb(W.INTERNAL_EXCEPTION, "Unable to get system key")) })
            } function ye(ib, hb) { var gb = hb.masterToken, db = hb.userIdToken; hb = hb.serviceTokens; return { NccpMethod: ib.method, UserId: ib.userId, UT: db && db.serialNumber, MT: gb && gb.serialNumber + ":" + gb.sequenceNumber, STCount: hb && hb.length } } function Gf(ib) { return ib.uniqueKey() }
        function Hf(ib, hb, gb, db, lb) {
            function ob(Ca, sa) { Ca.errorCode === Ma.ENTITY_REAUTH || Ca.errorCode === Ma.ENTITYDATA_REAUTH ? (db.clearCryptoContexts(), Oa()) : Ca.errorCode !== Ma.USER_REAUTH && Ca.errorCode !== Ma.USERDATA_REAUTH || kb(sa) } function kb(Ca) { if (Ca = db.getUserIdToken(Ca)) db.removeUserIdToken(Ca), Oa() } function Ia(Ca, sa, ka) {
                var ea = []; (function ma() {
                    Ca.read(-1, sa, {
                        result: function (ja) {
                            Na(ka, function () {
                                if (ja) ea.push(ja), ma(); else switch (ea.length) {
                                    case 0: return new Uint8Array(0); case 1: return ea[0]; default: var V,
                                        ba, wa = ea.length, ta = 0; for (ba = V = 0; ba < wa; ba++)V += ea[ba].length; V = new Uint8Array(V); for (ba = 0; ba < wa; ba++) { var xa = ea[ba]; V.set(xa, ta); ta += xa.length } return V
                                }
                            })
                        }, timeout: function () { ka.timeout() }, error: function (ja) { ka.error(ja) }
                    })
                })()
            } function Oa() { db.getStoreState({ result: function (Ca) { for (var sa = Sa.slice(), ka = 0; ka < sa.length; ka++)sa[ka]({ storeState: Ca }) }, timeout: function () { ib.error("Timeout getting store state", "" + e) }, error: function (Ca) { ib.error("Error getting store state", "" + Ca) } }) } var Sa = []; this.addEventHandler =
                function (Ca, sa) { switch (Ca) { case "shouldpersist": Sa.push(sa) } }; this.send = function (Ca) {
                    return new Promise(function (sa, ka) {
                        var ea = Ca.timeout, fa = new ze(ib, gb, Ca, db.getKeyRequestData()), ma = new Ae(Ca.url); ib.trace("Sending MSL request"); hb.request(gb, fa, ma, ea, {
                            result: function (ja) {
                                ib.trace("Received MSL response", { Method: Ca.method }); if (ja) {
                                    Ca.allowTokenRefresh && Oa(); var V = ja.getErrorHeader(); V ? (ob(V, Ca.profileGuid || Ca.userId), ka({ success: !1, error: V })) : Ia(ja, ea, {
                                        result: function (ba) { sa({ success: !0, body: Ub(ba) }) },
                                        timeout: function () { ka({ success: !1, subCode: lb.MSL_READ_TIMEOUT }) }, error: function (ba) { ka({ success: !1, error: ba }) }
                                    })
                                } else ka({ success: !1, error: new eb(W.INTERNAL_EXCEPTION, "Null response stream"), description: "Null response stream" })
                            }, timeout: function () { ka({ success: !1, subCode: lb.MSL_REQUEST_TIMEOUT }) }, error: function (ja) { ka({ success: !1, error: ja }) }
                        })
                    })
                }; this.hasUserIdToken = function (Ca) { return !!db.getUserIdToken(Ca) }; this.getUserIdTokenKeys = function () { return db.getUserIdTokenKeys() }; this.removeUserIdToken =
                    kb; this.clearUserIdTokens = function () { db.clearUserIdTokens(); Oa() }; this.isErrorReauth = function (Ca) { return Ca && Ca.errorCode == Ma.USERDATA_REAUTH }; this.isErrorHeader = function (Ca) { return Ca instanceof Kc }; this.getErrorCode = function (Ca) { return Ca && Ca.errorCode }; this.getStateForMdx = function (Ca) { var sa = db.getMasterToken(); Ca = db.getUserIdToken(Ca); var ka = db.getCryptoContext(sa); return { masterToken: sa, userIdToken: Ca, cryptoContext: ka } }; this.buildPlayDataRequest = function (Ca, sa) {
                        var ka = new Be; hb.request(gb, new ze(ib,
                            gb, Ca), ka, Ca.timeout, { result: function () { sa.result(ka.getRequest()) }, error: function () { sa.result(ka.getRequest()) }, timeout: function () { sa.timeout() } })
                    }; this.rekeyUserIdToken = function (Ca, sa) { db.rekeyUserIdToken(Ca, sa); Oa() }; this.getServiceTokens = function (Ca) { var sa = db.getMasterToken(); (Ca = db.getUserIdToken(Ca)) && !Ca.isBoundTo(sa) && (Ca = Bb); return db.getServiceTokens(sa, Ca) }; this.removeServiceToken = function (Ca) {
                        var sa = db.getMasterToken(); db.getServiceTokens(sa).find(function (ka) { return ka.name === Ca }) &&
                            (db.removeServiceTokens(Ca, sa), Oa())
                    }
        } function Sd(ib, hb, gb, db, lb, ob) {
            function kb(Ia) {
                var Oa;
                return Promise.resolve().then(function() {
                    Oa = ib.authenticationKeyNames[Ia];
                    if (!Oa) throw new eb(W.KEY_IMPORT_ERROR, "Invalid config keyName " + Ia);
                    return Kb.getKeyByName(Oa)
                }).then(function(Sa) {
                    return new Promise(function(Ca, sa) {
                        Zc(Sa, {
                            result: Ca,
                            error: function() {
                                sa(new eb(W.KEY_IMPORT_ERROR, "Unable to create " + Oa + " CipherKey"))
                            }
                        })
                    })
                }).catch(function(Sa) {
                    throw new eb(W.KEY_IMPORT_ERROR, "Unable to import " + Oa, Sa);
                })
            }
            return Promise.resolve().then(function() {
                if (!Kb.getKeyByName) throw new eb(W.INTERNAL_EXCEPTION, "No WebCrypto cryptokeys");
                return Promise.all([kb("e"), kb("h"), kb("w")])
            }).then(function(Ia) {
                var Oa = {};
                Oa[hb] = new gb(ib.esn, Ia[0], Ia[1], Ia[2]);
                Ia = new db(ib.esn);
                var Sa = new If;
                Sa = [new lb(Sa)];
                var Ca = new ob(hb);
                return {
                    entityAuthFactories: Oa,
                    entityAuthData: Ia,
                    keyExchangeFactories: Sa,
                    keyRequestData: Ca
                }
            })
        } function Td(ib, hb, gb) {
            function db() {
                return Promise.resolve().then(function () {
                    return Kb.generateKey(hb,
                        !1, ["wrapKey", "unwrapKey"])
                }).then(function (kb) { return lb(kb.publicKey, kb.privateKey) })
            } function lb(kb, Ia) {
                return Promise.all([new Promise(function (Oa, Sa) { Lc(kb, { result: Oa, error: function (Ca) { Sa(new eb(W.INTERNAL_EXCEPTION, "Unable to create keyx public key", Ca)) } }) }), new Promise(function (Oa, Sa) { $c(Ia, { result: Oa, error: function (Ca) { Sa(new eb(W.INTERNAL_EXCEPTION, "Unable to create keyx private key", Ca)) } }) })]).then(function (Oa) {
                    Oa = new Ud("rsaKeypairId", gb, Oa[0], Oa[1]); ob && (Oa.storeData = {
                        keyxPublicKey: kb,
                        keyxPrivateKey: Ia
                    }); return Oa
                })
            } var ob = !ib.systemKeyWrapFormat; return Promise.resolve().then(function () { var kb = ib.storeState, Ia = kb && kb.keyxPublicKey; kb = kb && kb.keyxPrivateKey; return ob && Ia && kb ? lb(Ia, kb) : db() }).then(function (kb) { var Ia = {}; Ia[Ob.NONE] = new Jf; var Oa = new id(ib.esn), Sa = [new Ce]; return { entityAuthFactories: Ia, entityAuthData: Oa, keyExchangeFactories: Sa, keyRequestData: kb, createKeyRequestData: ob ? db : Bb } })
        } var Fc = ub.nfCrypto || ub.msCrypto || ub.webkitCrypto || ub.crypto, Qb = Fc && (Fc.webkitSubtle || Fc.subtle),
            ud = ub.nfCryptokeys || ub.msCryptokeys || ub.webkitCryptokeys || ub.cryptokeys; (function (ib) {
                var hb = function () {
                    function db(lb, ob) { lb instanceof hb ? (this.abv = lb.abv, this.position = lb.position) : (this.abv = lb, this.position = ob || 0) } db.prototype = {
                        readByte: function () { return this.abv[this.position++] }, writeByte: function (lb) { this.abv[this.position++] = lb }, peekByte: function (lb) { return this.abv[lb] }, copyBytes: function (lb, ob, kb) {
                            var Ia = new Uint8Array(this.abv.buffer, this.position, kb); lb = new Uint8Array(lb.buffer, ob, kb);
                            Ia.set(lb); this.position += kb
                        }, seek: function (lb) { this.position = lb }, skip: function (lb) { this.position += lb }, getPosition: function () { return this.position }, setPosition: function (lb) { this.position = lb }, getRemaining: function () { return this.abv.length - this.position }, getLength: function () { return this.abv.length }, isEndOfStream: function () { return this.position >= this.abv.length }, show: function () { return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString()) }
                    }; return db
                }(), gb = {}; (function() {
                    function db(Y,
                        da) {
                        da.writeByte(Y.tagClass << 6 | Y.constructed << 5 | Y.tag);
                        var la = Y.payloadLen;
                        if (128 > la) da.writeByte(la);
                        else {
                            for (var qa = la, Ja = 0; qa;) ++Ja, qa >>= 8;
                            da.writeByte(128 | Ja);
                            for (qa = 0; qa < Ja; ++qa) da.writeByte(la >> 8 * (Ja - qa - 1) & 255)
                        }
                        if (Y.child)
                            for (Y.tag == ja.BIT_STRING && da.writeByte(0), Y = Y._child; Y;) {
                                if (!db(Y, da)) return !1;
                                Y = Y.next
                            } else switch (Y.tag) {
                                case ja.INTEGER:
                                    Y.backingStore[Y.dataIdx] >> 7 && da.writeByte(0);
                                    da.copyBytes(Y.backingStore, Y.dataIdx, Y.dataLen);
                                    break;
                                case ja.BIT_STRING:
                                    da.writeByte(0);
                                    da.copyBytes(Y.backingStore,
                                        Y.dataIdx, Y.dataLen);
                                    break;
                                case ja.OCTET_STRING:
                                    da.copyBytes(Y.backingStore, Y.dataIdx, Y.dataLen);
                                    break;
                                case ja.OBJECT_IDENTIFIER:
                                    da.copyBytes(Y.backingStore, Y.dataIdx, Y.dataLen)
                            }
                        return !0
                    }
                
                    function lb(Y) {
                        var da = Y.readByte(),
                            la = da & 127;
                        if (la == da) return la;
                        if (3 < la || 0 === la) return -1;
                        for (var qa = da = 0; qa < la; ++qa) da = da << 8 | Y.readByte();
                        return da
                    }
                
                    function ob(Y, da, la) {
                        var qa = Y.backingStore,
                            Ja = new hb(qa, da);
                        da += la;
                        la = Y;
                        var Ga;
                        if (8 < ta++) return Bb;
                        for (; Ja.getPosition() < da;) {
                            Ja.getPosition();
                            var Ra = Ja.readByte();
                            if (31 ==
                                (Ra & 31)) {
                                for (Ga = 0; Ra & 128;) Ga <<= 8, Ga |= Ra & 127;
                                Ra = Ga
                            }
                            var Ta = Ra;
                            Ga = Ta & 31;
                            if (0 > Ga || 30 < Ga) return Bb;
                            Ra = lb(Ja);
                            if (0 > Ra || Ra > Ja.getRemaining()) return Bb;
                            la.constructed = Ta & 32;
                            la.tagClass = (Ta & 192) >> 6;
                            la.tag = Ga;
                            la.dataLen = Ra;
                            la.dataIdx = Ja.getPosition();
                            Ga = Ja;
                            var oa = Ta;
                            Ta = Ra;
                            if (oa & 32) Ga = !0;
                            else if (oa < ja.BIT_STRING || oa > ja.OCTET_STRING) Ga = !1;
                            else {
                                var Aa = new hb(Ga);
                                oa == ja.BIT_STRING && Aa.skip(1);
                                Aa.readByte() >> 6 & 1 ? Ga = !1 : (oa = lb(Aa), Ga = Aa.getPosition() - Ga.getPosition() + oa == Ta)
                            }
                            Ga && (Ga = Ja.getPosition(), Ta = Ra, la.tag ==
                                ja.BIT_STRING && (la.dataIdx++, la.dataLen--, Ga++, Ta--), la.child = new V(qa, la), ob(la.child, Ga, Ta));
                            la.tag == ja.INTEGER && (Ga = Ja.getPosition(), 0 == Ja.peekByte(Ga) && Ja.peekByte(Ga + 1) >> 7 && (la.dataIdx++, la.dataLen--));
                            Ja.skip(Ra);
                            Ja.getPosition() < da && (la.next = new V(qa, la.parent), la = la.next)
                        }
                        ta--;
                        return Y
                    }
                
                    function kb(Y, da, la) {
                        if (9 != la) return !1;
                        for (la = 0; 9 > la; ++la)
                            if (Y[da++] != xa[la]) return !1;
                        return !0
                    }
                
                    function Ia(Y) {
                        if (!(Y && Y.child && Y.child.next && Y.child.child && Y.child.next.child)) return !1;
                        var da = Y.child.child;
                        return kb(da.backingStore, da.dataIdx, da.dataLen) && 2 == Y.nChildren && 2 == Y.child.nChildren && 2 == Y.child.next.child.nChildren ? !0 : !1
                    }
                
                    function Oa(Y) {
                        if (!(Y && Y.child && Y.child.next && Y.child.next.child && Y.child.next.next && Y.child.next.next.child)) return !1;
                        var da = Y.child.next.child;
                        return kb(da.backingStore, da.dataIdx, da.dataLen) && 3 == Y.nChildren && 2 == Y.child.next.nChildren && 9 == Y.child.next.next.child.nChildren ? !0 : !1
                    }
                
                    function Sa(Y) {
                        var da = ba.createSequenceNode(),
                            la = new wa(da);
                        la.addChild(ba.createSequenceNode());
                        la.addChild(ba.createOidNode(xa));
                        la.addSibling(ba.createNullNode());
                        la.addToParent(da, ba.createBitStringNode(null));
                        la.addChild(ba.createSequenceNode());
                        la.addChild(ba.createIntegerNode(Y.n));
                        la.addSibling(ba.createIntegerNode(Y.e));
                        return da
                    }
                
                    function Ca(Y) {
                        Y = Y.child.next.child.child;
                        var da = Y.data;
                        Y = Y.next;
                        return new Ea(da, Y.data, null, null)
                    }
                
                    function sa(Y) {
                        var da = ba.createSequenceNode(),
                            la = new wa(da);
                        la.addChild(ba.createIntegerNode(new Uint8Array([0])));
                        la.addSibling(ba.createSequenceNode());
                        la.addChild(ba.createOidNode(xa));
                        la.addSibling(ba.createNullNode());
                        la.addToParent(da, ba.createOctetStringNode(null));
                        la.addChild(ba.createSequenceNode());
                        la.addChild(ba.createIntegerNode(new Uint8Array([0])));
                        la.addSibling(ba.createIntegerNode(Y.n));
                        la.addSibling(ba.createIntegerNode(Y.e));
                        la.addSibling(ba.createIntegerNode(Y.d));
                        la.addSibling(ba.createIntegerNode(Y.p));
                        la.addSibling(ba.createIntegerNode(Y.q));
                        la.addSibling(ba.createIntegerNode(Y.dp));
                        la.addSibling(ba.createIntegerNode(Y.dq));
                        la.addSibling(ba.createIntegerNode(Y.qi));
                        return da
                    }
                
                    function ka(Y) {
                        var da = [];
                        Y = Y.child.next.next.child.child.next;
                        for (var la = 0; 8 > la; la++) da.push(Y.data), Y = Y.next;
                        return new za(da[0], da[1], da[2], da[3], da[4], da[5], da[6], da[7])
                    }
                
                    function ea(Y, da, la, qa) {
                        if (!(Y instanceof Ea || Y instanceof za)) return Bb;
                        if (la)
                            for (var Ja = 0; Ja < la.length; ++Ja)
                                if (-1 == va.indexOf(la[Ja])) return Bb;
                        da = {
                            kty: "RSA",
                            alg: da,
                            key_ops: la || [],
                            ext: qa == Bb ? !1 : qa,
                            n: Eb(Y.n, !0),
                            e: Eb(Y.e, !0)
                        };
                        Y instanceof za && (da.d = Eb(Y.d, !0), da.p = Eb(Y.p, !0), da.q = Eb(Y.q, !0), da.dp = Eb(Y.dp, !0), da.dq = Eb(Y.dq,
                            !0), da.qi = Eb(Y.qi, !0));
                        return da
                    }
                
                    function fa(Y) {
                        if (!Y.kty || "RSA" != Y.kty || !Y.n || !Y.e) return Bb;
                        var da = "RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");
                        if (Y.alg && -1 == da.indexOf(Y.alg)) return Bb;
                        da = [];
                        Y.use ? "enc" == Y.use ? da = ["encrypt", "decrypt", "wrap", "unwrap"] : "sig" == Y.use && (da = ["sign", "verify"]) : da = Y.key_ops;
                        var la = Y.ext,
                            qa = Gb(Y.n, !0),
                            Ja = Gb(Y.e, !0);
                        if (Y.d) {
                            var Ga = Gb(Y.d, !0),
                                Ra = Gb(Y.p, !0),
                                Ta = Gb(Y.q, !0),
                                oa = Gb(Y.dp, !0),
                                Aa = Gb(Y.dq, !0),
                                Ba = Gb(Y.qi, !0);
                            return new za(qa,
                                Ja, Ga, Ra, Ta, oa, Aa, Ba, Y.alg, da, la)
                        }
                        return new Ea(qa, Ja, la, da)
                    }
                
                    function ma(Y, da, la, qa) {
                        this.der = Y;
                        this.type = da;
                        this.keyOps = la;
                        this.extractable = qa
                    }
                    var ja = {
                            BER: 0,
                            BOOLEAN: 1,
                            INTEGER: 2,
                            BIT_STRING: 3,
                            OCTET_STRING: 4,
                            NULL: 5,
                            OBJECT_IDENTIFIER: 6,
                            OBJECT_DESCRIPTOR: 7,
                            INSTANCE_OF_EXTERNAL: 8,
                            REAL: 9,
                            ENUMERATED: 10,
                            EMBEDDED_PPV: 11,
                            UTF8_STRING: 12,
                            RELATIVE_OID: 13,
                            SEQUENCE: 16,
                            SET: 17,
                            NUMERIC_STRING: 18,
                            PRINTABLE_STRING: 19,
                            TELETEX_STRING: 20,
                            T61_STRING: 20,
                            VIDEOTEX_STRING: 21,
                            IA5_STRING: 22,
                            UTC_TIME: 23,
                            GENERALIZED_TIME: 24,
                            GRAPHIC_STRING: 25,
                            VISIBLE_STRING: 26,
                            ISO64_STRING: 26,
                            GENERAL_STRING: 27,
                            UNIVERSAL_STRING: 28,
                            CHARACTER_STRING: 29,
                            BMP_STRING: 30
                        },
                        V = function(Y, da, la, qa, Ja, Ga) {
                            this._data = Y;
                            this._parent = da || Bb;
                            this._constructed = la || !1;
                            this._tagClass = 0;
                            this._tag = qa || 0;
                            this._dataIdx = Ja || 0;
                            this._dataLen = Ga || 0
                        };
                    V.prototype = {
                        _child: Bb,
                        _next: Bb,
                        get data() {
                            return new Uint8Array(this._data.buffer.slice(this._dataIdx, this._dataIdx + this._dataLen))
                        },
                        get backingStore() {
                            return this._data
                        },
                        get constructed() {
                            return this._constructed
                        },
                        set constructed(Y) {
                            this._constructed =
                                0 != Y ? !0 : !1
                        },
                        get tagClass() {
                            return this._tagClass
                        },
                        set tagClass(Y) {
                            this._tagClass = Y
                        },
                        get tag() {
                            return this._tag
                        },
                        set tag(Y) {
                            this._tag = Y
                        },
                        get dataIdx() {
                            return this._dataIdx
                        },
                        set dataIdx(Y) {
                            this._dataIdx = Y
                        },
                        get dataLen() {
                            return this._dataLen
                        },
                        set dataLen(Y) {
                            this._dataLen = Y
                        },
                        get child() {
                            return this._child
                        },
                        set child(Y) {
                            this._child = Y;
                            this._child.parent = this
                        },
                        get next() {
                            return this._next
                        },
                        set next(Y) {
                            this._next = Y
                        },
                        get parent() {
                            return this._parent
                        },
                        set parent(Y) {
                            this._parent = Y
                        },
                        get payloadLen() {
                            var Y = 0;
                            if (this._child) {
                                for (var da = this._child; da;) Y += da.length, da = da.next;
                                this._tag == ja.BIT_STRING && Y++
                            } else switch (this._tag) {
                                case ja.INTEGER:
                                    Y = this._dataLen;
                                    this._data[this._dataIdx] >> 7 && Y++;
                                    break;
                                case ja.BIT_STRING:
                                    Y = this._dataLen + 1;
                                    break;
                                case ja.OCTET_STRING:
                                    Y = this._dataLen;
                                    break;
                                case ja.NULL:
                                    Y = 0;
                                    break;
                                case ja.OBJECT_IDENTIFIER:
                                    kb(this._data, this._dataIdx, this._dataLen) && (Y = 9)
                            }
                            return Y
                        },
                        get length() {
                            var Y = this.payloadLen,
                                da;
                            if (127 < Y)
                                for (da = Y; da;) da >>= 8, ++Y;
                            return Y + 2
                        },
                        get der() {
                            var Y = this.length;
                            if (!Y) return Bb;
                            Y = new Uint8Array(Y);
                            var da = new hb(Y);
                            return db(this, da) ? Y : Bb
                        },
                        get nChildren() {
                            for (var Y = 0, da = this._child; da;) Y++, da = da.next;
                            return Y
                        }
                    };
                    var ba = {
                            createSequenceNode: function() {
                                return new V(null, null, !0, ja.SEQUENCE, null, null)
                            },
                            createOidNode: function(Y) {
                                return new V(Y, null, !1, ja.OBJECT_IDENTIFIER, 0, Y ? Y.length : 0)
                            },
                            createNullNode: function() {
                                return new V(null, null, !1, ja.NULL, null, null)
                            },
                            createBitStringNode: function(Y) {
                                return new V(Y, null, !1, ja.BIT_STRING, 0, Y ? Y.length : 0)
                            },
                            createIntegerNode: function(Y) {
                                return new V(Y,
                                    null, !1, ja.INTEGER, 0, Y ? Y.length : 0)
                            },
                            createOctetStringNode: function(Y) {
                                return new V(Y, null, !1, ja.OCTET_STRING, 0, Y ? Y.length : 0)
                            }
                        },
                        wa = function(Y) {
                            this._currentNode = this._rootNode = Y
                        };
                    wa.prototype = {
                        addChild: function(Y) {
                            this.addTo(this._currentNode, Y)
                        },
                        addSibling: function(Y) {
                            this.addTo(this._currentNode.parent, Y)
                        },
                        addTo: function(Y, da) {
                            this._currentNode = da;
                            this._currentNode.parent = Y;
                            if (Y.child) {
                                for (Y = Y.child; Y.next;) Y = Y.next;
                                Y.next = da
                            } else Y.child = da
                        },
                        addToParent: function(Y, da) {
                            this.findNode(Y) && this.addTo(Y,
                                da)
                        },
                        findNode: function(Y) {
                            for (var da = this._currentNode; da;) {
                                if (Y == da) return !0;
                                da = da.parent
                            }
                            return !1
                        }
                    };
                    var ta = 0,
                        xa = new Uint8Array([42, 134, 72, 134, 247, 13, 1, 1, 1]),
                        Ea = function(Y, da, la, qa) {
                            this.n = Y;
                            this.e = da;
                            this.ext = la;
                            this.keyOps = qa
                        },
                        za = function(Y, da, la, qa, Ja, Ga, Ra, Ta, oa, Aa, Ba) {
                            this.n = Y;
                            this.e = da;
                            this.d = la;
                            this.p = qa;
                            this.q = Ja;
                            this.dp = Ga;
                            this.dq = Ra;
                            this.qi = Ta;
                            this.alg = oa;
                            this.keyOps = Aa;
                            this.ext = Ba
                        },
                        va = "sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");
                    ma.prototype.getDer = function() {
                        return this.der
                    };
                    ma.prototype.getType = function() {
                        return this.type
                    };
                    ma.prototype.getKeyOps = function() {
                        return this.keyOps
                    };
                    ma.prototype.getExtractable = function() {
                        return this.extractable
                    };
                    gb.parse = function(Y) {
                        ta = 0;
                        return ob(new V(Y), 0, Y.length)
                    };
                    gb.show = function(Y, da) {};
                    gb.isRsaSpki = Ia;
                    gb.isRsaPkcs8 = Oa;
                    gb.NodeFactory = ba;
                    gb.Builder = wa;
                    gb.tagVal = ja;
                    gb.RsaPublicKey = Ea;
                    gb.RsaPrivateKey = za;
                    gb.buildRsaSpki = Sa;
                    gb.parseRsaSpki = function(Y) {
                        Y = gb.parse(Y);
                        return Ia ? Ca(Y) : Bb
                    };
                    gb.buildRsaPkcs8 = sa;
                    gb.parseRsaPkcs8 = function(Y) {
                        Y = gb.parse(Y);
                        return Oa(Y) ? ka(Y) : Bb
                    };
                    gb.buildRsaJwk = ea;
                    gb.parseRsaJwk = fa;
                    gb.RsaDer = ma;
                    gb.rsaDerToJwk = function(Y, da, la, qa) {
                        Y = gb.parse(Y);
                        if (!Y) return Bb;
                        if (Ia(Y)) Y = Ca(Y);
                        else if (Oa(Y)) Y = ka(Y);
                        else return Bb;
                        return ea(Y, da, la, qa)
                    };
                    gb.jwkToRsaDer = function(Y) {
                        Y = fa(Y);
                        if (!Y) return Bb;
                        if (Y instanceof Ea) {
                            var da = "spki";
                            var la = Sa(Y).der
                        } else if (Y instanceof za) da = "pkcs8", la = sa(Y).der;
                        else return Bb;
                        return new ma(la, da, Y.keyOps, Y.ext)
                    };
                    gb.webCryptoAlgorithmToJwkAlg = function(Y) {
                        return "RSAES-PKCS1-v1_5" == Y.name ? "RSA1_5" :
                            "RSASSA-PKCS1-v1_5" == Y.name ? "SHA-256" == Y.hash.name ? "RS256" : "SHA-384" == Y.hash.name ? "RS384" : "SHA-512" == Y.hash.name ? "RS512" : Bb : Bb
                    };
                    gb.webCryptoUsageToJwkKeyOps = function(Y) {
                        return Y.map(function(da) {
                            return "wrapKey" == da ? "wrap" : "unwrapKey" == da ? "unwrap" : da
                        })
                    }
                })(); ib.ASN1 = gb
            })(ub); var Eb, Gb; (function () {
                for (var ib = {}, hb = {}, gb = { "=": 0, ".": 0 }, db = { "=": 0, ".": 0 }, lb = /\s+/g, ob = /^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/, kb = 64; kb--;)ib["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[kb]] =
                    262144 * kb, hb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[kb]] = 4096 * kb, gb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[kb]] = 64 * kb, db["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[kb]] = kb; for (kb = 64; kb-- && "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[kb] != "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[kb];)ib["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[kb]] = 262144 * kb, hb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[kb]] =
                        4096 * kb, gb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[kb]] = 64 * kb, db["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[kb]] = kb; Eb = function (Ia, Oa) {
                            for (var Sa = "", Ca = 0, sa = Ia.length, ka = sa - 2, ea = Oa ? "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_" : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", fa = Oa ? "" : "="; Ca < ka;)Oa = 65536 * Ia[Ca++] + 256 * Ia[Ca++] + Ia[Ca++], Sa += ea[Oa >>> 18] + ea[Oa >>> 12 & 63] + ea[Oa >>> 6 & 63] + ea[Oa & 63]; Ca == ka ? (Oa = 65536 * Ia[Ca++] +
                                256 * Ia[Ca++], Sa += ea[Oa >>> 18] + ea[Oa >>> 12 & 63] + ea[Oa >>> 6 & 63] + fa) : Ca == sa - 1 && (Oa = 65536 * Ia[Ca++], Sa += ea[Oa >>> 18] + ea[Oa >>> 12 & 63] + fa + fa); return Sa
                        }; Gb = function (Ia, Oa) {
                            Ia = Ia.replace(lb, ""); if (Oa && (Oa = Ia.length % 4)) { Oa = 4 - Oa; for (var Sa = 0; Sa < Oa; ++Sa)Ia += "=" } Oa = Ia.length; if (0 != Oa % 4 || !ob.test(Ia)) throw Error("bad base64: " + Ia); for (var Ca = Oa / 4 * 3 - ("=" == Ia[Oa - 1] ? 1 : 0) - ("=" == Ia[Oa - 2] ? 1 : 0), sa = new Uint8Array(Ca), ka = 0, ea = 0; ka < Oa;)Sa = ib[Ia[ka++]] + hb[Ia[ka++]] + gb[Ia[ka++]] + db[Ia[ka++]], sa[ea++] = Sa >>> 16, ea < Ca && (sa[ea++] = Sa >>>
                                8 & 255, ea < Ca && (sa[ea++] = Sa & 255)); return sa
                        }
            })(); var Zb = {}; (function () {
                function ib(Ca) { if (!(this instanceof ib)) return new ib(Ca); for (var sa = 0, ka = kb.length; sa < ka; sa++)this[kb[sa]] = ""; this.bufferCheckPosition = Zb.MAX_BUFFER_LENGTH; this.q = this.c = this.p = ""; this.opt = Ca || {}; this.closed = this.closedRoot = this.sawRoot = !1; this.tag = this.error = null; this.state = Ia.BEGIN; this.stack = new ob; this.index = this.position = this.column = 0; this.line = 1; this.slashed = !1; this.unicodeI = 0; this.unicodeS = null; hb(this, "onready") } function hb(Ca,
                    sa, ka) { if (Ca[sa]) Ca[sa](ka) } function gb(Ca, sa) { var ka = Ca.opt, ea = Ca.textNode; ka.trim && (ea = ea.trim()); ka.normalize && (ea = ea.replace(/\s+/g, " ")); Ca.textNode = ea; Ca.textNode && hb(Ca, sa ? sa : "onvalue", Ca.textNode); Ca.textNode = "" } function db(Ca, sa) { gb(Ca); sa += "\nLine: " + Ca.line + "\nColumn: " + Ca.column + "\nChar: " + Ca.c; sa = Error(sa); Ca.error = sa; hb(Ca, "onerror", sa); return Ca } function lb(Ca) { Ca.state !== Ia.VALUE && db(Ca, "Unexpected end"); gb(Ca); Ca.c = ""; Ca.closed = !0; hb(Ca, "onend"); ib.call(Ca, Ca.opt); return Ca } var ob =
                        Array; Zb.parser = function (Ca) { return new ib(Ca) }; Zb.CParser = ib; Zb.MAX_BUFFER_LENGTH = 65536; Zb.DEBUG = !1; Zb.INFO = !1; Zb.EVENTS = "value string key openobject closeobject openarray closearray error end ready".split(" "); var kb = ["textNode", "numberNode"]; Zb.EVENTS.filter(function (Ca) { return "error" !== Ca && "end" !== Ca }); var Ia = 0; Zb.STATE = {
                            BEGIN: Ia++, VALUE: Ia++, OPEN_OBJECT: Ia++, CLOSE_OBJECT: Ia++, OPEN_ARRAY: Ia++, CLOSE_ARRAY: Ia++, TEXT_ESCAPE: Ia++, STRING: Ia++, BACKSLASH: Ia++, END: Ia++, OPEN_KEY: Ia++, CLOSE_KEY: Ia++, TRUE: Ia++,
                            TRUE2: Ia++, TRUE3: Ia++, FALSE: Ia++, FALSE2: Ia++, FALSE3: Ia++, FALSE4: Ia++, NULL: Ia++, NULL2: Ia++, NULL3: Ia++, NUMBER_DECIMAL_POINT: Ia++, NUMBER_DIGIT: Ia++
                        }; for (var Oa in Zb.STATE) Zb.STATE[Zb.STATE[Oa]] = Oa; Ia = Zb.STATE; Object.getPrototypeOf || (Object.getPrototypeOf = function (Ca) { return Ca.__proto__ }); var Sa = /[\\"\n]/g; ib.prototype = {
                            end: function () { lb(this) }, write: function (Ca) {
                                if (this.error) throw this.error; if (this.closed) return db(this, "Cannot write after close. Assign an onready handler."); if (null === Ca) return lb(this);
                                for (var sa = Ca[0], ka; sa;) {
                                    ka = sa; this.c = sa = Ca.charAt(this.index++); ka !== sa ? this.p = ka : ka = this.p; if (!sa) break; this.position++; "\n" === sa ? (this.line++, this.column = 0) : this.column++; switch (this.state) {
                                        case Ia.BEGIN: "{" === sa ? this.state = Ia.OPEN_OBJECT : "[" === sa ? this.state = Ia.OPEN_ARRAY : "\r" !== sa && "\n" !== sa && " " !== sa && "\t" !== sa && db(this, "Non-whitespace before {[."); continue; case Ia.OPEN_KEY: case Ia.OPEN_OBJECT: if ("\r" === sa || "\n" === sa || " " === sa || "\t" === sa) continue; if (this.state === Ia.OPEN_KEY) this.stack.push(Ia.CLOSE_KEY);
                                        else if ("}" === sa) { hb(this, "onopenobject"); hb(this, "oncloseobject"); this.state = this.stack.pop() || Ia.VALUE; continue } else this.stack.push(Ia.CLOSE_OBJECT); '"' === sa ? this.state = Ia.STRING : db(this, 'Malformed object key should start with "'); continue; case Ia.CLOSE_KEY: case Ia.CLOSE_OBJECT: if ("\r" === sa || "\n" === sa || " " === sa || "\t" === sa) continue; ":" === sa ? (this.state === Ia.CLOSE_OBJECT ? (this.stack.push(Ia.CLOSE_OBJECT), gb(this, "onopenobject")) : gb(this, "onkey"), this.state = Ia.VALUE) : "}" === sa ? (gb(this), hb(this, "oncloseobject",
                                            void 0), this.state = this.stack.pop() || Ia.VALUE) : "," === sa ? (this.state === Ia.CLOSE_OBJECT && this.stack.push(Ia.CLOSE_OBJECT), gb(this), this.state = Ia.OPEN_KEY) : db(this, "Bad object"); continue; case Ia.OPEN_ARRAY: case Ia.VALUE: if ("\r" === sa || "\n" === sa || " " === sa || "\t" === sa) continue; if (this.state === Ia.OPEN_ARRAY) if (hb(this, "onopenarray"), this.state = Ia.VALUE, "]" === sa) { hb(this, "onclosearray"); this.state = this.stack.pop() || Ia.VALUE; continue } else this.stack.push(Ia.CLOSE_ARRAY); '"' === sa ? this.state = Ia.STRING : "{" ===
                                                sa ? this.state = Ia.OPEN_OBJECT : "[" === sa ? this.state = Ia.OPEN_ARRAY : "t" === sa ? this.state = Ia.TRUE : "f" === sa ? this.state = Ia.FALSE : "n" === sa ? this.state = Ia.NULL : "-" === sa ? this.numberNode += sa : "0" === sa ? (this.numberNode += sa, this.state = Ia.NUMBER_DIGIT) : -1 !== "123456789".indexOf(sa) ? (this.numberNode += sa, this.state = Ia.NUMBER_DIGIT) : db(this, "Bad value"); continue; case Ia.CLOSE_ARRAY: if ("," === sa) this.stack.push(Ia.CLOSE_ARRAY), gb(this, "onvalue"), this.state = Ia.VALUE; else if ("]" === sa) gb(this), hb(this, "onclosearray", void 0),
                                                    this.state = this.stack.pop() || Ia.VALUE; else if ("\r" === sa || "\n" === sa || " " === sa || "\t" === sa) continue; else db(this, "Bad array"); continue; case Ia.STRING: ka = this.index - 1; var ea = this.slashed, fa = this.unicodeI; a: for (; ;) {
                                                        if (Zb.DEBUG) for (; 0 < fa;)if (this.unicodeS += sa, sa = Ca.charAt(this.index++), 4 === fa ? (this.textNode += String.fromCharCode(parseInt(this.unicodeS, 16)), fa = 0, ka = this.index - 1) : fa++, !sa) break a; if ('"' === sa && !ea) {
                                                            this.state = this.stack.pop() || Ia.VALUE; (this.textNode += Ca.substring(ka, this.index - 1)) || hb(this,
                                                                "onvalue", ""); break
                                                        } if ("\\" === sa && !ea && (ea = !0, this.textNode += Ca.substring(ka, this.index - 1), sa = Ca.charAt(this.index++), !sa)) break; if (ea) if (ea = !1, "n" === sa ? this.textNode += "\n" : "r" === sa ? this.textNode += "\r" : "t" === sa ? this.textNode += "\t" : "f" === sa ? this.textNode += "\f" : "b" === sa ? this.textNode += "\b" : "u" === sa ? (fa = 1, this.unicodeS = "") : this.textNode += sa, sa = Ca.charAt(this.index++), ka = this.index - 1, sa) continue; else break; Sa.lastIndex = this.index; var ma = Sa.exec(Ca); if (null === ma) {
                                                            this.index = Ca.length + 1; this.textNode +=
                                                                Ca.substring(ka, this.index - 1); break
                                                        } this.index = ma.index + 1; sa = Ca.charAt(ma.index); if (!sa) { this.textNode += Ca.substring(ka, this.index - 1); break }
                                                    } this.slashed = ea; this.unicodeI = fa; continue; case Ia.TRUE: if ("" === sa) continue; "r" === sa ? this.state = Ia.TRUE2 : db(this, "Invalid true started with t" + sa); continue; case Ia.TRUE2: if ("" === sa) continue; "u" === sa ? this.state = Ia.TRUE3 : db(this, "Invalid true started with tr" + sa); continue; case Ia.TRUE3: if ("" === sa) continue; "e" === sa ? (hb(this, "onvalue", !0), this.state = this.stack.pop() ||
                                                        Ia.VALUE) : db(this, "Invalid true started with tru" + sa); continue; case Ia.FALSE: if ("" === sa) continue; "a" === sa ? this.state = Ia.FALSE2 : db(this, "Invalid false started with f" + sa); continue; case Ia.FALSE2: if ("" === sa) continue; "l" === sa ? this.state = Ia.FALSE3 : db(this, "Invalid false started with fa" + sa); continue; case Ia.FALSE3: if ("" === sa) continue; "s" === sa ? this.state = Ia.FALSE4 : db(this, "Invalid false started with fal" + sa); continue; case Ia.FALSE4: if ("" === sa) continue; "e" === sa ? (hb(this, "onvalue", !1), this.state = this.stack.pop() ||
                                                            Ia.VALUE) : db(this, "Invalid false started with fals" + sa); continue; case Ia.NULL: if ("" === sa) continue; "u" === sa ? this.state = Ia.NULL2 : db(this, "Invalid null started with n" + sa); continue; case Ia.NULL2: if ("" === sa) continue; "l" === sa ? this.state = Ia.NULL3 : db(this, "Invalid null started with nu" + sa); continue; case Ia.NULL3: if ("" === sa) continue; "l" === sa ? (hb(this, "onvalue", null), this.state = this.stack.pop() || Ia.VALUE) : db(this, "Invalid null started with nul" + sa); continue; case Ia.NUMBER_DECIMAL_POINT: "." === sa ? (this.numberNode +=
                                                                sa, this.state = Ia.NUMBER_DIGIT) : db(this, "Leading zero not followed by ."); continue; case Ia.NUMBER_DIGIT: -1 !== "0123456789".indexOf(sa) ? this.numberNode += sa : "." === sa ? (-1 !== this.numberNode.indexOf(".") && db(this, "Invalid number has two dots"), this.numberNode += sa) : "e" === sa || "E" === sa ? (-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || db(this, "Invalid number has two exponential"), this.numberNode += sa) : "+" === sa || "-" === sa ? ("e" !== ka && "E" !== ka && db(this, "Invalid symbol in number"), this.numberNode +=
                                                                    sa) : (this.numberNode && hb(this, "onvalue", parseFloat(this.numberNode)), this.numberNode = "", this.index--, this.state = this.stack.pop() || Ia.VALUE); continue; default: db(this, "Unknown state: " + this.state)
                                    }
                                } if (this.position >= this.bufferCheckPosition) {
                                    Ca = Math.max(Zb.MAX_BUFFER_LENGTH, 10); ka = sa = 0; for (ea = kb.length; ka < ea; ka++) { fa = this[kb[ka]].length; if (fa > Ca) switch (kb[ka]) { case "text": break; default: db(this, "Max buffer length exceeded: " + kb[ka]) }sa = Math.max(sa, fa) } this.bufferCheckPosition = Zb.MAX_BUFFER_LENGTH - sa +
                                        this.position
                                } return this
                            }, resume: function () { this.error = null; return this }, close: function () { return this.write(null) }
                        }
            })(); var De, Ee; (function () {
                function ib(kb, Ia) { Ia || (Ia = kb.length); return kb.reduce(function (Oa, Sa, Ca) { return Ca < Ia ? Oa + String.fromCharCode(Sa) : Oa }, "") } for (var hb = {}, gb = 0; 256 > gb; ++gb) { var db = ib([gb]); hb[db] = gb } var lb = Object.keys(hb).length, ob = []; for (gb = 0; 256 > gb; ++gb)ob[gb] = [gb]; De = function (kb, Ia) {
                    function Oa(wa, ta) {
                        for (; 0 < ta;) {
                            if (fa >= ea.length) return !1; if (ta > ma) {
                                var xa = wa; xa >>>= ta - ma; ea[fa] |=
                                    xa & 255; ta -= ma; ma = 8; ++fa
                            } else ta <= ma && (xa = wa, xa <<= ma - ta, xa &= 255, xa >>>= 8 - ma, ea[fa] |= xa & 255, ma -= ta, ta = 0, 0 == ma && (ma = 8, ++fa))
                        } return !0
                    } for (var Sa in hb) Ia[Sa] = hb[Sa]; for (var Ca = lb, sa = [], ka = 8, ea = new Uint8Array(kb.length), fa = 0, ma = 8, ja = 0; ja < kb.length; ++ja) { var V = kb[ja]; sa.push(V); Sa = ib(sa); var ba = Ia[Sa]; if (!ba) { sa = ib(sa, sa.length - 1); if (!Oa(Ia[sa], ka)) return null; 0 != Ca >> ka && ++ka; Ia[Sa] = Ca++; sa = [V] } } return 0 < sa.length && (Sa = ib(sa), ba = Ia[Sa], !Oa(ba, ka)) ? null : ea.subarray(0, 8 > ma ? fa + 1 : fa)
                }; Ee = function (kb) {
                    for (var Ia =
                        ob.slice(), Oa = 0, Sa = 0, Ca = 8, sa = new Uint8Array(Math.ceil(1.5 * kb.length)), ka = 0, ea, fa = []; Oa < kb.length && !(8 * (kb.length - Oa) - Sa < Ca);) { for (var ma = ea = 0; ma < Ca;) { var ja = Math.min(Ca - ma, 8 - Sa), V = kb[Oa]; V <<= Sa; V &= 255; V >>>= 8 - ja; ma += ja; Sa += ja; 8 == Sa && (Sa = 0, ++Oa); ea |= (V & 255) << Ca - ma } ma = Ia[ea]; 0 == fa.length ? ++Ca : (ma ? fa.push(ma[0]) : fa.push(fa[0]), Ia[Ia.length] = fa, fa = [], Ia.length == 1 << Ca && ++Ca, ma || (ma = Ia[ea])); ea = ka + ma.length; ea >= sa.length && (ja = new Uint8Array(Math.ceil(1.5 * ea)), ja.set(sa), sa = ja); sa.set(ma, ka); ka = ea; fa = fa.concat(ma) } return sa.subarray(0,
                            ka)
                }
            })(); var Mb, Nb, Mc, Fe, vd, Ge, He, Vd, Ma; (function () {
                Mb = "utf-8"; Nb = 9007199254740992; var ib = Mc = { GZIP: "GZIP", LZW: "LZW" }; Object.freeze(Mc); Fe = function (db) { for (var lb = [ib.GZIP, ib.LZW], ob = 0; ob < lb.length && 0 < db.length; ++ob)for (var kb = lb[ob], Ia = 0; Ia < db.length; ++Ia)if (db[Ia] == kb) return kb; return null }; var hb = vd = { AES_CBC_PKCS5Padding: "AES/CBC/PKCS5Padding", AESWrap: "AESWrap", RSA_ECB_PKCS1Padding: "RSA/ECB/PKCS1Padding" }; Object.freeze(vd); Ge = function (db) {
                    return hb.AES_CBC_PKCS5Padding == db ? hb.AES_CBC_PKCS5Padding :
                        hb.RSA_ECB_PKCS1Padding == db ? hb.RSA_ECB_PKCS1Padding : hb[db]
                }; var gb = He = { HmacSHA256: "HmacSHA256", SHA256withRSA: "SHA256withRSA" }; Object.freeze(He); Vd = function (db) { return gb[db] }; Ma = { FAIL: 1, TRANSIENT_FAILURE: 2, ENTITY_REAUTH: 3, USER_REAUTH: 4, KEYX_REQUIRED: 5, ENTITYDATA_REAUTH: 6, USERDATA_REAUTH: 7, EXPIRED: 8, REPLAYED: 9, SSOTOKEN_REJECTED: 10 }; Object.freeze(Ma)
            })(); var Cb = {
                isObjectLiteral: function (ib) { return null !== ib && "object" === typeof ib && ib.constructor === Object }, extendDeep: function () {
                    var ib = arguments[0], hb =
                        1, gb = arguments.length, db = !1, lb, ob; "boolean" === typeof ib && (db = ib, ib = arguments[1], hb = 2); for (; hb < gb; hb++)if (null != (lb = arguments[hb])) for (ob in lb) if (!(db && ob in ib)) { var kb = lb[ob]; if (ib !== kb && kb !== Bb) { var Ia = ib[ob]; ib[ob] = null !== Ia && null !== kb && "object" === typeof Ia && "object" === typeof kb ? Cb.extendDeep(db, {}, Ia, kb) : kb } } return ib
                }
            }; (function () {
                function ib(Oa, Sa) { return function () { var Ca = Oa.base; Oa.base = Sa; var sa = Oa.apply(this, arguments); Oa.base = Ca; return sa } } function hb(Oa, Sa, Ca) {
                    var sa; Ca = Ca || Ia; var ka =
                        !!Ca.extendAll; for (sa in Sa) { var ea = Sa.__lookupGetter__(sa); var fa = Sa.__lookupSetter__(sa); ea || fa ? (ea && Oa.__defineGetter__(sa, ea), fa && Oa.__defineSetter__(sa, fa)) : (ea = Sa[sa], fa = Oa[sa], "function" === typeof ea && "function" === typeof fa && ea !== fa ? (ea.base !== Function.prototype.base && (ea = ib(ea, fa)), ea.base = fa) : (ka || Ca[sa]) && Cb.isObjectLiteral(ea) && Cb.isObjectLiteral(fa) && (ea = Cb.extendDeep({}, fa, ea)), Oa[sa] = ea) }
                } function gb() {
                    var Oa = Array.prototype.slice, Sa = Oa.call(arguments, 1); return this.extend({
                        init: function sa() {
                            var ka =
                                Oa.call(arguments, 0); sa.base.apply(this, Sa.concat(ka))
                        }
                    })
                } function db(Oa, Sa) { var Ca = new this(kb); hb(Ca, Oa, Sa); return ob(Ca) } function lb(Oa, Sa) { hb(this.prototype, Oa, Sa); return this } function ob(Oa) { var Sa = function () { var Ca = this.init; Ca && arguments[0] !== kb && Ca.apply(this, arguments) }; Oa && (Sa.prototype = Oa); Sa.prototype.constructor = Sa; Sa.extend = db; Sa.bind = gb; Sa.mixin = lb; return Sa } var kb = {}, Ia = { actions: !0 }; Function.prototype.base = function () { }; Cb.Class = {
                    create: ob, mixin: hb, extend: function (Oa, Sa) {
                        var Ca = ob();
                        Ca.prototype = new Oa; return Ca.extend(Sa)
                    }
                }; Cb.mixin = function () { Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()"); hb.apply(null, arguments) }
            })(); (function () {
                function ib(Sa, Ca) { return function () { var sa = Sa.base; Sa.base = Ca; var ka = Sa.apply(this, arguments); Sa.base = sa; return ka } } function hb(Sa, Ca, sa) {
                    var ka; sa = sa || Ia; var ea = !!sa.extendAll; for (ka in Ca) {
                        var fa = Ca.__lookupGetter__(ka); var ma = Ca.__lookupSetter__(ka); fa || ma ? (fa && Sa.__defineGetter__(ka, fa), ma &&
                            Sa.__defineSetter__(ka, ma)) : (fa = Ca[ka], ma = Sa[ka], "function" === typeof fa && "function" === typeof ma && fa !== ma ? (fa.base !== Oa && (fa = ib(fa, ma)), fa.base = ma) : (ea || sa[ka]) && Cb.isObjectLiteral(fa) && Cb.isObjectLiteral(ma) && (fa = Cb.extendDeep({}, ma, fa)), Sa[ka] = fa)
                    }
                } function gb() { var Sa = Array.prototype.slice, Ca = Sa.call(arguments, 1); return this.extend({ init: function ka() { var ea = Sa.call(arguments, 0); ka.base.apply(this, Ca.concat(ea)) } }) } function db(Sa, Ca) { var sa = new this(kb); hb(sa, Sa, Ca); return ob(sa) } function lb(Sa,
                    Ca) { hb(this.prototype, Sa, Ca); return this } function ob(Sa) { var Ca = function () { var sa = this.init; sa && arguments[0] !== kb && sa.apply(this, arguments) }; Sa && (Ca.prototype = Sa); Ca.prototype.constructor = Ca; Ca.extend = db; Ca.bind = gb; Ca.mixin = lb; return Ca } var kb = {}, Ia = { actions: !0 }, Oa = function () { }; Function.prototype.base = Oa; Cb.Class = { create: ob, mixin: hb, extend: function (Sa, Ca) { var sa = ob(); sa.prototype = new Sa; return sa.extend(Ca) } }; Cb.mixin = function () {
                        Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");
                        hb.apply(null, arguments)
                    }
            })(); var jd; (function () {
                function ib(gb) { return gb == Nb ? 1 : gb + 1 } function hb(gb) { if (0 === Object.keys(gb._waiters).length) return 0; for (var db = ib(gb._nextWaiter); !gb._waiters[db];)db = ib(db); return db } jd = Cb.Class.create({
                    init: function () {
                        Object.defineProperties(this, {
                            _queue: { value: [], writable: !1, enumerable: !1, configurable: !1 }, _waiters: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, _nextWaiter: { value: 0, writable: !0, enumerable: !1, configurable: !1 }, _lastWaiter: {
                                value: 0, writable: !0,
                                enumerable: !1, configurable: !1
                            }
                        })
                    }, cancel: function (gb) { if (this._waiters[gb]) { var db = this._waiters[gb]; delete this._waiters[gb]; gb == this._nextWaiter && (this._nextWaiter = hb(this)); db.call(this, Bb) } }, cancelAll: function () { for (; 0 !== this._nextWaiter;)this.cancel(this._nextWaiter) }, poll: function (gb, db) {
                        var lb = this, ob = ib(this._lastWaiter); this._lastWaiter = ob; fb(db, function () {
                            if (0 < this._queue.length) { var kb = this._queue.shift(); setTimeout(function () { db.result(kb) }, 0) } else {
                                var Ia; -1 != gb && (Ia = setTimeout(function () {
                                    delete lb._waiters[ob];
                                    ob == lb._nextWaiter && (lb._nextWaiter = hb(lb)); db.timeout()
                                }, gb)); this._waiters[ob] = function (Oa) { clearTimeout(Ia); setTimeout(function () { db.result(Oa) }, 0) }; this._nextWaiter || (this._nextWaiter = ob)
                            }
                        }, lb); return ob
                    }, add: function (gb) { if (this._nextWaiter) { var db = this._waiters[this._nextWaiter]; delete this._waiters[this._nextWaiter]; this._nextWaiter = hb(this); db.call(this, gb) } else this._queue.push(gb) }
                })
            })(); var Ie; (function () {
                var ib = 0 - Nb; Ie = Cb.Class.create({
                    nextBoolean: function () {
                        var hb = new Uint8Array(1); Fc.getRandomValues(hb);
                        return hb[0] & 1 ? !0 : !1
                    }, nextInt: function (hb) { if (null !== hb && hb !== Bb) { if ("number" !== typeof hb) throw new TypeError("n must be of type number"); if (1 > hb) throw new RangeError("n must be greater than zero"); --hb; var gb = new Uint8Array(4); Fc.getRandomValues(gb); return Math.floor(((gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0]) / 2147483648 * (hb - 0 + 1)) } hb = new Uint8Array(4); Fc.getRandomValues(hb); gb = (hb[3] & 127) << 24 | hb[2] << 16 | hb[1] << 8 | hb[0]; return hb[3] & 128 ? -gb : gb }, nextLong: function () {
                        for (var hb = ib; hb == ib;) {
                            hb = new Uint8Array(7);
                            Fc.getRandomValues(hb); var gb = 16777216 * ((hb[6] & 31) << 24 | hb[5] << 16 | hb[4] << 8 | hb[3]) + (hb[2] << 16 | hb[1] << 8 | hb[0]); hb = hb[6] & 128 ? -gb - 1 : gb
                        } return hb
                    }, nextBytes: function (hb) { Fc.getRandomValues(hb) }
                })
            })(); var Wd; (function () {
                function ib(db) { return db == Nb ? 1 : db + 1 } function hb(db) { if (0 === Object.keys(db._waitingReaders).length) return 0; for (var lb = ib(db._nextReader); !db._waitingReaders[lb];)lb = ib(lb); return lb } function gb(db) {
                    if (0 === Object.keys(db._waitingWriters).length) return 0; for (var lb = ib(db._nextWriter); !db._waitingWriters[lb];)lb =
                        ib(lb); return lb
                } Wd = Cb.Class.create({
                    init: function () {
                        Object.defineProperties(this, {
                            _readers: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, _waitingReaders: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, _writer: { value: null, writable: !0, enumerable: !1, configurable: !1 }, _waitingWriters: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, _nextReader: { value: 0, writable: !0, enumerable: !1, configurable: !1 }, _nextWriter: { value: 0, writable: !0, enumerable: !1, configurable: !1 }, _lastNumber: {
                                value: 0, writable: !0,
                                enumerable: !1, configurable: !1
                            }
                        })
                    }, cancel: function (db) { if (this._waitingReaders[db]) { var lb = this._waitingReaders[db]; delete this._waitingReaders[db]; db == this._nextReader && (this._nextReader = hb(this)); lb.call(this, !0) } this._waitingWriters[db] && (lb = this._waitingWriters[db], delete this._waitingWriters[db], db == this._nextWriter && (this._nextWriter = gb(this)), lb.call(this, !0)) }, cancelAll: function () { for (; 0 !== this._nextWriter;)this.cancel(this._nextWriter); for (; 0 !== this._nextReader;)this.cancel(this._nextReader) },
                    readLock: function (db, lb) {
                        var ob = this, kb = ib(this._lastNumber); this._lastNumber = kb; fb(lb, function () {
                            if (!this._writer && 0 === Object.keys(this._waitingWriters).length) return this._readers[kb] = !0, kb; var Ia; -1 != db && (Ia = setTimeout(function () { delete ob._waitingReaders[kb]; kb == ob._nextReader && (ob._nextReader = hb(ob)); lb.timeout() }, db)); this._waitingReaders[kb] = function (Oa) { clearTimeout(Ia); Oa ? setTimeout(function () { lb.result(Bb) }, 0) : (ob._readers[kb] = !0, setTimeout(function () { lb.result(kb) }, 0)) }; this._nextReader ||
                                (this._nextReader = kb)
                        }, ob); return kb
                    }, writeLock: function (db, lb) {
                        var ob = this, kb = ib(this._lastNumber); this._lastNumber = kb; fb(lb, function () {
                            if (0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer) return this._writer = kb; var Ia; -1 != db && (Ia = setTimeout(function () { delete ob._waitingWriters[kb]; kb == ob._nextWriter && (ob._nextWriter = gb(ob)); lb.timeout() }, db)); this._waitingWriters[kb] = function (Oa) {
                                clearTimeout(Ia); Oa ? setTimeout(function () { lb.result(Bb) }, 0) : (ob._writer =
                                    kb, setTimeout(function () { lb.result(kb) }, 0))
                            }; this._nextWriter || (this._nextWriter = kb)
                        }, ob); return kb
                    }, unlock: function (db) {
                        if (db == this._writer) this._writer = null; else { if (!this._readers[db]) throw new vb("There is no reader or writer with ticket number " + db + "."); delete this._readers[db] } if (this._nextWriter) 0 < Object.keys(this._readers).length || (db = this._waitingWriters[this._nextWriter], delete this._waitingWriters[this._nextWriter], this._nextWriter = gb(this), db.call(this, !1)); else {
                            for (var lb = this._nextReader; 0 <
                                Object.keys(this._waitingReaders).length; lb = ib(lb))this._waitingReaders[lb] && (db = this._waitingReaders[lb], delete this._waitingReaders[lb], db.call(this, !1)); this._nextReader = 0
                        }
                    }
                })
            })(); Cb.Class.mixin(W, {
                JSON_PARSE_ERROR: new W(0, Ma.FAIL, "Error parsing JSON."), JSON_ENCODE_ERROR: new W(1, Ma.FAIL, "Error encoding JSON."), ENVELOPE_HASH_MISMATCH: new W(2, Ma.FAIL, "Computed hash does not match envelope hash."), INVALID_PUBLIC_KEY: new W(3, Ma.FAIL, "Invalid public key provided."), INVALID_PRIVATE_KEY: new W(4, Ma.FAIL,
                    "Invalid private key provided."), PLAINTEXT_ILLEGAL_BLOCK_SIZE: new W(5, Ma.FAIL, "Plaintext is not a multiple of the block size."), PLAINTEXT_BAD_PADDING: new W(6, Ma.FAIL, "Plaintext contains incorrect padding."), CIPHERTEXT_ILLEGAL_BLOCK_SIZE: new W(7, Ma.FAIL, "Ciphertext is not a multiple of the block size."), CIPHERTEXT_BAD_PADDING: new W(8, Ma.FAIL, "Ciphertext contains incorrect padding."), ENCRYPT_NOT_SUPPORTED: new W(9, Ma.FAIL, "Encryption not supported."), DECRYPT_NOT_SUPPORTED: new W(10, Ma.FAIL, "Decryption not supported."),
                ENVELOPE_KEY_ID_MISMATCH: new W(11, Ma.FAIL, "Encryption envelope key ID does not match crypto context key ID."), CIPHERTEXT_ENVELOPE_PARSE_ERROR: new W(12, Ma.FAIL, "Error parsing ciphertext envelope."), CIPHERTEXT_ENVELOPE_ENCODE_ERROR: new W(13, Ma.FAIL, "Error encoding ciphertext envelope."), SIGN_NOT_SUPPORTED: new W(14, Ma.FAIL, "Sign not supported."), VERIFY_NOT_SUPPORTED: new W(15, Ma.FAIL, "Verify not suppoprted."), SIGNATURE_ERROR: new W(16, Ma.FAIL, "Signature not initialized or unable to process data/signature."),
                HMAC_ERROR: new W(17, Ma.FAIL, "Error computing HMAC."), ENCRYPT_ERROR: new W(18, Ma.FAIL, "Error encrypting plaintext."), DECRYPT_ERROR: new W(19, Ma.FAIL, "Error decrypting ciphertext."), INSUFFICIENT_CIPHERTEXT: new W(20, Ma.FAIL, "Insufficient ciphertext for decryption."), SESSION_KEY_CREATION_FAILURE: new W(21, Ma.FAIL, "Error when creating session keys."), ASN1_PARSE_ERROR: new W(22, Ma.FAIL, "Error parsing ASN.1."), ASN1_ENCODE_ERROR: new W(23, Ma.FAIL, "Error encoding ASN.1."), INVALID_SYMMETRIC_KEY: new W(24, Ma.FAIL,
                    "Invalid symmetric key provided."), INVALID_ENCRYPTION_KEY: new W(25, Ma.FAIL, "Invalid encryption key."), INVALID_HMAC_KEY: new W(26, Ma.FAIL, "Invalid HMAC key."), WRAP_NOT_SUPPORTED: new W(27, Ma.FAIL, "Wrap not supported."), UNWRAP_NOT_SUPPORTED: new W(28, Ma.FAIL, "Unwrap not supported."), UNIDENTIFIED_JWK_TYPE: new W(29, Ma.FAIL, "Unidentified JSON web key type."), UNIDENTIFIED_JWK_USAGE: new W(30, Ma.FAIL, "Unidentified JSON web key usage."), UNIDENTIFIED_JWK_ALGORITHM: new W(31, Ma.FAIL, "Unidentified JSON web key algorithm."),
                WRAP_ERROR: new W(32, Ma.FAIL, "Error wrapping plaintext."), UNWRAP_ERROR: new W(33, Ma.FAIL, "Error unwrapping ciphertext."), INVALID_JWK: new W(34, Ma.FAIL, "Invalid JSON web key."), INVALID_JWK_KEYDATA: new W(35, Ma.FAIL, "Invalid JSON web key keydata."), UNSUPPORTED_JWK_ALGORITHM: new W(36, Ma.FAIL, "Unsupported JSON web key algorithm."), WRAP_KEY_CREATION_FAILURE: new W(37, Ma.FAIL, "Error when creating wrapping key."), INVALID_WRAP_CIPHERTEXT: new W(38, Ma.FAIL, "Invalid wrap ciphertext."), UNSUPPORTED_JWE_ALGORITHM: new W(39,
                    Ma.FAIL, "Unsupported JSON web encryption algorithm."), JWE_ENCODE_ERROR: new W(40, Ma.FAIL, "Error encoding JSON web encryption header."), JWE_PARSE_ERROR: new W(41, Ma.FAIL, "Error parsing JSON web encryption header."), INVALID_ALGORITHM_PARAMS: new W(42, Ma.FAIL, "Invalid algorithm parameters."), JWE_ALGORITHM_MISMATCH: new W(43, Ma.FAIL, "JSON web encryption header algorithms mismatch."), KEY_IMPORT_ERROR: new W(44, Ma.FAIL, "Error importing key."), KEY_EXPORT_ERROR: new W(45, Ma.FAIL, "Error exporting key."), DIGEST_ERROR: new W(46,
                        Ma.FAIL, "Error in digest."), UNSUPPORTED_KEY: new W(47, Ma.FAIL, "Unsupported key type or algorithm."), UNSUPPORTED_JWE_SERIALIZATION: new W(48, Ma.FAIL, "Unsupported JSON web encryption serialization."), XML_PARSE_ERROR: new W(49, Ma.FAIL, "Error parsing XML."), XML_ENCODE_ERROR: new W(50, Ma.FAIL, "Error encoding XML."), INVALID_WRAPPING_KEY: new W(51, Ma.FAIL, "Invalid wrapping key."), UNIDENTIFIED_CIPHERTEXT_ENVELOPE: new W(52, Ma.FAIL, "Unidentified ciphertext envelope version."), UNIDENTIFIED_SIGNATURE_ENVELOPE: new W(53,
                            Ma.FAIL, "Unidentified signature envelope version."), UNSUPPORTED_CIPHERTEXT_ENVELOPE: new W(54, Ma.FAIL, "Unsupported ciphertext envelope version."), UNSUPPORTED_SIGNATURE_ENVELOPE: new W(55, Ma.FAIL, "Unsupported signature envelope version."), UNIDENTIFIED_CIPHERSPEC: new W(56, Ma.FAIL, "Unidentified cipher specification."), UNIDENTIFIED_ALGORITHM: new W(57, Ma.FAIL, "Unidentified algorithm."), SIGNATURE_ENVELOPE_PARSE_ERROR: new W(58, Ma.FAIL, "Error parsing signature envelope."), SIGNATURE_ENVELOPE_ENCODE_ERROR: new W(59,
                                Ma.FAIL, "Error encoding signature envelope."), INVALID_SIGNATURE: new W(60, Ma.FAIL, "Invalid signature."), WRAPKEY_FINGERPRINT_NOTSUPPORTED: new W(61, Ma.FAIL, "Wrap key fingerprint not supported"), UNIDENTIFIED_JWK_KEYOP: new W(62, Ma.FAIL, "Unidentified JSON web key key operation."), MASTERTOKEN_UNTRUSTED: new W(1E3, Ma.ENTITY_REAUTH, "Master token is not trusted."), MASTERTOKEN_KEY_CREATION_ERROR: new W(1001, Ma.ENTITY_REAUTH, "Unable to construct symmetric keys from master token."), MASTERTOKEN_EXPIRES_BEFORE_RENEWAL: new W(1002,
                                    Ma.ENTITY_REAUTH, "Master token expiration timestamp is before the renewal window opens."), MASTERTOKEN_SESSIONDATA_MISSING: new W(1003, Ma.ENTITY_REAUTH, "No master token session data found."), MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE: new W(1004, Ma.ENTITY_REAUTH, "Master token sequence number is out of range."), MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new W(1005, Ma.ENTITY_REAUTH, "Master token serial number is out of range."), MASTERTOKEN_TOKENDATA_INVALID: new W(1006, Ma.ENTITY_REAUTH, "Invalid master token data."),
                MASTERTOKEN_SIGNATURE_INVALID: new W(1007, Ma.ENTITY_REAUTH, "Invalid master token signature."), MASTERTOKEN_SESSIONDATA_INVALID: new W(1008, Ma.ENTITY_REAUTH, "Invalid master token session data."), MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC: new W(1009, Ma.ENTITY_REAUTH, "Master token sequence number does not have the expected value."), MASTERTOKEN_TOKENDATA_MISSING: new W(1010, Ma.ENTITY_REAUTH, "No master token data found."), MASTERTOKEN_TOKENDATA_PARSE_ERROR: new W(1011, Ma.ENTITY_REAUTH, "Error parsing master token data."),
                MASTERTOKEN_SESSIONDATA_PARSE_ERROR: new W(1012, Ma.ENTITY_REAUTH, "Error parsing master token session data."), MASTERTOKEN_IDENTITY_REVOKED: new W(1013, Ma.ENTITY_REAUTH, "Master token entity identity is revoked."), MASTERTOKEN_REJECTED_BY_APP: new W(1014, Ma.ENTITY_REAUTH, "Master token is rejected by the application."), USERIDTOKEN_MASTERTOKEN_MISMATCH: new W(2E3, Ma.USER_REAUTH, "User ID token master token serial number does not match master token serial number."), USERIDTOKEN_NOT_DECRYPTED: new W(2001, Ma.USER_REAUTH,
                    "User ID token is not decrypted or verified."), USERIDTOKEN_MASTERTOKEN_NULL: new W(2002, Ma.USER_REAUTH, "User ID token requires a master token."), USERIDTOKEN_EXPIRES_BEFORE_RENEWAL: new W(2003, Ma.USER_REAUTH, "User ID token expiration timestamp is before the renewal window opens."), USERIDTOKEN_USERDATA_MISSING: new W(2004, Ma.USER_REAUTH, "No user ID token user data found."), USERIDTOKEN_MASTERTOKEN_NOT_FOUND: new W(2005, Ma.USER_REAUTH, "User ID token is bound to an unknown master token."), USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new W(2006,
                        Ma.USER_REAUTH, "User ID token master token serial number is out of range."), USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new W(2007, Ma.USER_REAUTH, "User ID token serial number is out of range."), USERIDTOKEN_TOKENDATA_INVALID: new W(2008, Ma.USER_REAUTH, "Invalid user ID token data."), USERIDTOKEN_SIGNATURE_INVALID: new W(2009, Ma.USER_REAUTH, "Invalid user ID token signature."), USERIDTOKEN_USERDATA_INVALID: new W(2010, Ma.USER_REAUTH, "Invalid user ID token user data."), USERIDTOKEN_IDENTITY_INVALID: new W(2011, Ma.USER_REAUTH,
                            "Invalid user ID token user identity."), RESERVED_2012: new W(2012, Ma.USER_REAUTH, "The entity is not associated with the user."), USERIDTOKEN_IDENTITY_NOT_FOUND: new W(2013, Ma.USER_REAUTH, "The user identity was not found."), USERIDTOKEN_PASSWORD_VERSION_CHANGED: new W(2014, Ma.USER_REAUTH, "The user identity must be reauthenticated because the password version changed."), USERIDTOKEN_USERAUTH_DATA_MISMATCH: new W(2015, Ma.USER_REAUTH, "The user ID token and user authentication data user identities do not match."),
                USERIDTOKEN_TOKENDATA_MISSING: new W(2016, Ma.USER_REAUTH, "No user ID token data found."), USERIDTOKEN_TOKENDATA_PARSE_ERROR: new W(2017, Ma.USER_REAUTH, "Error parsing user ID token data."), USERIDTOKEN_USERDATA_PARSE_ERROR: new W(2018, Ma.USER_REAUTH, "Error parsing user ID token user data."), USERIDTOKEN_REVOKED: new W(2019, Ma.USER_REAUTH, "User ID token is revoked."), USERIDTOKEN_REJECTED_BY_APP: new W(2020, Ma.USER_REAUTH, "User ID token is rejected by the application."), SERVICETOKEN_MASTERTOKEN_MISMATCH: new W(3E3,
                    Ma.FAIL, "Service token master token serial number does not match master token serial number."), SERVICETOKEN_USERIDTOKEN_MISMATCH: new W(3001, Ma.FAIL, "Service token user ID token serial number does not match user ID token serial number."), SERVICETOKEN_SERVICEDATA_INVALID: new W(3002, Ma.FAIL, "Service token data invalid."), SERVICETOKEN_MASTERTOKEN_NOT_FOUND: new W(3003, Ma.FAIL, "Service token is bound to an unknown master token."), SERVICETOKEN_USERIDTOKEN_NOT_FOUND: new W(3004, Ma.FAIL, "Service token is bound to an unknown user ID token."),
                SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new W(3005, Ma.FAIL, "Service token master token serial number is out of range."), SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE: new W(3006, Ma.FAIL, "Service token user ID token serial number is out of range."), SERVICETOKEN_TOKENDATA_INVALID: new W(3007, Ma.FAIL, "Invalid service token data."), SERVICETOKEN_SIGNATURE_INVALID: new W(3008, Ma.FAIL, "Invalid service token signature."), SERVICETOKEN_TOKENDATA_MISSING: new W(3009, Ma.FAIL, "No service token data found."),
                UNIDENTIFIED_ENTITYAUTH_SCHEME: new W(4E3, Ma.FAIL, "Unable to identify entity authentication scheme."), ENTITYAUTH_FACTORY_NOT_FOUND: new W(4001, Ma.FAIL, "No factory registered for entity authentication scheme."), X509CERT_PARSE_ERROR: new W(4002, Ma.ENTITYDATA_REAUTH, "Error parsing X.509 certificate data."), X509CERT_ENCODE_ERROR: new W(4003, Ma.ENTITYDATA_REAUTH, "Error encoding X.509 certificate data."), X509CERT_VERIFICATION_FAILED: new W(4004, Ma.ENTITYDATA_REAUTH, "X.509 certificate verification failed."),
                ENTITY_NOT_FOUND: new W(4005, Ma.FAIL, "Entity not recognized."), INCORRECT_ENTITYAUTH_DATA: new W(4006, Ma.FAIL, "Entity used incorrect entity authentication data type."), RSA_PUBLICKEY_NOT_FOUND: new W(4007, Ma.ENTITYDATA_REAUTH, "RSA public key not found."), NPTICKET_GRACE_PERIOD_EXCEEDED: new W(4008, Ma.ENTITYDATA_REAUTH, "Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."), NPTICKET_SERVICE_ID_MISSING: new W(4009, Ma.ENTITYDATA_REAUTH, "NP-Ticket service ID is missing."),
                NPTICKET_SERVICE_ID_DISALLOWED: new W(4010, Ma.ENTITYDATA_REAUTH, "NP-Ticket service ID is not allowed."), NPTICKET_NOT_YET_VALID: new W(4011, Ma.ENTITYDATA_REAUTH, "NP-Ticket issuance date is in the future."), NPTICKET_EXPIRED: new W(4012, Ma.ENTITYDATA_REAUTH, "NP-Ticket has expired."), NPTICKET_PRIVATE_KEY_NOT_FOUND: new W(4013, Ma.ENTITYDATA_REAUTH, "No private key found for NP-Ticket GUID."), NPTICKET_COOKIE_VERIFICATION_FAILED: new W(4014, Ma.ENTITYDATA_REAUTH, "NP-Ticket cookie signature verification failed."),
                NPTICKET_INCORRECT_COOKIE_VERSION: new W(4015, Ma.ENTITYDATA_REAUTH, "Incorrect NP-Ticket cookie version."), NPTICKET_BROKEN: new W(4016, Ma.ENTITYDATA_REAUTH, "NP-Ticket broken."), NPTICKET_VERIFICATION_FAILED: new W(4017, Ma.ENTITYDATA_REAUTH, "NP-Ticket signature verification failed."), NPTICKET_ERROR: new W(4018, Ma.ENTITYDATA_REAUTH, "Unknown NP-Ticket TCM error."), NPTICKET_CIPHER_INFO_NOT_FOUND: new W(4019, Ma.ENTITYDATA_REAUTH, "No cipher information found for NP-Ticket."), NPTICKET_INVALID_CIPHER_INFO: new W(4020,
                    Ma.ENTITYDATA_REAUTH, "Cipher information for NP-Ticket is invalid."), NPTICKET_UNSUPPORTED_VERSION: new W(4021, Ma.ENTITYDATA_REAUTH, "Unsupported NP-Ticket version."), NPTICKET_INCORRECT_KEY_LENGTH: new W(4022, Ma.ENTITYDATA_REAUTH, "Incorrect NP-Ticket public key length."), UNSUPPORTED_ENTITYAUTH_DATA: new W(4023, Ma.FAIL, "Unsupported entity authentication data."), CRYPTEX_RSA_KEY_SET_NOT_FOUND: new W(4024, Ma.FAIL, "Cryptex RSA key set not found."), ENTITY_REVOKED: new W(4025, Ma.FAIL, "Entity is revoked."), ENTITY_REJECTED_BY_APP: new W(4026,
                        Ma.ENTITYDATA_REAUTH, "Entity is rejected by the application."), FORCE_LOGIN: new W(5E3, Ma.USERDATA_REAUTH, "User must login again."), NETFLIXID_COOKIES_EXPIRED: new W(5001, Ma.USERDATA_REAUTH, "Netflix ID cookie identity has expired."), NETFLIXID_COOKIES_BLANK: new W(5002, Ma.USERDATA_REAUTH, "Netflix ID or Secure Netflix ID cookie is blank."), UNIDENTIFIED_USERAUTH_SCHEME: new W(5003, Ma.FAIL, "Unable to identify user authentication scheme."), USERAUTH_FACTORY_NOT_FOUND: new W(5004, Ma.FAIL, "No factory registered for user authentication scheme."),
                EMAILPASSWORD_BLANK: new W(5005, Ma.USERDATA_REAUTH, "Email or password is blank."), AUTHMGR_COMMS_FAILURE: new W(5006, Ma.TRANSIENT_FAILURE, "Error communicating with authentication manager."), EMAILPASSWORD_INCORRECT: new W(5007, Ma.USERDATA_REAUTH, "Email or password is incorrect."), UNSUPPORTED_USERAUTH_DATA: new W(5008, Ma.FAIL, "Unsupported user authentication data."), SSOTOKEN_BLANK: new W(5009, Ma.SSOTOKEN_REJECTED, "SSO token is blank."), SSOTOKEN_NOT_ASSOCIATED: new W(5010, Ma.USERDATA_REAUTH, "SSO token is not associated with a Netflix user."),
                USERAUTH_USERIDTOKEN_INVALID: new W(5011, Ma.USERDATA_REAUTH, "User authentication data user ID token is invalid."), PROFILEID_BLANK: new W(5012, Ma.USERDATA_REAUTH, "Profile ID is blank."), UNIDENTIFIED_USERAUTH_MECHANISM: new W(5013, Ma.FAIL, "Unable to identify user authentication mechanism."), UNSUPPORTED_USERAUTH_MECHANISM: new W(5014, Ma.FAIL, "Unsupported user authentication mechanism."), SSOTOKEN_INVALID: new W(5015, Ma.SSOTOKEN_REJECTED, "SSO token invalid."), USERAUTH_MASTERTOKEN_MISSING: new W(5016, Ma.USERDATA_REAUTH,
                    "User authentication required master token is missing."), ACCTMGR_COMMS_FAILURE: new W(5017, Ma.TRANSIENT_FAILURE, "Error communicating with the account manager."), SSO_ASSOCIATION_FAILURE: new W(5018, Ma.TRANSIENT_FAILURE, "SSO user association failed."), SSO_DISASSOCIATION_FAILURE: new W(5019, Ma.TRANSIENT_FAILURE, "SSO user disassociation failed."), MDX_USERAUTH_VERIFICATION_FAILED: new W(5020, Ma.USERDATA_REAUTH, "MDX user authentication data verification failed."), USERAUTH_USERIDTOKEN_NOT_DECRYPTED: new W(5021,
                        Ma.USERDATA_REAUTH, "User authentication data user ID token is not decrypted or verified."), MDX_USERAUTH_ACTION_INVALID: new W(5022, Ma.USERDATA_REAUTH, "MDX user authentication data action is invalid."), CTICKET_DECRYPT_ERROR: new W(5023, Ma.USERDATA_REAUTH, "CTicket decryption failed."), USERAUTH_MASTERTOKEN_INVALID: new W(5024, Ma.USERDATA_REAUTH, "User authentication data master token is invalid."), USERAUTH_MASTERTOKEN_NOT_DECRYPTED: new W(5025, Ma.USERDATA_REAUTH, "User authentication data master token is not decrypted or verified."),
                CTICKET_CRYPTOCONTEXT_ERROR: new W(5026, Ma.USERDATA_REAUTH, "Error creating CTicket crypto context."), MDX_PIN_BLANK: new W(5027, Ma.USERDATA_REAUTH, "MDX controller or target PIN is blank."), MDX_PIN_MISMATCH: new W(5028, Ma.USERDATA_REAUTH, "MDX controller and target PIN mismatch."), MDX_USER_UNKNOWN: new W(5029, Ma.USERDATA_REAUTH, "MDX controller user ID token or CTicket is not decrypted or verified."), USERAUTH_USERIDTOKEN_MISSING: new W(5030, Ma.USERDATA_REAUTH, "User authentication required user ID token is missing."),
                MDX_CONTROLLERDATA_INVALID: new W(5031, Ma.USERDATA_REAUTH, "MDX controller authentication data is invalid."), USERAUTH_ENTITY_MISMATCH: new W(5032, Ma.USERDATA_REAUTH, "User authentication data does not match entity identity."), USERAUTH_INCORRECT_DATA: new W(5033, Ma.FAIL, "Entity used incorrect key request data type"), SSO_ASSOCIATION_WITH_NONMEMBER: new W(5034, Ma.USERDATA_REAUTH, "SSO user association failed because the customer is not a member."), SSO_ASSOCIATION_WITH_FORMERMEMBER: new W(5035, Ma.USERDATA_REAUTH,
                    "SSO user association failed because the customer is a former member."), SSO_ASSOCIATION_CONFLICT: new W(5036, Ma.USERDATA_REAUTH, "SSO user association failed because the token identifies a different member."), USER_REJECTED_BY_APP: new W(5037, Ma.USERDATA_REAUTH, "User is rejected by the application."), PROFILE_SWITCH_DISALLOWED: new W(5038, Ma.TRANSIENT_FAILURE, "Unable to switch user profile."), MEMBERSHIPCLIENT_COMMS_FAILURE: new W(5039, Ma.TRANSIENT_FAILURE, "Error communicating with the membership manager."),
                USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY: new W(5040, Ma.USER_REAUTH, "The entity is not associated with the user."), UNSUPPORTED_COMPRESSION: new W(6E3, Ma.FAIL, "Unsupported compression algorithm."), COMPRESSION_ERROR: new W(6001, Ma.FAIL, "Error compressing data."), UNCOMPRESSION_ERROR: new W(6002, Ma.FAIL, "Error uncompressing data."), MESSAGE_ENTITY_NOT_FOUND: new W(6003, Ma.FAIL, "Message header entity authentication data or master token not found."), PAYLOAD_MESSAGE_ID_MISMATCH: new W(6004, Ma.FAIL, "Payload chunk message ID does not match header message ID ."),
                PAYLOAD_SEQUENCE_NUMBER_MISMATCH: new W(6005, Ma.FAIL, "Payload chunk sequence number does not match expected sequence number."), PAYLOAD_VERIFICATION_FAILED: new W(6006, Ma.FAIL, "Payload chunk payload signature verification failed."), MESSAGE_DATA_MISSING: new W(6007, Ma.FAIL, "No message data found."), MESSAGE_FORMAT_ERROR: new W(6008, Ma.FAIL, "Malformed message data."), MESSAGE_VERIFICATION_FAILED: new W(6009, Ma.FAIL, "Message header/error data signature verification failed."), HEADER_DATA_MISSING: new W(6010, Ma.FAIL,
                    "No header data found."), PAYLOAD_DATA_MISSING: new W(6011, Ma.FAIL, "No payload data found in non-EOM payload chunk."), PAYLOAD_DATA_CORRUPT: new W(6012, Ma.FAIL, "Corrupt payload data found in non-EOM payload chunk."), UNIDENTIFIED_COMPRESSION: new W(6013, Ma.FAIL, "Unidentified compression algorithm."), MESSAGE_EXPIRED: new W(6014, Ma.EXPIRED, "Message expired and not renewable. Rejected."), MESSAGE_ID_OUT_OF_RANGE: new W(6015, Ma.FAIL, "Message ID is out of range."), INTERNAL_CODE_NEGATIVE: new W(6016, Ma.FAIL, "Error header internal code is negative."),
                UNEXPECTED_RESPONSE_MESSAGE_ID: new W(6017, Ma.FAIL, "Unexpected response message ID. Possible replay."), RESPONSE_REQUIRES_ENCRYPTION: new W(6018, Ma.KEYX_REQUIRED, "Message response requires encryption."), PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE: new W(6019, Ma.FAIL, "Payload chunk sequence number is out of range."), PAYLOAD_MESSAGE_ID_OUT_OF_RANGE: new W(6020, Ma.FAIL, "Payload chunk message ID is out of range."), MESSAGE_REPLAYED: new W(6021, Ma.REPLAYED, "Non-replayable message replayed."), INCOMPLETE_NONREPLAYABLE_MESSAGE: new W(6022,
                    Ma.FAIL, "Non-replayable message sent non-renewable or without key request data or without a master token."), HEADER_SIGNATURE_INVALID: new W(6023, Ma.FAIL, "Invalid Header signature."), HEADER_DATA_INVALID: new W(6024, Ma.FAIL, "Invalid header data."), PAYLOAD_INVALID: new W(6025, Ma.FAIL, "Invalid payload."), PAYLOAD_SIGNATURE_INVALID: new W(6026, Ma.FAIL, "Invalid payload signature."), RESPONSE_REQUIRES_MASTERTOKEN: new W(6027, Ma.KEYX_REQUIRED, "Message response requires a master token."), RESPONSE_REQUIRES_USERIDTOKEN: new W(6028,
                        Ma.USER_REAUTH, "Message response requires a user ID token."), REQUEST_REQUIRES_USERAUTHDATA: new W(6029, Ma.FAIL, "User-associated message requires user authentication data."), UNEXPECTED_MESSAGE_SENDER: new W(6030, Ma.FAIL, "Message sender is equal to the local entity or not the master token entity."), NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN: new W(6031, Ma.FAIL, "Non-replayable message requires a master token."), NONREPLAYABLE_ID_OUT_OF_RANGE: new W(6032, Ma.FAIL, "Non-replayable message non-replayable ID is out of range."),
                MESSAGE_SERVICETOKEN_MISMATCH: new W(6033, Ma.FAIL, "Service token master token or user ID token serial number does not match the message token serial numbers."), MESSAGE_PEER_SERVICETOKEN_MISMATCH: new W(6034, Ma.FAIL, "Peer service token master token or user ID token serial number does not match the message peer token serial numbers."), RESPONSE_REQUIRES_INTEGRITY_PROTECTION: new W(6035, Ma.KEYX_REQUIRED, "Message response requires integrity protection."), HANDSHAKE_DATA_MISSING: new W(6036, Ma.FAIL, "Handshake message is not renewable or does not contain key request data."),
                MESSAGE_RECIPIENT_MISMATCH: new W(6037, Ma.FAIL, "Message recipient does not match local identity."), UNIDENTIFIED_KEYX_SCHEME: new W(7E3, Ma.FAIL, "Unable to identify key exchange scheme."), KEYX_FACTORY_NOT_FOUND: new W(7001, Ma.FAIL, "No factory registered for key exchange scheme."), KEYX_REQUEST_NOT_FOUND: new W(7002, Ma.FAIL, "No key request found matching header key response data."), UNIDENTIFIED_KEYX_KEY_ID: new W(7003, Ma.FAIL, "Unable to identify key exchange key ID."), UNSUPPORTED_KEYX_KEY_ID: new W(7004, Ma.FAIL,
                    "Unsupported key exchange key ID."), UNIDENTIFIED_KEYX_MECHANISM: new W(7005, Ma.FAIL, "Unable to identify key exchange mechanism."), UNSUPPORTED_KEYX_MECHANISM: new W(7006, Ma.FAIL, "Unsupported key exchange mechanism."), KEYX_RESPONSE_REQUEST_MISMATCH: new W(7007, Ma.FAIL, "Key exchange response does not match request."), KEYX_PRIVATE_KEY_MISSING: new W(7008, Ma.FAIL, "Key exchange private key missing."), UNKNOWN_KEYX_PARAMETERS_ID: new W(7009, Ma.FAIL, "Key exchange parameters ID unknown or invalid."), KEYX_MASTER_TOKEN_MISSING: new W(7010,
                        Ma.FAIL, "Master token required for key exchange is missing."), KEYX_INVALID_PUBLIC_KEY: new W(7011, Ma.FAIL, "Key exchange public key is invalid."), KEYX_PUBLIC_KEY_MISSING: new W(7012, Ma.FAIL, "Key exchange public key missing."), KEYX_WRAPPING_KEY_MISSING: new W(7013, Ma.FAIL, "Key exchange wrapping key missing."), KEYX_WRAPPING_KEY_ID_MISSING: new W(7014, Ma.FAIL, "Key exchange wrapping key ID missing."), KEYX_INVALID_WRAPPING_KEY: new W(7015, Ma.FAIL, "Key exchange wrapping key is invalid."), KEYX_INCORRECT_DATA: new W(7016,
                            Ma.FAIL, "Entity used incorrect wrapping key data type"), CRYPTEX_ENCRYPTION_ERROR: new W(8E3, Ma.FAIL, "Error encrypting data with cryptex."), CRYPTEX_DECRYPTION_ERROR: new W(8001, Ma.FAIL, "Error decrypting data with cryptex."), CRYPTEX_MAC_ERROR: new W(8002, Ma.FAIL, "Error computing MAC with cryptex."), CRYPTEX_VERIFY_ERROR: new W(8003, Ma.FAIL, "Error verifying MAC with cryptex."), CRYPTEX_CONTEXT_CREATION_FAILURE: new W(8004, Ma.FAIL, "Error creating cryptex cipher or MAC context."), DATAMODEL_DEVICE_ACCESS_ERROR: new W(8005,
                                Ma.TRANSIENT_FAILURE, "Error accessing data model device."), DATAMODEL_DEVICETYPE_NOT_FOUND: new W(8006, Ma.FAIL, "Data model device type not found."), CRYPTEX_KEYSET_UNSUPPORTED: new W(8007, Ma.FAIL, "Cryptex key set not supported."), CRYPTEX_PRIVILEGE_EXCEPTION: new W(8008, Ma.FAIL, "Insufficient privileges for cryptex operation."), CRYPTEX_WRAP_ERROR: new W(8009, Ma.FAIL, "Error wrapping data with cryptex."), CRYPTEX_UNWRAP_ERROR: new W(8010, Ma.FAIL, "Error unwrapping data with cryptex."), CRYPTEX_COMMS_FAILURE: new W(8011,
                                    Ma.TRANSIENT_FAILURE, "Error comunicating with cryptex."), CRYPTEX_SIGN_ERROR: new W(8012, Ma.FAIL, "Error computing signature with cryptex."), INTERNAL_EXCEPTION: new W(9E3, Ma.TRANSIENT_FAILURE, "Internal exception."), MSL_COMMS_FAILURE: new W(9001, Ma.FAIL, "Error communicating with MSL entity."), NONE: new W(9999, Ma.FAIL, "Special unit test error.")
            }); Object.freeze(W); var eb; (function () {
                eb = Cb.Class.create(Error()); eb.mixin({
                    init: function (ib, hb, gb) {
                        function db() {
                            return ob ? ob : this.cause && this.cause instanceof eb ?
                                this.cause.messageId : Bb
                        } Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); var lb = ib.message; hb && (lb += " [" + hb + "]"); var ob, kb = this.stack; Object.defineProperties(this, {
                            message: { value: lb, writable: !1, configurable: !0 }, error: { value: ib, writable: !1, configurable: !0 }, cause: { value: gb, writable: !1, configurable: !0 }, name: { value: "MslException", writable: !1, configurable: !0 }, masterToken: { value: null, writable: !0, configurable: !1 }, entityAuthenticationData: { value: null, writable: !0, configurable: !1 }, userIdToken: {
                                value: null,
                                writable: !0, configurable: !1
                            }, userAuthenticationData: { value: null, writable: !0, configurable: !1 }, messageId: { get: db, set: function (Ia) { if (0 > Ia || Ia > Nb) throw new RangeError("Message ID " + Ia + " is outside the valid range."); db() || (ob = Ia) }, configurable: !0 }, stack: { get: function () { var Ia = this.toString(); kb && (Ia += "\n" + kb); gb && gb.stack && (Ia += "\nCaused by " + gb.stack); return Ia }, configurable: !0 }
                        })
                    }, setEntity: function (ib) {
                        !ib || this.masterToken || this.entityAuthenticationData || (ib instanceof ic ? this.masterToken = ib : ib instanceof
                            Nc && (this.entityAuthenticationData = ib)); return this
                    }, setUser: function (ib) { !ib || this.userIdToken || this.userAuthenticationData || (ib instanceof ad ? this.userIdToken = ib : ib instanceof Gc && (this.userAuthenticationData = ib)); return this }, setMessageId: function (ib) { this.messageId = ib; return this }, toString: function () { return this.name + ": " + this.message }
                })
            })(); var tb = eb.extend({ init: function lb(hb, gb, db) { lb.base.call(this, hb, gb, db); Object.defineProperties(this, { name: { value: "MslCryptoException", writable: !1, configurable: !0 } }) } }),
                yb = eb.extend({ init: function ob(gb, db, lb) { ob.base.call(this, gb, db, lb); Object.defineProperties(this, { name: { value: "MslEncodingException", writable: !1, configurable: !0 } }) } }), xc = eb.extend({ init: function kb(db, lb, ob) { kb.base.call(this, db, lb, ob); Object.defineProperties(this, { name: { value: "MslEntityAuthException", writable: !1, configurable: !0 } }) } }), kc; (function () {
                    kc = Cb.Class.create(Error()); kc.mixin({
                        init: function (db, lb, ob) {
                            Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); var kb = this.stack;
                            Object.defineProperties(this, { message: { value: db, writable: !1, configurable: !1 }, cause: { value: lb, writable: !1, configurable: !1 }, requestCause: { value: ob, writable: !1, configurable: !1 }, name: { value: "MslErrorResponseException", writable: !1, configurable: !0 }, stack: { get: function () { var Ia = this.toString(); kb && (Ia += "\n" + kb); lb && lb.stack && (Ia += "\nCaused by " + lb.stack); return Ia }, configurable: !0 } })
                        }, toString: function () { return this.name + ": " + this.message }
                    })
                })(); var Vb; (function () {
                    Vb = Cb.Class.create(Error()); Vb.mixin({
                        init: function (db,
                            lb) { Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); var ob = this.stack; Object.defineProperties(this, { message: { value: db, writable: !1, configurable: !1 }, cause: { value: lb, writable: !1, configurable: !1 }, name: { value: "MslIoException", writable: !1, configurable: !0 }, stack: { get: function () { var kb = this.toString(); ob && (kb += "\n" + ob); lb && lb.stack && (kb += "\nCaused by " + lb.stack); return kb }, configurable: !0 } }) }, toString: function () { return this.name + ": " + this.message }
                    })
                })(); var vb; (function () {
                    vb = Cb.Class.create(Error());
                    vb.mixin({ init: function (db, lb) { Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); var ob = this.stack; Object.defineProperties(this, { message: { value: db, writable: !1, configurable: !1 }, cause: { value: lb, writable: !1, configurable: !1 }, name: { value: "MslInternalException", writable: !1, configurable: !0 }, stack: { get: function () { var kb = this.toString(); ob && (kb += "\n" + ob); lb && lb.stack && (kb += "\nCaused by " + lb.stack); return kb }, configurable: !0 } }) }, toString: function () { return this.name + ": " + this.message } })
                })();
        var $b; (function () {
            $b = Cb.Class.create(Error()); $b.mixin({
                init: function (db, lb) { Error.captureStackTrace && Error.captureStackTrace(this, this.constructor); var ob = this.stack; Object.defineProperties(this, { message: { value: db, writable: !1, configurable: !1 }, cause: { value: lb, writable: !1, configurable: !1 }, name: { value: "MslInterruptedException", writable: !1, configurable: !0 }, stack: { get: function () { var kb = this.toString(); ob && (kb += "\n" + ob); lb && lb.stack && (kb += "\nCaused by " + lb.stack); return kb }, configurable: !0 } }) }, toString: function () {
                    return this.name +
                        ": " + this.message
                }
            })
        })(); var Pb = eb.extend({ init: function Ia(lb, ob, kb) { Ia.base.call(this, lb, ob, kb); Object.defineProperties(this, { name: { value: "MslKeyExchangeException", writable: !1, configurable: !0 } }) } }), Oc = eb.extend({ init: function Ia(ob, kb) { Ia.base.call(this, ob); Object.defineProperties(this, { masterToken: { value: kb, writable: !1, configurable: !1 }, name: { value: "MslMasterTokenException", writable: !1, configurable: !0 } }) } }), Ib = eb.extend({
            init: function Sa(kb, Ia, Oa) {
                Sa.base.call(this, kb, Ia, Oa); Object.defineProperties(this,
                    { name: { value: "MslMessageException", writable: !1, configurable: !0 } })
            }
        }), Hb = eb.extend({ init: function Ca(Ia, Oa, Sa) { Ca.base.call(this, Ia, Oa, Sa); Object.defineProperties(this, { name: { value: "MslUserAuthException", writable: !1, configurable: !0 } }) } }), Kb, cc, wd; (function () {
            function Ia(ka) { return "undefined" === typeof ka ? !1 : ka } function Oa(ka) {
                return ka && ka.length ? (cc === sa.V2014_02 && (ka = ka.map(function (ea) { return "wrap" == ea ? "wrapKey" : "unwrap" == ea ? "unwrapKey" : ea })), ka) : cc === sa.V2014_02 ? "encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" ") :
                    "encrypt decrypt sign verify deriveKey wrap unwrap".split(" ")
            } function Sa(ka, ea, fa, ma, ja) { return Promise.resolve().then(function () { return Qb.importKey(ka, ea, fa, ma, ja) }).catch(function (V) { if ("spki" !== ka && "pkcs8" !== ka) throw V; V = ASN1.webCryptoAlgorithmToJwkAlg(fa); var ba = ASN1.webCryptoUsageToJwkKeyOps(ja); V = ASN1.rsaDerToJwk(ea, V, ba, ma); if (!V) throw Error("Could not make valid JWK from DER input"); V = JSON.stringify(V); return Qb.importKey("jwk", Qd(V), fa, ma, ja) }) } function Ca(ka, ea) {
                return Promise.resolve().then(function () {
                    return Qb.exportKey(ka,
                        ea)
                }).catch(function (fa) { if ("spki" !== ka && "pkcs8" !== ka) throw fa; return Qb.exportKey("jwk", ea).then(function (ma) { ma = JSON.parse(Pd(new Uint8Array(ma))); ma = ASN1.jwkToRsaDer(ma); if (!ma) throw Error("Could not make valid DER from JWK input"); return ma.getDer().buffer }) })
            } var sa = wd = {
                LEGACY: 1,
                V2014_01: 2,
                V2014_02: 3,
                LATEST: 3
            };
            Object.freeze(wd);
            cc = sa.LATEST;
            Kb = {
                encrypt: function(ka, ea, fa) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(ma, ja) {
                                var V = Qb.encrypt(ka, ea, fa);
                                V.oncomplete = function(ba) {
                                    ma(ba.target.result)
                                };
                                V.onerror = function(ba) {
                                    ja(ba)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.encrypt(ka, ea, fa).then(function(ma) {
                                return new Uint8Array(ma)
                            });
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                decrypt: function(ka, ea, fa) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(ma, ja) {
                                var V = Qb.decrypt(ka, ea, fa);
                                V.oncomplete = function(ba) {
                                    ma(ba.target.result)
                                };
                                V.onerror = function(ba) {
                                    ja(ba)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.decrypt(ka, ea, fa).then(function(ma) {
                                return new Uint8Array(ma)
                            });
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                sign: function(ka, ea, fa) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(ma, ja) {
                                var V = Qb.sign(ka, ea, fa);
                                V.oncomplete = function(ba) {
                                    ma(ba.target.result)
                                };
                                V.onerror = function(ba) {
                                    ja(ba)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.sign(ka, ea, fa).then(function(ma) {
                                return new Uint8Array(ma)
                            });
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                verify: function(ka, ea, fa, ma) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(ja,
                                V) {
                                var ba = Qb.verify(ka, ea, fa, ma);
                                ba.oncomplete = function(wa) {
                                    ja(wa.target.result)
                                };
                                ba.onerror = function(wa) {
                                    V(wa)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.verify(ka, ea, fa, ma);
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                digest: function(ka, ea) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(fa, ma) {
                                var ja = Qb.digest(ka, ea);
                                ja.oncomplete = function(V) {
                                    fa(V.target.result)
                                };
                                ja.onerror = function(V) {
                                    ma(V)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.digest(ka,
                                ea).then(function(fa) {
                                return new Uint8Array(fa)
                            });
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                generateKey: function(ka, ea, fa) {
                    var ma = Ia(ea),
                        ja = Oa(fa);
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(V, ba) {
                                var wa = Qb.generateKey(ka, ma, ja);
                                wa.oncomplete = function(ta) {
                                    V(ta.target.result)
                                };
                                wa.onerror = function(ta) {
                                    ba(ta)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.generateKey(ka, ma, ja);
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                deriveKey: function(ka, ea, fa, ma, ja) {
                    var V = Ia(ma),
                        ba = Oa(ja);
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(wa, ta) {
                                var xa = Qb.deriveKey(ka, ea, fa, V, ba);
                                xa.oncomplete = function(Ea) {
                                    wa(Ea.target.result)
                                };
                                xa.onerror = function(Ea) {
                                    ta(Ea)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.deriveKey(ka, ea, fa, V, ba);
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                importKey: function(ka, ea, fa, ma, ja) {
                    var V = Ia(ma),
                        ba = Oa(ja);
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(wa,
                                ta) {
                                var xa = Qb.importKey(ka, ea, fa, V, ba);
                                xa.oncomplete = function(Ea) {
                                    wa(Ea.target.result)
                                };
                                xa.onerror = function(Ea) {
                                    ta(Ea)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Sa(ka, ea, fa, V, ba);
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                exportKey: function(ka, ea) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(fa, ma) {
                                var ja = Qb.exportKey(ka, ea);
                                ja.oncomplete = function(V) {
                                    fa(V.target.result)
                                };
                                ja.onerror = function(V) {
                                    ma(V)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Ca(ka,
                                ea).then(function(fa) {
                                return new Uint8Array(fa)
                            });
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                },
                wrapKey: function(ka, ea, fa, ma) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(ja, V) {
                                var ba = Qb.wrapKey(ea, fa, ma);
                                ba.oncomplete = function(wa) {
                                    ja(wa.target.result)
                                };
                                ba.onerror = function(wa) {
                                    V(wa)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.wrapKey(ka, ea, fa, ma).then(function(ja) {
                                return new Uint8Array(ja)
                            });
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION +
                                ".");
                    }
                },
                unwrapKey: function(ka, ea, fa, ma, ja, V, ba) {
                    switch (cc) {
                        case sa.LEGACY:
                            return new Promise(function(wa, ta) {
                                var xa = Qb.unwrapKey(ea, ja, fa);
                                xa.oncomplete = function(Ea) {
                                    wa(Ea.target.result)
                                };
                                xa.onerror = function(Ea) {
                                    ta(Ea)
                                }
                            });
                        case sa.V2014_01:
                        case sa.V2014_02:
                            return Qb.unwrapKey(ka, ea, fa, ma, ja, Ia(V), Oa(ba));
                        default:
                            throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                    }
                }
            }; ud && ud.getKeyByName && (Kb.getKeyByName = function (ka) {
                switch (cc) {
                    case sa.LEGACY: return new Promise(function (ea, fa) {
                        var ma =
                            ud.getKeyByName(ka); ma.oncomplete = function (ja) { ea(ja.target.result) }; ma.onerror = function (ja) { fa(ja) }
                    }); case sa.V2014_01: case sa.V2014_02: return ud.getKeyByName(ka); default: throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");
                }
            }); ub.netflix = ub.netflix || {}; ub.netflix.crypto = Kb
        })(); var yc = { name: "AES-KW" }, rc = { name: "AES-CBC" }, sc = { name: "HMAC", hash: { name: "SHA-256" } }, xd = { name: "RSA-OAEP", hash: { name: "SHA-1" } }, Xd = { name: "RSAES-PKCS1-v1_5" }, Je = { name: "RSASSA-PKCS1-v1_5", hash: { name: "SHA-256" } },
            Hc = ["encrypt", "decrypt"], Ic = ["wrap", "unwrap"], Pc = ["sign", "verify"], Yd, Zc, zc; (function () {
                Yd = Cb.Class.create({
                    init: function (Ia, Oa, Sa) {
                        function Ca(ka) { Na(Oa, function () { var ea = ka ? Eb(ka) : Bb; Object.defineProperties(sa, { rawKey: { value: Ia, writable: !1, configurable: !1 }, keyData: { value: ka, writable: !1, configurable: !1 }, keyDataB64: { value: ea, writable: !1, configurable: !1 } }); return this }, sa) } var sa = this; Na(Oa, function () {
                            if (!Ia || "object" != typeof Ia) throw new tb(W.INVALID_SYMMETRIC_KEY); !Sa && Ia.extractable ? Kb.exportKey("raw",
                                Ia).then(function (ka) { Ca(new Uint8Array(ka)) }, function (ka) { Oa.error(new tb(W.KEY_EXPORT_ERROR, "raw")) }) : Ca(Sa)
                        }, sa)
                    }, size: function () { return this.keyData.length }, toByteArray: function () { return this.keyData }, toBase64: function () { return this.keyDataB64 }
                }); Zc = function (Ia, Oa) { new Yd(Ia, Oa) }; zc = function (Ia, Oa, Sa, Ca) { Na(Ca, function () { try { Ia = "string" == typeof Ia ? Gb(Ia) : Ia } catch (sa) { throw new tb(W.INVALID_SYMMETRIC_KEY, "keydata " + Ia, sa); } Kb.importKey("raw", Ia, Oa, !0, Sa).then(function (sa) { new Yd(sa, Ca, Ia) }, function (sa) { Ca.error(new tb(W.INVALID_SYMMETRIC_KEY)) }) }) }
            })();
        var yd, Lc, Zd; (function () {
            yd = Cb.Class.create({
                init: function (Ia, Oa, Sa) {
                    function Ca(ka) { Na(Oa, function () { Object.defineProperties(sa, { rawKey: { value: Ia, writable: !1, configurable: !1 }, encoded: { value: ka, writable: !1, configurable: !1 } }); return this }, sa) } var sa = this; Na(Oa, function () {
                        if (!Ia || "object" != typeof Ia || "public" != Ia.type) throw new TypeError("Only original public crypto keys are supported."); !Sa && Ia.extractable ? Kb.exportKey("spki", Ia).then(function (ka) { Ca(new Uint8Array(ka)) }, function (ka) {
                            Oa.error(new tb(W.KEY_EXPORT_ERROR,
                                "spki"))
                        }) : Ca(Sa)
                    })
                }, getEncoded: function () { return this.encoded }
            }); Lc = function (Ia, Oa) { new yd(Ia, Oa) }; Zd = function (Ia, Oa, Sa, Ca) { Na(Ca, function () { try { Ia = "string" == typeof Ia ? Gb(Ia) : Ia } catch (sa) { throw new tb(W.INVALID_PUBLIC_KEY, "spki " + Ia, sa); } Kb.importKey("spki", Ia, Oa, !0, Sa).then(function (sa) { new yd(sa, Ca, Ia) }, function (sa) { Ca.error(new tb(W.INVALID_PUBLIC_KEY)) }) }) }
        })(); var Ke, $c; (function () {
            Ke = Cb.Class.create({
                init: function (Ia, Oa, Sa) {
                    function Ca(ka) {
                        Na(Oa, function () {
                            Object.defineProperties(sa, {
                                rawKey: {
                                    value: Ia,
                                    writable: !1, configurable: !1
                                }, encoded: { value: ka, writable: !1, configurable: !1 }
                            }); return this
                        }, sa)
                    } var sa = this; Na(Oa, function () { if (!Ia || "object" != typeof Ia || "private" != Ia.type) throw new TypeError("Only original private crypto keys are supported."); !Sa && Ia.extractable ? Kb.exportKey("pkcs8", Ia).then(function (ka) { Ca(new Uint8Array(ka)) }, function (ka) { Oa.error(new tb(W.KEY_EXPORT_ERROR, "pkcs8")) }) : Ca(Sa) })
                }, getEncoded: function () { return this.encoded }
            }); $c = function (Ia, Oa) { new Ke(Ia, Oa) }
        })(); var $d, ae, be, ce; (function () {
            var Ia =
                ce = { V1: 1, V2: 2 }; $d = Cb.Class.create({
                    init: function (Oa, Sa, Ca, sa) { Na(sa, function () { var ka = Ia.V1, ea = Oa, fa = null, ma; for (ma in vd) if (vd[ma] == Oa) { ka = Ia.V2; ea = null; fa = Oa; break } Object.defineProperties(this, { version: { value: ka, writable: !1, enumerable: !1, configurable: !1 }, keyId: { value: ea, writable: !1, configurable: !1 }, cipherSpec: { value: fa, writable: !1, configurable: !1 }, iv: { value: Sa, writable: !1, configurable: !1 }, ciphertext: { value: Ca, writable: !1, configurable: !1 } }); return this }, this) }, toJSON: function () {
                        var Oa = {}; switch (this.version) {
                            case Ia.V1: Oa.keyid =
                                this.keyId; this.iv && (Oa.iv = Eb(this.iv)); Oa.ciphertext = Eb(this.ciphertext); Oa.sha256 = "AA=="; break; case Ia.V2: Oa.version = this.version; Oa.cipherspec = this.cipherSpec; this.iv && (Oa.iv = Eb(this.iv)); Oa.ciphertext = Eb(this.ciphertext); break; default: throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");
                        }return Oa
                    }
                }); ae = function (Oa, Sa, Ca, sa) { new $d(Oa, Sa, Ca, sa) }; be = function (Oa, Sa, Ca) {
                    Na(Ca, function () {
                        var sa = Oa.keyid, ka = Oa.cipherspec, ea = Oa.iv, fa = Oa.ciphertext, ma = Oa.sha256; if (!Sa) if ((Sa =
                            Oa.version) && "number" === typeof Sa && Sa === Sa) { var ja = !1; for (V in Ia) if (Ia[V] == Sa) { ja = !0; break } if (!ja) throw new tb(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE, "ciphertext envelope " + JSON.stringify(Oa)); } else Sa = Ia.V1; switch (Sa) {
                                case Ia.V1: if ("string" !== typeof sa || ea && "string" !== typeof ea || "string" !== typeof fa || "string" !== typeof ma) throw new yb(W.JSON_PARSE_ERROR, "ciphertext envelope " + JSON.stringify(Oa)); break; case Ia.V2: var V = Oa.version; if (V != Ia.V2) throw new tb(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE, "ciphertext envelope " +
                                    JSON.stringify(Oa)); if ("string" !== typeof ka || ea && "string" !== typeof ea || "string" !== typeof fa) throw new yb(W.JSON_PARSE_ERROR, "ciphertext envelope " + JSON.stringify(Oa)); ka = Ge(ka); if (!ka) throw new tb(W.UNIDENTIFIED_CIPHERSPEC, "ciphertext envelope " + JSON.stringify(Oa)); sa = ka; break; default: throw new tb(W.UNSUPPORTED_CIPHERTEXT_ENVELOPE, "ciphertext envelope " + JSON.stringify(Oa));
                            }try { ea && (ea = Gb(ea)), fa = Gb(fa) } catch (ba) {
                                throw new tb(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR, "encryption envelope " + JSON.stringify(Oa),
                                    ba);
                            } new $d(sa, ea, fa, Ca)
                    })
                }
        })(); var Ac, de, ee, fe; (function () {
            var Ia = fe = { V1: 1, V2: 2 }; Ac = Cb.Class.create({
                init: function (Oa, Sa, Ca) {
                    switch (Oa) { case Ia.V1: var sa = Ca; break; case Ia.V2: sa = {}; sa.version = Oa; sa.algorithm = Sa; sa.signature = Eb(Ca); sa = Rb(JSON.stringify(sa), Mb); break; default: throw new vb("Signature envelope version " + Oa + " encoding unsupported."); }Object.defineProperties(this, {
                        version: { value: Oa, writable: !1, enumerable: !1, configurable: !1 }, algorithm: { value: Sa, writable: !1, configurable: !1 }, signature: {
                            value: Ca,
                            writable: !1, configurable: !1
                        }, bytes: { value: sa, writable: !1, configurable: !1 }
                    })
                }
            }); de = function () { if (2 == arguments.length) { var Oa = Ia.V1; var Sa = arguments[0]; var Ca = null; var sa = arguments[1] } else 3 == arguments.length && (Oa = Ia.V2, Ca = arguments[0], Sa = arguments[1], sa = arguments[2]); Na(sa, function () { return new Ac(Oa, Ca, Sa) }) }; ee = function (Oa, Sa, Ca) {
                Na(Ca, function () {
                    if (Sa) switch (Sa) {
                        case Ia.V1: return new Ac(Ia.V1, null, Oa); case Ia.V2: try {
                            var sa = Ub(Oa, Mb), ka = JSON.parse(sa), ea = parseInt(ka.version), fa = ka.algorithm, ma = ka.signature;
                            if (!ea || "number" !== typeof ea || ea != ea || "string" !== typeof fa || "string" !== typeof ma) throw new yb(W.JSON_PARSE_ERROR, "signature envelope " + Eb(Oa)); if (Ia.V2 != ea) throw new tb(W.UNSUPPORTED_SIGNATURE_ENVELOPE, "signature envelope " + Eb(Oa)); var ja = Vd(fa); if (!ja) throw new tb(W.UNIDENTIFIED_ALGORITHM, "signature envelope " + Eb(Oa)); var V = Gb(ma); if (!V) throw new tb(W.INVALID_SIGNATURE, "signature envelope " + Base64Util.encode(Oa)); return new Ac(Ia.V2, ja, V)
                        } catch (ba) {
                            if (ba instanceof SyntaxError) throw new yb(W.JSON_PARSE_ERROR,
                                "signature envelope " + Eb(Oa), ba); throw ba;
                        } default: throw new tb(W.UNSUPPORTED_SIGNATURE_ENVELOPE, "signature envelope " + Eb(Oa));
                    }try { sa = Ub(Oa, Mb), ka = JSON.parse(sa) } catch (ba) { ka = null } if (ka && ka.version) { if (sa = ka.version, "number" !== typeof sa || sa !== sa) sa = Ia.V1 } else sa = Ia.V1; switch (sa) {
                        case Ia.V1: return new Ac(sa, null, Oa); case Ia.V2: ja = ka.algorithm; ma = ka.signature; if ("string" !== typeof ja || "string" !== typeof ma) return new Ac(Ia.V1, null, Oa); ja = Vd(ja); if (!ja) return new Ac(Ia.V1, null, Oa); try { V = Gb(ma) } catch (ba) {
                            return new Ac(Ia.V1,
                                null, Oa)
                        } return new Ac(sa, ja, V); default: throw new tb(W.UNSUPPORTED_SIGNATURE_ENVELOPE, "signature envelope " + Oa);
                    }
                })
            }
        })(); var cd = bd.extend({
            encrypt: function(Ia, Oa) {
                Oa.result(Ia)
            },
            decrypt: function(Ia, Oa) {
                Oa.result(Ia)
            },
            wrap: function(Ia, Oa) {
                Oa.result(Ia)
            },
            unwrap: function(Ia, Oa, Sa, Ca) {
                Ca.result(Ia)
            },
            sign: function(Ia, Oa) {
                Oa.result(new Uint8Array(0))
            },
            verify: function(Ia,
                Oa, Sa) {
                Sa.result(!0)
            }
        }),
        zd, Ad;
    (function() {
        var Ia = Ad = {
            ENCRYPT_DECRYPT_OAEP: 1,
            ENCRYPT_DECRYPT_PKCS1: 2,
            WRAP_UNWRAP_OAEP: 3,
            WRAP_UNWRAP_PKCS1: 4,
            SIGN_VERIFY: 5
        };
        zd = bd.extend({
            init: function fa(Sa, Ca, sa, ka, ea) {
                fa.base.call(this);
                sa && (sa = sa.rawKey);
                ka && (ka = ka.rawKey);
                Object.defineProperties(this, {
                    id: {
                        value: Ca,
                        writable: !1,
                        enumerable: !1,
                        configurable: !1
                    },
                    privateKey: {
                        value: sa,
                        writable: !1,
                        enumerable: !1,
                        configurable: !1
                    },
                    publicKey: {
                        value: ka,
                        writable: !1,
                        enumerable: !1,
                        configurable: !1
                    },
                    transform: {
                        value: ea == Ia.ENCRYPT_DECRYPT_PKCS1 ?
                            Xd : ea == Ia.ENCRYPT_DECRYPT_OAEP ? xd : "nullOp",
                        writable: !1,
                        enumerable: !1,
                        configurable: !1
                    },
                    wrapTransform: {
                        value: ea == Ia.WRAP_UNWRAP_PKCS1 ? Xd : ea == Ia.WRAP_UNWRAP_OAEP ? xd : "nullOp",
                        writable: !1,
                        enumerable: !1,
                        configurable: !1
                    },
                    algo: {
                        value: ea == Ia.SIGN_VERIFY ? Je : "nullOp",
                        writable: !1,
                        enumerable: !1,
                        configurable: !1
                    }
                })
            },
            encrypt: function(Sa, Ca) {
                var sa = this;
                Na(Ca, function() {
                    if ("nullOp" == this.transform) return Sa;
                    if (!this.publicKey) throw new tb(W.ENCRYPT_NOT_SUPPORTED, "no public key");
                    if (0 == Sa.length) return Sa;
                    Kb.encrypt(sa.transform,
                        sa.publicKey, Sa).then(function(ka) {
                        ae(sa.id, null, ka, {
                            result: function(ea) {
                                try {
                                    var fa = JSON.stringify(ea);
                                    Ca.result(Rb(fa, Mb))
                                } catch (ma) {
                                    Ca.error(new tb(W.ENCRYPT_ERROR, null, ma))
                                }
                            },
                            error: function(ea) {
                                ea instanceof eb || (ea = new tb(W.ENCRYPT_ERROR, null, ea));
                                Ca.error(ea)
                            }
                        })
                    }, function(ka) {
                        Ca.error(new tb(W.ENCRYPT_ERROR))
                    })
                }, this)
            },
            decrypt: function(Sa, Ca) {
                var sa = this;
                Na(Ca, function() {
                    if ("nullOp" == this.transform) return Sa;
                    if (!this.privateKey) throw new tb(W.DECRYPT_NOT_SUPPORTED, "no private key");
                    if (0 == Sa.length) return Sa;
                    try {
                        var ka = Ub(Sa, Mb);
                        var ea = JSON.parse(ka)
                    } catch (fa) {
                        if (fa instanceof SyntaxError) throw new tb(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR, null, fa);
                        throw new tb(W.DECRYPT_ERROR, null, fa);
                    }
                    be(ea, ce.V1, {
                        result: function(fa) {
                            try {
                                if (fa.keyId != sa.id) throw new tb(W.ENVELOPE_KEY_ID_MISMATCH);
                                var ma = Ca.result;
                                Kb.decrypt(sa.transform, sa.privateKey, fa.ciphertext).then(ma, function(ja) {
                                    Ca.error(new tb(W.DECRYPT_ERROR))
                                })
                            } catch (ja) {
                                ja instanceof eb ? Ca.error(ja) : Ca.error(new tb(W.DECRYPT_ERROR, null, ja))
                            }
                        },
                        error: function(fa) {
                            fa instanceof
                            yb && (fa = new tb(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR, null, fa));
                            fa instanceof eb || (fa = new tb(W.DECRYPT_ERROR, null, fa));
                            Ca.error(fa)
                        }
                    })
                }, this)
            },
            wrap: function(Sa, Ca) {
                Na(Ca, function() {
                    if ("nullOp" == this.wrapTransform || !this.publicKey) throw new tb(W.WRAP_NOT_SUPPORTED, "no public key");
                    var sa = Ca.result;
                    Kb.wrapKey("jwk", Sa.rawKey, this.publicKey, this.wrapTransform).then(sa, function(ka) {
                        Ca.error(new tb(W.WRAP_ERROR))
                    })
                }, this)
            },
            unwrap: function(Sa, Ca, sa, ka) {
                function ea(fa) {
                    Na(ka, function() {
                        switch (fa.type) {
                            case "secret":
                                Zc(fa,
                                    ka);
                                break;
                            case "public":
                                Lc(fa, ka);
                                break;
                            case "private":
                                $c(fa, ka);
                                break;
                            default:
                                throw new tb(W.UNSUPPORTED_KEY, "type: " + fa.type);
                        }
                    })
                }
                Na(ka, function() {
                    if ("nullOp" == this.wrapTransform || !this.privateKey) throw new tb(W.UNWRAP_NOT_SUPPORTED, "no private key");
                    Kb.unwrapKey("jwk", Sa, this.privateKey, {
                        name: this.privateKey.algorithm.name,
                        hash: {
                            name: "SHA-1"
                        }
                    }, Ca, !1, sa).then(ea, function(fa) {
                        ka.error(new tb(W.UNWRAP_ERROR))
                    })
                }, this)
            },
            sign: function(Sa, Ca) {
                Na(Ca, function() {
                    if ("nullOp" == this.algo) return new Uint8Array(0);
                    if (!this.privateKey) throw new tb(W.SIGN_NOT_SUPPORTED, "no private key");
                    Kb.sign(this.algo, this.privateKey, Sa).then(function(sa) {
                        de(sa, {
                            result: function(ka) {
                                Ca.result(ka.bytes)
                            },
                            error: Ca.error
                        })
                    }, function(sa) {
                        Ca.error(new tb(W.SIGNATURE_ERROR))
                    })
                }, this)
            },
            verify: function(Sa, Ca, sa) {
                var ka = this;
                Na(sa, function() {
                    if ("nullOp" == this.algo) return !0;
                    if (!this.publicKey) throw new tb(W.VERIFY_NOT_SUPPORTED, "no public key");
                    ee(Ca, fe.V1, {
                        result: function(ea) {
                            Na(sa, function() {
                                var fa = sa.result;
                                Kb.verify(this.algo, this.publicKey,
                                    ea.signature, Sa).then(fa, function(ma) {
                                    sa.error(new tb(W.SIGNATURE_ERROR))
                                })
                            }, ka)
                        },
                        error: sa.error
                    })
                }, this)
            }
        })
    })(); var cd = bd.extend({
        encrypt: function(Ia, Oa) {
            Oa.result(Ia)
        },
        decrypt: function(Ia, Oa) {
            Oa.result(Ia)
        },
        wrap: function(Ia, Oa) {
            Oa.result(Ia)
        },
        unwrap: function(Ia, Oa, Sa, Ca) {
            Ca.result(Ia)
        },
        sign: function(Ia, Oa) {
            Oa.result(new Uint8Array(0))
        },
        verify: function(Ia,
            Oa, Sa) {
            Sa.result(!0)
        }
    }),
    zd, Ad;
(function() {
    var Ia = Ad = {
        ENCRYPT_DECRYPT_OAEP: 1,
        ENCRYPT_DECRYPT_PKCS1: 2,
        WRAP_UNWRAP_OAEP: 3,
        WRAP_UNWRAP_PKCS1: 4,
        SIGN_VERIFY: 5
    };
    zd = bd.extend({
        init: function fa(Sa, Ca, sa, ka, ea) {
            fa.base.call(this);
            sa && (sa = sa.rawKey);
            ka && (ka = ka.rawKey);
            Object.defineProperties(this, {
                id: {
                    value: Ca,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                privateKey: {
                    value: sa,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                publicKey: {
                    value: ka,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                transform: {
                    value: ea == Ia.ENCRYPT_DECRYPT_PKCS1 ?
                        Xd : ea == Ia.ENCRYPT_DECRYPT_OAEP ? xd : "nullOp",
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                wrapTransform: {
                    value: ea == Ia.WRAP_UNWRAP_PKCS1 ? Xd : ea == Ia.WRAP_UNWRAP_OAEP ? xd : "nullOp",
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                algo: {
                    value: ea == Ia.SIGN_VERIFY ? Je : "nullOp",
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                }
            })
        },
        encrypt: function(Sa, Ca) {
            var sa = this;
            Na(Ca, function() {
                if ("nullOp" == this.transform) return Sa;
                if (!this.publicKey) throw new tb(W.ENCRYPT_NOT_SUPPORTED, "no public key");
                if (0 == Sa.length) return Sa;
                Kb.encrypt(sa.transform,
                    sa.publicKey, Sa).then(function(ka) {
                    ae(sa.id, null, ka, {
                        result: function(ea) {
                            try {
                                var fa = JSON.stringify(ea);
                                Ca.result(Rb(fa, Mb))
                            } catch (ma) {
                                Ca.error(new tb(W.ENCRYPT_ERROR, null, ma))
                            }
                        },
                        error: function(ea) {
                            ea instanceof eb || (ea = new tb(W.ENCRYPT_ERROR, null, ea));
                            Ca.error(ea)
                        }
                    })
                }, function(ka) {
                    Ca.error(new tb(W.ENCRYPT_ERROR))
                })
            }, this)
        },
        decrypt: function(Sa, Ca) {
            var sa = this;
            Na(Ca, function() {
                if ("nullOp" == this.transform) return Sa;
                if (!this.privateKey) throw new tb(W.DECRYPT_NOT_SUPPORTED, "no private key");
                if (0 == Sa.length) return Sa;
                try {
                    var ka = Ub(Sa, Mb);
                    var ea = JSON.parse(ka)
                } catch (fa) {
                    if (fa instanceof SyntaxError) throw new tb(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR, null, fa);
                    throw new tb(W.DECRYPT_ERROR, null, fa);
                }
                be(ea, ce.V1, {
                    result: function(fa) {
                        try {
                            if (fa.keyId != sa.id) throw new tb(W.ENVELOPE_KEY_ID_MISMATCH);
                            var ma = Ca.result;
                            Kb.decrypt(sa.transform, sa.privateKey, fa.ciphertext).then(ma, function(ja) {
                                Ca.error(new tb(W.DECRYPT_ERROR))
                            })
                        } catch (ja) {
                            ja instanceof eb ? Ca.error(ja) : Ca.error(new tb(W.DECRYPT_ERROR, null, ja))
                        }
                    },
                    error: function(fa) {
                        fa instanceof
                        yb && (fa = new tb(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR, null, fa));
                        fa instanceof eb || (fa = new tb(W.DECRYPT_ERROR, null, fa));
                        Ca.error(fa)
                    }
                })
            }, this)
        },
        wrap: function(Sa, Ca) {
            Na(Ca, function() {
                if ("nullOp" == this.wrapTransform || !this.publicKey) throw new tb(W.WRAP_NOT_SUPPORTED, "no public key");
                var sa = Ca.result;
                Kb.wrapKey("jwk", Sa.rawKey, this.publicKey, this.wrapTransform).then(sa, function(ka) {
                    Ca.error(new tb(W.WRAP_ERROR))
                })
            }, this)
        },
        unwrap: function(Sa, Ca, sa, ka) {
            function ea(fa) {
                Na(ka, function() {
                    switch (fa.type) {
                        case "secret":
                            Zc(fa,
                                ka);
                            break;
                        case "public":
                            Lc(fa, ka);
                            break;
                        case "private":
                            $c(fa, ka);
                            break;
                        default:
                            throw new tb(W.UNSUPPORTED_KEY, "type: " + fa.type);
                    }
                })
            }
            Na(ka, function() {
                if ("nullOp" == this.wrapTransform || !this.privateKey) throw new tb(W.UNWRAP_NOT_SUPPORTED, "no private key");
                Kb.unwrapKey("jwk", Sa, this.privateKey, {
                    name: this.privateKey.algorithm.name,
                    hash: {
                        name: "SHA-1"
                    }
                }, Ca, !1, sa).then(ea, function(fa) {
                    ka.error(new tb(W.UNWRAP_ERROR))
                })
            }, this)
        },
        sign: function(Sa, Ca) {
            Na(Ca, function() {
                if ("nullOp" == this.algo) return new Uint8Array(0);
                if (!this.privateKey) throw new tb(W.SIGN_NOT_SUPPORTED, "no private key");
                Kb.sign(this.algo, this.privateKey, Sa).then(function(sa) {
                    de(sa, {
                        result: function(ka) {
                            Ca.result(ka.bytes)
                        },
                        error: Ca.error
                    })
                }, function(sa) {
                    Ca.error(new tb(W.SIGNATURE_ERROR))
                })
            }, this)
        },
        verify: function(Sa, Ca, sa) {
            var ka = this;
            Na(sa, function() {
                if ("nullOp" == this.algo) return !0;
                if (!this.publicKey) throw new tb(W.VERIFY_NOT_SUPPORTED, "no public key");
                ee(Ca, fe.V1, {
                    result: function(ea) {
                        Na(sa, function() {
                            var fa = sa.result;
                            Kb.verify(this.algo, this.publicKey,
                                ea.signature, Sa).then(fa, function(ma) {
                                sa.error(new tb(W.SIGNATURE_ERROR))
                            })
                        }, ka)
                    },
                    error: sa.error
                })
            }, this)
        }
    })
})(); var Bd;
(function() {
    Bd = bd.extend({
        init: function ea(Oa, Sa, Ca, sa, ka) {
            ea.base.call(this);
            Ca = Ca && Ca.rawKey;
            sa = sa && sa.rawKey;
            ka = ka && ka.rawKey;
            Object.defineProperties(this, {
                ctx: {
                    value: Oa,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                id: {
                    value: Sa,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                encryptionKey: {
                    value: Ca,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                hmacKey: {
                    value: sa,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                },
                wrapKey: {
                    value: ka,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                }
            })
        },
        encrypt: function(Oa, Sa) {
            var Ca = this;
            Na(Sa, function() {
                if (!this.encryptionKey) throw new tb(W.ENCRYPT_NOT_SUPPORTED, "no encryption/decryption key");
                if (0 == Oa.length) return Oa;
                var sa = new Uint8Array(16);
                this.ctx.getRandom().nextBytes(sa);
                Kb.encrypt({
                    name: rc.name,
                    iv: sa
                }, Ca.encryptionKey, Oa).then(function(ka) {
                    ka = new Uint8Array(ka);
                    ae(Ca.id, sa, ka, {
                        result: function(ea) {
                            try {
                                var fa = JSON.stringify(ea);
                                Sa.result(Rb(fa, Mb))
                            } catch (ma) {
                                Sa.error(new tb(W.ENCRYPT_ERROR,
                                    null, ma))
                            }
                        },
                        error: function(ea) {
                            ea instanceof eb || (ea = new tb(W.ENCRYPT_ERROR, null, ea));
                            Sa.error(ea)
                        }
                    })
                }, function(ka) {
                    Sa.error(new tb(W.ENCRYPT_ERROR))
                })
            }, this)
        },
        decrypt: function(Oa, Sa) {
            var Ca = this;
            Na(Sa, function() {
                if (!this.encryptionKey) throw new tb(W.DECRYPT_NOT_SUPPORTED, "no encryption/decryption key");
                if (0 == Oa.length) return Oa;
                try {
                    var sa = Ub(Oa, Mb);
                    var ka = JSON.parse(sa)
                } catch (ea) {
                    if (ea instanceof SyntaxError) throw new tb(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR, null, ea);
                    throw new tb(W.DECRYPT_ERROR, null,
                        ea);
                }
                be(ka, ce.V1, {
                    result: function(ea) {
                        try {
                            if (ea.keyId != Ca.id) throw new tb(W.ENVELOPE_KEY_ID_MISMATCH);
                            Kb.decrypt({
                                name: rc.name,
                                iv: ea.iv
                            }, Ca.encryptionKey, ea.ciphertext).then(function(fa) {
                                fa = new Uint8Array(fa);
                                Sa.result(fa)
                            }, function() {
                                Sa.error(new tb(W.DECRYPT_ERROR))
                            })
                        } catch (fa) {
                            fa instanceof eb ? Sa.error(fa) : Sa.error(new tb(W.DECRYPT_ERROR, null, fa))
                        }
                    },
                    error: function(ea) {
                        ea instanceof yb && (ea = new tb(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR, null, ea));
                        ea instanceof eb || (ea = new tb(W.DECRYPT_ERROR, null, ea));
                        Sa.error(ea)
                    }
                })
            }, this)
        },
        wrap: function(Oa, Sa) {
            Na(Sa, function() {
                if (!this.wrapKey) throw new tb(W.WRAP_NOT_SUPPORTED, "no wrap/unwrap key");
                Kb.wrapKey("raw", Oa.rawKey, this.wrapKey, this.wrapKey.algorithm).then(function(Ca) {
                    Sa.result(Ca)
                }, function(Ca) {
                    Sa.error(new tb(W.WRAP_ERROR))
                })
            }, this)
        },
        unwrap: function(Oa, Sa, Ca, sa) {
            function ka(ea) {
                Na(sa, function() {
                    switch (ea.type) {
                        case "secret":
                            Zc(ea, sa);
                            break;
                        case "public":
                            Lc(ea, sa);
                            break;
                        case "private":
                            $c(ea, sa);
                            break;
                        default:
                            throw new tb(W.UNSUPPORTED_KEY, "type: " +
                                ea.type);
                    }
                })
            }
            Na(sa, function() {
                if (!this.wrapKey) throw new tb(W.UNWRAP_NOT_SUPPORTED, "no wrap/unwrap key");
                Kb.unwrapKey("raw", Oa, this.wrapKey, this.wrapKey.algorithm, Sa, !1, Ca).then(function(ea) {
                    ka(ea)
                }, function(ea) {
                    sa.error(new tb(W.UNWRAP_ERROR))
                })
            }, this)
        },
        sign: function(Oa, Sa) {
            var Ca = this;
            Na(Sa, function() {
                if (!this.hmacKey) throw new tb(W.SIGN_NOT_SUPPORTED, "no HMAC key.");
                Kb.sign(sc, this.hmacKey, Oa).then(function(sa) {
                    Na(Sa, function() {
                        var ka = new Uint8Array(sa);
                        de(ka, {
                            result: function(ea) {
                                Sa.result(ea.bytes)
                            },
                            error: Sa.error
                        })
                    }, Ca)
                }, function() {
                    Sa.error(new tb(W.HMAC_ERROR))
                })
            }, this)
        },
        verify: function(Oa, Sa, Ca) {
            var sa = this;
            Na(Ca, function() {
                if (!this.hmacKey) throw new tb(W.VERIFY_NOT_SUPPORTED, "no HMAC key.");
                ee(Sa, fe.V1, {
                    result: function(ka) {
                        Na(Ca, function() {
                            Kb.verify(sc, this.hmacKey, ka.signature, Oa).then(function(ea) {
                                Ca.result(ea)
                            }, function(ea) {
                                Ca.error(new tb(W.HMAC_ERROR))
                            })
                        }, sa)
                    },
                    error: Ca.error
                })
            }, this)
        }
    })
})(); var jc = Bd.extend({
            init: function ea(Oa, Sa, Ca, sa, ka) {
                if (Ca || sa || ka) ea.base.call(this, Oa, Ca + "_" +
                    Sa.sequenceNumber, sa, ka, null); else { if (!Sa.isDecrypted()) throw new Oc(W.MASTERTOKEN_UNTRUSTED, Sa); ea.base.call(this, Oa, Sa.identity + "_" + Sa.sequenceNumber, Sa.encryptionKey, Sa.hmacKey, null) }
            }
        }), Kf = bd.extend({
            encrypt: function (Oa, Sa) { Sa.result(Oa) }, decrypt: function (Oa, Sa) { Sa.result(Oa) }, wrap: function (Oa, Sa) { Sa.error(new vb("Wrap is unsupported by the MSL token crypto context.")) }, unwrap: function (Oa, Sa, Ca, sa) { sa.error(new vb("Unwrap is unsupported by the MSL token crypto context.")) }, sign: function (Oa, Sa) { Sa.result(new Uint8Array(0)) },
            verify: function (Oa, Sa, Ca) { Ca.result(!1) }
        }), Ob = { PSK: "PSK", MGK: "MGK", X509: "X509", RSA: "RSA", NPTICKET: "NPTICKET", ECC: "ECC", NONE: "NONE" }; Object.freeze(Ob); var Nc, Le; (function () {
            Nc = Cb.Class.create({
                init: function (Oa) { Object.defineProperties(this, { scheme: { value: Oa, writable: !1, configurable: !1 } }) }, getIdentity: function () { }, getAuthData: function () { }, equals: function (Oa) { return this === Oa ? !0 : Oa instanceof Nc ? this.scheme == Oa.scheme : !1 }, toJSON: function () {
                    var Oa = {}; Oa.scheme = this.scheme; Oa.authdata = this.getAuthData();
                    return Oa
                }
            }); Le = function (Oa, Sa) { var Ca = Sa.scheme, sa = Sa.authdata; if (!Ca || !sa) throw new yb(W.JSON_PARSE_ERROR, "entityauthdata " + JSON.stringify(Sa)); if (!Ob[Ca]) throw new xc(W.UNIDENTIFIED_ENTITYAUTH_SCHEME, Ca); Sa = Oa.getEntityAuthenticationFactory(Ca); if (!Sa) throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND, Ca); return Sa.createData(Oa, sa) }
        })(); var Cd = Cb.Class.create({
            init: function (Oa) { Object.defineProperties(this, { scheme: { value: Oa, writable: !1, configurable: !1 } }) }, createData: function (Oa, Sa) { }, getCryptoContext: function (Oa,
                Sa) { }
        }), oc, Me; (function () {
            oc = Nc.extend({ init: function Ca(Sa) { Ca.base.call(this, Ob.MGK); Object.defineProperties(this, { identity: { value: Sa, writable: !1, configurable: !1 } }) }, getIdentity: function () { return this.identity }, getAuthData: function () { var Sa = {}; Sa.identity = this.identity; return Sa }, equals: function sa(Ca) { return this === Ca ? !0 : Ca instanceof oc ? sa.base.call(this, this, Ca) && this.identity == Ca.identity : !1 } }); Me = function (Ca) {
                var sa = Ca.identity; if (!sa) throw new yb(W.JSON_PARSE_ERROR, "mgk authdata" + JSON.stringify(Ca));
                return new oc(sa)
            }
        })(); var Lf = Cd.extend({ init: function Ca(Sa) { Ca.base.call(this, Ob.MGK); Object.defineProperties(this, { localIdentity: { value: Sa, writable: !1, enumerable: !1, configurable: !1 } }) }, createData: function (Sa, Ca) { return Me(Ca) }, getCryptoContext: function (Sa, Ca) { if (!(Ca instanceof oc)) throw new vb("Incorrect authentication data type " + JSON.stringify(Ca) + "."); if (Ca.identity != this.localIdentity) throw (new xc(W.ENTITY_NOT_FOUND, "mgk " + Ca.identity)).setEntity(Ca); return new cd } }), tc, Ne; (function () {
            tc =
                Nc.extend({ init: function sa(Ca) { sa.base.call(this, Ob.PSK); Object.defineProperties(this, { identity: { value: Ca, writable: !1 } }) }, getIdentity: function () { return this.identity }, getAuthData: function () { var Ca = {}; Ca.identity = this.identity; return Ca }, equals: function ka(sa) { return this === sa ? !0 : sa instanceof tc ? ka.base.call(this, this, sa) && this.identity == sa.identity : !1 } }); Ne = function (sa) { var ka = sa.identity; if (!ka) throw new yb(W.JSON_PARSE_ERROR, "psk authdata" + JSON.stringify(sa)); return new tc(ka) }
        })(); var Mf = Cd.extend({
            init: function sa(Ca) {
                sa.base.call(this,
                    Ob.PSK); Object.defineProperties(this, { localIdentity: { value: Ca, writable: !1, enumerable: !1, configurable: !1 } })
            }, createData: function (Ca, sa) { return Ne(sa) }, getCryptoContext: function (Ca, sa) { if (!(sa instanceof tc)) throw new vb("Incorrect authentication data type " + JSON.stringify(sa) + "."); if (sa.getIdentity() != this.localIdentity) throw (new xc(W.ENTITY_NOT_FOUND, "psk " + sa.identity)).setEntity(sa); return new cd }
        }); var Dd, Oe; (function () {
            Dd = Nc.extend({
                init: function ea(sa, ka) {
                    ea.base.call(this, Ob.RSA); Object.defineProperties(this,
                        { identity: { value: sa, writable: !1, configurable: !1 }, publicKeyId: { value: ka, writable: !1, configurable: !1 } })
                }, getIdentity: function () { return this.identity }, getAuthData: function () { var sa = {}; sa.identity = this.identity; sa.pubkeyid = this.publicKeyId; return sa }, equals: function ea(ka) { return this === ka ? !0 : ka instanceof Dd ? ea.base.call(this, this, ka) && this.identity == ka.identity && this.publicKeyId == ka.publicKeyId : !1 }
            }); Oe = function (ka) {
                var ea = ka.identity, fa = ka.pubkeyid; if (!ea || "string" !== typeof ea || !fa || "string" !== typeof fa) throw new yb(W.JSON_PARSE_ERROR,
                    "RSA authdata" + JSON.stringify(ka)); return new Dd(ea, fa)
            }
        })(); var Nf = Cd.extend({
            init: function ka(sa) { ka.base.call(this, Ob.RSA); Object.defineProperties(this, { store: { value: sa, writable: !1, enumerable: !1, configurable: !1 } }) }, createData: function (sa, ka) { return Oe(ka) }, getCryptoContext: function (sa, ka) {
                if (!(ka instanceof Dd)) throw new vb("Incorrect authentication data type " + ka + "."); var ea = ka.identity, fa = ka.publicKeyId, ma = this.store.getPublicKey(fa); if (!ma) throw (new xc(W.RSA_PUBLICKEY_NOT_FOUND, fa)).setEntity(ka);
                return new zd(sa, ea, null, ma, Ad.SIGN_VERIFY)
            }
        }), id, Pe; (function () {
            id = Nc.extend({ init: function ea(ka) { ea.base.call(this, Ob.NONE); Object.defineProperties(this, { identity: { value: ka, writable: !1 } }) }, getIdentity: function () { return this.identity }, getAuthData: function () { var ka = {}; ka.identity = this.identity; return ka }, equals: function fa(ea) { return this === ea ? !0 : ea instanceof id ? fa.base.call(this, this, ea) && this.identity == ea.identity : !1 } }); Pe = function (ea) {
                var fa = ea.identity; if (!fa) throw new yb(W.JSON_PARSE_ERROR,
                    "Unauthenticated authdata" + JSON.stringify(ea)); return new id(fa)
            }
        })(); var Jf = Cd.extend({ init: function ka() { ka.base.call(this, Ob.NONE) }, createData: function (ka, ea) { return Pe(ea) }, getCryptoContext: function (ka, ea) { if (!(ea instanceof id)) throw new vb("Incorrect authentication data type " + JSON.stringify(ea) + "."); return new cd } }), Of = Cb.Class.create({
            init: function () { Object.defineProperties(this, { rsaKeys: { value: {}, writable: !1, enumerable: !1, configurable: !1 } }) }, addPublicKey: function (ka, ea) {
                if (!(ea instanceof
                    yd)) throw new vb("Incorrect key data type " + ea + "."); this.rsaKeys[ka] = ea
            }, getIdentities: function () { return Object.keys(this.rsaKeys) }, removePublicKey: function (ka) { delete this.rsaKeys[ka] }, getPublicKey: function (ka) { return this.rsaKeys[ka] }
        }), ge = Cb.Class.create({ abort: function () { }, close: function () { }, mark: function () { }, reset: function () { }, markSupported: function () { }, read: function (ka, ea, fa) { } }), Ed = Cb.Class.create({
            abort: function () { }, close: function (ka, ea) { }, write: function (ka, ea, fa, ma, ja) { }, flush: function (ka,
                ea) { }
        }), Pf = Cb.Class.create({
            init: function (ka) { Object.defineProperties(this, { _data: { value: ka, writable: !1, enumerable: !1, configurable: !1 }, _closed: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _currentPosition: { value: 0, writable: !0, enumerable: !1, configurable: !1 }, _mark: { value: -1, writable: !0, enumerable: !1, configurable: !1 } }) }, abort: function () { }, close: function () { this._close = !0 }, mark: function () { this._mark = this._currentPosition }, reset: function () {
                if (-1 == this._mark) throw new Vb("Stream has not been marked.");
                this._currentPosition = this._mark
            }, markSupported: function () { return !0 }, read: function (ka, ea, fa) { fb(fa, function () { if (this._closed) throw new Vb("Stream is already closed."); if (this._currentPosition == this._data.length) return null; -1 == ka && (ka = this._data.length - this._currentPosition); var ma = this._data.subarray(this._currentPosition, this._currentPosition + ka); this._currentPosition += ma.length; return ma }, this) }
        }), Qf = Cb.Class.create({
            init: function () {
                var ka = {
                    _closed: { value: !1, writable: !0, enumerable: !1, configurable: !1 },
                    _result: { value: new Uint8Array(0), writable: !0, enuemrable: !1, configurable: !1 }, _buffered: { value: [], writable: !1, enumerable: !1, configurable: !1 }
                }; Object.defineProperties(this, ka)
            }, abort: function () { }, close: function (ka, ea) { this._closed = !0; ea.result(!0) }, write: function (ka, ea, fa, ma, ja) {
                fb(ja, function () {
                    if (this._closed) throw new Vb("Stream is already closed."); if (0 > ea) throw new RangeError("Offset cannot be negative."); if (0 > fa) throw new RangeError("Length cannot be negative."); if (ea + fa > ka.length) throw new RangeError("Offset plus length cannot be greater than the array length.");
                    var V = ka.subarray(ea, fa); this._buffered.push(V); return V.length
                }, this)
            }, flush: function (ka, ea) { for (; 0 < this._buffered.length;)if (ka = this._buffered.shift(), this._result) { var fa = new Uint8Array(this._result.length + ka.length); fa.set(this._result); fa.set(ka, this._result.length); this._result = fa } else this._result = new Uint8Array(ka); ea.result(!0) }, size: function () { this.flush(1, { result: function () { } }); return this._result.length }, toByteArray: function () { this.flush(1, { result: function () { } }); return this._result }
        }),
            Ae, Rf = Cb.Class.create({ getResponse: function (ka, ea, fa) { } }); (function () {
                var ka = Ed.extend({
                    init: function (fa, ma) {
                        fa = { _httpLocation: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, _timeout: { value: ma, writable: !0, enumerable: !1, configurable: !1 }, _buffer: { value: new Qf, writable: !1, enumerable: !1, configurable: !1 }, _response: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }, _abortToken: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }, _responseQueue: { value: new jd, writable: !0, enumerable: !1, configurable: !1 } };
                        Object.defineProperties(this, fa)
                    }, setTimeout: function (fa) { this._timeout = fa }, getResponse: function (fa, ma) { var ja = this; this._responseQueue.poll(fa, { result: function (V) { fb(ma, function () { V && this._responseQueue.add(V); return V }, ja) }, timeout: function () { fb(ma, function () { this._response = { isTimeout: !0 }; this._responseQueue.add(this._response); this.abort(); ma.timeout() }, ja) }, error: function (V) { fb(ma, function () { this._response = { isError: !0 }; this._responseQueue.add(this._response); throw V; }, ja) } }) }, abort: function () {
                        this._abortToken &&
                            this._abortToken.abort()
                    }, close: function (fa, ma) { var ja = this; fb(ma, function () { if (this._response) return !0; var V = this._buffer.toByteArray(); 0 < V.length && (this._abortToken = this._httpLocation.getResponse({ body: V }, this._timeout, { result: function (ba) { ja._response = { response: ba }; ja._responseQueue.add(ja._response) }, timeout: function () { ja._response = { isTimeout: !0 }; ja._responseQueue.add(ja._response) }, error: function (ba) { ja._response = { isError: !0, error: ba }; ja._responseQueue.add(ja._response) } })); return !0 }, this) },
                    write: function (fa, ma, ja, V, ba) { fb(ba, function () { if (this._response) throw new Vb("HttpOutputStream already closed."); this._buffer.write(fa, ma, ja, V, ba) }, this) }, flush: function (fa, ma) { fb(ma, function () { if (this._response) return !0; this._buffer.flush(fa, ma) }, this) }
                }), ea = ge.extend({
                    init: function (fa) {
                        Object.defineProperties(this, {
                            _out: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, _buffer: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }, _exception: { value: Bb, writable: !0, enumerable: !1, configurable: !1 },
                            _timedout: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _aborted: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _json: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }
                        })
                    }, abort: function () { this._out.abort() }, close: function () { this._buffer && this._buffer.close() }, mark: function () { this._buffer || this._buffer.mark() }, reset: function () { this._buffer && this._buffer.reset() }, markSupported: function () { if (this._buffer) return this._buffer.markSupported() }, read: function (fa, ma, ja) {
                        function V(wa) {
                            fb(ja,
                                function () {
                                    if (!wa) return new Uint8Array(0); this._out.getResponse(ma, {
                                        result: function (ta) {
                                            fb(ja, function () {
                                                if (ta.isTimeout) this._timedout = !0, ja.timeout(); else {
                                                    if (ta.isError) throw this._exception = ta.error || new Vb("Unknown HTTP exception."), this._exception; if (!ta.response) throw this._exception = new Vb("Missing HTTP response."), this._exception; ta.response.json !== Bb && (this._json = ta.response.json, this.getJSON = function () { return ba._json }); var xa = ta.response.content || Qd("string" === typeof ta.response.body ?
                                                        ta.response.body : JSON.stringify(this._json)); this._buffer = new Pf(xa); this._buffer.read(fa, ma, ja)
                                                }
                                            }, ba)
                                        }, timeout: function () { ja.timeout() }, error: function (ta) { ja.error(ta) }
                                    })
                                }, ba)
                        } var ba = this; fb(ja, function () { if (this._exception) throw this._exception; if (this._timedout) ja.timeout(); else { if (this._aborted) return new Uint8Array(0); this._buffer ? this._buffer.read(fa, ma, ja) : this._out.close(ma, { result: function (wa) { V(wa) }, timeout: function () { ja.timeout() }, error: function (wa) { ja.error(wa) } }) } }, ba)
                    }
                }); Ae = Cb.Class.create({
                    init: function (fa,
                        ma) { Object.defineProperties(this, { _httpLocation: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, _timeout: { value: ma, writable: !0, enumerable: !1, configurable: !1 } }) }, setTimeout: function (fa) { this._timeout = fa }, openConnection: function () { var fa = new ka(this._httpLocation, this._timeout); return { input: new ea(fa), output: fa } }
                })
            })(); var Be; (function () {
                var ka = Ed.extend({
                    init: function () { var fa = { _buffer: { value: new Uint8Array, writable: !0, enumerable: !1, configurable: !1 } }; Object.defineProperties(this, fa) }, setTimeout: function () { },
                    getResponse: function (fa, ma) { ma.result({ success: !1, content: null, errorHttpCode: Bb, errorSubCode: Bb }) }, abort: function () { }, close: function (fa, ma) { ma.result(!0) }, write: function (fa, ma, ja, V, ba) {
                        try {
                            if (0 > ma) throw new RangeError("Offset cannot be negative."); if (0 > ja) throw new RangeError("Length cannot be negative."); if (ma + ja > fa.length) throw new RangeError("Offset plus length cannot be greater than the array length."); var wa = fa.subarray(ma, ja), ta = new Uint8Array(this._buffer.length + wa.length); ta.set(this._buffer);
                            ta.set(wa, this._buffer.length); this._buffer = ta; ba.result(wa.length)
                        } catch (xa) { ba.error(xa) }
                    }, flush: function (fa, ma) { ma.result(!0) }, request: function () { return this._buffer }
                }), ea = ge.extend({ init: function () { }, abort: function () { }, close: function () { }, mark: function () { }, reset: function () { }, markSupported: function () { }, read: function (fa, ma, ja) { ja.result(new Uint8Array(16)) } }); Be = Cb.Class.create({
                    init: function () {
                        var fa = {
                            output: { value: new ka, writable: !1, enumerable: !1, configurable: !1 }, input: {
                                value: new ea, writable: !0,
                                enumerable: !1, configurable: !1
                            }
                        }; Object.defineProperties(this, fa)
                    }, setTimeout: function () { }, openConnection: function () { return { input: this.input, output: this.output } }, getRequest: function () { return Pd(this.output.request()) }
                })
            })(); var Qe = function (ka, ea, fa) {
                (function (ma, ja, V) { ma.read(-1, ja, { result: function (ba) { ba && ba.length ? V(null, ba) : V(null, null) }, timeout: function () { fa.timeout() }, error: function (ba) { V(ba, null) } }) })(ka, ea, function (ma, ja) {
                    if (ma) fa.error(ma); else if (ja) if (ka.getJSON !== Bb && "function" === typeof ka.getJSON) fa.result(ka.getJSON());
                    else { ma = fa.result; ja = new Sf(Ub(ja, "utf-8")); var V = [], ba; for (ba = ja.nextValue(); ba !== Bb;)V.push(ba), ba = ja.nextValue(); ma.call(fa, V) } else fa.result(null)
                })
            }, lc = { SYMMETRIC_WRAPPED: "SYMMETRIC_WRAPPED", ASYMMETRIC_WRAPPED: "ASYMMETRIC_WRAPPED", DIFFIE_HELLMAN: "DIFFIE_HELLMAN", JWE_LADDER: "JWE_LADDER", JWK_LADDER: "JWK_LADDER", AUTHENTICATED_DH: "AUTHENTICATED_DH" }; Object.freeze(lc); var kd, Re; (function () {
                kd = Cb.Class.create({
                    init: function (ka) {
                        Object.defineProperties(this, {
                            keyExchangeScheme: {
                                value: ka, writable: !1,
                                configurable: !1
                            }
                        })
                    }, getKeydata: function () { }, toJSON: function () { var ka = {}; ka.scheme = this.keyExchangeScheme; ka.keydata = this.getKeydata(); return ka }, equals: function (ka) { return this === ka ? !0 : ka instanceof kd ? this.keyExchangeScheme == ka.keyExchangeScheme : !1 }, uniqueKey: function () { return this.keyExchangeScheme }
                }); Re = function (ka, ea, fa) {
                    Na(fa, function () {
                        var ma = ea.scheme, ja = ea.keydata; if (!ma || !ja || "object" !== typeof ja) throw new yb(W.JSON_PARSE_ERROR, "keyrequestdata " + JSON.stringify(ea)); if (!lc[ma]) throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,
                            ma); var V = ka.getKeyExchangeFactory(ma); if (!V) throw new Pb(W.KEYX_FACTORY_NOT_FOUND, ma); V.createRequestData(ka, ja, fa)
                    })
                }
            })(); var ld, Se; (function () {
                ld = Cb.Class.create({
                    init: function (ka, ea) { Object.defineProperties(this, { masterToken: { value: ka, writable: !1, configurable: !1 }, keyExchangeScheme: { value: ea, wrtiable: !1, configurable: !1 } }) }, getKeydata: function () { }, toJSON: function () { var ka = {}; ka.mastertoken = this.masterToken; ka.scheme = this.keyExchangeScheme; ka.keydata = this.getKeydata(); return ka }, equals: function (ka) {
                        return this ===
                            ka ? !0 : ka instanceof ld ? this.masterToken.equals(ka.masterToken) && this.keyExchangeScheme == ka.keyExchangeScheme : !1
                    }, uniqueKey: function () { return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme }
                }); Se = function (ka, ea, fa) {
                    Na(fa, function () {
                        var ma = ea.mastertoken, ja = ea.scheme, V = ea.keydata; if (!ja || !ma || "object" !== typeof ma || !V || "object" !== typeof V) throw new yb(W.JSON_PARSE_ERROR, "keyresponsedata " + JSON.stringify(ea)); if (!lc[ja]) throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME, ja); Qc(ka, ma, {
                            result: function (ba) {
                                Na(fa,
                                    function () { var wa = ka.getKeyExchangeFactory(ja); if (!wa) throw new Pb(W.KEYX_FACTORY_NOT_FOUND, ja); return wa.createResponseData(ka, ba, V) })
                            }, error: function (ba) { fa.error(ba) }
                        })
                    })
                }
            })(); var pc; (function () {
                var ka = Cb.Class.create({ init: function (ea, fa) { Object.defineProperties(this, { keyResponseData: { value: ea, writable: !1, configurable: !1 }, cryptoContext: { value: fa, writable: !1, configurable: !1 } }) } }); pc = Cb.Class.create({
                    init: function (ea) { Object.defineProperties(this, { scheme: { value: ea, writable: !1, configurable: !1 } }) },
                    createRequestData: function (ea, fa, ma) { }, createResponseData: function (ea, fa, ma) { }, generateResponse: function (ea, fa, ma, ja) { }, getCryptoContext: function (ea, fa, ma, ja, V) { }, generateSessionKeys: function (ea, fa) {
                        Na(fa, function () {
                            var ma = new Uint8Array(16), ja = new Uint8Array(32); ea.getRandom().nextBytes(ma); ea.getRandom().nextBytes(ja); zc(ma, rc, Hc, {
                                result: function (V) { zc(ja, sc, Pc, { result: function (ba) { fa.result({ encryptionKey: V, hmacKey: ba }) }, error: function (ba) { fa.error(new tb(W.SESSION_KEY_CREATION_FAILURE, null, ba)) } }) },
                                error: function (V) { fa.error(new tb(W.SESSION_KEY_CREATION_FAILURE, null, V)) }
                            })
                        })
                    }, importSessionKeys: function (ea, fa, ma) { zc(ea, rc, Hc, { result: function (ja) { zc(fa, sc, Pc, { result: function (V) { ma.result({ encryptionKey: ja, hmacKey: V }) }, error: function (V) { ma.error(V) } }) }, error: function (ja) { ma.error(ja) } }) }
                }); pc.KeyExchangeData = ka
            })(); var Te, he, Ue; (function () {
                function ka(ja, V, ba, wa, ta) {
                    Na(ta, function () {
                        switch (V) {
                            case ea.PSK: var xa = new tc(wa), Ea = ja.getEntityAuthenticationFactory(Ob.PSK); if (!Ea) throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,
                                V); xa = Ea.getCryptoContext(ja, xa); return new Bc(ja, Cc.A128KW, wc, Bb); case ea.MGK: xa = new oc(wa); Ea = ja.getEntityAuthenticationFactory(Ob.MGK); if (!Ea) throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM, V); xa = Ea.getCryptoContext(ja, xa); return new Bc(ja, Cc.A128KW, wc, Bb); case ea.WRAP: xa = ja.getMslCryptoContext(); xa.unwrap(ba, yc, Ic, { result: function (za) { Na(ta, function () { return new Bc(ja, Cc.A128KW, wc, za) }) }, error: ta.error }); break; default: throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM, V);
                        }
                    })
                } var ea = { PSK: "PSK", MGK: "MGK", WRAP: "WRAP" },
                    fa = he = kd.extend({
                        init: function wa(V, ba) { wa.base.call(this, lc.JWE_LADDER); switch (V) { case ea.WRAP: if (!ba) throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID."); break; default: ba = null }Object.defineProperties(this, { mechanism: { value: V, writable: !1, configurable: !1 }, wrapdata: { value: ba, writable: !1, configurable: !1 } }) }, getKeydata: function () { var V = {}; V.mechanism = this.mechanism; this.wrapdata && (V.wrapdata = Eb(this.wrapdata)); return V }, equals: function wa(ba) {
                            return ba ===
                                this ? !0 : ba instanceof he ? wa.base.call(this, ba) && this.mechanism == ba.mechanism && Wb(this.wrapdata, ba.wrapdata) : !1
                        }, uniqueKey: function wa() { var ta = wa.base.call(this) + ":" + this.mechanism; this.wrapdata && (ta += ":" + gc(this.wrapdata)); return ta }
                    }), ma = Ue = ld.extend({
                        init: function Y(ta, xa, Ea, za, va) {
                            Y.base.call(this, ta, lc.JWE_LADDER); Object.defineProperties(this, {
                                wrapKey: { value: xa, writable: !1, configurable: !1 }, wrapdata: { value: Ea, writable: !1, configurable: !1 }, encryptionKey: { value: za, writable: !1, configurable: !1 }, hmacKey: {
                                    value: va,
                                    writable: !1, configurable: !1
                                }
                            })
                        }, getKeydata: function () { var ta = {}; ta.wrapkey = Eb(this.wrapKey); ta.wrapdata = Eb(this.wrapdata); ta.encryptionkey = Eb(this.encryptionKey); ta.hmackey = Eb(this.hmacKey); return ta }, equals: function Ea(xa) { return this === xa ? !0 : xa instanceof Ue ? Ea.base.call(this, xa) && Wb(this.wrapKey, xa.wrapKey) && Wb(this.wrapdata, xa.wrapdata) && Wb(this.encryptionKey, xa.encryptionKey) && Wb(this.hmacKey, xa.hmacKey) : !1 }, uniqueKey: function Ea() {
                            return Ea.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) +
                                ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey)
                        }
                    }); Te = pc.extend({
                        init: function va(za) { va.base.call(this, lc.JWE_LADDER); Object.defineProperties(this, { repository: { value: za, writable: !1, enumerable: !1, configurable: !1 } }) }, createRequestData: function (za, va, Y) {
                            Na(Y, function () {
                                var da = va.mechanism, la = va.wrapdata; if (!da || da == ea.WRAP && (!la || "string" !== typeof la)) throw new yb(W.JSON_PARSE_ERROR, "keydata " + JSON.stringify(va)); if (!ea[da]) throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM, da); switch (da) {
                                    case ea.WRAP: try {
                                        var qa =
                                            Gb(la)
                                    } catch (Ja) { throw new Pb(W.KEYX_WRAPPING_KEY_MISSING, "keydata " + va.toString()); } if (null == qa || 0 == qa.length) throw new Pb(W.KEYX_WRAPPING_KEY_MISSING, "keydata " + va.toString()); break; default: qa = null
                                }return new fa(da, qa)
                            })
                        }, createResponseData: function (za, va, Y) {
                            za = Y.wrapkey; var da = Y.wrapdata, la = Y.encryptionkey, qa = Y.hmackey; if (!(za && "string" === typeof za && da && "string" === typeof da && la && "string" === typeof la && qa) || "string" !== typeof qa) throw new yb(W.JSON_PARSE_ERROR, "keydata " + JSON.stringify(Y)); try {
                                var Ja =
                                    Gb(za); var Ga = Gb(da)
                            } catch (oa) { throw new tb(W.INVALID_SYMMETRIC_KEY, "keydata " + JSON.stringify(Y), oa); } try { var Ra = Gb(la) } catch (oa) { throw new tb(W.INVALID_ENCRYPTION_KEY, "keydata " + JSON.stringify(Y), oa); } try { var Ta = Gb(qa) } catch (oa) { throw new tb(W.INVALID_HMAC_KEY, "keydata " + JSON.stringify(Y), oa); } return new ma(va, Ja, Ga, Ra, Ta)
                        }, generateResponse: function (za, va, Y, da) {
                            function la(oa, Aa, Ba) {
                                Ra.generateSessionKeys(za, {
                                    result: function (Ka) { Na(da, function () { qa(oa, Aa, Ba, Ka.encryptionKey, Ka.hmacKey) }, Ra) }, error: function (Ka) {
                                        Na(da,
                                            function () { Ka instanceof eb && Ka.setEntity(Ta); throw Ka; })
                                    }
                                })
                            } function qa(oa, Aa, Ba, Ka, Da) { Na(da, function () { ka(za, va.mechanism, va.wrapdata, oa, { result: function (Qa) { Qa.wrap(Aa, { result: function (Ha) { Ja(Aa, Ba, Ka, Da, Ha) }, error: function (Ha) { Na(da, function () { Ha instanceof eb && Ha.setEntity(Ta); throw Ha; }) } }) }, error: function (Qa) { Na(da, function () { Qa instanceof eb && Qa.setEntity(Ta); throw Qa; }) } }) }, Ra) } function Ja(oa, Aa, Ba, Ka, Da) {
                                Na(da, function () {
                                    var Qa = new Bc(za, Cc.A128KW, wc, oa); Qa.wrap(Ba, {
                                        result: function (Ha) {
                                            Qa.wrap(Ka,
                                                { result: function (Xa) { Ga(Aa, Da, Ba, Ha, Ka, Xa) }, error: function (Xa) { Na(da, function () { Xa instanceof eb && Xa.setEntity(Ta); throw Xa; }) } })
                                        }, error: function (Ha) { Na(da, function () { Ha instanceof eb && Ha.setEntity(Ta); throw Ha; }) }
                                    })
                                }, Ra)
                            } function Ga(oa, Aa, Ba, Ka, Da, Qa) {
                                Na(da, function () {
                                    var Ha = za.getTokenFactory(); Ta ? Ha.renewMasterToken(za, Ta, Ba, Da, {
                                        result: function (Xa) { Na(da, function () { var bb = new jc(za, Xa), Ya = new ma(Xa, Aa, oa, Ka, Qa); return new pc.KeyExchangeData(Ya, bb, da) }, Ra) }, error: function (Xa) {
                                            Na(da, function () {
                                                Xa instanceof
                                                    eb && Xa.setEntity(Ta); throw Xa;
                                            })
                                        }
                                    }) : Ha.createMasterToken(za, Y, Ba, Da, { result: function (Xa) { Na(da, function () { var bb = new jc(za, Xa), Ya = new ma(Xa, Aa, oa, Ka, Qa); return new pc.KeyExchangeData(Ya, bb, da) }, Ra) }, error: da.error })
                                }, Ra)
                            } var Ra = this, Ta; Na(da, function () {
                                if (!(va instanceof fa)) throw new vb("Key request data " + JSON.stringify(va) + " was not created by this factory."); var oa = Y; if (Y instanceof ic) { if (!Y.isVerified()) throw new Oc(W.MASTERTOKEN_UNTRUSTED, Y); Ta = Y; oa = Y.identity } var Aa = new Uint8Array(16); za.getRandom().nextBytes(Aa);
                                zc(Aa, yc, Ic, { result: function (Ba) { Na(da, function () { za.getMslCryptoContext().wrap(Ba, { result: function (Ka) { la(oa, Ba, Ka) }, error: function (Ka) { Na(da, function () { Ka instanceof eb && Ka.setEntity(Ta); throw Ka; }, Ra) } }) }, Ra) }, error: function (Ba) { Na(da, function () { throw (new tb(W.WRAP_KEY_CREATION_FAILURE, null, Ba)).setEntity(Ta); }, Ra) } })
                            }, Ra)
                        }, getCryptoContext: function (za, va, Y, da, la) {
                            function qa(Ga, Ra, Ta, oa, Aa) {
                                Na(la, function () {
                                    var Ba = new Bc(za, Cc.A128KW, wc, Aa); Ba.unwrap(Ra.encryptionKey, rc, Hc, {
                                        result: function (Ka) {
                                            Ba.unwrap(Ra.hmacKey,
                                                sc, Pc, { result: function (Da) { Na(la, function () { this.repository.addCryptoContext(Ra.wrapdata, Ba); this.repository.removeCryptoContext(Ta); return new jc(za, Ra.masterToken, oa, Ka, Da) }, Ja) }, error: function (Da) { Na(la, function () { Da instanceof eb && Da.setEntity(Ga); throw Da; }) } })
                                        }, error: function (Ka) { Na(la, function () { Ka instanceof eb && Ka.setEntity(Ga); throw Ka; }) }
                                    })
                                }, Ja)
                            } var Ja = this; Na(la, function () {
                                if (!(va instanceof fa)) throw new vb("Key request data " + JSON.stringify(va) + " was not created by this factory."); if (!(Y instanceof
                                    ma)) throw new vb("Key response data " + JSON.stringify(Y) + " was not created by this factory."); var Ga = va.mechanism, Ra = va.wrapdata; za.getEntityAuthenticationData(null, {
                                        result: function (Ta) {
                                            Na(la, function () {
                                                var oa = Ta.getIdentity(); switch (Ga) {
                                                    case ea.PSK: var Aa = new tc(oa); var Ba = za.getEntityAuthenticationFactory(Ob.PSK); if (!Ba) throw (new Pb(W.UNSUPPORTED_KEYX_MECHANISM, Ga)).setEntity(Ta); Aa = Ba.getCryptoContext(za, Aa); Aa = new Bc(za, Cc.A128KW, wc, Bb); break; case ea.MGK: Aa = new oc(oa); Ba = za.getEntityAuthenticationFactory(Ob.MGK);
                                                        if (!Ba) throw (new Pb(W.UNSUPPORTED_KEYX_MECHANISM, Ga)).setEntity(Ta); Aa = Ba.getCryptoContext(za, Aa); Aa = new Bc(za, Cc.A128KW, wc, Aa.wrapKey); break; case ea.WRAP: Aa = this.repository.getCryptoContext(Ra); if (!Aa) throw (new Pb(W.KEYX_WRAPPING_KEY_MISSING, Eb(Ra))).setEntity(Ta); break; default: throw (new Pb(W.UNSUPPORTED_KEYX_MECHANISM, Ga)).setEntity(Ta);
                                                }Aa.unwrap(Y.wrapKey, yc, Ic, { result: function (Ka) { qa(Ta, Y, Ra, oa, Ka) }, error: function (Ka) { Na(la, function () { Ka instanceof eb && Ka.setEntity(Ta); throw Ka; }) } })
                                            }, Ja)
                                        }, error: la.error
                                    })
                            },
                                Ja)
                        }
                    })
            })(); var ie, Fd, Ve; (function () {
                function ka(V, ba, wa, ta, xa) {
                    Na(xa, function () {
                        switch (ba) {
                            case ea.PSK: var Ea = new tc(ta), za = V.getEntityAuthenticationFactory(Ob.PSK); if (!za) throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM, ba); Ea = za.getCryptoContext(V, Ea); return new ja(Bb); case ea.MGK: Ea = new oc(ta); za = V.getEntityAuthenticationFactory(Ob.MGK); if (!za) throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM, ba); Ea = za.getCryptoContext(V, Ea); return new ja(Bb); case ea.WRAP: Ea = V.getMslCryptoContext(); Ea.unwrap(wa, yc, Ic, {
                                result: function (va) {
                                    Na(xa,
                                        function () { return new ja(va) })
                                }, error: xa.error
                            }); break; default: throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM, ba);
                        }
                    })
                } var ea = { PSK: "PSK", MGK: "MGK", WRAP: "WRAP" }, fa = Fd = kd.extend({
                    init: function ta(ba, wa) { ta.base.call(this, lc.JWK_LADDER); switch (ba) { case ea.WRAP: if (!wa) throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID."); break; default: wa = null }Object.defineProperties(this, { mechanism: { value: ba, writable: !1, configurable: !1 }, wrapdata: { value: wa, writable: !1, configurable: !1 } }) },
                    getKeydata: function () { var ba = {}; ba.mechanism = this.mechanism; this.wrapdata && (ba.wrapdata = Eb(this.wrapdata)); return ba }, equals: function ta(wa) { return wa === this ? !0 : wa instanceof Fd ? ta.base.call(this, wa) && this.mechanism == wa.mechanism && Wb(this.wrapdata, wa.wrapdata) : !1 }, uniqueKey: function ta() { var xa = ta.base.call(this) + ":" + this.mechanism; this.wrapdata && (xa += ":" + gc(this.wrapdata)); return xa }
                }), ma = Ve = ld.extend({
                    init: function da(xa, Ea, za, va, Y) {
                        da.base.call(this, xa, lc.JWK_LADDER); Object.defineProperties(this,
                            { wrapKey: { value: Ea, writable: !1, configurable: !1 }, wrapdata: { value: za, writable: !1, configurable: !1 }, encryptionKey: { value: va, writable: !1, configurable: !1 }, hmacKey: { value: Y, writable: !1, configurable: !1 } })
                    }, getKeydata: function () { var xa = {}; xa.wrapkey = Eb(this.wrapKey); xa.wrapdata = Eb(this.wrapdata); xa.encryptionkey = Eb(this.encryptionKey); xa.hmackey = Eb(this.hmacKey); return xa }, equals: function za(Ea) {
                        return this === Ea ? !0 : Ea instanceof Ve ? za.base.call(this, Ea) && Wb(this.wrapKey, Ea.wrapKey) && Wb(this.wrapdata, Ea.wrapdata) &&
                            Wb(this.encryptionKey, Ea.encryptionKey) && Wb(this.hmacKey, Ea.hmacKey) : !1
                    }, uniqueKey: function za() { return za.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey) }
                }), ja = bd.extend({
                    init: function (za) { za && za.rawKey && (za = za.rawKey); Object.defineProperties(this, { _wrapKey: { value: za, writable: !1, enumerable: !1, configurable: !1 } }) }, encrypt: function (za, va) { va.error(new tb(W.ENCRYPT_NOT_SUPPORTED)) }, decrypt: function (za, va) { va.error(new tb(W.DECRYPT_NOT_SUPPORTED)) },
                    wrap: function (za, va) { Na(va, function () { Kb.wrapKey("jwk", za.rawKey, this._wrapKey, yc).then(function (Y) { va.result(Y) }, function (Y) { va.error(new tb(W.WRAP_ERROR)) }) }, this) }, unwrap: function (za, va, Y, da) {
                        function la(qa) { Na(da, function () { switch (qa.type) { case "secret": Zc(qa, da); break; case "public": Lc(qa, da); break; case "private": $c(qa, da); break; default: throw new tb(W.UNSUPPORTED_KEY, "type: " + qa.type); } }) } Na(da, function () { Kb.unwrapKey("jwk", za, this._wrapKey, yc, va, !1, Y).then(function (qa) { la(qa) }, function (qa) { da.error(new tb(W.UNWRAP_ERROR)) }) },
                            this)
                    }, sign: function (za, va) { va.error(new tb(W.SIGN_NOT_SUPPORTED)) }, verify: function (za, va, Y) { Y.error(new tb(W.VERIFY_NOT_SUPPORTED)) }
                }); ie = pc.extend({
                    init: function Y(va) { Y.base.call(this, lc.JWK_LADDER); Object.defineProperties(this, { repository: { value: va, writable: !1, enumerable: !1, configurable: !1 } }) }, createRequestData: function (va, Y, da) {
                        Na(da, function () {
                            var la = Y.mechanism, qa = Y.wrapdata; if (!la || la == ea.WRAP && (!qa || "string" !== typeof qa)) throw new yb(W.JSON_PARSE_ERROR, "keydata " + JSON.stringify(Y)); if (!ea[la]) throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,
                                la); switch (la) { case ea.WRAP: try { var Ja = Gb(qa) } catch (Ga) { throw new Pb(W.KEYX_WRAPPING_KEY_MISSING, "keydata " + Y.toString()); } if (null == Ja || 0 == Ja.length) throw new Pb(W.KEYX_WRAPPING_KEY_MISSING, "keydata " + Y.toString()); break; default: Ja = null }return new fa(la, Ja)
                        })
                    }, createResponseData: function (va, Y, da) {
                        va = da.wrapkey; var la = da.wrapdata, qa = da.encryptionkey, Ja = da.hmackey; if (!(va && "string" === typeof va && la && "string" === typeof la && qa && "string" === typeof qa && Ja) || "string" !== typeof Ja) throw new yb(W.JSON_PARSE_ERROR,
                            "keydata " + JSON.stringify(da)); try { var Ga = Gb(va); var Ra = Gb(la) } catch (Aa) { throw new tb(W.INVALID_SYMMETRIC_KEY, "keydata " + JSON.stringify(da), Aa); } try { var Ta = Gb(qa) } catch (Aa) { throw new tb(W.INVALID_ENCRYPTION_KEY, "keydata " + JSON.stringify(da), Aa); } try { var oa = Gb(Ja) } catch (Aa) { throw new tb(W.INVALID_HMAC_KEY, "keydata " + JSON.stringify(da), Aa); } return new ma(Y, Ga, Ra, Ta, oa)
                    }, generateResponse: function (va, Y, da, la) {
                        function qa(Aa, Ba, Ka) {
                            Ta.generateSessionKeys(va, {
                                result: function (Da) {
                                    Na(la, function () {
                                        Ja(Aa,
                                            Ba, Ka, Da.encryptionKey, Da.hmacKey)
                                    }, Ta)
                                }, error: function (Da) { Na(la, function () { Da instanceof eb && Da.setEntity(oa); throw Da; }) }
                            })
                        } function Ja(Aa, Ba, Ka, Da, Qa) { Na(la, function () { ka(va, Y.mechanism, Y.wrapdata, Aa, { result: function (Ha) { Ha.wrap(Ba, { result: function (Xa) { Ga(Ba, Ka, Da, Qa, Xa) }, error: function (Xa) { Na(la, function () { Xa instanceof eb && Xa.setEntity(oa); throw Xa; }) } }) }, error: function (Ha) { Na(la, function () { Ha instanceof eb && Ha.setEntity(oa); throw Ha; }) } }) }, Ta) } function Ga(Aa, Ba, Ka, Da, Qa) {
                            Na(la, function () {
                                var Ha =
                                    new ja(Aa); Ha.wrap(Ka, { result: function (Xa) { Ha.wrap(Da, { result: function (bb) { Ra(Ba, Qa, Ka, Xa, Da, bb) }, error: function (bb) { Na(la, function () { bb instanceof eb && bb.setEntity(oa); throw bb; }) } }) }, error: function (Xa) { Na(la, function () { Xa instanceof eb && Xa.setEntity(oa); throw Xa; }) } })
                            }, Ta)
                        } function Ra(Aa, Ba, Ka, Da, Qa, Ha) {
                            Na(la, function () {
                                var Xa = va.getTokenFactory(); oa ? Xa.renewMasterToken(va, oa, Ka, Qa, {
                                    result: function (bb) {
                                        Na(la, function () {
                                            var Ya = new jc(va, bb), jb = new ma(bb, Ba, Aa, Da, Ha); return new pc.KeyExchangeData(jb,
                                                Ya, la)
                                        }, Ta)
                                    }, error: function (bb) { Na(la, function () { bb instanceof eb && bb.setEntity(oa); throw bb; }) }
                                }) : Xa.createMasterToken(va, da, Ka, Qa, { result: function (bb) { Na(la, function () { var Ya = new jc(va, bb), jb = new ma(bb, Ba, Aa, Da, Ha); return new pc.KeyExchangeData(jb, Ya, la) }, Ta) }, error: la.error })
                            }, Ta)
                        } var Ta = this, oa; Na(la, function () {
                            if (!(Y instanceof fa)) throw new vb("Key request data " + JSON.stringify(Y) + " was not created by this factory."); var Aa = da; if (da instanceof ic) {
                                if (!da.isVerified()) throw new Oc(W.MASTERTOKEN_UNTRUSTED,
                                    da); oa = da; Aa = da.identity
                            } var Ba = new Uint8Array(16); va.getRandom().nextBytes(Ba); zc(Ba, yc, Ic, { result: function (Ka) { Na(la, function () { va.getMslCryptoContext().wrap(Ka, { result: function (Da) { qa(Aa, Ka, Da) }, error: function (Da) { Na(la, function () { Da instanceof eb && Da.setEntity(oa); throw Da; }, Ta) } }) }, Ta) }, error: function (Ka) { Na(la, function () { throw (new tb(W.WRAP_KEY_CREATION_FAILURE, null, Ka)).setEntity(oa); }, Ta) } })
                        }, Ta)
                    }, getCryptoContext: function (va, Y, da, la, qa) {
                        function Ja(Ra, Ta, oa, Aa, Ba) {
                            Na(qa, function () {
                                var Ka =
                                    new ja(Ba); Ka.unwrap(Ta.encryptionKey, rc, Hc, { result: function (Da) { Ka.unwrap(Ta.hmacKey, sc, Pc, { result: function (Qa) { Na(qa, function () { this.repository.addCryptoContext(Ta.wrapdata, Ka); this.repository.removeCryptoContext(oa); return new jc(va, Ta.masterToken, Aa, Da, Qa) }, Ga) }, error: function (Qa) { Na(qa, function () { Qa instanceof eb && Qa.setEntity(Ra); throw Qa; }) } }) }, error: function (Da) { Na(qa, function () { Da instanceof eb && Da.setEntity(Ra); throw Da; }) } })
                            }, Ga)
                        } var Ga = this; Na(qa, function () {
                            if (!(Y instanceof fa)) throw new vb("Key request data " +
                                JSON.stringify(Y) + " was not created by this factory."); if (!(da instanceof ma)) throw new vb("Key response data " + JSON.stringify(da) + " was not created by this factory."); var Ra = Y.mechanism, Ta = Y.wrapdata; va.getEntityAuthenticationData(null, {
                                    result: function (oa) {
                                        Na(qa, function () {
                                            var Aa = oa.getIdentity(); switch (Ra) {
                                                case ea.PSK: var Ba = new tc(Aa); var Ka = va.getEntityAuthenticationFactory(Ob.PSK); if (!Ka) throw (new Pb(W.UNSUPPORTED_KEYX_MECHANISM, Ra)).setEntity(oa); Ba = Ka.getCryptoContext(va, Ba); Ba = new ja(Ba.wrapKey);
                                                    break; case ea.MGK: Ba = new oc(Aa); Ka = va.getEntityAuthenticationFactory(Ob.MGK); if (!Ka) throw (new Pb(W.UNSUPPORTED_KEYX_MECHANISM, Ra)).setEntity(oa); Ba = Ka.getCryptoContext(va, Ba); Ba = new ja(Ba.wrapKey); break; case ea.WRAP: Ba = this.repository.getCryptoContext(Ta); if (!Ba) throw (new Pb(W.KEYX_WRAPPING_KEY_MISSING, Eb(Ta))).setEntity(oa); break; default: throw (new Pb(W.UNSUPPORTED_KEYX_MECHANISM, Ra)).setEntity(oa);
                                            }Ba.unwrap(da.wrapKey, yc, Ic, {
                                                result: function (Da) { Ja(oa, da, Ta, Aa, Da) }, error: function (Da) {
                                                    Na(qa, function () {
                                                        Da instanceof
                                                            eb && Da.setEntity(oa); throw Da;
                                                    })
                                                }
                                            })
                                        }, Ga)
                                    }, error: qa.error
                                })
                        }, Ga)
                    }
                })
            })(); var Tf = Cb.Class.create({ addCryptoContext: function (ka, ea) { }, getCryptoContext: function (ka) { }, removeCryptoContext: function (ka) { } }), Ce, Gd, Ud, We; (function () {
                function ka(V, ba, wa, ta, xa) {
                    switch (wa) {
                        case ea.JWE_RSA: case ea.JWEJS_RSA: return new Bc(V, Cc.RSA_OAEP, wc, ta, xa); case ea.JWK_RSA: return new zd(V, ba, ta, xa, Ad.WRAP_UNWRAP_OAEP); case ea.JWK_RSAES: return new zd(V, ba, ta, xa, Ad.WRAP_UNWRAP_PKCS1); default: throw new tb(W.UNSUPPORTED_KEYX_MECHANISM,
                            wa);
                    }
                } var ea = Gd = { RSA: "RSA", ECC: "ECC", JWE_RSA: "JWE_RSA", JWEJS_RSA: "JWEJS_RSA", JWK_RSA: "JWK_RSA", JWK_RSAES: "JWK_RSAES" }, fa = Ud = kd.extend({
                    init: function Ea(ba, wa, ta, xa) { Ea.base.call(this, lc.ASYMMETRIC_WRAPPED); Object.defineProperties(this, { keyPairId: { value: ba, writable: !1, configurable: !1 }, mechanism: { value: wa, writable: !1, configurable: !1 }, publicKey: { value: ta, writable: !1, configurable: !1 }, privateKey: { value: xa, writable: !1, configurable: !1 } }) }, getKeydata: function () {
                        var ba = {}; ba.keypairid = this.keyPairId; ba.mechanism =
                            this.mechanism; ba.publickey = Eb(this.publicKey.getEncoded()); return ba
                    }, equals: function ta(wa) { if (wa === this) return !0; if (!(wa instanceof Ud)) return !1; var xa = this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && Wb(this.privateKey.getEncoded(), wa.privateKey.getEncoded()); return ta.base.call(this, wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && Wb(this.publicKey.getEncoded(), wa.publicKey.getEncoded()) && xa }, uniqueKey: function ta() {
                        var xa = this.publicKey.getEncoded(), Ea = this.privateKey &&
                            this.privateKey.getEncoded(); xa = ta.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(xa); Ea && (xa += ":" + gc(Ea)); return xa
                    }
                }), ma = function (ta, xa) {
                    Na(xa, function () {
                        var Ea = ta.keypairid, za = ta.mechanism, va = ta.publickey; if (!Ea || "string" !== typeof Ea || !za || !va || "string" !== typeof va) throw new yb(W.JSON_PARSE_ERROR, "keydata " + JSON.stringify(ta)); if (!ea[za]) throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM, za); try {
                            var Y = Gb(va); switch (za) {
                                case ea.JWE_RSA: case ea.JWEJS_RSA: case ea.JWK_RSA: Zd(Y, xd, Ic, {
                                    result: function (da) {
                                        xa.result(new fa(Ea,
                                            za, da, null))
                                    }, error: function (da) { xa.error(da) }
                                }); break; case ea.JWK_RSAES: Zd(Y, Xd, Ic, { result: function (da) { xa.result(new fa(Ea, za, da, null)) }, error: function (da) { xa.error(da) } }); break; default: throw new tb(W.UNSUPPORTED_KEYX_MECHANISM, za);
                            }
                        } catch (da) { if (!(da instanceof eb)) throw new tb(W.INVALID_PUBLIC_KEY, "keydata " + JSON.stringify(ta), da); throw da; }
                    })
                }, ja = We = ld.extend({
                    init: function Y(xa, Ea, za, va) {
                        Y.base.call(this, xa, lc.ASYMMETRIC_WRAPPED); Object.defineProperties(this, {
                            keyPairId: {
                                value: Ea, writable: !1,
                                configurable: !1
                            }, encryptionKey: { value: za, writable: !1, configurable: !1 }, hmacKey: { value: va, writable: !1, configurable: !1 }
                        })
                    }, getKeydata: function () { var xa = {}; xa.keypairid = this.keyPairId; xa.encryptionkey = Eb(this.encryptionKey); xa.hmackey = Eb(this.hmacKey); return xa }, equals: function za(Ea) { return this === Ea ? !0 : Ea instanceof We ? za.base.call(this, Ea) && this.keyPairId == Ea.keyPairId && Wb(this.encryptionKey, Ea.encryptionKey) && Wb(this.hmacKey, Ea.hmacKey) : !1 }, uniqueKey: function za() {
                        return za.base.call(this) + ":" + this.keyPairId +
                            ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey)
                    }
                }); Ce = pc.extend({
                    init: function va() { va.base.call(this, lc.ASYMMETRIC_WRAPPED) }, createRequestData: function (va, Y, da) { ma(Y, da) }, createResponseData: function (va, Y, da) {
                        va = da.keypairid; var la = da.encryptionkey, qa = da.hmackey; if (!va || "string" !== typeof va || !la || "string" !== typeof la || !qa || "string" !== typeof qa) throw new yb(W.JSON_PARSE_ERROR, "keydata " + JSON.stringify(da)); try { var Ja = Gb(la) } catch (Ra) {
                            throw new tb(W.INVALID_ENCRYPTION_KEY, "keydata " + JSON.stringify(da),
                                Ra);
                        } try { var Ga = Gb(qa) } catch (Ra) { throw new tb(W.INVALID_HMAC_KEY, "keydata " + JSON.stringify(da), Ra); } return new ja(Y, va, Ja, Ga)
                    }, generateResponse: function (va, Y, da, la) {
                        function qa(Ra, Ta) {
                            Na(la, function () {
                                var oa = ka(va, Y.keyPairId, Y.mechanism, null, Y.publicKey); oa.wrap(Ra, {
                                    result: function (Aa) { Na(la, function () { oa.wrap(Ta, { result: function (Ba) { Ja(Ra, Aa, Ta, Ba) }, error: function (Ba) { Na(la, function () { Ba instanceof eb && da instanceof ic && Ba.setEntity(da); throw Ba; }, Ga) } }) }, Ga) }, error: function (Aa) {
                                        Na(la, function () {
                                            Aa instanceof
                                                eb && da instanceof ic && Aa.setEntity(da); throw Aa;
                                        }, Ga)
                                    }
                                })
                            }, Ga)
                        } function Ja(Ra, Ta, oa, Aa) {
                            Na(la, function () {
                                var Ba = va.getTokenFactory(); da instanceof ic ? Ba.renewMasterToken(va, da, Ra, oa, { result: function (Ka) { Na(la, function () { var Da = new jc(va, Ka), Qa = new ja(Ka, Y.keyPairId, Ta, Aa); return new pc.KeyExchangeData(Qa, Da, la) }, Ga) }, error: function (Ka) { Na(la, function () { Ka instanceof eb && Ka.setEntity(da); throw Ka; }, Ga) } }) : Ba.createMasterToken(va, da, Ra, oa, {
                                    result: function (Ka) {
                                        Na(la, function () {
                                            var Da = new jc(va, Ka), Qa =
                                                new ja(Ka, Y.keyPairId, Ta, Aa); return new pc.KeyExchangeData(Qa, Da, la)
                                        }, Ga)
                                    }, error: la.error
                                })
                            }, Ga)
                        } var Ga = this; Na(la, function () { if (!(Y instanceof fa)) throw new vb("Key request data " + JSON.stringify(Y) + " was not created by this factory."); this.generateSessionKeys(va, { result: function (Ra) { qa(Ra.encryptionKey, Ra.hmacKey) }, error: function (Ra) { Na(la, function () { Ra instanceof eb && da instanceof ic && Ra.setEntity(da); throw Ra; }, Ga) } }) }, Ga)
                    }, getCryptoContext: function (va, Y, da, la, qa) {
                        var Ja = this; Na(qa, function () {
                            if (!(Y instanceof
                                fa)) throw new vb("Key request data " + JSON.stringify(Y) + " was not created by this factory."); if (!(da instanceof ja)) throw new vb("Key response data " + JSON.stringify(da) + " was not created by this factory."); var Ga = Y.keyPairId, Ra = da.keyPairId; if (Ga != Ra) throw (new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH, "request " + Ga + "; response " + Ra)).setEntity(la); Ra = Y.privateKey; if (!Ra) throw (new Pb(W.KEYX_PRIVATE_KEY_MISSING, "request Asymmetric private key")).setEntity(la); var Ta = ka(va, Ga, Y.mechanism, Ra, null); Ta.unwrap(da.encryptionKey,
                                    rc, Hc, { result: function (oa) { Ta.unwrap(da.hmacKey, sc, Pc, { result: function (Aa) { va.getEntityAuthenticationData(null, { result: function (Ba) { Na(qa, function () { var Ka = Ba.getIdentity(); return new jc(va, da.masterToken, Ka, oa, Aa) }, Ja) }, error: function (Ba) { Na(qa, function () { Ba instanceof eb && Ba.setEntity(la); throw Ba; }, Ja) } }) }, error: function (Aa) { Na(qa, function () { Aa instanceof eb && Aa.setEntity(la); throw Aa; }, Ja) } }) }, error: function (oa) { Na(qa, function () { oa instanceof eb && oa.setEntity(la); throw oa; }, Ja) } })
                        }, Ja)
                    }
                })
            })();
        var Sf = Cb.Class.create({
            init: function (ka) {
                var ea = Zb.parser(), fa = [], ma = [], ja, V, ba, wa = 0, ta = !1; ea.onerror = function (xa) { ta || (ta = !0, ea.end()) }; ea.onopenobject = function (xa) { if (ja) ja[ba] = {}, ma.push(ja), ja = ja[ba]; else if (V) { var Ea = {}; ma.push(V); V.push(Ea); ja = Ea; V = Bb } else ja = {}; ba = xa }; ea.oncloseobject = function () { var xa = ma.pop(); xa ? "object" === typeof xa ? ja = xa : (ja = Bb, V = xa) : (fa.push(ja), wa = ea.index, ja = Bb) }; ea.onopenarray = function () {
                    if (ja) ja[ba] = [], ma.push(ja), V = ja[ba], ja = Bb; else if (V) {
                        var xa = []; ma.push(V); V.push(xa);
                        V = xa
                    } else V = []
                }; ea.onclosearray = function () { var xa = ma.pop(); xa ? "object" === typeof xa ? (ja = xa, V = Bb) : V = xa : (fa.push(V), wa = ea.index, V = Bb) }; ea.onkey = function (xa) { ba = xa }; ea.onvalue = function (xa) { ja ? ja[ba] = xa : V ? V.push(xa) : (fa.push(xa), wa = ea.index) }; ea.write(ka).close(); Object.defineProperties(this, { _values: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, _lastIndex: { value: wa, writable: !0, enumerable: !1, configurable: !1 } })
            }, more: function () { return 0 < this._values.length }, nextValue: function () {
                return 0 == this._values.length ?
                    Bb : this._values.shift()
            }, lastIndex: function () { return this._lastIndex }
        }), Xe, je, Ye, Ze, $e, ke; (function () {
            var ka = je = "entityauthdata", ea = Ye = "mastertoken", fa = Ze = "headerdata", ma = $e = "errordata", ja = ke = "signature"; Xe = function (V, ba, wa, ta) {
                Na(ta, function () {
                    var xa = ba[ka], Ea = ba[ea], za = ba[ja]; if (xa && "object" !== typeof xa || Ea && "object" !== typeof Ea || "string" !== typeof za) throw new yb(W.JSON_PARSE_ERROR, "header/errormsg " + JSON.stringify(ba)); try { var va = Gb(za) } catch (la) {
                        throw new Ib(W.HEADER_SIGNATURE_INVALID, "header/errormsg " +
                            JSON.stringify(ba), la);
                    } var Y = null; xa && (Y = Le(V, xa)); var da = ba[fa]; if (da != Bb && null != da) { if ("string" !== typeof da) throw new yb(W.JSON_PARSE_ERROR, "header/errormsg " + JSON.stringify(ba)); Ea ? Qc(V, Ea, { result: function (la) { le(V, da, Y, la, va, wa, ta) }, error: function (la) { ta.error(la) } }) : le(V, da, Y, null, va, wa, ta) } else if (xa = ba[ma], xa != Bb && null != xa) { if ("string" !== typeof xa) throw new yb(W.JSON_PARSE_ERROR, "header/errormsg " + JSON.stringify(ba)); af(V, xa, Y, va, ta) } else throw new yb(W.JSON_PARSE_ERROR, JSON.stringify(ba));
                })
            }
        })(); var Kc, bf, af; (function () {
            function ka(ea, fa) { this.errordata = ea; this.signature = fa } Kc = Cb.Class.create({
                init: function (ea, fa, ma, ja, V, ba, wa, ta, xa, Ea) {
                    var za = this; Na(Ea, function () {
                        0 > ba && (ba = -1); if (0 > ja || ja > Nb) throw new vb("Message ID " + ja + " is out of range."); if (!fa) throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND); if (xa) return Object.defineProperties(this, {
                            entityAuthenticationData: { value: fa, writable: !1, configurable: !1 }, recipient: { value: ma, writable: !1, configurable: !1 }, messageId: { value: ja, writable: !1, configurable: !1 },
                            errorCode: { value: V, writable: !1, configurable: !1 }, internalCode: { value: ba, writable: !1, configurable: !1 }, errorMessage: { value: wa, writable: !1, configurable: !1 }, userMessage: { value: ta, writable: !1, configurable: !1 }, errordata: { value: xa.errordata, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: xa.signature, writable: !1, enumerable: !1, configurable: !1 }
                        }), this; var va = {}; ma && (va.recipient = ma); va.messageid = ja; va.errorcode = V; 0 < ba && (va.internalcode = ba); wa && (va.errormsg = wa); ta && (va.usermsg = ta); try {
                            var Y = ea.getEntityAuthenticationFactory(fa.scheme).getCryptoContext(ea,
                                fa)
                        } catch (da) { throw da instanceof eb && (da.setEntity(fa), da.setMessageId(ja)), da; } va = Rb(JSON.stringify(va), Mb); Y.encrypt(va, {
                            result: function (da) {
                                Na(Ea, function () {
                                    Y.sign(da, {
                                        result: function (la) {
                                            Na(Ea, function () {
                                                Object.defineProperties(this, {
                                                    entityAuthenticationData: { value: fa, writable: !1, configurable: !1 }, recipient: { value: ma, writable: !1, configurable: !1 }, messageId: { value: ja, writable: !1, configurable: !1 }, errorCode: { value: V, writable: !1, configurable: !1 }, internalCode: { value: ba, writable: !1, configurable: !1 },
                                                    errorMessage: { value: wa, writable: !1, configurable: !1 }, userMessage: { value: ta, writable: !1, configurable: !1 }, errordata: { value: da, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: la, writable: !1, enumerable: !1, configurable: !1 }
                                                }); return this
                                            }, za)
                                        }, error: function (la) { Na(Ea, function () { la instanceof eb && (la.setEntity(fa), la.setMessageId(ja)); throw la; }, za) }
                                    })
                                }, za)
                            }, error: function (da) { Na(Ea, function () { da instanceof eb && (da.setEntity(fa), da.setMessageId(ja)); throw da; }, za) }
                        })
                    }, za)
                }, toJSON: function () {
                    var ea =
                        {}; ea[je] = this.entityAuthenticationData; ea[$e] = Eb(this.errordata); ea[ke] = Eb(this.signature); return ea
                }
            }); bf = function (ea, fa, ma, ja, V, ba, wa, ta, xa) { new Kc(ea, fa, ma, ja, V, ba, wa, ta, null, xa) }; af = function (ea, fa, ma, ja, V) {
                Na(V, function () {
                    if (!ma) throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND); try { var ba = ma.scheme, wa = ea.getEntityAuthenticationFactory(ba); if (!wa) throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND, ba); var ta = wa.getCryptoContext(ea, ma) } catch (xa) { throw xa instanceof eb && xa.setEntity(ma), xa; } try { fa = Gb(fa) } catch (xa) {
                        throw (new Ib(W.HEADER_DATA_INVALID,
                            fa, xa)).setEntity(ma);
                    } if (!fa || 0 == fa.length) throw (new Ib(W.HEADER_DATA_MISSING, fa)).setEntity(ma); ta.verify(fa, ja, {
                        result: function (xa) {
                            Na(V, function () {
                                if (!xa) throw (new tb(W.MESSAGE_VERIFICATION_FAILED)).setEntity(ma); ta.decrypt(fa, {
                                    result: function (Ea) {
                                        Na(V, function () {
                                            var za = Ub(Ea, Mb); try { var va = JSON.parse(za) } catch (Ta) { if (Ta instanceof SyntaxError) throw (new yb(W.JSON_PARSE_ERROR, "errordata " + za, Ta)).setEntity(ma); throw Ta; } var Y = va.recipient !== Bb ? va.recipient : null, da = parseInt(va.messageid), la = parseInt(va.errorcode),
                                                qa = parseInt(va.internalcode), Ja = va.errormsg, Ga = va.usermsg; if (Y && "string" !== typeof Y || !da || da != da || !la || la != la || va.internalcode && qa != qa || Ja && "string" !== typeof Ja || Ga && "string" !== typeof Ga) throw (new yb(W.JSON_PARSE_ERROR, "errordata " + za)).setEntity(ma); if (0 > da || da > Nb) throw (new Ib(W.MESSAGE_ID_OUT_OF_RANGE, "errordata " + za)).setEntity(ma); va = !1; for (var Ra in Ma) if (Ma[Ra] == la) { va = !0; break } va || (la = Ma.FAIL); if (qa) {
                                                    if (0 > qa) throw (new Ib(W.INTERNAL_CODE_NEGATIVE, "errordata " + za)).setEntity(ma).setMessageId(da);
                                                } else qa = -1; za = new ka(fa, ja); new Kc(ea, ma, Y, da, la, qa, Ja, Ga, za, V)
                                        })
                                    }, error: function (Ea) { Na(V, function () { Ea instanceof eb && Ea.setEntity(ma); throw Ea; }) }
                                })
                            })
                        }, error: function (xa) { Na(V, function () { xa instanceof eb && xa.setEntity(ma); throw xa; }) }
                    })
                })
            }
        })(); var Uf = Cb.Class.create({ getUserMessage: function (ka, ea) { } }), md, cf, me; (function () {
            me = function (ka, ea) {
                if (!ka || !ea) return null; var fa = ka.compressionAlgorithms.filter(function (ma) {
                    for (var ja = 0; ja < ea.compressionAlgorithms.length; ++ja)if (ma == ea.compressionAlgorithms[ja]) return !0;
                    return !1
                }); ka = ka.languages.filter(function (ma) { for (var ja = 0; ja < ea.languages.length; ++ja)if (ma == ea.languages[ja]) return !0; return !1 }); return new md(fa, ka)
            }; md = Cb.Class.create({
                init: function (ka, ea) { ka || (ka = []); ea || (ea = []); ka.sort(); Object.defineProperties(this, { compressionAlgorithms: { value: ka, writable: !1, enumerable: !0, configurable: !1 }, languages: { value: ea, writable: !1, enumerable: !0, configurable: !1 } }) }, toJSON: function () {
                    var ka = {}; ka.compressionalgos = this.compressionAlgorithms; ka.languages = this.languages;
                    return ka
                }, equals: function (ka) { return this === ka ? !0 : ka instanceof md ? ve(this.compressionAlgorithms, ka.compressionAlgorithms) && ve(this.languages, ka.languages) : !1 }, uniqueKey: function () { return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":") }
            }); cf = function (ka) {
                var ea = ka.compressionalgos, fa = ka.languages; if (ea && !(ea instanceof Array) || fa && !(fa instanceof Array)) throw new yb(W.JSON_PARSE_ERROR, "capabilities " + JSON.stringify(ka)); ka = []; for (var ma = 0; ea && ma < ea.length; ++ma) {
                    var ja = ea[ma]; Mc[ja] &&
                        ka.push(ja)
                } return new md(ka, fa)
            }
        })(); var nd, df, le, ef, ff; (function () {
            function ka(va, Y, da, la, qa) { this.customer = va; this.sender = Y; this.messageCryptoContext = da; this.headerdata = la; this.signature = qa } function ea(va, Y, da, la, qa, Ja, Ga, Ra, Ta, oa, Aa, Ba, Ka, Da, Qa, Ha, Xa, bb, Ya, jb) {
                return {
                    cryptoContext: { value: Y, writable: !1, configurable: !1 }, customer: { value: da, writable: !1, configurable: !1 }, entityAuthenticationData: { value: la, writable: !1, configurable: !1 }, masterToken: { value: qa, writable: !1, configurable: !1 }, sender: {
                        value: Ja,
                        writable: !1, configurable: !1
                    }, messageId: { value: Ga, writable: !1, configurable: !1 }, nonReplayableId: { value: Ha, writable: !1, configurable: !1 }, keyRequestData: { value: Ra, writable: !1, configurable: !1 }, keyResponseData: { value: Ta, writable: !1, configurable: !1 }, userAuthenticationData: { value: oa, writable: !1, configurable: !1 }, userIdToken: { value: Aa, writable: !1, configurable: !1 }, serviceTokens: { value: Ba, writable: !1, configurable: !1 }, peerMasterToken: { value: Ka, writable: !1, configurable: !1 }, peerUserIdToken: {
                        value: Da, writable: !1,
                        configurable: !1
                    }, peerServiceTokens: { value: Qa, writable: !1, configurable: !1 }, messageCapabilities: { value: bb, writable: !1, configurable: !1 }, renewable: { value: Xa, writable: !1, enumerable: !1, configurable: !1 }, headerdata: { value: Ya, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: jb, writable: !1, enumerable: !1, configurable: !1 }
                }
            } function fa(va, Y, da) {
                if (da) {
                    if (Y = va.getMslStore().getCryptoContext(da)) return Y; if (!da.isVerified() || !da.isDecrypted()) throw new Oc(W.MASTERTOKEN_UNTRUSTED, da); return new jc(va,
                        da)
                } da = Y.scheme; var la = va.getEntityAuthenticationFactory(da); if (!la) throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND, da); return la.getCryptoContext(va, Y)
            } function ma(va, Y, da, la, qa) { Na(qa, function () { Y.verify(da, la, { result: function (Ja) { Na(qa, function () { if (!Ja) throw new tb(W.MESSAGE_VERIFICATION_FAILED); Y.decrypt(da, { result: function (Ga) { Na(qa, function () { return Ub(Ga, Mb) }) }, error: function (Ga) { qa.error(Ga) } }) }) }, error: function (Ja) { qa.error(Ja) } }) }) } function ja(va, Y, da) { Na(da, function () { if (Y) Se(va, Y, da); else return null }) }
            function V(va, Y, da, la) { Na(la, function () { if (Y) Rc(va, Y, da, la); else return null }) } function ba(va, Y, da, la) { Na(la, function () { if (da) gf(va, Y, da, la); else return null }) } function wa(va, Y, da, la, qa, Ja, Ga) {
                function Ra(oa, Aa, Ba) { if (Aa >= oa.length) { var Ka = [], Da; for (Da in Ta) Ka.push(Ta[Da]); Ba.result(Ka) } else { Ka = oa[Aa]; if ("object" !== typeof Ka) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + Ja); Hd(va, Ka, da, la, qa, { result: function (Qa) { Na(Ba, function () { Ta[Qa.uniqueKey()] = Qa; Ra(oa, Aa + 1, Ba) }) }, error: function (Qa) { Ba.error(Qa) } }) } }
                var Ta = {}; Na(Ga, function () { if (Y) { if (!(Y instanceof Array)) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + Ja); Ra(Y, 0, Ga) } else return [] })
            } function ta(va, Y, da, la, qa, Ja) {
                function Ga(Ta, oa, Aa) { Na(Aa, function () { var Ba = oa.peermastertoken; if (Ba && "object" !== typeof Ba) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + qa); if (!Ba) return null; Qc(Ta, Ba, Aa) }) } function Ra(Ta, oa, Aa, Ba) {
                    Na(Ba, function () {
                        var Ka = oa.peeruseridtoken; if (Ka && "object" !== typeof Ka) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + qa); if (!Ka) return null;
                        Rc(Ta, Ka, Aa, Ba)
                    })
                } Na(Ja, function () {
                    if (!va.isPeerToPeer()) return { peerMasterToken: null, peerUserIdToken: null, peerServiceTokens: [] }; Ga(va, Y, {
                        result: function (Ta) {
                            Na(Ja, function () {
                                var oa = da ? da.masterToken : Ta; Ra(va, Y, oa, {
                                    result: function (Aa) { Na(Ja, function () { wa(va, Y.peerservicetokens, oa, Aa, la, qa, { result: function (Ba) { Na(Ja, function () { return { peerMasterToken: Ta, peerUserIdToken: Aa, peerServiceTokens: Ba } }) }, error: function (Ba) { Na(Ja, function () { Ba instanceof eb && (Ba.setEntity(oa), Ba.setUser(Aa)); throw Ba; }) } }) }) },
                                    error: function (Aa) { Na(Ja, function () { Aa instanceof eb && Aa.setEntity(oa); throw Aa; }) }
                                })
                            })
                        }, error: Ja.error
                    })
                })
            } function xa(va, Y, da, la) { function qa(Ga, Ra) { Na(la, function () { if (Ra >= Ga.length) return Ja; Re(va, Ga[Ra], { result: function (Ta) { Na(la, function () { Ja.push(Ta); qa(Ga, Ra + 1) }) }, error: function (Ta) { la.error(Ta) } }) }) } var Ja = []; Na(la, function () { var Ga = Y.keyrequestdata; if (!Ga) return Ja; if (!(Ga instanceof Array)) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + da); qa(Ga, 0) }) } var Ea = ef = Cb.Class.create({
                init: function (va,
                    Y, da, la, qa, Ja, Ga, Ra, Ta) {
                    Object.defineProperties(this, {
                        messageId: { value: va, writable: !1, configurable: !1 }, nonReplayableId: { value: Y, writable: !1, configurable: !1 }, renewable: { value: da, writable: !1, configurable: !1 }, capabilities: { value: la, writable: !1, configurable: !1 }, keyRequestData: { value: qa, writable: !1, configurable: !1 }, keyResponseData: { value: Ja, writable: !1, configurable: !1 }, userAuthData: { value: Ga, writable: !1, configurable: !1 }, userIdToken: { value: Ra, writable: !1, configurable: !1 }, serviceTokens: {
                            value: Ta, writable: !1,
                            configurable: !1
                        }
                    })
                }
            }), za = ff = Cb.Class.create({ init: function (va, Y, da) { Object.defineProperties(this, { peerMasterToken: { value: va, writable: !1, configurable: !1 }, peerUserIdToken: { value: Y, writable: !1, configurable: !1 }, peerServiceTokens: { value: da, writable: !1, configurable: !1 } }) } }); nd = Cb.Class.create({
                init: function (va, Y, da, la, qa, Ja, Ga) {
                    function Ra(oa) {
                        Na(Ga, function () {
                            Y = da ? null : Y; var Aa = la.nonReplayableId, Ba = la.renewable, Ka = la.capabilities, Da = la.messageId, Qa = la.keyRequestData ? la.keyRequestData : [], Ha = la.keyResponseData,
                                Xa = la.userAuthData, bb = la.userIdToken, Ya = la.serviceTokens ? la.serviceTokens : []; if (va.isPeerToPeer()) { var jb = qa.peerMasterToken; var mb = qa.peerUserIdToken; var nb = qa.peerServiceTokens ? qa.peerServiceTokens : [] } else mb = jb = null, nb = []; if (0 > Da || Da > Nb) throw new vb("Message ID " + Da + " is out of range."); if (!Y && !da) throw new vb("Message entity authentication data or master token must be provided."); if (Ha) if (va.isPeerToPeer()) { var qb = da; var rb = Ha.masterToken } else qb = Ha.masterToken, rb = jb; else qb = da, rb = jb; if (bb && (!qb ||
                                    !bb.isBoundTo(qb))) throw new vb("User ID token must be bound to a master token."); if (mb && (!rb || !mb.isBoundTo(rb))) throw new vb("Peer user ID token must be bound to a peer master token."); Ya.forEach(function (b) {
                                        if (b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb))) throw new vb("Master token bound service tokens must be bound to the provided master token."); if (b.isUserIdTokenBound() && (!bb || !b.isBoundTo(bb))) throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");
                                    }, this); nb.forEach(function (b) { if (b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb))) throw new vb("Master token bound peer service tokens must be bound to the provided peer master token."); if (b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb))) throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token."); }, this); if (Ja) {
                                        r = Ja.customer; var Ab = Ja.messageCryptoContext; var xb = ea(va, Ab, r, Y, da, oa, Da, Qa, Ha, Xa, bb, Ya, jb, mb, nb, Aa, Ba, Ka, Ja.headerdata, Ja.signature); Object.defineProperties(this,
                                            xb); return this
                                    } var r = bb ? bb.customer : null; xb = {}; oa && (xb.sender = oa); xb.messageid = Da; "number" === typeof Aa && (xb.nonreplayableid = Aa); xb.renewable = Ba; Ka && (xb.capabilities = Ka); 0 < Qa.length && (xb.keyrequestdata = Qa); Ha && (xb.keyresponsedata = Ha); Xa && (xb.userauthdata = Xa); bb && (xb.useridtoken = bb); 0 < Ya.length && (xb.servicetokens = Ya); jb && (xb.peermastertoken = jb); mb && (xb.peeruseridtoken = mb); 0 < nb.length && (xb.peerservicetokens = nb); try { Ab = fa(va, Y, da) } catch (b) {
                                        throw b instanceof eb && (b.setEntity(da), b.setEntity(Y), b.setUser(bb),
                                            b.setUser(Xa), b.setMessageId(Da)), b;
                                    } xb = Rb(JSON.stringify(xb), Mb); Ab.encrypt(xb, {
                                        result: function (b) { Na(Ga, function () { Ab.sign(b, { result: function (a) { Na(Ga, function () { var c = ea(va, Ab, r, Y, da, oa, Da, Qa, Ha, Xa, bb, Ya, jb, mb, nb, Aa, Ba, Ka, b, a); Object.defineProperties(this, c); return this }, Ta) }, error: function (a) { Na(Ga, function () { a instanceof eb && (a.setEntity(da), a.setEntity(Y), a.setUser(bb), a.setUser(Xa), a.setMessageId(Da)); throw a; }, Ta) } }) }, Ta) }, error: function (b) {
                                            Na(Ga, function () {
                                                b instanceof eb && (b.setEntity(da),
                                                    b.setEntity(Y), b.setUser(bb), b.setUser(Xa), b.setMessageId(Da)); throw b;
                                            }, Ta)
                                        }
                                    })
                        }, Ta)
                    } var Ta = this; Na(Ga, function () { Ja ? Ra(Ja.sender) : da ? va.getEntityAuthenticationData(null, { result: function (oa) { oa = oa.getIdentity(); Ra(oa) }, error: Ga.error }) : Ra(null) }, Ta)
                }, isEncrypting: function () { return this.masterToken || Rd(this.entityAuthenticationData.scheme) }, isRenewable: function () { return this.renewable }, toJSON: function () {
                    var va = {}; this.masterToken ? va[Ye] = this.masterToken : va[je] = this.entityAuthenticationData; va[Ze] =
                        Eb(this.headerdata); va[ke] = Eb(this.signature); return va
                }
            }); df = function (va, Y, da, la, qa, Ja) { new nd(va, Y, da, la, qa, null, Ja) }; le = function (va, Y, da, la, qa, Ja, Ga) {
                Na(Ga, function () {
                    da = la ? null : da; if (!da && !la) throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND); var Ra = Y; try { Y = Gb(Ra) } catch (oa) { throw new Ib(W.HEADER_DATA_INVALID, Ra, oa); } if (!Y || 0 == Y.length) throw new Ib(W.HEADER_DATA_MISSING, Ra); try { var Ta = fa(va, da, la) } catch (oa) { throw oa instanceof eb && (oa.setEntity(la), oa.setEntity(da)), oa; } ma(va, Ta, Y, qa, {
                        result: function (oa) {
                            Na(Ga,
                                function () {
                                    try { var Aa = JSON.parse(oa) } catch (Ha) { if (Ha instanceof SyntaxError) throw (new yb(W.JSON_PARSE_ERROR, "headerdata " + oa, Ha)).setEntity(la).setEntity(da); throw Ha; } var Ba = parseInt(Aa.messageid); if (!Ba || Ba != Ba) throw (new yb(W.JSON_PARSE_ERROR, "headerdata " + oa)).setEntity(la).setEntity(da); if (0 > Ba || Ba > Nb) throw (new Ib(W.MESSAGE_ID_OUT_OF_RANGE, "headerdata " + oa)).setEntity(la).setEntity(da); var Ka = la ? Aa.sender : null; if (la && (!Ka || "string" !== typeof Ka)) throw (new yb(W.JSON_PARSE_ERROR, "headerdata " + oa)).setEntity(la).setEntity(da).setMessageId(Ba);
                                    var Da = Aa.keyresponsedata; if (Da && "object" !== typeof Da) throw (new yb(W.JSON_PARSE_ERROR, "headerdata " + oa)).setEntity(la).setEntity(da).setMessageId(Ba); var Qa = Ga; Ga = { result: function (Ha) { Qa.result(Ha) }, error: function (Ha) { Ha instanceof eb && (Ha.setEntity(la), Ha.setEntity(da), Ha.setMessageId(Ba)); Qa.error(Ha) } }; ja(va, Da, {
                                        result: function (Ha) {
                                            Na(Ga, function () {
                                                var Xa = !va.isPeerToPeer() && Ha ? Ha.masterToken : la, bb = Aa.useridtoken; if (bb && "object" !== typeof bb) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + oa); V(va,
                                                    bb, Xa, {
                                                    result: function (Ya) {
                                                        Na(Ga, function () {
                                                            var jb = Aa.userauthdata; if (jb && "object" !== typeof jb) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + oa); ba(va, Xa, jb, {
                                                                result: function (mb) {
                                                                    Na(Ga, function () {
                                                                        if (mb) { var nb = mb.scheme, qb = va.getUserAuthenticationFactory(nb); if (!qb) throw (new Hb(W.USERAUTH_FACTORY_NOT_FOUND, nb)).setUser(Ya).setUser(mb); nb = la ? la.identity : da.getIdentity(); var rb = qb.authenticate(va, nb, mb, Ya) } else rb = Ya ? Ya.customer : null; wa(va, Aa.servicetokens, Xa, Ya, Ja, oa, {
                                                                            result: function (Ab) {
                                                                                Na(Ga, function () {
                                                                                    var xb =
                                                                                        Aa.nonreplayableid !== Bb ? parseInt(Aa.nonreplayableid) : null, r = Aa.renewable; if (xb != xb || "boolean" !== typeof r) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + oa); if (0 > xb || xb > Nb) throw new Ib(W.NONREPLAYABLE_ID_OUT_OF_RANGE, "headerdata " + oa); var b = null, a = Aa.capabilities; if (a) { if ("object" !== typeof a) throw new yb(W.JSON_PARSE_ERROR, "headerdata " + oa); b = cf(a) } xa(va, Aa, oa, {
                                                                                            result: function (c) {
                                                                                                ta(va, Aa, Ha, Ja, oa, {
                                                                                                    result: function (f) {
                                                                                                        Na(Ga, function () {
                                                                                                            var k = f.peerMasterToken, m = f.peerUserIdToken, g = f.peerServiceTokens,
                                                                                                                d = new Ea(Ba, xb, r, b, c, Ha, mb, Ya, Ab); k = new za(k, m, g); m = new ka(rb, Ka, Ta, Y, qa); new nd(va, da, la, d, k, m, Ga)
                                                                                                        })
                                                                                                    }, error: Ga.error
                                                                                                })
                                                                                            }, error: function (c) { Na(Ga, function () { c instanceof eb && (c.setUser(Ya), c.setUser(mb)); throw c; }) }
                                                                                        })
                                                                                })
                                                                            }, error: function (Ab) { Na(Ga, function () { Ab instanceof eb && (Ab.setEntity(Xa), Ab.setUser(Ya), Ab.setUser(mb)); throw Ab; }) }
                                                                        })
                                                                    })
                                                                }, error: Ga.error
                                                            })
                                                        })
                                                    }, error: Ga.error
                                                })
                                            })
                                        }, error: Ga.error
                                    })
                                })
                        }, error: Ga.error
                    })
                })
            }
        })(); var ne, hf, jf; (function () {
            function ka(ea, fa) { this.payload = ea; this.signature = fa }
            ne = Cb.Class.create({
                init: function (ea, fa, ma, ja, V, ba, wa, ta) {
                    var xa = this; Na(ta, function () {
                        if (0 > ea || ea > Nb) throw new vb("Sequence number " + ea + " is outside the valid range."); if (0 > fa || fa > Nb) throw new vb("Message ID " + fa + " is outside the valid range."); if (wa) return Object.defineProperties(this, {
                            sequenceNumber: { value: ea, writable: !1, configurable: !1 }, messageId: { value: fa, writable: !1, configurable: !1 }, compressionAlgo: { value: ja, writable: !1, configurable: !1 }, data: { value: V, writable: !1, configurable: !1 }, endofmsg: {
                                value: ma,
                                writable: !1, enumerable: !1, configurable: !1
                            }, payload: { value: wa.payload, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: wa.signature, writable: !1, enumerable: !1, configurable: !1 }
                        }), this; if (ja) { var Ea = oe(ja, V); Ea || (ja = null, Ea = V) } else ja = null, Ea = V; var za = {}; za.sequencenumber = ea; za.messageid = fa; ma && (za.endofmsg = ma); ja && (za.compressionalgo = ja); za.data = Eb(Ea); Ea = Rb(JSON.stringify(za), Mb); ba.encrypt(Ea, {
                            result: function (va) {
                                Na(ta, function () {
                                    ba.sign(va, {
                                        result: function (Y) {
                                            Na(ta, function () {
                                                Object.defineProperties(this,
                                                    { sequenceNumber: { value: ea, writable: !1, configurable: !1 }, messageId: { value: fa, writable: !1, configurable: !1 }, compressionAlgo: { value: ja, writable: !1, configurable: !1 }, data: { value: V, writable: !1, configurable: !1 }, endofmsg: { value: ma, writable: !1, enumerable: !1, configurable: !1 }, payload: { value: va, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: Y, writable: !1, enumerable: !1, configurable: !1 } }); return this
                                            }, xa)
                                        }, error: function (Y) { ta.error(Y) }
                                    })
                                }, xa)
                            }, error: function (va) { ta.error(va) }
                        })
                    }, xa)
                }, isEndOfMessage: function () { return this.endofmsg },
                toJSON: function () { var ea = {}; ea.payload = Eb(this.payload); ea.signature = Eb(this.signature); return ea }
            }); hf = function (ea, fa, ma, ja, V, ba, wa) { new ne(ea, fa, ma, ja, V, ba, null, wa) }; jf = function (ea, fa, ma) {
                Na(ma, function () {
                    var ja = ea.payload, V = ea.signature; if (!ja || "string" !== typeof ja || "string" !== typeof V) throw new yb(W.JSON_PARSE_ERROR, "payload chunk " + JSON.stringify(ea)); try { var ba = Gb(ja) } catch (ta) { throw new Ib(W.PAYLOAD_INVALID, "payload chunk " + JSON.stringify(ea), ta); } try { var wa = Gb(V) } catch (ta) {
                        throw new Ib(W.PAYLOAD_SIGNATURE_INVALID,
                            "payload chunk " + JSON.stringify(ea), ta);
                    } fa.verify(ba, wa, {
                        result: function (ta) {
                            Na(ma, function () {
                                if (!ta) throw new tb(W.PAYLOAD_VERIFICATION_FAILED); fa.decrypt(ba, {
                                    result: function (xa) {
                                        Na(ma, function () {
                                            var Ea = Ub(xa, Mb); try { var za = JSON.parse(Ea) } catch (Ja) { if (Ja instanceof SyntaxError) throw new yb(W.JSON_PARSE_ERROR, "payload chunk payload " + Ea, Ja); throw Ja; } var va = parseInt(za.sequencenumber), Y = parseInt(za.messageid), da = za.endofmsg, la = za.compressionalgo; za = za.data; if (!va || va != va || !Y || Y != Y || da && "boolean" !==
                                                typeof da || la && "string" !== typeof la || "string" !== typeof za) throw new yb(W.JSON_PARSE_ERROR, "payload chunk payload " + Ea); if (0 > va || va > Nb) throw new eb(W.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE, "payload chunk payload " + Ea); if (0 > Y || Y > Nb) throw new eb(W.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE, "payload chunk payload " + Ea); da || (da = !1); if (la && !Mc[la]) throw new Ib(W.UNIDENTIFIED_COMPRESSION, la); try { var qa = Gb(za) } catch (Ja) { throw new Ib(W.PAYLOAD_DATA_CORRUPT, za, Ja); } if (qa && 0 != qa.length) Ea = la ? Id(la, qa) : qa; else {
                                                    if (0 < za.length) throw new Ib(W.PAYLOAD_DATA_CORRUPT,
                                                        za); if (da) Ea = new Uint8Array(0); else throw new Ib(W.PAYLOAD_DATA_MISSING, za);
                                                } qa = new ka(ba, wa); new ne(va, Y, da, la, Ea, fa, qa, ma)
                                        })
                                    }, error: function (xa) { ma.error(xa) }
                                })
                            })
                        }, error: function (ta) { ma.error(ta) }
                    })
                })
            }
        })(); var Jd, Sc, dd, Tc, kf, lf; (function () {
            function ka(V, ba, wa, ta, xa) {
                function Ea() {
                    Na(xa, function () {
                        va >= ba.length && (va = 0, ++za); if (za >= Y.length) { if (da) throw da; throw new Pb(W.KEYX_FACTORY_NOT_FOUND, JSON.stringify(ba)); } var qa = Y[za], Ja = ba[va]; qa.scheme != Ja.keyExchangeScheme ? (++va, Ea()) : qa.generateResponse(V,
                            Ja, la, { result: function (Ga) { xa.result(Ga) }, error: function (Ga) { Na(xa, function () { if (!(Ga instanceof eb)) throw Ga; da = Ga; ++va; Ea() }) } })
                    })
                } var za = 0, va = 0, Y = V.getKeyExchangeFactories(), da, la = wa ? wa : ta; Ea()
            } function ea(V, ba, wa, ta, xa) {
                Na(xa, function () {
                    var Ea = ba.keyRequestData; if (ba.isRenewable() && 0 < Ea.length) ta ? ta.isRenewable() || ta.isExpired() ? ka(V, Ea, ta, null, xa) : V.getTokenFactory().isNewestMasterToken(V, ta, { result: function (za) { Na(xa, function () { if (za) return null; ka(V, Ea, ta, null, xa) }) }, error: xa.error }) : ka(V,
                        Ea, null, wa.getIdentity(), xa); else return null
                })
            } function fa(V, ba, wa, ta) {
                Na(ta, function () {
                    var xa = ba.userIdToken, Ea = ba.userAuthenticationData, za = ba.messageId; if (xa && xa.isVerified()) { if (xa.isRenewable() && ba.isRenewable() || xa.isExpired() || !xa.isBoundTo(wa)) { Ea = V.getTokenFactory(); Ea.renewUserIdToken(V, xa, wa, ta); return } } else if (ba.isRenewable() && wa && Ea) {
                        xa = ba.customer; if (!xa) {
                            xa = Ea.scheme; var va = V.getUserAuthenticationFactory(xa); if (!va) throw (new Hb(W.USERAUTH_FACTORY_NOT_FOUND, xa)).setEntity(wa).setUser(Ea).setMessageId(za);
                            xa = va.authenticate(V, wa.identity, Ea, null)
                        } Ea = V.getTokenFactory(); Ea.createUserIdToken(V, xa, wa, ta); return
                    } return xa
                })
            } var ma = new Uint8Array(0), ja = Sc = function (V) { if (0 > V || V > Nb) throw new vb("Message ID " + V + " is outside the valid range."); return V == Nb ? 0 : V + 1 }; dd = function (V) { if (0 > V || V > Nb) throw new vb("Message ID " + V + " is outside the valid range."); return 0 == V ? Nb : V - 1 }; Tc = function (V, ba, wa, ta, xa) {
                Na(xa, function () {
                    if (ta == Bb || null == ta) { var Ea = V.getRandom(); do ta = Ea.nextLong(); while (0 > ta || ta > Nb) } else if (0 > ta ||
                        ta > Nb) throw new vb("Message ID " + ta + " is outside the valid range."); V.getEntityAuthenticationData(null, { result: function (za) { Na(xa, function () { var va = V.getMessageCapabilities(); return new Jd(V, ta, va, za, ba, wa, null, null, null, null, null) }) }, error: function (za) { xa.error(za) } })
                })
            }; kf = function (V, ba, wa) {
                Na(wa, function () {
                    function ta(la) { Na(wa, function () { la instanceof eb && (la.setEntity(xa), la.setEntity(Ea), la.setUser(za), la.setUser(va), la.setMessageId(Y)); throw la; }) } var xa = ba.masterToken, Ea = ba.entityAuthenticationData,
                        za = ba.userIdToken, va = ba.userAuthenticationData, Y = ba.messageId, da = ja(Y); ea(V, ba, Ea, xa, {
                            result: function (la) {
                                Na(wa, function () {
                                    var qa = la ? la.keyResponseData.masterToken : qa = xa; V.getEntityAuthenticationData(null, {
                                        result: function (Ja) {
                                            Na(wa, function () {
                                                fa(V, ba, qa, {
                                                    result: function (Ga) {
                                                        Na(wa, function () {
                                                            za = Ga; var Ra = me(ba.messageCapabilities, V.getMessageCapabilities()), Ta = ba.keyResponseData, oa = ba.serviceTokens; return V.isPeerToPeer() ? new Jd(V, da, Ra, Ja, Ta ? Ta.masterToken : ba.peerMasterToken, ba.peerUserIdToken, ba.peerServiceTokens,
                                                                xa, za, oa, la) : new Jd(V, da, Ra, Ja, Ta ? Ta.masterToken : xa, za, oa, null, null, null, la)
                                                        })
                                                    }, error: ta
                                                })
                                            })
                                        }, error: ta
                                    })
                                })
                            }, error: ta
                        })
                })
            }; lf = function (V, ba, wa, ta, xa) { Na(xa, function () { V.getEntityAuthenticationData(null, { result: function (Ea) { Na(xa, function () { if (ba != Bb && null != ba) var za = ja(ba); else { var va = V.getRandom(); do za = va.nextInt(); while (0 > za || za > Nb) } bf(V, Ea, za, wa.responseCode, wa.internalCode, wa.message, ta, xa) }) }, error: function (Ea) { xa.error(Ea) } }) }) }; Jd = Cb.Class.create({
                init: function (V, ba, wa, ta, xa, Ea, za, va, Y, da,
                    la) {
                    if (!V.isPeerToPeer() && (va || Y)) throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode."); var qa = la && !V.isPeerToPeer() ? la.keyResponseData.masterToken : xa; var Ja = []; qa = V.getMslStore().getServiceTokens(qa, Ea); Ja.push.apply(Ja, qa); za && za.forEach(function (oa) { Ja.push(oa) }, this); var Ga = []; if (V.isPeerToPeer()) {
                        var Ra = va; var Ta = Y; za = la ? la.keyResponseData.masterToken : va; Y = V.getMslStore().getServiceTokens(za, Y); Ga.push.apply(Ga, Y); da && da.forEach(function (oa) { Ga.push(oa) },
                            this)
                    } Object.defineProperties(this, {
                        _ctx: { value: V, writable: !1, enumerable: !1, configurable: !1 }, _entityAuthData: { value: ta, writable: !1, enumerable: !1, configurable: !1 }, _masterToken: { value: xa, writable: !0, enumerable: !1, configurable: !1 }, _messageId: { value: ba, writable: !1, enumerable: !1, configurable: !1 }, _capabilities: { value: wa, writable: !1, enumerable: !1, configurable: !1 }, _keyExchangeData: { value: la, writable: !1, enumerable: !1, configurable: !1 }, _nonReplayable: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _renewable: {
                            value: !1,
                            writable: !0, enumerable: !1, configurable: !1
                        }, _keyRequestData: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, _userAuthData: { value: null, writable: !0, enumerable: !1, configurable: !1 }, _userIdToken: { value: Ea, writable: !0, enumerable: !1, configurable: !1 }, _serviceTokens: { value: Ja, writable: !1, enumerable: !1, configurable: !1 }, _peerMasterToken: { value: Ra, writable: !0, enumerable: !1, configurable: !1 }, _peerUserIdToken: { value: Ta, writable: !0, enumerable: !1, configurable: !1 }, _peerServiceTokens: {
                            value: Ga, writable: !1, enumerable: !1,
                            configurable: !1
                        }
                    })
                }, getMessageId: function () { return this._messageId }, getMasterToken: function () { return this._masterToken }, getUserIdToken: function () { return this._userIdToken }, getKeyExchangeData: function () { return this._keyExchangeData }, willEncryptHeader: function () { return this._masterToken || Rd(this._entityAuthData.scheme) }, willEncryptPayloads: function () { return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Rd(this._entityAuthData.scheme) }, willIntegrityProtectHeader: function () {
                    return this._masterToken ||
                        we(this._entityAuthData.scheme)
                }, willIntegrityProtectPayloads: function () { return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || we(this._entityAuthData.scheme) }, getHeader: function (V) {
                    Na(V, function () {
                        var ba = this._keyExchangeData ? this._keyExchangeData.keyResponseData : null, wa = []; for (ta in this._keyRequestData) wa.push(this._keyRequestData[ta]); if (this._nonReplayable) { if (!this._masterToken) throw new Ib(W.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN); var ta = this._ctx.getMslStore().getNonReplayableId(this._masterToken) } else ta =
                            null; ba = new ef(this._messageId, ta, this._renewable, this._capabilities, wa, ba, this._userAuthData, this._userIdToken, this._serviceTokens); wa = new ff(this._peerMasterToken, this._peerUserIdToken, this._peerServiceTokens); df(this._ctx, this._entityAuthData, this._masterToken, ba, wa, V)
                    }, this)
                }, isNonReplayable: function () { return this._nonReplayable }, setNonReplayable: function (V) { this._nonReplayable = V; return this }, isRenewable: function () { return this._renewable }, setRenewable: function (V) { this._renewable = V; return this },
                setAuthTokens: function (V, ba) {
                    if (ba && !ba.isBoundTo(V)) throw new vb("User ID token must be bound to master token."); if (this._keyExchangeData && !this._ctx.isPeerToPeer()) throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server."); try { var wa = this._ctx.getMslStore().getServiceTokens(V, ba) } catch (Ea) { if (Ea instanceof eb) throw new vb("Invalid master token and user ID token combination despite checking above.", Ea); throw Ea; } for (var ta = this._serviceTokens.length -
                        1; 0 <= ta; --ta) { var xa = this._serviceTokens[ta]; (xa.isUserIdTokenBound() && !xa.isBoundTo(ba) || xa.isMasterTokenBound() && !xa.isBoundTo(V)) && this._serviceTokens.splice(ta, 1) } wa.forEach(function (Ea) { this.excludeServiceToken(Ea.name, Ea.isMasterTokenBound(), Ea.isUserIdTokenBound()); this._serviceTokens.push(Ea) }, this); this._masterToken = V; this._userIdToken = ba
                }, setUserAuthenticationData: function (V) { this._userAuthData = V; return this }, setCustomer: function (V, ba) {
                    var wa = this; Na(ba, function () {
                        if (!this._ctx.isPeerToPeer() &&
                            null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken) throw new vb("User ID token or peer user ID token already exists for the remote user."); var ta = this._keyExchangeData ? this._keyExchangeData.keyResponseData.masterToken : this._ctx.isPeerToPeer() ? this._peerMasterToken : this._masterToken; if (!ta) throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists."); this._ctx.getTokenFactory().createUserIdToken(this._ctx, V, ta, {
                                result: function (xa) {
                                    Na(ba,
                                        function () { this._ctx.isPeerToPeer() ? this._peerUserIdToken = xa : (this._userIdToken = xa, this._userAuthData = null); return !0 }, wa)
                                }, error: function (xa) { ba.error(xa) }
                            })
                    }, wa)
                }, addKeyRequestData: function (V) { this._keyRequestData[V.uniqueKey()] = V; return this }, removeKeyRequestData: function (V) { delete this._keyRequestData[V.uniqueKey()]; return this }, addServiceToken: function (V) {
                    var ba = this._keyExchangeData && !this._ctx.isPeerToPeer() ? this._keyExchangeData.keyResponseData.masterToken : this._masterToken; if (V.isMasterTokenBound() &&
                        !V.isBoundTo(ba)) throw (new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH, "st " + JSON.stringify(V) + "; mt " + JSON.stringify(ba))).setEntity(ba); if (V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken)) throw (new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH, "st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken))).setEntity(ba).setUser(this._userIdToken); this.excludeServiceToken(V.name, V.isMasterTokenBound(), V.isUserIdTokenBound()); this._serviceTokens.push(V); return this
                }, addServiceTokenIfAbsent: function (V) {
                    for (var ba =
                        this._serviceTokens.length - 1; 0 <= ba; --ba) { var wa = this._serviceTokens[ba]; if (wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound()) return this } this.addServiceToken(V); return this
                }, excludeServiceToken: function () {
                    if (1 == arguments.length) { var V = arguments[0]; var ba = V.name; var wa = V.isMasterTokenBound(); V = V.isUserIdTokenBound() } else arguments.length = 3, ba = arguments[0], wa = arguments[1], V = arguments[2]; for (var ta = this._serviceTokens.length - 1; 0 <= ta; --ta) {
                        var xa =
                            this._serviceTokens[ta]; xa.name == ba && xa.isMasterTokenBound() == wa && xa.isUserIdTokenBound() == V && this._serviceTokens.splice(ta, 1)
                    } return this
                }, deleteServiceToken: function () {
                    if (2 == arguments.length) { var V = arguments[0]; var ba = V.name; V.isMasterTokenBound(); V.isUserIdTokenBound(); var wa = arguments[1] } else arguments.length = 4, ba = arguments[0], wa = arguments[3]; var ta = this; Na(wa, function () {
                        var xa = originalToken.isMasterTokenBound() ? this._masterToken : null, Ea = originalToken.isUserIdTokenBound() ? this._userIdToken : null;
                        Dc(this._ctx, ba, ma, xa, Ea, !1, null, new cd, { result: function (za) { Na(wa, function () { return this.addServiceToken(za) }, ta) }, error: function (za) { za instanceof eb && (za = new vb("Failed to create and add empty service token to message.", za)); wa.error(za) } })
                    }, ta)
                }, getServiceTokens: function () { var V = []; V.push.apply(V, this._serviceTokens); return V }, getPeerMasterToken: function () { return this._peerMasterToken }, getPeerUserIdToken: function () { return this._peerUserIdToken }, setPeerAuthTokens: function (V, ba) {
                    if (!this._ctx.isPeerToPeer()) throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");
                    if (ba && !V) throw new vb("Peer master token cannot be null when setting peer user ID token."); if (ba && !ba.isBoundTo(V)) throw (new Ib(W.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit " + ba + "; mt " + V)).setEntity(V).setUser(ba); try { var wa = this._ctx.getMslStore().getServiceTokens(V, ba) } catch (Ea) { if (Ea instanceof eb) throw new vb("Invalid peer master token and user ID token combination despite proper check.", Ea); throw Ea; } for (var ta = this._peerServiceTokens.length - 1; 0 <= ta; --ta) {
                        var xa = this._peerServiceTokens[ta]; (xa.isUserIdTokenBound() &&
                            !xa.isBoundTo(ba) || xa.isMasterTokenBound() && !xa.isBoundTo(V)) && this._peerServiceTokens.slice(ta, 1)
                    } wa.forEach(function (Ea) { this.excludePeerServiceToken(Ea.name, Ea.isMasterTokenBound(), Ea.isUserIdTokenBound()); this._peerServiceTokens.push(Ea) }, this); this._peerUserIdToken = ba; this._peerMasterToken = V; return this
                }, addPeerServiceToken: function (V) {
                    if (!this._ctx.isPeerToPeer()) throw new vb("Cannot set peer service tokens when not in peer-to-peer mode."); if (V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken)) throw (new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,
                        "st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken))).setEntity(this._peerMasterToken); if (V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken)) throw (new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH, "st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken))).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken); this.excludePeerServiceToken(V.name, V.isMasterTokenBound(), V.isUserIdTokenBound()); this._peerServiceTokens.push(V); return this
                }, addPeerServiceTokenIfAbsent: function (V) {
                    for (var ba =
                        this._peerServiceTokens.length - 1; 0 <= ba; --ba) { var wa = this._peerServiceTokens[ba]; if (wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound()) return this } this.addPeerServiceToken(V); return this
                }, excludePeerServiceToken: function () {
                    if (1 == arguments.length) { var V = arguments[0]; var ba = V.name; var wa = V.isMasterTokenBound(); V = V.isUserIdTokenBound() } else arguments.length = 3, ba = arguments[0], wa = arguments[1], V = arguments[2]; for (var ta = this._peerServiceTokens.length -
                        1; 0 <= ta; --ta) { var xa = this._peerServiceTokens[ta]; xa.name == ba && xa.isMasterTokenBound() == wa && xa.isUserIdTokenBound() == V && this._peerServiceTokens.splice(ta, 1) } return this
                }, deletePeerServiceToken: function () {
                    if (2 == arguments.length) { var V = arguments[0]; var ba = V.name; var wa = V.isMasterTokenBound(); var ta = V.isUserIdTokenBound(); var xa = arguments[1] } else arguments.length = 4, ba = arguments[0], wa = arguments[1], ta = arguments[2], xa = arguments[3]; var Ea = this; Na(xa, function () {
                        Dc(this._ctx, ba, ma, wa ? this._peerMasterToken :
                            null, ta ? this._peerUserIdToken : null, !1, null, new cd, { result: function (za) { Na(xa, function () { return this.addPeerServiceToken(za) }, Ea) }, error: function (za) { za instanceof eb && (za = new vb("Failed to create and add empty peer service token to message.", za)); xa.error(za) } })
                    }, Ea)
                }, getPeerServiceTokens: function () { var V = []; V.push.apply(V, this._peerServiceTokens); return V }
            })
        })(); var mf; (function () {
            function ka(fa, ma) { return ma[fa] ? ma[fa] : ma[""] } function ea(fa) {
                var ma = fa.builder.getKeyExchangeData(); return ma && !fa.ctx.isPeerToPeer() ?
                    ma.keyResponseData.masterToken : fa.builder.getMasterToken()
            } mf = Cb.Class.create({
                init: function (fa, ma, ja) { fa = { ctx: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, cryptoContexts: { value: ma.getCryptoContexts(), writable: !1, enumerable: !1, configurable: !1 }, builder: { value: ja, writable: !1, enumerable: !1, configurable: !1 } }; Object.defineProperties(this, fa) }, isPrimaryMasterTokenAvailable: function () { return ea(this) ? !0 : !1 }, isPrimaryUserIdTokenAvailable: function () { return this.builder.getUserIdToken() ? !0 : !1 }, isPeerMasterTokenAvailable: function () {
                    return this.builder.getPeerMasterToken() ?
                        !0 : !1
                }, isPeerUserIdTokenAvailable: function () { return this.builder.getPeerUserIdToken() ? !0 : !1 }, getPrimaryServiceTokens: function () { return this.builder.getServiceTokens() }, getPeerServiceTokens: function () { return this.builder.getPeerServiceTokens() }, addPrimaryServiceToken: function (fa) { try { return this.builder.addServiceToken(fa), !0 } catch (ma) { if (ma instanceof Ib) return !1; throw ma; } }, addPeerServiceToken: function (fa) {
                    try { return this.builder.addPeerServiceToken(fa), !0 } catch (ma) {
                        if (ma instanceof Ib) return !1;
                        throw ma;
                    }
                }, addUnboundPrimaryServiceToken: function (fa, ma, ja, V, ba) { var wa = this; Na(ba, function () { var ta = ka(fa, this.cryptoContexts); if (!ta) return !1; Dc(this.ctx, fa, ma, null, null, ja, V, ta, { result: function (xa) { Na(ba, function () { try { this.builder.addServiceToken(xa) } catch (Ea) { if (Ea instanceof Ib) throw new vb("Service token bound to incorrect authentication tokens despite being unbound.", Ea); throw Ea; } return !0 }, wa) }, error: function (xa) { ba.error(xa) } }) }, wa) }, addUnboundPeerServiceToken: function (fa, ma, ja, V, ba) {
                    var wa =
                        this; Na(ba, function () { var ta = ka(fa, this.cryptoContexts); if (!ta) return !1; Dc(this.ctx, fa, ma, null, null, ja, V, ta, { result: function (xa) { Na(ba, function () { try { this.builder.addPeerServiceToken(xa) } catch (Ea) { if (Ea instanceof Ib) throw new vb("Service token bound to incorrect authentication tokens despite being unbound.", Ea); throw Ea; } return !0 }, wa) }, error: function (xa) { ba.error(xa) } }) }, wa)
                }, addMasterBoundPrimaryServiceToken: function (fa, ma, ja, V, ba) {
                    var wa = this; Na(ba, function () {
                        var ta = ea(this); if (!ta) return !1; var xa =
                            ka(fa, this.cryptoContexts); if (!xa) return !1; Dc(this.ctx, fa, ma, ta, null, ja, V, xa, { result: function (Ea) { Na(ba, function () { try { this.builder.addServiceToken(Ea) } catch (za) { if (za instanceof Ib) throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.", za); throw za; } return !0 }, wa) }, error: function (Ea) { ba.error(Ea) } })
                    }, wa)
                }, addMasterBoundPeerServiceToken: function (fa, ma, ja, V, ba) {
                    var wa = this; Na(ba, function () {
                        var ta = this.builder.getPeerMasterToken(); if (!ta) return !1;
                        var xa = ka(fa, this.cryptoContexts); if (!xa) return !1; Dc(this.ctx, fa, ma, ta, null, ja, V, xa, { result: function (Ea) { Na(ba, function () { try { this.builder.addPeerServiceToken(Ea) } catch (za) { if (za instanceof Ib) throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.", za); throw za; } return !0 }, wa) }, error: function (Ea) { ba.error(Ea) } })
                    }, wa)
                }, addUserBoundPrimaryServiceToken: function (fa, ma, ja, V, ba) {
                    var wa = this; Na(ba, function () {
                        var ta = ea(this); if (!ta) return !1; var xa = this.builder.getUserIdToken();
                        if (!xa) return !1; var Ea = ka(fa, this.cryptoContexts); if (!Ea) return !1; Dc(this.ctx, fa, ma, ta, xa, ja, V, Ea, { result: function (za) { Na(ba, function () { try { this.builder.addServiceToken(za) } catch (va) { if (va instanceof Ib) throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.", va); throw va; } return !0 }, wa) }, error: function (za) { ba.error(za) } })
                    }, wa)
                }, addUserBoundPeerServiceToken: function (fa, ma, ja, V, ba) {
                    var wa = this; Na(ba, function () {
                        var ta = this.builder.getPeerMasterToken();
                        if (!ta) return !1; var xa = this.builder.getPeerUserIdToken(); if (!xa) return !1; var Ea = ka(fa, this.cryptoContexts); if (!Ea) return !1; Dc(this.ctx, fa, ma, ta, xa, ja, V, Ea, { result: function (za) { Na(ba, function () { try { this.builder.addPeerServiceToken(za) } catch (va) { if (va instanceof Ib) throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.", va); throw va; } return !0 }, wa) }, error: function (za) { ba.error(za) } })
                    }, wa)
                }, excludePrimaryServiceToken: function () {
                    if (1 ==
                        arguments.length) { var fa = arguments[0]; var ma = fa.name; var ja = fa.isMasterTokenBound(); var V = fa.isUserIdTokenBound() } else arguments.length = 3, ma = arguments[0], ja = arguments[1], V = arguments[2]; for (var ba = this.builder.getServiceTokens(), wa = 0; wa < ba.length; ++wa)if (fa = ba[wa], fa.name == ma && fa.isMasterTokenBound() == ja && fa.isUserIdTokenBound() == V) return this.builder.excludeServiceToken(ma, ja, V), !0; return !1
                }, excludePeerServiceToken: function () {
                    if (1 == arguments.length) {
                        var fa = arguments[0]; var ma = fa.name; var ja = fa.isMasterTokenBound();
                        var V = fa.isUserIdTokenBound()
                    } else arguments.length = 3, ma = arguments[0], ja = arguments[1], V = arguments[2]; for (var ba = this.builder.getPeerServiceTokens(), wa = 0; wa < ba.length; ++wa)if (fa = ba[wa], fa.name == ma && fa.isMasterTokenBound() == ja && fa.isUserIdTokenBound() == V) return this.builder.excludePeerServiceToken(ma, ja, V), !0; return !1
                }, deletePrimaryServiceToken: function () {
                    if (2 == arguments.length) { var fa = arguments[0]; var ma = fa.name; var ja = fa.isMasterTokenBound(); var V = fa.isUserIdTokenBound(); var ba = arguments[1] } else 4 ==
                        arguments.length && (ma = arguments[0], ja = arguments[1], V = arguments[2], ba = arguments[3]); Na(ba, function () { for (var wa = this.builder.getServiceTokens(), ta = 0; ta < wa.length; ++ta) { var xa = wa[ta]; if (xa.name == ma && xa.isMasterTokenBound() == ja && xa.isUserIdTokenBound() == V) { this.builder.deleteServiceToken(ma, ja, V, { result: function () { ba.result(!0) }, error: function (Ea) { ba.error(Ea) } }); return } } return !1 }, this)
                }, deletePeerServiceToken: function () {
                    if (2 == arguments.length) {
                        var fa = arguments[0]; var ma = fa.name; var ja = fa.isMasterTokenBound();
                        var V = fa.isUserIdTokenBound(); var ba = arguments[1]
                    } else 4 == arguments.length && (ma = arguments[0], ja = arguments[1], V = arguments[2], ba = arguments[3]); Na(ba, function () { for (var wa = this.builder.getPeerServiceTokens(), ta = 0; ta < wa.length; ++ta) { var xa = wa[ta]; if (xa.name == ma && xa.isMasterTokenBound() == ja && xa.isUserIdTokenBound() == V) { this.builder.deletePeerServiceToken(ma, ja, V, { result: function () { ba.result(!0) }, error: function (Ea) { ba.error(Ea) } }); return } } return !1 }, this)
                }
            })
        })(); var nf, of; (function () {
            function ka(ea, fa, ma,
                ja) {
                Na(ja, function () {
                    function V() { Na(ja, function () { if (za >= ma.length) { if (Ea) throw Ea; throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH, JSON.stringify(ma)); } var va = ma[za]; ta != va.keyExchangeScheme ? (++za, V()) : xa.getCryptoContext(ea, va, wa, ba, { result: ja.result, error: function (Y) { Na(ja, function () { if (!(Y instanceof eb)) throw Y; Ea = Y; ++za; V() }) } }) }) } var ba = fa.masterToken, wa = fa.keyResponseData; if (!wa) return null; var ta = wa.keyExchangeScheme, xa = ea.getKeyExchangeFactory(ta); if (!xa) throw new Pb(W.KEYX_FACTORY_NOT_FOUND,
                        ta); var Ea, za = 0; V()
                })
            } nf = ge.extend({
                init: function (ea, fa, ma, ja, V, ba, wa) {
                    var ta = this; fb(wa, function () {
                        function xa() { ta._ready = !0; ta._readyQueue.add(!0) } function Ea(la, qa) {
                            try {
                                var Ja = qa.masterToken; la.getTokenFactory().isMasterTokenRevoked(la, Ja, {
                                    result: function (Ga) { Ga ? (ta._errored = (new Oc(Ga, Ja)).setUser(qa.userIdToken).setUser(qa.userAuthenticationData).setMessageId(qa.messageId), xa()) : za(la, qa) }, error: function (Ga) {
                                        Ga instanceof eb && (Ga.setEntity(qa.masterToken), Ga.setUser(qa.userIdToken), Ga.setUser(qa.userAuthenticationData),
                                            Ga.setMessageId(qa.messageId)); ta._errored = Ga; xa()
                                    }
                                })
                            } catch (Ga) { Ga instanceof eb && (Ga.setEntity(qa.masterToken), Ga.setUser(qa.userIdToken), Ga.setUser(qa.userAuthenticationData), Ga.setMessageId(qa.messageId)), ta._errored = Ga, xa() }
                        } function za(la, qa) {
                            try {
                                var Ja = qa.masterToken, Ga = qa.userIdToken; Ga ? la.getTokenFactory().isUserIdTokenRevoked(la, Ja, Ga, {
                                    result: function (Ra) { Ra ? (ta._errored = (new MslUserIdTokenException(Ra, Ga)).setEntity(Ja).setUser(Ga).setMessageId(qa.messageId), xa()) : va(la, qa) }, error: function (Ra) {
                                        Ra instanceof
                                            eb && (Ra.setEntity(qa.masterToken), Ra.setUser(qa.userIdToken), Ra.setUser(qa.userAuthenticationData), Ra.setMessageId(qa.messageId)); ta._errored = Ra; xa()
                                    }
                                }) : va(la, qa)
                            } catch (Ra) { Ra instanceof eb && (Ra.setEntity(qa.masterToken), Ra.setUser(qa.userIdToken), Ra.setUser(qa.userAuthenticationData), Ra.setMessageId(qa.messageId)), ta._errored = Ra, xa() }
                        } function va(la, qa) {
                            try {
                                var Ja = qa.masterToken; Ja.isExpired() ? qa.isRenewable() && 0 != qa.keyRequestData.length ? la.getTokenFactory().isMasterTokenRenewable(la, Ja, {
                                    result: function (Ga) {
                                        Ga ?
                                            (ta._errored = (new Ib(Ga, "Master token is expired and not renewable.")).setEntity(Ja).setUser(qa.userIdToken).setUser(qa.userAuthenticationData).setMessageId(qa.messageId), xa()) : Y(la, qa)
                                    }, error: function (Ga) { Ga instanceof eb && (Ga.setEntity(qa.masterToken), Ga.setUser(qa.userIdToken), Ga.setUser(qa.userAuthenticationData), Ga.setMessageId(qa.messageId)); ta._errored = Ga; xa() }
                                }) : (ta._errored = (new Ib(W.MESSAGE_EXPIRED, JSON.stringify(qa))).setEntity(Ja).setUser(qa.userIdToken).setUser(qa.userAuthenticationData).setMessageId(qa.messageId),
                                    xa()) : Y(la, qa)
                            } catch (Ga) { Ga instanceof eb && (Ga.setEntity(qa.masterToken), Ga.setUser(qa.userIdToken), Ga.setUser(qa.userAuthenticationData), Ga.setMessageId(qa.messageId)), ta._errored = Ga, xa() }
                        } function Y(la, qa) {
                            try {
                                var Ja = qa.masterToken, Ga = qa.nonReplayableId; "number" === typeof Ga ? Ja ? la.getTokenFactory().acceptNonReplayableId(la, Ja, Ga, {
                                    result: function (Ra) {
                                        Ra || (ta._errored = (new Ib(W.MESSAGE_REPLAYED, JSON.stringify(qa))).setEntity(Ja).setUser(qa.userIdToken).setUser(qa.userAuthenticationData).setMessageId(qa.messageId));
                                        xa()
                                    }, error: function (Ra) { Ra instanceof eb && (Ra.setEntity(Ja), Ra.setUser(qa.userIdToken), Ra.setUser(qa.userAuthenticationData), Ra.setMessageId(qa.messageId)); ta._errored = Ra; xa() }
                                }) : (ta._errored = (new Ib(W.INCOMPLETE_NONREPLAYABLE_MESSAGE, JSON.stringify(qa))).setEntity(qa.entityAuthenticationData).setUser(qa.userIdToken).setUser(qa.userAuthenticationData).setMessageId(qa.messageId), xa()) : xa()
                            } catch (Ra) {
                                Ra instanceof eb && (Ra.setEntity(qa.masterToken), Ra.setEntity(qa.entityAuthenticationData), Ra.setUser(qa.userIdToken),
                                    Ra.setUser(qa.userAuthenticationData), Ra.setMessageId(qa.messageId)), ta._errored = Ra, xa()
                            }
                        } var da = {
                            _source: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, _parser: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }, _charset: { value: ma, writable: !1, enumerable: !1, configurable: !1 }, _remainingData: { value: "", writable: !0, enumerable: !1, configurable: !1 }, _timeout: { value: ba, writable: !1, enumerable: !1, configurable: !1 }, _header: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }, _cryptoContext: {
                                value: Bb, writable: !0,
                                enumerable: !1, configurable: !1
                            }, _keyxCryptoContext: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }, _payloadSequenceNumber: { value: 1, writable: !0, enuemrable: !1, configurable: !1 }, _eom: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _closeSource: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _payloads: { value: [], writable: !0, enumerable: !1, configurable: !1 }, _payloadIndex: { value: -1, writable: !0, enumerable: !1, configurable: !1 }, _payloadOffset: { value: 0, writable: !0, enuemrable: !1, configurable: !1 }, _markOffset: {
                                value: 0,
                                writable: !0, enumerable: !1, configurable: !1
                            }, _currentPayload: { value: null, writable: !0, enumerable: !1, configurable: !1 }, _readException: { value: null, writable: !0, enumerable: !1, configurable: !1 }, _ready: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _readyQueue: { value: new jd, writable: !1, enumerable: !1, configurable: !1 }, _aborted: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _timedout: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _errored: { value: null, writable: !0, enumerable: !1, configurable: !1 }
                        };
                        Object.defineProperties(this, da); Qe(ta._source, ba, {
                            result: function (la) {
                                ta._json = la; ta._jsonIndex = 0; null === ta._json ? (ta._errored = new yb(W.MESSAGE_DATA_MISSING), xa()) : Xe(ea, ta._json[ta._jsonIndex++], V, {
                                    result: function (qa) {
                                        ta._header = qa; if (ta._header instanceof Kc) ta._keyxCryptoContext = null, ta._cryptoContext = null, xa(); else {
                                            var Ja = ta._header; ka(ea, Ja, ja, {
                                                result: function (Ga) {
                                                    try {
                                                        ta._keyxCryptoContext = Ga; ea.isPeerToPeer() || !ta._keyxCryptoContext ? ta._cryptoContext = Ja.cryptoContext : ta._cryptoContext = ta._keyxCryptoContext;
                                                        try { var Ra = Ja.masterToken; Ra && (ea.isPeerToPeer() || Ra.isVerified()) ? Ea(ea, Ja) : Y(ea, Ja) } catch (Ta) { Ta instanceof eb && (Ta.setEntity(Ja.masterToken), Ta.setUser(Ja.userIdToken), Ta.setUser(Ja.userAuthenticationData), Ta.setMessageId(Ja.messageId)), ta._errored = Ta, xa() }
                                                    } catch (Ta) { Ta instanceof eb && (Ta.setEntity(Ja.masterToken), Ta.setEntity(Ja.entityAuthenticationData), Ta.setUser(Ja.userIdToken), Ta.setUser(Ja.userAuthenticationData), Ta.setMessageId(Ja.messageId)), ta._errored = Ta, xa() }
                                                }, error: function (Ga) {
                                                    Ga instanceof
                                                        eb && (Ga.setEntity(Ja.masterToken), Ga.setEntity(Ja.entityAuthenticationData), Ga.setUser(Ja.userIdToken), Ga.setUser(Ja.userAuthenticationData), Ga.setMessageId(Ja.messageId)); ta._errored = Ga; xa()
                                                }
                                            })
                                        }
                                    }, error: function (qa) { ta._errored = qa; xa() }
                                })
                            }, timeout: function () { ta._timedout = !0; xa() }, error: function (la) { ta._errored = la; xa() }
                        }); return this
                    }, ta)
                }, nextData: function (ea, fa) {
                    var ma = this; fb(fa, function () {
                        function ja(ba) {
                            fb(ba, function () {
                                var wa; if (this._jsonIndex < this._json.length) return wa = this._json[this._jsonIndex++];
                                Qe(this._source, this._timeout, { result: function (ta) { ta && ta.length && 0 < ta.length ? (ta.forEach(function (xa) { this._json.push(xa) }), ja(ba)) : (this._eom = !0, ba.result(null)) }, timeout: function () { ba.timeout() }, error: function (ta) { ba.error(ta) } })
                            }, ma)
                        } var V = this.getMessageHeader(); if (!V) throw new vb("Read attempted with error message."); if (-1 != this._payloadIndex && this._payloadIndex < this._payloads.length) return this._payloads[this._payloadIndex++]; if (this._eom) return null; ja({
                            result: function (ba) {
                                fb(fa, function () {
                                    if (!ba) return null;
                                    if ("object" !== typeof ba) throw new yb(W.MESSAGE_FORMAT_ERROR); jf(ba, this._cryptoContext, {
                                        result: function (wa) {
                                            fb(fa, function () {
                                                var ta = V.masterToken, xa = V.entityAuthenticationData, Ea = V.userIdToken, za = V.getUserAuthenticationData; if (wa.messageId != V.messageId) throw (new Ib(W.PAYLOAD_MESSAGE_ID_MISMATCH, "payload mid " + wa.messageId + " header mid " + V.messageId)).setEntity(ta).setEntity(xa).setUser(Ea).setUser(za); if (wa.sequenceNumber != this._payloadSequenceNumber) throw (new Ib(W.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,
                                                    "payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber)).setEntity(ta).setEntity(xa).setUser(Ea).setUser(za); ++this._payloadSequenceNumber; wa.isEndOfMessage() && (this._eom = !0); ta = wa.data; this._payloads.push(ta); this._payloadIndex = -1; return ta
                                            }, ma)
                                        }, error: function (wa) { wa instanceof SyntaxError && (wa = new yb(W.JSON_PARSE_ERROR, "payloadchunk", wa)); fa.error(wa) }
                                    })
                                }, ma)
                            }, timeout: function () { fa.timeout() }, error: function (ba) { fa.error(ba) }
                        })
                    }, ma)
                }, isReady: function (ea, fa) {
                    function ma() {
                        fb(fa,
                            function () { if (this._aborted) return !1; if (this._timedout) fa.timeout(); else { if (this._errored) throw this._errored; return !0 } }, ja)
                    } var ja = this; fb(fa, function () { this._ready ? ma() : this._readyQueue.poll(ea, { result: function (V) { fb(fa, function () { if (V === Bb) return !1; ma() }, ja) }, timeout: function () { fa.timeout() }, error: function (V) { fa.error(V) } }) }, ja)
                }, getMessageHeader: function () { return this._header instanceof nd ? this._header : null }, getErrorHeader: function () { return this._header instanceof Kc ? this._header : null }, getIdentity: function () {
                    var ea =
                        this.getMessageHeader(); if (ea) { var fa = ea.masterToken; return fa ? fa.identity : ea.entityAuthenticationData.getIdentity() } return this.getErrorHeader().entityAuthenticationData.getIdentity()
                }, getCustomer: function () { var ea = this.getMessageHeader(); return ea ? ea.customer : null }, getPayloadCryptoContext: function () { return this._cryptoContext }, getKeyExchangeCryptoContext: function () { return this._keyxCryptoContext }, closeSource: function (ea) { this._closeSource = ea }, abort: function () {
                    this._aborted = !0; this._source.abort();
                    this._readyQueue.cancelAll()
                }, close: function () { this._closeSource && this._source.close() }, mark: function () { if (this._currentPayload) { for (; 0 < this._payloads.length && this._payloads[0] !== this._currentPayload;)this._payloads.shift(); this._payloadIndex = 0; this._currentPayload = this._payloads[this._payloadIndex++]; this._markOffset = this._payloadOffset } else this._payloadIndex = -1, this._payloads = [] }, markSupported: function () { return !0 }, read: function (ea, fa, ma) {
                    function ja() {
                        fb(ma, function () {
                            function ba(za) {
                                fb(za, function () {
                                    if (ta &&
                                        Ea >= ta.length) return ta.subarray(0, Ea); var va = -1; if (this._currentPayload) { var Y = this._currentPayload.length - this._payloadOffset; if (!ta) { var da = Y; if (-1 != this._payloadIndex) for (var la = this._payloadIndex; la < this._payloads.length; ++la)da += this._payloads[la].length; 0 < da && (ta = new Uint8Array(da)) } Y = Math.min(Y, ta ? ta.length - Ea : 0); 0 < Y && (va = this._currentPayload.subarray(this._payloadOffset, this._payloadOffset + Y), ta.set(va, xa), va = Y, xa += Y, this._payloadOffset += Y) } -1 != va ? (Ea += va, ba(za)) : this.nextData(fa, {
                                            result: function (qa) {
                                                fb(za,
                                                    function () { if (this._aborted) return ta ? ta.subarray(0, Ea) : new Uint8Array(0); this._currentPayload = qa; this._payloadOffset = 0; if (this._currentPayload) ba(za); else return 0 == Ea && 0 != ea ? null : ta ? ta.subarray(0, Ea) : new Uint8Array(0) }, V)
                                            }, timeout: function () { za.timeout(ta ? ta.subarray(0, Ea) : new Uint8Array(0)) }, error: function (qa) { fb(za, function () { qa instanceof eb && (qa = new Vb("Error reading the payload chunk.", qa)); if (0 < Ea) return V._readException = qa, ta.subarray(0, Ea); throw qa; }, V) }
                                        })
                                }, V)
                            } if (this._aborted) return new Uint8Array(0);
                            if (this._timedout) ma.timeout(new Uint8Array(0)); else { if (this._errored) throw this._errored; if (null != this._readException) { var wa = this._readException; this._readException = null; throw wa; } var ta = -1 != ea ? new Uint8Array(ea) : Bb, xa = 0, Ea = 0; ba(ma) }
                        }, V)
                    } var V = this; fb(ma, function () { if (-1 > ea) throw new RangeError("read requested with illegal length " + ea); this._ready ? ja() : this._readyQueue.poll(fa, { result: function (ba) { ba === Bb ? ma.result(!1) : ja() }, timeout: function () { ma.timeout(new Uint8Array(0)) }, error: function (ba) { ma.error(ba) } }) },
                        V)
                }, reset: function () { this._payloadIndex = 0; 0 < this._payloads.length ? (this._currentPayload = this._payloads[this._payloadIndex++], this._payloadOffset = this._markOffset) : this._currentPayload = null }
            }); of = function (ea, fa, ma, ja, V, ba, wa) { new nf(ea, fa, ma, ja, V, ba, wa) }
        })(); var pf, Kd; (function () {
            pf = Ed.extend({
                init: function (ka, ea, fa, ma, ja, V, ba) {
                    var wa = this; fb(ba, function () {
                        function ta() { wa._ready = !0; wa._readyQueue.add(!0) } var xa = me(ka.getMessageCapabilities(), ma.messageCapabilities), Ea = null; xa && (Ea = Fe(xa.compressionAlgorithms));
                        xa = {
                            _destination: { value: ea, writable: !1, enumerable: !1, configurable: !1 }, _charset: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, _capabilities: { value: xa, writable: !1, enumerable: !1, configurable: !1 }, _header: { value: ma, writable: !1, enumerable: !1, configurable: !1 }, _compressionAlgo: { value: Ea, writable: !0, enumerable: !1, configurable: !1 }, _cryptoContext: { value: ja, writable: !1, enumerable: !1, configurable: !1 }, _payloadSequenceNumber: { value: 1, writable: !0, enumerable: !1, configurable: !1 }, _currentPayload: {
                                value: [], writable: !0,
                                enumerable: !1, configurable: !1
                            }, _closed: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _payloads: { value: [], writable: !1, enumerable: !1, configurable: !1 }, _ready: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _readyQueue: { value: new jd, writable: !1, enumerable: !1, configurable: !1 }, _aborted: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _timedout: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _errored: { value: null, writable: !0, enumerable: !1, configurable: !1 }
                        }; Object.defineProperties(this,
                            xa); var za = Rb(JSON.stringify(ma), fa); ea.write(za, 0, za.length, V, { result: function (va) { try { wa._aborted ? ta() : va < za.length ? (wa._timedout = !0, ta()) : ea.flush(V, { result: function (Y) { wa._aborted || (wa._timedout = !Y); ta() }, timeout: function () { wa._timedout = !0; ta() }, error: function (Y) { wa._errored = Y; ta() } }) } catch (Y) { wa._errored = Y, ta() } }, timeout: function () { wa._timedout = !0; ta() }, error: function (va) { wa._errored = va; ta() } }); return this
                    }, wa)
                }, setCompressionAlgorithm: function (ka, ea, fa) {
                    function ma() {
                        ja.flush(ea, {
                            result: function (V) {
                                fb(fa,
                                    function () { if (!V) throw new Vb("flush() aborted"); this._compressionAlgo = ka; return !0 }, ja)
                            }, timeout: function () { fa.timeout() }, error: function (V) { fa.error(V) }
                        })
                    } var ja = this; fb(fa, function () { if (!this.getMessageHeader()) throw new vb("Cannot write payload data for an error message."); if (this._compressionAlgo == ka) return !0; if (ka) { if (!this._capabilities) return !1; for (var V = this._capabilities.compressionAlgorithms, ba = 0; ba < V.length; ++ba)if (V[ba] == ka) { ma(); return } return !1 } ma() }, ja)
                }, getMessageHeader: function () {
                    return this._header instanceof
                        nd ? this._header : null
                }, getErrorMessage: function () { return this._header instanceof Kc ? this._header : null }, getPayloads: function () { return this._payloads }, abort: function () { this._aborted = !0; this._destination.abort(); this._readyQueue.cancelAll() }, close: function (ka, ea) {
                    var fa = this; fb(ea, function () {
                        if (this._aborted) return !1; if (this._timedout) ea.timeout(); else {
                            if (this._errored) throw this._errored; if (this._closed) return !0; this._closed = !0; this.flush(ka, {
                                result: function (ma) {
                                    fb(ea, function () {
                                        ma && (this._currentPayload =
                                            null); return ma
                                    }, fa)
                                }, timeout: function () { ea.timeout() }, error: function (ma) { ea.error(ma) }
                            })
                        }
                    }, fa)
                }, flush: function (ka, ea) {
                    function fa() {
                        fb(ea, function () {
                            if (this._aborted) return !1; if (this._timedout) ea.timeout(); else {
                                if (this._errored) throw this._errored; if (!this._currentPayload || !this._closed && 0 == this._currentPayload.length) return !0; var ja = this.getMessageHeader(); if (!ja) return !0; var V = 0; this._currentPayload && this._currentPayload.forEach(function (Ea) { V += Ea.length }); for (var ba = new Uint8Array(V), wa = 0, ta =
                                    0; this._currentPayload && ta < this._currentPayload.length; ++ta) { var xa = this._currentPayload[ta]; ba.set(xa, wa); wa += xa.length } hf(this._payloadSequenceNumber, ja.messageId, this._closed, this._compressionAlgo, ba, this._cryptoContext, {
                                        result: function (Ea) {
                                            fb(ea, function () {
                                                this._payloads.push(Ea); var za = Rb(JSON.stringify(Ea), this._charset); this._destination.write(za, 0, za.length, ka, {
                                                    result: function (va) {
                                                        fb(ea, function () {
                                                            if (this._aborted) return !1; va < Ea.length ? ea.timeout() : this._destination.flush(ka, {
                                                                result: function (Y) {
                                                                    fb(ea,
                                                                        function () { if (this._aborted) return !1; if (Y) return ++this._payloadSequenceNumber, this._currentPayload = this._closed ? null : [], !0; ea.timeout() }, ma)
                                                                }, timeout: function () { ea.timeout() }, error: function (Y) { Y instanceof eb && (Y = new Vb("Error encoding payload chunk [sequence number " + ma._payloadSequenceNumber + "].", Y)); ea.error(Y) }
                                                            })
                                                        }, ma)
                                                    }, timeout: function (va) { ea.timeout() }, error: function (va) { va instanceof eb && (va = new Vb("Error encoding payload chunk [sequence number " + ma._payloadSequenceNumber + "].", va)); ea.error(va) }
                                                })
                                            },
                                                ma)
                                        }, error: function (Ea) { Ea instanceof eb && (Ea = new Vb("Error encoding payload chunk [sequence number " + ma._payloadSequenceNumber + "].", Ea)); ea.error(Ea) }
                                    })
                            }
                        }, ma)
                    } var ma = this; fb(ea, function () { this._ready ? fa() : this._readyQueue.poll(ka, { result: function (ja) { ja === Bb ? ea.result(!1) : fa() }, timeout: function () { ea.timeout() }, error: function (ja) { ea.error(ja) } }) }, ma)
                }, write: function (ka, ea, fa, ma, ja) {
                    fb(ja, function () {
                        if (this._aborted) return !1; if (this._timedout) ja.timeout(); else {
                            if (this._errored) throw this._errored;
                            if (this._closed) throw new Vb("Message output stream already closed."); if (0 > ea) throw new RangeError("Offset cannot be negative."); if (0 > fa) throw new RangeError("Length cannot be negative."); if (ea + fa > ka.length) throw new RangeError("Offset plus length cannot be greater than the array length."); if (!this.getMessageHeader()) throw new vb("Cannot write payload data for an error message."); var V = ka.subarray(ea, ea + fa); this._currentPayload.push(V); return V.length
                        }
                    }, this)
                }
            }); Kd = function (ka, ea, fa, ma, ja, V, ba) {
                new pf(ka,
                    ea, fa, ma, ja, V, ba)
            }
        })(); var Vf = Cb.Class.create({ sentHeader: function (ka) { }, receivedHeader: function (ka) { } }); Object.freeze({ USERDATA_REAUTH: Ma.USERDATA_REAUTH, SSOTOKEN_REJECTED: Ma.SSOTOKEN_REJECTED }); var qf = Cb.Class.create({
            getCryptoContexts: function () { }, getRecipient: function () { }, isEncrypted: function () { }, isIntegrityProtected: function () { }, isNonReplayable: function () { }, isRequestingTokens: function () { }, getUserId: function () { }, getUserAuthData: function (ka, ea, fa, ma) { }, getCustomer: function () { }, getKeyRequestData: function (ka) { },
            updateServiceTokens: function (ka, ea, fa) { }, write: function (ka, ea, fa) { }, getDebugContext: function () { }
        }); Cb.Class.create({ getInputStream: function (ka) { }, getOutputStream: function (ka) { } }); var rf; (function () {
            function ka(Ra) { return function () { Ra.abort() } } function ea(Ra, Ta) { Object.defineProperties(this, { masterToken: { value: Ra, writable: !1, configurable: !1 }, ticket: { value: Ta, writable: !1, configurable: !1 } }) } function fa(Ra, Ta) {
                Object.defineProperties(this, {
                    builder: { value: Ra, writable: !1, configurable: !1 }, msgCtx: {
                        value: Ta,
                        writable: !1, configurable: !1
                    }
                })
            } function ma(Ra, Ta, oa) { Object.defineProperties(this, { requestHeader: { value: Ra, writable: !1, configurable: !1 }, payloads: { value: Ta, writable: !1, configurable: !1 }, handshake: { value: oa, writable: !1, configurable: !1 } }) } function ja(Ra, Ta) { Object.defineProperties(this, { requestHeader: { value: Ta.requestHeader, writable: !1, configurable: !1 }, payloads: { value: Ta.payloads, writable: !1, configurable: !1 }, handshake: { value: Ta.handshake, writable: !1, configurable: !1 }, response: { value: Ra, writable: !1, configurable: !1 } }) }
            function V(Ra) { for (; Ra;) { if (Ra instanceof $b) return !0; Ra = Ra instanceof eb ? Ra.cause : Bb } return !1 } function ba(Ra, Ta, oa, Aa, Ba, Ka, Da, Qa, Ha) {
                lf(Ta, Aa, Ba, Ka, {
                    result: function (Xa) { oa && oa.sentHeader(Xa); Kd(Ta, Da, Mb, Xa, null, null, Qa, { result: function (bb) { Ra.setAbort(function () { bb.abort() }); bb.close(Qa, { result: function (Ya) { fb(Ha, function () { if (!Ya) throw new $b("sendError aborted."); return Ya }) }, timeout: function () { Ha.timeout() }, error: function (Ya) { Ha.error(Ya) } }) }, timeout: function () { }, error: function (bb) { Ha.error(bb) } }) },
                    error: function (Xa) { Ha.error(Xa) }
                })
            } var wa = Ed.extend({ close: function (Ra, Ta) { Ta.result(!0) }, write: function (Ra, Ta, oa, Aa, Ba) { Na(Ba, function () { return Math.min(Ra.length - Ta, oa) }) }, flush: function (Ra, Ta) { Ta.result(!0) } }), ta = Uf.extend({ getUserMessage: function (Ra, Ta) { return null } }), xa = qf.extend({
                init: function (Ra) { Object.defineProperties(this, { _appCtx: { value: Ra, writable: !1, enumerable: !1, configurable: !1 } }) }, getCryptoContexts: function () { return this._appCtx.getCryptoContexts() }, isEncrypted: function () { return this._appCtx.isEncrypted() },
                isIntegrityProtected: function () { return this._appCtx.isIntegrityProtected() }, isNonReplayable: function () { return this._appCtx.isNonReplayable() }, isRequestingTokens: function () { return this._appCtx.isRequestingTokens() }, getUserId: function () { return this._appCtx.getUserId() }, getUserAuthData: function (Ra, Ta, oa, Aa) { this._appCtx.getUserAuthData(Ra, Ta, oa, Aa) }, getCustomer: function () { return this._appCtx.getCustomer() }, getKeyRequestData: function (Ra) { this._appCtx.getKeyRequestData(Ra) }, updateServiceTokens: function (Ra,
                    Ta, oa) { this._appCtx.updateServiceTokens(Ra, Ta, oa) }, write: function (Ra, Ta, oa) { this._appCtx.write(Ra, Ta, oa) }, getDebugContext: function () { return this._appCtx.getDebugContext() }
            }), Ea = xa.extend({
                init: function Aa(Ta, oa) { Aa.base.call(this, oa); Object.defineProperties(this, { _payloads: { value: Ta, writable: !1, enumerable: !1, configurable: !1 } }) }, write: function (Ta, oa, Aa) {
                    function Ba(Da, Qa) {
                        if (Da == Ka._payloads.length) Aa.result(!0); else {
                            var Ha = Ka._payloads[Da]; Ta.setCompressionAlgorithm(Ha.compressionAlgo, oa, {
                                result: function (Xa) {
                                    Ta.write(Ha.data,
                                        0, Ha.data.length, oa, { result: function (bb) { fb(Aa, function () { Ha.isEndOfMessage() ? Ba(Da + 1, Qa) : Ta.flush(oa, { result: function (Ya) { Aa.result(Ya) }, timeout: function () { Aa.timeout() }, error: function (Ya) { Aa.error(Ya) } }) }, Ka) }, timeout: function (bb) { Aa.timeout(bb) }, error: function (bb) { Aa.error(bb) } })
                                }, timeout: function () { }, error: function (Xa) { Aa.error(Xa) }
                            })
                        }
                    } var Ka = this; Ba(0)
                }
            }), za = xa.extend({
                init: function Aa(oa) { Aa.base.call(this, oa) }, isEncrypted: function () { return !1 }, isNonReplayable: function () { return !1 }, write: function (oa,
                    Aa, Ba) { Ba.result(!0) }
            }), va = {}, Y = Cb.Class.create({
                init: function (oa) { oa || (oa = new ta); Object.defineProperties(this, { _filterFactory: { value: null, writable: !0, enumerable: !1, configurable: !1 }, _renewingContexts: { value: [], writable: !1, enumerable: !1, configurable: !1 }, _masterTokenLocks: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, _messageRegistry: { value: oa, writable: !1, enumerable: !1, configurable: !1 } }) }, setFilterFactory: function (oa) { this._filterFactory = oa }, getNewestMasterToken: function (oa, Aa, Ba, Ka) {
                    var Da =
                        this; fb(Ka, function () {
                            var Qa = Aa.getMslStore(), Ha = Qa.getMasterToken(); if (!Ha) return null; var Xa = Ha.uniqueKey(), bb = this._masterTokenLocks[Xa]; bb || (bb = new Wd, this._masterTokenLocks[Xa] = bb); var Ya = bb.readLock(Ba, {
                                result: function (jb) {
                                    fb(Ka, function () {
                                        if (jb === Bb) throw new $b("getNewestMasterToken aborted."); var mb = Qa.getMasterToken(); if (Ha.equals(mb)) return new ea(Ha, jb); bb.unlock(jb); bb.writeLock(Ba, {
                                            result: function (nb) {
                                                fb(Ka, function () {
                                                    if (nb === Bb) throw new $b("getNewestMasterToken aborted."); delete this._masterTokenLocks[Xa];
                                                    bb.unlock(nb); return this.getNewestMasterToken(oa, Aa, Ba, Ka)
                                                }, Da)
                                            }, timeout: function () { Ka.timeout() }, error: function (nb) { Ka.error(nb) }
                                        })
                                    }, Da)
                                }, timeout: function () { Ka.timeout() }, error: function (jb) { Ka.error(jb) }
                            }); oa.setAbort(function () { Ya && (bb.cancel(Ya), Ya = Bb) })
                        }, Da)
                }, deleteMasterToken: function (oa, Aa) {
                    if (Aa) {
                        var Ba = this; setTimeout(function () {
                            var Ka = Aa.uniqueKey(), Da = Ba._masterTokenLocks[Ka]; Da || (Da = new Wd, Ba._masterTokenLocks[Ka] = Da); Da.writeLock(-1, {
                                result: function (Qa) {
                                    oa.getMslStore().removeCryptoContext(Aa);
                                    delete Ba._masterTokenLocks[Ka]; Da.unlock(Qa)
                                }, timeout: function () { throw new vb("Unexpected timeout received."); }, error: function (Qa) { throw Qa; }
                            })
                        }, 0)
                    }
                }, releaseMasterToken: function (oa) { if (oa && oa.masterToken) { var Aa = oa.masterToken.uniqueKey(); Aa = this._masterTokenLocks[Aa]; if (!Aa) throw new vb("Master token read/write lock does not exist when it should."); Aa.unlock(oa.ticket) } }, updateOutgoingCryptoContexts: function (oa, Aa, Ba) {
                    var Ka = oa.getMslStore(); !oa.isPeerToPeer() && Ba && (Ka.setCryptoContext(Ba.keyResponseData.masterToken,
                        Ba.cryptoContext), this.deleteMasterToken(oa, Aa.masterToken))
                }, updateIncomingCryptoContexts: function (oa, Aa, Ba) { var Ka = Ba.getMessageHeader(); if (Ka) { var Da = oa.getMslStore(); if (Ka = Ka.keyResponseData) Da.setCryptoContext(Ka.masterToken, Ba.getKeyExchangeCryptoContext()), this.deleteMasterToken(oa, Aa.masterToken) } }, storeServiceTokens: function (oa, Aa, Ba, Ka) {
                    oa = oa.getMslStore(); for (var Da = [], Qa = 0; Qa < Ka.length; ++Qa) {
                        var Ha = Ka[Qa]; if (!Ha.isBoundTo(Aa) || !Aa.isVerified()) {
                            var Xa = Ha.data; Xa && 0 == Xa.length ? oa.removeServiceTokens(Ha.name,
                                Ha.isMasterTokenBound() ? Aa : null, Ha.isUserIdTokenBound() ? Ba : null) : Da.push(Ha)
                        }
                    } 0 < Da.length && oa.addServiceTokens(Da)
                }, buildRequest: function (oa, Aa, Ba, Ka, Da) {
                    var Qa = this; this.getNewestMasterToken(oa, Aa, Ka, {
                        result: function (Ha) {
                            Na(Da, function () {
                                var Xa = Ha && Ha.masterToken; if (Xa) { var bb = Ba.getUserId(); var Ya = Aa.getMslStore(); bb = (bb = bb ? Ya.getUserIdToken(bb) : null) && bb.isBoundTo(Xa) ? bb : null } else bb = null; Tc(Aa, Xa, bb, null, {
                                    result: function (jb) {
                                        Na(Da, function () {
                                            jb.setNonReplayable(Ba.isNonReplayable()); return {
                                                builder: jb,
                                                tokenTicket: Ha
                                            }
                                        })
                                    }, error: function (jb) { Na(Da, function () { this.releaseMasterToken(Ha); jb instanceof eb && (jb = new vb("User ID token not bound to master token despite internal check.", jb)); throw jb; }, Qa) }
                                })
                            }, Qa)
                        }, timeout: function () { Da.timeout() }, error: function (Ha) { Da.error(Ha) }
                    })
                }, buildResponse: function (oa, Aa, Ba, Ka, Da, Qa) {
                    var Ha = this; kf(Aa, Ka, {
                        result: function (Xa) {
                            fb(Qa, function () {
                                Xa.setNonReplayable(Ba.isNonReplayable()); if (!Aa.isPeerToPeer() && !Ka.keyResponseData) return { builder: Xa, tokenTicket: null }; this.getNewestMasterToken(oa,
                                    Aa, Da, { result: function (bb) { fb(Qa, function () { var Ya = bb && bb.masterToken; if (Ya) { var jb = Ba.getUserId(); var mb = Aa.getMslStore(); jb = (jb = jb ? mb.getUserIdToken(jb) : null) && jb.isBoundTo(Ya) ? jb : null } else jb = null; Xa.setAuthTokens(Ya, jb); return { builder: Xa, tokenTicket: bb } }, Ha) }, timeout: function () { Qa.timeout() }, error: function (bb) { Qa.error(bb) } })
                            }, Ha)
                        }, error: function (Xa) { Qa.error(Xa) }
                    })
                }, buildErrorResponse: function (oa, Aa, Ba, Ka, Da, Qa, Ha) {
                    function Xa(jb, mb) {
                        fb(Ha, function () {
                            var nb = Sc(Da.messageId), qb = new Ea(mb, Ba);
                            Tc(Aa, null, null, nb, { result: function (rb) { fb(Ha, function () { Aa.isPeerToPeer() && rb.setPeerAuthTokens(jb.peerMasterToken, jb.peerUserIdToken); rb.setNonReplayable(qb.isNonReplayable()); return { errorResult: new fa(rb, qb), tokenTicket: null } }, Ya) }, error: function (rb) { Ha.error(rb) } })
                        }, Ya)
                    } function bb(jb, mb) {
                        Ya.getNewestMasterToken(oa, Aa, Qa, {
                            result: function (nb) {
                                fb(Ha, function () {
                                    var qb = nb && nb.masterToken, rb = Sc(Da.messageId), Ab = new Ea(mb, Ba); Tc(Aa, qb, null, rb, {
                                        result: function (xb) {
                                            fb(Ha, function () {
                                                Aa.isPeerToPeer() &&
                                                    xb.setPeerAuthTokens(jb.peerMasterToken, jb.peerUserIdToken); xb.setNonReplayable(Ab.isNonReplayable()); return { errorResult: new fa(xb, Ab), tokenTicket: nb }
                                            }, Ya)
                                        }, error: function (xb) { Ha.error(xb) }
                                    })
                                }, Ya)
                            }, timeout: function () { Ha.timeout() }, error: function (nb) { Ha.error(nb) }
                        })
                    } var Ya = this; fb(Ha, function () {
                        var jb = Ka.requestHeader, mb = Ka.payloads, nb = Da.errorCode; switch (nb) {
                            case Ma.ENTITYDATA_REAUTH: case Ma.ENTITY_REAUTH: Aa.getEntityAuthenticationData(nb, {
                                result: function (rb) {
                                    fb(Ha, function () {
                                        if (!rb) return null; Xa(jb,
                                            mb)
                                    }, Ya)
                                }, error: function (rb) { Ha.error(rb) }
                            }); break; case Ma.USERDATA_REAUTH: case Ma.SSOTOKEN_REJECTED: Ba.getUserAuthData(nb, !1, !0, { result: function (rb) { fb(Ha, function () { if (!rb) return null; bb(jb, mb) }, Ya) }, error: function (rb) { Ha.error(rb) } }); break; case Ma.USER_REAUTH: bb(jb, mb); break; case Ma.KEYX_REQUIRED: nb = Sc(Da.messageId); var qb = new Ea(mb, Ba); Tc(Aa, null, null, nb, {
                                result: function (rb) {
                                    fb(Ha, function () {
                                        Aa.isPeerToPeer() && rb.setPeerAuthTokens(jb.peerMasterToken, jb.peerUserIdToken); rb.setRenewable(!0); rb.setNonReplayable(qb.isNonReplayable());
                                        return { errorResult: new fa(rb, qb), tokenTicket: null }
                                    }, Ya)
                                }, error: function (rb) { Ha.error(rb) }
                            }); break; case Ma.EXPIRED: this.getNewestMasterToken(oa, Aa, Qa, {
                                result: function (rb) {
                                    fb(Ha, function () {
                                        var Ab = rb && rb.masterToken, xb = jb.userIdToken, r = Sc(Da.messageId), b = new Ea(mb, Ba); Tc(Aa, Ab, xb, r, {
                                            result: function (a) {
                                                fb(Ha, function () {
                                                    Aa.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken, jb.peerUserIdToken); jb.masterToken.equals(Ab) && a.setRenewable(!0); a.setNonReplayable(b.isNonReplayable()); return {
                                                        errorResult: new fa(a,
                                                            b), tokenTicket: rb
                                                    }
                                                }, Ya)
                                            }, error: function (a) { Ha.error(a) }
                                        }, Ya)
                                    }, Ya)
                                }, timeout: function () { Ha.timeout() }, error: function (rb) { Ha.error(rb) }
                            }); break; case Ma.REPLAYED: this.getNewestMasterToken(oa, Aa, Qa, {
                                result: function (rb) {
                                    fb(Ha, function () {
                                        var Ab = rb && rb.masterToken, xb = jb.userIdToken, r = Sc(Da.messageId), b = new Ea(mb, Ba); Tc(Aa, Ab, xb, r, {
                                            result: function (a) {
                                                fb(Ha, function () {
                                                    Aa.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken, jb.peerUserIdToken); jb.masterToken.equals(Ab) ? (a.setRenewable(!0), a.setNonReplayable(!1)) :
                                                        a.setNonReplayable(b.isNonReplayable()); return { errorResult: new fa(a, b), tokenTicket: rb }
                                                }, Ya)
                                            }, error: function (a) { Ha.error(a) }
                                        })
                                    }, Ya)
                                }, timeout: function () { Ha.timeout() }, error: function (rb) { Ha.error(rb) }
                            }); break; default: return null
                        }
                    }, Ya)
                }, cleanupContext: function (oa, Aa, Ba) { switch (Ba.errorCode) { case Ma.ENTITY_REAUTH: this.deleteMasterToken(oa, Aa.masterToken); break; case Ma.USER_REAUTH: Ba = Aa.userIdToken, Aa.masterToken && Ba && oa.getMslStore().removeUserIdToken(Ba) } }, send: function (oa, Aa, Ba, Ka, Da, Qa, Ha) {
                    function Xa(qb,
                        rb, Ab) { fb(Ha, function () { var xb = Da.getPeerUserIdToken(); !Aa.isPeerToPeer() && !rb || Aa.isPeerToPeer() && !xb ? (xb = Ba.getCustomer()) ? Da.setCustomer(xb, { result: function (r) { fb(Ha, function () { rb = Da.getUserIdToken(); bb(qb, rb, Ab) }, nb) }, error: function (r) { Ha.error(r) } }) : bb(qb, rb, Ab) : bb(qb, rb, Ab) }, nb) } function bb(qb, rb, Ab) {
                            fb(Ha, function () {
                                var xb = !Ab && (!Ba.isEncrypted() || Da.willEncryptPayloads()) && (!Ba.isIntegrityProtected() || Da.willIntegrityProtectPayloads()) && (!Ba.isNonReplayable() || Da.isNonReplayable() && qb); xb ||
                                    Da.setNonReplayable(!1); var r = []; Da.isRenewable() && (!qb || qb.isRenewable() || Ba.isNonReplayable()) ? Ba.getKeyRequestData({ result: function (b) { fb(Ha, function () { for (var a = 0; a < b.length; ++a) { var c = b[a]; r.push(c); Da.addKeyRequestData(c) } Ya(qb, rb, xb, r) }, nb) }, error: function (b) { Ha.error(b) } }) : Ya(qb, rb, xb, r)
                            }, nb)
                        } function Ya(qb, rb, Ab, xb) {
                            fb(Ha, function () {
                                var r = new mf(Aa, Ba, Da); Ba.updateServiceTokens(r, !Ab, {
                                    result: function (b) {
                                        Da.getHeader({
                                            result: function (a) {
                                                fb(Ha, function () {
                                                    var c = Ba.getDebugContext(); c && c.sentHeader(a);
                                                    c = Da.getKeyExchangeData(); this.updateOutgoingCryptoContexts(Aa, a, c); this.storeServiceTokens(Aa, qb, rb, a.serviceTokens); c = !Aa.isPeerToPeer() && c ? c.cryptoContext : a.cryptoContext; if (oa.isAborted()) throw new $b("send aborted."); var f = null != this._filterFactory ? this._filterFactory.getOutputStream(Ka) : Ka; Kd(Aa, f, Mb, a, c, Qa, { result: function (k) { oa.setAbort(function () { k.abort() }); jb(k, a, Ab) }, timeout: function () { Ha.timeout() }, error: function (k) { Ha.error(k) } })
                                                }, nb)
                                            }, timeout: function () { Ha.timeout() }, error: function (a) { Ha.error(a) }
                                        })
                                    },
                                    error: function (b) { Ha.error(b) }
                                })
                            }, nb)
                        } function jb(qb, rb, Ab) {
                            if (Ab) Ba.write(qb, Qa, { result: function (b) { fb(Ha, function () { if (oa.isAborted()) throw new $b("MessageOutputStream write aborted."); mb(qb, rb, Ab) }, nb) }, timeout: function () { Ha.timeout() }, error: function (b) { Ha.error(b) } }); else {
                                var xb = new wa, r = new cd; Kd(Aa, xb, Mb, rb, r, Qa, {
                                    result: function (b) {
                                        Ba.write(b, Qa, {
                                            result: function (a) {
                                                fb(Ha, function () {
                                                    if (oa.isAborted()) throw new $b("MessageOutputStream proxy write aborted."); b.close(Qa, {
                                                        result: function (c) {
                                                            fb(Ha,
                                                                function () { if (!c) throw new $b("MessageOutputStream proxy close aborted."); var f = b.getPayloads(); mb(qb, rb, Ab, f) }, nb)
                                                        }, timeout: function () { Ha.timeout() }, error: function (c) { Ha.error(c) }
                                                    })
                                                }, nb)
                                            }, timeout: function () { Ha.timeout() }, error: function (a) { Ha.error(a) }
                                        })
                                    }, timeout: function () { Ha.timeout() }, error: function (b) { Ha.error(b) }
                                })
                            }
                        } function mb(qb, rb, Ab, xb) {
                            qb.close(Qa, {
                                result: function (r) {
                                    fb(Ha, function () { if (!r) throw new $b("MessageOutputStream close aborted."); xb || (xb = qb.getPayloads()); return new ma(rb, xb, !Ab) },
                                        nb)
                                }, timeout: function () { Ha.timeout() }, error: function (r) { Ha.error(r) }
                            })
                        } var nb = this; fb(Ha, function () { var qb = Da.getMasterToken(), rb = Da.getUserIdToken(), Ab = !1; if (Ba.getUserId()) { var xb = !rb; Ba.getUserAuthData(null, Da.isRenewable(), xb, { result: function (r) { fb(Ha, function () { r && (Da.willEncryptHeader() && Da.willIntegrityProtectHeader() ? Da.setUserAuthenticationData(r) : Ab = !0); Xa(qb, rb, Ab) }, nb) }, error: function (r) { Ha.error(r) } }) } else Xa(qb, rb, Ab) }, nb)
                }, receive: function (oa, Aa, Ba, Ka, Da, Qa, Ha) {
                    var Xa = this; fb(Ha, function () {
                        if (oa.isAborted()) throw new $b("receive aborted.");
                        var bb = []; Da && (bb = Da.keyRequestData.filter(function () { return !0 })); var Ya = Ba.getCryptoContexts(), jb = this._filterFactory ? this._filterFactory.getInputStream(Ka) : Ka; of(Aa, jb, Mb, bb, Ya, Qa, {
                            result: function (mb) {
                                oa.setAbort(function () { mb.abort() }); mb.isReady(Qa, {
                                    result: function (nb) {
                                        fb(Ha, function () {
                                            if (!nb) throw new $b("MessageInputStream aborted."); var qb = mb.getMessageHeader(), rb = mb.getErrorHeader(), Ab = Ba.getDebugContext(); Ab && Ab.receivedHeader(qb ? qb : rb); if (Da && (Ab = rb ? rb.errorCode : null, qb || Ab != Ma.FAIL && Ab !=
                                                Ma.TRANSIENT_FAILURE && Ab != Ma.ENTITY_REAUTH && Ab != Ma.ENTITYDATA_REAUTH)) { Ab = qb ? qb.messageId : rb.messageId; var xb = Sc(Da.messageId); if (Ab != xb) throw new Ib(W.UNEXPECTED_RESPONSE_MESSAGE_ID, "expected " + xb + "; received " + Ab); } Aa.getEntityAuthenticationData(null, {
                                                    result: function (r) {
                                                        fb(Ha, function () {
                                                            var b = r.getIdentity(); if (qb) {
                                                                var a = qb.entityAuthenticationData; var c = qb.masterToken; a = c ? qb.sender : a.getIdentity(); if (c && c.isDecrypted() && c.identity != a || b == a) throw new Ib(W.UNEXPECTED_MESSAGE_SENDER, a); Da && this.updateIncomingCryptoContexts(Aa,
                                                                    Da, mb); b = qb.keyResponseData; Aa.isPeerToPeer() ? (b = b ? b.masterToken : qb.peerMasterToken, c = qb.peerUserIdToken, a = qb.peerServiceTokens) : (b = b ? b.masterToken : qb.masterToken, c = qb.userIdToken, a = qb.serviceTokens); var f = Ba.getUserId(); f && c && !c.isVerified() && Aa.getMslStore().addUserIdToken(f, c); this.storeServiceTokens(Aa, b, c, a)
                                                            } else if (a = rb.entityAuthenticationData.getIdentity(), b == a) throw new Ib(W.UNEXPECTED_MESSAGE_SENDER, a); return mb
                                                        }, Xa)
                                                    }, error: Ha.error
                                                })
                                        }, Xa)
                                    }, timeout: function () { Ha.timeout() }, error: function (nb) { Ha.error(nb) }
                                })
                            },
                            timeout: function () { Ha.timeout() }, error: function (mb) { Ha.error(mb) }
                        })
                    }, Xa)
                }, sendReceive: function (oa, Aa, Ba, Ka, Da, Qa, Ha, Xa, bb) {
                    function Ya(mb, nb) {
                        fb(bb, function () {
                            Qa.setRenewable(nb); this.send(oa, Aa, Ba, Da, Qa, Ha, {
                                result: function (qb) {
                                    fb(bb, function () {
                                        var rb = qb.requestHeader.keyRequestData; Xa || qb.handshake || !rb.isEmpty() ? this.receive(oa, Aa, Ba, Ka, qb.requestHeader, Ha, {
                                            result: function (Ab) { fb(bb, function () { nb && this.releaseRenewalLock(Aa, mb, Ab); return new ja(Ab, qb) }, jb) }, timeout: function () {
                                                fb(bb, function () {
                                                    nb &&
                                                        this.releaseRenewalLock(Aa, mb, null); bb.timeout()
                                                }, jb)
                                            }, error: function (Ab) { fb(bb, function () { nb && this.releaseRenewalLock(Aa, mb, null); throw Ab; }, jb) }
                                        }) : fb(bb, function () { nb && this.releaseRenewalLock(Aa, mb, null); return new ja(null, qb) }, jb)
                                    }, jb)
                                }, timeout: function () { fb(bb, function () { nb && this.releaseRenewalLock(Aa, mb, null); bb.timeout() }, jb) }, error: function (qb) { fb(bb, function () { nb && this.releaseRenewalLock(Aa, mb, null); throw qb; }, jb) }
                            })
                        }, jb)
                    } var jb = this; fb(bb, function () {
                        var mb = new jd; this.acquireRenewalLock(oa,
                            Aa, Ba, mb, Qa, Ha, { result: function (nb) { Ya(mb, nb) }, timeout: function () { bb.timeout() }, error: function (nb) { nb instanceof $b ? bb.result(null) : bb.error(nb) } })
                    }, jb)
                }, acquireRenewalLock: function (oa, Aa, Ba, Ka, Da, Qa, Ha) {
                    function Xa(jb, mb, nb) {
                        fb(Ha, function () {
                            if (oa.isAborted()) throw new $b("acquireRenewalLock aborted."); for (var qb = null, rb = 0; rb < this._renewingContexts.length; ++rb) { var Ab = this._renewingContexts[rb]; if (Ab.ctx === Aa) { qb = Ab.queue; break } } if (!qb) return this._renewingContexts.push({ ctx: Aa, queue: Ka }), !0; var xb =
                                qb.poll(Qa, { result: function (r) { fb(Ha, function () { if (r === Bb) throw new $b("acquireRenewalLock aborted."); qb.add(r); if (r === va || r.isExpired()) Xa(r, mb, nb); else { if (nb && !mb || mb && !mb.isBoundTo(r)) { var b = Aa.getMslStore().getUserIdToken(nb); mb = b && b.isBoundTo(r) ? b : null } Da.setAuthTokens(r, mb); Da.isRenewable() && r.equals(jb) ? Xa(r, mb, nb) : Ba.isRequestingTokens() && !mb ? Xa(r, mb, nb) : bb(r, mb) } }, Ya) }, timeout: function () { }, error: function (r) { } }); oa.setAbort(function () { xb && (qb.cancel(xb), xb = Bb) })
                        }, Ya)
                    } function bb(jb, mb) {
                        fb(Ha,
                            function () { if (oa.isAborted()) throw new $b("acquireRenewalLock aborted."); if (!jb || jb.isRenewable() || !mb && Ba.getUserId() || mb && mb.isRenewable()) { for (var nb = null, qb = 0; qb < this._renewingContexts.length; ++qb) { var rb = this._renewingContexts[qb]; if (rb.ctx === Aa) { nb = rb.queue; break } } if (!nb) return this._renewingContexts.push({ ctx: Aa, queue: Ka }), !0 } return !1 }, Ya)
                    } var Ya = this; fb(Ha, function () {
                        var jb = Da.getMasterToken(), mb = Da.getUserIdToken(), nb = Ba.getUserId(); Ba.isEncrypted() && !Da.willEncryptPayloads() || Ba.isIntegrityProtected() &&
                            !Da.willIntegrityProtectPayloads() || Da.isRenewable() || !jb && Ba.isNonReplayable() || jb && jb.isExpired() || !(mb || !nb || Da.willEncryptHeader() && Da.willIntegrityProtectHeader()) || Ba.isRequestingTokens() && (!jb || nb && !mb) ? Xa(jb, mb, nb) : bb(jb, mb)
                    }, Ya)
                }, releaseRenewalLock: function (oa, Aa, Ba) {
                    for (var Ka, Da, Qa = 0; Qa < this._renewingContexts.length; ++Qa) { var Ha = this._renewingContexts[Qa]; if (Ha.ctx === oa) { Ka = Qa; Da = Ha.queue; break } } if (Da !== Aa) throw new vb("Attempt to release renewal lock that is not owned by this queue.");
                    Ba ? (Ba = Ba.messageHeader) ? (Da = Ba.keyResponseData) ? Aa.add(Da.masterToken) : (oa = oa.isPeerToPeer() ? Ba.peerMasterToken : Ba.masterToken) ? Aa.add(oa) : Aa.add(va) : Aa.add(va) : Aa.add(va); this._renewingContexts.splice(Ka, 1)
                }
            }); rf = Cb.Class.create({
                init: function () { var oa = { _impl: { value: new Y, writable: !1, enumerable: !1, configurable: !1 }, _shutdown: { value: !1, writable: !1, enumerable: !1, configurable: !1 } }; Object.defineProperties(this, oa) }, setFilterFactory: function (oa) { this._impl.setFilterFactory(oa) }, shutdown: function () {
                    this._shutdown =
                        !0
                }, receive: function (oa, Aa, Ba, Ka, Da, Qa) { if (this._shutdown) throw new eb("MslControl is shutdown."); var Ha = new da(this._impl, oa, Aa, Ba, Ka, Da); setTimeout(function () { Ha.call(Qa) }, 0); return ka(Ha) }, respond: function (oa, Aa, Ba, Ka, Da, Qa, Ha) { if (this._shutdown) throw new eb("MslControl is shutdown."); var Xa = new la(this._impl, oa, Aa, Ba, Ka, Da, Qa); setTimeout(function () { Xa.call(Ha) }, 0); return ka(Xa) }, error: function Ba(oa, Aa, Ba, Ka, Da, Qa, Ha) {
                    if (this._shutdown) throw new eb("MslControl is shutdown."); var Xa = new qa(this._impl,
                        oa, Aa, Ba, Ka, Da, Qa); setTimeout(function () { Xa.call(Ha) }, 0); return ka(Xa)
                }, request: function (oa, Aa) {
                    if (this._shutdown) throw new eb("MslControl is shutdown."); var Ba; if (5 == arguments.length) { var Ka = arguments[2]; var Da = Ba = null; var Qa = arguments[3]; var Ha = arguments[4]; if (oa.isPeerToPeer()) { Ha.error(new vb("This method cannot be used in peer-to-peer mode.")); return } } else if (6 == arguments.length && (Ka = null, Ba = arguments[2], Da = arguments[3], Qa = arguments[4], Ha = arguments[5], !oa.isPeerToPeer())) {
                        Ha.error(new vb("This method cannot be used in trusted network mode."));
                        return
                    } var Xa = new Ga(this._impl, oa, Aa, Ka, Ba, Da, null, 0, Qa); setTimeout(function () { Xa.call(Ha) }, 0); return ka(Xa)
                }
            }); var da = Cb.Class.create({
                init: function (oa, Aa, Ba, Ka, Da, Qa) {
                    Object.defineProperties(this, {
                        _ctrl: { value: oa, writable: !1, enumerable: !1, configurable: !1 }, _ctx: { value: Aa, writable: !1, enumerable: !1, configurable: !1 }, _msgCtx: { value: Ba, writable: !1, enumerable: !1, configurable: !1 }, _input: { value: Ka, writable: !1, enumerable: !1, configurable: !1 }, _output: { value: Da, writable: !1, enumerable: !1, configurable: !1 }, _timeout: {
                            value: Qa,
                            writable: !1, enumerable: !1, configurable: !1
                        }, _aborted: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _abortFunc: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }
                    })
                }, isAborted: function () { return this._aborted }, abort: function () { this._aborted = !0; this._abortFunc && this._abortFunc.call(this) }, setAbort: function (oa) { this._abortFunc = oa }, call: function (oa) {
                    function Aa(Qa) {
                        fb(oa, function () {
                            var Ha = Qa.messageHeader; if (!Ha) return Qa; this.setAbort(function () { Qa.abort() }); Qa.mark(Number.MAX_VALUE); Qa.read(1,
                                Da._timeout, {
                                result: function (Xa) { fb(oa, function () { if (Xa && 0 == Xa.length) return null; if (Xa) return Qa.reset(), Qa; Ba(Qa) }, Da) }, timeout: function () { oa.timeout() }, error: function (Xa) {
                                    fb(oa, function () {
                                        if (V(Xa)) return null; var bb = Ha ? Ha.messageId : null; if (Xa instanceof Vb) { var Ya = W.MSL_COMMS_FAILURE; var jb = Xa } else Ya = W.INTERNAL_EXCEPTION, jb = new vb("Error peeking into the message payloads."); ba(this, this._ctx, this._msgCtx.getDebugContext(), bb, Ya, null, this._output, this._timeout, {
                                            result: function (mb) { oa.error(jb) },
                                            timeout: function () { oa.timeout() }, error: function (mb) { fb(oa, function () { if (V(mb)) return null; throw new kc("Error peeking into the message payloads.", mb, Xa); }, Da) }
                                        })
                                    }, Da)
                                }
                            })
                        }, Da)
                    } function Ba(Qa) {
                        fb(oa, function () {
                            Qa.close(); this._ctrl.buildResponse(this, this._ctx, this._msgCtx, Qa.messageHeader, this._timeout, {
                                result: function (Ha) {
                                    fb(oa, function () {
                                        var Xa = Ha.builder, bb = Ha.tokenTicket, Ya = Qa.messageHeader, jb = new za(this._msgCtx); if (!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData) Ka(Ya, Xa, jb,
                                            bb); else { var mb = new Ga(this._ctrl, this._ctx, jb, null, this._input, this._output, Ha, 1, this._timeout); this.setAbort(function () { mb.abort() }); mb.call(oa) }
                                    }, Da)
                                }, timeout: function () { oa.timeout() }, error: function (Ha) {
                                    fb(oa, function () {
                                        if (V(Ha)) return null; if (Ha instanceof eb) { var Xa = Ha.messageId; var bb = Ha.error; var Ya = Qa.messageHeader.messageCapabilities; Ya = this._ctrl.messageRegistry.getUserMessage(bb, Ya ? Ya.languages : null); var jb = Ha } else Xa = requestHeader ? requestHeader.messageId : null, bb = W.INTERNAL_EXCEPTION, Ya =
                                            null, jb = new vb("Error creating an automatic handshake response.", Ha); ba(this, this._ctx, this._msgCtx.getDebugContext(), Xa, bb, Ya, this._output, this._timeout, { result: function (mb) { oa.error(jb) }, timeout: function () { oa.timeout() }, error: function (mb) { fb(oa, function () { if (V(mb)) return null; throw new kc("Error creating an automatic handshake response.", mb, Ha); }, Da) } })
                                    }, Da)
                                }
                            })
                        }, Da)
                    } function Ka(Qa, Ha, Xa, bb) {
                        fb(oa, function () {
                            Ha.setRenewable(!1); this._ctrl.send(this._ctx, Xa, this._output, Ha, this._timeout, {
                                result: function (Ya) {
                                    fb(oa,
                                        function () { this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb); return null }, Da)
                                }, timeout: function () { fb(oa, function () { this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb); oa.timeout() }, Da) }, error: function (Ya) {
                                    fb(oa, function () {
                                        this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb); if (V(Ya)) return null; if (Ya instanceof eb) { var jb = Ya.messageId; var mb = Ya.error; var nb = Qa ? Qa.messageCapabilities : null; nb = this._ctrl.messageRegistry.getUserMessage(mb, nb ? nb.languages : null); var qb = Ya } else Ya instanceof
                                            Vb ? (jb = Qa ? Qa.messageId : null, mb = W.MSL_COMMS_FAILURE, nb = null, qb = Ya) : (jb = Qa ? Qa.messageId : null, mb = W.INTERNAL_EXCEPTION, nb = null, qb = new vb("Error sending an automatic handshake response.", Ya)); ba(this, this._ctx, this._msgCtx.getDebugContext(), jb, mb, nb, this._output, this._timeout, { result: function (rb) { oa.error(qb) }, timeout: function () { oa.timeout() }, error: function (rb) { fb(oa, function () { if (V(rb)) return null; throw new kc("Error sending an automatic handshake response.", rb, Ya); }, Da) } })
                                    }, Da)
                                }
                            })
                        }, Da)
                    } var Da = this; fb(oa,
                        function () {
                            this._ctrl.receive(this, this._ctx, this._msgCtx, this._input, null, this._timeout, {
                                result: function (Qa) { Aa(Qa) }, timeout: function () { oa.timeout() }, error: function (Qa) {
                                    fb(oa, function () {
                                        if (V(Qa)) return null; if (Qa instanceof eb) { var Ha = Qa.messageId; var Xa = Qa.error; var bb = this._ctrl.messageRegistry.getUserMessage(Xa, null); var Ya = Qa } else Ha = null, Xa = W.INTERNAL_EXCEPTION, bb = null, Ya = new vb("Error receiving the message header.", Qa); ba(this, this._ctx, this._msgCtx.getDebugContext(), Ha, Xa, bb, this._output,
                                            this._timeout, { result: function (jb) { oa.error(Ya) }, timeout: function () { oa.timeout() }, error: function (jb) { fb(oa, function () { if (V(jb)) return null; throw new kc("Error receiving the message header.", jb, Qa); }, Da) } })
                                    }, Da)
                                }
                            })
                        }, Da)
                }
            }); var la = Cb.Class.create({
                init: function (oa, Aa, Ba, Ka, Da, Qa, Ha) {
                    Object.defineProperties(this, {
                        _ctrl: { value: oa, writable: !1, enumerable: !1, configurable: !1 }, _ctx: { value: Aa, writable: !1, enumerable: !1, configurable: !1 }, _msgCtx: { value: Ba, writable: !1, enumerable: !1, configurable: !1 }, _input: {
                            value: Ka,
                            writable: !1, enumerable: !1, configurable: !1
                        }, _output: { value: Da, writable: !1, enumerable: !1, configurable: !1 }, _request: { value: Qa, writable: !1, enumerable: !1, configurable: !1 }, _timeout: { value: Ha, writable: !1, enumerable: !1, configurable: !1 }, _aborted: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _abortFunc: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }
                    })
                }, isAborted: function () { return this._aborted }, abort: function () { this._aborted = !0; this._abortFunc && this._abortFunc.call(this) }, setAbort: function (oa) {
                    this._abortFunc =
                        oa
                }, trustedNetworkExecute: function (oa, Aa, Ba) {
                    var Ka = this; fb(Ba, function () {
                        if (12 < Aa + 1) return !1; var Da; if (Da = this._msgCtx.isIntegrityProtected() && !oa.willIntegrityProtectHeader() ? W.RESPONSE_REQUIRES_INTEGRITY_PROTECTION : this._msgCtx.isEncrypted() && !oa.willEncryptPayloads() ? W.RESPONSE_REQUIRES_ENCRYPTION : null) {
                            var Qa = dd(oa.getMessageId()); ba(this, this._ctx, this._msgCtx.getDebugContext(), Qa, Da, null, this._output, this._timeout, {
                                result: function (Ha) { Ba.result(!1) }, timeout: function () { Ba.timeout() }, error: function (Ha) {
                                    fb(Ba,
                                        function () { if (V(Ha)) return !1; throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Da, Ha, null); }, Ka)
                                }
                            })
                        } else !this._msgCtx.getCustomer() || oa.getMasterToken() || oa.getKeyExchangeData() ? (oa.setRenewable(!1), this._ctrl.send(this._ctx, this._msgCtx, this._output, oa, this._timeout, { result: function (Ha) { Ba.result(!0) }, timeout: function () { Ba.timeout() }, error: function (Ha) { Ba.error(Ha) } })) : (Qa = dd(oa.getMessageId()), ba(this, this._ctx, this._msgCtx.getDebugContext(), Qa, W.RESPONSE_REQUIRES_MASTERTOKEN,
                            null, this._output, this._timeout, { result: function (Ha) { Ba.result(!1) }, timeout: function () { Ba.timeout() }, error: function (Ha) { fb(Ba, function () { if (V(Ha)) return !1; throw new kc("Response wishes to attach a user ID token but there is no master token.", Ha, null); }, Ka) } }))
                    }, Ka)
                }, peerToPeerExecute: function (oa, Aa, Ba, Ka) {
                    function Da(Ha) {
                        fb(Ka, function () {
                            var Xa = Ha.response; Xa.close(); Xa = Xa.getErrorHeader(); this._ctrl.cleanupContext(this._ctx, Ha.requestHeader, Xa); this._ctrl.buildErrorResponse(this, this._ctx, oa, Ha,
                                Xa, { result: function (bb) { fb(Ka, function () { if (!bb) return !1; var Ya = bb.errorResult, jb = bb.tokenTicket; this.peerToPeerExecute(Ya.msgCtx, Ya.builder, Ba, { result: function (mb) { fb(Ka, function () { this._ctrl.releaseMasterToken(jb); return mb }, Qa) }, timeout: function () { fb(Ka, function () { this._ctrl.releaseMasterToken(jb); Ka.timeout() }, Qa) }, error: function (mb) { fb(Ka, function () { this._ctrl.releaseMasterToken(jb); throw mb; }, Qa) } }) }, Qa) } })
                        }, Qa)
                    } var Qa = this; fb(Ka, function () {
                        if (12 < Ba + 2) return !1; if (null != oa.getCustomer() && null ==
                            Aa.getPeerMasterToken() && null == Aa.getKeyExchangeData()) { var Ha = dd(Aa.getMessageId()); ba(this, this._ctx, oa.getDebugContext(), Ha, W.RESPONSE_REQUIRES_MASTERTOKEN, null, this._output, this._timeout, { result: function (Xa) { Ka.result(!1) }, timeout: function () { Ka.timeout() }, error: function (Xa) { fb(Ka, function () { if (V(Xa)) return !1; throw new kc("Response wishes to attach a user ID token but there is no master token.", Xa, null); }, Qa) } }) } else this._ctrl.sendReceive(this._ctx, oa, this._input, this._output, Aa, this._timeout,
                                !1, {
                                result: function (Xa) {
                                    fb(Ka, function () {
                                        function bb() { jb.read(32768, Qa._timeout, { result: function (qb) { fb(Ka, function () { qb ? bb() : Ya() }, Qa) }, timeout: function () { Ka.timeout() }, error: function (qb) { Ka.error(qb) } }) } function Ya() {
                                            fb(Ka, function () {
                                                var qb = new Ea(Xa.payloads, oa); this._ctrl.buildResponse(this, this._ctx, qb, mb, this._timeout, {
                                                    result: function (rb) {
                                                        fb(Ka, function () {
                                                            var Ab = rb.tokenTicket; this.peerToPeerExecute(qb, rb.builder, Ba, {
                                                                result: function (xb) {
                                                                    fb(Ka, function () { this._ctrl.releaseMasterToken(Ab); return xb },
                                                                        Qa)
                                                                }, timeout: function () { fb(Ka, function () { this._ctrl.releaseMasterToken(Ab); Ka.timeout() }, Qa) }, error: function (xb) { fb(Ka, function () { this._ctrl.releaseMasterToken(Ab); throw xb; }, Qa) }
                                                            })
                                                        }, Qa)
                                                    }, timeout: function () { Ka.timeout() }, error: function (rb) { Ka.error(rb) }
                                                })
                                            }, Qa)
                                        } var jb = Xa.response; Ba += 2; if (!jb) return !0; var mb = jb.getMessageHeader(); if (mb) { var nb = Xa.payloads; nb = 0 < nb.length && 0 < nb[0].data.length; if (Xa.handshake && nb) bb(); else return !0 } else Da(Xa)
                                    }, Qa)
                                }, timeout: function () { Ka.timeout() }, error: function (Xa) { Ka.error(Xa) }
                            })
                    },
                        Qa)
                }, call: function (oa) {
                    var Aa = this; this._ctrl.buildResponse(this, this._ctx, this._msgCtx, this._request, this._timeout, {
                        result: function (Ba) {
                            fb(oa, function () {
                                var Ka = Ba.builder, Da = Ba.tokenTicket; this._ctx.isPeerToPeer() ? this.peerToPeerExecute(this._msgCtx, Ka, 3, {
                                    result: function (Qa) { fb(oa, function () { this._ctx.isPeerToPeer() && this.releaseMasterToken(Da); return Qa }, Aa) }, timeout: function () { fb(oa, function () { this._ctx.isPeerToPeer() && this.releaseMasterToken(Da); oa.timeout() }, Aa) }, error: function (Qa) {
                                        fb(oa, function () {
                                            this._ctx.isPeerToPeer() &&
                                                this.releaseMasterToken(Da); if (V(Qa)) return !1; var Ha = dd(Ka.getMessageId()); if (Qa instanceof eb) { var Xa = Qa.error; var bb = this._request.messageCapabilities; bb = this._ctrl.messageRegistry.getUserMessage(Xa, bb ? bb.languages : null); var Ya = Qa } else Qa instanceof Vb ? (Xa = W.MSL_COMMS_FAILURE, bb = null, Ya = Qa) : (Xa = W.INTERNAL_EXCEPTION, bb = null, Ya = new vb("Error sending the response.", Qa)); ba(this, this._ctx, this._msgCtx.getDebugContext(), Ha, Xa, bb, this._output, this._timeout, {
                                                    result: function (jb) { oa.error(Ya) }, timeout: function () { oa.timeout() },
                                                    error: function (jb) { fb(oa, function () { if (V(jb)) return !1; throw new kc("Error sending the response.", jb, null); }, Aa) }
                                                })
                                        }, Aa)
                                    }
                                }) : this.trustedNetworkExecute(Ka, 3, {
                                    result: function (Qa) { fb(oa, function () { this._ctx.isPeerToPeer() && this.releaseMasterToken(Da); return Qa }, Aa) }, timeout: function () { fb(oa, function () { this._ctx.isPeerToPeer() && this.releaseMasterToken(Da); oa.timeout() }, Aa) }, error: function (Qa) {
                                        fb(oa, function () {
                                            this._ctx.isPeerToPeer() && this.releaseMasterToken(Da); if (V(Qa)) return !1; var Ha = dd(Ka.getMessageId());
                                            if (Qa instanceof eb) { var Xa = Qa.error; var bb = this._request.messageCapabilities; bb = this._ctrl.messageRegistry.getUserMessage(Xa, bb ? bb.languages : null); var Ya = Qa } else Qa instanceof Vb ? (Xa = W.MSL_COMMS_FAILURE, bb = null, Ya = Qa) : (Xa = W.INTERNAL_EXCEPTION, bb = null, Ya = new vb("Error sending the response.", Qa)); ba(this, this._ctx, this._msgCtx.getDebugContext(), Ha, Xa, bb, this._output, this._timeout, {
                                                result: function (jb) { oa.error(Ya) }, timeout: function () { oa.timeout() }, error: function (jb) {
                                                    fb(oa, function () {
                                                        if (V(jb)) return !1;
                                                        throw new kc("Error sending the response.", jb, null);
                                                    }, Aa)
                                                }
                                            })
                                        }, Aa)
                                    }
                                })
                            }, Aa)
                        }, timeout: function () { oa.timeout() }, error: function (Ba) {
                            fb(oa, function () {
                                if (V(Ba)) return !1; if (Ba instanceof eb) { var Ka = Ba.messageId; var Da = Ba.error; var Qa = this._request.messageCapabilities; Qa = this._ctrl.messageRegistry.getUserMessage(Da, Qa ? Qa.languages : null); var Ha = Ba } else Ka = null, Da = W.INTERNAL_EXCEPTION, Qa = null, Ha = new vb("Error building the response.", Ba); ba(this, this._ctx, this._msgCtx.getDebugContext(), Ka, Da, Qa, this._output,
                                    this._timeout, { result: function (Xa) { oa.error(Ha) }, timeout: function () { oa.timeout() }, error: function (Xa) { fb(oa, function () { if (V(Xa)) return null; throw new kc("Error building the response.", Xa, Ba); }, Aa) } })
                            }, Aa)
                        }
                    })
                }
            }); var qa = Cb.Class.create({
                init: function (oa, Aa, Ba, Ka, Da, Qa, Ha) {
                    Object.defineProperties(this, {
                        _ctrl: { value: oa, writable: !1, enumerable: !1, configurable: !1 }, _ctx: { value: Aa, writable: !1, enumerable: !1, configurable: !1 }, _msgCtx: { value: Ba, writable: !1, enumerable: !1, configurable: !1 }, _appError: {
                            value: Ka, writable: !1,
                            enumerable: !1, configurable: !1
                        }, _output: { value: output, writable: !1, enumerable: !1, configurable: !1 }, _request: { value: Qa, writable: !1, enumerable: !1, configurable: !1 }, _timeout: { value: Ha, writable: !1, enumerable: !1, configurable: !1 }, _aborted: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _abortFunc: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }
                    })
                }, isAborted: function () { return this._aborted }, abort: function () { this._aborted = !0; this._abortFunc && this._abortFunc.call(this) }, setAbort: function (oa) {
                    this._abortFunc =
                        oa
                }, call: function (oa) {
                    var Aa = this; fb(oa, function () {
                        if (this._appError == ENTITY_REJECTED) var Ba = this._request.masterToken ? W.MASTERTOKEN_REJECTED_BY_APP : W.ENTITY_REJECTED_BY_APP; else if (this._appError == USER_REJECTED) Ba = this._request.userIdToken ? W.USERIDTOKEN_REJECTED_BY_APP : W.USER_REJECTED_BY_APP; else throw new vb("Unhandled application error " + this._appError + "."); var Ka = this._request.messageCapabilities; Ka = this._ctrl.messageRegistry.getUserMessage(Ba, Ka ? Ka.languages : null); ba(this, this._ctx, this._msgCtx.getDebugContext(),
                            this._request.messageId, Ba, Ka, this._output, this._timeout, { result: function (Da) { oa.result(Da) }, timeout: oa.timeout, error: function (Da) { fb(oa, function () { if (V(Da)) return !1; if (Da instanceof eb) throw Da; throw new vb("Error building the error response.", Da); }, Aa) } })
                    }, Aa)
                }
            }); var Ja = { result: function () { }, timeout: function () { }, error: function () { } }; var Ga = Cb.Class.create({
                init: function (oa, Aa, Ba, Ka, Da, Qa, Ha, Xa, bb) {
                    if (Ha) { var Ya = Ha.builder; Ha = Ha.tokenTicket } else Ha = Ya = null; Object.defineProperties(this, {
                        _ctrl: {
                            value: oa,
                            writable: !1, enumerable: !1, configurable: !1
                        }, _ctx: { value: Aa, writable: !1, enumerable: !1, configurable: !1 }, _msgCtx: { value: Ba, writable: !1, enumerable: !1, configurable: !1 }, _remoteEntity: { value: Ka, writable: !1, enumerable: !1, configurable: !1 }, _input: { value: Da, writable: !0, enumerable: !1, configurable: !1 }, _output: { value: Qa, writable: !0, enumerable: !1, configurable: !1 }, _openedStreams: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _builder: { value: Ya, writable: !0, enumerable: !1, configurable: !1 }, _tokenTicket: {
                            value: Ha,
                            writable: !0, enumerable: !1, configurable: !1
                        }, _timeout: { value: bb, writable: !1, enumerable: !1, configurable: !1 }, _msgCount: { value: Xa, writable: !1, enumerable: !1, configurable: !1 }, _aborted: { value: !1, writable: !0, enumerable: !1, configurable: !1 }, _abortFunc: { value: Bb, writable: !0, enumerable: !1, configurable: !1 }
                    })
                }, isAborted: function () { return this._aborted }, abort: function () { this._aborted = !0; this._abortFunc && this._abortFunc.call(this) }, setAbort: function (oa) { this._abortFunc = oa }, execute: function (oa, Aa, Ba, Ka, Da) {
                    function Qa(bb) {
                        function Ya(jb) {
                            fb(Da,
                                function () { var mb = bb.response; return jb ? jb : mb }, Xa)
                        } fb(Da, function () {
                            var jb = bb.response; jb.close(); var mb = jb.getErrorHeader(); this._ctrl.cleanupContext(this._ctx, bb.requestHeader, mb); this._ctrl.buildErrorResponse(this, this._ctx, oa, bb, mb, Ba, {
                                result: function (nb) {
                                    fb(Da, function () {
                                        if (!nb) return jb; var qb = nb.errorResult, rb = nb.tokenTicket, Ab = qb.builder; qb = qb.msgCtx; if (this._ctx.isPeerToPeer()) this.execute(qb, Ab, this._timeout, Ka, {
                                            result: function (r) {
                                                fb(Da, function () { this._ctrl.releaseMasterToken(rb); Ya(r) },
                                                    Xa)
                                            }, timeout: function () { fb(Da, function () { this._ctrl.releaseMasterToken(rb); Da.timeout() }, Xa) }, error: function (r) { fb(Da, function () { this._ctrl.releaseMasterToken(rb); Da.error(r) }, Xa) }
                                        }); else { this._openedStreams && (this._input.close(), this._output.close(Ba, Ja)); var xb = new Ga(this._ctrl, this._ctx, qb, this._remoteEntity, null, null, { builder: Ab, tokenTicket: rb }, Ka, this._timeout); this.setAbort(function () { xb.abort() }); xb.call({ result: function (r) { Ya(r) }, timeout: function () { Da.timeout() }, error: function (r) { Da.error(r) } }) }
                                    },
                                        Xa)
                                }, timeout: function () { Da.timeout() }, error: function (nb) { Da.error(nb) }
                            })
                        }, Xa)
                    } function Ha(bb) {
                        fb(Da, function () {
                            function Ya() { mb.read(32768, Xa._timeout, { result: function (xb) { xb ? Ya() : jb() }, timeout: function () { Da.timeout() }, error: function (xb) { Da.error(xb) } }) } function jb() {
                                fb(Da, function () {
                                    var xb = new Ea(bb.payloads, oa); this._ctrl.buildResponse(this, this._ctx, oa, nb, Ba, {
                                        result: function (r) {
                                            fb(Da, function () {
                                                var b = r.tokenTicket; this.execute(xb, r.builder, this._timeout, Ka, {
                                                    result: function (a) {
                                                        fb(Da, function () {
                                                            this._ctrl.releaseMasterToken(b);
                                                            return a
                                                        }, Xa)
                                                    }, timeout: function () { fb(Da, function () { this._ctrl.releaseMasterToken(b); Da.timeout() }, Xa) }, error: function (a) { fb(Da, function () { this._ctrl.releaseMasterToken(b); throw a; }, Xa) }
                                                })
                                            }, Xa)
                                        }, timeout: function () { Da.timeout() }, error: function (r) { Da.error(r) }
                                    })
                                }, Xa)
                            } var mb = bb.response, nb = mb.getMessageHeader(), qb = bb.payloads; qb = 0 < qb.length && 0 < qb[0].data.length; if (!this._ctx.isPeerToPeer()) {
                                if (!bb.handshake || !qb) return mb; this._openedStreams && (this._input.close(), this._output.close(Ba, Ja)); var rb = new Ea(bb.payloads,
                                    oa); this._ctrl.buildResponse(this, this._ctx, oa, nb, Ba, { result: function (xb) { fb(Da, function () { var r = new Ga(this._ctrl, this._ctx, rb, this._remoteEntity, null, null, xb, Ka, this._timeout); this.setAbort(function () { r.abort() }); r.call(Da) }, Xa) }, timeout: function () { Da.timeout() }, error: function (xb) { Da.error(xb) } })
                            } else if (bb.handshake && qb) Ya(); else if (0 < nb.keyRequestData.length) {
                                var Ab = new za(oa); this._ctrl.buildResponse(this, this._ctx, Ab, nb, Ba, {
                                    result: function (xb) {
                                        fb(Da, function () {
                                            var r = xb.builder, b = xb.tokenTicket;
                                            mb.mark(); mb.read(1, this._timeout, {
                                                result: function (a) {
                                                    fb(Da, function () {
                                                        function c() { mb.read(32768, Xa._timeout, { result: function (k) { k ? c() : f() }, timeout: function () { Da.timeout() }, error: function (k) { Da.error(k) } }) } function f() {
                                                            Xa.execute(Ab, r, Xa._timeout, Ka, {
                                                                result: function (k) { fb(Da, function () { this._ctrl.releaseMasterToken(b); return k }, Xa) }, timeout: function () { fb(Da, function () { this._ctrl.releaseMasterToken(b); Da.timeout() }, Xa) }, error: function (k) {
                                                                    fb(Da, function () { this._ctrl.releaseMasterToken(b); throw k; },
                                                                        Xa)
                                                                }
                                                            })
                                                        } if (a) if (mb.reset(), 12 >= Ka + 1) r.setRenewable(!1), this._ctrl.send(this, this._ctx, Ab, this._output, r, this._timeout, { result: function (k) { fb(Da, function () { this.releaseMasterToken(b); return mb }, Xa) }, timeout: function () { Da.timeout() }, error: function (k) { Da.error(k) } }); else return this.releaseMasterToken(b), mb; else c()
                                                    }, Xa)
                                                }, timeout: function () { fb(Da, function () { this.releaseMasterToken(b); Da.timeout() }, Xa) }, error: function (a) { fb(Da, function () { this.releaseMasterToken(b); throw a; }, Xa) }
                                            })
                                        }, Xa)
                                    }, timeout: function () { Da.timeout() },
                                    error: function (xb) { Da.error(xb) }
                                })
                            }
                        }, Xa)
                    } var Xa = this; fb(Da, function () { if (12 < Ka + 2) return null; this._ctrl.sendReceive(this, this._ctx, oa, this._input, this._output, Aa, Ba, !0, { result: function (bb) { fb(Da, function () { if (!bb) return null; var Ya = bb.response; Ka += 2; Ya.getMessageHeader() ? Ha(bb) : Qa(bb) }, Xa) }, timeout: function () { Da.timeout() }, error: function (bb) { Da.error(bb) } }) }, Xa)
                }, call: function (oa) {
                    function Aa(Ka, Da, Qa) {
                        fb(oa, function () {
                            this.execute(this._msgCtx, Ka, Qa, this._msgCount, {
                                result: function (Ha) {
                                    fb(oa, function () {
                                        this._ctrl.releaseMasterToken(Da);
                                        this._openedStreams && this._output.close(Qa, Ja); Ha && Ha.closeSource(this._openedStreams); return Ha
                                    }, Ba)
                                }, timeout: function () { fb(oa, function () { this._ctrl.releaseMasterToken(Da); this._openedStreams && (this._output.close(Qa, Ja), this._input.close()); oa.timeout() }, Ba) }, error: function (Ha) { fb(oa, function () { this._ctrl.releaseMasterToken(Da); this._openedStreams && (this._output.close(Qa, Ja), this._input.close()); if (V(Ha)) return null; throw Ha; }, Ba) }
                            })
                        }, Ba)
                    } var Ba = this; fb(oa, function () {
                        var Ka = this._timeout; if (!this._input ||
                            !this._output) try { this._remoteEntity.setTimeout(this._timeout); var Da = Date.now(), Qa = this._remoteEntity.openConnection(); this._output = Qa.output; this._input = Qa.input; -1 != Ka && (Ka = this._timeout - (Date.now() - Da)); this._openedStreams = !0 } catch (Ha) { this._builder && this._ctrl.releaseMasterToken(this._tokenTicket); this._output && this._output.close(this._timeout, Ja); this._input && this._input.close(); if (V(Ha)) return null; throw Ha; } this._builder ? Aa(this._builder, this._tokenTicket, Ka) : this._ctrl.buildRequest(this,
                                this._ctx, this._msgCtx, this._timeout, { result: function (Ha) { fb(oa, function () { Aa(Ha.builder, Ha.tokenTicket, Ka) }, Ba) }, timeout: function () { fb(oa, function () { this._openedStreams && (this._output.close(this._timeout, Ja), this._input.close()); oa.timeout() }, Ba) }, error: function (Ha) { fb(oa, function () { this._openedStreams && (this._output.close(this._timeout, Ja), this._input.close()); if (V(Ha)) return null; throw Ha; }, Ba) } })
                    }, Ba)
                }
            })
        })(); var pe, sf; (function () {
            pe = Cb.Class.create({
                init: function (ka) {
                    Object.defineProperties(this,
                        { id: { value: ka, writable: !1, configurable: !1 } })
                }, toJSON: function () { var ka = {}; ka.id = this.id; return ka }, equals: function (ka) { return this === ka ? !0 : ka instanceof pe ? this.id == ka.id : !1 }, uniqueKey: function () { return this.id }
            }); sf = function (ka) { var ea = ka.id; if (!ea) throw new yb(W.JSON_PARSE_ERROR, JSON.stringify(ka)); return new pe(ea) }
        })(); Cb.Class.create({
            isNewestMasterToken: function (ka, ea, fa) { }, isMasterTokenRevoked: function (ka, ea) { }, acceptNonReplayableId: function (ka, ea, fa, ma) { }, createMasterToken: function (ka, ea,
                fa, ma, ja) { }, isMasterTokenRenewable: function (ka, ea, fa) { }, renewMasterToken: function (ka, ea, fa, ma, ja) { }, isUserIdTokenRevoked: function (ka, ea, fa, ma) { }, createUserIdToken: function (ka, ea, fa, ma) { }, renewUserIdToken: function (ka, ea, fa, ma) { }
        }); var ic, Qc; (function () {
            function ka(ea, fa, ma, ja) { this.sessiondata = ea; this.tokendata = fa; this.signature = ma; this.verified = ja } ic = Cb.Class.create({
                init: function (ea, fa, ma, ja, V, ba, wa, ta, xa, Ea, za) {
                    var va = this; Na(za, function () {
                        if (ma.getTime() < fa.getTime()) throw new vb("Cannot construct a master token that expires before its renewal window opens.");
                        if (0 > ja || ja > Nb) throw new vb("Sequence number " + ja + " is outside the valid range."); if (0 > V || V > Nb) throw new vb("Serial number " + V + " is outside the valid range."); var Y = Math.floor(fa.getTime() / 1E3), da = Math.floor(ma.getTime() / 1E3); if (Ea) var la = Ea.sessiondata; else { var qa = {}; ba && (qa.issuerdata = ba); qa.identity = wa; qa.encryptionkey = Eb(ta.toByteArray()); qa.hmackey = Eb(xa.toByteArray()); la = Rb(JSON.stringify(qa), Mb) } if (Ea) return Object.defineProperties(this, {
                            ctx: { value: ea, writable: !1, enumerable: !1, configurable: !1 },
                            renewalWindowSeconds: { value: Y, writable: !1, enumerable: !1, configurable: !1 }, expirationSeconds: { value: da, writable: !1, enumerable: !1, configurable: !1 }, sequenceNumber: { value: ja, writable: !1, configurable: !1 }, serialNumber: { value: V, writable: !1, configurable: !1 }, issuerData: { value: ba, writable: !1, configurable: !1 }, identity: { value: wa, writable: !1, configurable: !1 }, encryptionKey: { value: ta, writable: !1, configurable: !1 }, hmacKey: { value: xa, writable: !1, configurable: !1 }, sessiondata: { value: la, writable: !1, enumerable: !1, configurable: !1 },
                            verified: { value: Ea.verified, writable: !1, enumerable: !1, configurable: !1 }, tokendata: { value: Ea.tokendata, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: Ea.signature, writable: !1, enumerable: !1, configurable: !1 }
                        }), this; var Ja = ea.getMslCryptoContext(); Ja.encrypt(la, {
                            result: function (Ga) {
                                Na(za, function () {
                                    var Ra = {}; Ra.renewalwindow = Y; Ra.expiration = da; Ra.sequencenumber = ja; Ra.serialnumber = V; Ra.sessiondata = Eb(Ga); var Ta = Rb(JSON.stringify(Ra), Mb); Ja.sign(Ta, {
                                        result: function (oa) {
                                            Na(za, function () {
                                                Object.defineProperties(this,
                                                    {
                                                        ctx: { value: ea, writable: !1, enumerable: !1, configurable: !1 }, renewalWindowSeconds: { value: Y, writable: !1, enumerable: !1, configurable: !1 }, expirationSeconds: { value: da, writable: !1, enumerable: !1, configurable: !1 }, sequenceNumber: { value: ja, writable: !1, enumerable: !1, configurable: !1 }, serialNumber: { value: V, writable: !1, enumerable: !1, configurable: !1 }, issuerData: { value: ba, writable: !1, configurable: !1 }, identity: { value: wa, writable: !1, configurable: !1 }, encryptionKey: { value: ta, writable: !1, configurable: !1 }, hmacKey: {
                                                            value: xa,
                                                            writable: !1, configurable: !1
                                                        }, sessiondata: { value: la, writable: !1, enumerable: !1, configurable: !1 }, verified: { value: !0, writable: !1, enumerable: !1, configurable: !1 }, tokendata: { value: Ta, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: oa, writable: !1, enumerable: !1, configurable: !1 }
                                                    }); return this
                                            }, va)
                                        }, error: function (oa) { za.error(oa) }
                                    })
                                }, va)
                            }, error: function (Ga) { za.error(Ga) }
                        })
                    }, this)
                }, get renewalWindow() { return new Date(1E3 * this.renewalWindowSeconds) }, get expiration() { return new Date(1E3 * this.expirationSeconds) },
                isDecrypted: function () { return this.sessiondata ? !0 : !1 }, isVerified: function () { return this.verified }, isRenewable: function (ea) { return this.isVerified() ? this.renewalWindow.getTime() <= this.ctx.getTime() : !0 }, isExpired: function (ea) { return this.isVerified() ? this.expiration.getTime() <= this.ctx.getTime() : !1 }, isNewerThan: function (ea) {
                    if (this.sequenceNumber == ea.sequenceNumber) return this.expiration > ea.expiration; if (this.sequenceNumber > ea.sequenceNumber) {
                        var fa = this.sequenceNumber - Nb + 127; return ea.sequenceNumber >=
                            fa
                    } fa = ea.sequenceNumber - Nb + 127; return this.sequenceNumber < fa
                }, toJSON: function () { var ea = {}; ea.tokendata = Eb(this.tokendata); ea.signature = Eb(this.signature); return ea }, equals: function (ea) { return this === ea ? !0 : ea instanceof ic ? this.serialNumber == ea.serialNumber && this.sequenceNumber == ea.sequenceNumber && this.expiration.getTime() == ea.expiration.getTime() : !1 }, uniqueKey: function () { return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime() }
            }); Qc = function (ea, fa, ma) {
                Na(ma, function () {
                    var ja = ea.getMslCryptoContext(),
                        V = fa.tokendata, ba = fa.signature; if ("string" !== typeof V || "string" !== typeof ba) throw new yb(W.JSON_PARSE_ERROR, "mastertoken " + JSON.stringify(fa)); try { var wa = Gb(V) } catch (xa) { throw new eb(W.MASTERTOKEN_TOKENDATA_INVALID, "mastertoken " + JSON.stringify(fa), xa); } if (!wa || 0 == wa.length) throw new yb(W.MASTERTOKEN_TOKENDATA_MISSING, "mastertoken " + JSON.stringify(fa)); try { var ta = Gb(ba) } catch (xa) { throw new eb(W.MASTERTOKEN_SIGNATURE_INVALID, "mastertoken " + JSON.stringify(fa), xa); } ja.verify(wa, ta, {
                            result: function (xa) {
                                Na(ma,
                                    function () {
                                        var Ea = Ub(wa, Mb); try { var za = JSON.parse(Ea); var va = parseInt(za.renewalwindow); var Y = parseInt(za.expiration); var da = parseInt(za.sequencenumber); var la = parseInt(za.serialnumber); var qa = za.sessiondata } catch (Ta) { if (Ta instanceof SyntaxError) throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR, "mastertokendata " + Ea, Ta); throw Ta; } if (!va || va != va || !Y || Y != Y || "number" !== typeof da || da != da || "number" !== typeof la || la != la || "string" !== typeof qa) throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR, "mastertokendata " +
                                            Ea); if (Y < va) throw new eb(W.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL, "mastertokendata " + Ea); if (0 > da || da > Nb) throw new eb(W.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE, "mastertokendata " + Ea); if (0 > la || la > Nb) throw new eb(W.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "mastertokendata " + Ea); var Ja = new Date(1E3 * va), Ga = new Date(1E3 * Y); try { var Ra = Gb(qa) } catch (Ta) { throw new eb(W.MASTERTOKEN_SESSIONDATA_INVALID, qa, Ta); } if (!Ra || 0 == Ra.length) throw new eb(W.MASTERTOKEN_SESSIONDATA_MISSING, qa); xa ? ja.decrypt(Ra, {
                                                result: function (Ta) {
                                                    Na(ma,
                                                        function () {
                                                            var oa = Ub(Ta, Mb); try { var Aa = JSON.parse(oa); var Ba = Aa.issuerdata; var Ka = Aa.identity; var Da = Aa.encryptionkey; var Qa = Aa.hmackey } catch (Ha) { if (Ha instanceof SyntaxError) throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR, "sessiondata " + oa, Ha); throw Ha; } if (Ba && "object" !== typeof Ba || !Ka || "string" !== typeof Da || "string" !== typeof Qa) throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR, "sessiondata " + oa); zc(Da, rc, Hc, {
                                                                result: function (Ha) {
                                                                    zc(Qa, sc, Pc, {
                                                                        result: function (Xa) {
                                                                            Na(ma, function () {
                                                                                var bb = new ka(Ta,
                                                                                    wa, ta, xa); new ic(ea, Ja, Ga, da, la, Ba, Ka, Ha, Xa, bb, ma)
                                                                            })
                                                                        }, error: function (Xa) { ma.error(new tb(W.MASTERTOKEN_KEY_CREATION_ERROR, Xa)) }
                                                                    })
                                                                }, error: function (Ha) { ma.error(new tb(W.MASTERTOKEN_KEY_CREATION_ERROR, Ha)) }
                                                            })
                                                        })
                                                }, error: function (Ta) { ma.error(Ta) }
                                            }) : (va = new ka(null, wa, ta, xa), new ic(ea, Ja, Ga, da, la, null, null, null, null, va, ma))
                                    })
                            }, error: function (xa) { ma.error(xa) }
                        })
                })
            }
        })(); var ad, Rc; (function () {
            function ka(ea, fa, ma) { this.tokendata = ea; this.signature = fa; this.verified = ma } ad = Cb.Class.create({
                init: function (ea, fa,
                    ma, ja, V, ba, wa, ta, xa) {
                    var Ea = this; Na(xa, function () {
                        if (ma.getTime() < fa.getTime()) throw new vb("Cannot construct a user ID token that expires before its renewal window opens."); if (!ja) throw new vb("Cannot construct a user ID token without a master token."); if (0 > V || V > Nb) throw new vb("Serial number " + V + " is outside the valid range."); var za = Math.floor(fa.getTime() / 1E3), va = Math.floor(ma.getTime() / 1E3), Y = ja.serialNumber; if (ta) {
                            var da = ta.tokendata, la = ta.signature, qa = ta.verified; Y = ja.serialNumber; Object.defineProperties(this,
                                {
                                    ctx: { value: ea, writable: !1, enumerable: !1, configurable: !1 }, renewalWindowSeconds: { value: za, writable: !1, enumerable: !1, configurable: !1 }, expirationSeconds: { value: va, writable: !1, enumerable: !1, configurable: !1 }, mtSerialNumber: { value: Y, writable: !1, configurable: !1 }, serialNumber: { value: V, writable: !1, configurable: !1 }, issuerData: { value: ba, writable: !1, configurable: !1 }, customer: { value: wa, writable: !1, configurable: !1 }, verified: { value: qa, writable: !1, enumerable: !1, configurable: !1 }, tokendata: {
                                        value: da, writable: !1, enumerable: !1,
                                        configurable: !1
                                    }, signature: { value: la, writable: !1, enumerable: !1, configurable: !1 }
                                }); return this
                        } da = {}; ba && (da.issuerdata = ba); da.identity = wa; da = Rb(JSON.stringify(da), Mb); var Ja = ea.getMslCryptoContext(); Ja.encrypt(da, {
                            result: function (Ga) {
                                Na(xa, function () {
                                    var Ra = {}; Ra.renewalwindow = za; Ra.expiration = va; Ra.mtserialnumber = Y; Ra.serialnumber = V; Ra.userdata = Eb(Ga); var Ta = Rb(JSON.stringify(Ra), Mb); Ja.sign(Ta, {
                                        result: function (oa) {
                                            Na(xa, function () {
                                                Object.defineProperties(this, {
                                                    ctx: {
                                                        value: ea, writable: !1, enumerable: !1,
                                                        configurable: !1
                                                    }, renewalWindowSeconds: { value: za, writable: !1, enumerable: !1, configurable: !1 }, expirationSeconds: { value: va, writable: !1, enumerable: !1, configurable: !1 }, mtSerialNumber: { value: ja.serialNumber, writable: !1, configurable: !1 }, serialNumber: { value: V, writable: !1, configurable: !1 }, issuerData: { value: ba, writable: !1, configurable: !1 }, customer: { value: wa, writable: !1, configurable: !1 }, verified: { value: !0, writable: !1, enumerable: !1, configurable: !1 }, tokendata: { value: Ta, writable: !1, enumerable: !1, configurable: !1 },
                                                    signature: { value: oa, writable: !1, enumerable: !1, configurable: !1 }
                                                }); return this
                                            }, Ea)
                                        }, error: function (oa) { Na(xa, function () { oa instanceof eb && oa.setEntity(ja); throw oa; }, Ea) }
                                    })
                                }, Ea)
                            }, error: function (Ga) { Na(xa, function () { Ga instanceof eb && Ga.setEntity(ja); throw Ga; }, Ea) }
                        })
                    }, this)
                }, get renewalWindow() { return new Date(1E3 * this.renewalWindowSeconds) }, get expiration() { return new Date(1E3 * this.expirationSeconds) }, isVerified: function () { return this.verified }, isDecrypted: function () { return this.customer ? !0 : !1 }, isRenewable: function () {
                    return this.renewalWindow.getTime() <=
                        this.ctx.getTime()
                }, isExpired: function () { return this.expiration.getTime() <= this.ctx.getTime() }, isBoundTo: function (ea) { return ea && ea.serialNumber == this.mtSerialNumber }, toJSON: function () { var ea = {}; ea.tokendata = Eb(this.tokendata); ea.signature = Eb(this.signature); return ea }, equals: function (ea) { return this === ea ? !0 : ea instanceof ad ? this.serialNumber == ea.serialNumber && this.mtSerialNumber == ea.mtSerialNumber : !1 }, uniqueKey: function () { return this.serialNumber + ":" + this.mtSerialNumber }
            }); Rc = function (ea, fa, ma, ja) {
                Na(ja,
                    function () {
                        var V = ea.getMslCryptoContext(), ba = fa.tokendata, wa = fa.signature; if ("string" !== typeof ba || "string" !== typeof wa) throw (new yb(W.JSON_PARSE_ERROR, "useridtoken " + JSON.stringify(fa))).setEntity(ma); try { var ta = Gb(ba) } catch (Ea) { throw (new eb(W.USERIDTOKEN_TOKENDATA_INVALID, "useridtoken " + JSON.stringify(fa), Ea)).setEntity(ma); } if (!ta || 0 == ta.length) throw (new yb(W.USERIDTOKEN_TOKENDATA_MISSING, "useridtoken " + JSON.stringify(fa))).setEntity(ma); try { var xa = Gb(wa) } catch (Ea) {
                            throw (new eb(W.USERIDTOKEN_TOKENDATA_INVALID,
                                "useridtoken " + JSON.stringify(fa), Ea)).setEntity(ma);
                        } V.verify(ta, xa, {
                            result: function (Ea) {
                                Na(ja, function () {
                                    var za = Ub(ta, Mb); try { var va = JSON.parse(za); var Y = parseInt(va.renewalwindow); var da = parseInt(va.expiration); var la = parseInt(va.mtserialnumber); var qa = parseInt(va.serialnumber); var Ja = va.userdata } catch (oa) { if (oa instanceof SyntaxError) throw (new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR, "usertokendata " + za, oa)).setEntity(ma); throw oa; } if (!Y || Y != Y || !da || da != da || "number" !== typeof la || la != la || "number" !==
                                        typeof qa || qa != qa || "string" !== typeof Ja) throw (new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR, "usertokendata " + za)).setEntity(ma); if (da < Y) throw (new eb(W.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL, "mastertokendata " + za)).setEntity(ma); if (0 > la || la > Nb) throw (new eb(W.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "usertokendata " + za)).setEntity(ma); if (0 > qa || qa > Nb) throw (new eb(W.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "usertokendata " + za)).setEntity(ma); var Ga = new Date(1E3 * Y), Ra = new Date(1E3 * da); if (!ma || la != ma.serialNumber) throw (new eb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,
                                            "uit mtserialnumber " + la + "; mt " + JSON.stringify(ma))).setEntity(ma); try { var Ta = Gb(Ja) } catch (oa) { throw (new eb(W.USERIDTOKEN_USERDATA_INVALID, Ja, oa)).setEntity(ma); } if (!Ta || 0 == Ta.length) throw (new eb(W.USERIDTOKEN_USERDATA_MISSING, Ja)).setEntity(ma); Ea ? V.decrypt(Ta, {
                                                result: function (oa) {
                                                    Na(ja, function () {
                                                        var Aa = Ub(oa, Mb); try { var Ba = JSON.parse(Aa); var Ka = Ba.issuerdata; var Da = Ba.identity } catch (Ha) {
                                                            if (Ha instanceof SyntaxError) throw (new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR, "userdata " + Aa)).setEntity(ma);
                                                            throw Ha;
                                                        } if (Ka && "object" !== typeof Ka || "object" !== typeof Da) throw (new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR, "userdata " + Aa)).setEntity(ma); try { var Qa = sf(Da) } catch (Ha) { throw (new eb(W.USERIDTOKEN_IDENTITY_INVALID, "userdata " + Aa, Ha)).setEntity(ma); } Da = new ka(ta, xa, Ea); new ad(ea, Ga, Ra, ma, qa, Ka, Qa, Da, ja)
                                                    })
                                                }, error: function (oa) { Na(ja, function () { oa instanceof eb && oa.setEntity(ma); throw oa; }) }
                                            }) : (Y = new ka(ta, xa, Ea), new ad(ea, Ga, Ra, ma, qa, null, null, Y, ja))
                                })
                            }, error: function (Ea) {
                                Na(ja, function () {
                                    Ea instanceof
                                        eb && Ea.setEntity(ma); throw Ea;
                                })
                            }
                        })
                    })
            }
        })(); var Jc, Dc, Hd; (function () {
            function ka(fa, ma) {
                var ja = fa.tokendata; if ("string" !== typeof ja) throw new yb(W.JSON_PARSE_ERROR, "servicetoken " + JSON.stringify(fa)); try { var V = Gb(ja) } catch (wa) { throw new eb(W.SERVICETOKEN_TOKENDATA_INVALID, "servicetoken " + JSON.stringify(fa), wa); } if (!V || 0 == V.length) throw new yb(W.SERVICETOKEN_TOKENDATA_MISSING, "servicetoken " + JSON.stringify(fa)); try { var ba = JSON.parse(Ub(V, Mb)).name } catch (wa) {
                    if (wa instanceof SyntaxError) throw new yb(W.JSON_PARSE_ERROR,
                        "servicetoken " + JSON.stringify(fa), wa); throw wa;
                } if (!ba) throw new yb(W.JSON_PARSE_ERROR, "servicetoken " + JSON.stringify(fa)); return ma[ba] ? ma[ba] : ma[""]
            } function ea(fa, ma, ja) { this.tokendata = fa; this.signature = ma; this.verified = ja } Jc = Cb.Class.create({
                init: function (fa, ma, ja, V, ba, wa, ta, xa, Ea, za) {
                    var va = this; Na(za, function () {
                        if (V && ba && !ba.isBoundTo(V)) throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");
                        var Y = V ? V.serialNumber : -1, da = ba ? ba.serialNumber : -1; if (Ea) return Ja = Ea.tokendata, Object.defineProperties(this, {
                            ctx: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, name: { value: ma, writable: !1, configurable: !1 }, mtSerialNumber: { value: Y, writable: !1, configurable: !1 }, uitSerialNumber: { value: da, writable: !1, configurable: !1 }, data: { value: ja, writable: !1, configurable: !1 }, encrypted: { value: wa, writable: !1, enumerable: !1, configurable: !1 }, compressionAlgo: { value: ta, writable: !1, configurable: !1 }, verified: {
                                value: Ea.verified,
                                writable: !1, enumerable: !1, configurable: !1
                            }, tokendata: { value: Ja, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: Ea.signature, writable: !1, enumerable: !1, configurable: !1 }
                        }), this; if (ta) { var la = oe(ta, ja); la.length < ja.length || (ta = null, la = ja) } else ta = null, la = ja; var qa = {}; qa.name = ma; -1 != Y && (qa.mtserialnumber = Y); -1 != da && (qa.uitserialnumber = da); qa.encrypted = wa; ta && (qa.compressionalgo = ta); if (wa && 0 < la.length) xa.encrypt(la, {
                            result: function (Ga) {
                                Na(za, function () {
                                    qa.servicedata = Eb(Ga); var Ra = Rb(JSON.stringify(qa),
                                        Mb); xa.sign(Ra, {
                                            result: function (Ta) {
                                                Na(za, function () {
                                                    Object.defineProperties(this, {
                                                        ctx: { value: fa, writable: !1, enumerable: !1, configurable: !1 }, name: { value: ma, writable: !1, configurable: !1 }, mtSerialNumber: { value: Y, writable: !1, configurable: !1 }, uitSerialNumber: { value: da, writable: !1, configurable: !1 }, data: { value: ja, writable: !1, configurable: !1 }, encrypted: { value: wa, writable: !1, enumerable: !1, configurable: !1 }, compressionAlgo: { value: ta, writable: !1, configurable: !1 }, verified: { value: !0, writable: !1, enumerable: !1, configurable: !1 },
                                                        tokendata: { value: Ra, writable: !1, enumerable: !1, configurable: !1 }, signature: { value: Ta, writable: !1, enumerable: !1, configurable: !1 }
                                                    }); return this
                                                }, va)
                                            }, error: function (Ta) { Na(za, function () { Ta instanceof eb && (Ta.setEntity(V), Ta.setUser(ba)); throw Ta; }) }
                                        })
                                }, va)
                            }, error: function (Ga) { Na(za, function () { Ga instanceof eb && (Ga.setEntity(V), Ga.setUser(ba)); throw Ga; }) }
                        }); else {
                            qa.servicedata = Eb(la); var Ja = Rb(JSON.stringify(qa), Mb); xa.sign(Ja, {
                                result: function (Ga) {
                                    Na(za, function () {
                                        Object.defineProperties(this, {
                                            ctx: {
                                                value: fa,
                                                writable: !1, enumerable: !1, configurable: !1
                                            }, name: { value: ma, writable: !1, configurable: !1 }, mtSerialNumber: { value: Y, writable: !1, configurable: !1 }, uitSerialNumber: { value: da, writable: !1, configurable: !1 }, data: { value: ja, writable: !1, configurable: !1 }, encrypted: { value: wa, writable: !1, enumerable: !1, configurable: !1 }, compressionAlgo: { value: ta, writable: !1, configurable: !1 }, verified: { value: !0, writable: !1, enumerable: !1, configurable: !1 }, tokendata: { value: Ja, writable: !1, enumerable: !1, configurable: !1 }, signature: {
                                                value: Ga,
                                                writable: !1, enumerable: !1, configurable: !1
                                            }
                                        }); return this
                                    }, va)
                                }, error: function (Ga) { Na(za, function () { Ga instanceof eb && (Ga.setEntity(V), Ga.setUser(ba)); throw Ga; }) }
                            })
                        }
                    }, this)
                }, isEncrypted: function () { return this.encrypted }, isVerified: function () { return this.verified }, isDecrypted: function () { return this.data ? !0 : !1 }, isDeleted: function () { return this.data && 0 == this.data.length }, isMasterTokenBound: function () { return -1 != this.mtSerialNumber }, isBoundTo: function (fa) {
                    return fa ? fa instanceof ic ? fa.serialNumber == this.mtSerialNumber :
                        fa instanceof ad ? fa.serialNumber == this.uitSerialNumber : !1 : !1
                }, isUserIdTokenBound: function () { return -1 != this.uitSerialNumber }, isUnbound: function () { return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber }, toJSON: function () { var fa = {}; fa.tokendata = Eb(this.tokendata); fa.signature = Eb(this.signature); return fa }, equals: function (fa) { return this === fa ? !0 : fa instanceof Jc ? this.name == fa.name && this.mtSerialNumber == fa.mtSerialNumber && this.uitSerialNumber == fa.uitSerialNumber : !1 }, uniqueKey: function () {
                    return this.name +
                        ":" + this.mtSerialNumber + ":" + this.uitSerialNumber
                }
            }); Dc = function (fa, ma, ja, V, ba, wa, ta, xa, Ea) { new Jc(fa, ma, ja, V, ba, wa, ta, xa, null, Ea) }; Hd = function (fa, ma, ja, V, ba, wa) {
                Na(wa, function () {
                    !ba || ba instanceof bd || (ba = ka(ma, ba)); var ta = ma.tokendata, xa = ma.signature; if ("string" !== typeof ta || "string" !== typeof xa) throw (new yb(W.JSON_PARSE_ERROR, "servicetoken " + JSON.stringify(ma))).setEntity(ja).setEntity(V); try { var Ea = Gb(ta) } catch (oa) {
                        throw (new eb(W.SERVICETOKEN_TOKENDATA_INVALID, "servicetoken " + JSON.stringify(ma),
                            oa)).setEntity(ja).setEntity(V);
                    } if (!Ea || 0 == Ea.length) throw (new yb(W.SERVICETOKEN_TOKENDATA_MISSING, "servicetoken " + JSON.stringify(ma))).setEntity(ja).setEntity(V); try { var za = Gb(xa) } catch (oa) { throw (new eb(W.SERVICETOKEN_SIGNATURE_INVALID, "servicetoken " + JSON.stringify(ma), oa)).setEntity(ja).setEntity(V); } var va = Ub(Ea, Mb); try {
                        var Y = JSON.parse(va); var da = Y.name; var la = Y.mtserialnumber ? parseInt(Y.mtserialnumber) : -1; var qa = Y.uitserialnumber ? parseInt(Y.uitserialnumber) : -1; var Ja = Y.encrypted; var Ga = Y.compressionalgo;
                        var Ra = Y.servicedata
                    } catch (oa) { if (oa instanceof SyntaxError) throw (new yb(W.JSON_PARSE_ERROR, "servicetokendata " + va, oa)).setEntity(ja).setEntity(V); throw oa; } if (!da || "number" !== typeof la || la != la || "number" !== typeof qa || qa != qa || "boolean" !== typeof Ja || Ga && "string" !== typeof Ga || "string" !== typeof Ra) throw (new yb(W.JSON_PARSE_ERROR, "servicetokendata " + va)).setEntity(ja).setEntity(V); if (Y.mtserialnumber && 0 > la || la > Nb) throw (new eb(W.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "servicetokendata " + va)).setEntity(ja).setEntity(V);
                    if (Y.uitserialnumber && 0 > qa || qa > Nb) throw (new eb(W.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE, "servicetokendata " + va)).setEntity(ja).setEntity(V); if (-1 != la && (!ja || la != ja.serialNumber)) throw (new eb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH, "st mtserialnumber " + la + "; mt " + ja)).setEntity(ja).setEntity(V); if (-1 != qa && (!V || qa != V.serialNumber)) throw (new eb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH, "st uitserialnumber " + qa + "; uit " + V)).setEntity(ja).setEntity(V); Ja = !0 === Ja; if (Ga) {
                        if (!Mc[Ga]) throw new eb(W.UNIDENTIFIED_COMPRESSION,
                            Ga); var Ta = Ga
                    } else Ta = null; ba ? ba.verify(Ea, za, {
                        result: function (oa) {
                            Na(wa, function () {
                                if (oa) {
                                    try { var Aa = Gb(Ra) } catch (Ka) { throw (new eb(W.SERVICETOKEN_SERVICEDATA_INVALID, "servicetokendata " + va, Ka)).setEntity(ja).setEntity(V); } if (!Aa || 0 != Ra.length && 0 == Aa.length) throw (new eb(W.SERVICETOKEN_SERVICEDATA_INVALID, "servicetokendata " + va)).setEntity(ja).setEntity(V); if (Ja && 0 < Aa.length) ba.decrypt(Aa, {
                                        result: function (Ka) {
                                            Na(wa, function () {
                                                var Da = Ta ? Id(Ta, Ka) : Ka, Qa = new ea(Ea, za, oa); new Jc(fa, da, Da, -1 != la ? ja : null,
                                                    -1 != qa ? V : null, Ja, Ta, ba, Qa, wa)
                                            })
                                        }, error: function (Ka) { Na(wa, function () { Ka instanceof eb && (Ka.setEntity(ja), Ka.setUser(V)); throw Ka; }) }
                                    }); else { Aa = Ta ? Id(Ta, Aa) : Aa; var Ba = new ea(Ea, za, oa); new Jc(fa, da, Aa, -1 != la ? ja : null, -1 != qa ? V : null, Ja, Ta, ba, Ba, wa) }
                                } else Aa = "" == Ra ? new Uint8Array(0) : null, Ba = new ea(Ea, za, oa), new Jc(fa, da, Aa, -1 != la ? ja : null, -1 != qa ? V : null, Ja, Ta, ba, Ba, wa)
                            })
                        }, error: function (oa) { Na(wa, function () { oa instanceof eb && (oa.setEntity(ja), oa.setUser(V)); throw oa; }) }
                    }) : (ta = "" == Ra ? new Uint8Array(0) : null,
                        xa = new ea(Ea, za, !1), new Jc(fa, da, ta, -1 != la ? ja : null, -1 != qa ? V : null, Ja, Ta, ba, xa, wa))
                })
            }
        })(); var ac = { EMAIL_PASSWORD: "EMAIL_PASSWORD", NETFLIXID: "NETFLIXID", SSO: "SSO", SWITCH_PROFILE: "SWITCH_PROFILE", MDX: "MDX" }; Object.freeze(ac); var Gc, gf; (function () {
            Gc = Cb.Class.create({
                init: function (ka) { Object.defineProperties(this, { scheme: { value: ka, writable: !1, configurable: !1 } }) }, getAuthData: function () { }, equals: function (ka) { return this === ka ? !0 : ka instanceof Gc ? this.scheme == ka.scheme : !1 }, toJSON: function () {
                    var ka = {}; ka.scheme =
                        this.scheme; ka.authdata = this.getAuthData(); return ka
                }
            }); gf = function (ka, ea, fa, ma) { Na(ma, function () { var ja = fa.scheme, V = fa.authdata; if (!ja || !V) throw new yb(W.JSON_PARSE_ERROR, "userauthdata " + JSON.stringify(fa)); if (!ac[ja]) throw new Hb(W.UNIDENTIFIED_USERAUTH_SCHEME, ja); var ba = ka.getUserAuthenticationFactory(ja); if (!ba) throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND, ja); ba.createData(ka, ea, V, ma) }) }
        })(); var od = Cb.Class.create({
            init: function (ka) { Object.defineProperties(this, { scheme: { value: ka, writable: !1, configurable: !1 } }) },
            createData: function (ka, ea, fa, ma) { }, authenticate: function (ka, ea, fa, ma) { }
        }), Uc, tf; (function () {
            Uc = Gc.extend({
                init: function ma(ea, fa) { ma.base.call(this, ac.NETFLIXID); Object.defineProperties(this, { netflixId: { value: ea, writable: !1, configurable: !1 }, secureNetflixId: { value: fa, writable: !1, configurable: !1 } }) }, getAuthData: function () { var ea = {}; ea.netflixid = this.netflixId; this.secureNetflixId && (ea.securenetflixid = this.secureNetflixId); return ea }, equals: function ma(fa) {
                    return this === fa ? !0 : fa instanceof Uc ? ma.base.call(this,
                        fa) && this.netflixId == fa.netflixId && this.secureNetflixId == fa.secureNetflixId : !1
                }
            }); tf = function (fa) { var ma = fa.netflixid, ja = fa.securenetflixid; if (!ma) throw new yb(W.JSON_PARSE_ERROR, "NetflixId authdata " + JSON.stringify(fa)); return new Uc(ma, ja) }
        })(); var Wf = od.extend({
            init: function ea() { ea.base.call(this, ac.NETFLIXID) }, createData: function (ea, fa, ma, ja) { Na(ja, function () { return tf(ma) }) }, authenticate: function (ea, fa, ma, ja) {
                if (!(ma instanceof Uc)) throw new vb("Incorrect authentication data type " + ma + ".");
                ea = ma.secureNetflixId; if (!ma.netflixId || !ea) throw (new Hb(W.NETFLIXID_COOKIES_BLANK)).setUser(ma); throw (new Hb(W.UNSUPPORTED_USERAUTH_DATA, this.scheme)).setUser(ma);
            }
        }), pd, uf; (function () {
            pd = Gc.extend({
                init: function ja(fa, ma) { ja.base.call(this, ac.EMAIL_PASSWORD); Object.defineProperties(this, { email: { value: fa, writable: !1, configurable: !1 }, password: { value: ma, writable: !1, configurable: !1 } }) }, getAuthData: function () { var fa = {}; fa.email = this.email; fa.password = this.password; return fa }, equals: function ja(ma) {
                    return this ===
                        ma ? !0 : ma instanceof pd ? ja.base.call(this, this, ma) && this.email == ma.email && this.password == ma.password : !1
                }
            }); uf = function (ma) { var ja = ma.email, V = ma.password; if (!ja || !V) throw new yb(W.JSON_PARSE_ERROR, "email/password authdata " + JSON.stringify(ma)); return new pd(ja, V) }
        })(); var Xf = od.extend({
            init: function fa() { fa.base.call(this, ac.EMAIL_PASSWORD) }, createData: function (fa, ma, ja, V) { Na(V, function () { return uf(ja) }) }, authenticate: function (fa, ma, ja, V) {
                if (!(ja instanceof pd)) throw new vb("Incorrect authentication data type " +
                    ja + "."); fa = ja.password; if (!ja.email || !fa) throw (new Hb(W.EMAILPASSWORD_BLANK)).setUser(ja); throw (new Hb(W.UNSUPPORTED_USERAUTH_DATA, this.scheme)).setUser(ja);
            }
        }), ed, vf, Ld, qe, qd, re; (function() {
            function fa(Y, da) {
                return "<" + Y + ">" + da + "</" + Y + ">"
            }
        
            function ma(Y) {
                return Y.replace(/[<>&"']/g, function(da) {
                    return xa[da]
                })
            }
        
            function ja(Y) {
                return encodeURIComponent(Y).replace("%20", "+").replace(/[!'()]/g, escape).replace(/\*/g, "%2A")
            }
            var V = Ld = {
                    MSL: "MSL",
                    NTBA: "NTBA",
                    MSL_LEGACY: "MSL_LEGACY"
                },
                ba = Cb.Class.create({
                    getAction: function() {},
                    getNonce: function() {},
                    getPin: function() {},
                    getSignature: function() {},
                    getEncoding: function() {},
                    equals: function() {}
                }),
                wa = qe = ba.extend({
                    init: function(Y, da, la, qa, Ja, Ga, Ra) {
                        function Ta(Ba) {
                            Na(Ra, function() {
                                try {
                                    var Ka = {};
                                    Ka.useridtoken = Y;
                                    Ka.action = da;
                                    Ka.nonce = la;
                                    Ka.pin = Eb(Ba);
                                    var Da = Rb(JSON.stringify(Ka), Mb)
                                } catch (Qa) {
                                    throw new yb(W.JSON_ENCODE_ERROR, "MSL-based MDX authdata", Qa);
                                }
                                Ja.sign(Da, {
                                    result: function(Qa) {
                                        oa(Da, Qa)
                                    },
                                    error: Ra.error
                                })
                            }, Aa)
                        }
        
                        function oa(Ba, Ka) {
                            Na(Ra, function() {
                                Object.defineProperties(this, {
                                    _userIdToken: {
                                        value: Y,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !1
                                    },
                                    _action: {
                                        value: da,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !1
                                    },
                                    _nonce: {
                                        value: la,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !1
                                    },
                                    _pin: {
                                        value: qa,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !1
                                    },
                                    _encoding: {
                                        value: Ba,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !1
                                    },
                                    _signature: {
                                        value: Ka,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !1
                                    }
                                });
                                return this
                            }, Aa)
                        }
                        var Aa = this;
                        Na(Ra, function() {
                            Ga ? oa(Ga.encoding, Ga.signature) : Ja.encrypt(Rb(qa, Mb), {
                                result: function(Ba) {
                                    Ta(Ba)
                                },
                                error: Ra.error
                            })
                        }, Aa)
                    },
                    getUserIdToken: function() {
                        return this._userIdToken
                    },
                    getAction: function() {
                        return this._action
                    },
                    getNonce: function() {
                        return this._nonce
                    },
                    getPin: function() {
                        return this._pin
                    },
                    getSignature: function() {
                        return this._signature
                    },
                    getEncoding: function() {
                        return this._encoding
                    },
                    equals: function(Y) {
                        return this === Y ? !0 : Y instanceof wa ? this._action == Y._action && this._nonce == Y._nonce && this._pin == Y._pin && this._userIdToken.equals(Y._userIdToken) : !1
                    }
                });
            qe.ACTION = "userauth";
            var ta = function(Y, da, la, qa,
                    Ja) {
                    function Ga(Ta) {
                        Na(Ja, function() {
                            var oa = Ub(la, Mb);
                            try {
                                var Aa = JSON.parse(oa);
                                var Ba = Aa.useridtoken;
                                var Ka = Aa.action;
                                var Da = Aa.nonce;
                                var Qa = Aa.pin
                            } catch (Ha) {
                                if (Ha instanceof SyntaxError) throw new yb(W.JSON_PARSE_ERROR, "MDX authdata " + oa, Ha);
                                throw Ha;
                            }
                            if (!(Ba && "object" === typeof Ba && Ka && "string" === typeof Ka && Da && "number" === typeof Da && Qa) || "string" !== typeof Qa) throw new yb(W.JSON_PARSE_ERROR, "MDX authdata " + oa);
                            Rc(Y, Ba, da, {
                                result: function(Ha) {
                                    Na(Ja, function() {
                                        if (!Ha.isDecrypted()) throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,
                                            "MDX authdata " + oa);
                                        Ra(Ta, Ha, Ka, Da, Qa)
                                    })
                                },
                                error: function(Ha) {
                                    Na(Ja, function() {
                                        if (Ha instanceof eb) throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID, "MDX authdata " + oa, Ha);
                                        throw Ha;
                                    })
                                }
                            })
                        })
                    }
        
                    function Ra(Ta, oa, Aa, Ba, Ka) {
                        Na(Ja, function() {
                            var Da = Gb(Ka);
                            Ta.decrypt(Da, {
                                result: function(Qa) {
                                    Na(Ja, function() {
                                        var Ha = Ub(Qa, Mb);
                                        new wa(oa, Aa, Ba, Ha, null, {
                                            encoding: la,
                                            signature: qa
                                        }, Ja)
                                    })
                                },
                                error: Ja.error
                            })
                        })
                    }
                    Na(Ja, function() {
                        try {
                            var Ta = Y.getMslStore().getCryptoContext(da);
                            var oa = Ta ? Ta : new jc(Y, da)
                        } catch (Aa) {
                            if (Aa instanceof Oc) throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED, "MDX authdata " + Eb(la));
                            throw Aa;
                        }
                        oa.verify(la, qa, {
                            result: function(Aa) {
                                Na(Ja, function() {
                                    if (!Aa) throw new tb(W.MDX_USERAUTH_VERIFICATION_FAILED, "MDX authdata " + Eb(la));
                                    Ga(oa)
                                })
                            },
                            error: Ja.error
                        })
                    })
                },
                xa = {
                    "<": "&lt;",
                    ">": "&gt;",
                    "&": "&amp;",
                    '"': "&quot;",
                    "'": "&apos;"
                },
                Ea = qd = ba.extend({
                    init: function(Y, da, la, qa) {
                        var Ja = fa("action", ma(Y)),
                            Ga = fa("nonce", da.toString());
                        la = fa("pin", la);
                        Ja = fa("registerdata", Ja + Ga + la);
                        Ja = Rb(Ja, "utf-8");
                        Object.defineProperties(this, {
                            _action: {
                                value: Y,
                                writable: !1,
                                enumerable: !1,
                                configurable: !1
                            },
                            _nonce: {
                                value: da,
                                writable: !1,
                                enumerable: !1,
                                configurable: !1
                            },
                            _pin: {
                                value: null,
                                writable: !1,
                                enumerable: !1,
                                configurable: !1
                            },
                            _encoding: {
                                value: Ja,
                                writable: !1,
                                enumerable: !1,
                                configurable: !1
                            },
                            _signature: {
                                value: qa,
                                writable: !1,
                                enumerable: !1,
                                configurable: !1
                            }
                        })
                    },
                    getAction: function() {
                        return this._action
                    },
                    getNonce: function() {
                        return this._nonce
                    },
                    getPin: function() {
                        return this._pin
                    },
                    getSignature: function() {
                        return this._signature
                    },
                    getEncoding: function() {
                        return this._encoding
                    },
                    equals: function(Y) {
                        return this === Y ? !0 : Y instanceof Ea ? this._action == Y._action && this._nonce == Y._nonce && this._pin == Y._pin : !1
                    }
                });
            qd.ACTION = "regpairrequest";
            var za = re = ba.extend({
                init: function(Y, da, la, qa, Ja, Ga) {
                    function Ra(Aa) {
                        Na(Ga, function() {
                                var Ba = Eb(Aa),
                                    Ka = fa("action", ma(Y)),
                                    Da = fa("nonce", da.toString()),
                                    Qa = fa("pin", Ba);
                                Ka = fa("registerdata", Ka + Da + Qa);
                                var Ha = Rb(Ka, "utf-8");
                                Ba = "action=" + ja(Y) + "&nonce=" + ja(da.toString()) + "&pin=" + ja(Ba);
                                qa.sign(Rb(Ba, "utf-8"), {
                                    result: function(Xa) {
                                        Ta(Ha, Xa)
                                    },
                                    error: Ga.error
                                })
                            },
                            oa)
                    }
        
                    function Ta(Aa, Ba) {
                        Na(Ga, function() {
                            Object.defineProperties(this, {
                                _action: {
                                    value: Y,
                                    writable: !1,
                                    enumerable: !1,
                                    configurable: !1
                                },
                                _nonce: {
                                    value: da,
                                    writable: !1,
                                    enumerable: !1,
                                    configurable: !1
                                },
                                _pin: {
                                    value: la,
                                    writable: !1,
                                    enumerable: !1,
                                    configurable: !1
                                },
                                _encoding: {
                                    value: Aa,
                                    writable: !1,
                                    enumerable: !1,
                                    configurable: !1
                                },
                                _signature: {
                                    value: Ba,
                                    writable: !1,
                                    enumerable: !1,
                                    configurable: !1
                                }
                            });
                            return this
                        }, oa)
                    }
                    var oa = this;
                    Na(Ga, function() {
                        Ja ? Ta(Ja.encoding, Ja.signature) : qa.encrypt(Rb(la, "utf-8"), {
                            result: function(Aa) {
                                Ra(Aa)
                            },
                            error: Ga.error
                        })
                    }, oa)
                },
                getAction: function() {
                    return this._action
                },
                getNonce: function() {
                    return this._nonce
                },
                getPin: function() {
                    return this._pin
                },
                getSignature: function() {
                    return this._signature
                },
                getEncoding: function() {
                    return this._encoding
                },
                equals: function(Y) {
                    return this === Y ? !0 : Y instanceof za ? this._action == Y._action && this._nonce == Y._nonce && this._pin == Y._pin : !1
                }
            });
            re.ACTION = qd.ACTION;
            var va = function(Y, da, la, qa, Ja) {
                Na(Ja, function() {
                    var Ga = Y.getMslStore().getCryptoContext(da),
                        Ra = Ga ? Ga : new jc(Y, da);
                    Ga = Ub(la,
                        "utf-8");
                    var Ta = (new DOMParser).parseFromString(Ga, "application/xml");
                    Ga = Ta.getElementsByTagName("action");
                    var oa = Ta.getElementsByTagName("nonce");
                    Ta = Ta.getElementsByTagName("pin");
                    var Aa = Ga && 1 == Ga.length && Ga[0].firstChild ? Ga[0].firstChild.nodeValue : null,
                        Ba = oa && 1 == oa.length && oa[0].firstChild ? parseInt(oa[0].firstChild.nodeValue) : null,
                        Ka = Ta && 1 == Ta.length && Ta[0].firstChild ? Ta[0].firstChild.nodeValue : null;
                    if (!Aa || !Ba || !Ka) throw new yb(W.XML_PARSE_ERROR, "MDX authdata " + Eb(la));
                    Ga = "action=" + ja(Aa) + "&nonce=" +
                        ja(Ba.toString()) + "&pin=" + ja(Ka);
                    Ra.verify(Rb(Ga, "utf-8"), qa, {
                        result: function(Da) {
                            Na(Ja, function() {
                                if (!Da) throw new tb(W.MDX_USERAUTH_VERIFICATION_FAILED, "MDX authdata " + Eb(la));
                                var Qa = Gb(Ka);
                                Ra.decrypt(Qa, {
                                    result: function(Ha) {
                                        Na(Ja, function() {
                                            var Xa = Ub(Ha, "utf-8");
                                            new za(Aa, Ba, Xa, null, {
                                                encoding: la,
                                                signature: qa
                                            }, Ja)
                                        })
                                    },
                                    error: Ja.error
                                })
                            })
                        },
                        error: Ja.error
                    })
                })
            };
            ed = Gc.extend({
                init: function Ta(da, la, qa, Ja, Ga, Ra) {
                    Ta.base.call(this, ac.MDX);
                    var oa = null,
                        Aa = null,
                        Ba = null;
                    if ("string" === typeof qa) da = V.MSL_LEGACY,
                        Ba = qa;
                    else if (qa instanceof Uint8Array) da = V.NTBA, Aa = qa;
                    else if (qa instanceof ic) da = V.MSL, oa = qa;
                    else throw new TypeError("Controller token " + qa + " is not a master token, encrypted CTicket, or MSL token construct.");
                    var Ka = qa = null,
                        Da = null;
                    if (Ra) {
                        var Qa = Ra.controllerAuthData;
                        qa = Qa.getAction();
                        Ka = Qa.getPin();
                        Ra = Ra.userIdToken;
                        Qa instanceof wa ? Da = Qa.getUserIdToken().customer : Ra && (Da = Ra.customer)
                    }
                    Object.defineProperties(this, {
                        mechanism: {
                            value: da,
                            writable: !1,
                            configurable: !1
                        },
                        action: {
                            value: qa,
                            writable: !1,
                            configurable: !1
                        },
                        targetPin: {
                            value: la,
                            writable: !1,
                            configurable: !1
                        },
                        controllerPin: {
                            value: Ka,
                            writable: !1,
                            configurable: !1
                        },
                        customer: {
                            value: Da,
                            writable: !1,
                            configurable: !1
                        },
                        _masterToken: {
                            value: oa,
                            writable: !1,
                            enumerable: !1,
                            configurable: !1
                        },
                        _encryptedCTicket: {
                            value: Aa,
                            writable: !1,
                            enumerable: !1,
                            configurable: !1
                        },
                        _mslTokens: {
                            value: Ba,
                            writable: !1,
                            enumerable: !1,
                            configurable: !1
                        },
                        _controllerEncoding: {
                            value: Ja,
                            writable: !1,
                            enumerable: !1,
                            configurable: !1
                        },
                        _signature: {
                            value: Ga,
                            writable: !1,
                            enumerable: !1,
                            configurable: !1
                        }
                    })
                },
                getAuthData: function() {
                    var da = {};
                    switch (this.mechanism) {
                        case V.MSL:
                            var la = JSON.parse(JSON.stringify(this._masterToken));
                            da.mastertoken = la;
                            break;
                        case V.NTBA:
                            la = Ub(this._encryptedCTicket, "utf-8");
                            da.cticket = la;
                            break;
                        case V.MSL_LEGACY:
                            da.cticket = this._mslTokens;
                            break;
                        default:
                            throw new vb("Unsupported MDX mechanism.");
                    }
                    da.pin = this.targetPin;
                    da.mdxauthdata = Eb(this._controllerEncoding);
                    da.signature = Eb(this._signature);
                    return da
                },
                equals: function qa(la) {
                    return this === la ? !0 : la instanceof ed ? qa.base.call(this,
                        la) && (this._masterToken == la._masterToken || this._masterToken && this._masterToken.equals(la._masterToken)) && (this._encryptedCTicket == la._encryptedCTicket || this._encryptedCTicket && Wb(this._encryptedCTicket, la._encryptedCTicket)) && this._mslTokens == la._mslTokens && Wb(this._controllerEncoding, la._controllerEncoding) && Wb(this._signature, la._signature) : !1
                }
            });
            vf = function(la, qa, Ja) {
                function Ga(oa, Aa, Ba, Ka) {
                    Qc(la, Aa, {
                        result: function(Da) {
                            Na(Ja, function() {
                                if (!Da.isDecrypted()) throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,
                                    "MDX authdata " + qa.toString());
                                ta(la, Da, Ba, Ka, {
                                    result: function(Qa) {
                                        Na(Ja, function() {
                                            var Ha = Qa.getEncoding(),
                                                Xa = Qa.getSignature();
                                            return new ed(la, oa, Da, Ha, Xa, {
                                                controllerAuthData: Qa,
                                                userIdToken: null
                                            })
                                        })
                                    },
                                    error: Ja.error
                                })
                            })
                        },
                        error: function(Da) {
                            Na(Ja, function() {
                                if (Da instanceof eb) throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID, "MDX authdata " + JSON.stringify(qa), Da);
                                throw Da;
                            })
                        }
                    })
                }
        
                function Ra(oa, Aa, Ba, Ka) {
                    Na(Ja, function() {
                        throw new Hb(W.UNSUPPORTED_USERAUTH_MECHANISM, "NtbaControllerData$parse");
                    })
                }
        
                function Ta(oa,
                    Aa, Ba, Ka) {
                    function Da(Ha, Xa) {
                        Na(Xa, function() {
                            try {
                                var bb = Gb(Ha)
                            } catch (jb) {
                                throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID, "MDX authdata " + JSON.stringify(qa), jb);
                            }
                            if (!bb || 0 == bb.length) throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING, "MDX authdata " + JSON.stringify(qa));
                            try {
                                var Ya = JSON.parse(Ub(bb, "utf-8"));
                                Qc(la, Ya, {
                                    result: function(jb) {
                                        Na(Xa, function() {
                                            if (!jb.isDecrypted()) throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED, "MDX authdata " + qa.toString());
                                            return jb
                                        })
                                    },
                                    error: function(jb) {
                                        Na(Xa, function() {
                                            if (jb instanceof eb) throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID, "MDX authdata " + JSON.stringify(qa), jb);
                                            throw jb;
                                        })
                                    }
                                })
                            } catch (jb) {
                                if (jb instanceof SyntaxError) throw new yb(W.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(qa), jb);
                                throw jb;
                            }
                        })
                    }
        
                    function Qa(Ha, Xa, bb) {
                        Na(bb, function() {
                            try {
                                var Ya = Gb(Ha)
                            } catch (mb) {
                                throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID, "MDX authdata " + JSON.stringify(qa), mb);
                            }
                            if (!Ya || 0 == Ya.length) throw new Hb(W.USERAUTH_USERIDTOKEN_MISSING, "MDX authdata " + JSON.stringify(qa));
                            try {
                                var jb = JSON.parse(Ub(Ya,
                                    "utf-8"));
                                Rc(la, jb, Xa, {
                                    result: function(mb) {
                                        Na(bb, function() {
                                            if (!mb.isDecrypted()) throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED, "MDX authdata " + JSON.stringify(qa));
                                            return mb
                                        })
                                    },
                                    error: function(mb) {
                                        Na(bb, function() {
                                            if (mb instanceof eb) throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID, "MDX authdata " + JSON.stringify(qa), mb);
                                            throw mb;
                                        })
                                    }
                                })
                            } catch (mb) {
                                if (mb instanceof SyntaxError) throw new yb(W.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(qa), mb);
                                throw mb;
                            }
                        })
                    }
                    Na(Ja, function() {
                        var Ha = Aa.split(",");
                        if (3 !=
                            Ha.length || "1" != Ha[0]) throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM, "MDX authdata " + JSON.stringify(qa));
                        Da(Ha[1], {
                            result: function(Xa) {
                                Qa(Ha[2], Xa, {
                                    result: function(bb) {
                                        va(la, Xa, Ba, Ka, {
                                            result: function(Ya) {
                                                Na(Ja, function() {
                                                    return new ed(la, oa, Aa, Ba, Ka, {
                                                        controllerAuthData: Ya,
                                                        userIdToken: bb
                                                    })
                                                })
                                            },
                                            error: function(Ya) {
                                                Na(Ja, function() {
                                                    if (Ya instanceof Oc) throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED, "MDX authdata " + JSON.stringify(qa), Ya);
                                                    throw Ya;
                                                })
                                            }
                                        })
                                    },
                                    error: Ja.error
                                })
                            },
                            error: Ja.error
                        })
                    })
                }
                Na(Ja, function() {
                    var oa =
                        qa.pin,
                        Aa = qa.mdxauthdata,
                        Ba = qa.signature;
                    if (!oa || "string" !== typeof oa || !Aa || "string" !== typeof Aa || !Ba || "string" !== typeof Ba) throw new yb(W.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(qa));
                    try {
                        var Ka = Gb(Aa);
                        var Da = Gb(Ba)
                    } catch (Qa) {
                        throw new Hb(W.MDX_CONTROLLERDATA_INVALID, "MDX authdata " + JSON.stringify(qa), Qa);
                    }
                    if (qa.mastertoken) {
                        Aa = qa.mastertoken;
                        if (!Aa || "object" !== typeof Aa) throw new yb(W.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(qa));
                        Ga(oa, Aa, Ka, Da)
                    } else if (qa.cticket) {
                        Aa = qa.cticket;
                        if (!Aa ||
                            "string" !== typeof Aa) throw new yb(W.JSON_PARSE_ERROR, "MDX authdata " + JSON.stringify(qa)); - 1 == Aa.indexOf(",") ? Ra(oa, Aa, Ka, Da) : Ta(oa, Aa, Ka, Da)
                    } else throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM, "MDX authdata " + JSON.stringify(qa));
                })
            }
        })(); var wf; (function () {
            var fa = qe.ACTION, ma = qd.ACTION, ja = re.ACTION; wf = od.extend({
                init: function ba() { ba.base.call(this, ac.MDX) }, createData: function (ba, wa, ta, xa) { vf(ba, ta, xa) }, authenticate: function (ba, wa, ta, xa) {
                    if (!(ta instanceof ed)) throw new vb("Incorrect authentication data type " +
                        ta.getClass().getName() + "."); ba = ta.action; switch (ta.mechanism) { case Ld.MSL: if (fa != ba) throw (new Hb(W.MDX_USERAUTH_ACTION_INVALID)).setUser(ta); break; case Ld.NTBA: if (ma != ba) throw (new Hb(W.MDX_USERAUTH_ACTION_INVALID)).setUser(ta); break; case Ld.MSL_LEGACY: if (ja != ba) throw (new Hb(W.MDX_USERAUTH_ACTION_INVALID)).setUser(ta); }ba = ta.controllerPin; wa = ta.targetPin; if (!ba || !wa) throw (new Hb(W.MDX_PIN_BLANK)).setUser(ta); if (ba != wa) throw (new Hb(W.MDX_PIN_MISMATCH)).setUser(ta); ba = ta.customer; if (!ba) throw (new Hb(W.MDX_USER_UNKNOWN)).setUser(ta);
                    if (xa && (xa = xa.customer, !ba.equals(xa))) throw (new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH, "uad customer " + ba + "; uit customer " + xa)).setUser(ta); return ba
                }
            })
        })(); var rd, xf, yf, zf; (function () {
            var fa = { MICROSOFT_SAML: "MICROSOFT_SAML", SAMSUNG: "SAMSUNG", MICROSOFT_JWT: "MICROSOFT_JWT", GOOGLE_JWT: "GOOGLE_JWT" }, ma = yf = Cb.Class.create({ init: function (V, ba) { Object.defineProperties(this, { email: { value: V, writable: !1, enumerable: !0, configurable: !1 }, password: { value: ba, writable: !1, enumerable: !0, configurable: !1 } }) } }), ja =
                zf = Cb.Class.create({ init: function (V, ba) { Object.defineProperties(this, { netflixId: { value: V, writable: !1, enumerable: !0, configurable: !1 }, secureNetflixId: { value: ba, writable: !1, enumerable: !0, configurable: !1 } }) } }); rd = Gc.extend({
                    init: function Ea(ba, wa, ta, xa) {
                        Ea.base.call(this, ac.SSO); var za = null, va = null, Y = null, da = null; ta instanceof ma ? (za = ta.email, va = ta.password) : ta instanceof ja && (Y = ta.netflixId, da = ta.secureNetflixId); Object.defineProperties(this, {
                            mechanism: { value: ba, writable: !1, configurable: !1 }, token: {
                                value: wa,
                                writable: !1, configurable: !1
                            }, email: { value: za, writable: !1, configurable: !1 }, password: { value: va, writable: !1, configurable: !1 }, netflixId: { value: Y, writable: !1, configurable: !1 }, secureNetflixId: { value: da, writable: !1, configurable: !1 }, profileGuid: { value: "undefined" === typeof xa ? null : xa, writable: !1, configurable: !1 }
                        })
                    }, getAuthData: function () {
                        var ba = {}; ba.mechanism = this.mechanism; ba.token = Eb(this.token); this.email && this.password ? (ba.email = this.email, ba.password = this.password) : this.netflixId && this.secureNetflixId &&
                            (ba.netflixid = this.netflixId, ba.securenetflixid = this.secureNetflixId); this.profileGuid && (ba.profileguid = this.profileGuid); return ba
                    }, equals: function ta(wa) { return this === wa ? !0 : wa instanceof rd ? ta.base.call(this, wa) && this.mechanism == wa.mechanism && Wb(this.token, wa.token) && this.email == wa.email && this.password == wa.password && this.netflixId == wa.netflixId && this.secureNetflixId == wa.secureNetflixId && this.profileGuid == wa.profileGuid : !1 }
                }); xf = function (wa) {
                    var ta = wa.mechanism, xa = wa.token; if (!ta || !xa || "string" !==
                        typeof xa) throw new yb(W.JSON_PARSE_ERROR, "SSO authdata " + JSON.stringify(wa)); if (!fa[ta]) throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM, "SSO authdata " + JSON.stringify(wa)); var Ea = wa.email, za = wa.password, va = wa.netflixid, Y = wa.securenetflixid, da = wa.profileguid; if (Ea && !za || !Ea && za || va && !Y || !va && Y || Ea && va) throw new yb(W.JSON_PARSE_ERROR, "SSO authdata " + JSON.stringify(wa)); try { var la = Gb(xa) } catch (Ja) { throw new Hb(W.SSOTOKEN_INVALID, "SSO authdata " + JSON.stringify(wa), Ja); } var qa; Ea && za ? qa = new ma(Ea, za) :
                            va && Y && (qa = new ja(va, Y)); return new rd(ta, la, qa, da)
                }
        })(); var Yf = od.extend({
            init: function ma() { ma.base.call(this, ac.SSO) }, createData: function (ma, ja, V, ba) { Na(ba, function () { return xf(V) }) }, authenticate: function (ma, ja, V, ba) {
                if (!(V instanceof rd)) throw new vb("Incorrect authentication data type " + V + "."); ma = V.token; ja = V.email; ba = V.password; var wa = V.netflixId, ta = V.secureNetflixId; if (!ma || 0 == ma.length) throw new Hb(W.SSOTOKEN_BLANK); if (!(null === ja && null === ba || ja && ba)) throw new Hb(W.EMAILPASSWORD_BLANK); if (!(null ===
                    wa && null === ta || wa && ta)) throw (new Hb(W.NETFLIXID_COOKIES_BLANK)).setUser(V); throw (new Hb(W.UNSUPPORTED_USERAUTH_DATA, this.scheme)).setUser(V);
            }
        }), sd, Af; (function () {
            sd = Gc.extend({
                init: function ba(ja, V) { ba.base.call(this, ac.SWITCH_PROFILE); Object.defineProperties(this, { userIdToken: { value: ja, writable: !1, configurable: !1 }, profileGuid: { value: V, writable: !1, configurable: !1 } }) }, getAuthData: function () { var ja = {}; ja.useridtoken = JSON.parse(JSON.stringify(this.userIdToken)); ja.profileguid = this.profileGuid; return ja },
                equals: function ba(V) { return this == V ? !0 : V instanceof sd ? ba.base.call(this, V) && this.userIdToken.equals(V.userIdToken) && this.profileGuid == V.profileGuid : !1 }
            }); Af = function (V, ba, wa, ta) {
                Na(ta, function () {
                    if (!ba) throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING); var xa = wa.useridtoken, Ea = wa.profileguid; if ("object" !== typeof xa || "string" !== typeof Ea) throw new yb(W.JSON_PARSE_ERROR, "switch profile authdata " + JSON.stringify(wa)); Rc(V, xa, ba, {
                        result: function (za) {
                            Na(ta, function () {
                                if (!za.isDecrypted()) throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,
                                    "switch profile authdata " + JSON.stringify(wa)); return new sd(za, Ea)
                            })
                        }, error: function (za) { ta.error(new Hb(W.USERAUTH_USERIDTOKEN_INVALID, "switch profile authdata " + JSON.stringify(wa), za)) }
                    })
                })
            }
        })(); var Zf = od.extend({
            init: function V(ja) { V.base.call(this, ac.SWITCH_PROFILE); Object.defineProperties(this, { _store: { value: ja, writable: !1, enumerable: !1, configurable: !1 } }) }, createData: function (ja, V, ba, wa) { Af(ja, V, ba, wa) }, authenticate: function (ja, V, ba, wa) {
                if (!(ba instanceof sd)) throw new vb("Incorrect authentication data type " +
                    ba + "."); V = ba.userIdToken; ja = ba.profileGuid; if (!ja) throw (new Hb(NetflixMslError.PROFILEGUID_BLANK)).setUserAuthenticationData(ba); V = V.user; if (!V) throw (new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED)).setUserAuthenticationData(ba); ja = this._store.switchUsers(V, ja); if (!ja) throw (new Hb(NetflixMslError.PROFILE_SWITCH_DISALLOWED)).setUserAuthenticationData(ba); if (wa && (wa = wa.user, !ja.equals(wa))) throw (new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH, "uad user " + ja + "; uit user " + wa)).setUserAuthenticationData(ba);
                return ja
            }
        }); Object.freeze({ ENTITY_REAUTH: Ma.ENTITY_REAUTH, ENTITYDATA_REAUTH: Ma.ENTITYDATA_REAUTH }); var $f = Cb.Class.create({
            getTime: function () { }, getRandom: function () { }, isPeerToPeer: function () { }, getMessageCapabilities: function () { }, getEntityAuthenticationData: function (ja, V) { }, getMslCryptoContext: function () { }, getEntityAuthenticationFactory: function (ja) { }, getUserAuthenticationFactory: function (ja) { }, getTokenFactory: function () { }, getKeyExchangeFactory: function (ja) { }, getKeyExchangeFactories: function () { },
            getMslStore: function () { }
        }), Bf = Cb.Class.create({ setCryptoContext: function (ja, V) { }, getMasterToken: function () { }, getNonReplayableId: function (ja) { }, getCryptoContext: function (ja) { }, removeCryptoContext: function (ja) { }, clearCryptoContexts: function () { }, addUserIdToken: function (ja, V) { }, getUserIdToken: function (ja) { }, removeUserIdToken: function (ja) { }, clearUserIdTokens: function () { }, addServiceTokens: function (ja) { }, getServiceTokens: function (ja, V) { }, removeServiceTokens: function (ja, V, ba) { }, clearServiceTokens: function () { } }),
            oe, Id; (function () { var ja = Mc; oe = function (V, ba) { var wa = {}; switch (V) { case ja.LZW: return De(ba, wa); case ja.GZIP: return gzip$compress(ba); default: throw new eb(W.UNSUPPORTED_COMPRESSION, V); } }; Id = function (V, ba, wa) { switch (V) { case ja.LZW: return Ee(ba); case ja.GZIP: return gzip$uncompress(ba); default: throw new eb(W.UNSUPPORTED_COMPRESSION, V.name()); } } })(); Bf.extend({
                setCryptoContext: function (ja, V) { }, getMasterToken: function () { return null }, getNonReplayableId: function (ja) { return 1 }, getCryptoContext: function (ja) { return null },
                removeCryptoContext: function (ja) { }, clearCryptoContexts: function () { }, addUserIdToken: function (ja, V) { }, getUserIdToken: function (ja) { return null }, removeUserIdToken: function (ja) { }, clearUserIdTokens: function () { }, addServiceTokens: function (ja) { }, getServiceTokens: function (ja, V) { if (V) { if (!ja) throw new eb(W.USERIDTOKEN_MASTERTOKEN_NULL); if (!V.isBoundTo(ja)) throw new eb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + V.mtSerialNumber + "; mt " + ja.serialNumber); } return [] }, removeServiceTokens: function (ja,
                    V, ba) { if (ba && V && !ba.isBoundTo(V)) throw new eb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + V.serialNumber); }, clearServiceTokens: function () { }
            }); var Cf; (function () {
                Cf = Bf.extend({
                    init: function V() {
                        V.base.call(this); Object.defineProperties(this, {
                            masterTokens: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, cryptoContexts: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, userIdTokens: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, nonReplayableIds: {
                                value: {},
                                writable: !1, enumerable: !1, configurable: !1
                            }, unboundServiceTokens: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, mtServiceTokens: { value: {}, writable: !1, enumerable: !1, configurable: !1 }, uitServiceTokens: { value: {}, writable: !1, enumerable: !1, configurable: !1 }
                        })
                    }, setCryptoContext: function (V, ba) { if (ba) { var wa = V.uniqueKey(); this.masterTokens[wa] = V; this.cryptoContexts[wa] = ba } else this.removeCryptoContext(V) }, getMasterToken: function () {
                        var V = null, ba; for (ba in this.masterTokens) {
                            var wa = this.masterTokens[ba];
                            if (!V || wa.isNewerThan(V)) V = wa
                        } return V
                    }, getNonReplayableId: function (V) { V = V.serialNumber; var ba = this.nonReplayableIds[V] !== Bb ? this.nonReplayableIds[V] : 0; if (0 > ba || ba > Nb) throw new vb("Non-replayable ID " + ba + " is outside the valid range."); ba = ba == Nb ? 0 : ba + 1; return this.nonReplayableIds[V] = ba }, getCryptoContext: function (V) { return this.cryptoContexts[V.uniqueKey()] }, removeCryptoContext: function (V) {
                        var ba = V.uniqueKey(); if (this.masterTokens[ba]) {
                            var wa = V.serialNumber, ta; for (ta in this.masterTokens) {
                                var xa =
                                    this.masterTokens[ta]; if (!xa.equals(V) && xa.serialNumber == wa) { delete this.masterTokens[ba]; delete this.cryptoContexts[ba]; return }
                            } Object.keys(this.userIdTokens).forEach(function (Ea) { Ea = this.userIdTokens[Ea]; Ea.isBoundTo(V) && this.removeUserIdToken(Ea) }, this); try { this.removeServiceTokens(null, V, null) } catch (Ea) { if (Ea instanceof eb) throw new vb("Unexpected exception while removing master token bound service tokens.", Ea); throw Ea; } delete this.nonReplayableIds[wa]; delete this.masterTokens[ba]; delete this.cryptoContexts[ba]
                        }
                    },
                    clearCryptoContexts: function () { [this.masterTokens, this.cryptoContexts, this.nonReplayableIds, this.userIdTokens, this.uitServiceTokens, this.mtServiceTokens].forEach(function (V) { for (var ba in V) delete V[ba] }, this) }, addUserIdToken: function (V, ba) { var wa = !1, ta; for (ta in this.masterTokens) if (ba.isBoundTo(this.masterTokens[ta])) { wa = !0; break } if (!wa) throw new eb(W.USERIDTOKEN_MASTERTOKEN_NOT_FOUND, "uit mtserialnumber " + ba.mtSerialNumber); this.userIdTokens[V] = ba }, getUserIdToken: function (V) { return this.userIdTokens[V] },
                    removeUserIdToken: function (V) { var ba = null, wa; for (wa in this.masterTokens) { var ta = this.masterTokens[wa]; if (V.isBoundTo(ta)) { ba = ta; break } } Object.keys(this.userIdTokens).forEach(function (xa) { if (this.userIdTokens[xa].equals(V)) { try { this.removeServiceTokens(null, ba, V) } catch (Ea) { if (Ea instanceof eb) throw new vb("Unexpected exception while removing user ID token bound service tokens.", Ea); throw Ea; } delete this.userIdTokens[xa] } }, this) }, clearUserIdTokens: function () { for (var V in this.userIdTokens) this.removeUserIdToken(this.userIdTokens[V]) },
                    addServiceTokens: function (V) {
                        V.forEach(function (ba) { if (ba.isMasterTokenBound()) { var wa = !1, ta; for (ta in this.masterTokens) if (ba.isBoundTo(this.masterTokens[ta])) { wa = !0; break } if (!wa) throw new eb(W.SERVICETOKEN_MASTERTOKEN_NOT_FOUND, "st mtserialnumber " + ba.mtSerialNumber); } if (ba.isUserIdTokenBound()) { wa = !1; for (var xa in this.userIdTokens) if (ba.isBoundTo(this.userIdTokens[xa])) { wa = !0; break } if (!wa) throw new eb(W.SERVICETOKEN_USERIDTOKEN_NOT_FOUND, "st uitserialnumber " + ba.uitSerialNumber); } }, this); V.forEach(function (ba) {
                            if (ba.isUnbound()) this.unboundServiceTokens[ba.uniqueKey()] =
                                ba; else { if (ba.isMasterTokenBound()) { var wa = this.mtServiceTokens[ba.mtSerialNumber]; wa || (wa = {}); wa[ba.uniqueKey()] = ba; this.mtServiceTokens[ba.mtSerialNumber] = wa } ba.isUserIdTokenBound() && ((wa = this.uitServiceTokens[ba.uitSerialNumber]) || (wa = {}), wa[ba.uniqueKey()] = ba, this.uitServiceTokens[ba.uitSerialNumber] = wa) }
                        }, this)
                    }, getServiceTokens: function (V, ba) {
                        if (ba) {
                            if (!V) throw new eb(W.USERIDTOKEN_MASTERTOKEN_NULL); if (!ba.isBoundTo(V)) throw new eb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH, "uit mtserialnumber " + ba.mtSerialNumber +
                                "; mt " + V.serialNumber);
                        } var wa = {}, ta; for (ta in this.unboundServiceTokens) { var xa = this.unboundServiceTokens[ta]; wa[xa.uniqueKey()] = xa } if (V && (ta = this.mtServiceTokens[V.serialNumber])) for (var Ea in ta) xa = ta[Ea], xa.isUserIdTokenBound() || (wa[Ea] = xa); if (ba && (ba = this.uitServiceTokens[ba.serialNumber])) for (var za in ba) Ea = ba[za], Ea.isBoundTo(V) && (wa[za] = Ea); V = []; for (var va in wa) V.push(wa[va]); return V
                    }, removeServiceTokens: function (V, ba, wa) {
                        var ta, xa; if (wa && ba && !wa.isBoundTo(ba)) throw new eb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,
                            "uit mtserialnumber " + wa.mtSerialNumber + "; mt " + ba.serialNumber); !V || ba || wa || Object.keys(this.unboundServiceTokens).forEach(function (za) { this.unboundServiceTokens[za].name == V && delete this.unboundServiceTokens[za] }, this); if (ba && !wa && (ta = this.mtServiceTokens[ba.serialNumber])) { var Ea = Object.keys(ta); Ea.forEach(function (za) { var va = ta[za]; V && va.name != V || delete ta[za] }, this); this.mtServiceTokens[ba.serialNumber] = ta } wa && (xa = this.uitServiceTokens[wa.serialNumber]) && (ba = Object.keys(xa), ba.forEach(function (za) {
                                var va =
                                    xa[za]; V && va.name != V || delete xa[za]
                            }, this), this.uitServiceTokens[wa.serialNumber] = xa)
                    }, clearServiceTokens: function () { [this.unboundServiceTokens, this.mtServiceTokens, this.uitServiceTokens].forEach(function (V) { for (var ba in V) delete V[ba] }, this) }
                })
            })(); var If = Tf.extend({
                init: function V() { V.base.call(this); Object.defineProperties(this, { _contextMap: { value: {}, writable: !1, enumerable: !1, configurable: !1 } }) }, addCryptoContext: function (V, ba) { ba && V && V.length && (V = Eb(V), this._contextMap[V] = ba) }, getCryptoContext: function (V) {
                    return V &&
                        V.length ? (V = Eb(V), this._contextMap[V] || null) : null
                }, removeCryptoContext: function (V) { V && V.length && (V = Eb(V), delete this._contextMap[V]) }
            }), Df = Lf.extend({
                init: function Ea(ba, wa, ta, xa) { Ea.base.call(this, ba); Object.defineProperties(this, { _kde: { value: wa, writable: !1, enumerable: !1, configurable: !1 }, _kdh: { value: ta, writable: !1, enumerable: !1, configurable: !1 }, _kdw: { value: xa, writable: !1, enumerable: !1, configurable: !1 } }) }, getCryptoContext: function (ba, wa) {
                    if (!(wa instanceof oc)) throw new vb("Incorrect authentication data type " +
                        JSON.stringify(wa) + "."); if (wa.identity != this.localIdentity) throw new xc(W.ENTITY_NOT_FOUND, "mgk " + wa.identity); return new Bd(ba, this.localIdentity, this._kde, this._kdh, this._kdw)
                }
            }), ag = Mf.extend({
                init: function za(wa, ta, xa, Ea) { za.base.call(this, wa); Object.defineProperties(this, { _kpe: { value: ta, writable: !1, enumerable: !1, configurable: !1 }, _kph: { value: xa, writable: !1, enumerable: !1, configurable: !1 }, _kpw: { value: Ea, writable: !1, enumerable: !1, configurable: !1 } }) }, getCryptoContext: function (wa, ta) {
                    if (!(ta instanceof
                        tc)) throw new vb("Incorrect authentication data type " + JSON.stringify(ta) + "."); if (ta.identity != this.localIdentity) throw new xc(W.ENTITY_NOT_FOUND, "psk " + ta.identity); return new Bd(wa, this.localIdentity, this._kpe, this._kph, this._kpw)
                }
            }), cg = Cf.extend({
                init: function da(ta, xa, Ea, za, va, Y) { da.base.call(this); this._log = ta; this._esn = xa; this._keyRequestData = Ea; this._createKeyRequestData = za; this._systemKeyName = va; this._systemKeyWrapFormat = Y }, setCryptoContext: function va(xa, Ea, za) {
                    var Y = this; Y._log.trace("Adding MasterToken",
                        { SequenceNumber: xa.sequenceNumber, SerialNumber: xa.serialNumber, Expiration: xa.expiration.getTime() }); va.base.call(this, xa, Ea); !za && (xa = Y._createKeyRequestData) && (Y._log.trace("Generating new keyx request data"), xa().then(function (da) { Y._keyRequestData = da }, function (da) { Y._log.error("Unable to generate new keyx request data", "" + da) }))
                }, addUserIdToken: function va(Ea, za) {
                    this._log.trace("Adding UserIdToken", { UserId: Ea, SerialNumber: za.serialNumber, MTSerialNumber: za.mtSerialNumber, Expiration: za.expiration.getTime() });
                    va.base.call(this, Ea, za)
                }, addServiceTokens: function va(za) { va.base.call(this, za.filter(function (Y) { return !bg[Y.name] })) }, getUserIdTokenKeys: function () { var za = [], va; for (va in this.userIdTokens) za.push(va); return za }, rekeyUserIdToken: function (za, va) { this.userIdTokens[za] && (this.userIdTokens[va] = this.userIdTokens[za], delete this.userIdTokens[za]) }, getKeyRequestData: function () { return this._keyRequestData }, getStoreState: function (za) {
                    var va = this; Na(za, function () {
                        var Y = va.getMasterToken(); Y ? va.getKeysForStore(Y,
                            { result: function (da) { Na(za, function () { var la = va.userIdTokens, qa = Object.keys(la).map(function (Ga) { var Ra = la[Ga]; return { userId: Ga, userIdTokenJSON: la[Ga].toJSON(), serviceTokenJSONList: va.getServiceTokens(Y, Ra).map(Ff) } }); da.esn = va._esn; da.masterTokenJSON = Y.toJSON(); da.userList = qa; var Ja = va._keyRequestData.storeData; Ja && Object.keys(Ja).forEach(function (Ga) { da[Ga] = Ja[Ga] }); return da }) }, timeout: za.timeout, error: za.error }) : za.result(null)
                    })
                }, getKeysForStore: function (za, va) {
                    var Y = this; Na(va, function () {
                        var da =
                            Y.getCryptoContext(za); da = { encryptionKey: da.encryptionKey, hmacKey: da.hmacKey }; if (da.encryptionKey && da.hmacKey) if (Y._systemKeyWrapFormat) Y.wrapKeysWithSystemKey(da, va); else return da; else throw new eb(W.INTERNAL_EXCEPTION, "Unable to get CryptoContext keys");
                    })
                }, wrapKeysWithSystemKey: function (za, va) {
                    var Y = this; xe(this._systemKeyName, {
                        result: function (da) {
                            Na(va, function () {
                                var la = za.encryptionKey, qa = za.hmacKey, Ja = la[fd], Ga = qa[fd]; if (Ja && Ga) return { wrappedEncryptionKey: Ja, wrappedHmacKey: Ga }; Promise.resolve().then(function () {
                                    return Promise.all([Kb.wrapKey(Y._systemKeyWrapFormat,
                                        la, da, da.algorithm), Kb.wrapKey(Y._systemKeyWrapFormat, qa, da, da.algorithm)])
                                }).then(function (Ra) { Ja = Eb(Ra[0]); la[fd] = Ja; Ga = Eb(Ra[1]); qa[fd] = Ga; va.result({ wrappedEncryptionKey: Ja, wrappedHmacKey: Ga }) }).catch(function (Ra) { va.error(new eb(W.INTERNAL_EXCEPTION, "Error wrapping key with SYSTEM key", Ra)) })
                            })
                        }, timeout: va.timeout, error: va.error
                    })
                }, unwrapKeysWithSystemKey: function (za, va) {
                    var Y = this; xe(this._systemKeyName, {
                        result: function (da) {
                            Na(va, function () {
                                var la = Gb(za.wrappedEncryptionKey), qa = Gb(za.wrappedHmacKey);
                                Promise.resolve().then(function () { return Promise.all([Kb.unwrapKey(Y._systemKeyWrapFormat, la, da, da.algorithm, rc, !1, Hc), Kb.unwrapKey(Y._systemKeyWrapFormat, qa, da, da.algorithm, sc, !1, Pc)]) }).then(function (Ja) { var Ga = Ja[0]; Ja = Ja[1]; Ga[fd] = za.wrappedEncryptionKey; Ja[fd] = za.wrappedHmacKey; va.result({ encryptionKey: Ga, hmacKey: Ja }) }).catch(function (Ja) { va.error(new eb(W.INTERNAL_EXCEPTION, "Error unwrapping with SYSTEM key", Ja)) })
                            })
                        }, timeout: va.timeout, error: va.error
                    })
                }, loadStoreState: function (za, va, Y, da) {
                    function la(Ra,
                        Ta) { try { var oa = Y.userList.slice() } catch (Aa) { } oa ? function Ba() { var Ka = oa.shift(); Ka ? Rc(va, Ka.userIdTokenJSON, Ra, { result: function (Da) { try { Ja.addUserIdToken(Ka.userId, Da), qa(Ra, Da, Ka.serviceTokenJSONList, { result: Ba, timeout: Ba, error: Ba }) } catch (Qa) { Ba() } }, timeout: Ba, error: Ba }) : Ta.result() }() : Ta.result() } function qa(Ra, Ta, oa, Aa) {
                            try { var Ba = oa.slice() } catch (Da) { } if (Ba) {
                                var Ka = Ja.getCryptoContext(Ra); (function Qa() {
                                    var Ha = Ba.shift(); Ha ? Hd(va, Ha, Ra, Ta, Ka, {
                                        result: function (Xa) { Ja.addServiceTokens([Xa]); Qa() },
                                        timeout: function () { Qa() }, error: function () { Qa() }
                                    }) : Aa.result()
                                })()
                            } else Aa.result()
                        } var Ja = this, Ga = Ja._log; Y.esn != Ja._esn ? (Ga.error("Esn mismatch, starting fresh"), da.error()) : function (Ra) {
                            function Ta() { if (!Aa && Ba && Ka && Da) { Aa = !0; var Qa = new jc(va, Ba, za.esn, { rawKey: Ka }, { rawKey: Da }); Ja.setCryptoContext(Ba, Qa, !0); Ra.result(Ba) } } function oa(Qa, Ha) { Ga.error(Qa, Ha && "" + Ha); Aa || (Aa = !0, Ra.error()) } var Aa, Ba, Ka, Da; Y.masterTokenJSON ? (Qc(va, Y.masterTokenJSON, {
                                result: function (Qa) { Ba = Qa; Ta() }, timeout: function () { oa("Timeout parsing MasterToken") },
                                error: function (Qa) { oa("Error parsing MasterToken", Qa) }
                            }), Ja._systemKeyWrapFormat ? Ja.unwrapKeysWithSystemKey(Y, { result: function (Qa) { Ka = Qa.encryptionKey; Da = Qa.hmacKey; Ta() }, timeout: function () { oa("Timeout unwrapping keys") }, error: function (Qa) { oa("Error unwrapping keys", Qa) } }) : Promise.resolve().then(function () { return Kb.encrypt({ name: rc.name, iv: new Uint8Array(16) }, Y.encryptionKey, new Uint8Array(1)) }).then(function (Qa) { Ka = Y.encryptionKey }).catch(function (Qa) { oa("Error loading encryptionKey") }).then(function () {
                                return Kb.sign(sc,
                                    Y.hmacKey, new Uint8Array(1))
                            }).then(function (Qa) { Da = Y.hmacKey; Ta() }).catch(function (Qa) { oa("Error loading hmacKey") })) : oa("Persisted store is corrupt")
                        }({ result: function (Ra) { la(Ra, da) }, timeout: da.timeout, error: da.error })
                }
            }), bg = { "streaming.servicetokens.movie": !0, "streaming.servicetokens.license": !0 }, fd = "$netflix$msl$wrapsys", td, dg = $f.extend({
                init: function (za, va, Y, da, la, qa) {
                    var Ja = new md([Mc.LZW]), Ga = new Of; Ga.addPublicKey(va, Y); da[Ob.RSA] = new Nf(Ga); va = {}; va[ac.EMAIL_PASSWORD] = new Xf; va[ac.NETFLIXID] =
                        new Wf; va[ac.MDX] = new wf; va[ac.SSO] = new Yf; va[ac.SWITCH_PROFILE] = new Zf; za = {
                            _mslCryptoContext: { value: new Kf, writable: !0, enumerable: !1, configurable: !1 }, _capabilities: { value: Ja, writable: !1, enumerable: !1, configurable: !1 }, _entityAuthData: { value: la, writable: !0, enumerable: !1, configurable: !1 }, _entityAuthFactories: { value: da, writable: !1, enumerable: !1, configurable: !1 }, _userAuthFactories: { value: va, writable: !1, enumerable: !1, configurable: !1 }, _keyExchangeFactories: { value: qa, writable: !1, enumerable: !1, configurable: !1 },
                            _store: { value: za, writable: !1, enumerable: !1, configurable: !1 }
                        }; Object.defineProperties(this, za)
                }, getTime: function () { return Date.now() }, getRandom: function () { return new Ie }, isPeerToPeer: function () { return !1 }, getMessageCapabilities: function () { return this._capabilities }, getEntityAuthenticationData: function (za, va) { va.result(this._entityAuthData) }, getMslCryptoContext: function () { return this._mslCryptoContext }, getEntityAuthenticationFactory: function (za) { return this._entityAuthFactories[za] }, getUserAuthenticationFactory: function (za) { return this._userAuthFactories[za] },
                getTokenFactory: function () { return null }, getKeyExchangeFactory: function (za) { return this._keyExchangeFactories.filter(function (va) { return va.scheme == za })[0] }, getKeyExchangeFactories: function () { return this._keyExchangeFactories }, getMslStore: function () { return this._store }
            }), ze = qf.extend({
                init: function (za, va, Y, da) { this._log = za; this._mslContext = va; this._mslRequest = Y; this._keyRequestData = da }, getCryptoContexts: function () { return {} }, isEncrypted: function () { return !!this._mslRequest.encrypted }, isNonReplayable: function () { return !!this._mslRequest.nonReplayable },
                isRequestingTokens: function () { return !0 }, getUserId: function () { return this._mslRequest.profileGuid || this._mslRequest.userId || null }, getUserAuthData: function (za, va, Y, da) {
                    var la = this._mslRequest, qa = this._mslContext; Na(da, function () {
                        if (za || !la.shouldSendUserAuthData) return null; if (la.token) { var Ja; la.email ? Ja = new yf(la.email, la.password) : la.netflixId && (Ja = new zf(la.netflixId, la.secureNetflixId)); var Ga = "undefined" === typeof la.profileGuid ? null : la.profileGuid; return new rd(la.mechanism, Rb(la.token), Ja, Ga) } return la.email ?
                            new pd(la.email, la.password) : la.netflixId ? new Uc(la.netflixId, la.secureNetflixId) : la.mdxControllerToken ? (Ja = (new qd("regpairrequest", la.mdxNonce, la.mdxEncryptedPinB64, la.mdxSignature)).getEncoding(), new ed(qa, la.mdxPin, la.mdxControllerToken, Ja, la.mdxSignature)) : la.useNetflixUserAuthData ? new Uc : la.profileGuid ? (Ja = la.userId, Ja = qa.getMslStore().userIdTokens[Ja], new sd(Ja, la.profileGuid)) : Y && la.sendUserAuthIfRequired ? new Uc : null
                    })
                }, getCustomer: function () { return null }, getKeyRequestData: function (za) {
                    za.result(this._mslRequest.allowTokenRefresh ?
                        [this._keyRequestData] : [])
                }, updateServiceTokens: function (za, va, Y) {
                    var da = this._log, la = (this._mslRequest.serviceTokens || []).slice(), qa = this._mslContext; va = qa.getMslStore(); var Ja = za.builder.getMasterToken(), Ga = this.getUserId(), Ra = va.getUserIdToken(Ga); (function oa() {
                        var Aa = la.shift(); if (Aa) try {
                            Aa instanceof Jc ? (za.addPrimaryServiceToken(Aa), oa()) : Hd(qa, Aa, Ja, Ra, null, {
                                result: function (Ba) { try { za.addPrimaryServiceToken(Ba) } catch (Ka) { da.warn("Exception adding service token", "" + Ka) } oa() }, timeout: function () {
                                    da.warn("Timeout parsing service token");
                                    oa()
                                }, error: function (Ba) { da.warn("Error parsing service token", "" + Ba); oa() }
                            })
                        } catch (Ba) { da.warn("Exception processing service token", "" + Ba), oa() } else Y.result(!0)
                    })()
                }, write: function (za, va, Y) { var da = Rb(this._mslRequest.body); za.write(da, 0, da.length, va, { result: function (la) { la != da.length ? Y.error(new Vb("Not all data was written to output.")) : za.flush(va, { result: function () { Y.result(!0) }, timeout: function () { Y.timeout() }, error: function (qa) { Y.error(qa) } }) }, timeout: function () { Y.timeout() }, error: function (la) { Y.error(la) } }) },
                getDebugContext: function () { this._dc || (this._dc = new eg(this._log, this._mslRequest)); return this._dc }
            }), eg = Vf.extend({
                init: function (za, va) { this._log = za; this._mslRequest = va }, sentHeader: function (za) { this._log.trace("Sent MSL header", ye(this._mslRequest, za), za.serviceTokens && za.serviceTokens.map(Gf).join("\n")) }, receivedHeader: function (za) {
                    var va = ye(this._mslRequest, za), Y = za.errorCode; Y ? this._log.warn("Received MSL error header", va, { errorCode: Y, errorMessage: za.errorMessage, internalCode: za.internalCode }) :
                        this._log.trace("Received MSL header", va)
                }
            }), Ef = {
                PSK: function(za) {
                    return Sd(za, Ob.PSK, ag, tc, ie, Fd)
                },
                MGK: function(za) {
                    return Sd(za, Ob.MGK, Df, oc, ie, Fd)
                },
                MGK_WITH_FALLBACK: function(za) {
                    console.log('esnPrefix', za);
                    switch (za.esnPrefix) {
                        case "GOOGEUR001":
                        case "GOOGLEXX01":
                        case "GOOGEST001":
                        case "GOOGNEW001":
                            var va = "PSK";
                            break;
                        default:
                            va = "MGK"
                    }
                    var Y = Ef[va];
                    if (!Y) throw new eb(W.INTERNAL_EXCEPTION, "Invalid fallback authenticationType: " + va);
                    return Y(za)
                },
                MGK_JWE: function(za) {
                    return Sd(za, Ob.MGK, Df, oc, Te, he)
                },
                JWK_RSA: function(za) {
                    return Td(za, {
                        name: "RSA-OAEP",
                        modulusLength: 2048,
                        publicExponent: new Uint8Array([1, 0, 1]),
                        hash: {
                            name: "SHA-1"
                        }
                    }, Gd.JWK_RSA)
                },
                JWK_RSAES: function(za) {
                    return Td(za, {
                        name: "RSAES-PKCS1-v1_5",
                        modulusLength: 2048,
                        publicExponent: new Uint8Array([1, 0, 1])
                    }, Gd.JWK_RSAES)
                },
                JWEJS_RSA: function(za) {
                    return Td(za, {
                        name: "RSA-OAEP",
                        modulusLength: 2048,
                        publicExponent: new Uint8Array([1, 0, 1])
                    }, Gd.JWEJS_RSA)
                }
            }; ub.netflix = ub.netflix || {}; ub.netflix.msl = {
                createMslClient: function (za, va) {
                    var Y = za.log, da, la, qa, Ja = za.notifyMilestone || function () { };
                    Promise.resolve().then(function () { if (!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey)) throw new eb(W.INTERNAL_EXCEPTION, "No WebCrypto"); cc = Qb.generateKey({ name: "AES-CBC", length: 128 }, !0, Hc).then ? wd.V2014_02 : wd.LEGACY; Ja("mslisik"); return Kb.importKey("spki", za.serverIdentityKeyData, Je, !1, ["verify"]) }).then(function (Ga) { return new Promise(function (Ra, Ta) { Lc(Ga, { result: Ra, error: function () { Ta(new eb(W.KEY_IMPORT_ERROR, "Unable to create server identity verification key")) } }) }) }).then(function (Ga) {
                        da =
                            Ga; if (Ga = Ef[za.authenticationType]) return Ja("mslcc"), Ga(za); throw new eb(W.INTERNAL_EXCEPTION, "Invalid authenticationType: " + za.authenticationType);
                    }).then(function (Ga) {
                        la = new cg(Y, za.esn, Ga.keyRequestData, Ga.createKeyRequestData, za.authenticationKeyNames.s, za.systemKeyWrapFormat); qa = new dg(la, za.serverIdentityId, da, Ga.entityAuthFactories, Ga.entityAuthData, Ga.keyExchangeFactories); var Ra = za.storeState; if (Ra) return Ja("mslss"), Y.info("Loading store state"), new Promise(function (Ta, oa) {
                            la.loadStoreState(za,
                                qa, Ra, { result: Ta, timeout: Ta, error: Ta })
                        }); Y.info("No store state, starting fresh")
                    }).then(function () { var Ga = new rf; Ja("msldone"); va.result(new Hf(Y, Ga, qa, la, za.ErrorSubCodes)) }).catch(function (Ga) { va.error(Ga) })
                }, IHttpLocation: Rf, MslIoException: Vb
            }; (function () {
                function za(r) { var b = 0; return function () { return b < r.length ? { done: !1, value: r[b++] } : { done: !0 } } } function va(r, b) {
                    if (b) a: {
                        var a = Ya; r = r.split("."); for (var c = 0; c < r.length - 1; c++) { var f = r[c]; if (!(f in a)) break a; a = a[f] } r = r[r.length - 1]; c = a[r]; b = b(c);
                        b != c && null != b && bb(a, r, { configurable: !0, writable: !0, value: b })
                    }
                } function Y(r) { r = { next: r }; r[Symbol.iterator] = function () { return this }; return r } function da(r) { var b = "undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator]; return b ? b.call(r) : { next: za(r) } } function la(r) { if (!(r instanceof Array)) { r = da(r); for (var b, a = []; !(b = r.next()).done;)a.push(b.value); r = a } return r } function qa(r, b) {
                    r.prototype = jb(b.prototype); r.prototype.constructor = r; if (Ab) Ab(r, b); else for (var a in b) if ("prototype" != a) if (Object.defineProperties) {
                        var c =
                            Object.getOwnPropertyDescriptor(b, a); c && Object.defineProperty(r, a, c)
                    } else r[a] = b[a]; r.qfc = b.prototype
                } function Ja() { this.IW = !1; this.KE = null; this.rza = void 0; this.nI = 1; this.BXa = this.ewb = 0; this.zT = null } function Ga(r) { if (r.IW) throw new TypeError("Generator is already running"); r.IW = !0 } function Ra(r) { this.Hf = new Ja; this.EWb = r } function Ta(r, b) { Ga(r.Hf); var a = r.Hf.KE; if (a) return oa(r, "return" in a ? a["return"] : function (c) { return { value: c, done: !0 } }, b, r.Hf.return); r.Hf.return(b); return Aa(r) } function oa(r, b,
                    a, c) { try { var f = b.call(r.Hf.KE, a); if (!(f instanceof Object)) throw new TypeError("Iterator result " + f + " is not an object"); if (!f.done) return r.Hf.IW = !1, f; var k = f.value } catch (m) { return r.Hf.KE = null, r.Hf.LZ(m), Aa(r) } r.Hf.KE = null; c.call(r.Hf, k); return Aa(r) } function Aa(r) {
                        for (; r.Hf.nI;)try { var b = r.EWb(r.Hf); if (b) return r.Hf.IW = !1, { value: b.value, done: !1 } } catch (a) { r.Hf.rza = void 0, r.Hf.LZ(a) } r.Hf.IW = !1; if (r.Hf.zT) { b = r.Hf.zT; r.Hf.zT = null; if (b.OMb) throw b.eN; return { value: b.return, done: !0 } } return {
                            value: void 0,
                            done: !0
                        }
                    } function Ba(r) { this.next = function (b) { return r.CX(b) }; this.throw = function (b) { return r.LZ(b) }; this.return = function (b) { return Ta(r, b) }; this[Symbol.iterator] = function () { return this } } function Ka(r, b) { b = new Ba(new Ra(b)); Ab && r.prototype && Ab(b, r.prototype); return b } function Da(r, b) { return Object.prototype.hasOwnProperty.call(r, b) } function Qa(r, b) {
                        r instanceof String && (r += ""); var a = 0, c = !1, f = { next: function () { if (!c && a < r.length) { var k = a++; return { value: b(k, r[k]), done: !1 } } c = !0; return { done: !0, value: void 0 } } };
                        f[Symbol.iterator] = function () { return f }; return f
                    } function Ha(r, b, a) { r instanceof String && (r = String(r)); for (var c = r.length, f = 0; f < c; f++) { var k = r[f]; if (b.call(a, k, f, r)) return { Upa: f, FE: k } } return { Upa: -1, FE: void 0 } } function Xa(r, b, a) { if (null == r) throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined"); if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression"); return r + "" } var bb = "function" == typeof Object.defineProperties ?
                        Object.defineProperty : function (r, b, a) { if (r == Array.prototype || r == Object.prototype) return r; r[b] = a.value; return r }, Ya = function (r) { r = ["object" == typeof globalThis && globalThis, r, "object" == typeof ub && ub, "object" == typeof self && self, "object" == typeof global && global]; for (var b = 0; b < r.length; ++b) { var a = r[b]; if (a && a.Math == Math) return a } throw Error("Cannot find global object"); }(this); va("Symbol", function (r) {
                            function b(f) {
                                if (this instanceof b) throw new TypeError("Symbol is not a constructor"); return new a("jscomp_symbol_" +
                                    (f || "") + "_" + c++, f)
                            } function a(f, k) { this.Pdb = f; bb(this, "description", { configurable: !0, writable: !0, value: k }) } if (r) return r; a.prototype.toString = function () { return this.Pdb }; var c = 0; return b
                        }); va("Symbol.iterator", function (r) {
                            if (r) return r; r = Symbol("Symbol.iterator"); for (var b = "Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "), a = 0; a < b.length; a++) {
                                var c = Ya[b[a]]; "function" === typeof c && "function" != typeof c.prototype[r] && bb(c.prototype,
                                    r, { configurable: !0, writable: !0, value: function () { return Y(za(this)) } })
                            } return r
                        }); var jb = "function" == typeof Object.create ? Object.create : function (r) { function b() { } b.prototype = r; return new b }, mb = function () {
                            function r() { function a() { } new a; Reflect.construct(a, [], function () { }); return new a instanceof a } if ("undefined" != typeof Reflect && Reflect.construct) { if (r()) return Reflect.construct; var b = Reflect.construct; return function (a, c, f) { a = b(a, c); f && Reflect.setPrototypeOf(a, f.prototype); return a } } return function (a,
                                c, f) { void 0 === f && (f = a); f = jb(f.prototype || Object.prototype); return Function.prototype.apply.call(a, f, c) || f }
                        }(); if ("function" == typeof Object.setPrototypeOf) var nb = Object.setPrototypeOf; else { a: { var qb = { a: !0 }, rb = {}; try { rb.__proto__ = qb; nb = rb.a; break a } catch (r) { } nb = !1 } nb = nb ? function (r, b) { r.__proto__ = b; if (r.__proto__ !== b) throw new TypeError(r + " is not extensible"); return r } : null } var Ab = nb; Ja.prototype.CX = function (r) { this.rza = r }; Ja.prototype.LZ = function (r) { this.zT = { eN: r, OMb: !0 }; this.nI = this.ewb || this.BXa };
                Ja.prototype.return = function (r) { this.zT = { return: r }; this.nI = this.BXa }; Ra.prototype.CX = function (r) { Ga(this.Hf); if (this.Hf.KE) return oa(this, this.Hf.KE.next, r, this.Hf.CX); this.Hf.CX(r); return Aa(this) }; Ra.prototype.LZ = function (r) { Ga(this.Hf); if (this.Hf.KE) return oa(this, this.Hf.KE["throw"], r, this.Hf.CX); this.Hf.LZ(r); return Aa(this) }; va("Reflect", function (r) { return r ? r : {} }); va("Reflect.construct", function () { return mb }); va("Reflect.setPrototypeOf", function (r) {
                    return r ? r : Ab ? function (b, a) {
                        try {
                            return Ab(b,
                                a), !0
                        } catch (c) { return !1 }
                    } : null
                }); va("Object.setPrototypeOf", function (r) { return r || Ab }); var xb = "function" == typeof Object.assign ? Object.assign : function (r, b) { for (var a = 1; a < arguments.length; a++) { var c = arguments[a]; if (c) for (var f in c) Da(c, f) && (r[f] = c[f]) } return r }; va("Object.assign", function (r) { return r || xb }); va("Promise", function (r) {
                    function b(m) { this.QP = 0; this.VY = void 0; this.CO = []; this.K1a = !1; var g = this.mla(); try { m(g.resolve, g.reject) } catch (d) { g.reject(d) } } function a() { this.AC = null } function c(m) {
                        return m instanceof
                            b ? m : new b(function (g) { g(m) })
                    } if (r) return r; a.prototype.VRa = function (m) { if (null == this.AC) { this.AC = []; var g = this; this.WRa(function () { g.nEb() }) } this.AC.push(m) }; var f = Ya.setTimeout; a.prototype.WRa = function (m) { f(m, 0) }; a.prototype.nEb = function () { for (; this.AC && this.AC.length;) { var m = this.AC; this.AC = []; for (var g = 0; g < m.length; ++g) { var d = m[g]; m[g] = null; try { d() } catch (h) { this.Otb(h) } } } this.AC = null }; a.prototype.Otb = function (m) { this.WRa(function () { throw m; }) }; b.prototype.mla = function () {
                        function m(h) {
                            return function (l) {
                                d ||
                                    (d = !0, h.call(g, l))
                            }
                        } var g = this, d = !1; return { resolve: m(this.PYb), reject: m(this.Cva) }
                    }; b.prototype.PYb = function (m) { if (m === this) this.Cva(new TypeError("A Promise cannot resolve to itself")); else if (m instanceof b) this.Q_b(m); else { a: switch (typeof m) { case "object": var g = null != m; break a; case "function": g = !0; break a; default: g = !1 }g ? this.OYb(m) : this.mYa(m) } }; b.prototype.OYb = function (m) { var g = void 0; try { g = m.then } catch (d) { this.Cva(d); return } "function" == typeof g ? this.R_b(g, m) : this.mYa(m) }; b.prototype.Cva = function (m) {
                        this.N$a(2,
                            m)
                    }; b.prototype.mYa = function (m) { this.N$a(1, m) }; b.prototype.N$a = function (m, g) { if (0 != this.QP) throw Error("Cannot settle(" + m + ", " + g + "): Promise already settled in state" + this.QP); this.QP = m; this.VY = g; 2 === this.QP && this.tZb(); this.oEb() }; b.prototype.tZb = function () { var m = this; f(function () { if (m.qSb()) { var g = Ya.console; "undefined" !== typeof g && g.error(m.VY) } }, 1) }; b.prototype.qSb = function () {
                        if (this.K1a) return !1; var m = Ya.CustomEvent, g = Ya.Event, d = Ya.dispatchEvent; if ("undefined" === typeof d) return !0; "function" ===
                            typeof m ? m = new m("unhandledrejection", { cancelable: !0 }) : "function" === typeof g ? m = new g("unhandledrejection", { cancelable: !0 }) : (m = Ya.document.createEvent("CustomEvent"), m.initCustomEvent("unhandledrejection", !1, !0, m)); m.promise = this; m.reason = this.VY; return d(m)
                    }; b.prototype.oEb = function () { if (null != this.CO) { for (var m = 0; m < this.CO.length; ++m)k.VRa(this.CO[m]); this.CO = null } }; var k = new a; b.prototype.Q_b = function (m) { var g = this.mla(); m.j4(g.resolve, g.reject) }; b.prototype.R_b = function (m, g) {
                        var d = this.mla(); try {
                            m.call(g,
                                d.resolve, d.reject)
                        } catch (h) { d.reject(h) }
                    }; b.prototype.then = function (m, g) { function d(q, p) { return "function" == typeof q ? function (u) { try { h(q(u)) } catch (t) { l(t) } } : p } var h, l, n = new b(function (q, p) { h = q; l = p }); this.j4(d(m, h), d(g, l)); return n }; b.prototype.catch = function (m) { return this.then(void 0, m) }; b.prototype.j4 = function (m, g) { function d() { switch (h.QP) { case 1: m(h.VY); break; case 2: g(h.VY); break; default: throw Error("Unexpected state: " + h.QP); } } var h = this; null == this.CO ? k.VRa(d) : this.CO.push(d); this.K1a = !0 }; b.resolve =
                        c; b.reject = function (m) { return new b(function (g, d) { d(m) }) }; b.race = function (m) { return new b(function (g, d) { for (var h = da(m), l = h.next(); !l.done; l = h.next())c(l.value).j4(g, d) }) }; b.all = function (m) { var g = da(m), d = g.next(); return d.done ? c([]) : new b(function (h, l) { function n(u) { return function (t) { q[u] = t; p--; 0 == p && h(q) } } var q = [], p = 0; do q.push(void 0), p++, c(d.value).j4(n(q.length - 1), l), d = g.next(); while (!d.done) }) }; return b
                }); va("Object.entries", function (r) {
                    return r ? r : function (b) {
                        var a = [], c; for (c in b) Da(b, c) &&
                            a.push([c, b[c]]); return a
                    }
                }); va("Array.prototype.keys", function (r) { return r ? r : function () { return Qa(this, function (b) { return b }) } }); va("Array.prototype.find", function (r) { return r ? r : function (b, a) { return Ha(this, b, a).FE } }); va("Number.isNaN", function (r) { return r ? r : function (b) { return "number" === typeof b && isNaN(b) } }); va("Math.tanh", function (r) { return r ? r : function (b) { b = Number(b); if (0 === b) return b; var a = Math.exp(-2 * Math.abs(b)); a = (1 - a) / (1 + a); return 0 > b ? -a : a } }); va("Object.is", function (r) {
                    return r ? r : function (b,
                        a) { return b === a ? 0 !== b || 1 / b === 1 / a : b !== b && a !== a }
                }); va("Array.prototype.includes", function (r) { return r ? r : function (b, a) { var c = this; c instanceof String && (c = String(c)); var f = c.length; a = a || 0; for (0 > a && (a = Math.max(a + f, 0)); a < f; a++) { var k = c[a]; if (k === b || Object.is(k, b)) return !0 } return !1 } }); va("String.prototype.includes", function (r) { return r ? r : function (b, a) { return -1 !== Xa(this, b, "includes").indexOf(b, a || 0) } }); va("Array.prototype.entries", function (r) { return r ? r : function () { return Qa(this, function (b, a) { return [b, a] }) } });
                va("String.prototype.endsWith", function (r) { return r ? r : function (b, a) { var c = Xa(this, b, "endsWith"); b += ""; void 0 === a && (a = c.length); a = Math.max(0, Math.min(a | 0, c.length)); for (var f = b.length; 0 < f && 0 < a;)if (c[--a] != b[--f]) return !1; return 0 >= f } }); va("String.prototype.repeat", function (r) { return r ? r : function (b) { var a = Xa(this, null, "repeat"); if (0 > b || 1342177279 < b) throw new RangeError("Invalid count value"); b |= 0; for (var c = ""; b;)if (b & 1 && (c += a), b >>>= 1) a += a; return c } }); va("Number.MAX_SAFE_INTEGER", function () { return 9007199254740991 });
                va("WeakMap", function (r) {
                    function b(d) { this.tW = (g += Math.random() + 1).toString(); if (d) { d = da(d); for (var h; !(h = d.next()).done;)h = h.value, this.set(h[0], h[1]) } } function a() { } function c(d) { var h = typeof d; return "object" === h && null !== d || "function" === h } function f(d) { if (!Da(d, m)) { var h = new a; bb(d, m, { value: h }) } } function k(d) { var h = Object[d]; h && (Object[d] = function (l) { if (l instanceof a) return l; Object.isExtensible(l) && f(l); return h(l) }) } if (function () {
                        if (!r || !Object.seal) return !1; try {
                            var d = Object.seal({}), h = Object.seal({}),
                                l = new r([[d, 2], [h, 3]]); if (2 != l.get(d) || 3 != l.get(h)) return !1; l.delete(d); l.set(h, 4); return !l.has(d) && 4 == l.get(h)
                        } catch (n) { return !1 }
                    }()) return r; var m = "$jscomp_hidden_" + Math.random(); k("freeze"); k("preventExtensions"); k("seal"); var g = 0; b.prototype.set = function (d, h) { if (!c(d)) throw Error("Invalid WeakMap key"); f(d); if (!Da(d, m)) throw Error("WeakMap key fail: " + d); d[m][this.tW] = h; return this }; b.prototype.get = function (d) { return c(d) && Da(d, m) ? d[m][this.tW] : void 0 }; b.prototype.has = function (d) {
                        return c(d) &&
                            Da(d, m) && Da(d[m], this.tW)
                    }; b.prototype.delete = function (d) { return c(d) && Da(d, m) && Da(d[m], this.tW) ? delete d[m][this.tW] : !1 }; return b
                }); va("Map", function (r) {
                    function b() { var g = {}; return g.RA = g.next = g.head = g } function a(g, d) { var h = g.bA; return Y(function () { if (h) { for (; h.head != g.bA;)h = h.RA; for (; h.next != h.head;)return h = h.next, { done: !1, value: d(h) }; h = null } return { done: !0, value: void 0 } }) } function c(g, d) {
                        var h = d && typeof d; "object" == h || "function" == h ? k.has(d) ? h = k.get(d) : (h = "" + ++m, k.set(d, h)) : h = "p_" + d; var l = g.qz[h];
                        if (l && Da(g.qz, h)) for (g = 0; g < l.length; g++) { var n = l[g]; if (d !== d && n.key !== n.key || d === n.key) return { id: h, list: l, index: g, entry: n } } return { id: h, list: l, index: -1, entry: void 0 }
                    } function f(g) { this.qz = {}; this.bA = b(); this.size = 0; if (g) { g = da(g); for (var d; !(d = g.next()).done;)d = d.value, this.set(d[0], d[1]) } } if (function () {
                        if (!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal) return !1; try {
                            var g = Object.seal({ x: 4 }), d = new r(da([[g, "s"]])); if ("s" != d.get(g) || 1 != d.size || d.get({ x: 4 }) || d.set({ x: 4 },
                                "t") != d || 2 != d.size) return !1; var h = d.entries(), l = h.next(); if (l.done || l.value[0] != g || "s" != l.value[1]) return !1; l = h.next(); return l.done || 4 != l.value[0].x || "t" != l.value[1] || !h.next().done ? !1 : !0
                        } catch (n) { return !1 }
                    }()) return r; var k = new WeakMap; f.prototype.set = function (g, d) { g = 0 === g ? 0 : g; var h = c(this, g); h.list || (h.list = this.qz[h.id] = []); h.entry ? h.entry.value = d : (h.entry = { next: this.bA, RA: this.bA.RA, head: this.bA, key: g, value: d }, h.list.push(h.entry), this.bA.RA.next = h.entry, this.bA.RA = h.entry, this.size++); return this };
                    f.prototype.delete = function (g) { g = c(this, g); return g.entry && g.list ? (g.list.splice(g.index, 1), g.list.length || delete this.qz[g.id], g.entry.RA.next = g.entry.next, g.entry.next.RA = g.entry.RA, g.entry.head = null, this.size--, !0) : !1 }; f.prototype.clear = function () { this.qz = {}; this.bA = this.bA.RA = b(); this.size = 0 }; f.prototype.has = function (g) { return !!c(this, g).entry }; f.prototype.get = function (g) { return (g = c(this, g).entry) && g.value }; f.prototype.entries = function () { return a(this, function (g) { return [g.key, g.value] }) }; f.prototype.keys =
                        function () { return a(this, function (g) { return g.key }) }; f.prototype.values = function () { return a(this, function (g) { return g.value }) }; f.prototype.forEach = function (g, d) { for (var h = this.entries(), l; !(l = h.next()).done;)l = l.value, g.call(d, l[1], l[0], this) }; f.prototype[Symbol.iterator] = f.prototype.entries; var m = 0; return f
                }); va("Array.prototype.values", function (r) { return r ? r : function () { return Qa(this, function (b, a) { return a }) } }); va("Object.values", function (r) {
                    return r ? r : function (b) {
                        var a = [], c; for (c in b) Da(b, c) &&
                            a.push(b[c]); return a
                    }
                }); va("String.prototype.startsWith", function (r) { return r ? r : function (b, a) { var c = Xa(this, b, "startsWith"); b += ""; var f = c.length, k = b.length; a = Math.max(0, Math.min(a | 0, c.length)); for (var m = 0; m < k && a < f;)if (c[a++] != b[m++]) return !1; return m >= k } }); va("Set", function (r) {
                    function b(a) { this.ax = new Map; if (a) { a = da(a); for (var c; !(c = a.next()).done;)this.add(c.value) } this.size = this.ax.size } if (function () {
                        if (!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal) return !1; try {
                            var a =
                                Object.seal({ x: 4 }), c = new r(da([a])); if (!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({ x: 4 }) != c || 2 != c.size) return !1; var f = c.entries(), k = f.next(); if (k.done || k.value[0] != a || k.value[1] != a) return !1; k = f.next(); return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0] ? !1 : f.next().done
                        } catch (m) { return !1 }
                    }()) return r; b.prototype.add = function (a) { a = 0 === a ? 0 : a; this.ax.set(a, a); this.size = this.ax.size; return this }; b.prototype.delete = function (a) { a = this.ax.delete(a); this.size = this.ax.size; return a };
                    b.prototype.clear = function () { this.ax.clear(); this.size = 0 }; b.prototype.has = function (a) { return this.ax.has(a) }; b.prototype.entries = function () { return this.ax.entries() }; b.prototype.values = function () { return this.ax.values() }; b.prototype.keys = b.prototype.values; b.prototype[Symbol.iterator] = b.prototype.values; b.prototype.forEach = function (a, c) { var f = this; this.ax.forEach(function (k) { return a.call(c, k, k, f) }) }; return b
                }); va("Array.prototype.findIndex", function (r) { return r ? r : function (b, a) { return Ha(this, b, a).Upa } });
                va("Array.from", function (r) { return r ? r : function (b, a, c) { a = null != a ? a : function (g) { return g }; var f = [], k = "undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator]; if ("function" == typeof k) { b = k.call(b); for (var m = 0; !(k = b.next()).done;)f.push(a.call(c, k.value, m++)) } else for (k = b.length, m = 0; m < k; m++)f.push(a.call(c, b[m], m)); return f } }); va("String.fromCodePoint", function (r) {
                    return r ? r : function (b) {
                        for (var a = "", c = 0; c < arguments.length; c++) {
                            var f = Number(arguments[c]); if (0 > f || 1114111 < f || f !== Math.floor(f)) throw new RangeError("invalid_code_point " +
                                f); 65535 >= f ? a += String.fromCharCode(f) : (f -= 65536, a += String.fromCharCode(f >>> 10 & 1023 | 55296), a += String.fromCharCode(f & 1023 | 56320))
                        } return a
                    }
                }); va("Number.parseInt", function(r) {
                    return r || parseInt
                });
                va("Number.isFinite", function(r) {
                    return r ? r : function(b) {
                        return "number" !== typeof b ? !1 : !isNaN(b) && Infinity !== b && -Infinity !== b
                    }
                });
                (function(r) {
                    function b(c) {
                        if (a[c]) return a[c].exports;
                        var f = a[c] = {
                            Upa: c,
                            XNb: !1,
                            exports: {}
                        };
                        r[c].call(f.exports, f, f.exports, b);
                        f.XNb = !0;
                        return f.exports
                    }
                    var a = {};
                    b.pdc = r;
                    b.c = a;
                    b.d =
                        function(c, f, k) {
                            b.KSb(c, f) || Object.defineProperty(c, f, {
                                enumerable: !0,
                                get: k
                            })
                        };
                    b.r = function(c) {
                        "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c, Symbol.toStringTag, {
                            value: "Module"
                        });
                        Object.defineProperty(c, "__esModule", {
                            value: !0
                        })
                    };
                    b.t = function(c, f) {
                        f & 1 && (c = b(c));
                        if (f & 8 || f & 4 && "object" === typeof c && c && c.__esModule) return c;
                        var k = Object.create(null);
                        b.r(k);
                        Object.defineProperty(k, "default", {
                            enumerable: !0,
                            value: c
                        });
                        if (f & 2 && "string" != typeof c)
                            for (var m in c) b.d(k, m, function(g) {
                                return c[g]
                            }.bind(null,
                                m));
                        return k
                    };
                    b.n = function(c) {
                        var f = c && c.__esModule ? function() {
                            return c["default"]
                        } : function() {
                            return c
                        };
                        b.d(f, "a", f);
                        return f
                    };
                    b.KSb = function(c, f) {
                        return Object.prototype.hasOwnProperty.call(c, f)
                    };
                    b.p = "";
                    return b(b.hZb = 569)
                })([function(r, b, a) {
                            Object.defineProperty(b, "__esModule", {
                                value: !0
                            });
                            r = a(45);
                            b.K8b = r;
                            r = a(572);
                            b.S_ = r.S_;
                            r = a(79);
                            b.et = r.et;
                            b.Oj = r.Oj;
                            b.py = r.py;
                            r = a(588);
                            b.$za = r.$za;
                            b.dd = r.dd;
                            r = a(589);
                            b.R = r.R;
                            r = a(590);
                            b.bbb = r.bbb;
                            r = a(591);
                            b.T4a = r.T4a;
                            r = a(314);
                            b.l = r.l;
                            b.Dda = r.Dda;
                            r = a(592);
                            b.optional =
                                r.optional;
                            r = a(593);
                            b.Wm = r.Wm;
                            r = a(594);
                            b.iI = r.iI;
                            r = a(595);
                            b.IZ = r.IZ;
                            r = a(596);
                            b.s7a = r.s7a;
                            r = a(312);
                            b.Zda = r.Zda;
                            r = a(110);
                            b.id = r.id;
                            r = a(95);
                            b.Pr = r.Pr;
                            r = a(317);
                            b.Vbb = r.Vbb;
                            b.cbb = r.cbb;
                            b.U4a = r.U4a;
                            b.bcb = r.bcb;
                            r = a(135);
                            b.yN = r.yN;
                            a = a(597);
                            b.P4a = a.P4a
                        }, function(r, b, a) {
                            function c() {
                                c = Object.assign || function(L) {
                                    for (var N, J = 1, Q = arguments.length; J < Q; J++) {
                                        N = arguments[J];
                                        for (var K in N) Object.prototype.hasOwnProperty.call(N, K) && (L[K] = N[K])
                                    }
                                    return L
                                };
                                return c.apply(this, arguments)
                            }
                
                            function f(L, N) {
                                f = Object.setPrototypeOf || {
                                    __proto__: []
                                }
                                instanceof Array && function(J, Q) {
                                    J.__proto__ = Q
                                } || function(J, Q) {
                                    for (var K in Q) Object.prototype.hasOwnProperty.call(Q, K) && (J[K] = Q[K])
                                };
                                return f(L, N)
                            }
                
                            function k(L, N) {
                                function J() {
                                    this.constructor = L
                                }
                                if ("function" !== typeof N && null !== N) throw new TypeError("Class extends value " + String(N) + " is not a constructor or null");
                                f(L, N);
                                L.prototype = null === N ? Object.create(N) : (J.prototype = N.prototype, new J)
                            }
                
                            function m(L, N) {
                                var J = {},
                                    Q;
                                for (Q in L) Object.prototype.hasOwnProperty.call(L, Q) && 0 > N.indexOf(Q) &&
                                    (J[Q] = L[Q]);
                                if (null != L && "function" === typeof Object.getOwnPropertySymbols) {
                                    var K = 0;
                                    for (Q = Object.getOwnPropertySymbols(L); K < Q.length; K++) 0 > N.indexOf(Q[K]) && Object.prototype.propertyIsEnumerable.call(L, Q[K]) && (J[Q[K]] = L[Q[K]])
                                }
                                return J
                            }
                
                            function g(L, N, J, Q) {
                                var K = arguments.length,
                                    I = 3 > K ? N : null === Q ? Q = Object.getOwnPropertyDescriptor(N, J) : Q,
                                    M;
                                if ("object" === typeof Reflect && "function" === typeof Reflect.Pr) I = Reflect.Pr(L, N, J, Q);
                                else
                                    for (var O = L.length - 1; 0 <= O; O--)
                                        if (M = L[O]) I = (3 > K ? M(I) : 3 < K ? M(N, J, I) : M(N, J)) || I;
                                return 3 <
                                    K && I && Object.defineProperty(N, J, I), I
                            }
                
                            function d(L, N) {
                                return function(J, Q) {
                                    N(J, Q, L)
                                }
                            }
                
                            function h(L, N) {
                                if ("object" === typeof Reflect && "function" === typeof Reflect.Hc) return Reflect.Hc(L, N)
                            }
                
                            function l(L, N, J, Q) {
                                function K(I) {
                                    return I instanceof J ? I : new J(function(M) {
                                        M(I)
                                    })
                                }
                                return new(J || (J = Promise))(function(I, M) {
                                    function O(U) {
                                        try {
                                            S(Q.next(U))
                                        } catch (Z) {
                                            M(Z)
                                        }
                                    }
                
                                    function P(U) {
                                        try {
                                            S(Q["throw"](U))
                                        } catch (Z) {
                                            M(Z)
                                        }
                                    }
                
                                    function S(U) {
                                        U.done ? I(U.value) : K(U.value).then(O, P)
                                    }
                                    S((Q = Q.apply(L, N || [])).next())
                                })
                            }
                
                            function n(L,
                                N) {
                                function J(S) {
                                    return function(U) {
                                        return Q([S, U])
                                    }
                                }
                
                                function Q(S) {
                                    if (I) throw new TypeError("Generator is already executing.");
                                    for (; K;) try {
                                        if (I = 1, M && (O = S[0] & 2 ? M["return"] : S[0] ? M["throw"] || ((O = M["return"]) && O.call(M), 0) : M.next) && !(O = O.call(M, S[1])).done) return O;
                                        if (M = 0, O) S = [S[0] & 2, O.value];
                                        switch (S[0]) {
                                            case 0:
                                            case 1:
                                                O = S;
                                                break;
                                            case 4:
                                                return K.label++, {
                                                    value: S[1],
                                                    done: !1
                                                };
                                            case 5:
                                                K.label++;
                                                M = S[1];
                                                S = [0];
                                                continue;
                                            case 7:
                                                S = K.Wn.pop();
                                                K.Vm.pop();
                                                continue;
                                            default:
                                                if (!(O = K.Vm, O = 0 < O.length && O[O.length - 1]) &&
                                                    (6 === S[0] || 2 === S[0])) {
                                                    K = 0;
                                                    continue
                                                }
                                                if (3 === S[0] && (!O || S[1] > O[0] && S[1] < O[3])) K.label = S[1];
                                                else if (6 === S[0] && K.label < O[1]) K.label = O[1], O = S;
                                                else if (O && K.label < O[2]) K.label = O[2], K.Wn.push(S);
                                                else {
                                                    O[2] && K.Wn.pop();
                                                    K.Vm.pop();
                                                    continue
                                                }
                                        }
                                        S = N.call(L, K)
                                    } catch (U) {
                                        S = [6, U], M = 0
                                    } finally {
                                        I = O = 0
                                    }
                                    if (S[0] & 5) throw S[1];
                                    return {
                                        value: S[0] ? S[1] : void 0,
                                        done: !0
                                    }
                                }
                                var K = {
                                        label: 0,
                                        Ac: function() {
                                            if (O[0] & 1) throw O[1];
                                            return O[1]
                                        },
                                        Vm: [],
                                        Wn: []
                                    },
                                    I, M, O, P;
                                return P = {
                                    next: J(0),
                                    "throw": J(1),
                                    "return": J(2)
                                }, "function" === typeof Symbol && (P[Symbol.iterator] =
                                    function() {
                                        return this
                                    }), P
                            }
                
                            function q(L, N) {
                                for (var J in L) "default" === J || Object.prototype.hasOwnProperty.call(N, J) || C(N, L, J)
                            }
                
                            function p(L) {
                                var N = "function" === typeof Symbol && Symbol.iterator,
                                    J = N && L[N],
                                    Q = 0;
                                if (J) return J.call(L);
                                if (L && "number" === typeof L.length) return {
                                    next: function() {
                                        L && Q >= L.length && (L = void 0);
                                        return {
                                            value: L && L[Q++],
                                            done: !L
                                        }
                                    }
                                };
                                throw new TypeError(N ? "Object is not iterable." : "Symbol.iterator is not defined.");
                            }
                
                            function u(L, N) {
                                var J = "function" === typeof Symbol && L[Symbol.iterator];
                                if (!J) return L;
                                L = J.call(L);
                                var Q, K = [];
                                try {
                                    for (;
                                        (void 0 === N || 0 < N--) && !(Q = L.next()).done;) K.push(Q.value)
                                } catch (M) {
                                    var I = {
                                        error: M
                                    }
                                } finally {
                                    try {
                                        Q && !Q.done && (J = L["return"]) && J.call(L)
                                    } finally {
                                        if (I) throw I.error;
                                    }
                                }
                                return K
                            }
                
                            function t() {
                                for (var L = [], N = 0; N < arguments.length; N++) L = L.concat(u(arguments[N]));
                                return L
                            }
                
                            function w() {
                                for (var L = 0, N = 0, J = arguments.length; N < J; N++) L += arguments[N].length;
                                L = Array(L);
                                var Q = 0;
                                for (N = 0; N < J; N++)
                                    for (var K = arguments[N], I = 0, M = K.length; I < M; I++, Q++) L[Q] = K[I];
                                return L
                            }
                
                            function v(L, N, J) {
                                if (J || 2 ===
                                    arguments.length)
                                    for (var Q = 0, K = N.length, I; Q < K; Q++) !I && Q in N || (I || (I = Array.prototype.slice.call(N, 0, Q)), I[Q] = N[Q]);
                                return L.concat(I || N)
                            }
                
                            function x(L) {
                                return this instanceof x ? (this.FE = L, this) : new x(L)
                            }
                
                            function y(L, N, J) {
                                function Q(Z) {
                                    P[Z] && (S[Z] = function(ia) {
                                        return new Promise(function(ya, na) {
                                            1 < U.push([Z, ia, ya, na]) || K(Z, ia)
                                        })
                                    })
                                }
                
                                function K(Z, ia) {
                                    try {
                                        var ya = P[Z](ia);
                                        ya.value instanceof x ? Promise.resolve(ya.value.FE).then(I, M) : O(U[0][2], ya)
                                    } catch (na) {
                                        O(U[0][3], na)
                                    }
                                }
                
                                function I(Z) {
                                    K("next", Z)
                                }
                
                                function M(Z) {
                                    K("throw",
                                        Z)
                                }
                
                                function O(Z, ia) {
                                    (Z(ia), U.shift(), U.length) && K(U[0][0], U[0][1])
                                }
                                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                                var P = J.apply(L, N || []),
                                    S, U = [];
                                return S = {}, Q("next"), Q("throw"), Q("return"), S[Symbol.asyncIterator] = function() {
                                    return this
                                }, S
                            }
                
                            function z(L) {
                                function N(K, I) {
                                    J[K] = L[K] ? function(M) {
                                        return (Q = !Q) ? {
                                            value: x(L[K](M)),
                                            done: "return" === K
                                        } : I ? I(M) : M
                                    } : I
                                }
                                var J, Q;
                                return J = {}, N("next"), N("throw", function(K) {
                                        throw K;
                                    }), N("return"), J[Symbol.iterator] = function() {
                                        return this
                                    },
                                    J
                            }
                
                            function A(L) {
                                function N(I) {
                                    K[I] = L[I] && function(M) {
                                        return new Promise(function(O, P) {
                                            M = L[I](M);
                                            J(O, P, M.done, M.value)
                                        })
                                    }
                                }
                
                                function J(I, M, O, P) {
                                    Promise.resolve(P).then(function(S) {
                                        I({
                                            value: S,
                                            done: O
                                        })
                                    }, M)
                                }
                                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                                var Q = L[Symbol.asyncIterator],
                                    K;
                                return Q ? Q.call(L) : (L = "function" === typeof p ? p(L) : L[Symbol.iterator](), K = {}, N("next"), N("throw"), N("return"), K[Symbol.asyncIterator] = function() {
                                    return this
                                }, K)
                            }
                
                            function B(L, N) {
                                Object.defineProperty ?
                                    Object.defineProperty(L, "raw", {
                                        value: N
                                    }) : L.raw = N;
                                return L
                            }
                
                            function E(L) {
                                if (L && L.__esModule) return L;
                                var N = {};
                                if (null != L)
                                    for (var J in L) "default" !== J && Object.prototype.hasOwnProperty.call(L, J) && C(N, L, J);
                                H(N, L);
                                return N
                            }
                
                            function D(L) {
                                return L && L.__esModule ? L : {
                                    default: L
                                }
                            }
                
                            function F(L, N, J, Q) {
                                if ("a" === J && !Q) throw new TypeError("Private accessor was defined without a getter");
                                if ("function" === typeof N ? L !== N || !Q : !N.has(L)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
                                return "m" === J ? Q : "a" === J ? Q.call(L) : Q ? Q.value : N.get(L)
                            }
                
                            function G(L, N, J, Q, K) {
                                if ("m" === Q) throw new TypeError("Private method is not writable");
                                if ("a" === Q && !K) throw new TypeError("Private accessor was defined without a setter");
                                if ("function" === typeof N ? L !== N || !K : !N.has(L)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
                                return "a" === Q ? K.call(L, J) : K ? K.value = J : N.set(L, J), J
                            }
                            a.r(b);
                            a.d(b, "__extends", function() {
                                return k
                            });
                            a.d(b, "__assign", function() {
                                return c
                            });
                            a.d(b, "__rest", function() {
                                return m
                            });
                            a.d(b, "__decorate", function() {
                                return g
                            });
                            a.d(b, "__param", function() {
                                return d
                            });
                            a.d(b, "__metadata", function() {
                                return h
                            });
                            a.d(b, "__awaiter", function() {
                                return l
                            });
                            a.d(b, "__generator", function() {
                                return n
                            });
                            a.d(b, "__createBinding", function() {
                                return C
                            });
                            a.d(b, "__exportStar", function() {
                                return q
                            });
                            a.d(b, "__values", function() {
                                return p
                            });
                            a.d(b, "__read", function() {
                                return u
                            });
                            a.d(b, "__spread", function() {
                                return t
                            });
                            a.d(b, "__spreadArrays", function() {
                                return w
                            });
                            a.d(b, "__spreadArray",
                                function() {
                                    return v
                                });
                            a.d(b, "__await", function() {
                                return x
                            });
                            a.d(b, "__asyncGenerator", function() {
                                return y
                            });
                            a.d(b, "__asyncDelegator", function() {
                                return z
                            });
                            a.d(b, "__asyncValues", function() {
                                return A
                            });
                            a.d(b, "__makeTemplateObject", function() {
                                return B
                            });
                            a.d(b, "__importStar", function() {
                                return E
                            });
                            a.d(b, "__importDefault", function() {
                                return D
                            });
                            a.d(b, "__classPrivateFieldGet", function() {
                                return F
                            });
                            a.d(b, "__classPrivateFieldSet", function() {
                                return G
                            });
                            var C = Object.create ? function(L, N, J, Q) {
                                    void 0 === Q && (Q = J);
                                    Object.defineProperty(L,
                                        Q, {
                                            enumerable: !0,
                                            get: function() {
                                                return N[J]
                                            }
                                        })
                                } : function(L, N, J, Q) {
                                    void 0 === Q && (Q = J);
                                    L[Q] = N[J]
                                },
                                H = Object.create ? function(L, N) {
                                    Object.defineProperty(L, "default", {
                                        enumerable: !0,
                                        value: N
                                    })
                                } : function(L, N) {
                                    L["default"] = N
                                }
                        }, function (r, b, a) {
                    function c() { c = Object.assign || function (C) { for (var H, L = 1, N = arguments.length; L < N; L++) { H = arguments[L]; for (var J in H) Object.prototype.hasOwnProperty.call(H, J) && (C[J] = H[J]) } return C }; return c.apply(this, arguments) } function f(C, H) {
                        f = Object.setPrototypeOf || { __proto__: [] } instanceof
                            Array && function (L, N) { L.__proto__ = N } || function (L, N) { for (var J in N) N.hasOwnProperty(J) && (L[J] = N[J]) }; return f(C, H)
                    } function k(C, H) { function L() { this.constructor = C } f(C, H); C.prototype = null === H ? Object.create(H) : (L.prototype = H.prototype, new L) } function m(C, H) {
                        var L = {}, N; for (N in C) Object.prototype.hasOwnProperty.call(C, N) && 0 > H.indexOf(N) && (L[N] = C[N]); if (null != C && "function" === typeof Object.getOwnPropertySymbols) {
                            var J = 0; for (N = Object.getOwnPropertySymbols(C); J < N.length; J++)0 > H.indexOf(N[J]) && Object.prototype.propertyIsEnumerable.call(C,
                                N[J]) && (L[N[J]] = C[N[J]])
                        } return L
                    } function g(C, H, L, N) { var J = arguments.length, Q = 3 > J ? H : null === N ? N = Object.getOwnPropertyDescriptor(H, L) : N, K; if ("object" === typeof Reflect && "function" === typeof Reflect.Pr) Q = Reflect.Pr(C, H, L, N); else for (var I = C.length - 1; 0 <= I; I--)if (K = C[I]) Q = (3 > J ? K(Q) : 3 < J ? K(H, L, Q) : K(H, L)) || Q; return 3 < J && Q && Object.defineProperty(H, L, Q), Q } function d(C, H) { return function (L, N) { H(L, N, C) } } function h(C, H) { if ("object" === typeof Reflect && "function" === typeof Reflect.Hc) return Reflect.Hc(C, H) } function l(C,
                        H, L, N) { function J(Q) { return Q instanceof L ? Q : new L(function (K) { K(Q) }) } return new (L || (L = Promise))(function (Q, K) { function I(P) { try { O(N.next(P)) } catch (S) { K(S) } } function M(P) { try { O(N["throw"](P)) } catch (S) { K(S) } } function O(P) { P.done ? Q(P.value) : J(P.value).then(I, M) } O((N = N.apply(C, H || [])).next()) }) } function n(C, H) {
                            function L(O) { return function (P) { return N([O, P]) } } function N(O) {
                                if (Q) throw new TypeError("Generator is already executing."); for (; J;)try {
                                    if (Q = 1, K && (I = O[0] & 2 ? K["return"] : O[0] ? K["throw"] || ((I = K["return"]) &&
                                        I.call(K), 0) : K.next) && !(I = I.call(K, O[1])).done) return I; if (K = 0, I) O = [O[0] & 2, I.value]; switch (O[0]) {
                                            case 0: case 1: I = O; break; case 4: return J.label++, { value: O[1], done: !1 }; case 5: J.label++; K = O[1]; O = [0]; continue; case 7: O = J.Wn.pop(); J.Vm.pop(); continue; default: if (!(I = J.Vm, I = 0 < I.length && I[I.length - 1]) && (6 === O[0] || 2 === O[0])) { J = 0; continue } if (3 === O[0] && (!I || O[1] > I[0] && O[1] < I[3])) J.label = O[1]; else if (6 === O[0] && J.label < I[1]) J.label = I[1], I = O; else if (I && J.label < I[2]) J.label = I[2], J.Wn.push(O); else {
                                                I[2] && J.Wn.pop();
                                                J.Vm.pop(); continue
                                            }
                                        }O = H.call(C, J)
                                } catch (P) { O = [6, P], K = 0 } finally { Q = I = 0 } if (O[0] & 5) throw O[1]; return { value: O[0] ? O[1] : void 0, done: !0 }
                            } var J = { label: 0, Ac: function () { if (I[0] & 1) throw I[1]; return I[1] }, Vm: [], Wn: [] }, Q, K, I, M; return M = { next: L(0), "throw": L(1), "return": L(2) }, "function" === typeof Symbol && (M[Symbol.iterator] = function () { return this }), M
                        } function q(C, H, L, N) { void 0 === N && (N = L); C[N] = H[L] } function p(C, H) { for (var L in C) "default" === L || H.hasOwnProperty(L) || (H[L] = C[L]) } function u(C) {
                            var H = "function" === typeof Symbol &&
                                Symbol.iterator, L = H && C[H], N = 0; if (L) return L.call(C); if (C && "number" === typeof C.length) return { next: function () { C && N >= C.length && (C = void 0); return { value: C && C[N++], done: !C } } }; throw new TypeError(H ? "Object is not iterable." : "Symbol.iterator is not defined.");
                        } function t(C, H) {
                            var L = "function" === typeof Symbol && C[Symbol.iterator]; if (!L) return C; C = L.call(C); var N, J = []; try { for (; (void 0 === H || 0 < H--) && !(N = C.next()).done;)J.push(N.value) } catch (K) { var Q = { error: K } } finally {
                                try { N && !N.done && (L = C["return"]) && L.call(C) } finally {
                                    if (Q) throw Q.error;
                                }
                            } return J
                        } function w() { for (var C = [], H = 0; H < arguments.length; H++)C = C.concat(t(arguments[H])); return C } function v() { for (var C = 0, H = 0, L = arguments.length; H < L; H++)C += arguments[H].length; C = Array(C); var N = 0; for (H = 0; H < L; H++)for (var J = arguments[H], Q = 0, K = J.length; Q < K; Q++, N++)C[N] = J[Q]; return C } function x(C) { return this instanceof x ? (this.FE = C, this) : new x(C) } function y(C, H, L) {
                            function N(S) { M[S] && (O[S] = function (U) { return new Promise(function (Z, ia) { 1 < P.push([S, U, Z, ia]) || J(S, U) }) }) } function J(S, U) {
                                try {
                                    var Z = M[S](U);
                                    Z.value instanceof x ? Promise.resolve(Z.value.FE).then(Q, K) : I(P[0][2], Z)
                                } catch (ia) { I(P[0][3], ia) }
                            } function Q(S) { J("next", S) } function K(S) { J("throw", S) } function I(S, U) { (S(U), P.shift(), P.length) && J(P[0][0], P[0][1]) } if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var M = L.apply(C, H || []), O, P = []; return O = {}, N("next"), N("throw"), N("return"), O[Symbol.asyncIterator] = function () { return this }, O
                        } function z(C) {
                            function H(J, Q) {
                                L[J] = C[J] ? function (K) {
                                    return (N = !N) ? {
                                        value: x(C[J](K)),
                                        done: "return" === J
                                    } : Q ? Q(K) : K
                                } : Q
                            } var L, N; return L = {}, H("next"), H("throw", function (J) { throw J; }), H("return"), L[Symbol.iterator] = function () { return this }, L
                        } function A(C) {
                            function H(Q) { J[Q] = C[Q] && function (K) { return new Promise(function (I, M) { K = C[Q](K); L(I, M, K.done, K.value) }) } } function L(Q, K, I, M) { Promise.resolve(M).then(function (O) { Q({ value: O, done: I }) }, K) } if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var N = C[Symbol.asyncIterator], J; return N ? N.call(C) : (C = "function" ===
                                typeof u ? u(C) : C[Symbol.iterator](), J = {}, H("next"), H("throw"), H("return"), J[Symbol.asyncIterator] = function () { return this }, J)
                        } function B(C, H) { Object.defineProperty ? Object.defineProperty(C, "raw", { value: H }) : C.raw = H; return C } function E(C) { if (C && C.__esModule) return C; var H = {}; if (null != C) for (var L in C) Object.hasOwnProperty.call(C, L) && (H[L] = C[L]); H.default = C; return H } function D(C) { return C && C.__esModule ? C : { default: C } } function F(C, H) {
                            if (!H.has(C)) throw new TypeError("attempted to get private field on non-instance");
                            return H.get(C)
                        } function G(C, H, L) { if (!H.has(C)) throw new TypeError("attempted to set private field on non-instance"); H.set(C, L); return L } a.r(b); a.d(b, "__extends", function () { return k }); a.d(b, "__assign", function () { return c }); a.d(b, "__rest", function () { return m }); a.d(b, "__decorate", function () { return g }); a.d(b, "__param", function () { return d }); a.d(b, "__metadata", function () { return h }); a.d(b, "__awaiter", function () { return l }); a.d(b, "__generator", function () { return n }); a.d(b, "__createBinding", function () { return q });
                    a.d(b, "__exportStar", function () { return p }); a.d(b, "__values", function () { return u }); a.d(b, "__read", function () { return t }); a.d(b, "__spread", function () { return w }); a.d(b, "__spreadArrays", function () { return v }); a.d(b, "__await", function () { return x }); a.d(b, "__asyncGenerator", function () { return y }); a.d(b, "__asyncDelegator", function () { return z }); a.d(b, "__asyncValues", function () { return A }); a.d(b, "__makeTemplateObject", function () { return B }); a.d(b, "__importStar", function () { return E }); a.d(b, "__importDefault", function () { return D });
                    a.d(b, "__classPrivateFieldGet", function () { return F }); a.d(b, "__classPrivateFieldSet", function () { return G })
                },function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Gv = b.qDa = b.pDa = b.Uca = b.rhb = b.oDa = b.nDa = b.Tca = b.kDa = b.U0 = b.W0 = b.K0 = b.mDa = b.M = b.N = void 0;
                    var a;
                    (function(f) {
                        f[f.wl = 7001] = "UNKNOWN";
                        f[f.WMa = 7002] = "UNHANDLED_EXCEPTION";
                        f[f.eib = 7003] = "INIT_COMPONENT_LOG_TO_REMOTE";
                        f[f.Fhb = 7004] = "HLS_NOT_SUPPORTED";
                        f[f.qda = 7010] = "INIT_ASYNCCOMPONENT";
                        f[f.aFa = 7011] = "INIT_HTTP";
                        f[f.bib = 7014] = "INIT_BADMOVIEID";
                        f[f.pib = 7016] = "INIT_NETFLIXID_MISSING";
                        f[f.oib = 7017] = "INIT_NETFLIXID_INVALID";
                        f[f.rib = 7018] = "INIT_SECURENETFLIXID_MISSING";
                        f[f.bFa = 7020] = "INIT_PLAYBACK_LOCK";
                        f[f.cFa = 7022] = "INIT_SESSION_LOCK";
                        f[f.qib = 7029] = "INIT_POSTAUTHORIZE";
                        f[f.$Ea = 7031] = "INIT_HEADER_MEDIA";
                        f[f.k8b = 7032] = "HEADER_MISSING";
                        f[f.j8b = 7033] = "HEADER_FRAGMENTS_MISSING";
                        f[f.sib = 7034] = "INIT_TIMEDTEXT_TRACK";
                        f[f.y8b = 7035] = "INIT_LOAD_DOWNLOADED_MEDIA";
                        f[f.z8b = 7036] = "INIT_STREAMS_NOT_AVAILABLE";
                        f[f.$db = 7037] = "ASE_SESSION_ERROR";
                        f[f.Zdb = 7038] =
                            "ASE_SEEK_THREW";
                        f[f.aeb = 7039] = "ASE_SKIPPED_THREW";
                        f[f.lib = 7041] = "INIT_CORE_OBJECTS1";
                        f[f.mib = 7042] = "INIT_CORE_OBJECTS2";
                        f[f.nib = 7043] = "INIT_CORE_OBJECTS3";
                        f[f.v8b = 7051] = "INIT_COMPONENT_REQUESTQUOTA";
                        f[f.p8b = 7052] = "INIT_COMPONENT_FILESYSTEM";
                        f[f.WEa = 7053] = "INIT_COMPONENT_STORAGE";
                        f[f.XEa = 7054] = "INIT_COMPONENT_STORAGELOCK";
                        f[f.q8b = 7055] = "INIT_COMPONENT_LOGPERSIST";
                        f[f.r8b = 7056] = "INIT_COMPONENT_NRDDPI";
                        f[f.t8b = 7057] = "INIT_COMPONENT_PEPPERCRYPTO";
                        f[f.NEa = 7058] = "INIT_COMPONENT_MAINTHREADMONITOR";
                        f[f.rda =
                            7059] = "INIT_COMPONENT_DEVICE";
                        f[f.s8b = 7062] = "INIT_COMPONENT_NTBA";
                        f[f.OEa = 7063] = "INIT_COMPONENT_MSL";
                        f[f.cib = 7065] = "INIT_COMPONENT_CONTROL_PROTOCOL";
                        f[f.MEa = 7066] = "INIT_COMPONENT_LOGBLOBBATCHER";
                        f[f.KB = 7067] = "INIT_COMPONENT_PERSISTEDPLAYDATA";
                        f[f.u8b = 7068] = "INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";
                        f[f.HEa = 7069] = "INIT_COMPONENT_ACCOUNT";
                        f[f.PEa = 7070] = "INIT_COMPONENT_NRDP_CONFIG_LOADER";
                        f[f.REa = 7071] = "INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";
                        f[f.SEa = 7072] = "INIT_COMPONENT_NRDP_MEDIA";
                        f[f.TEa = 7073] = "INIT_COMPONENT_NRDP_PREPARE_LOADER";
                        f[f.UEa = 7074] = "INIT_COMPONENT_NRDP_REGISTRATION";
                        f[f.fib = 7081] = "INIT_COMPONENT_NRDP";
                        f[f.QEa = 7082] = "INIT_COMPONENT_NRDP_DEVICE";
                        f[f.ZEa = 7083] = "INIT_COMPONENT_WEBCRYPTO";
                        f[f.hib = 7084] = "INIT_COMPONENT_VIDEO_PREPARER";
                        f[f.x8b = 7085] = "INIT_CONGESTION_SERVICE";
                        f[f.LEa = 7086] = "INIT_COMPONENT_IDB_VIEWER_TOOL";
                        f[f.YEa = 7087] = "INIT_COMPONENT_TRACKING_LOG";
                        f[f.JEa = 7088] = "INIT_COMPONENT_BATTERY_MANAGER";
                        f[f.IEa = 7089] = "INIT_COMPONENT_ASE";
                        f[f.w8b = 7090] = "INIT_COMPONENT_VIDEO_CACHE";
                        f[f.pK = 7091] = "INIT_COMPONENT_DRM_CACHE";
                        f[f.dib = 7092] = "INIT_COMPONENT_DRM";
                        f[f.gib = 7093] = "INIT_COMPONENT_PREFETCH_EVENTS";
                        f[f.KEa = 7094] = "INIT_COMPONENT_FTL";
                        f[f.VEa = 7095] = "INIT_COMPONENT_PREPARE_MODEL";
                        f[f.iib = 7096] = "INIT_COMPONENT_VIDEO_SESSION_EDGE";
                        f[f.jib = 7097] = "INIT_COMPONENT_VIDEO_SESSION_MDX";
                        f[f.kib = 7098] = "INIT_COMPONENT_VIDEO_SESSION_TEST";
                        f[f.uK = 7111] = "MANIFEST";
                        f[f.keb = 7112] = "AUTHORIZE_UNKNOWN";
                        f[f.sGa = 7117] = "MANIFEST_VERIFY";
                        f[f.Ilb = 7120] = "START";
                        f[f.xR = 7121] = "LICENSE";
                        f[f.KKa = 7122] = "RELEASE";
                        f[f.mLa = 7123] = "STOP";
                        f[f.a8b = 7124] =
                            "FPSAPPDATA";
                        f[f.Bda = 7125] = "KEEPALIVE";
                        f[f.W6b = 7126] = "DEACTIVATE";
                        f[f.O$b = 7127] = "SYNC_DEACTIVATE_LINKS";
                        f[f.Qdb = 7130] = "ACTIVATE";
                        f[f.ukb = 7131] = "PING";
                        f[f.Bjb = 7133] = "NETFLIXID";
                        f[f.ohb = 7134] = "ENGAGE";
                        f[f.Qib = 7135] = "LOGIN";
                        f[f.Plb = 7136] = "SWITCH_PROFILES";
                        f[f.Pib = 7137] = "LOGBLOB";
                        f[f.bkb = 7138] = "PAUSE";
                        f[f.rlb = 7139] = "RESUME";
                        f[f.kLa = 7140] = "SPLICE";
                        f[f.h7b = 7141] = "DOWNLOAD_EVENT";
                        f[f.Aeb = 7142] = "BIND";
                        f[f.Yjb = 7143] = "PAIR";
                        f[f.Beb = 7144] = "BIND_DEVICE";
                        f[f.Bhb = 7145] = "GENERATE_SCREENSHOTS";
                        f[f.ykb = 7202] = "PLAY_INIT_EXCEPTION";
                        f[f.J8b = 7301] = "MEDIA_DOWNLOAD";
                        f[f.M9b = 7330] = "PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";
                        f[f.N9b = 7331] = "PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";
                        f[f.i1 = 7332] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";
                        f[f.pIa = 7333] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";
                        f[f.pea = 7334] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";
                        f[f.Fkb = 7335] = "PLAY_MSE_EME_KEY_STATUS_EXCEPTION";
                        f[f.qea = 7336] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";
                        f[f.O9b = 7337] = "PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";
                        f[f.Ekb =
                            7338] = "PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";
                        f[f.rIa = 7351] = "PLAY_MSE_NOTSUPPORTED";
                        f[f.oIa = 7353] = "PLAY_MSE_DECODER_TIMEOUT";
                        f[f.tea = 7355] = "PLAY_MSE_SOURCEADD";
                        f[f.zkb = 7356] = "PLAY_MSE_CREATE_MEDIAKEYS";
                        f[f.Ikb = 7357] = "PLAY_MSE_GENERATEKEYREQUEST";
                        f[f.T9b = 7358] = "PLAY_MSE_PARSECHALLENGE";
                        f[f.L9b = 7359] = "PLAY_MSE_ADDKEY";
                        f[f.W9b = 7360] = "PLAY_MSE_UNEXPECTED_NEEDKEY";
                        f[f.qIa = 7361] = "PLAY_MSE_EVENT_ERROR";
                        f[f.rea = 7362] = "PLAY_MSE_SETMEDIAKEYS";
                        f[f.j1 = 7363] = "PLAY_MSE_EVENT_KEYERROR";
                        f[f.Hkb = 7364] = "PLAY_MSE_EME_SESSION_CLOSE";
                        f[f.Jkb = 7365] = "PLAY_MSE_GETCURRENTTIME";
                        f[f.Kkb = 7367] = "PLAY_MSE_SETCURRENTTIME";
                        f[f.Lkb = 7371] = "PLAY_MSE_SOURCEAPPEND";
                        f[f.U9b = 7373] = "PLAY_MSE_SOURCEAPPEND_INIT";
                        f[f.Pkb = 7375] = "PLAY_MSE_UNEXPECTED_SEEKING";
                        f[f.Okb = 7376] = "PLAY_MSE_UNEXPECTED_SEEKED";
                        f[f.Nkb = 7377] = "PLAY_MSE_UNEXPECTED_REWIND";
                        f[f.V9b = 7379] = "PLAY_MSE_SOURCE_EOS";
                        f[f.Mkb = 7381] = "PLAY_MSE_SOURCEBUFFER_ERROR";
                        f[f.sIa = 7382] = "PLAY_MSE_SOURCEBUFFER_CHANGETYPE";
                        f[f.S9b = 7385] = "PLAY_MSE_KEYSESSION_UPDATE";
                        f[f.Akb = 7391] = "PLAY_MSE_CREATE_MEDIASOURCE";
                        f[f.Bkb = 7392] = "PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";
                        f[f.Ckb = 7393] = "PLAY_MSE_CREATE_MEDIASOURCE_OPEN";
                        f[f.Q9b = 7394] = "PLAY_MSE_EME_MISSING_DRMHEADER";
                        f[f.Gkb = 7395] = "PLAY_MSE_EME_MISSING_PSSH";
                        f[f.P9b = 7396] = "PLAY_MSE_EME_MISSING_CERT";
                        f[f.R9b = 7397] = "PLAY_MSE_EME_NO_PRK_SUPPORT";
                        f[f.Dkb = 7398] = "PLAY_MSE_DURATIONCHANGE_ERROR";
                        f[f.sea = 7399] = "PLAY_MSE_SET_LICENSE_ERROR";
                        f[f.XCa = 7400] = "EXTERNAL";
                        f[f.h1 = 7500] = "PAUSE_TIMEOUT";
                        f[f.L0 = 7502] = "INACTIVITY_TIMEOUT";
                        f[f.jeb = 7510] = "AUTHORIZATION_EXPIRED";
                        f[f.Y6b =
                            7520] = "DECRYPT_AUDIO";
                        f[f.hhb = 7700] = "EME_INVALID_KEYSYSTEM";
                        f[f.Pca = 7701] = "EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";
                        f[f.p0 = 7702] = "EME_CREATE_MEDIAKEYS_FAILED";
                        f[f.WQ = 7703] = "EME_GENERATEREQUEST_FAILED";
                        f[f.TCa = 7704] = "EME_UPDATE_FAILED";
                        f[f.q7b = 7705] = "EME_KEYSESSION_ERROR";
                        f[f.QCa = 7706] = "EME_KEYMESSAGE_EMPTY";
                        f[f.lhb = 7707] = "EME_REMOVE_FAILED";
                        f[f.jhb = 7708] = "EME_LOAD_FAILED";
                        f[f.LCa = 7709] = "EME_CREATE_SESSION_FAILED";
                        f[f.Qca = 7710] = "EME_LDL_RENEWAL_ERROR";
                        f[f.OCa = 7711] = "EME_INVALID_INITDATA_DATA";
                        f[f.PCa =
                            7712] = "EME_INVALID_LICENSE_DATA";
                        f[f.ihb = 7713] = "EME_LDL_KEYSSION_ALREADY_CLOSED";
                        f[f.s7b = 7714] = "EME_MEDIAKEYS_GENERIC_ERROR";
                        f[f.KCa = 7716] = "EME_CLOSE_FAILED";
                        f[f.RCa = 7717] = "EME_SESSION_CLOSED_UNEXPECTEDLY";
                        f[f.nhb = 7718] = "EME_SET_SERVER_CERTIFICATE";
                        f[f.vkb = 7800] = "PLAYDATA_STORE_FAILURE";
                        f[f.K9b = 7801] = "PLAYDATA_SEND_FAILURE";
                        f[f.DQ = 7900] = "BRANCH_PLAY_FAILURE";
                        f[f.EQ = 7901] = "BRANCH_QUEUE_FAILURE";
                        f[f.gAa = 7902] = "BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";
                        f[f.Ieb = 7903] = "BRANCH_CHOICE_MAP_MISSING";
                        f[f.l9b =
                            8E3] = "NRDP_REGISTRATION_ACTIVATE_FAILURE";
                        f[f.Ijb = 8010] = "NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";
                        f[f.hkb = 8100] = "PBO_EVENTLOOKUP_FAILURE"
                    })(a = b.N || (b.N = {}));
                    var c;
                    (function(f) {
                        f[f.wl = 1001] = "UNKNOWN";
                        f[f.ci = 1003] = "EXCEPTION";
                        f[f.vib = 1004] = "INVALID_DI";
                        f[f.deb = 1011] = "ASYNCLOAD_EXCEPTION";
                        f[f.eeb = 1013] = "ASYNCLOAD_TIMEOUT";
                        f[f.T5b = 1015] = "ASYNCLOAD_BADCONFIG";
                        f[f.beb = 1016] = "ASYNCLOAD_COMPONENT_DUPLICATE";
                        f[f.ceb = 1017] = "ASYNCLOAD_COMPONENT_MISSING";
                        f[f.uR = 1101] = "HTTP_UNKNOWN";
                        f[f.kda = 1102] = "HTTP_XHR";
                        f[f.rR =
                            1103] = "HTTP_PROTOCOL";
                        f[f.qR = 1104] = "HTTP_OFFLINE";
                        f[f.tR = 1105] = "HTTP_TIMEOUT";
                        f[f.XE = 1106] = "HTTP_READTIMEOUT";
                        f[f.JB = 1107] = "HTTP_ABORT";
                        f[f.jEa = 1108] = "HTTP_PARSE";
                        f[f.fEa = 1110] = "HTTP_BAD_URL";
                        f[f.sR = 1111] = "HTTP_PROXY";
                        f[f.Sda = 1203] = "MSE_AUDIO";
                        f[f.Tda = 1204] = "MSE_VIDEO";
                        f[f.fjb = 1250] = "MSE_MEDIA_ERR_BASE";
                        f[f.M8b = 1251] = "MSE_MEDIA_ERR_ABORTED";
                        f[f.P8b = 1252] = "MSE_MEDIA_ERR_NETWORK";
                        f[f.N8b = 1253] = "MSE_MEDIA_ERR_DECODE";
                        f[f.Q8b = 1254] = "MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";
                        f[f.O8b = 1255] = "MSE_MEDIA_ERR_ENCRYPTED";
                        f[f.fK = 1260] = "EME_MEDIA_KEYERR_BASE";
                        f[f.y7b = 1261] = "EME_MEDIA_KEYERR_UNKNOWN";
                        f[f.t7b = 1262] = "EME_MEDIA_KEYERR_CLIENT";
                        f[f.x7b = 1263] = "EME_MEDIA_KEYERR_SERVICE";
                        f[f.w7b = 1264] = "EME_MEDIA_KEYERR_OUTPUT";
                        f[f.v7b = 1265] = "EME_MEDIA_KEYERR_HARDWARECHANGE";
                        f[f.u7b = 1266] = "EME_MEDIA_KEYERR_DOMAIN";
                        f[f.z7b = 1269] = "EME_MEDIA_UNAVAILABLE_CDM";
                        f[f.ghb = 1270] = "EME_INTERNAL_ERROR";
                        f[f.dhb = 1271] = "EME_CLOSED_BY_APPLICATION";
                        f[f.khb = 1272] = "EME_RELEASE_ACKNOWLEDGED";
                        f[f.NCa = 1273] = "EME_HARDWARE_CONTEXT_RESET";
                        f[f.mhb = 1274] =
                            "EME_RESOURCE_EVICTED";
                        f[f.fhb = 1280] = "EME_ERROR_NODRMSESSSION";
                        f[f.ehb = 1281] = "EME_ERROR_NODRMREQUESTS";
                        f[f.o7b = 1282] = "EME_ERROR_INDIV_FAILED";
                        f[f.p7b = 1283] = "EME_ERROR_UNSUPPORTED_MESSAGETYPE";
                        f[f.B7b = 1284] = "EME_TIMEOUT_MESSAGE";
                        f[f.A7b = 1285] = "EME_TIMEOUT_KEYCHANGE";
                        f[f.SCa = 1286] = "EME_UNDEFINED_DATA";
                        f[f.eK = 1287] = "EME_INVALID_STATE";
                        f[f.r7b = 1288] = "EME_LDL_DOES_NOT_SUPPORT_PRK";
                        f[f.MCa = 1289] = "EME_EMPTY_DATA";
                        f[f.XQ = 1290] = "EME_TIMEOUT";
                        f[f.b9b = 1303] = "NCCP_METHOD_NOT_SUPPORTED";
                        f[f.e9b = 1305] = "NCCP_PARSEXML";
                        f[f.Skb = 1309] = "PROCESS_EXCEPTION";
                        f[f.d9b = 1311] = "NCCP_NETFLIXID_MISSING";
                        f[f.f9b = 1312] = "NCCP_SECURENETFLIXID_MISSING";
                        f[f.Z8b = 1313] = "NCCP_HMAC_MISSING";
                        f[f.Y8b = 1315] = "NCCP_HMAC_MISMATCH";
                        f[f.X8b = 1317] = "NCCP_HMAC_FAILED";
                        f[f.W8b = 1321] = "NCCP_CLIENTTIME_MISSING";
                        f[f.V8b = 1323] = "NCCP_CLIENTTIME_MISMATCH";
                        f[f.LDa = 1331] = "GENERIC";
                        f[f.yjb = 1333] = "NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";
                        f[f.zjb = 1337] = "NCCP_PROTOCOL_REDIRECT_LOOP";
                        f[f.g9b = 1341] = "NCCP_TRANSACTION";
                        f[f.$8b = 1343] = "NCCP_INVALID_DRMTYPE";
                        f[f.a9b =
                            1344] = "NCCP_INVALID_LICENCE_RESPONSE";
                        f[f.c9b = 1345] = "NCCP_MISSING_PAYLOAD";
                        f[f.b$b = 1346] = "PROTOCOL_NOT_INITIALIZED";
                        f[f.a$b = 1347] = "PROTOCOL_MISSING_FIELD";
                        f[f.$9b = 1348] = "PROTOCOL_MISMATCHED_PROFILEGUID";
                        f[f.oy = 1402] = "STORAGE_NODATA";
                        f[f.y$b = 1403] = "STORAGE_EXCEPTION";
                        f[f.G$b = 1405] = "STORAGE_QUOTA_NOT_GRANTED";
                        f[f.H$b = 1407] = "STORAGE_QUOTA_TO_SMALL";
                        f[f.oLa = 1411] = "STORAGE_LOAD_ERROR";
                        f[f.Klb = 1412] = "STORAGE_LOAD_TIMEOUT";
                        f[f.pLa = 1414] = "STORAGE_SAVE_ERROR";
                        f[f.Nlb = 1415] = "STORAGE_SAVE_TIMEOUT";
                        f[f.nfa = 1417] =
                            "STORAGE_DELETE_ERROR";
                        f[f.nLa = 1418] = "STORAGE_DELETE_TIMEOUT";
                        f[f.F$b = 1421] = "STORAGE_FS_REQUESTFILESYSTEM";
                        f[f.C$b = 1423] = "STORAGE_FS_GETDIRECTORY";
                        f[f.E$b = 1425] = "STORAGE_FS_READENTRIES";
                        f[f.z$b = 1427] = "STORAGE_FS_FILEREAD";
                        f[f.B$b = 1429] = "STORAGE_FS_FILEWRITE";
                        f[f.A$b = 1431] = "STORAGE_FS_FILEREMOVE";
                        f[f.D$b = 1432] = "STORAGE_FS_PARSEJSON";
                        f[f.Mlb = 1451] = "STORAGE_NO_LOCALSTORAGE";
                        f[f.Llb = 1453] = "STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";
                        f[f.r9b = 1501] = "NTBA_UNKNOWN";
                        f[f.q9b = 1502] = "NTBA_EXCEPTION";
                        f[f.m9b = 1504] =
                            "NTBA_CRYPTO_KEY";
                        f[f.o9b = 1506] = "NTBA_CRYPTO_OPERATION";
                        f[f.n9b = 1508] = "NTBA_CRYPTO_KEYEXCHANGE";
                        f[f.p9b = 1515] = "NTBA_DECRYPT_UNSUPPORTED";
                        f[f.TBa = 1553] = "DEVICE_NO_ESN";
                        f[f.SBa = 1555] = "DEVICE_ERROR_GETTING_ESN";
                        f[f.uhb = 1701] = "FORMAT_UNKNOWN";
                        f[f.yDa = 1713] = "FORMAT_XML";
                        f[f.vhb = 1715] = "FORMAT_XML_CONTENT";
                        f[f.thb = 1721] = "FORMAT_BASE64";
                        f[f.t0 = 1723] = "FORMAT_DFXP";
                        f[f.Ohb = 1801] = "INDEXDB_OPEN_EXCEPTION";
                        f[f.FEa = 1802] = "INDEXDB_NOT_SUPPORTED";
                        f[f.Nhb = 1803] = "INDEXDB_OPEN_ERROR";
                        f[f.GEa = 1804] = "INDEXDB_OPEN_NULL";
                        f[f.Mhb = 1805] = "INDEXDB_OPEN_BLOCKED";
                        f[f.Phb = 1807] = "INDEXDB_OPEN_TIMEOUT";
                        f[f.Lhb = 1808] = "INDEXDB_INVALID_STORE_STATE";
                        f[f.M0 = 1809] = "INDEXDB_ACCESS_EXCEPTION";
                        f[f.pjb = 1901] = "MSL_UNKNOWN";
                        f[f.ijb = 1911] = "MSL_INIT_NO_MSL";
                        f[f.DGa = 1913] = "MSL_INIT_ERROR";
                        f[f.jjb = 1915] = "MSL_INIT_NO_WEBCRYPTO";
                        f[f.gjb = 1931] = "MSL_ERROR";
                        f[f.ojb = 1933] = "MSL_REQUEST_TIMEOUT";
                        f[f.njb = 1934] = "MSL_READ_TIMEOUT";
                        f[f.hjb = 1935] = "MSL_ERROR_HEADER";
                        f[f.R8b = 1936] = "MSL_ERROR_ENVELOPE";
                        f[f.S8b = 1937] = "MSL_ERROR_MISSING_PAYLOAD";
                        f[f.CGa = 1957] =
                            "MSL_ERROR_REAUTH";
                        f[f.Mfa = 2103] = "WEBCRYPTO_MISSING";
                        f[f.nmb = 2105] = "WEBCRYPTOKEYS_MISSING";
                        f[f.omb = 2107] = "WEBCRYPTO_IFRAME_LOAD_ERROR";
                        f[f.E6b = 2200] = "CACHEDDATA_PARSEJSON";
                        f[f.EAa = 2201] = "CACHEDDATA_UNSUPPORTED_VERSION";
                        f[f.F6b = 2202] = "CACHEDDATA_UPGRADE_FAILED";
                        f[f.FB = 2203] = "CACHEDDATA_INVALID_FORMAT";
                        f[f.R5b = 3E3] = "ACCOUNT_CHANGE_INFLIGHT";
                        f[f.S5b = 3001] = "ACCOUNT_INVALID";
                        f[f.g7b = 3100] = "DOWNLOADED_MANIFEST_UNAVAILABLE";
                        f[f.f7b = 3101] = "DOWNLOADED_MANIFEST_PARSE_EXCEPTION";
                        f[f.d7b = 3200] = "DOWNLOADED_LICENSE_UNAVAILABLE";
                        f[f.e7b = 3201] = "DOWNLOADED_LICENSE_UNUSEABLE";
                        f[f.c7b = 3202] = "DOWNLOADED_LICENSE_EXCEPTION";
                        f[f.I$b = 3300] = "STORAGE_VA_LOAD_ERROR";
                        f[f.J$b = 3301] = "STORAGE_VA_LOAD_TIMEOUT";
                        f[f.M$b = 3302] = "STORAGE_VA_SAVE_ERROR";
                        f[f.N$b = 3303] = "STORAGE_VA_SAVE_TIMEOUT";
                        f[f.K$b = 3304] = "STORAGE_VA_REMOVE_ERROR";
                        f[f.L$b = 3305] = "STORAGE_VA_REMOVE_TIMEOUT";
                        f[f.mea = 3077] = "PBO_DEVICE_EOL_WARNING";
                        f[f.iIa = 3078] = "PBO_DEVICE_EOL_FINAL";
                        f[f.lIa = 3100] = "PBO_DEVICE_RESET";
                        f[f.kIa = 3101] = "PBO_DEVICE_RELOAD";
                        f[f.jIa = 3102] = "PBO_DEVICE_EXIT";
                        f[f.skb = 5003] = "PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";
                        f[f.ckb = 5005] = "PBO_ACCOUNT_ON_HOLD";
                        f[f.gkb = 5006] = "PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";
                        f[f.mIa = 5007] = "PBO_INCORRECT_PIN";
                        f[f.pkb = 5008] = "PBO_MOBILE_ONLY";
                        f[f.tkb = 5009] = "PBO_VIEWABLE_RESTRICTED_BY_PROFILE";
                        f[f.lkb = 5033] = "PBO_INSUFFICIENT_MATURITY_LEVEL";
                        f[f.ekb = 5059] = "PBO_BLACKLISTED_IP";
                        f[f.dkb = 5070] = "PBO_AGE_VERIFICATION_REQUIRED";
                        f[f.fkb = 5080] = "PBO_CHOICE_MAP_ERROR";
                        f[f.qkb = 5090] = "PBO_RESTRICTED_TO_TESTERS";
                        f[f.nkb = 5091] = "PBO_MALFORMED_REQUEST";
                        f[f.mkb = 5092] = "PBO_INVALID_SERVICE_VERSION";
                        f[f.okb = 5093] = "PBO_MDX_INVALID_CTICKET";
                        f[f.kkb = 5094] = "PBO_FREE_PREVIEW_ENDED";
                        f[f.rkb = 5095] = "PBO_STREAMING_LOCATION_DISALLOWED";
                        f[f.jkb = 5096] = "PBO_EXTRA_MEMBER_STREAM_HOLD";
                        f[f.ikb = 5097] = "PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";
                        f[f.Yfb = 5100] = "DECODER_TIMEOUT_BUFFERING";
                        f[f.$fb = 5101] = "DECODER_TIMEOUT_PRESENTING";
                        f[f.Zfb = 5102] = "DECODER_TIMEOUT_PLAYING";
                        f[f.Pgb = 5200] = "DOWNLOADER_IO_ERROR";
                        f[f.fAa = 5300] = "BRANCHING_SEGMENT_NOTFOUND";
                        f[f.Eeb = 5301] = "BRANCHING_PRESENTER_UNINITIALIZED";
                        f[f.i6b = 5302] = "BRANCHING_SEGMENT_STREAMING_NOT_STARTED";
                        f[f.kca = 5303] = "BRANCHING_ASE_UNINITIALIZED";
                        f[f.e6b = 5304] = "BRANCHING_ASE_FAILURE";
                        f[f.f6b = 5305] = "BRANCHING_MOMENT_FAILURE";
                        f[f.Ceb = 5306] = "BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";
                        f[f.h6b = 5307] = "BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";
                        f[f.Feb = 5308] = "BRANCHING_SEEK_THREW";
                        f[f.g6b = 5309] = "BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";
                        f[f.Deb = 5310] = "BRANCHING_PLAY_TIMEDOUT";
                        f[f.Geb = 5311] = "BRANCHING_SEGMENT_ALREADYQUEUED";
                        f[f.Heb = 5312] = "BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";
                        f[f.Olb = 5500] = "STUDIO_MUXED_MANIFEST";
                        f[f.Oda = 5600] = "MANIFEST_HYDRATION_FAILURE";
                        f[f.leb = 5700] = "AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";
                        f[f.meb = 5701] = "AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND"
                    })(c = b.M || (b.M = {}));
                    (function(f) {
                        f[f.t6b = 5003] = "BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";
                        f[f.j6b = 5005] = "BR_ACCOUNT_ON_HOLD";
                        f[f.n6b = 5006] = "BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";
                        f[f.q6b = 5033] = "BR_INSUFFICIENT_MATURITY_LEVEL";
                        f[f.m6b = 5059] = "BR_BLACKLISTED_IP";
                        f[f.k6b = 5070] = "BR_AGE_VERIFICATION_REQUIRED";
                        f[f.r6b = 2204] = "BR_PLAYBACK_CONTEXT_CREATION";
                        f[f.o6b = 2205] = "BR_DRM_LICENSE_AQUISITION";
                        f[f.s6b = 2206] = "BR_PLAYBACK_SERVICE_ERROR";
                        f[f.p6b = 2207] = "BR_ENDPOINT_ERROR";
                        f[f.l6b = 2208] = "BR_AUTHORIZATION_ERROR"
                    })(b.mDa || (b.mDa = {}));
                    b.K0 = {
                        Peb: "400",
                        hac: "401",
                        yIa: "413"
                    };
                    b.W0 = {
                        Z7b: 1,
                        aac: 2,
                        E7b: 3,
                        gac: 4,
                        C8b: 5,
                        D7b: 6,
                        Ffa: 7,
                        G7b: 8,
                        n$b: 9,
                        v$b: 10
                    };
                    (function(f) {
                        f[f.Zjb = 21] = "PAIRING_CONTROLLER_CTICKET_EXPIRED";
                        f[f.$jb = 98] = "PAIRING_UNKNOWN_ERROR"
                    })(b.U0 || (b.U0 = {}));
                    b.kDa = function(f) {
                        return 7100 <= f && 7200 > f
                    };
                    b.Tca = function(f,
                        k) {
                        return f == a.h1 || f == a.L0 || f == a.i1 && 432E5 <= k
                    };
                    b.nDa = function(f) {
                        return 1100 <= f && 1199 >= f
                    };
                    b.oDa = function(f) {
                        return 1300 <= f && 1399 >= f
                    };
                    b.rhb = function(f) {
                        return 1900 <= f && 1999 >= f
                    };
                    b.Uca = function(f, k) {
                        return 1 <= f && 9 >= f ? k + f : k
                    };
                    b.pDa = function(f) {
                        return (0, b.Uca)(f, c.fjb)
                    };
                    b.qDa = function(f) {
                        return (0, b.Uca)(f, c.fK)
                    };
                    b.Gv = function(f) {
                        var k = {},
                            m = f.errorExternalCode || f.Te,
                            g = f.errorDetails || f.yb;
                        k.ErrorSubCode = f.errorSubCode || f.ma || c.wl;
                        m && (k.ErrorExternalCode = m);
                        g && (k.ErrorDetails = g);
                        return k
                    }}, function (r, b, a) {
                    function c() {
                        return k.iS.apply(this,
                            arguments) || this
                    } function f(m) { return new k.kt(m, b.ja) } Object.defineProperty(b, "__esModule", { value: !0 }); b.cb = b.vEa = b.aea = b.Zl = b.ja = b.kF = b.timestamp = b.cLb = b.Z8 = b.vg = b.Nc = b.v7a = b.PQb = b.amb = void 0; var k = a(318); qa(c, k.iS); b.amb = c; b.PQb = function (m) { return new k.kt(m, b.kF) }; b.v7a = function (m) { return new k.kt(m * b.Zl.wg, b.kF) }; b.Nc = f; b.vg = function (m) { return new k.kt(m, b.Zl) }; b.Z8 = function (m) { return new k.kt(m, b.aea) }; b.cLb = function (m) { return new k.kt(m, b.vEa) }; b.timestamp = function (m) { return f(m) }; b.kF = new c(1,
                        "\u03bcs"); b.ja = new c(1E3, "ms", b.kF); b.Zl = new c(1E3 * b.ja.wg, "s", b.kF); b.aea = new c(60 * b.Zl.wg, "min", b.kF); b.vEa = new c(60 * b.aea.wg, "hr", b.kF); b.cb = f(0)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.assert = void 0; var c = a(2), f = a(141), k = function (m) { function g() { return null !== m && m.apply(this, arguments) || this } c.__extends(g, m); return g }(Error); b.assert = function (m, g) {
                        if (!m) try { throw new k(g || "Assertion failed"); } catch (d) {
                            throw f.Zm.I.error("Assertion failed", { value: m, message: g, stack: d.stack }),
                            d;
                        }
                    }
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.default = { wW: function (a) { for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c]) }, reset: function () { } } }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.VQ = b.ub = b.Ida = b.kh = void 0; r = b.kh || (b.kh = {}); r[r.shb = 0] = "FATAL"; r[r.Rf = 1] = "ERROR"; r[r.Lfa = 2] = "WARN"; r[r.pda = 3] = "INFO"; r[r.oMa = 4] = "TRACE"; r[r.ia = 5] = "DEBUG"; b.Ida = "LogFieldBuilderFactorySymbol"; b.ub = "LoggerFactorySymbol"; b.VQ = {} }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.ta = b.Tea = b.HV = b.Oh = b.vh = b.log = b.bg = b.$na = b.oSa = b.$y = b.pSa = b.ic = b.Eub = b.xja = b.Cub = b.Dub = b.tj = b.bdb = b.$ya = b.Zh = b.Oc = b.Ba = void 0; var c = a(199); r = a(7); var f = a(30), k = a(112), m = a(111), g = a(41), d = a(28), h = a(123), l = a(35); a = a(49); b.Ba = c.mc.get(l.ih); b.Oc = c.mc.get(a.Uj); b.Zh = c.mc.get(k.JF); b.$ya = b.Zh.encode.bind(b.Zh); b.bdb = b.Zh.decode.bind(b.Zh); b.tj = c.mc.get(m.ME); b.Dub = b.tj.encode.bind(b.tj); b.Cub = b.tj.decode.bind(b.tj); b.xja = b.tj.DV.bind(b.tj); b.Eub = b.tj.Hbb.bind(b.tj); b.ic = c.mc.get(g.kj);
                    b.pSa = function (n) { n = (0, d.Zf)(n) ? (0, b.bdb)(n) : n; return b.ic.encode(n) }; b.$y = b.ic.decode.bind(b.ic); b.oSa = function (n) { return (0, b.$ya)((0, b.$y)(n)) }; b.$na = function () { return c.mc.get(f.UE) }; b.bg = c.mc.get(r.ub); b.log = b.bg.lb("General"); b.vh = function (n, q) { return b.bg.lb(n, void 0, q) }; b.Oh = function (n, q, p) { return b.bg.lb(q, n, p) }; b.HV = function (n, q, p, u) { return b.bg.lb(n, void 0, u, q, p) }; b.Tea = function (n, q, p) { return c.mc.get(h.BK)(n, q, p).BJ() }; b.ta = c.mc
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.VR = b.MDa = b.sNa = void 0; r = a(2); r.__exportStar(a(356), b); r.__exportStar(a(117), b); r.__exportStar(a(22), b); r.__exportStar(a(752), b); r.__exportStar(a(753), b); r.__exportStar(a(754), b); r.__exportStar(a(755), b); r.__exportStar(a(756), b); r.__exportStar(a(757), b); r.__exportStar(a(758), b); var c = r.__importDefault(a(759)); b.sNa = c.default; c = r.__importDefault(a(760)); b.MDa = c.default; a = r.__importDefault(a(365)); b.VR = a.default
                }, function (r) {
                    var b = {
                        Ea: function (a) { return "number" === typeof a }, Ph: function (a) {
                            return "object" ===
                                typeof a
                        }, Zf: function (a) { return "string" === typeof a }, la: function (a) { return "undefined" === typeof a }, Zcc: function (a) { return "boolean" === typeof a }, fd: function (a) { return "function" === typeof a }, Lb: function (a) { return null === a }, isArray: function (a) { return "[object Array]" === Object.prototype.toString.call(a) }, isFinite: function (a) { return isFinite(a) && !isNaN(parseFloat(a)) }, has: function (a, c) { return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a, c) }, kUb: function (a) {
                            var c, f = []; if (!b.Ph(a)) throw new TypeError("Object.pairs called on non-object");
                            for (c in a) a.hasOwnProperty(c) && f.push([c, a[c]]); return f
                        }
                    }; b.sf = b.forEach = function (a, c, f) { if (null === a || "undefined" === typeof a) return a; if (a.length === +a.length) for (var k = 0, m = a.length; k < m; k++)c.call(f, a[k], k, a); else for (k in a) b.has(a, k) && c.call(f, a[k], k, a); return a }; r.exports = b
                }, function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.yra = b.localStorage = b.ULb = b.indexedDB = b.Y0 = b.RC = b.sF = b.rF = b.URL = b.a1 = b.Z0 = b.SGa = b.T0 = b.hF = b.iF = b.Cp = b.oo = b.lj = b.S0 = b.MB = b.gMa = b.$J = b.xF = b.pop = b.forEach = b.filter =
                        b.reduce = b.every = b.slice = b.map = b.sort = b.Yy = b.Cjb = b.Be = b.Lv = b.FHa = b.Mv = b.$0 = b.PB = void 0;
                    r = ub;
                    b.ie = r.navigator;
                    b.PB = null === b.ie || void 0 === b.ie ? void 0 : b.ie.userAgent;
                    b.$0 = r.location;
                    b.Mv = r.screen;
                    b.FHa = r.devicePixelRatio;
                    b.Lv = r.performance;
                    b.Be = r.document;
                    b.Cjb = b.Be.documentElement;
                    b.Yy = Array.prototype;
                    b.sort = b.Yy.sort;
                    b.map = b.Yy.map;
                    b.slice = b.Yy.slice;
                    b.every = b.Yy.every;
                    b.reduce = b.Yy.reduce;
                    b.filter = b.Yy.filter;
                    b.forEach = b.Yy.forEach;
                    b.pop = b.Yy.pop;
                    b.xF = Object.create;
                    b.$J = Date.now;
                    b.gMa = String.fromCharCode;
                    b.MB = Math.floor;
                    b.S0 = Math.ceil;
                    b.lj = Math.round;
                    b.oo = Math.max;
                    b.Cp = Math.min;
                    b.iF = Math.random;
                    b.hF = Math.abs;
                    b.T0 = Math.pow;
                    b.SGa = Math.sqrt;
                    b.Z0 = r.escape;
                    b.a1 = r.unescape;
                    b.URL = r.URL || r.webkitURL;
                    b.rF = r.MediaSource || r.WebKitMediaSource;
                    b.sF = r.webkitCrypto || r.msCrypto || r.crypto;
                    b.RC = b.sF && (b.sF.webkitSubtle || b.sF.subtle);
                    b.Y0 = r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;
                    try {
                        b.indexedDB = r.indexedDB
                    } catch (a) {
                        b.ULb = a || "noex"
                    }
                    try {
                        b.localStorage = r.localStorage
                    } catch (a) {
                        b.yra = a || "noex"
                    }
                },
                function(r, b) {
                    Object.defineProperty(b,
                        "__esModule", {
                            value: !0
                        });
                    b.vK = b.P0 = b.$eb = b.Veb = b.Xeb = b.Yeb = b.tAa = b.Ueb = b.Web = b.sAa = b.Zeb = b.ffb = b.dfb = b.efb = b.cfb = b.$gb = b.Zgb = b.Ygb = b.Vib = b.Wib = b.eF = b.yGa = b.zGa = b.Q0 = b.DCa = b.bhb = b.Nca = b.o0 = b.Qjb = b.Elb = b.uGa = b.Oeb = b.PBa = b.g1 = b.wF = b.f1 = b.tGa = b.cy = b.Neb = b.eAa = b.Kib = b.jmb = b.Uib = b.Tib = b.ylb = b.xlb = b.Xl = b.Yd = b.MKa = b.Sj = void 0;
                    b.ffa = void 0;
                    b.Sj = function() {};
                    b.MKa = function() {
                        return !0
                    };
                    b.Yd = {
                        ga: !0
                    };
                    b.Xl = 1E3;
                    b.xlb = 86400;
                    b.ylb = 604800;
                    b.Tib = 1E4;
                    b.Uib = 1E7;
                    b.jmb = 1.5;
                    b.Kib = .128;
                    b.eAa = 7.8125;
                    b.Neb = 128;
                    b.cy = 145152E5;
                    b.tGa = 1E5;
                    b.f1 = "$netflix$player$order";
                    b.wF = -1;
                    b.g1 = 1;
                    b.PBa = ["en-US"];
                    b.Oeb = 8;
                    b.uGa = 65535;
                    b.Elb = 65536;
                    b.Qjb = Number.MAX_VALUE;
                    b.o0 = "playready";
                    b.Nca = "widevine";
                    b.bhb = "fps";
                    b.DCa = "clearkey";
                    b.Q0 = 'audio/mp4; codecs="mp4a.40.5"';
                    b.zGa = 'audio/mp4; codecs="mp4a.40.42"';
                    b.yGa = 'audio/mp4; codecs="mp4a.a6"';
                    b.eF = 'video/mp4; codecs="avc1.640028"';
                    b.Wib = 'video/mp4; codecs="hev1.2.6.L153.B0"';
                    b.Vib = 'video/mp4; codecs="dvhe.01000000"';
                    b.Ygb = "9A04F079-9840-4286-AB92-E65BE0885F95";
                    b.Zgb = "29701FE4-3CC7-4A34-8C5B-AE90C7439A47";
                    b.$gb = "EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";
                    b.cfb = ["4E657466-6C69-7850-6966-665374726D21", "4E657466-6C69-7848-6165-6465722E7632"];
                    b.efb = "A2394F52-5A9B-4F14-A244-6C427C648DF4";
                    b.dfb = "4E657466-6C69-7846-7261-6D6552617465";
                    b.ffb = "8974DBCE-7BE7-4C51-84F9-7148F9882554";
                    b.Zeb = "mp4a";
                    b.sAa = "enca";
                    b.Web = "ec-3";
                    b.Ueb = "avc1";
                    b.tAa = "encv";
                    b.Yeb = "hvcC";
                    b.Xeb = "hev1";
                    b.Veb = "dvhe";
                    b.$eb = "vp09";
                    b.P0 = 0;
                    b.vK = 1;
                    b.ffa = "position:relative;width:100%;height:100%;overflow:hidden"
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.gr = { jbc: "casttv", tka: "chrome", lbc: "chromecast", En: "edge", qWa: "edgeoss", QXa: "firefox", Rcc: "ie", opera: "opera", C9a: "safari", m2b: "tesla" }; b.yF = { uRa: "android", uMb: "ios", Owb: "chromeos", uOb: "linux", tPb: "mac", Ddb: "windows" }; b.mda = { Hxb: "computer", phone: "phone", b2b: "tablet" }; b.cd = "ConfigSymbol"
                }, function(r, b, a) {
                    function c(D) {
                        return (D = b.config.B3b[f(D)]) ? D : {}
                    }
                
                    function f(D) {
                        if (D) return 0 <= D.indexOf("billboard") ? "billboard" : 0 <= D.toLowerCase().indexOf("preplay") ? "preplay" : 0 <= D.indexOf("embedded") ?
                            "embedded" : 0 <= D.indexOf("content-sampling") ? "content-sampling" : 0 <= D.indexOf("video-merch-bob-horizontal") ? "video-merch-bob-horizontal" : 0 <= D.indexOf("mini-modal-horizontal") ? "mini-modal-horizontal" : 0 <= D.indexOf("standard") ? "standard" : 0 <= D.indexOf("branching") ? "branching" : D
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Lxb = b.Mxb = b.$Ta = b.Tka = b.Kxb = b.aUa = b.Jxb = b.bUa = b.Ska = b.config = void 0;
                    var k = a(12),
                        m = a(46),
                        g = a(8),
                        d = a(34),
                        h = a(20);
                    a(28);
                    var l = a(30),
                        n = a(51),
                        q = a(24);
                    a(7);
                    var p = a(11),
                        u = a(18),
                        t = a(165),
                        w = a(52),
                        v = a(89),
                        x = a(81),
                        y = a(47),
                        z = a(4),
                        A = a(29),
                        B = a(16),
                        E = a(322);
                    b.bUa = function(D, F) {
                        function G(Ua, $a) {
                            (0, q.xe)(Ua, function(Za, cb) {
                                (0, u.fd)(cb) ? $a[Za] = cb.call(void 0, $a[Za]): (0, u.Ph)(cb) && ($a[Za] = $a[Za] || {}, G(cb, $a[Za]))
                            })
                        }
                
                        function C(Ua, $a, Za, cb) {
                            for (var Wa = [], Pa = 3; Pa < arguments.length; ++Pa) Wa[Pa - 3] = arguments[Pa];
                            return function(ha) {
                                (0, u.Mc)(ha) && (Za = ha);
                                (0, h.gb)((0, u.fd)(Ua));
                                // console.log('Configuring stuff:', $a, Za);
                                return Ua.apply(void 0, [$a, Za].concat(la(Wa)))
                            }
                        }
                
                        function H(Ua) {
                            Ua = Ua.toLowerCase();
                            T.hasOwnProperty(Ua) && (ra[Ua] = T[Ua], R[Ua] =
                                T[Ua]);
                            return Ua
                        }
                
                        function L(Ua, $a, Za) {
                            Ua = Ua.toLowerCase();
                            if (ra.hasOwnProperty(Ua)) {
                                var cb = ra[Ua];
                                try {
                                    cb = Za ? Za(cb) : cb
                                } catch (Wa) {
                                    cb = void 0
                                }
                                if (void 0 !== cb) return cb;
                                (0, h.gb)(!1);
                                g.log.error("Invalid configuration value. Name: " + Ua)
                            }
                            return $a
                        }
                
                        function N(Ua, $a, Za, cb) {
                            return L(Ua, $a, function(Wa) {
                                (0, u.Zf)(Wa) && (Wa = (0, q.Fd)(Wa));
                                if ((0, u.y1a)(Wa, Za, cb)) return Wa
                            })
                        }
                
                        function J(Ua, $a, Za, cb) {
                            return L(Ua, $a, function(Wa) {
                                (0, u.Zf)(Wa) && (Wa = (0, q.Fd)(Wa));
                                if ((0, u.lA)(Wa, Za, cb)) return Wa
                            })
                        }
                
                        function Q(Ua, $a, Za, cb) {
                            return L(Ua,
                                $a,
                                function(Wa) {
                                    (0, u.Zf)(Wa) && (Wa = parseFloat(Wa));
                                    if ((0, u.Ea)(Wa, Za, cb)) return Wa
                                })
                        }
                
                        function K(Ua, $a, Za) {
                            return L(Ua, $a, function(cb) {
                                if (Za ? Za.test(cb) : (0, u.Zf)(cb)) return cb
                            })
                        }
                
                        function I(Ua, $a) {
                            return L(Ua, $a, function(Za) {
                                if ("true" == Za || !0 === Za) return !0;
                                if ("false" == Za || !1 === Za) return !1
                            })
                        }
                
                        function M(Ua, $a) {
                            return L(Ua, $a, function(Za) {
                                if ((0, u.Zf)(Za)) return JSON.parse((0, p.a1)(Za));
                                if ((0, u.Ph)(Za)) return Za
                            })
                        }
                
                        function O(Ua, $a, Za, cb, Wa, Pa) {
                            Ua = Ua.toLowerCase();
                            var ha;
                            ra.hasOwnProperty(Ua) && (ha = ra[Ua]);
                            if (!(0, u.Mc)(ha)) return $a;
                            if ((0, u.Zf)(ha))
                                if (ha[0] !== Za) ha = cb(ha);
                                else try {
                                    ha = JSON.parse((0, p.a1)(ha))
                                } catch (pa) {
                                    ha = void 0
                                }
                            if (void 0 === ha) return $a;
                            for (Ua = 0; Ua < Wa.length; Ua++)
                                if (!Wa[Ua](ha)) return $a;
                            return Pa ? Pa(ha) : ha
                        }
                
                        function P(Ua, $a, Za, cb, Wa) {
                            return O(Ua, $a, "[", function(Pa) {
                                Pa = Pa.split("|");
                                for (var ha = Pa.length; ha--;) Pa[ha] = (0, q.Fd)(Pa[ha]);
                                return Pa
                            }, [function(Pa) {
                                return (0, u.isArray)(Pa) && 0 < Pa.length
                            }, function(Pa) {
                                for (var ha = Pa.length; ha--;)
                                    if (!(0, u.lA)(Pa[ha], Za, cb)) return !1;
                                return !0
                            }, function(Pa) {
                                return void 0 ===
                                    Wa || Pa.length >= Wa
                            }])
                        }
                
                        function S(Ua, $a) {
                            return O(Ua, $a, "[", function(Za) {
                                Za = (0, u.isArray)(Za) ? Za : Za.split("|");
                                for (var cb = Za.length; cb--;) try {
                                    Za[cb] = JSON.parse((0, p.a1)(Za[cb]))
                                } catch (Wa) {
                                    Za = void 0;
                                    break
                                }
                                return Za
                            }, [function(Za) {
                                return (0, u.isArray)(Za) && 0 < Za.length
                            }, function(Za) {
                                for (var cb = Za.length; cb--;)
                                    if (!(0, u.Mc)(Za[cb]) || !(0, u.Ph)(Za[cb])) return !1;
                                return !0
                            }])
                        }
                
                        function U(Ua, $a) {
                            var Za = Z(Ua, []);
                            return Za && 0 < Za.length ? (0, E.q$)(Za) : S(Ua, $a)
                        }
                
                        function Z(Ua, $a, Za, cb) {
                            return O(Ua, $a, "[", function(Wa) {
                                return (0,
                                    u.isArray)(Wa) ? Wa : Wa.split("|")
                            }, [function(Wa) {
                                return (0, u.isArray)(Wa) && 0 < Wa.length
                            }, function(Wa) {
                                for (var Pa = Wa.length; Pa--;)
                                    if (Za ? !Za.test(Wa[Pa]) : !(0, u.DD)(Wa[Pa])) return !1;
                                return !0
                            }, function(Wa) {
                                return void 0 === cb || Wa.length >= cb
                            }])
                        }
                
                        function ia(Ua, $a, Za) {
                            return O(Ua, $a, "{", function(cb) {
                                var Wa = {};
                                cb = cb.split(";");
                                for (var Pa = cb.length; Pa--;) {
                                    var ha = cb[Pa],
                                        pa = ha.indexOf(":");
                                    if (0 >= pa) return;
                                    Wa[ha.substring(0, pa)] = ha.substring(pa + 1)
                                }
                                return Wa
                            }, [function(cb) {
                                    return (0, u.Ph)(cb) && 0 < Object.keys(cb).length
                                },
                                function(cb) {
                                    if (Za)
                                        for (var Wa in cb)
                                            if (!Za.test(cb[Wa])) return !1;
                                    return !0
                                }
                            ], function(cb) {
                                var Wa = {};
                                (0, q.Ub)(Wa, $a);
                                (0, q.Ub)(Wa, cb);
                                return Wa
                            })
                        }
                
                        function ya(Ua) {
                            var $a = [];
                            (0, q.xe)(Ua, function(Za, cb) {
                                try {
                                    var Wa = "videoapp" === Za.toLowerCase() ? "[object object]" : JSON.stringify(cb)
                                } catch (Pa) {
                                    Wa = "cantparse"
                                }
                                $a.push(Za + "=" + Wa)
                            });
                            return $a.join("\n")
                        }
                        var na = /^[0-9]+[%]?$/,
                            X = /^[0-9]*$/,
                            ra, T, R = {},
                            ca = g.ta.get(d.Wl),
                            ua = g.ta.get(x.Nv);
                        (function(Ua) {
                            function $a(Za) {
                                Za.split(",").forEach(function(cb) {
                                    var Wa = cb.indexOf("=");
                                    0 < Wa && (ra[cb.substring(0, Wa).toLowerCase()] = cb.substring(Wa + 1))
                                })
                            }
                            ra = {};
                            (0, q.Ub)(ra, Ua);
                            D && D.length && p.forEach.call(D, function(Za) {
                                (0, u.Zf)(Za) ? $a(Za): (0, u.Ph)(Za) && (0, q.Ub)(ra, Za, {
                                    bO: !0
                                })
                            });
                            T = (0, q.Ub)({}, (0, m.dW)(), {
                                bO: !0
                            });
                            if (Ua = (0, m.jva)().cadmiumconfig) g.log.info("Config cookie loaded", Ua), $a(Ua);
                            if (g.ta.get(A.Tj).etb || ra.istestaccount)(0, q.Ub)(ra, T), R = T
                        })(F);
                        b.config = {};
                        var aa = {
                                VDb: C(I, H("enableXHEAAC"), !1),
                                AWa: C(I, H("enableDDPlus20"), !0),
                                zWa: C(I, H("enableDDPlus"), !0),
                                uma: C(I, H("enableDDPlusAtmos"),
                                    !1),
                                CDb: C(I, H("enableLSSDH"), !0),
                                wDb: C(I, H("enableHEVC"), !1),
                                k6a: C(I, H("overrideEnableHEVC"), !1),
                                DWa: C(I, H("enableHDR"), !1),
                                j6a: C(I, H("overrideEnableHDR"), !1),
                                i6a: C(I, H("overrideEnableDV"), !1),
                                rma: C(I, H("enableAVCHigh"), ua.rma),
                                J9: C(I, H("overrideEnableAVCHigh"), ua.J9),
                                TDb: C(I, H("enableVP9"), !1),
                                l6a: C(I, H("overrideEnableVP9"), !1),
                                pDb: C(I, H("enableAV1"), !1),
                                h6a: C(I, H("overrideEnableAV1"), !1),
                                fUb: C(I, H("overrideEnableXHEAAC"), !1),
                                KDb: C(I, H("enablePRK"), !1),
                                uDb: C(I, H("enableDV"), !1),
                                xDb: C(I, H("enableHWDRM"),
                                    !1),
                                ADb: C(I, H("enableImageSubs"), !0),
                                C4b: C(I, H("useLegacySubs"), !1),
                                fM: C(U, H("audioProfiles"), ua.fM),
                                Ebc: C(I, H("disableHD"), !1),
                                RDb: C(I, H("enableUHD"), !0),
                                oba: C(J, "videoCapabilityDetectorType", l.gn.GB),
                                hja: C(J, "audioCapabilityDetectorType", l.EB.GB),
                                n_: C(U, H("videoProfiles"), ua.n_),
                                gRa: C(U, H("additionalVideoProfiles"), []),
                                xrb: C(Z, H("timedTextProfiles"), ua.vv),
                                vv: function() {
                                    return aa.xrb().filter(function(Ua) {
                                        return Ua === n.Vj.V_ ? aa.CDb() : Ua === n.Vj.qF ? aa.ADb() : !0
                                    })
                                },
                                endpoint: C(I, H("endpoint"), !1),
                                version: C(K,
                                    "version", "unknown"),
                                t$a: C(I, H("setMediaKeysEarly"), !1),
                                ySb: C(I, H("nrdpPersistCookiesToIndexDB"), !1),
                                Qcb: C(I, H("useHdcpLevelOnCast"), !1),
                                yDb: C(I, H("enableHdcp"), !1),
                                QA: C(I, H("prepareCadmium"), !1),
                                Wrb: C(I, H("acceptManifestOnPrepareItemParams"), !0),
                                HVb: C(M, "ppmconfig", {
                                    maxNumberTitlesScheduled: 1
                                }),
                                oVb: C(I, H("playerPredictionModelV2"), !0),
                                fV: C(I, H("enableLdlPrefetch"), !1),
                                HWa: C(I, H("enableMediaPrefetch"), !1),
                                EDb: C(I, H("enableManifestCache"), !0),
                                RBb: C(I, H("deleteCachedManifestOnPlayback"), !1),
                                QBb: C(I,
                                    H("deleteCachedManifestOnCreate"), !1),
                                VBb: C(I, H("deleteOtherManifestCacheOnCreate"), !1),
                                UBb: C(I, H("deleteOtherLdlCacheOnCreate"), !1),
                                wec: C(J, H("periodicPrepareLogsIntervalMilliseconds"), 36E5),
                                bWb: C(J, H("prepareManifestCacheMaxCount"), 50),
                                $Vb: C(J, H("prepareLdlCacheMaxCount"), 30),
                                y7a: C(J, H("prepareManifestExpiryMilliseconds"), 12E53),
                                aWb: C(J, H("prepareLdlExpiryMilliseconds"), 78E43),
                                VVb: C(J, H("prefetcherMaxWishlistSize"), 10),
                                UVb: C(J, H("prefetcherBudgetInBytes"), Infinity),
                                WVb: C(I, H("prefetcherOverrideItemPriority"),
                                    !0),
                                ZVb: C(K, H("prepareInsertStrategyPersistentTasks"), "append", /^(prepend|append|ignore)$/),
                                Mfc: C(M, "videoApp"),
                                wE: C(M, "storageRules"),
                                EV: C(I, "ftlEnabled", ua.EV),
                                Wpa: C(J, H("imageSubsResolution"), 0),
                                BLb: C(J, H("imageSubsMaxBuffer"), ua.O3a.$(y.hr), 0),
                                kU: C(I, H("captureBatteryStatus"), !1),
                                IGb: C(J, H("getBatteryApiTimeoutMilliseconds"), 5E33),
                                Xo: C(K, H("keySystemId"), ua.Xo),
                                n2a: C(Z, H("keySystemList"), void 0, void 0),
                                TQb: C(J, H("hdcpGlobalTimeout1"), 1E43),
                                UQb: C(J, H("hdcpGlobalTimeout2"), 1E43),
                                Mdc: C(J, H("hdcpQueryTimeout1"),
                                    1E3),
                                Ndc: C(J, H("hdcpQueryTimeout2"), 1E33),
                                t4a: C(J, H("hdcpQueryTimeout2"), 100),
                                VQb: C(I, H("microsoftHwdrmRequiresHevc"), !1),
                                Csa: C(I, H("microsoftClearLeadRequiresSwdrm"), !1),
                                QQb: C(I, H("microsoftEnableDeviceInfo"), !1),
                                RQb: C(I, H("microsoftEnableHardwareInfo"), !1),
                                SQb: C(I, H("microsoftEnableHardwareReset"), !1),
                                z4b: C(I, H("useHevcCodecForDolbyVision"), !1),
                                GDb: C(I, H("enableMediaCapabilities"), !1),
                                GVb: C(I, H("powerEfficientForVideo"), !1),
                                HDb: C(I, H("enableMediaCapabilitiesSourceBufferCheck"), !1),
                                ePb: C(I, "logMediaPipelineStatus",
                                    !0),
                                D$: C(I, H("renderDomDiagnostics"), !0),
                                Y2a: function() {
                                    return -1
                                },
                                WH: C(N, H("logDisplayMaxEntryCount"), ua.WH, -1),
                                kPb: C(N, H("logToConsoleLevel"), -1),
                                abc: C(N, H("bladerunnerCmdHistorySize"), 10),
                                gu: function() {
                                    return ca.gu
                                },
                                Dra: C(I, "logErrorIfEsnNotProvided", !0),
                                q5: C(I, "enforceSinglePlayback", ua.q5),
                                r5: C(I, "enforceSingleSession", ua.r5),
                                Fka: C(I, "closeOtherPlaybacks", !0),
                                Ntb: C(J, "asyncLoadTimeout", 15E3, 1),
                                uPb: C(J, "mainThreadMonitorPollRate", 0),
                                wSb: C(I, "nrdpAlwaysShowUIOverlay", !0),
                                zSb: C(I, "nrdpValidateSSOTokens",
                                    !0),
                                q0b: C(I, "showNrdpDebugBadging", !0),
                                nQ: function() {
                                    return ca.nQ
                                },
                                Zz: function() {
                                    return ca.Zz
                                },
                                oM: function() {
                                    return ca.oM
                                },
                                IJ: function() {
                                    return ca.IJ
                                },
                                gdb: C(J, H("verbosePlaybackInfoDenominator"), 0),
                                eP: C(I, "renderTimedText", !0),
                                IVb: C(I, "preBufferTimedText", !0),
                                KEb: C(I, "fatalOnTimedTextLoadError", !1),
                                cya: C(ia, "timedTextStyleDefaults", {}),
                                Oaa: C(ia, "timedTextStyleOverrides", {}),
                                Naa: C(ia, "timedTextFontFamilyMapping", ua.Naa || {
                                    "default": "font-family:Arial,Helvetica;font-weight:bolder"
                                }),
                                xJ: C(J, "timedTextSimpleFallbackThreshold",
                                    ua.xJ.$(y.hr)),
                                DH: C(Z, H("imscLanguageList"), ua.DH, []),
                                yla: C(K, H("customDfxpUrl")),
                                QDb: C(I, H("enableSubtitleTrackerLogging"), !1),
                                RZb: C(I, H("sendSubtitleQoeLogblobOnMidplay"), !1),
                                fka: C(P, "cdnIdWhiteList", []),
                                eka: C(P, "cdnIdBlackList", []),
                                sna: C(K, H("forceAudioTrack")),
                                HRb: C(I, "muteVolumeOnPlaybackClose", !0),
                                ASb: C(K, "nrdpVolumeControlType", "VOLUME_STREAM"),
                                wna: C(K, H("forceTimedTextTrack")),
                                hQb: C(J, H("maxRetriesTimedTextDownload"), 0),
                                B2b: C(J, H("timedTextRetryInterval"), 8E3),
                                b1b: C(K, "storageType", "idb",
                                    /^(none|fs|idb|ls)$/),
                                U2a: C(J, "lockExpiration", 1E4),
                                cPb: C(J, "lockRefresh", 3E3),
                                dwb: C(I, "captureUnhandledExceptions", !0),
                                ALb: C(I, "ignoreUnhandledExceptionDuringPlayback", !0),
                                E3b: C(I, "unhandledExceptionsArePlaybackErrors", !1),
                                gcb: C(K, "unhandledExceptionSource", ""),
                                jWb: C(I, "preserveLastFrame", !1),
                                cRb: C(J, "minBufferingTimeInMilliseconds", 4E3),
                                FWb: C(J, "progressBackwardsGraceTimeMilliseconds", 4E3),
                                GWb: C(J, "progressBackwardsMinPercent", 10),
                                Qub: C(K, H("bookmarkIgnoreBeginning"), "0", na),
                                Rub: C(K, H("bookmarkIgnoreEnd"),
                                    "5%", na),
                                Sub: C(K, H("bookmarkIgnoreEndForBranching"), "60000", na),
                                eO: C(J, "maxParallelConnections", 3),
                                Rva: C(I, "reportThroughputInLogblobs", !0),
                                gx: C(J, "minAudioMediaRequestDuration", 16E3),
                                aRb: C(J, "minAudioMediaRequestDurationBranching", 0),
                                EA: C(J, "minVideoMediaRequestDuration", 4E3),
                                iRb: C(J, "minVideoMediaRequestDurationVariableGOP", 0),
                                gRb: C(J, "minVideoMediaRequestDurationBranching", 0),
                                N8: C(J, "minAudioMediaRequestSizeBytes", 0),
                                X8: C(J, "minVideoMediaRequestSizeBytes", 0),
                                WCb: C(I, "droppedFrameRateFilterEnabled",
                                    !1),
                                XCb: C(J, "droppedFrameRateFilterMaxObservation", 60, 10, 1E3),
                                ZCb: C(function(Ua, $a, Za, cb, Wa, Pa) {
                                    return O(Ua, $a, "[", function(ha) {
                                        ha = ha.split(";");
                                        for (var pa = ha.length; pa--;) {
                                            ha[pa] = ha[pa].split("|");
                                            for (var Fa = ha[pa].length; Fa--;) ha[pa][Fa] = (0, q.Fd)(ha[pa][Fa])
                                        }
                                        return ha
                                    }, [function(ha) {
                                        return (0, u.isArray)(ha) && 0 < ha.length
                                    }, function(ha) {
                                        for (var pa = ha.length; pa-- && void 0 !== ha;) {
                                            if (!(0, u.isArray)(ha[pa])) return !1;
                                            for (var Fa = ha[pa].length; Fa--;)
                                                if (!(0, u.lA)(ha[pa][Fa], Za, cb)) return !1
                                        }
                                        return !0
                                    }, function(ha) {
                                        if (void 0 !==
                                            Wa)
                                            for (var pa = ha.length; pa--;)
                                                if (Wa !== ha[pa].length) return !1;
                                        return !0
                                    }, function(ha) {
                                        return void 0 === Pa || ha.length >= Pa
                                    }])
                                }, "droppedFrameRateFilterPolicy", [
                                    [3, 15],
                                    [6, 9],
                                    [9, 2],
                                    [15, 1]
                                ], void 0, void 0, 2, 0),
                                Pbc: C(I, "droppedFrameRateFilterWithoutRebufferEnabled", !0),
                                YCb: C(J, "droppedFrameRateFilterMinHeight", 384),
                                $Cb: C(P, "droppedFramesPercentilesList", []),
                                WQb: C(I, "microsoftScreenSizeFilterEnabled", !1),
                                QNb: C(I, "keyStatusFilterEnabled", !1),
                                a0a: C(J, "hdcpEngagementWaitTime", 0),
                                A3b: C(I, "uiLabelFilterEnabled", !0),
                                z3b: C(M, "uiLabelFilter", {}),
                                yVa: C(J, H("defaultVolume"), 100, 0, 100),
                                jsa: C(J, H("maxPlaybackRate"), 2, 0, 16),
                                PVa: C(I, "disableVideoRightClickMenu", !1),
                                S8: C(J, "minDecoderBufferMilliseconds", 1E3, 0, k.cy),
                                wI: C(J, "optimalDecoderBufferMilliseconds", 5E3, 0, k.cy),
                                X5a: C(J, "optimalDecoderBufferMillisecondsBranching", 3E3, 0, k.cy),
                                RD: C(J, "minimumTimeBeforeBranchDecision", 3E3, 0, k.cy),
                                G4a: C(J, "minimumTimeBeforeDelayedSeekToQueuedSegment", 500, 0, k.cy),
                                MD: C(J, "maxDecoderBufferMilliseconds", ua.MD.$(z.ja), 0, k.cy),
                                qVa: C(J, "decoderTimeoutMilliseconds",
                                    1E4, 1),
                                f5a: C(J, "noRenderTimeoutMilliseconds", 0),
                                qCb: C(I, "disgardMediaOnAppend", !1),
                                ptb: C(I, "appendMediaBeforeInit", !1),
                                DUb: C(J, "pauseTimeoutLimitMilliseconds", 18E5),
                                Ypa: C(J, "inactivityMonitorInterval", 3E4, 0),
                                Vrb: C(P, "abrdelLogPointsSeconds", [15, 30, 60, 120], 0, void 0, 4),
                                XM: C(I, "enableTrickPlay", !1),
                                Psb: C(P, "additionalDownloadSimulationParams", [2E3, 2E3, 100], 0, void 0, 3),
                                k3b: C(J, "trickPlayHighResolutionBitrateThreshold", 1E3),
                                l3b: C(J, "trickPlayHighResolutionThresholdMilliseconds", 1E4),
                                o3b: C(Q, "trickplayBufferFactor",
                                    .5),
                                j3b: C(J, "trickPlayDownloadRetryCount", 1),
                                bsa: C(K, "marginPredictor", "simple", /^(simple|scale|iqr|percentile)$/),
                                Vsa: C(K, "networkMeasurementGranularity", "video_location", /^(location|video_location)$/),
                                tEa: C(M, "HistoricalTDigestConfig", {
                                    maxc: 25,
                                    rc: "ewma",
                                    c: .5,
                                    hl: 7200
                                }),
                                N3a: C(N, "maxIQRSamples", Infinity),
                                B4a: C(N, "minIQRSamples", 5),
                                Xcb: C(I, "useResourceTimingAPI", !1),
                                wLb: C(I, "ignoreFirstByte", !0),
                                G8: C(I, "mediaRequestAsyncLoadStart", ua.G8),
                                K4b: C(I, "useXHROnLoadStart", !1),
                                Rma: C(P, "failedDownloadRetryWaitsASE",
                                    [10, 200, 500, 1E3, 2E3, 4E3]),
                                x4: C(J, "connectTimeoutMilliseconds", 8E3, 500),
                                ata: C(J, "noProgressTimeoutMilliseconds", 8E3, 500),
                                D4b: C(I, "useOnLineApi", !1),
                                ybb: C(J, "timedTextDownloadRetryCountBeforeCdnSwitch", 3),
                                Zdc: C(J, "netflixRequestExpiryTimeout", 0),
                                z5b: C(I, "webkitDecodedFrameCountIncorrectlyReported", !1),
                                xZb: C(J, "seekBackOnAudioTrackChangeMilliseconds", 8E3),
                                BUb: C(I, "pausePlaybackOnAudioSwitch", !0),
                                Caa: C(Z, H("supportedAudioTrackTypes"), [], void 0, 1),
                                s7: C(J, "initialLogFlushTimeout", 5E3),
                                g7a: C(K, "playdataPersistKey",
                                    ca.gu ? "unsentplaydatatest" : "unsentplaydata"),
                                Ewa: C(I, "sendPersistedPlaydata", !0),
                                jVb: C(J, "playdataPersistIntervalMilliseconds", 4E3),
                                yec: C(J, "playdataSendDelayMilliseconds", 1E4),
                                Fwa: C(I, "sendPlaydataBackupOnInit", !0),
                                hPb: C(Z, "logPerformanceTiming", "navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),
                                u4a: C(I, "midplayEnabled", !0),
                                L8: C(J, "midplayIntervalMilliseconds", 3E5),
                                v4a: C(P, "midplayKeyPoints", [15E3, 3E4, 6E4, 12E4]),
                                g5: C(J, "downloadReportDenominator",
                                    0),
                                ICb: C(J, "downloadReportInterval", 3E5),
                                X2a: C(J, "logConfigApplyDenominator", 0),
                                xSa: C(ia, H("bookmarkByMovieId"), {}),
                                yV: C(I, H("forceLimitedDurationLicense"), !1),
                                GD: C(J, H("licenseRenewalRequestDelay"), 0),
                                eua: C(J, H("persistedReleaseDelay"), 1E4),
                                idc: C(I, H("limitedDurationFlagOverride"), void 0),
                                D9a: C(J, "safariPlayPauseWorkaroundDelay", 100),
                                K5b: C(J, "workaroundValueForSeekIssue", 1200),
                                i4: C(I, H("callEndOfStream"), ua.i4),
                                OUb: C(I, "performRewindCheck", !0),
                                MEb: C(I, "fatalOnUnexpectedSeeking", !0),
                                LEb: C(I, "fatalOnUnexpectedSeeked",
                                    !0),
                                O_b: C(I, H("setVideoElementSize")),
                                ixb: C(I, H("clearVideoSrc"), !0),
                                BVa: C(J, H("delayPlayPause"), 0),
                                qp: C(I, H("useTypescriptEme"), !1),
                                Ocb: C(I, H("useEncryptedEvent"), !0),
                                $U: C(K, H("drmPersistKey"), "unsentDrmData"),
                                O7a: C(I, H("promiseBasedEme"), !1),
                                cwb: C(I, "captureKeyStatusData", !1),
                                xW: C(I, "includeCapabilitiesInRequestMediaKeySystemAccess", !0),
                                CSb: C(I, H("nudgeSourceBuffer"), !1),
                                uwa: C(N, H("seekDelta"), 1),
                                lY: C(I, H("preciseSeeking"), !1),
                                LVb: C(I, H("preciseSeekingOnTwoCoreDevice"), !1),
                                AVa: C(ia, H("delayErrorHandling")),
                                Nbb: C(I, "trackingLogEnabled", !1),
                                Obb: C(function(Ua, $a) {
                                    var Za = ia(Ua, $a, void 0);
                                    Za && Object.entries(Za).forEach(function(cb) {
                                        var Wa = da(cb);
                                        cb = Wa.next().value;
                                        Wa = Wa.next().value;
                                        "true" === Wa ? Za[cb] = !0 : "false" === Wa && (Za[cb] = !1)
                                    });
                                    return Za
                                }, "trackingLogEvents", {
                                    sso: !1,
                                    startup: !1,
                                    playback: !1,
                                    regpair: !1
                                }),
                                Ss: C(K, "trackingLogPath", "/customerevents/track/debug"),
                                a3b: C(P, "trackingLogStallKeyPoints", [1E4, 3E4, 6E4, 12E4]),
                                wm: C(K, "esn", ""),
                                wXa: C(K, "fesn", ""),
                                MDb: C(I, H("enablePerformanceLogging"), !1),
                                CWa: C(I, H("enableEmeVerboseLogging"),
                                    !1),
                                DDb: C(I, "enableLastChunkLogging", !1),
                                appId: C(K, "appId", "", X),
                                sessionId: C(K, "sessionId", "", X),
                                gka: C(K, "cdnProxyUrl"),
                                H4b: C(I, "usePlayReadyHeaderObject", !1),
                                $Xa: C(J, "forceXhrErrorResponseCode", void 0),
                                En: {
                                    Wdc: C(K, "mslApiPath", "/msl/"),
                                    Dec: C(K, "proxyPath", ""),
                                    yv: C(K, "uiVersion"),
                                    aba: C(K, "uiPlatform"),
                                    mwb: function() {
                                        return "0"
                                    },
                                    k$: C(Z, "preferredLanguages", k.PBa, /^[a-zA-Z-]{2,5}$/, 1),
                                    JFb: C(K, H("forceDebugLogLevel"), true, /^(ERROR|WARN|INFO|TRACE)$/),
                                    L1b: C(I, "supportPreviewContentPin", !0),
                                    M1b: C(I, "supportWatermarking",
                                        !0),
                                    p0b: C(I, "showAllSubDubTracks", !1),
                                    fcc: C(I, H("failOnGuidMismatch"), !1)
                                },
                                u$: {
                                    enabled: C(I, "qcEnabled", !1),
                                    ep: C(K, "qcPackageId", "")
                                },
                                Ws: C(I, "useRangeHeader", !1),
                                gV: C(I, "enableMilestoneEventList", !0),
                                gM: C(K, "authenticationType", ca.gu ? ua.jub : ua.gM),
                                fSa: C(ia, "authenticationKeyNames", (0, q.Ub)({
                                    e: "DKE",
                                    h: "DKH",
                                    w: "DKW",
                                    s: "DKS"
                                })),
                                Z1b: C(K, "systemKeyWrapFormat"),
                                KLb: C(I, "includeNetflixIdUserAuthData", !0),
                                i0b: C(I, "shouldSendUserAuthData", !0),
                                daa: C(I, "sendUserAuthIfRequired", ua.daa),
                                e0b: C(I, "shouldClearUserData",
                                    !1),
                                fQ: C(I, "usesMsl", !0),
                                ARb: C(I, "mslDeleteStore", !1),
                                CRb: C(I, "mslPersistStore", !0),
                                kyb: C(I, "correctNetworkForShortTitles", !0),
                                FVb: C(I, "postplayHighInitBitrate", !1),
                                T1b: C(I, "supportsUnequalizedDownloadables", !0),
                                lVa: C(J, H("debugAseDenominator"), 100),
                                YL: C(J, "aseAudioBufferSizeBytes", ua.YL.$(y.hr)),
                                cM: C(J, "aseVideoBufferSizeBytes", ua.cM.$(y.hr)),
                                hx: C(J, "minInitVideoBitrate", 560),
                                Gsa: C(J, "minHCInitVideoBitrate", 560),
                                wA: C(J, "maxInitVideoBitrate", Infinity),
                                tX: C(J, "minInitAudioBitrate", 0),
                                sX: C(J, "minHCInitAudioBitrate",
                                    0),
                                fX: C(J, "maxInitAudioBitrate", 65535),
                                M8: C(J, "minAcceptableVideoBitrate", 235),
                                fI: C(J, "minRequiredBuffer", 3E4),
                                yj: C(J, "minPrebufSize", 7800),
                                Q8: C(J, "minCheckBufferingCompleteInterval", 999999),
                                rva: C(Q, "rebufferingFactor", 1),
                                rs: C(J, "maxBufferingTime", 2600),
                                Tya: C(I, "useMaxPrebufSize", !0),
                                ND: C(J, "maxPrebufSize", 45E3),
                                lsa: C(J, "maxRebufSize", Infinity),
                                p7: C(S, "initialBitrateSelectionCurve", null),
                                T0a: C(J, "initSelectionLowerBound", 560),
                                U0a: C(J, "initSelectionUpperBound", 1050),
                                Kaa: C(J, "throughputPercentForAudio",
                                    15),
                                uja: C(J, "bandwidthMargin", 10),
                                vja: C(I, "bandwidthMarginContinuous", !1),
                                wja: C(S, "bandwidthMarginCurve", [{
                                    m: 65,
                                    b: 8E3
                                }, {
                                    m: 65,
                                    b: 3E4
                                }, {
                                    m: 50,
                                    b: 6E4
                                }, {
                                    m: 45,
                                    b: 9E4
                                }, {
                                    m: 40,
                                    b: 12E4
                                }, {
                                    m: 20,
                                    b: 18E4
                                }, {
                                    m: 5,
                                    b: 24E4
                                }]),
                                Vka: C(J, "conservBandwidthMargin", 20),
                                Txa: C(I, "switchConfigBasedOnInSessionTput", !1),
                                tU: C(J, "conservBandwidthMarginTputThreshold", 0),
                                Wka: C(S, "conservBandwidthMarginCurve", [{
                                    m: 80,
                                    b: 8E3
                                }, {
                                    m: 80,
                                    b: 3E4
                                }, {
                                    m: 70,
                                    b: 6E4
                                }, {
                                    m: 60,
                                    b: 9E4
                                }, {
                                    m: 50,
                                    b: 12E4
                                }, {
                                    m: 30,
                                    b: 18E4
                                }, {
                                    m: 10,
                                    b: 24E4
                                }]),
                                Zab: C(I, "switchAlgoBasedOnHistIQR",
                                    !1),
                                yE: C(K, "switchConfigBasedOnThroughputHistory", "none", /^(none|iqr|avg)$/),
                                ksa: C(N, "maxPlayerStateToSwitchConfig", -1),
                                Nra: C(K, "lowEndMarkingCriteria", "none", /^(none|iqr|avg)$/),
                                sda: C(Q, "IQRThreshold", .5),
                                Npa: C(K, "histIQRCalcToUse", "simple"),
                                Lu: C(J, "maxTotalBufferLevelPerSession", 0),
                                l5: C(I, "enableCombinedPlaygraphs", !0),
                                m5: C(I, "enableDiscontiguousBuffering", !1),
                                una: C(P, "forceImmediateTransitionTypeForTitles", []),
                                tna: C(J, "forceImmediateTransitionExitZone", 0),
                                Oya: C(I, "useBufferSizeLimiter", !1),
                                Sya: C(I,
                                    "useLegacyFragmentRounding", !1),
                                gza: C(I, "waitForDrmToAppendHeadersWhenClearAndEncryptedContent", !0),
                                j0a: C(J, "highWatermarkLevel", 3E4),
                                Gbb: C(J, "toStableThreshold", 3E4),
                                SZ: C(J, "toUnstableThreshold", ua.SZ.$(z.ja)),
                                nxa: C(I, "skipBitrateInUpswitch", !0),
                                kza: C(J, "watermarkLevelForSkipStart", 8E3),
                                Hpa: C(J, "highStreamRetentionWindow", 9E4),
                                Ora: C(J, "lowStreamTransitionWindow", 51E4),
                                Jpa: C(J, "highStreamRetentionWindowUp", 3E5),
                                Qra: C(J, "lowStreamTransitionWindowUp", 3E5),
                                Ipa: C(J, "highStreamRetentionWindowDown", 6E5),
                                Pra: C(J, "lowStreamTransitionWindowDown", 0),
                                Gpa: C(Q, "highStreamInfeasibleBitrateFactor", .5),
                                rA: C(J, "lowestBufForUpswitch", 15E3),
                                i8: C(J, "lockPeriodAfterDownswitch", 15E3),
                                Sra: C(J, "lowWatermarkLevel", 25E3),
                                sA: C(J, "lowestWaterMarkLevel", 2E4),
                                Tra: C(I, "lowestWaterMarkLevelBufferRelaxed", !1),
                                usa: C(Q, "mediaRate", 1),
                                x8: C(J, "maxTrailingBufferLen", 1E4),
                                LT: C(J, "audioBufferTargetAvailableSize", 262144),
                                k_: C(J, "videoBufferTargetAvailableSize", 1048576),
                                a4a: C(J, "maxVideoTrailingBufferSize", 8388608),
                                I3a: C(J, "maxAudioTrailingBufferSize",
                                    393216),
                                H5: C(Q, "fastUpswitchFactor", 3),
                                Sma: C(Q, "fastDownswitchFactor", 1),
                                xA: C(J, "maxMediaBufferAllowed", 24E4),
                                lxa: C(I, "simulatePartialBlocks", !0),
                                Z$a: C(I, "simulateBufferFull", !0),
                                Xka: C(I, "considerConnectTime", !1),
                                Uka: C(Q, "connectTimeMultiplier", 1),
                                d3a: C(J, "lowGradeModeEnterThreshold", 12E4),
                                e3a: C(J, "lowGradeModeExitThreshold", 9E4),
                                K3a: C(J, "maxDomainFailureWaitDuration", 3E4),
                                H3a: C(J, "maxAttemptsOnFailure", 18),
                                lXa: C(I, "exhaustAllLocationsForFailure", !0),
                                R3a: C(J, "maxNetworkErrorsDuringBuffering", 20),
                                q8: C(J, "maxBufferingTimeAllowedWithNetworkError", 12E4),
                                sXa: C(J, "fastDomainSelectionBwThreshold", 2E3),
                                lbb: C(J, "throughputProbingEnterThreshold", 4E4),
                                mbb: C(J, "throughputProbingExitThreshold", 34E3),
                                S2a: C(J, "locationProbingTimeout", 1E4),
                                zXa: C(J, "finalLocationSelectionBwThreshold", 1E4),
                                jbb: C(Q, "throughputHighConfidenceLevel", .75),
                                kbb: C(Q, "throughputLowConfidenceLevel", .4),
                                JWa: C(I, "enablePerfBasedLocationSwitch", !1),
                                cv: C(I, "probeServerWhenError", !0),
                                Mua: C(J, "probeRequestTimeoutMilliseconds", 8E3),
                                Uy: C(I,
                                    "allowSwitchback", !0),
                                EI: C(J, "probeDetailDenominator", 100),
                                r8: C(J, "maxDelayToReportFailure", 300),
                                Ara: C(J, "locationStatisticsUpdateInterval", 6E4),
                                zUa: C(I, "countGapInBuffer", !1),
                                mRa: C(I, "allowCallToStreamSelector", !0),
                                FSa: C(J, "bufferThresholdForAbort", 1E4),
                                msa: C(J, "maxResponsesInitialTput", 6),
                                n5: C(I, "enableInitialTputLogging", !1),
                                hua: C(J, "pipelineScheduleTimeoutMs", 2),
                                yA: C(J, "maxPartialBuffersAtBufferingStart", 2),
                                nsa: C(J, "maxStreamingSkew", 4E3),
                                isa: C(J, "maxPendingBufferPercentage", 10),
                                Y6: C(J, "headerRequestSize",
                                    4096),
                                Hma: C(I, "estimateHeaderSize", !1),
                                qX: C(J, "minBufferLenForHeaderDownloading", 1E4),
                                SY: C(J, "reserveForSkipbackBufferMs", 1E4),
                                kta: C(J, "numExtraFragmentsAllowed", 2),
                                Gq: C(I, "pipelineEnabled", !1),
                                hab: C(J, "socketReceiveBufferSize", 0),
                                K3: C(J, "audioSocketReceiveBufferSize", 32768),
                                kQ: C(J, "videoSocketReceiveBufferSize", 65536),
                                Epa: C(J, "headersSocketReceiveBufferSize", 32768),
                                fba: C(J, "updatePtsIntervalMs", 1E3),
                                Hja: C(J, "bufferTraceDenominator", 100),
                                jM: C(J, "bufferLevelNotifyIntervalMs", 2E3),
                                aM: C(J, "aseReportDenominator",
                                    0),
                                E3: C(J, "aseReportIntervalMs", 3E5),
                                qDb: C(I, "enableAbortTesting", !1),
                                Trb: C(J, "abortRequestFrequency", 8),
                                Kxa: C(J, "streamingStatusIntervalMs", 2E3),
                                OA: C(J, "prebufferTimeLimit", 24E4),
                                P8: C(J, "minBufferLevelForTrackSwitch", 2E3),
                                $ta: C(J, "penaltyFactorForLongConnectTime", 2),
                                Lra: C(J, "longConnectTimeThreshold", 200),
                                Gia: C(J, "additionalBufferingLongConnectTime", 2E3),
                                Hia: C(J, "additionalBufferingPerFailure", 8E3),
                                CY: C(J, "rebufferCheckDuration", 6E4),
                                GWa: C(I, "enableLookaheadHints", !1),
                                a3a: C(J, "lookaheadFragments",
                                    2),
                                Ez: C(I, "enableOCSideChannel", !0),
                                d1: C(M, "OCSCBufferQuantizationConfig", {
                                    lv: 5,
                                    mx: 240
                                }),
                                tcb: C(I, "updateDrmRequestOnNetworkFailure", !1),
                                zVa: C(I, "deferAseScheduling", !1),
                                J3a: C(J, "maxDiffAudioVideoEndPtsMs", 16E3),
                                T4: C(J, "defaultHeaderCacheSize", 4),
                                S4: C(J, "defaultHeaderCacheDataPrefetchMs", 8E3),
                                mI: C(I, "neverWipeHeaderCache", !0),
                                Usa: C(J, "networkFailureResetWaitMs", 2E3),
                                Tsa: C(J, "networkFailureAbandonMs", 6E4),
                                w8: C(J, "maxThrottledNetworkFailures", 3),
                                Jaa: C(J, "throttledNetworkFailureThresholdMs", 200),
                                Rra: C(N,
                                    "lowThroughputThreshold", 400),
                                Mma: C(I, "excludeSessionWithoutHistoryFromLowThroughputThreshold", !1),
                                M4a: C(I, "mp4ParsingInNative", !1),
                                jab: C(I, "sourceBufferInOrderAppend", !0),
                                jE: C(I, "requireAudioStreamToEncompassVideo", !0),
                                lRa: C(I, "allowAudioToStreamPastVideo", !0),
                                ti: C(I, "enableManagerDebugTraces", !1),
                                p3a: C(J, "managerDebugMessageInterval", 1E3),
                                o3a: C(J, "managerDebugMessageCount", 20),
                                s5a: C(I, "notifyManifestCacheEom", !1),
                                Gja: C(J, "bufferThresholdToSwitchToSingleConnMs", 18E4),
                                Fja: C(J, "bufferThresholdToSwitchToParallelConnMs",
                                    12E4),
                                V9: C(J, "periodicHistoryPersistMs", 3E5),
                                T$: C(J, "saveVideoBitrateMs", 18E4),
                                DRa: C(I, "appendMediaRequestOnComplete", !0),
                                tba: C(I, "waitForDrmToAppendMedia", !1),
                                S5: C(I, H("forceAppendHeadersAfterDrm"), !1),
                                dXb: C(I, H("reappendRequestsOnSkip"), !1),
                                JRb: C(J, "netIntrStoreWindow", 36E3),
                                dRb: C(J, "minNetIntrDuration", 8E3),
                                HEb: C(J, "fastHistoricBandwidthExpirationTime", 10368E3),
                                vub: C(J, "bandwidthExpirationTime", 5184E3),
                                EEb: C(J, "failureExpirationTime", 86400),
                                XKb: C(J, "historyTimeOfDayGranularity", 4),
                                qEb: C(I, "expandDownloadTime",
                                    !1),
                                pRb: C(J, "minimumMeasurementTime", 500),
                                oRb: C(J, "minimumMeasurementBytes", 131072),
                                s2b: C(J, "throughputMeasurementTimeout", 2E3),
                                ZLb: C(J, "initThroughputMeasureDataSize", 262144),
                                t2b: C(K, "throughputPredictor", "ewma"),
                                r2b: C(J, "throughputMeasureWindow", 5E3),
                                w2b: C(J, "throughputWarmupTime", 5E3),
                                q2b: C(J, "throughputIQRMeasureWindow", 5E3),
                                Hib: C(J, "IQRBucketizerWindow", 15E3),
                                Oxb: C(J, "connectTimeHalflife", 10),
                                QYb: C(J, "responseTimeHalflife", 10),
                                WKb: C(J, "historicBandwidthUpdateInterval", 2E3),
                                nRb: C(J, "minimumBufferToStopProbing",
                                    1E4),
                                twa: C(K, "secondThroughputEstimator", "none"),
                                L9a: C(N, "secondThroughputMeasureWindowInMs", Infinity),
                                vDb: C(Z, "enableFilters", "throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),
                                ZEb: C(M, "filterDefinitionOverrides", {}),
                                DBb: C(K, "defaultFilter", "throughput-ewma"),
                                wZb: C(K, "secondaryFilter", "none"),
                                EBb: C(M, "defaultFilterDefinitions", {
                                    "throughput-ewma": {
                                        type: "discontiguous-ewma",
                                        mw: 5E3,
                                        wt: 5E3
                                    },
                                    "throughput-sw": {
                                        type: "slidingwindow",
                                        mw: 5E3
                                    },
                                    "throughput-iqr": {
                                        type: "iqr",
                                        mx: Infinity,
                                        mn: 5,
                                        bw: 15E3,
                                        iv: 1E3
                                    },
                                    "throughput-iqr-history": {
                                        type: "iqr-history"
                                    },
                                    "throughput-location-history": {
                                        type: "discrete-ewma",
                                        hl: 14400,
                                        "in": 3600
                                    },
                                    "respconn-location-history": {
                                        type: "discrete-ewma",
                                        hl: 100,
                                        "in": 25
                                    },
                                    "throughput-tdigest": {
                                        type: "tdigest",
                                        maxc: 25,
                                        c: .5,
                                        b: 1E3,
                                        w: 15E3,
                                        mn: 6
                                    },
                                    "throughput-tdigest-history": {
                                        type: "tdigest-history",
                                        maxc: 25,
                                        rc: "ewma",
                                        c: .5,
                                        hl: 7200
                                    },
                                    "respconn-ewma": {
                                        type: "discrete-ewma",
                                        hl: 10,
                                        "in": 10
                                    },
                                    avtp: {
                                        type: "avtp"
                                    },
                                    entropy: {
                                        type: "entropy",
                                        mw: 2E3,
                                        sw: 6E4,
                                        "in": "none",
                                        mins: 1,
                                        hdl: [150,
                                            230, 352, 539, 825, 1264, 1936, 2966, 4543, 6958
                                        ],
                                        uhdl: [150, 230, 352, 539, 825, 1264, 1936, 2966, 4543, 6958, 10657, 16322, 25E3]
                                    }
                                }),
                                yX: C(I, "needMinimumNetworkConfidence", !0),
                                zja: C(I, "biasTowardHistoricalThroughput", !0),
                                xia: C(I, "addHeaderDataToNetworkMonitor", !1),
                                wxa: C(I, "startMonitorOnLoadStart", !1),
                                Qva: C(I, "reportFailedRequestsToNetworkMonitor", !1),
                                s8: C(N, "maxFastPlayBufferInMs", Infinity),
                                gsa: C(N, "maxFastPlayBitThreshold", Infinity),
                                Ria: C(I, "appendFirstHeaderOnComplete", !0),
                                Btb: C(K, "ase_stream_selector", "optimized"),
                                hqa: C(K, "initBitrateSelectorAlgorithm", "default"),
                                Mja: C(K, "bufferingSelectorAlgorithm", "default"),
                                mVa: C(K, "ase_ls_failure_simulation", ""),
                                Bla: C(I, "ase_dump_fragments", !1),
                                Dla: C(J, "ase_location_history", 0),
                                Ela: C(J, "ase_throughput", 0),
                                oVa: C(I, "ase_simulate_verbose", !1),
                                BVb: C(J, "pollingPeriod", 150),
                                WOb: C(J, "loadTimeMs", 18E4),
                                LPb: C(J, "marginTimeMs", 1E4),
                                aoa: C(I, "getDeviceIdFromBindDevice", !1),
                                wia: C(I, "addFailedLogBlobsToQueue", !0),
                                B3b: {
                                    "content-sampling": {
                                        rs: C(J, "contentSamplingMaxBufferingTime", 3E3),
                                        uP: C(K, "contentSamplingSelectStartingVMAFMethod", "fallback"),
                                        BT: C(I, "contentSamplingActivateSelectStartingVMAF", !0),
                                        Qu: C(J, "contentSamplingMinStartingVideoVMAF", 80),
                                        pX: C(J, "contentSamplingMinAcceptableVMAF", 70),
                                        eI: C(J, "contentSamplingMinAllowedVmaf", 60)
                                    },
                                    billboard: {
                                        hx: C(J, "billboardMinInitVideoBitrate", 1050),
                                        wA: C(J, "billboardMaxInitVideoBitrate", null),
                                        yj: C(J, "billboardMinPrebufSize", null),
                                        ND: C(J, "billboardMaxPrebufSize", null),
                                        rs: C(J, "billboardMaxBufferingTime", null),
                                        yA: C(J, "billboardMaxPartialBuffersAtBufferingStart",
                                            null),
                                        sA: C(J, "billboardLowestWaterMarkLevel", 6E3),
                                        rA: C(J, "billboardLowestBufForUpswitch", 25E3),
                                        yE: C(K, "billboardSwitchConfigBasedOnThroughputHistory", "none", /^(none|iqr|avg)$/)
                                    },
                                    preplay: {
                                        hx: C(J, "preplayMinInitVideoBitrate", 1050),
                                        wA: C(J, "preplayMaxInitVideoBitrate", null),
                                        yj: C(J, "preplayMinPrebufSize", null),
                                        ND: C(J, "preplayMaxPrebufSize", null),
                                        rs: C(J, "preplayMaxBufferingTime", null),
                                        yA: C(J, "preplayMaxPartialBuffersAtBufferingStart", null),
                                        sA: C(J, "preplayLowestWaterMarkLevel", 6E3),
                                        rA: C(J, "preplayLowestBufForUpswitch",
                                            25E3)
                                    },
                                    embedded: {
                                        hx: C(J, "embeddedMinInitVideoBitrate", 1050),
                                        wA: C(J, "embeddedMaxInitVideoBitrate", null),
                                        yj: C(J, "embeddedMinPrebufSize", null),
                                        ND: C(J, "embeddedMaxPrebufSize", null),
                                        rs: C(J, "embeddedMaxBufferingTime", null),
                                        yA: C(J, "embeddedMaxPartialBuffersAtBufferingStart", null),
                                        sA: C(J, "embeddedLowestWaterMarkLevel", 6E3),
                                        rA: C(J, "embeddedLowestBufForUpswitch", 25E3)
                                    },
                                    "video-merch-bob-horizontal": {
                                        hx: C(J, "videoMerchBobHorizontalMinInitVideoBitrate", null),
                                        wA: C(J, "videoMerchBobHorizontalMaxInitVideoBitrate",
                                            null),
                                        yj: C(J, "videoMerchBobHorizontalMinPrebufSize", null),
                                        ND: C(J, "videoMerchBobHorizontalMaxPrebufSize", null),
                                        rs: C(J, "videoMerchBobHorizontalMaxBufferingTime", null),
                                        yA: C(J, "videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart", null),
                                        sA: C(J, "videoMerchBobHorizontalLowestWaterMarkLevel", null),
                                        rA: C(J, "videoMerchBobHorizontalLowestBufForUpswitch", null)
                                    },
                                    "mini-modal-horizontal": {
                                        hx: C(J, "miniModalHorizontalMinInitVideoBitrate", null),
                                        wA: C(J, "miniModalHorizontalMaxInitVideoBitrate", null),
                                        yj: C(J, "miniModalHorizontalMinPrebufSize",
                                            null),
                                        ND: C(J, "miniModalHorizontalMaxPrebufSize", null),
                                        rs: C(J, "miniModalHorizontalMaxBufferingTime", 500),
                                        yA: C(J, "miniModalHorizontalMaxPartialBuffersAtBufferingStart", null),
                                        sA: C(J, "miniModalHorizontalLowestWaterMarkLevel", null),
                                        rA: C(J, "miniModalHorizontalLowestBufForUpswitch", null)
                                    }
                                },
                                UDb: C(I, "enableVerbosePlaydelayLogging", !1),
                                Xbc: C(I, "enableSeamless", !1),
                                Mpa: C(J, "hindsightDenominator", 0),
                                Lpa: C(J, "hindsightDebugDenominator", 0),
                                c7: C(M, "hindsightParam", {
                                    numB: Infinity,
                                    bSizeMs: 1E3,
                                    fillS: "last",
                                    fillHl: 1E3
                                }),
                                hV: C(I, "enableSessionHistoryReport", !1),
                                pma: C(J, "earlyStageEstimatePeriod", 1E4),
                                B2a: C(J, "lateStageEstimatePeriod", 3E4),
                                u8: C(J, "maxNumSessionHistoryStored", 30),
                                W8: C(J, "minSessionHistoryDuration", 3E4),
                                bx: C(J, "maxActiveRequestsPerSession", 3),
                                o8: C(J, "maxActiveRequestsSABCell100", 2),
                                wra: C(I, "limitAudioDiscountByMaxAudioBitrate", !0),
                                ik: C(M, "browserInfo", {}),
                                lvb: C(J, H("busyGracePeriod"), 199),
                                SZb: C(I, H("sendTransitionLogblob"), !0),
                                gDb: C(I, H("editVideoFragments"), !0),
                                j5: C(I, H("earlyAppendSingleChildBranch"),
                                    !0),
                                LLb: C(I, H("includeSegmentInfoOnLogblobs"), !0),
                                ecc: C(I, "exposeTestData", !1),
                                wEb: C(I, H("exposeErrorData"), !1),
                                Fla: C(I, "declareBufferingCompleteAtSegmentEnd", !0),
                                wG: C(I, "applyProfileTimestampOffset", !1),
                                im: C(I, "applyProfileStreamingOffset", !1),
                                gtb: C(I, H("allowSmallSeekDelta"), !1),
                                E0b: C(J, H("smallSeekDeltaThresholdMilliseconds"), t.x1),
                                tDb: C(I, "enableCDMAttestedDescriptors", !1),
                                H$: C(I, "requireDownloadDataAtBuffering", !1),
                                I$: C(I, "requireSetupConnectionDuringBuffering", !1),
                                uva: C(I, "recordFirstFragmentOnSubBranchCreate",
                                    !1),
                                Zub: C(I, "branchingAudioTrackFrameDropSmallSeekFix", !0),
                                YXa: C(I, "forceL3WidevineCdm", !1),
                                Scb: C(I, "useMobileVMAF", !1),
                                HVa: C(K, "desiredVMAFTypeMobile", "phone_plus_lts"),
                                IVa: C(K, "desiredVMAFTypeNonMobile", "plus_lts"),
                                BT: C(I, "activateSelectStartingVMAF", !1),
                                Qu: C(J, "minStartingVideoVMAF", 1),
                                pX: C(J, "minAcceptableVMAF", 1),
                                eI: C(J, "minAllowedVmaf", 1),
                                ktb: C(I, "alwaysNotifyEOSForPlaygraph", !0),
                                WM: C(I, "enableNewAse", !0),
                                h_: C(I, "useNewApi", !0),
                                zDb: C(I, "enableHudsonFieldTest", !1),
                                lLb: C(Z, "hudsonTitles", ["81127954",
                                    "70125931", "80158148"
                                ]),
                                eQb: C(J, "maxPartialBuffersAtHudson", 1),
                                ISb: C(J, "numberOfChunksPerSegment", 4),
                                c2b: C(J, "targetContentLatency", 1E4),
                                d2b: C(J, "targetLongContentLatency", 3E4),
                                qRb: C(J, "minimumTimeDelay", 1),
                                wma: C(I, "enableWsslEstimate", !1),
                                p8: C(J, "maxAllowedOutstandingRequests", 4),
                                WL: C(I, "alwaysRunUnderflowTimer", !0),
                                Hsa: C(J, "minStreamableConcurrencyWindow", 3E3),
                                Hxa: C(Q, "streamableConcurrencyFactor", .3),
                                eU: C(J, "bufferingConcurrencyWindow", 7800),
                                y0b: C(I, "singleStreamablePerBranch", !0),
                                p5: C(I, "enableResolutionVMAFStreamFilter",
                                    !1),
                                M$: C(M, "resolutionVMAFCappingRuleList", {}),
                                bua: C(N, "percentCapTitlesForResolutionVMAFStreamFilter", 100),
                                mCb: C(I, "disableSkipping", !1),
                                Qya: C(I, "useHLSPlayer", ua.Qya),
                                Pya: C(I, H("useExitZones"), !0),
                                AYb: C(I, "requestSegmentVmaf", !1),
                                JO: C(M, "perFragmentVMAFConfig", {
                                    enabled: !1
                                })
                            },
                            La = !0;
                        b.Ska = function(Ua) {
                            var $a = g.ta.get(B.bd).id;
                            if (0 < b.config.X2a && 0 === $a % b.config.X2a) try {
                                var Za = g.ta.get(w.no),
                                    cb = g.ta.get(v.by).Zt("config", "info", {
                                        params: Ua
                                    });
                                Za.Ic(cb)
                            } catch (Wa) {
                                g.log.error("Failed to log config$apply",
                                    Wa)
                            }
                            ub._cad_global.config = b.config;
                            (0, h.gb)(Ua);
                            Ua && (ra = (0, q.Ub)({}, Ua, {
                                bO: !0
                            }), (0, q.Ub)(ra, R, {
                                bO: !0
                            }), G(aa, b.config), ra.istestaccount && g.log.trace("Config applied for", ya(La ? ra : Ua)), La = !1)
                        };
                        (0, b.Ska)(ra)
                    };
                    b.Jxb = function(D, F) {
                        return (0, u.Zf)(D) && "%" == D[D.length - 1] ? (0, p.lj)(parseFloat(D) * F / 100) : D | 0
                    };
                    b.aUa = function(D) {
                        if (D) {
                            D = (0, q.Ub)({}, b.config);
                            var F = {
                                wI: b.config.X5a
                            };
                            return (0, q.Ub)(D, F, {
                                JA: !0
                            })
                        }
                        return b.config
                    };
                    b.Kxb = function(D) {
                        var F = (0, q.Ub)({}, b.config);
                        D = c(D);
                        return (0, q.Ub)(F, D, {
                            JA: !0
                        })
                    };
                    b.Tka =
                        function(D) {
                            D = c(D);
                            return (0, q.Ub)({}, a(178)(D), {
                                JA: !0
                            })
                        };
                    b.$Ta = function(D, F, G) {
                        G = !!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));
                        D = {
                            gx: D ? b.config.aRb : b.config.gx,
                            EA: D ? b.config.gRb : G ? b.config.iRb : b.config.EA,
                            j5: !F
                        };
                        return (0, q.Ub)({}, a(178)(D), {
                            JA: !0
                        })
                    };
                    b.Mxb = c;
                    b.Lxb = f
                }, function(r, b) {
                    function a() {}
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Ce = b.Xa = b.Bf = b.Mb = b.ca = b.wda = b.BF = b.Fa = void 0;
                    (function(c) {
                        c.Q2a = "loadedtracks";
                        c.P2a = "loadedmetadata";
                        c.loaded = "loaded";
                        c.error =
                            "error";
                        c.closed = "closed";
                        c.fq = "currenttimechanged";
                        c.lcb = "unthrottledcurrenttimechanged";
                        c.Kja = "bufferedtimechanged";
                        c.nWa = "durationchanged";
                        c.pdb = "videosizechanged";
                        c.H6a = "pausedchanged";
                        c.vua = "playingchanged";
                        c.TWa = "endedchanged";
                        c.kM = "busychanged";
                        c.M3 = "audiotracklistchanged";
                        c.jm = "audiotrackchanged";
                        c.wv = "timedtexttracklistchanged";
                        c.Tl = "timedtexttrackchanged";
                        c.ZZ = "trickplayframeschanged";
                        c.R4a = "mutedchanged";
                        c.udb = "volumechanged";
                        c.gxa = "showsubtitle";
                        c.Hva = "removesubtitle";
                        c.y5b = "watermark";
                        c.Oqa = "isReadyToTransition";
                        c.KN = "inactivated";
                        c.j1a = "internalPlaybackError";
                        c.DZb = "segmentmaploaded";
                        c.EZb = "segmentpresenting";
                        c.hSa = "autoplaywasallowed";
                        c.O3 = "autoplaywasblocked"
                    })(b.Fa || (b.Fa = {}));
                    (b.BF || (b.BF = {})).bZ = "playgraphsegmenttransition";
                    b.wda = a;
                    a.$9a = "serverTimeChanged";
                    (function(c) {
                        c.$L = "aseReport";
                        c.oja = "autoplayWasAllowed";
                        c.oi = "autoplayWasBlocked";
                        c.dz = "bufferUnderrun";
                        c.closed = "closed";
                        c.ng = "closing";
                        c.fq = "currentTimeChanged";
                        c.YG = "downloadComplete";
                        c.KN = "inactivated";
                        c.D2a = "licenseAdded";
                        c.XW = "licensed";
                        c.ZW = "locationSelected";
                        c.Yra = "manifestClosing";
                        c.XH = "manifestPresenting";
                        c.C8 = "mediaBufferChanged";
                        c.l9 = "nextBranchingSegmentChosen";
                        c.Iq = "playbackStart";
                        c.Lm = "playbackReady";
                        c.Ck = "repositioned";
                        c.KI = "repositioning";
                        c.E9a = "safePlayRequested";
                        c.WI = "segmentPresenting";
                        c.fZ = "serverSwitch";
                        c.V$a = "shouldUpdateVideoDiagInfo";
                        c.TP = "subtitleError";
                        c.Iaa = "throttledMediaTimeChanged";
                        c.mcb = "unthrottledMediaTimeChanged";
                        c.YP = "timedTextRebuffer";
                        c.wv = "timedTextTrackListChanged";
                        c.ZZ = "trickPlayFramesChanged";
                        c.Hya = "updateNextBranchingSegmentWeights";
                        c.adb = "userInitiatedPause";
                        c.Zya = "userInitiatedResume";
                        c.Pbb = "tracksHydrated"
                    })(b.ca || (b.ca = {}));
                    (function(c) {
                        c[c.yK = 0] = "NOTLOADED";
                        c[c.LOADING = 1] = "LOADING";
                        c[c.je = 2] = "NORMAL";
                        c[c.CLOSING = 3] = "CLOSING";
                        c[c.CLOSED = 4] = "CLOSED"
                    })(b.Mb || (b.Mb = {}));
                    (function(c) {
                        c[c.je = 1] = "NORMAL";
                        c[c.wd = 2] = "BUFFERING";
                        c[c.lLa = 3] = "STALLED"
                    })(b.Bf || (b.Bf = {}));
                    (function(c) {
                        c[c.Pe = 1] = "WAITING";
                        c[c.Kc = 2] = "PLAYING";
                        c[c.mh = 3] = "PAUSED";
                        c[c.xp = 4] = "ENDED"
                    })(b.Xa || (b.Xa = {}));
                    (function(c) {
                        c[c.Zx =
                            0] = "INITIAL";
                        c[c.ly = 1] = "SEEK";
                        c[c.H1 = 2] = "TRACK_CHANGED";
                        c[c.HK = 3] = "SEGMENT_CHANGED";
                        c[c.s0 = 4] = "FORCE_REBUFFER"
                    })(b.Ce || (b.Ce = {}))
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.bd = "ApplicationSymbol"
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    a(2).__exportStar(a(352), b)
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.fd = b.tqa = b.DD = b.Zf = b.Vqa = b.TMb = b.EMb = b.Kqa = b.lA = b.y1a = b.Ea = b.Tqa = b.isArray = b.U1a = b.Ph = b.Mc = b.is = void 0;
                    r = a(198);
                    b.is = r.ZE;
                    b.Mc = function(c) {
                        return b.is.Vi(c)
                    };
                    b.Ph = function(c) {
                        return b.is.tG(c)
                    };
                    b.U1a = function(c) {
                        return b.is.kia(c)
                    };
                    b.isArray = function(c) {
                        return b.is.Vy(c)
                    };
                    b.Tqa = function(c) {
                        return b.is.sRa(c)
                    };
                    b.Ea = function(c, f, k) {
                        return b.is.li(c, f, k)
                    };
                    b.y1a = function(c, f, k) {
                        return b.is.Pia(c, f, k)
                    };
                    b.lA = function(c, f, k) {
                        return b.is.FT(c, f, k)
                    };
                    b.Kqa = function(c) {
                        return b.is.xT(c)
                    };
                    b.EMb = function(c) {
                        return b.is.Rrb(c)
                    };
                    b.TMb = function(c) {
                        return b.is.Srb(c)
                    };
                    b.Vqa = function(c) {
                        return b.is.tRa(c)
                    };
                    b.Zf = function(c) {
                        return b.is.tn(c)
                    };
                    b.DD = function(c) {
                        return b.is.un(c)
                    };
                    b.tqa = function(c) {
                        return b.is.wT(c)
                    };
                    b.fd = function(c) {
                        return b.is.r3(c)
                    }
                },
                function(r, b, a) {
                    b = a(116);
                    b.FBb = 0;
                    r.exports = {
                        EventEmitter: b,
                        di: a(748)
                    }
                },
                function(r, b, a) {
                    function c(f, k) {
                        return b.Fo.assert(f, k)
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Fl = b.Ala = b.iBb = b.mBb = b.UG = b.HU = b.lBb = b.nBb = b.HM = b.kVa = b.kBb = b.jBb = b.gb = b.Fo = b.oBb = b.gca = void 0;
                    r = a(8);
                    a = a(97);
                    b.gca = function() {
                        c(!1)
                    };
                    b.oBb = !0;
                    b.Fo = r.ta.get(a.Dv);
                    b.gb = c;
                    b.jBb = function(f, k) {
                        return b.Fo.Etb(f, k)
                    };
                    b.kBb =
                        function(f, k) {
                            return b.Fo.Ftb(f, k)
                        };
                    b.kVa = function(f, k) {
                        return b.Fo.G3(f, k)
                    };
                    b.HM = function(f, k) {
                        return b.Fo.Ltb(f, k)
                    };
                    b.nBb = function(f, k) {
                        return b.Fo.Jtb(f, k)
                    };
                    b.lBb = function(f, k) {
                        return b.Fo.dja(f, k)
                    };
                    b.HU = function(f, k) {
                        return b.Fo.Htb(f, k)
                    };
                    b.UG = function(f, k) {
                        return b.Fo.Ktb(f, k)
                    };
                    b.mBb = function(f, k) {
                        return b.Fo.Itb(f, k)
                    };
                    b.iBb = function(f, k) {
                        return b.Fo.Dtb(f, k)
                    };
                    b.Ala = function(f, k) {
                        return b.Fo.Gtb(f, k)
                    };
                    b.Fl = function() {
                        return b.Fo.sMb()
                    }
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.ia = !1
                }, function (r, b) {
                    function a(c, f) { if (c && f) { var k = Math, m = k.abs, g, d = Math.abs(c); for (g = Math.abs(f); g;) { var h = g; g = d % g; d = h } c = m.call(k, c * f / d) } else c = 0; return c } Object.defineProperties(b, { __esModule: { value: !0 } }); b.O = void 0; r = function () {
                        function c(f, k) { "object" === typeof f ? (this.oc = f.qc, this.ob = f.W) : (this.oc = f, this.ob = k); isFinite(this.oc) || (this.ob = 1) } c.compare = function (f, k) { return f.El(k) }; c.abs = function (f) { return new c(Math.abs(f.oc), f.ob) }; c.Na = function (f) { return 0 === f ? c.cb : new c(f, 1E3) }; c.QZ = function (f,
                            k) { return Math.floor(1E3 * f / k) }; c.Qsa = function (f, k) { return Math.floor(f * k / 1E3) }; c.max = function () { for (var f = [], k = 0; k < arguments.length; k++)f[k] = arguments[k]; return f.reduce(function (m, g) { return m.greaterThan(g) ? m : g }) }; c.min = function () { for (var f = [], k = 0; k < arguments.length; k++)f[k] = arguments[k]; return f.reduce(function (m, g) { return m.lessThan(g) ? m : g }) }; Object.defineProperties(c.prototype, { qc: { get: function () { return this.oc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, {
                                W: {
                                    get: function () { return this.ob },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(c.prototype, { T: { get: function () { return c.QZ(this.oc, this.ob) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { BI: { get: function () { return 1E3 * this.oc / this.ob }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { RI: { get: function () { var f = this.BI; return 0 > f ? Math.ceil(f) : Math.floor(f) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, {
                                vg: {
                                    get: function () { return this.oc / this.ob }, enumerable: !1,
                                    configurable: !0
                                }
                            }); c.prototype.dg = function (f) { f /= this.ob; return new c(Math.floor(this.oc * f), Math.floor(this.ob * f)) }; c.prototype.add = function (f) { if (this.ob === f.ob) return new c(this.oc + f.oc, this.ob); var k = a(this.ob, f.ob); return new c(this.oc * k / this.ob + f.oc * k / f.ob, k) }; c.prototype.Ja = function (f) { if (this.ob === f.ob) return new c(this.oc - f.oc, this.ob); var k = a(this.ob, f.ob); return new c(this.oc * k / this.ob - f.oc * k / f.ob, k) }; c.prototype.jI = function (f) { return new c(this.oc * f, this.ob) }; c.prototype.Hl = function (f) {
                                if ("number" ===
                                    typeof f) { var k = a(this.oc, f); return k !== this.oc ? this.dg(k / this.oc * this.ob).Hl(f) : new c(this.oc / f, this.ob) } if (this.ob === f.ob) return this.oc / f.oc; k = a(this.ob, f.ob); return this.oc * k / this.ob / (f.oc * k / f.ob)
                            }; c.prototype.OVa = function (f) { if (this.ob === f.ob) return new c(Math.abs(this.oc - f.oc), this.ob); var k = a(this.ob, f.ob); return new c(Math.abs(this.oc * k / this.ob - f.oc * k / f.ob), k) }; c.prototype.tva = function () { return new c(this.ob, this.oc) }; c.prototype.compare = function (f, k) {
                                if (this.ob === k.ob) return f(this.oc, k.oc);
                                var m = a(this.ob, k.ob); return f(this.oc * m / this.ob, k.oc * m / k.ob)
                            }; c.prototype.El = function (f) { if (this.ob === f.ob) return this.qc === f.oc ? 0 : this.oc - f.oc; var k = a(this.ob, f.ob); return this.oc * k / this.ob - f.oc * k / f.ob }; c.prototype.equal = function (f) { return this.compare(function (k, m) { return k === m }, f) }; c.prototype.r9 = function (f) { return this.compare(function (k, m) { return k !== m }, f) }; c.prototype.lessThan = function (f) { return this.compare(function (k, m) { return k < m }, f) }; c.prototype.greaterThan = function (f) {
                                return this.compare(function (k,
                                    m) { return k > m }, f)
                            }; c.prototype.XN = function (f) { return this.compare(function (k, m) { return k <= m }, f) }; c.prototype.Zr = function (f) { return this.compare(function (k, m) { return k >= m }, f) }; c.prototype.isFinite = function () { return !!this.ob && isFinite(this.oc) }; c.prototype.K6 = function (f) { return a(this.W, f) }; c.prototype.toJSON = function () { return { ticks: this.oc, timescale: this.ob } }; c.prototype.toString = function () { return this.oc + "/" + this.ob }; c.prototype.ae = function () { return this.oc + "/" + this.ob + " (" + this.T + "ms)" }; c.cb = new c(0,
                                1E3); c.nx = new c(1, 1E3); c.wD = new c(Infinity, 1); return c
                    }(); b.O = r
                }, function (r, b, a) {
                    function c() { c = Object.assign || function (C) { for (var H, L = 1, N = arguments.length; L < N; L++) { H = arguments[L]; for (var J in H) Object.prototype.hasOwnProperty.call(H, J) && (C[J] = H[J]) } return C }; return c.apply(this, arguments) } function f(C, H) { f = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (L, N) { L.__proto__ = N } || function (L, N) { for (var J in N) N.hasOwnProperty(J) && (L[J] = N[J]) }; return f(C, H) } function k(C, H) {
                        function L() {
                            this.constructor =
                                C
                        } f(C, H); C.prototype = null === H ? Object.create(H) : (L.prototype = H.prototype, new L)
                    } function m(C, H) { var L = {}, N; for (N in C) Object.prototype.hasOwnProperty.call(C, N) && 0 > H.indexOf(N) && (L[N] = C[N]); if (null != C && "function" === typeof Object.getOwnPropertySymbols) { var J = 0; for (N = Object.getOwnPropertySymbols(C); J < N.length; J++)0 > H.indexOf(N[J]) && Object.prototype.propertyIsEnumerable.call(C, N[J]) && (L[N[J]] = C[N[J]]) } return L } function g(C, H, L, N) {
                        var J = arguments.length, Q = 3 > J ? H : null === N ? N = Object.getOwnPropertyDescriptor(H,
                            L) : N, K; if ("object" === typeof Reflect && "function" === typeof Reflect.Pr) Q = Reflect.Pr(C, H, L, N); else for (var I = C.length - 1; 0 <= I; I--)if (K = C[I]) Q = (3 > J ? K(Q) : 3 < J ? K(H, L, Q) : K(H, L)) || Q; return 3 < J && Q && Object.defineProperty(H, L, Q), Q
                    } function d(C, H) { return function (L, N) { H(L, N, C) } } function h(C, H) { if ("object" === typeof Reflect && "function" === typeof Reflect.Hc) return Reflect.Hc(C, H) } function l(C, H, L, N) {
                        function J(Q) { return Q instanceof L ? Q : new L(function (K) { K(Q) }) } return new (L || (L = Promise))(function (Q, K) {
                            function I(P) { try { O(N.next(P)) } catch (S) { K(S) } }
                            function M(P) { try { O(N["throw"](P)) } catch (S) { K(S) } } function O(P) { P.done ? Q(P.value) : J(P.value).then(I, M) } O((N = N.apply(C, H || [])).next())
                        })
                    } function n(C, H) {
                        function L(O) { return function (P) { return N([O, P]) } } function N(O) {
                            if (Q) throw new TypeError("Generator is already executing."); for (; J;)try {
                                if (Q = 1, K && (I = O[0] & 2 ? K["return"] : O[0] ? K["throw"] || ((I = K["return"]) && I.call(K), 0) : K.next) && !(I = I.call(K, O[1])).done) return I; if (K = 0, I) O = [O[0] & 2, I.value]; switch (O[0]) {
                                    case 0: case 1: I = O; break; case 4: return J.label++, {
                                        value: O[1],
                                        done: !1
                                    }; case 5: J.label++; K = O[1]; O = [0]; continue; case 7: O = J.Wn.pop(); J.Vm.pop(); continue; default: if (!(I = J.Vm, I = 0 < I.length && I[I.length - 1]) && (6 === O[0] || 2 === O[0])) { J = 0; continue } if (3 === O[0] && (!I || O[1] > I[0] && O[1] < I[3])) J.label = O[1]; else if (6 === O[0] && J.label < I[1]) J.label = I[1], I = O; else if (I && J.label < I[2]) J.label = I[2], J.Wn.push(O); else { I[2] && J.Wn.pop(); J.Vm.pop(); continue }
                                }O = H.call(C, J)
                            } catch (P) { O = [6, P], K = 0 } finally { Q = I = 0 } if (O[0] & 5) throw O[1]; return { value: O[0] ? O[1] : void 0, done: !0 }
                        } var J = {
                            label: 0, Ac: function () {
                                if (I[0] &
                                    1) throw I[1]; return I[1]
                            }, Vm: [], Wn: []
                        }, Q, K, I, M; return M = { next: L(0), "throw": L(1), "return": L(2) }, "function" === typeof Symbol && (M[Symbol.iterator] = function () { return this }), M
                    } function q(C, H, L, N) { void 0 === N && (N = L); C[N] = H[L] } function p(C, H) { for (var L in C) "default" === L || H.hasOwnProperty(L) || (H[L] = C[L]) } function u(C) {
                        var H = "function" === typeof Symbol && Symbol.iterator, L = H && C[H], N = 0; if (L) return L.call(C); if (C && "number" === typeof C.length) return {
                            next: function () {
                                C && N >= C.length && (C = void 0); return {
                                    value: C && C[N++],
                                    done: !C
                                }
                            }
                        }; throw new TypeError(H ? "Object is not iterable." : "Symbol.iterator is not defined.");
                    } function t(C, H) { var L = "function" === typeof Symbol && C[Symbol.iterator]; if (!L) return C; C = L.call(C); var N, J = []; try { for (; (void 0 === H || 0 < H--) && !(N = C.next()).done;)J.push(N.value) } catch (K) { var Q = { error: K } } finally { try { N && !N.done && (L = C["return"]) && L.call(C) } finally { if (Q) throw Q.error; } } return J } function w() { for (var C = [], H = 0; H < arguments.length; H++)C = C.concat(t(arguments[H])); return C } function v() {
                        for (var C = 0, H = 0,
                            L = arguments.length; H < L; H++)C += arguments[H].length; C = Array(C); var N = 0; for (H = 0; H < L; H++)for (var J = arguments[H], Q = 0, K = J.length; Q < K; Q++, N++)C[N] = J[Q]; return C
                    } function x(C) { return this instanceof x ? (this.FE = C, this) : new x(C) } function y(C, H, L) {
                        function N(S) { M[S] && (O[S] = function (U) { return new Promise(function (Z, ia) { 1 < P.push([S, U, Z, ia]) || J(S, U) }) }) } function J(S, U) { try { var Z = M[S](U); Z.value instanceof x ? Promise.resolve(Z.value.FE).then(Q, K) : I(P[0][2], Z) } catch (ia) { I(P[0][3], ia) } } function Q(S) { J("next", S) } function K(S) {
                            J("throw",
                                S)
                        } function I(S, U) { (S(U), P.shift(), P.length) && J(P[0][0], P[0][1]) } if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var M = L.apply(C, H || []), O, P = []; return O = {}, N("next"), N("throw"), N("return"), O[Symbol.asyncIterator] = function () { return this }, O
                    } function z(C) {
                        function H(J, Q) { L[J] = C[J] ? function (K) { return (N = !N) ? { value: x(C[J](K)), done: "return" === J } : Q ? Q(K) : K } : Q } var L, N; return L = {}, H("next"), H("throw", function (J) { throw J; }), H("return"), L[Symbol.iterator] = function () { return this },
                            L
                    } function A(C) { function H(Q) { J[Q] = C[Q] && function (K) { return new Promise(function (I, M) { K = C[Q](K); L(I, M, K.done, K.value) }) } } function L(Q, K, I, M) { Promise.resolve(M).then(function (O) { Q({ value: O, done: I }) }, K) } if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var N = C[Symbol.asyncIterator], J; return N ? N.call(C) : (C = "function" === typeof u ? u(C) : C[Symbol.iterator](), J = {}, H("next"), H("throw"), H("return"), J[Symbol.asyncIterator] = function () { return this }, J) } function B(C, H) {
                        Object.defineProperty ?
                            Object.defineProperty(C, "raw", { value: H }) : C.raw = H; return C
                    } function E(C) { if (C && C.__esModule) return C; var H = {}; if (null != C) for (var L in C) Object.hasOwnProperty.call(C, L) && (H[L] = C[L]); H.default = C; return H } function D(C) { return C && C.__esModule ? C : { default: C } } function F(C, H) { if (!H.has(C)) throw new TypeError("attempted to get private field on non-instance"); return H.get(C) } function G(C, H, L) { if (!H.has(C)) throw new TypeError("attempted to set private field on non-instance"); H.set(C, L); return L } a.r(b); a.d(b,
                        "__extends", function () { return k }); a.d(b, "__assign", function () { return c }); a.d(b, "__rest", function () { return m }); a.d(b, "__decorate", function () { return g }); a.d(b, "__param", function () { return d }); a.d(b, "__metadata", function () { return h }); a.d(b, "__awaiter", function () { return l }); a.d(b, "__generator", function () { return n }); a.d(b, "__createBinding", function () { return q }); a.d(b, "__exportStar", function () { return p }); a.d(b, "__values", function () { return u }); a.d(b, "__read", function () { return t }); a.d(b, "__spread", function () { return w });
                    a.d(b, "__spreadArrays", function () { return v }); a.d(b, "__await", function () { return x }); a.d(b, "__asyncGenerator", function () { return y }); a.d(b, "__asyncDelegator", function () { return z }); a.d(b, "__asyncValues", function () { return A }); a.d(b, "__makeTemplateObject", function () { return B }); a.d(b, "__importStar", function () { return E }); a.d(b, "__importDefault", function () { return D }); a.d(b, "__classPrivateFieldGet", function () { return F }); a.d(b, "__classPrivateFieldSet", function () { return G })
                }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.yUa = b.aYa = b.Lo = b.Wf = b.$d = b.Zw = b.trim = b.rW = b.Nab = b.dva = b.mUb = b.Fd = b.$ia = b.bTa = b.Ub = b.xe = void 0; var c = a(20), f = a(28), k = a(11), m = a(18); b.xe = function (g, d) { for (var h in g) g.hasOwnProperty(h) && d(h, g[h]) }; b.Ub = b.Ub || function (g, d, h) { if (d) if (h) { var l = h.bO, n = h.prefix, q = h.JA; (0, b.xe)(d, function (p, u) { if (!q || (0, f.Mc)(u)) g[(n || "") + (l ? p.toLowerCase() : p)] = u }) } else (0, b.xe)(d, function (p, u) { g[p] = u }); return g }; b.bTa = function (g, d, h, l) {
                            if (g) {
                                var n = g[d]; (0, m.fd)(n) && (h = n.apply(g, k.slice.call(arguments,
                                    3)))
                            } return h
                        }; b.$ia = function (g) { for (var d = {}, h = g.length; h--;)d[g[h]] = !0; return d }; b.Fd = b.Fd || function (g) { return parseInt(g, 10) }; b.mUb = function (g) { return /^true$/i.test(g) }; b.dva = function (g, d) { return (0, k.lj)(g + (0, k.iF)() * (d - g)) }; b.Nab = function (g) { return JSON.stringify(g, null, "  ") }; b.rW = function () { function g(l) { (0, c.gb)(void 0 !== d[l]); return d[l] } var d = { "&": "&amp;", "'": "&#39;", '"': "&quot;", "<": "&lt;", ">": "&gt;" }, h = /[&'"<>]/g; return function (l) { return l.replace(h, g) } }(); b.trim = function () {
                            var g = /^\s+|\s+$/gm;
                            return function (d) { return d.replace(g, "") }
                        }(); b.Zw = function (g) { return Array.isArray(g) ? g : [g] }; b.$d = b.$d || function (g) { if (g) { var d = g.stack, h = g.number, l = g.message; l || (l = "" + g); d ? (g = "" + d, 0 != g.indexOf(l) && (g = l + "\n" + g)) : g = l; h && (g += "\nnumber:" + h); return g } }; b.Wf = function (g) { return (0, m.Ea)(g) ? g.toFixed(0) : "" }; b.Lo = function (g) { return (0, m.Ea)(g) ? (g / 1E3).toFixed(0) : "" }; b.aYa = function (g) { return (0, m.Ea)(g) ? g.toFixed() : "" }; b.yUa = function (g) { for (var d = [], h = 0; h < g.length; h++)d[h] = g[h]; return d }
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.pf = "IsTypeSymbol"
                }, function (r, b, a) {
                    function c(k) { return k.filter(function (m, g) { return k.indexOf(m) === g }) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.q9 = b.aKb = b.lyb = b.flatten = b.z4a = b.wxb = b.D3 = b.Kt = b.ORa = b.LRa = b.MRa = b.Xp = b.NRa = b.re = void 0; var f = a(2); b.re = function (k, m) { for (var g = 0; g < k.length; g++)if (m(k[g], g, k)) return k[g] }; b.NRa = function (k, m) { for (var g = k.length - 1; 0 <= g; --g)if (m(k[g], g, k)) return k[g] }; b.Xp = function (k, m) {
                        var g = -1; return k.some(function (d, h, l) {
                            g = h; return m(d,
                                h, l)
                        }) ? g : -1
                    }; b.MRa = function (k, m) { for (var g = k.length - 1; 0 <= g; g--)if (m(k[g], g, k)) return g; return -1 }; b.LRa = c; b.ORa = function (k, m) { m = k.indexOf(m); if (-1 === m) return !1; k.splice(m, 1); return !0 }; b.Kt = function (k, m, g) { return g ? k.filter(function (d) { return !m.some(function (h) { return g(d, h) }) }) : k.filter(function (d) { return -1 === m.indexOf(d) }) }; b.D3 = function (k, m) { return c(k.concat(m)) }; b.wxb = function (k) { return function (m, g) { return k(m) - k(g) } }; b.z4a = function (k) { return function (m, g) { return k(m) < k(g) ? m : g } }; b.flatten = function (k) {
                        var m;
                        return (m = []).concat.apply(m, f.__spread(k))
                    }; b.lyb = function (k, m) { void 0 === m && (m = function (g) { return g }); return k.reduce(function (g, d) { d = m(d); return void 0 === g[d] ? g[d] = 1 : ++g[d], g }, {}) }; b.aKb = function (k, m) { return k.reduce(function (g, d) { var h = m(d); return void 0 === g[h] ? g[h] = [d] : g[h].push(d), g }, {}) }; b.q9 = function (k) { return null !== k && void 0 !== k }
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.default = {
                        u6b: { Rv: 0, x$b: 1, name: ["STARTUP", "STEADY"] }, z0: {
                            Fh: 0, w$b: 1, gmb: 2, name: ["STARTING", "STABLE",
                                "UNSTABLE"]
                        }, Wa: { $b: 0, Pb: 1, name: ["AUDIO", "VIDEO"] }, ul: { $b: 0, Pb: 1, name: ["AUDIO", "VIDEO"] }, Eh: { URL: 0, DF: 1, LOCATION: 2, fy: 3, name: ["URL", "SERVER", "LOCATION", "NETWORK"] }, Sf: { HAVE_NOTHING: 0, IB: 1, Yx: 2, kK: 3, name: ["HAVE_NOTHING", "HAVE_SOMETHING", "HAVE_MINIMUM", "HAVE_ENOUGH"] }, my: { a6b: 0, $7b: 1, Y9b: 2, h9b: 3, G9b: 4, Z$b: 5, b8b: 6, I8b: 7, Rv: 8, Rf: 9, uea: 10, Rkb: 11, jca: 12, Oib: 13, Nib: 14, Clb: 15, Blb: 16, Sib: 17, name: "maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded".split(" ") },
                        C7b: { fy: 0, X6b: 1, name: ["NETWORK", "DECODE"] }, u$b: { Z6b: "delayedSeamless", l8b: "hideLongTransition" }
                    }
                }, function (r, b, a) {
                    function c(d) { return null !== d && void 0 !== d } function f(d) { return typeof d == b.qMa } function k(d, h, l) { if (h) if (l) { var n = l.bO, q = l.prefix, p = l.JA; (0, g.xe)(h, function (u, t) { if (!p || c(t)) d[(q || "") + (n ? u.toLowerCase() : u)] = t }) } else (0, g.xe)(h, function (u, t) { d[u] = t }); return d } Object.defineProperty(b, "__esModule", { value: !0 }); b.M = b.$d = b.rW = b.kN = b.OG = b.createElement = b.MC = b.PRa = b.r4 = b.fJ = b.Ub = b.Dp = b.Fd = b.DD =
                        b.Zf = b.Ph = b.Mc = b.pMa = b.Ylb = b.Zlb = b.qMa = b.JE = b.yba = b.$s = b.sQ = b.rQ = b.Mk = b.T0 = b.hF = b.iF = b.Cp = b.oo = b.lj = b.S0 = b.MB = b.$J = b.Vjb = b.xF = b.Xl = b.Sj = void 0; var m = a(11), g = a(24); b.Sj = function () { }; b.Xl = 1E3; b.xF = Object.create; b.Vjb = Object.keys; b.$J = Date.now; b.MB = Math.floor; b.S0 = Math.ceil; b.lj = Math.round; b.oo = Math.max; b.Cp = Math.min; b.iF = Math.random; b.hF = Math.abs; b.T0 = Math.pow; b.Mk = "$attributes"; b.rQ = "$children"; b.sQ = "$name"; b.$s = "$text"; b.yba = "$parent"; b.JE = "$sibling"; b.qMa = "string"; b.Zlb = "number"; b.Ylb = "function";
                    b.pMa = "object"; b.Mc = c; b.Ph = function (d) { return typeof d == b.pMa }; b.Zf = f; b.DD = function (d) { return f(d) && d }; b.Fd = function (d) { return parseInt(d, 10) }; b.Dp = function (d, h, l) { return d >= h ? d <= l ? d : l : h }; b.Ub = k; b.fJ = function (d) { return k({}, d) }; b.r4 = function (d) { for (var h = 0; h < arguments.length; ++h); h = 0; for (var l = arguments.length; h < l;) { var n = arguments[h++]; if (c(n)) return n } }; b.PRa = function (d, h) { for (var l, n = !0, q; n;)for (n = !1, l = d.length; --l;)q = d[l], q[h] < d[l - 1][h] && (d[l] = d[l - 1], d[l - 1] = q, n = !0) }; b.MC = function (d, h) {
                        if (d.length ==
                            h.length) { for (var l = d.length; l--;)if (d[l] != h[l]) return !1; return !0 } return !1
                    }; b.createElement = function (d, h, l, n) { var q = m.Be.createElement(d); h && (q.style.cssText = h); l && (q.innerHTML = l); n && (0, g.xe)(n, function (p, u) { q.setAttribute(p, u) }); return q }; b.OG = function (d) { var h = ""; (0, g.xe)(d, function (l, n) { h += (h ? ";" : "") + l + ":" + n }); return h }; b.kN = function (d, h, l) { if (d / h > l) { var n = (0, b.lj)(h * l); d = h } else n = d, d = (0, b.lj)(d / l); return { width: n, height: d } }; b.rW = function () {
                        function d(n) { return h[n] } var h = {
                            "&": "&amp;", "'": "&#39;",
                            '"': "&quot;", "<": "&lt;", ">": "&gt;"
                        }, l = /[&'"<>]/g; return function (n) { return n.replace(l, d) }
                    }(); b.$d = function (d) { if (d) { var h = d.stack, l = d.number; d = "" + d; h ? (h = "" + h, 0 != h.indexOf(d) && (h = d + "\n" + h)) : h = d; l && (h += "\nnumber:" + l); return h } }; b.M = { wl: 1001, ci: 1003, uhb: 1701, yDa: 1713, vhb: 1715, thb: 1721, t0: 1723 }
                }, function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Tj = "PlatformSymbol";
                    b.hy = "PlatformMutableSymbol";
                    console.log('defining object', b);
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.UE = b.lNa = b.lmb = b.Pj = b.xd = b.gn =
                        b.EB = b.Rj = void 0;
                    (function(a) {
                        a[a.Audio = 0] = "Audio";
                        a[a.fNa = 1] = "Video"
                    })(b.Rj || (b.Rj = {}));
                    (function(a) {
                        a[a.GB = 0] = "Default";
                        a[a.lF = 1] = "Microsoft"
                    })(b.EB || (b.EB = {}));
                    (function(a) {
                        a[a.GB = 0] = "Default";
                        a[a.P_ = 1] = "Cast";
                        a[a.mBa = 2] = "Chrome";
                        a[a.lF = 3] = "Microsoft"
                    })(b.gn || (b.gn = {}));
                    (function(a) {
                        a[a.aS = 0] = "SD";
                        a[a.cR = 1] = "HD";
                        a[a.HF = 2] = "UHD";
                        a[a.jr = 3] = "DV";
                        a[a.jt = 4] = "HDR10";
                        a[a.AB = 5] = "AVCHigh";
                        a[a.VB = 6] = "VP9";
                        a[a.tl = 7] = "AV1"
                    })(b.xd || (b.xd = {}));
                    (function(a) {
                        a[a.bF = 0] = "Level_1_4";
                        a[a.Iv = 1] = "Level_2_2"
                    })(b.Pj ||
                        (b.Pj = {}));
                    b.lmb = function() {};
                    (function(a) {
                        a[a.g$b = 0] = "Platform";
                        a[a.V6b = 1] = "CurrentTitle"
                    })(b.lNa || (b.lNa = {}));
                    b.UE = "DeviceCapabilitiesSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.oh = "UtilitiesSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.qNa = "WindowTimersSymbol"; b.$E = "JSONSymbol"; b.ZMa = "UserAgentSymbol"; b.tF = "NavigatorSymbol"; b.mHa = "MediaSourceSymbol"; b.XFa = "LocationSymbol"; b.ZBa = "DateSymbol"; b.Cea = "PerformanceSymbol"; b.WR = "PlatformExtraInfoSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.yca = "ConfigurableInputsSymbol"; b.Qk = "ValidatingConfigurableInputsSymbol"; b.R_ = "ConfigNameSymbol"; b.wR = "InitParamsSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Wl = b.ot = b.zp = void 0; (function (a) { a[a.Bfa = 0] = "Test"; a[a.vda = 1] = "Int"; a[a.SLa = 2] = "Staging"; a[a.FKa = 3] = "Prod" })(b.zp || (b.zp = {})); (function (a) { a[a.XR = 0] = "PreferMsl"; a[a.tKa = 1] = "PreferNoMsl"; a[a.OHa = 2] = "NoMsl" })(b.ot || (b.ot = {})); b.Wl = "GeneralConfigSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ih = "ClockSymbol" }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(144); b.ia = !1; r = function () {
                        function f(k, m, g, d, h) { this.oa = k; this.type = m; this.byteOffset = g; this.byteLength = d; this.parent = h; this.Ya = {}; this.Yn = d } f.Gn = function (k, m) { function g(n) { n && n.Gn && (n = n.Gn(m), n.length && (d = d.concat(n))) } var d = []; k.type === m && d.push(k); if (k.Ya) for (var h in k.Ya) { var l = k.Ya[h]; Array.isArray(l) && l.forEach(g) } return d }; f.It = function (k,
                            m) { void 0 === k.Ya[m.type] && (k.Ya[m.type] = []); k.Ya[m.type].push(m) }; f.Il = function (k, m) { return f.Gn(k, m)[0] }; Object.defineProperties(f.prototype, { startOffset: { get: function () { return this.byteOffset }, enumerable: !0, configurable: !0 } }); Object.defineProperties(f.prototype, { length: { get: function () { return this.byteLength }, enumerable: !0, configurable: !0 } }); Object.defineProperties(f.prototype, { u: { get: function () { return this.oa }, enumerable: !0, configurable: !0 } }); f.prototype.zc = function () {
                                var k = this.oa.Ca(); this.version =
                                    k >> 24; this.flags = k & 16777215
                            }; f.prototype.It = function (k) { f.It(this, k) }; f.prototype.Gn = function (k) { return f.Gn(this, k) }; f.prototype.Il = function (k) { return f.Il(this, k) }; f.prototype.parse = function () { return !0 }; f.prototype.ku = function () { return !0 }; f.prototype.Yh = function (k) { if ((k = this.Ya[k]) && Array.isArray(k) && 1 === k.length) return k[0] }; f.prototype.Ke = function (k, m) {
                                m = void 0 === m ? this.oa.offset : m; c.assert(m >= this.startOffset + 8 && m + k <= this.startOffset + this.Yn, "Removal range [0x" + m.toString(16) + "-0x" + (m + k).toString(16) +
                                    ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Yn).toString(16) + ")"); this.oa.Ke(k, m, this)
                            }; f.prototype.jv = function (k, m, g) { g = void 0 === g ? this.oa.offset : g; c.assert(g >= this.startOffset + 8 && g + k <= this.startOffset + this.Yn, "Removal range [0x" + g.toString(16) + "-0x" + (g + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Yn).toString(16) + ")"); this.oa.jv(k, m, g, this) }; f.prototype.BY = function (k, m, g) {
                                if (1 < g) {
                                    for (var d = []; 0 < g--;)d.push(this.hT(k,
                                        m)); return d
                                } return this.hT(k, m)
                            }; f.prototype.ej = function (k) { var m, g = this; void 0 === m && (m = {}); k.forEach(function (d) { if ("offset" === d.type) { var h = d.offset; if (0 < h % 8) throw Error("Requested offset " + d.offset + "is not an even byte multiple"); g.oa.offset += h / 8 } else for (h in d) { var l = d[h]; m[h] = "string" === typeof l ? g.BY(l) : g.BY(l.type, l.length, l.Zia) } }); return m }; f.prototype.hT = function (k, m) {
                                var g = this.byteLength - this.oa.offset + this.startOffset; "undefined" === typeof m && (m = g); switch (k) {
                                    case "int8": k = this.oa.tb();
                                        break; case "int64": k = this.oa.Vd(); break; case "int32": k = this.oa.Ca(); break; case "int16": k = this.oa.ad(); break; case "string": k = this.oa.hva(Math.min(m, g)); break; default: throw Error("Invalid type: " + k);
                                }return k
                            }; f.Ra = !1; return f
                    }(); b.Ec = r
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(151); b.ia = !1; r = function () {
                        function f(k, m, g, d, h) { this.oa = k; this.type = m; this.byteOffset = g; this.byteLength = d; this.parent = h; this.Ya = {}; this.Yn = d } f.Gn = function (k, m) {
                            function g(n) {
                                n && n.Gn && (n = n.Gn(m),
                                    n.length && (d = d.concat(n)))
                            } var d = []; k.type === m && d.push(k); if (k.Ya) for (var h in k.Ya) { var l = k.Ya[h]; Array.isArray(l) && l.forEach(g) } return d
                        }; f.It = function (k, m) { void 0 === k.Ya[m.type] && (k.Ya[m.type] = []); k.Ya[m.type].push(m) }; f.Il = function (k, m) { return f.Gn(k, m)[0] }; Object.defineProperties(f.prototype, { startOffset: { get: function () { return this.byteOffset }, enumerable: !0, configurable: !0 } }); Object.defineProperties(f.prototype, { length: { get: function () { return this.byteLength }, enumerable: !0, configurable: !0 } });
                        Object.defineProperties(f.prototype, { u: { get: function () { return this.oa }, enumerable: !0, configurable: !0 } }); f.prototype.zc = function () { var k = this.oa.Ca(); this.version = k >> 24; this.flags = k & 16777215 }; f.prototype.It = function (k) { f.It(this, k) }; f.prototype.Gn = function (k) { return f.Gn(this, k) }; f.prototype.Il = function (k) { return f.Il(this, k) }; f.prototype.parse = function () { return !0 }; f.prototype.ku = function () { return !0 }; f.prototype.Yh = function (k) { if ((k = this.Ya[k]) && Array.isArray(k) && 1 === k.length) return k[0] }; f.prototype.Ke =
                            function (k, m) { m = void 0 === m ? this.oa.offset : m; c.assert(m >= this.startOffset + 8 && m + k <= this.startOffset + this.Yn, "Removal range [0x" + m.toString(16) + "-0x" + (m + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Yn).toString(16) + ")"); this.oa.Ke(k, m, this) }; f.prototype.jv = function (k, m, g) {
                                g = void 0 === g ? this.oa.offset : g; c.assert(g >= this.startOffset + 8 && g + k <= this.startOffset + this.Yn, "Removal range [0x" + g.toString(16) + "-0x" + (g + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) +
                                    "-0x" + (this.startOffset + this.Yn).toString(16) + ")"); this.oa.jv(k, m, g, this)
                            }; f.prototype.BY = function (k, m, g) { if (1 < g) { for (var d = []; 0 < g--;)d.push(this.hT(k, m)); return d } return this.hT(k, m) }; f.prototype.ej = function (k) { var m, g = this; void 0 === m && (m = {}); k.forEach(function (d) { if ("offset" === d.type) { var h = d.offset; if (0 < h % 8) throw Error("Requested offset " + d.offset + "is not an even byte multiple"); g.oa.offset += h / 8 } else for (h in d) { var l = d[h]; m[h] = "string" === typeof l ? g.BY(l) : g.BY(l.type, l.length, l.Zia) } }); return m };
                        f.prototype.hT = function (k, m) { var g = this.byteLength - this.oa.offset + this.startOffset; "undefined" === typeof m && (m = g); switch (k) { case "int8": k = this.oa.tb(); break; case "int64": k = this.oa.Vd(); break; case "int32": k = this.oa.Ca(); break; case "int16": k = this.oa.ad(); break; case "string": k = this.oa.hva(Math.min(m, g)); break; default: throw Error("Invalid type: " + k); }return k }; f.Ra = !1; return f
                    }(); b.Ec = r
                }, function (r, b, a) {
                    function c(d, h) { return d && d.Gu && (h || !1 !== d.ou) } function f(d, h, l) { return !m.Ea(d) || d < h ? h : d > l ? l : d } function k(d) {
                        if (!(this instanceof
                            k)) return new k(d); this.Le = m.Ea(d) ? d : void 0
                    } var m = a(10), g = new (a(6).default.Console)("ASEJS_STREAM_SELECTOR", "media|asejs"); r.exports = {
                        console: g, debug: !1, assert: function (d, h) { if (!d) throw d = h ? " : " + h : "", g.error("Assertion failed" + d), Error("ASEJS_STREAM_SELECTOR assertion failed" + d); }, LH: c, hna: function (d, h, l) {
                            function n(w) { var v = d[w]; if (!v.Gu || l && !l(v, w)) return !1; t = w; return !0 } var q = d.length, p = 0, u = q, t; m.isArray(h) && (p = f(h[0], 0, q), u = f(h[1], 0, q), h = h[2]); h = f(h, p - 1, u); for (q = h - 1; q >= p; --q)if (n(q)) return t;
                            for (q = h + 1; q < u; ++q)if (n(q)) return t; return -1
                        }, yRb: function (d, h) { return Math.floor(d / (125 * h) * 1E3) }, svb: function (d, h) { return Math.ceil(d / 1E3 * h * 125) }, $cc: function (d, h) { return !d.slice(h + 1).some(c) }, Gp: k, re: function (d, h) { var l; return d.some(function (n, q, p) { l = n; return h(n, q, p) }) ? l : void 0 }, Xp: function (d, h) { var l; return d.some(function (n, q, p) { l = q; return h(n, q, p) }) ? l : -1 }, l4: f
                    }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ai = "AsyncComponentLoaderSymbol" }, function (r, b, a) {
                    function c(k, m, g,
                        d, h, l, n, q, p, u, t, w) { this.code = void 0 === k ? f.N.wl : k; this.jd = m; this.Kg = g; this.Hw = d; this.FA = h; this.message = l; this.details = n; this.data = q; this.vm = p; this.hVb = u; this.alert = t; this.Kia = w; this.ga = !1 } Object.defineProperty(b, "__esModule", { value: !0 }); b.Wc = void 0; var f = a(3); c.$d = function (k) { if (k) { var m = k.stack, g = k.number, d = k.message; d || (d = "" + k); m ? (k = "" + m, 0 !== k.indexOf(d) && (k = d + "\n" + k)) : k = d; g && (k += "\nnumber:" + g); return k } return "" }; c.prototype.OU = function (k) { this.details = c.$d(k); this.data = k }; c.prototype.toString = function () { return JSON.stringify(this.toJSON) };
                    c.prototype.toJSON = function () { return { code: this.code, subCode: this.jd, extCode: this.Kg, edgeCode: this.Hw, mslCode: this.FA, message: this.message, details: this.details, data: this.data, errorDisplayMessage: this.vm, playbackServiceError: this.hVb } }; c.Bna = function (k, m) { return new c(k, f.M.ci, void 0, void 0, void 0, void 0, m.message, m.stack) }; c.Edb = function (k, m) { return new c(k, m, void 0, void 0, void 0, void 0, void 0, void 0) }; c.H5b = function (k, m, g) { return new c(k, m, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, g) };
                    b.Wc = c
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.kj = "Base64EncoderSymbol" }, function (r, b, a) {
                    function c(h) { return function (l, n) { return l.ova(n, h) } } function f(h, l) { return h.v$.RWb[l] || k(h, l) } function k(h, l) { h = h.eA.data[l]; switch (typeof h) { case "undefined": break; case "string": case "number": case "boolean": return h.toString(); default: return JSON.stringify(h) } } Object.defineProperty(b, "__esModule", { value: !0 }); b.Xy = b.xva = b.object = b.hEb = b.url = b.ea = b.il = b.vya = b.rMb = b.oJ = b.string = b.tB =
                        b.Rc = b.xD = b.config = void 0; var m = a(47), g = a(4), d = a(139); b.config = function (h, l, n) { n = void 0 === n ? !1 : n; return function (q, p, u) { var t = void 0 !== l ? l : p, w = u.get; void 0 !== w && (u.get = function () { if (!this.kNb(p)) return this.fJb(p); a: { var v = (this.dtb || n ? f : k)(this, t.toString()); if (void 0 !== v) if (v = h(this.HX, v), v instanceof d.Ep) this.dYa(t, v); else break a; v = w.bind(this)() } this.r9a(p, v); return v }); return u } }; b.xD = function (h, l) { return h.g8a(l) }; b.Rc = function (h, l) { return h.gva(l) }; b.tB = function (h, l) { return h.Mq(l) }; b.string =
                            function (h, l) { return h.ova(l) }; b.oJ = function (h, l) { return h.dj(l, b.string) }; b.rMb = function (h, l) { return h.dj(l, b.xD) }; b.vya = function (h, l) { return h.dj(l, b.tB) }; b.il = function (h, l) { h = h.Mq(l); return h instanceof d.Ep ? h : (0, g.Nc)(h) }; b.ea = function (h, l) { h = h.Mq(l); return h instanceof d.Ep ? h : (0, m.ea)(h) }; b.url = c(/^\S+$/); b.hEb = function (h) { return function (l, n) { return l.f8a(n, h) } }; b.object = function () { return function (h, l) { return h.h8a(l) } }; b.xva = c; b.Xy = function (h, l) { return function (n, q) { return n.dj(q, h, l) } }
                }, function (r,
                    b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.xRb = b.platform = b.Ui = b.Yb = b.hIb = b.$V = b.rH = b.wPb = b.GF = b.me = b.ko = b.Nj = b.wK = b.tt = b.KF = void 0; var c = a(2); c.__exportStar(a(166), b); c.__exportStar(a(352), b); c.__exportStar(a(720), b); c.__exportStar(a(721), b); c.__exportStar(a(722), b); var f = a(100); Object.defineProperties(b, { KF: { enumerable: !0, get: function () { return f.KF } } }); Object.defineProperties(b, { tt: { enumerable: !0, get: function () { return f.tt } } }); Object.defineProperties(b, { wK: { enumerable: !0, get: function () { return f.wK } } });
                    c.__exportStar(a(733), b); c.__exportStar(a(356), b); c.__exportStar(a(219), b); c.__exportStar(a(22), b); c.__exportStar(a(357), b); var k = a(358); Object.defineProperties(b, { Nj: { enumerable: !0, get: function () { return k.Nj } } }); Object.defineProperties(b, { ko: { enumerable: !0, get: function () { return k.ko } } }); var m = a(57); Object.defineProperties(b, { me: { enumerable: !0, get: function () { return m.me } } }); var g = a(221); Object.defineProperties(b, { GF: { enumerable: !0, get: function () { return g.GF } } }); c.__exportStar(a(222), b); b.wPb = function (h) {
                        b.platform.wW(h);
                        return a(747).FGa
                    }; b.rH = function (h) { b.platform.wW(h); return Promise.resolve().then(function () { return c.__importStar(a(256)) }).then(function (l) { return l.rH() }) }; b.$V = function (h, l) { b.platform.wW(h); return Promise.resolve().then(function () { return c.__importStar(a(420)) }).then(function (n) { return n.$V(l) }) }; b.hIb = function () { return a(225) }; r = c.__importDefault(a(27)); b.Yb = r.default; r = a(969); b.Ui = r.Ui; r = c.__importDefault(a(6)); b.platform = r.default; var d = a(970); b.xRb = function () { return { ur: d.ur } }
                }, function (r,
                    b, a) {
                    function c(h) { var l, n, q = Object.getOwnPropertyNames(h); for (h = Object.getPrototypeOf(h); h !== Object.prototype;) { try { for (var p = (l = void 0, m.__values(Object.getOwnPropertyNames(h))), u = p.next(); !u.done; u = p.next()) { var t = u.value; -1 === q.indexOf(t) && q.push(t) } } catch (w) { l = { error: w } } finally { try { u && !u.done && (n = p.return) && n.call(p) } finally { if (l) throw l.error; } } h = Object.getPrototypeOf(h) } return q } function f(h, l, n, q, p) {
                        var u; Object.getOwnPropertyNames(h).filter(function (t) {
                            return p(t) && (n || !Object.prototype.hasOwnProperty.call(l,
                                t)) && (q || !(t in l))
                        }).forEach(function (t) { u = Object.getOwnPropertyDescriptor(h, t); void 0 !== u && Object.defineProperty(l, t, u) })
                    } function k(h, l, n, q) { var p = []; n || (p = Object.getOwnPropertyNames(l)); q || (p = c(l)); var u = Object.getPrototypeOf(h); null !== u && u !== Object.prototype && k(u, l, n, q); f(h, l, !0, !0, function (t) { return "constructor" !== t && -1 === p.indexOf(t) }) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.zf = b.jyb = void 0; var m = a(2), g = a(5); b.jyb = k; var d = Object.getOwnPropertyNames(Function); b.zf = function (h, l,
                        n, q) { void 0 === n && (n = !0); void 0 === q && (q = !0); q || g.assert(!n); h.prototype ? (k(h.prototype, l.prototype, n, q), f(h, l, n, q, function (p) { return -1 === d.indexOf(p) })) : f(h, l.prototype, n, q, function (p) { return -1 === d.indexOf(p) }); return l }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.OB = "named"; b.X0 = "name"; b.hS = "unmanaged"; b.bIa = "optional"; b.vR = "inject"; b.fF = "multi_inject"; b.lMa = "inversify:tagged"; b.mMa = "inversify:tagged_props"; b.lea = "inversify:paramtypes"; b.ogb = "design:paramtypes"; b.UR = "post_construct" },
                function (r, b, a) {
                    function c() { var v; if (v = b.dW.LPa) return v; v = u.$0.search.substr(1); var x = v.indexOf("#"); 0 <= x && (v = v.substr(0, x)); v = f(v); return b.dW.LPa = v } function f(v) { for (var x = /[+]/g, y = (v || "").split("&"), z = {}, A, B = 0; B < y.length; B++)v = (0, q.trim)(y[B]), A = v.indexOf("="), 0 <= A ? z[decodeURIComponent(v.substr(0, A).replace(x, "%20")).toLowerCase()] = decodeURIComponent(v.substr(A + 1).replace(x, "%20")) : z[v.toLowerCase()] = null; return z } function k(v) {
                        return (v = /function (.{1,})\(/.exec(v.toString())) && 1 < v.length ? v[1] :
                            ""
                    } function m(v) { return k(v.constructor) } function g(v) { return u.sort.call(v, function (x, y) { return x - y }) } function d(v) { for (var x = 0, y = v.length; y--;)x += v[y]; return x } Object.defineProperty(b, "__esModule", { value: !0 }); b.DVb = b.tH = b.fZa = b.N7 = b.AVb = b.I1a = b.afb = b.bfb = b.DFb = b.St = b.Gxb = b.kN = b.WEb = b.V5a = b.reb = b.yQ = b.seb = b.D_ = b.qeb = b.nMb = b.OG = b.A7a = b.ota = b.Vna = b.getFunctionName = b.AO = b.YX = b.dW = b.ZIb = b.jva = b.aRa = b.jUa = b.XWb = b.MC = b.QTa = void 0; var h = a(12), l = a(20), n = a(8), q = a(24), p = a(28), u = a(11), t = a(18), w = a(56); b.QTa =
                        function (v, x) { if (v === x) return !0; if (!v || !x) return !1; for (var y in v) if (v.hasOwnProperty(y) && (!x.hasOwnProperty(y) || v[y] !== x[y])) return !1; return !0 }; b.MC = b.MC || function (v, x) { if (v.length == x.length) { for (var y = v.length; y--;)if (v[y] != x[y]) return !1; return !0 } return !1 }; b.XWb = function (v) { if (v) { var x = v.length; if (x) return x = (0, q.dva)(0, x - 1), v[x] } }; b.jUa = function (v, x) { if (v.length != x.length) return !1; v.sort(); x.sort(); for (var y = v.length; y--;)if (v[y] !== x[y]) return !1; return !0 }; b.aRa = function (v, x, y) {
                            function z() {
                                v.removeEventListener(x,
                                    z); y.apply(this, arguments)
                            } v.addEventListener(x, z)
                        }; b.jva = function () { var v = u.Be.cookie.split("; "), x = v.length, y, z, A = {}; for (y = 0; y < x; y++)if (z = (0, q.trim)(v[y])) { var B = z.indexOf("="); 0 < B && (A[z.substr(0, B)] = z.substr(B + 1)) } return A }; b.ZIb = c; b.dW = Object.assign(c, { LPa: void 0 }); b.YX = f; b.AO = function (v) { var x = ""; (0, q.xe)(v, function (y, z) { x && (x += "&"); (0, l.gb)((0, p.Zf)(z) || (0, t.Ea)(z) || (0, t.tqa)(z)); x += encodeURIComponent(y) + "=" + encodeURIComponent(z) }); return x }; b.getFunctionName = k; b.Vna = m; b.ota = function (v) {
                            var x =
                                ""; (0, t.isArray)(v) || (0, t.Tqa)(v) ? x = u.reduce.call(v, function (y, z) { return y + (32 <= z && 128 > z ? (0, u.gMa)(z) : ".") }, "") : (0, p.Zf)(v) ? x = v : (0, q.xe)(v, function (y, z) { x += (x ? ", " : "") + "{" + y + ": " + ((0, t.fd)(z) ? k(z) || "function" : z) + "}" }); return "[" + m(v) + " " + x + "]"
                        }; b.A7a = function (v, x) { v.firstChild ? v.insertBefore(x, v.firstChild) : v.appendChild(x) }; b.OG = b.OG || function (v) { var x = ""; (0, q.xe)(v, function (y, z) { x += (x ? ";" : "") + y + ":" + z }); return x }; b.nMb = function (v, x) {
                            var y = v[0]; if (x <= y[0]) return y.slice(1); for (var z = 1, A; A = v[z++];) {
                                if (x <=
                                    A[0]) { v = (x - y[0]) / (A[0] - y[0]); x = []; for (z = 1; z < y.length; z++)x.push((y[z] || 0) + v * ((A[z] || 0) - (y[z] || 0))); return x } y = A
                            } return y.slice(1)
                        }; b.qeb = function (v, x) { for (var y = {}, z = 0; z < x.length; z++) { var A = x[z]; if ("string" != typeof A && "number" != typeof A) return !1; y[x[z]] = 1 } for (z = 0; z < v.length; z++)if (A = v[z], !y[A]) return !1; return !0 }; b.D_ = g; b.seb = d; b.yQ = function (v, x) {
                            var y = -1, z = v.length, A, B; if (1 === arguments.length) { for (; ++y < z && !(null != (A = v[y]) && A <= A);)A = void 0; for (; ++y < z;)null != (B = v[y]) && B > A && (A = B) } else {
                                for (; ++y < z && !(null !=
                                    (A = x.call(v, v[y], y)) && A <= A);)A = void 0; for (; ++y < z;)null != (B = x.call(v, v[y], y)) && B > A && (A = B)
                            } return A
                        }; b.reb = function (v, x) { var y = -1, z = v.length, A, B; if (1 === arguments.length) { for (; ++y < z && !(null != (A = v[y]) && A <= A);)A = void 0; for (; ++y < z;)null != (B = v[y]) && A > B && (A = B) } else { for (; ++y < z && !(null != (A = x.call(v, v[y], y)) && A <= A);)A = void 0; for (; ++y < z;)null != (B = x.call(v, v[y], y)) && A > B && (A = B) } return A }; b.V5a = function (v) { return (0, t.fd)(v.then) ? v : new Promise(function (x, y) { v.oncomplete = function () { x(v.result) }; v.onerror = function () { y(v.error) } }) };
                    b.WEb = function (v, x) { function y(G) { 0 > z.indexOf(G) && (0, t.Ea)(G) && z.push(G) } v = v.slice(); g(v); var z = []; if (!x || !x.length) return v; if (!v.length) return []; var A = x.length, B; try { for (; A--;) { var E = "" + x[A], D = (0, p.Fd)(E); switch (E[E.length - 1]) { case "-": for (B = v.length; B--;) { var F = v[B]; if (F < D) { y(F); break } } break; case "+": for (B = 0; B < v.length; B++)if (F = v[B], F > D) { y(F); break } break; default: 0 <= v.indexOf(D) && y(D) } } } catch (G) { } z.length || z.push(v[0]); g(z); return z }; b.kN = b.kN || function (v, x, y) {
                        if (v / x > y) { var z = (0, u.lj)(x * y); v = x } else z =
                            v, v = (0, u.lj)(v / y); return { width: z, height: v }
                    }; b.Gxb = function (v, x, y) { for (var z = [], A = 0; A < x; A++)z.push((0, u.T0)(v[A] - y, 2)); return (0, u.SGa)(d(z) / z.length) }; b.St = function (v, x) { var y = v.length; x = (y - 1) * x + 1; if (1 === x) return v[0]; if (x == y) return v[y - 1]; y = (0, u.MB)(x); return v[y - 1] + (x - y) * (v[y] - v[y - 1]) }; b.DFb = function (v, x) {
                        if (!(0, t.isArray)(v)) throw Error("boxes is not an array"); if (0 >= v.length) throw Error("There are no boxes in boxes"); x = (0, t.isArray)(x) ? x : [x]; for (var y = v.length, z = 0; z < y; z++)for (var A = 0; A < x.length; A++)if (v[z].type ==
                            x[A]) return v[z]; throw Error("Box not found " + x);
                    }; b.bfb = function (v) { return v.jHb("trak/mdia/minf/stbl/stsd/" + h.sAa + "|" + h.tAa).children.filter(function (x) { return "sinf" == x.type && x.gcc.schm.Rec == w.Cv })[0].jHb("schi/tenc").Qn }; b.afb = function (v) { function x(z, A) { var B = y[z]; y[z] = y[A]; y[A] = B } var y = new Uint8Array(v); x(0, 3); x(1, 2); x(4, 5); x(6, 7); return y }; b.I1a = function () { return (0, t.fd)(u.ie.requestMediaKeySystemAccess) }; b.AVb = function (v) { return function (x) { return x && x[v] } }; (0, t.fd)(ArrayBuffer.prototype.slice) ||
                        (ArrayBuffer.prototype.slice = function (v, x) { void 0 === v && (v = 0); void 0 === x && (x = this.byteLength); v = Math.floor(v); x = Math.floor(x); 0 > v && (v += this.byteLength); 0 > x && (x += this.byteLength); v = Math.min(Math.max(0, v), this.byteLength); x = Math.min(Math.max(0, x), this.byteLength); if (0 >= x - v) return new ArrayBuffer(0); var y = new ArrayBuffer(x - v), z = new Uint8Array(y); v = new Uint8Array(this, v, x - v); z.set(v); return y }); b.N7 = function (v) { return v && 0 == v.toLowerCase().indexOf("https") }; b.fZa = function () {
                            var v = new ArrayBuffer(4), x =
                                new Uint8Array(v); v = new Uint32Array(v); x[0] = 161; x[1] = 178; x[2] = 195; x[3] = 212; return 3569595041 == v[0] ? "LE" : 2712847316 == v[0] ? "BE" : "undefined"
                        }; b.tH = function () { try { var v = /playercore.*js/, x = u.Lv.getEntries("resource").filter(function (z) { return null !== v.exec(z.name) }); if (x && 0 < x.length) { var y = (0, u.lj)(x[0].duration); return JSON.stringify(y) } } catch (z) { } }; b.DVb = function (v, x, y) {
                            if (v && v.length) if (y && y.Qwb) try {
                                v.forEach(function (z, A) {
                                    var B = (A = y.Qwb[A]) && A.media; B && (0, p.Zf)(B) ? (!1, B = (0, n.$y)(B).buffer, z.media =
                                        { arrayBuffer: B, length: B.byteLength, stream: x, uc: A.cdn }) : n.log.warn("chunk not in cache", z.Th)
                                })
                            } catch (z) { n.log.error("error reading cached chunks", z) } else n.log.warn("chunks not available in cached stream", y.type); else n.log.warn("chunks not available in mediabuffer", y.type)
                        }
                }, function (r, b, a) {
                    function c() { return k.iS.apply(this, arguments) || this } function f(m) { return new k.kt(m, b.OE) } Object.defineProperty(b, "__esModule", { value: !0 }); b.cb = b.pHa = b.Cda = b.hr = b.OE = b.HQb = b.WNb = b.ea = b.bz = b.jfb = void 0; var k =
                        a(318); qa(c, k.iS); b.jfb = c; b.bz = f; b.ea = function (m) { return new k.kt(m, b.hr) }; b.WNb = function (m) { return new k.kt(m, b.Cda) }; b.HQb = function (m) { return new k.kt(m, b.pHa) }; b.OE = new c(1, "b"); b.hr = new c(8 * b.OE.wg, "B", b.OE); b.Cda = new c(1024 * b.hr.wg, "KB", b.OE); b.pHa = new c(1024 * b.Cda.wg, "MB", b.OE); b.cb = f(0)
                }, function (r, b, a) {
                    function c(h, l) { var n = d.call(this, h, l) || this; n.cUa = l; n.debug = h.debug; n.wa = h.bg.lb(n.cUa); return n } function f(h, l) { this.cUa = l; this.Tua = {}; this.eA = h.eA; this.HX = h.HX; this.v$ = h.v$ } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.$e = b.FQ = b.nMa = void 0; r = a(1); var k = a(611), m = a(0), g = a(139); b.nMa = "isTestAccount"; f.prototype.dYa = function () { }; f.prototype.r9a = function (h, l) { this.Tua[h] = [l, this.eA.ewa] }; f.prototype.kNb = function (h) { return k.kea.of(this.Tua[h]).map(function (l) { return l[1] }).or(-1) < this.eA.ewa }; f.prototype.fJb = function (h) { return k.kea.of(this.Tua[h]).map(function (l) { return l[0] }).or(function () { throw Error("Invalid State Error"); }) }; Ya.Object.defineProperties(f.prototype, {
                            dtb: {
                                configurable: !0,
                                enumerable: !0, get: function () { if (this && this.eA && this.eA.data) { var h = this.eA.data[b.nMa], l; "undefined" !== typeof h && (l = h.toString()); h = this.HX.gva(l); h = h instanceof g.Ep ? !1 : h } else h = !1; return h }
                            }
                        }); var d = f; d = r.__decorate([(0, m.R)(), r.__param(0, (0, m.Wm)()), r.__param(1, (0, m.Wm)())], d); b.FQ = d; qa(c, d); c.prototype.dYa = function (h, l) { this.wa.error("Invalid configuration value.", { name: h }, l); this.debug.assert(!1) }; a = c; a = r.__decorate([r.__param(0, (0, m.Wm)()), r.__param(1, (0, m.Wm)())], a); b.$e = a
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.Uj = "SchedulerSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Tc = void 0; b.Tc = function (a) { return setTimeout(a, 0) } }, function (r, b) {
                    function a() { } function c() { } function f() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.Vj = b.xg = b.V = void 0; b.V = f; f.w0 = "playready-h264mpl30-dash"; f.aR = "playready-h264mpl31-dash"; f.eda = "playready-h264mpl40-dash"; f.RDa = "playready-h264hpl22-dash"; f.bda = "playready-h264hpl30-dash"; f.cda = "playready-h264hpl31-dash"; f.dda = "playready-h264hpl40-dash";
                    f.Gfa = "vp9-profile0-L21-dash-cenc"; f.M1 = "vp9-profile0-L30-dash-cenc"; f.N1 = "vp9-profile0-L31-dash-cenc"; f.O1 = "vp9-profile0-L40-dash-cenc"; f.VDa = "hevc-main10-L30-dash-cenc"; f.WDa = "hevc-main10-L31-dash-cenc"; f.XDa = "hevc-main10-L40-dash-cenc"; f.YDa = "hevc-main10-L41-dash-cenc"; f.mK = "hevc-main10-L50-dash-cenc"; f.nK = "hevc-main10-L51-dash-cenc"; f.A0 = "hevc-main10-L30-dash-cenc-prk"; f.C0 = "hevc-main10-L31-dash-cenc-prk"; f.E0 = "hevc-main10-L40-dash-cenc-prk"; f.G0 = "hevc-main10-L41-dash-cenc-prk"; f.B0 = "hevc-main10-L30-dash-cenc-prk-do";
                    f.D0 = "hevc-main10-L31-dash-cenc-prk-do"; f.F0 = "hevc-main10-L40-dash-cenc-prk-do"; f.H0 = "hevc-main10-L41-dash-cenc-prk-do"; f.oR = "hevc-main10-L50-dash-cenc-prk-do"; f.pR = "hevc-main10-L51-dash-cenc-prk-do"; f.Y_ = "hevc-dv5-main10-L30-dash-cenc-prk"; f.$_ = "hevc-dv5-main10-L31-dash-cenc-prk"; f.b0 = "hevc-dv5-main10-L40-dash-cenc-prk"; f.d0 = "hevc-dv5-main10-L41-dash-cenc-prk"; f.f0 = "hevc-dv5-main10-L50-dash-cenc-prk"; f.h0 = "hevc-dv5-main10-L51-dash-cenc-prk"; f.Z_ = "hevc-dv5-main10-L30-dash-cenc-prk-do"; f.a0 = "hevc-dv5-main10-L31-dash-cenc-prk-do";
                    f.c0 = "hevc-dv5-main10-L40-dash-cenc-prk-do"; f.e0 = "hevc-dv5-main10-L41-dash-cenc-prk-do"; f.g0 = "hevc-dv5-main10-L50-dash-cenc-prk-do"; f.i0 = "hevc-dv5-main10-L51-dash-cenc-prk-do"; f.dR = "hevc-hdr-main10-L30-dash-cenc-prk"; f.fR = "hevc-hdr-main10-L31-dash-cenc-prk"; f.lK = "hevc-hdr-main10-L40-dash-cenc-prk"; f.iR = "hevc-hdr-main10-L41-dash-cenc-prk"; f.kR = "hevc-hdr-main10-L50-dash-cenc-prk"; f.mR = "hevc-hdr-main10-L51-dash-cenc-prk"; f.eR = "hevc-hdr-main10-L30-dash-cenc-prk-do"; f.gR = "hevc-hdr-main10-L31-dash-cenc-prk-do";
                    f.hR = "hevc-hdr-main10-L40-dash-cenc-prk-do"; f.jR = "hevc-hdr-main10-L41-dash-cenc-prk-do"; f.lR = "hevc-hdr-main10-L50-dash-cenc-prk-do"; f.nR = "hevc-hdr-main10-L51-dash-cenc-prk-do"; f.vza = "av1-main-L20-dash-cbcs-prk"; f.wza = "av1-main-L21-dash-cbcs-prk"; f.Lba = "av1-main-L30-dash-cbcs-prk"; f.Mba = "av1-main-L31-dash-cbcs-prk"; f.Nba = "av1-main-L40-dash-cbcs-prk"; f.Oba = "av1-main-L41-dash-cbcs-prk"; f.Pba = "av1-main-L50-dash-cbcs-prk"; f.Qba = "av1-main-L51-dash-cbcs-prk"; f.lfb = [f.w0, f.aR, f.eda]; f.Rdb = [f.bda, f.cda, f.dda];
                    f.Sdb = [f.M1, f.N1, f.O1]; f.sfb = [f.VDa, f.WDa, f.XDa, f.YDa, f.mK, f.nK]; f.rfb = [f.A0, f.C0, f.E0, f.G0, f.mK, f.nK]; f.qfb = [f.B0, f.D0, f.F0, f.H0, f.oR, f.pR]; f.pfb = [f.dR, f.fR, f.lK, f.iR, f.kR, f.mR]; f.ofb = [f.eR, f.gR, f.hR, f.jR, f.lR, f.nR]; f.nfb = [f.Y_, f.b0, f.f0, f.$_, f.d0, f.h0]; f.mfb = [f.Z_, f.c0, f.g0, f.a0, f.e0, f.i0]; b.xg = c; c.x0 = "heaac-2-dash"; c.TDa = "heaac-5.1-dash"; c.y0 = "heaac-2hq-dash"; c.NK = "xheaac-dash"; c.U_ = "ddplus-2.0-dash"; c.T_ = "ddplus-5.1-dash"; c.QQ = "ddplus-atmos-dash"; b.Vj = a; a.jLa = "simplesdh"; a.V_ = "dfxp-ls-sdh"; a.EEa =
                        "imsc1.1"; a.Nfa = "webvtt-lssdh-ios8"; a.qF = "nflx-cmisc"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Gda = "LogBatcherConfigSymbol"; b.no = "LogBatcherSymbol"; b.$Fa = "LogBatcherProviderSymbol" }, function (r, b, a) { var c = a(129), f = a(179); r.exports = function (k) { return function h(g, d) { switch (arguments.length) { case 0: return h; case 1: return f(g) ? h : c(function (l) { return k(g, l) }); default: return f(g) && f(d) ? h : f(g) ? c(function (l) { return k(l, d) }) : f(d) ? c(function (l) { return k(g, l) }) : k(g, d) } } } }, function (r,
                    b, a) { function c() { return f.mc.get(m.bd).oA.$(d.ja) } Object.defineProperty(b, "__esModule", { value: !0 }); b.nxb = b.Dka = b.DTa = b.lxb = b.mxb = b.p4 = b.jk = void 0; var f = a(199), k = a(35), m = a(16), g = a(83), d = a(4); b.jk = function () { return f.mc.get(m.bd).Rb().$(d.ja) }; b.p4 = function () { return f.mc.get(k.ih).Ie.$(d.Zl) }; b.mxb = function () { return f.mc.get(m.bd).oA.$(d.Zl) }; b.lxb = function () { return f.mc.get(g.$x).nz() }; b.DTa = c; b.Dka = function () { return f.mc.get(k.ih).Ie.$(d.ja) }; b.nxb = function () { return c() } }, function (r, b) {
                        Object.defineProperty(b,
                            "__esModule", { value: !0 }); b.cn = "PboCommandContextSymbol"
                    }, function (r, b, a) {
                        function c(k) { var m = k.getConfiguration(); return [b.oK, b.ofa, b.A1].find(function (g) { var d; return null === (d = m.videoCapabilities) || void 0 === d ? void 0 : d.some(function (h) { return h.robustness === g }) }) } Object.defineProperty(b, "__esModule", { value: !0 }); b.Doa = b.poa = b.toa = b.oK = b.ofa = b.A1 = b.nNa = b.oNa = b.nIa = b.Yca = b.Cv = void 0; var f = a(18); b.Cv = "cenc"; b.Yca = "MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";
                        b.nIa = "Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";
                        b.oNa = "Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";
                        b.nNa = "CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";
                        b.A1 = "SW_SECURE_CRYPTO"; b.ofa = "SW_SECURE_DECODE"; b.oK = "HW_SECURE_DECODE"; b.toa = c; b.poa = function (k) { if (k) { var m = null === k || void 0 === k ? void 0 : k.keySystem; (k = c(k)) && (m += "." + k); return m } return "n/a" }; b.Doa = function (k) { var m; try { for (var g = /\(([^)]+)\)/g, d; d = g.exec(k);) { var h = Number(d[1]); (0, f.Ea)(h) && (m = h) } } catch (l) { } return m }
                    }, function (r, b, a) {
                        Object.defineProperties(b, { __esModule: { value: !0 } }); b.ifa = b.me = void 0; var c = a(2), f = a(740); (function (k) {
                            k[k.lp = 0] = "startPlayback"; k[k.jq = 1] = "endPlayback"; k[k.io = 2] =
                                "underflow"
                        })(b.me || (b.me = {})); r = function () {
                            function k(m) { this.config = m; this.gP = [] } k.prototype.qh = function (m) { var g, d = c.__read(this.config.VC.filter(function (h) { return h.si === m.si }), 1)[0]; (null !== (g = null === d || void 0 === d ? void 0 : d.enabled) && void 0 !== g ? g : m.enabled) ? this.gP.push(m) : m.Jb && m.Jb() }; k.prototype.Kn = function (m) {
                                var g, d = {}, h = []; try { for (var l = c.__values(this.gP), n = l.next(); !n.done; n = l.next()) { var q = n.value; try { var p = q.Kn({ Zi: m }); p && (q.jx ? d[q.jx] = p : d = c.__assign(c.__assign({}, d), p)) } catch (t) { h.push(t) } } } catch (t) {
                                    var u =
                                        { error: t }
                                } finally { try { n && !n.done && (g = l.return) && g.call(l) } finally { if (u) throw u.error; } } h.length && (d["rpt-error"] = new f.Aza("Reporting error", h)); return d
                            }; return k
                        }(); b.ifa = r
                    }, function (r, b) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.Qgb = "Cannot apply @injectable decorator multiple times."; b.Rgb = "Metadata key was used more than once in a parameter:"; b.PR = "NULL argument"; b.wFa = "Key Not Found"; b.Udb = "Ambiguous match found for serviceIdentifier:"; b.kfb = "Could not unbind serviceIdentifier:"; b.Fjb =
                            "No matching bindings found for serviceIdentifier:"; b.cjb = "Missing required @injectable annotation in:"; b.djb = "Missing required @inject or @multiInject annotation in:"; b.fmb = function (a) { return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation." }; b.ufb = "Circular dependency found:"; b.j9b = "Sorry, this feature is not fully implemented yet."; b.tib = "Invalid binding type:"; b.Hjb = "No snapshot available to restore.";
                        b.xib = "Invalid return type in middleware. Middleware must return!"; b.wib = "Value provided to function binding must be a function!"; b.zib = "The toSelf function can only be applied when a constructor is used as service identifier"; b.uib = "The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property."; b.Wdb = function () {
                            for (var a = [], c = 0; c < arguments.length; c++)a[c] = arguments[c]; return "The number of constructor arguments in the derived class " +
                                (a[0] + " must be >= than the number of constructor arguments of its base class.")
                        }; b.Jfb = "Invalid Container constructor argument. Container options must be an object."; b.Hfb = "Invalid Container option. Default scope must be a string ('singleton' or 'transient')."; b.Gfb = "Invalid Container option. Auto bind injectable must be a boolean"; b.Ifb = "Invalid Container option. Skip base check must be a boolean"; b.qjb = "Cannot apply @postConstruct decorator multiple times in the same class"; b.Qkb = function () {
                            for (var a =
                                [], c = 0; c < arguments.length; c++)a[c] = arguments[c]; return "@postConstruct error in class " + a[0] + ": " + a[1]
                        }; b.vfb = function () { for (var a = [], c = 0; c < arguments.length; c++)a[c] = arguments[c]; return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.") }; b.Hlb = "Maximum call stack size exceeded"
                    }, function (r, b) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.Zo = b.p1b = b.D5a = void 0; b.D5a = function (a, c) { return a - c }; b.p1b =
                            function (a, c) { return a.localeCompare(c) }; b.Zo = function (a, c) { var f = Object.getOwnPropertyDescriptor(a, c); f && Object.defineProperty(a, c, { configurable: f.configurable, enumerable: !1, value: f.value, writable: f.writable }) }
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.vra = b.ei = void 0; (function (a) { a[a.Fp = 0] = "STANDARD"; a[a.Bp = 1] = "LIMITED" })(b.ei || (b.ei = {})); b.vra = function (a) { return ["STANDARD", "LIMITED"][a] } }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); r = a(1); r.__exportStar(a(741),
                            b); r.__exportStar(a(167), b); r.__exportStar(a(742), b); r.__exportStar(a(743), b); r.__exportStar(a(744), b); r.__exportStar(a(745), b); r.__exportStar(a(362), b); r.__exportStar(a(746), b)
                    }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.P6 = b.Xr = b.Q6 = b.pD = b.Jl = b.ye = void 0; r = a(74); var c = a(50), f = a(11); b.ye = new r.Nk; b.Jl = 1; b.pD = 2; b.Q6 = 3; b.Xr = 4; b.P6 = 5; (0, c.Tc)(function () {
                            function k(h, l) { if (g) g.on(h, l); else ub.addEventListener(h, l) } var m = ub.jQuery, g = m && m(ub); m = (m = ub.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;
                            var d = f.Be.hidden; m ? m(function (h) { b.ye.Gc(b.Jl, h) }) : k("beforeunload", function (h) { b.ye.Gc(b.Jl, h) }); k("keydown", function (h) { b.ye.Gc(b.pD, h) }); k("resize", function () { b.ye.Gc(b.Q6) }); f.Be.addEventListener("visibilitychange", function () { d !== f.Be.hidden && (d = f.Be.hidden, b.ye.Gc(b.Xr)) })
                        }); (function () { ub.addEventListener("error", function (k) { b.ye.Gc(b.P6, k); return !0 }) })()
                    }, function(r, b) {
                        function a() {}
                        Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        b.yp = b.La = b.Wj = void 0;
                        var c;
                        (function(k) {
                            k[k.Fp = 0] = "STANDARD";
                            k[k.Bp = 1] = "LIMITED";
                            k[k.X9b = 2] = "PREVIEW"
                        })(c || (c = {}));
                        var f;
                        (function(k) {
                            k[k.HAVE_NOTHING = 0] = "HAVE_NOTHING";
                            k[k.HAVE_METADATA = 1] = "HAVE_METADATA";
                            k[k.HAVE_CURRENT_DATA = 2] = "HAVE_CURRENT_DATA";
                            k[k.HAVE_FUTURE_DATA = 3] = "HAVE_FUTURE_DATA";
                            k[k.HAVE_ENOUGH_DATA = 4] = "HAVE_ENOUGH_DATA"
                        })(f || (f = {}));
                        (function(k) {
                            k.heb = "asl_start";
                            k.feb = "asl_comp";
                            k.U5b = "asl_exc";
                            k.geb = "asl_fail";
                            k.Jlb = "stf_creat";
                            k.Thb = "idb_open";
                            k.Qhb = "idb_block";
                            k.$hb = "idb_upgr";
                            k.Zhb = "idb_succ";
                            k.Rhb = "idb_error";
                            k.Shb = "idb_invalid_state";
                            k.Vhb = "idb_open_timeout";
                            k.Xhb = "idb_open_wrkarnd";
                            k.Yhb = "idb_storelen_exc";
                            k.Uhb = "idb_open_exc";
                            k.Whb = "idb_timeout_invalid_storelen";
                            k.kjb = "msl_load_data";
                            k.mjb = "msl_load_no_data";
                            k.ljb = "msl_load_failed"
                        })(r = b.Wj || (b.Wj = {}));
                        (function(k) {
                            k.oea = "PlaybackRequestStart";
                            k.nea = "PlaybackRequestEnd";
                            k.t1 = "RequestPrefetchManifestStart";
                            k.s1 = "RequestPrefetchManifestEnd";
                            k.r1 = "RequestManifestStart";
                            k.q1 = "RequestManifestEnd";
                            k.p1 = "RequestLicenseStart";
                            k.o1 = "RequestLicenseEnd";
                            k.KQ = "RequestTimedTextUrlStart";
                            k.JQ = "RequestTimedTextUrlEnd";
                            k.IQ = "RequestAudioUrlStart";
                            k.HQ = "RequestAudioUrlEnd";
                            k.MQ = "RequestVideoUrlStart";
                            k.LQ = "RequestVideoUrlEnd";
                            k.Eba = "AppendBufferStart";
                            k.Dba = "AppendBufferEnd";
                            k.kfa = "SetMediaKeysStart";
                            k.jfa = "SetMediaKeysEnd";
                            k.v0 = "GenerateChallengeStart";
                            k.u0 = "GenerateChallengeEnd";
                            k.B_ = "ApplyLicenseStart";
                            k.A_ = "ApplyLicenseEnd"
                        })(b.La || (b.La = {}));
                        b.yp = a;
                        a.CFa = c;
                        a.wUa = function(k) {
                            return ["STANDARD", "LIMITED", "PREVIEW"][k]
                        };
                        a.Wj = r;
                        a.I0 = f
                    }, function (r, b) {
                        function a(c) {
                            var f = Error.call(this,
                                "TimeoutError"); this.message = f.message; "stack" in f && (this.stack = f.stack); this.interval = c
                        } Object.defineProperty(b, "__esModule", { value: !0 }); b.jy = b.xr = void 0; qa(a, Error); b.xr = a; b.jy = "PromiseTimerSymbol"
                    }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(45); r = function () { function f(k, m) { this.key = k; this.value = m } f.prototype.toString = function () { return this.key === c.OB ? "named: " + this.value.toString() + " " : "tagged: { key:" + this.key.toString() + ", value: " + this.value + " }" }; return f }(); b.Metadata =
                            r
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.qt = "PboConfigSymbol" }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); r = a(2); r.__exportStar(a(147), b); r.__exportStar(a(820), b); r.__exportStar(a(172), b) }, function (r, b, a) {
                        function c(m, g) { var d = b.RB[0]; d == g && (d = b.RB[1]); d ? d.close(function () { c(m, g) }) : m && m(f.Yd) } Object.defineProperty(b, "__esModule", { value: !0 }); b.EJa = b.DJa = b.Iea = b.Jea = b.Ov = b.Lea = b.Kea = b.Nea = b.Mea = b.RB = b.Oea = b.FJa = void 0; var f = a(12), k = a(20); b.FJa = c; b.Oea =
                            function (m, g) { switch (m) { case b.Kea: b.Mea.push(g); return; case b.Lea: b.Nea.push(g); return }(0, k.gb)(!1) }; b.RB = []; b.Mea = []; b.Nea = []; b.Kea = 1; b.Lea = 3; b.Ov = { index: 0, Osa: void 0, P5: void 0 }; b.Jea = "network"; b.Iea = "media"; b.DJa = "timedtext"; b.EJa = "playback"
                    }, function (r, b) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.yg = { Ira: "logblob", pa: "manifest", rOb: "licensedmanifest", Rh: "license", events: "events", bind: "bind", FO: "pair", ping: "ping", config: "config" }; b.SB = {
                            tlb: "reqAttempt", ulb: "reqName", gfb: "browsername",
                            hfb: "browserversion", Tjb: "osname", Ujb: "osversion", Qfb: "clienttype", emb: "uiversion"
                        }
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Fv = "EmeConfigSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.$La = "StorageValidatorSymbol"; b.Rx = "AppStorageFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.mt = "MediaKeySystemAccessServicesSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.FF = "TimingApiSymbol"; b.LR = "MilestoneTimingApiSymbol" },
                function (r, b, a) {
                    function c() {
                        var m = this; this.yt = {}; this.on = function (d, h, l) { m.addListener(d, h, l) }; this.addListener = function (d, h, l) { m.yt && (m.yt[d] = m.yt[d] || new k.Zea(!0)).add(h, l) }; this.removeListener = function (d, h) { m.yt && m.yt[d] && m.yt[d].removeAll(h) }; this.goa = function (d) { return m.yt && m.yt[d] ? m.yt[d].flatten() : [] }; var g = this; this.Gc = function (d, h, l) {
                            if (g.yt) {
                                var n = g.goa(d); for (d = { RJ: 0 }; d.RJ < n.length; d = { RJ: d.RJ }, d.RJ++)l ? function (q) { return function () { var p = n[q.RJ]; (0, f.Tc)(function () { p(h) }) } }(d)() : n[d.RJ].call(this,
                                    h)
                            }
                        }
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Nk = void 0; var f = a(50), k = a(342); c.prototype.Lh = function () { this.yt = void 0 }; b.Nk = c
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.gi = { audio: "audio", video: "video", Paa: "timedtext", nya: "trickplay" } }, function (r, b, a) {
                    function c(G) {
                        var C = G.url.split("?"), H = C[0], L = "sc=" + G.uZb, N = G.QSa ? "random=" + (1E17 * (0, z.iF)()).toFixed(0) : ""; H = C[1] ? H + ("?" + C[1] + "&" + L) : H + ("?" + L); H += N ? "&" + N : ""; G.uc && !(0, p.N7)(H) && (G = n.config && n.config.gka) && (H = G.replace("{URL}",
                            H).replace("{EURL}", encodeURIComponent(H))); return H
                    } function f(G) { var C = G.url.split("?"), H = C[0], L = "bb_reason=" + G.reason, N = G.QSa ? "random=" + (1E17 * (0, z.iF)()).toFixed(0) : ""; H = C[1] ? H + ("?" + C[1] + "&" + L) : H + ("?" + L); H += N ? "&" + N : ""; G.uc && !(0, p.N7)(H) && (G = n.config && n.config.gka) && (H = G.replace("{URL}", H).replace("{EURL}", encodeURIComponent(H))); return H } function k(G, C) {
                        var H = G.url.split("?"), L = H[0], N = m(G); N && (C.Bs = N, (void 0 === G.Ws ? n.config.Ws : G.Ws) ? (G.headers = G.headers || {}, G.headers.Range = "bytes=" + N) : (C.Bs = N,
                            L = "/" == L[L.length - 1] ? L + "range/" : L + "/range/", L += N)); N = G.QSa ? "random=" + (1E17 * (0, z.iF)()).toFixed(0) : ""; n.config.Ez && G.paa && (N = "sc=" + G.paa + (N ? "&" + N : "")); L = H[1] ? L + ("?" + H[1] + (N ? "&" + N : "")) : L + (N ? "?" + N : ""); G.uc && !(0, p.N7)(L) && (G = n.config && n.config.gka) && (L = G.replace("{URL}", L).replace("{EURL}", encodeURIComponent(L))); C.url = L
                    } function m(G) { var C = G.offset; if (void 0 !== C) return (0, x.HU)(C), void 0 !== G.length ? (G = G.offset + G.length - 1, (0, x.HU)(G), C + "-" + G) : C + "-" } function g() { return !1 !== z.ie.onLine } function d(G, C, H,
                        L) {
                        var N = L.yua,
                            J = L.headers;
                        console.log('download;', N ? "POST" : "GET", C, !H);
                        G.open(N ? "POST" : "GET", C, !H);
                        switch (L.responseType) {
                            case b.sW:
                                G.responseType = "arraybuffer";
                                break;
                            case b.Qpa:
                                (0, y.bTa)(G, "overrideMimeType", void 0, "text/xml")
                        }
                        N && (C = {
                            "Content-Type": (0, t.Zf)(N) ? "text/plain" : "application/x-octet-stream"
                        }, J = J ? (0, t.Ub)(C, J) : C);
                        J && (0, y.xe)(J, function(Q, K) {
                            G.setRequestHeader(Q, K)
                        });
                        L.withCredentials && (G.withCredentials = !0);
                        void 0 !== G.msCaching && (G.msCaching = "disabled");
                        N ? G.send(N) : G.send()
                    } function h(G, C) {
                            switch (C.type) {
                                case b.sW: return G.response ||
                                    new ArrayBuffer(0); case b.Qpa: return G.responseXML; default: return G.responseText
                            }
                        } Object.defineProperty(b, "__esModule", { value: !0 }); b.sW = b.Qpa = b.Ppa = b.Rpa = b.f7 = b.p0a = b.o0a = b.d7 = b.rmb = b.smb = b.hLb = b.e7 = b.eLb = b.fLb = b.dLb = b.gLb = b.lf = void 0; var l = a(74), n = a(14), q = a(12), p = a(46), u = a(54), t = a(28), w = a(3), v = a(8), x = a(20), y = a(24), z = a(11), A = a(50), B = a(18), E = a(39), D = { dn: 1, nac: 2, zeb: 3 }; b.lf = function () {
                            function G(K) {
                                try {
                                    var I = K.url; (0, B.Vqa)(I) ? 0 === I.indexOf("https") ? Q.ssl++ : 0 === I.indexOf("http") ? Q["non-ssl"]++ : Q.invalid++ :
                                        Q.invalid++
                                } catch (M) { }
                            } function C() { N.Gc(b.p0a); N.Gc(b.Rpa) } function H() { N.Gc(b.f7); N.Gc(b.Rpa) } var L = (0, v.vh)("Http"), N = new l.Nk, J = 0, Q = { ssl: 0, "non-ssl": 0, invalid: 0 }; v.ta.get(E.ai).register(w.N.aFa, function (K) { n.config.D4b && (ub.addEventListener("online", C), ub.addEventListener("offline", H), b.e7 = g); K(q.Yd) }); return {
                                addEventListener: N.addListener, removeEventListener: N.removeListener, download: function(K, I) {
                                    function M() {
                                        M = t.Sj;
                                        $a && (clearTimeout($a), $a = null);
                                        N.removeListener(b.f7, U);
                                        La && (La.onloadstart =
                                            null, La.onreadystatechange = null, La.onprogress = null, La.onerror = null, La.onload = null, La = La.onabort = null);
                                        aa.ga ? !1 : aa.ma != w.M.JB ? na.warn("Download failed", X, (0, w.Gv)(aa)) : na.trace("Download aborted", X);
                                        var Za = ra;
                                        ra = void 0;
                                        for (var cb = Za.length; cb--;)(function() {
                                            var Wa = Za[cb];
                                            (0, A.Tc)(function() {
                                                Wa(aa)
                                            })
                                        })();
                                        N.Gc(b.o0a, aa, !0)
                                    }
                                
                                    function O() {
                                        $a && (clearTimeout($a), $a = null);
                                        $a = setTimeout(Z, Ua ? ua : ca)
                                    }
                                
                                    function P(Za, cb, Wa, Pa) {
                                        aa.ga = !1;
                                        aa.ma = Za;
                                        var ha = (0, u.jk)(),
                                            pa = aa.Fm;
                                        pa.Ci = pa.Ci || ha;
                                        pa.jp = pa.jp || ha;
                                        0 < cb && (aa.mk =
                                            aa.Te = cb);
                                        Wa && (aa.yb = Wa);
                                        Pa && (aa.kE = Pa);
                                        Za !== w.M.qR && Za !== w.M.XE && Za !== w.M.tR || !La || (La.onabort = null, ia());
                                        M()
                                    }
                                
                                    function S(Za) {
                                        var cb;
                                        try {
                                            var Wa = Za.getResponseHeader("X-Netflix.Retry.Server.Policy");
                                            Wa && (cb = JSON.parse(Wa))
                                        } catch (Pa) {
                                            !1
                                        }
                                        return cb
                                    }
                                
                                    function U() {
                                        (0, b.e7)() || P(w.M.qR)
                                    }
                                
                                    function Z() {
                                        P(Ua ? w.M.XE : w.M.tR)
                                    }
                                
                                    function ia() {
                                        try {
                                            La && La.abort()
                                        } catch (Za) {}
                                    }
                                
                                    function ya() {
                                        P(w.M.JB)
                                    }(0, x.gb)(I);
                                    var na = K.j && K.j.log && (0, v.Oh)(K.j, "Http") || L,
                                        X = {
                                            Num: J++
                                        },
                                        ra = [I],
                                        T = {},
                                        R, ca = K.x4 || n.config.x4,
                                        ua = K.ata || n.config.ata;
                                    G(K);
                                    !1;
                                    var aa = function() {
                                            var Za = t.Sj,
                                                cb = t.Sj,
                                                Wa = t.Sj;
                                            return {
                                                request: K,
                                                type: K.responseType,
                                                Fm: T,
                                                abort: ia,
                                                timeout: Z,
                                                ria: function(Pa) {
                                                    M !== t.Sj && ((0, x.gb)(ra, "Callback should be added before download starts."), ra && ra.unshift(Pa))
                                                },
                                                D9: function(Pa) {
                                                    Wa(Pa)
                                                },
                                                F9: function(Pa) {
                                                    Za(Pa)
                                                },
                                                sI: function(Pa) {
                                                    cb(Pa)
                                                },
                                                t_b: function(Pa) {
                                                    Wa = Pa
                                                },
                                                z_b: function(Pa) {
                                                    Za = Pa
                                                },
                                                k_b: function(Pa) {
                                                    cb = Pa
                                                }
                                            }
                                        }(),
                                        La, Ua, $a;
                                    (0, A.Tc)(function() {
                                        if ((0, B.Vqa)(K.url)) try {
                                            if (k(K, aa), R = aa.url, (0, x.HM)(R), X.Url = R, (0, b.e7)()) {
                                                !1;
                                                La = new XMLHttpRequest;
                                                var Za = n.config.K4b && "undefined" != typeof La.onloadstart;
                                                Za && (La.onloadstart = function() {
                                                    console.log('onloadstart');
                                                    var Wa = (0, u.jk)();
                                                    T.Oq = Wa;
                                                    aa.D9({
                                                        mediaRequest: K,
                                                        timestamp: Wa
                                                    })
                                                });
                                                La.onreadystatechange = function() {
                                                    console.log('onreadystatechange', La.readyState);
                                                    if (2 == La.readyState) {
                                                        Ua = !0;
                                                        T.Ci = (0, u.jk)();
                                                        La.onreadystatechange = null;
                                                        O();
                                                        !1;
                                                        for (var Wa = aa, Pa = La.getAllResponseHeaders().split("\n"), ha = Pa.length, pa, Fa, Va = {}; ha--;)
                                                            if (pa = Pa[ha]) Fa = pa.indexOf(": "), 1 <= Fa && Fa < pa.length - 1 && (Va[pa.substr(0, Fa)] = pa.substr(Fa + 2));
                                                        Wa.headers = Va;
                                                        aa.F9({
                                                            timestamp: T.Ci,
                                                            connect: !0,
                                                            mediaRequest: K,
                                                            start: T.Oq,
                                                            rt: [T.Ci - T.Oq]
                                                        })
                                                    }
                                                };
                                                La.onprogress = function(Wa) {
                                                    console.log('onprogress', Wa.loaded);
                                                    Ua = !0;
                                                    T.$ka = Wa.loaded;
                                                    O();
                                                    Wa = {
                                                        mediaRequest: K,
                                                        bytes: Wa.loaded,
                                                        timestamp: (0, u.jk)(),
                                                        bytesLoaded: Wa.loaded
                                                    };
                                                    aa.F9(Wa)
                                                };
                                                La.onload = function() {
                                                    console.log('onload');

                                                    if (M !== t.Sj) {
                                                        (0, x.gb)(void 0 === T.jp);
                                                        T.jp = (0, u.jk)();
                                                        T.Ci = T.Ci || T.jp;
                                                        if (200 <= La.status && 299 >= La.status) {
                                                            var Wa = h(La, aa);
                                                            aa.parsed = !1;
                                                            aa.content = Wa;
                                                            aa.ga = !0
                                                        } else La.status == F ? P(w.M.sR, La.status) : P(w.M.rR, La.status, La.response, S(La));
                                                        M()
                                                    }
                                                };
                                                La.onabort = ya;
                                                La.onerror = function() {
                                                    console.log('onerror', La.status);

                                                    var Wa = La.status;
                                                    "undefined" !== typeof n.config.$Xa &&
                                                        (Wa = n.config.$Xa);
                                                    if (0 < Wa)
                                                        if (Wa == F) P(w.M.sR, Wa);
                                                        else {
                                                            try {
                                                                var Pa = La.responseText
                                                            } catch (ha) {}
                                                            P(w.M.rR, Wa, Pa, S(La))
                                                        }
                                                    else P(w.M.uR)
                                                };
                                                var cb = (0, u.jk)();
                                                d(La, R, !1, K);
                                                N.Gc(b.d7, aa, !0);
                                                Za || (T.Oq = cb, aa.D9({
                                                    mediaRequest: K,
                                                    timestamp: cb
                                                }));
                                                O();
                                                N.addListener(b.f7, U)
                                            } else(0, A.Tc)(P.bind(void 0, w.M.qR))
                                        } catch (Wa) {
                                            na.error("Exception starting download", Wa, X), P(w.M.kda, void 0, (0, t.$d)(Wa))
                                        } else P(w.M.fEa)
                                    });
                                    return aa
                                }, jc: Q, fec: function (K) {
                                    var I = new XMLHttpRequest; K = f(K); I.open("HEAD", K); I.onreadystatechange = function () {
                                        2 ==
                                            I.readyState && !1
                                    }; I.send()
                                }, s0b: function (K) { var I = new XMLHttpRequest; K = c(K); I.open("HEAD", K); I.onreadystatechange = function () { 2 == I.readyState && !1 }; I.send() }, sWb: function (K) { var I = new XMLHttpRequest, M = K.url, O = K.pWb; I.open("HEAD", M); I.timeout = Math.max(2 * O.$Ob, n.config.Mua); I.onreadystatechange = function () { 2 == I.readyState && (!1, O && O.wO({ url: M })) }; I.ontimeout = I.onerror = function () { !1; O && O.hta({ url: M }) }; I.send() }, qlb: D
                            }
                        }(); b.gLb = c; b.dLb = f; b.fLb = k; b.eLb = m; b.e7 = q.MKa; b.hLb = g; b.smb = d; b.rmb = h; b.d7 = 1; b.o0a = 2; b.p0a =
                            3; b.f7 = 4; b.Rpa = 5; b.Ppa = 1; b.Qpa = 2; b.sW = 3; var F = 420; ub._cad_global.http = b.lf
                }, function (r, b, a) {
                    function c(h, l, n) { this.context = h; this.errorCode = l; this.WYb = n } Object.defineProperty(b, "__esModule", { value: !0 }); b.Ii = void 0; r = a(1); var f = a(0), k = a(299), m = a(4), g = a(40), d = a(34); c.prototype.send = function (h, l, n, q, p, u) { var t = this; u = void 0 === u ? d.ot.XR : u; return this.oHb(h, l, n, u, q, p).then(function (w) { return t.context.tCb.send(w.context, w.request) }) }; c.prototype.oHb = function (h, l, n, q, p, u) {
                        try {
                            var t = this.context.vYb.create(this.context.cA.nz(),
                                l.url, n, p, q), w = this.gvb(l, h, q, u); return Promise.resolve({ context: w, request: t })
                        } catch (v) { return Promise.reject(v) }
                    }; c.prototype.gvb = function (h, l, n, q) { return { lf: this.context.lf, log: l, An: h.name, url: this.context.v4b((0, k.Pja)(this.context.Jh, this.context.Uh, h.name, n)), dwa: this.WYb, timeout: (0, m.vg)(59), headers: (0, k.OSa)(this.context.Uh, this.context.XG), ip: h.ip, Lub: q } }; c.prototype.Jn = function (h) { return h instanceof g.Wc ? h : (0, k.Jn)(this.errorCode, h) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.Wm)()),
                    r.__param(1, (0, f.Wm)()), r.__param(2, (0, f.Wm)())], a); b.Ii = a
                }, function(r, b, a) {
                    function c() {
                        // debugger;
                        c = k.gca;
                        var B = g.ta.get(v.xJa).apply();
                        (0, m.bUa)(void 0, B);
                        // console.log(b.vM, A, B);
                        b.nrdp.setConfigData(b.vM, A);
                        A = void 0;
                        for (var E = g.ta.get(w.ai); B = b.qI.shift();) E.register(B.GX, B.IT);
                        E.$N(function(D) {
                            console.log(D);
                            // debugger;
                            if (D.ga) {
                                b.nrdp._isReady = !0;
                                var F = g.ta.get(h.ih);
                                b.nrdp.mono = function() {
                                    return F.Ie.$(d.ja)
                                };
                                (0, u.Tc)(function() {
                                    b.nrdp._callEventListeners("nrdp", {
                                        type: "init",
                                        status: b.nrdp.READY
                                    })
                                })
                            } else {
                                var G = t.mc.get(f.BK)(D.errorCode || n.N.qda, D);
                                g.log.error("Fatal nrdp init error", {
                                    Error: "" + G
                                });
                                (0, u.Tc)(function() {
                                    b.nrdp._callEventListeners("nrdp", {
                                        type: "fatalerror",
                                        cadmiumError: G.BJ()
                                    })
                                })
                            }
                        })
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.qI = b.w9 = b.vM = b.Rka = b.nrdp = void 0;
                    var f = a(123),
                        k = a(20),
                        m = a(14),
                        g = a(8),
                        d = a(4),
                        h = a(35),
                        l = a(33),
                        n = a(3),
                        q = a(20),
                        p = a(11),
                        u = a(50),
                        t = a(199),
                        w = a(39),
                        v = a(319),
                        x = a(16);
                    b.Rka = "streaming";
                    b.vM = "cadmium";
                    var y = (0, g.vh)("Nrdp"),
                        z = function() {
                            var B, E, D = new Promise(function(F, G) {
                                B = F;
                                E = G
                            });
                            return {
                                resolve: B,
                                reject: E,
                                then: D.then.bind(D),
                                catch: D.catch.bind(D)
                            }
                        }();
                    ub.nrdp = b.nrdp = {
                        media: {},
                        _isReady: !1,
                        _timeOffset: 0,
                        _isError: !1,
                        _syncData: {
                            storage: {},
                            media: {}
                        },
                        _eventListeners: {},
                        get isReady() {
                            return b.nrdp._isReady
                        },
                        get configLoaded() {
                            return z
                        },
                        get debug() {
                            return !1
                        },
                        get bootURL() {
                            (0, q.Fl)()
                        },
                        get nccpURL() {
                            (0, q.Fl)()
                        },
                        get READY() {
                            return "READY"
                        },
                        get COMPLETE() {
                            return "COMPLETE"
                        },
                        get NETWORK_ERROR() {
                            return "NETWORK_ERROR"
                        },
                        get ACTION_ID() {
                            return "ACTION_ID"
                        },
                        get ERROR() {
                            return "ERROR"
                        },
                        init: function() {
                            c()
                        },
                        now: function() {
                            return Date.now() + b.nrdp._timeOffset
                        },
                        exit: function() {
                            y.info("Exiting...");
                            var B = ub.close,
                                E = ub.open;
                            E && B ? (E("", "_self", ""), B()) : (0, q.gb)(!1, "Exit not supported on this platform")
                        },
                        loadConfigList: function() {
                            b.nrdp.config.load(b.Rka);
                            return z
                        },
                        setConfigData: function(B, E) {
                            if (B == b.Rka || B == b.vM) g.ta.get(l.wR).NQb(E), (0, m.Ska)(E)
                        },
                        addEventListener: function(B, E) {
                            b.nrdp._addEventListener("nrdp", B, E)
                        },
                        removeEventListener: function(B, E) {
                            b.nrdp._removeEventListener("nrdp", B, E)
                        },
                        prepare: function() {},
                        _setProperty_pending: {},
                        _setProperty_current: {},
                        _setProperty: function(B, E) {
                            "throttled" !==
                            E && (0, q.Fl)()
                        },
                        _setServerTime: function(B) {
                            this._timeOffset = 1E3 * B - Date.now()
                        },
                        _construct: function() {
                            (0, q.Fl)()
                        },
                        _invoke: function() {
                            (0, q.Fl)()
                        },
                        _addEventListener: function(B, E, D) {
                            E = B + "." + E;
                            !1;
                            D && (this._eventListeners[E] || (this._eventListeners[E] = []), this._eventListeners[E].push(D))
                        },
                        _removeEventListener: function(B, E, D) {
                            E = B + "." + E;
                            if (D && (B = this._eventListeners[E])) {
                                var F = B.indexOf(D);
                                0 <= F ? 1 == B.length ? delete this._eventListeners[E] : this._eventListeners[E].splice(F, 1) : (this._eventListeners[E] = B.filter(function(G) {
                                    return G.toString() !=
                                        D.toString()
                                }), this._eventListeners[E].length != B.length && (0, q.gb)(!1, "tried to remove a filter by index, but had to resort to by string"))
                            }!1
                        },
                        _hasEventListener: function(B, E) {
                            E = B + "." + E;
                            return b.nrdp._eventListeners[E] && b.nrdp._eventListeners[E].length
                        },
                        _callEventListeners: function(B, E) {
                            if (this.isReady || "fatalerror" == E.type)
                                if (B = B + "." + E.type, this._eventListeners[B]) {
                                    B = this._eventListeners[B].slice(0);
                                    !1;
                                    for (var D = 0; D < B.length; D++) {
                                        var F = B[D];
                                        F && F(E)
                                    }
                                }
                        },
                        _urlEncode: function(B) {
                            var E = "",
                                D;
                            for (D in B) E &&
                                (E += "&"), E += D + "=" + encodeURIComponent(B[D]);
                            return E
                        },
                        get JSSID() {
                            return g.ta.get(x.bd).id
                        },
                        initWithParams: function() {
                            A = A.concat(p.slice.call(arguments));
                            c()
                        }
                    };
                    var A = [];
                    b.w9 = "2D";
                    b.qI = []
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.et = { Request: "Request", sfa: "Singleton", L1: "Transient" }; b.Oj = { yBa: "ConstantValue", zBa: "Constructor", JCa: "DynamicValue", Zca: "Factory", Function: "Function", Instance: "Instance", Jib: "Invalid", IKa: "Provider" }; b.py = {
                        sBa: "ClassProperty", ABa: "ConstructorArgument",
                        Hfa: "Variable"
                    }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.pFa = "Injector"; b.cy = 145152E5; b.EK = "ProfileSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Nv = "PlatformConfigDefaultsSymbol" }, function (r, b, a) {
                    function c(g, d) { this.dw = d ? [d] : []; this.pL = "$op$" + m++; this.G = g } Object.defineProperty(b, "__esModule", { value: !0 }); b.ec = void 0; var f = a(12), k = a(20), m = 0; c.prototype.addListener = function (g, d) {
                        var h = this; (0, k.Ala)(g); (0, k.gb)(0 > this.dw.indexOf(g)); g[f.f1 + this.pL] =
                            d; this.dw = this.dw.slice(); this.dw.push(g); this.dw.sort(function (l, n) { return h.G0b(l, n) })
                    }; c.prototype.removeListener = function (g) { (0, k.Ala)(g); this.dw = this.dw.slice(); var d; 0 <= (d = this.dw.indexOf(g)) && this.dw.splice(d, 1) }; c.prototype.set = function (g, d) { if (this.G !== g) { d = { oldValue: this.G, newValue: g, rm: d }; this.G = g; g = this.dw; for (var h = g.length, l = 0; l < h; l++)g[l](d) } }; c.prototype.when = function (g) {
                        var d = this; return new Promise(function (h) {
                            function l(n) { if (g(n.newValue)) return d.removeListener(l), h(n.newValue) }
                            if (g(d.G)) return h(d.G); d.addListener(l)
                        })
                    }; c.prototype.G0b = function (g, d) { return (g[f.f1 + this.pL] || 0) - (d[f.f1 + this.pL] || 0) }; Ya.Object.defineProperties(c.prototype, { value: { configurable: !0, enumerable: !0, get: function () { return this.G } } }); b.ec = c
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.$x = "IdProviderSymbol" }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Av = void 0; r = function () {
                        function a(c) { this.bf = c } a.prototype.Uwa = function (c) { this.bf = c }; a.prototype.wTa = function () {
                            this.bf =
                                void 0
                        }; a.prototype.AV = function (c) { return this.bf && this.bf.I9 && this.bf.I9(c) }; a.prototype.mN = function (c) { this.bf && this.bf.KA && this.bf.KA(c) }; a.prototype.dD = function (c) { this.bf && this.bf.uI && this.bf.uI(c) }; a.prototype.kH = function (c) { this.bf && this.bf.vI && this.bf.vI(c) }; a.prototype.bYa = function (c) { this.bf && this.bf.Jta && this.bf.Jta(c) }; a.prototype.qu = function (c) { this.bf && this.bf.Ak && this.bf.Ak(c) }; a.prototype.U5 = function (c) { this.bf && this.bf.SX && this.bf.SX(c) }; a.prototype.lN = function (c, f, k) {
                            this.bf && this.bf.RX &&
                                this.bf.RX(c, f, k)
                        }; return a
                    }(); b.Av = r; r.prototype.I9 = r.prototype.AV; r.prototype.KA = r.prototype.mN; r.prototype.uI = r.prototype.dD; r.prototype.vI = r.prototype.kH; r.prototype.Ak = r.prototype.qu; r.prototype.SX = r.prototype.U5; r.prototype.RX = r.prototype.lN; r.prototype.Jta = r.prototype.bYa
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(144); b.qo = function (f) {
                        c.assert("number" === typeof f); return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>>
                            8 & 255) + String.fromCharCode(f & 255)
                    }; b.xS = function (f) { return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24) }; b.mnb = function (f, k) { return Math.floor(1E3 * f / k) }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2); r = function (f) {
                        function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function (m) {
                            f.prototype.parse.call(this, m); this.kc = this.ej([{ offset: 16, type: "offset" }, { offset: 16, type: "offset" }, { offset: 96, type: "offset" },
                            { width: "int16" }, { height: "int16" }, { aLb: "int32" }, { b5b: "int32" }, { offset: 32, type: "offset" }, { TFb: "int16" }, { Exb: { type: "int8", Zia: 32 } }, { depth: "int16" }, { offset: 16, type: "offset" }]); return !0
                        }; k.Ra = !0; return k
                    }(a(230).default); b.default = r; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "avc1"; return k }(r); b.Rba = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "avc2"; return k }(r); b.Sba = a; a = function (f) {
                        function k() {
                            return null !==
                                f && f.apply(this, arguments) || this
                        } c.__extends(k, f); k.ac = "avc3"; return k
                    }(r); b.Tba = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "avc4"; return k }(r); b.Uba = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "hvc1"; return k }(r); b.lda = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "hev1"; return k }(r); b.fda = a; r = function (f) {
                        function k() {
                            return null !== f && f.apply(this,
                                arguments) || this
                        } c.__extends(k, f); k.ac = "av01"; return k
                    }(r); b.neb = r
                }, function (r) { r.exports = function (b, a) { for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]); return a } }, function (r, b, a) {
                    function c(d, h, l) {
                        var n, q; h = f.__assign({}, null === (q = null === d || void 0 === d ? void 0 : d.context) || void 0 === q ? void 0 : q.call(d, { F5a: h, Do: l })); if ((null === d || void 0 === d ? 0 : d.Do) && l) if (!0 === d.Do) h.args = l; else {
                            q = {}; h.args = q; try { for (var p = f.__values(d.Do), u = p.next(); !u.done; u = p.next()) { var t = u.value; q[t] = l[t] } } catch (v) { var w = { error: v } } finally {
                                try {
                                    u &&
                                        !u.done && (n = p.return) && n.call(p)
                                } finally { if (w) throw w.error; }
                            }
                        } return h
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.Tv = b.jpa = b.Wb = void 0; var f = a(2), k = a(21), m = f.__importDefault(a(6)), g = a(9); b.Wb = function (d) {
                        return function (h, l, n) {
                            var q = n.value; n.value = function () {
                                var p, u = b.jpa(this); if (u) var t = c(d, this, arguments), w = null !== (p = null === d || void 0 === d ? void 0 : d.methodName) && void 0 !== p ? p : String(l), v = u.ET(w, t, null === d || void 0 === d ? void 0 : d.al, null === d || void 0 === d ? void 0 : d.Ncc); p = null === u || void 0 === u ?
                                    void 0 : u.wla; u && (u.wla = v); try { var x = null === q || void 0 === q ? void 0 : q.apply(this, arguments); g.Nqa(x) && (x = x.then(function (z) { v && (null === d || void 0 === d ? 0 : d.return) && (v.data.resolve = z); return z }, function (z) { v && (v.data.reject = "" + z); return Promise.reject(z) })); return x } catch (z) { var y = z; throw z; } finally { u && (u.wla = p), v && (v.data || (v.data = {}), y ? (v.data.error = "" + y, null === u || void 0 === u ? void 0 : u.Pxb(v)) : (null === d || void 0 === d ? 0 : d.return) && !g.Nqa(x) && (v.data.lRet = x)) }
                            }
                        }
                    }; b.jpa = function (d) {
                        if (null === d || void 0 === d ? 0 :
                            d.Rfa) return d.Rfa
                    }; r = function () {
                        function d(h) { this.yq = []; this.D2 = !1; this.Sga = {}; this.J = f.__assign({ AA: 10 }, h); Object.defineProperties(h.Fq, { Rfa: { enumerable: !1, value: this, configurable: !0 } }) } Object.defineProperties(d.prototype, { source: { get: function () { return this.J.source }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { enabled: { get: function () { return !this.D2 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, {
                            JNb: {
                                get: function () { return f.__spread(this.yq) }, enumerable: !1,
                                configurable: !0
                            }
                        }); Object.defineProperties(d.prototype, { YKb: { get: function () { return this.Sga }, enumerable: !1, configurable: !0 } }); d.prototype.qw = function (h) { if (!this.D2) { var l, n = null === (l = b.jpa(this.J.Fq)) || void 0 === l ? void 0 : l.wla; n && (n.data = f.__assign(f.__assign({}, n.data), h)) } }; d.prototype.ET = function (h, l, n, q) {
                            var p, u; if (!this.D2) {
                                var t = !1, w = null === (u = (p = this.J).Iia) || void 0 === u ? void 0 : u.call(p, this.J.Fq); p = c({}, this.J.Fq); l = f.__assign(f.__assign(f.__assign({}, w), p), l); w = 0 < Object.keys(l).length; l = {
                                    methodName: h,
                                    data: w ? l : void 0, time: m.default.time.fa()
                                }; q && this.Sga[h]++; n && this.yq.length && (n = this.yq[this.yq.length - 1], n.methodName === h && (n.data = n.data || {}, n.data.dedup = n.data.dedup || { hitCount: 1 }, n.data.dedup.hitCount++, n.data.dedup.lJournal = l, t = !0)); this.Qxb(l); t || this.yq.push(l); this.yq.length > this.J.AA && this.yq.shift(); return l
                            }
                        }; d.prototype.Qxb = function (h) {
                            var l; k.ia && (null === (l = this.J.console) || void 0 === l ? void 0 : l.trace(this.J.source + "::" + h.methodName, h.data)); "object" === typeof __ASE_DEVTOOLS_EXTENSION__ &&
                                __ASE_DEVTOOLS_EXTENSION__.register(this.J, h)
                        }; d.prototype.Pxb = function (h) { var l; k.ia && (null === (l = this.J.console) || void 0 === l ? void 0 : l.error(this.J.source + "::" + h.methodName, h.data)) }; d.prototype.Jb = function () { Object.defineProperties(this.J.Fq, { Rfa: { enumerable: !1, value: null, configurable: !0 } }); this.D2 = !0; this.clear() }; d.prototype.clear = function () { this.yq = []; this.Sga = {} }; return d
                    }(); b.Tv = r
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.by = "LogMessageFactorySymbol" }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.Ap = { start: "start", stop: "stop", MW: "keepAlive", YM: "engage", splice: "splice" }; b.Vca = "EventPboCommandFactorySymbol"; b.VLa = "StartEventPboCommandSymbol"; b.ZLa = "StopEventPboCommandSymbol"; b.yFa = "KeepAliveEventPboCommandSymbol"; b.PLa = "SpliceEventPboCommandSymbol"; b.gDa = "EngageEventPboCommandSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ay = b.ResponseType = void 0; b.ResponseType = { Text: 1, oac: 2, Qeb: 3 }; b.ay = "LegacyHttpSymbol" }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); var c = a(151); b.qo = function (f) { c.assert("number" === typeof f); return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255) }; b.xS = function (f) { return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24) }; b.mnb = function (f, k) { return Math.floor(1E3 * f / k) }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Vx = "DeviceFactorySymbol" }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.mj = b.Rjb = b.Dp = void 0; var c = a(18); b.Dp = b.Dp || function (f, k, m) { return f >= k ? f <= m ? f : m : k }; b.Rjb = function (f, k, m, g, d) { return (f - k) * (d - g) / (m - k) + g }; b.mj = function (f) { if ((0, c.Ea)(f)) return (f / 1E3).toFixed(3) }
                }, function (r, b, a) {
                    function c(g, d, h, l, n) {
                        var q = {}, p = "number" === typeof n; n = void 0 !== n && p ? n.toString() : h; if (p && void 0 !== h) throw Error(k.uib); Reflect.Apa(g, d) && (q = Reflect.getMetadata(g, d)); h = q[n]; if (Array.isArray(h)) {
                            p = 0; for (var u = h; p < u.length; p++) {
                                var t = u[p]; if (t.key === l.key) throw Error(k.Rgb +
                                    " " + t.key.toString());
                            }
                        } else h = []; h.push(l); q[n] = h; Reflect.W4(g, q, d)
                    } function f(g, d) { return function (h, l) { d(h, l, g) } } Object.defineProperty(b, "__esModule", { value: !0 }); var k = a(58), m = a(45); b.sJ = function (g, d, h, l) { c(m.lMa, g, d, l, h) }; b.HZ = function (g, d, h) { c(m.mMa, g.constructor, d, h) }; b.Pr = function (g, d, h) { "number" === typeof h ? (g = [f(h, g)], Reflect.Pr(g, d)) : "string" === typeof h ? Reflect.Pr([g], d, h) : Reflect.Pr([g], d) }
                }, function (r, b, a) {
                    function c(m, g, d, h, l) {
                        m = void 0 === m ? f.N.wl : m; return k.Wc.call(this, m, g, d, void 0, void 0,
                            h, k.Wc.$d(l), l) || this
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.jh = void 0; var f = a(3), k = a(40); qa(c, k.Wc); b.jh = c
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.bCa = "DebugConfigSymbol"; b.Dv = "DebugSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.BB = "ApiInfoSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Wca = "EventSourceSymbol"; b.ada = "GlobalEventSourceSymbol"; b.j0 = "DebugEventSourceSymbol"; b.nCa = "DiagnosticsEventSourceSymbol" },
                function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); r = a(2); r.__exportStar(a(723), b); r.__exportStar(a(724), b); r.__exportStar(a(725), b); r.__exportStar(a(726), b); r.__exportStar(a(727), b); r.__exportStar(a(728), b); r.__exportStar(a(729), b); r.__exportStar(a(730), b); r.__exportStar(a(354), b); r.__exportStar(a(355), b); r.__exportStar(a(731), b); r.__exportStar(a(732), b); r.__exportStar(a(218), b) }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.oF = "6674654e-696c-5078-6966-665374726d21";
                    b.pF = "6674654e-696c-4878-6165-6465722e7632"; b.NR = "6674654e-696c-5078-6966-66496e646578"; b.ey = "6674654e-696c-4d78-6f6f-6653697a6573"; b.dy = "6674654e-696c-5378-6565-6b506f696e74"; b.SR = "cedb7489-e77b-514c-84f9-7148f9882554"; b.RR = "524f39a2-9b5a-144f-a244-6c427c648df4"; b.nF = "6674654e-696c-4678-7261-6d6552617465"
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.$m = void 0; var c = a(2), f = a(5), k = c.__importDefault(a(27)), m = c.__importDefault(a(124)), g = a(382), d = a(22); r = a(44); var h = a(171), l =
                        a(237); a = a(103); var n = function (q) {
                            function p(u, t) { var w = q.call(this, u, t) || this; p.Ab(w, u, t); return w } c.__extends(p, q); p.Ab = function (u, t, w, v) { var x; h.Bv.Ab(u, t, w); u.Qe = w.index; u.dL = w.$a; u.Xv = w.wb; u.Nrb = w.zb ? w.zb : t.zb; u.YI = w.YI; u.Coa = v; u.SOa = !!w.zq; u.QPa = null !== (x = w.region) && void 0 !== x ? x : 0; u.pOa = !!w.mna; u.ROa = !!w.Xw; u.Kd = void 0 === w.V5 || void 0 === w.xna || w.V5 === w.$a && w.xna === w.wb ? u : new l.DB(u, { $a: w.V5, wb: w.xna }); u.hpb = w.Psa; u.Dmb = w.mi; u.tob = t.EKb; u.Mp = w.za ? u.j5a(w.za) : void 0; u.mQa = w.tv; u.ff = !1 }; p.SUa = function (u) {
                                for (var t =
                                    new Uint32Array(u.length), w = new Uint32Array(u.length), v = new Uint8Array(u.length), x = new Uint8Array(u.length), y = 0, z, A, B = 0; B < u.length; ++B)z = u[B], A = z.Qc, t[B] = z.Xv - z.dL, w[B] = A, v[B] = z.stream.Pf, void 0 !== z.zb && null !== z.zb && (x[B] = z.zb), y += A; return new g.rfa(t, w, v, x, u.length ? u[0].W : 1E3, y)
                            }; Object.defineProperties(p.prototype, { AD: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { index: { get: function () { return this.Qe }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype,
                                { zb: { get: function () { return this.Nrb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { uSa: { get: function () { return 8 * this.ea / this.duration }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { $a: { get: function () { return this.dL }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { wb: { get: function () { return this.Xv }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                                    Ej: {
                                        get: function () {
                                            var u, t; return null !== (t = null === (u = this.Coa) ||
                                                void 0 === u ? void 0 : u.call(this)) && void 0 !== t ? t : 0
                                        }, enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(p.prototype, { zq: { get: function () { return this.SOa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { region: { get: function () { return this.QPa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { mna: { get: function () { return this.pOa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Xw: { get: function () { return this.ROa }, enumerable: !1, configurable: !0 } });
                            Object.defineProperties(p.prototype, { Psa: { get: function () { return this.hpb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { mi: { get: function () { return this.Dmb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { za: { get: function () { return this.Mp }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { tv: { get: function () { return this.mQa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                                V5: {
                                    get: function () { return this.Kd.$a }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(p.prototype, { xna: { get: function () { return this.Kd.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { SFb: { get: function () { return this.Kd.du }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { nN: { get: function () { return this.Kd.Ad }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { X5: { get: function () { return this.Kd.we }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                                W5: {
                                    get: function () { return this.Kd.duration },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(p.prototype, { yna: { get: function () { return this.Kd.od }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { RFb: { get: function () { return this.Kd.Lc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { eD: { get: function () { var u = this.SFb; f.assert(u); return u / this.stream.va.qc }, enumerable: !1, configurable: !0 } }); p.prototype.C3a = function () { this.SOa = !0 }; p.prototype.D_b = function (u) { this.YI = { de: u.UYa(), get L7() { return u.uv } } };
                            p.prototype.EP = function (u) { this.mQa = u }; p.prototype.A_b = function (u, t, w) { this.QPa = u; this.pOa = t; this.ROa = w }; p.prototype.Hk = function (u) { void 0 === u && (u = {}); var t = this.stream.va.qc, w = this.Mp || { start: 0, end: this.eD }; u = this.j5a(u); this.Kd && this.Kd !== this || (this.Kd = new l.DB(this, this)); u.start > w.start && (this.dL = this.Kd.$a + u.start * t); u.end < w.end && (this.Xv = this.Kd.$a + u.end * t); this.Mp = u }; p.prototype.lma = function (u) { void 0 === u && (u = 1); this.Mp ? this.Hk({ start: this.Mp.start + u, end: this.Mp.end }) : this.Hk({ start: u }) };
                            p.prototype.mma = function (u) { this.Mp ? this.Hk({ start: this.Mp.start, end: (this.Mp.end || 0) - u }) : this.Hk({ start: 0, end: -u }) }; p.prototype.kma = function () { this.Hk({ start: 0, end: 0 }) }; p.prototype.E_b = function (u) { this.Mp || this.Hk(); this.Mp.ixa = u }; p.prototype.KXa = function (u) { if (!(u < this.Z || u >= this.Ka) && this.mi && this.mi.length) { u = (new d.O(u + 1 - this.Z, 1E3)).Hl(this.stream.va); for (var t = this.mi.length - 1; 0 <= t; --t) { var w = this.mi[t]; if (w.nl <= u) return w } return { nl: 0, Ud: this.yna } } }; p.prototype.qFb = function (u) {
                                if (!(u < this.Z ||
                                    u >= this.Ka) && this.mi && this.mi.length) { u = (new d.O(u + 1 - this.Z, 1E3)).Hl(this.stream.va); for (var t = this.mi.length - 1; 0 <= t; --t) { var w = this.mi[t]; if (w.nl <= u) return w } return { nl: 0, Ud: this.yna } }
                            }; p.prototype.CXa = function (u, t) { if (!(u < this.Z || u >= this.Ka)) { if (!t && this.tob) return { nl: 0, Ud: this.Z }; var w = this.va.qc, v = this.va.W, x = Math.floor(this.du / w); u = Math.min((t ? Math.ceil : Math.floor)((d.O.Qsa(u, v) - this.$a + (t ? -1 : 1) * (v / 1E3 - 1)) / w), x); w = d.O.QZ(this.$a + u * w, v); return u === x ? void 0 : { nl: u, Ud: w } } }; p.prototype.ena = function (u) {
                                return this.mediaType ===
                                    k.default.Wa.Pb ? this.KXa(u) : this.CXa(u, !1)
                            }; p.prototype.dna = function (u) { return this.mediaType === k.default.Wa.Pb ? this.qFb(u) : this.CXa(u, !0) }; p.prototype.z3 = function (u) { this.Qc += u.ea; this.Xv = u.wb; this.Mp && (this.Kd = new l.DB(this, { $a: this.V5, wb: this.Xv }), this.Mp.end = this.eD) }; p.prototype.toString = function () { return "[" + this.Ta + ", " + this.bitrate + "kbit/s, c:" + (this.od + "-" + this.Lc + ",p:") + (this.Ad + "-" + this.we + ",d:" + this.duration + "]") }; p.prototype.toJSON = function () {
                                var u = h.Bv.prototype.toJSON.call(this); m.default({
                                    index: this.index,
                                    startPts: this.Z, endPts: this.Ka, "contentStartTicks:": this.$a, contentEndTicks: this.wb, contentStartPts: this.od, contentEndPts: this.Lc, fragmentStartPts: this.nN !== this.Z ? this.nN : void 0, fragmentEndPts: this.X5 !== this.Ka ? this.X5 : void 0, edit: this.za
                                }, u); return u
                            }; p.prototype.JXa = function (u) { if (this.mi) for (var t = 0; t < this.mi.length; ++t)if (this.mi[t].nl === u) var w = this.mi[t].offset; return w }; p.prototype.j5a = function (u) {
                                var t = u.start || 0; return {
                                    start: t, end: void 0 === u.end ? this.eD : Math.min(this.eD, Math.max(t, 0 > u.end ?
                                        this.eD + u.end : u.end)), ixa: u.ixa, u0b: u.u0b
                                }
                            }; return p
                        }(h.Bv); b.$m = n; r.zf(a.Sx, n); r.zf(a.CB, n)
                }, function (r, b, a) {
                    function c(d, h) { return void 0 === d ? void 0 : 0 === d ? g.O.cb : new g.O(d, h) } function f(d, h) { return d && Math.floor(g.O.QZ(d, h)) } function k(d, h) { return void 0 === d || void 0 === h ? void 0 : d + h } function m(d, h) { return void 0 === d || void 0 === h ? void 0 : d - h } Object.defineProperties(b, { __esModule: { value: !0 } }); b.CB = b.Sx = void 0; var g = a(22); r = function () {
                        function d() { } Object.defineProperties(d.prototype, {
                            du: {
                                get: function () {
                                    return m(this.wb,
                                        this.$a) || 0
                                }, enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(d.prototype, { qVb: { get: function () { return k(this.$a, this.Ej) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { mVb: { get: function () { return k(this.wb, this.Ej) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { aH: { get: function () { return c(this.du, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Zc: { get: function () { return c(this.$a, this.W) }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(d.prototype, { Qd: { get: function () { return c(this.wb, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Mg: { get: function () { return c(this.qVb, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { ze: { get: function () { return c(this.mVb, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Vua: { get: function () { return c(this.Ej, this.W) }, enumerable: !1, configurable: !0 } }); return d
                    }(); b.Sx = r; r = function () {
                        function d() { }
                        Object.defineProperties(d.prototype, { duration: { get: function () { return m(this.Ka, this.Z) || 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Z: { get: function () { return f(k(this.$a, this.Ej), this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Ka: { get: function () { return f(k(this.wb, this.Ej), this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { fv: { get: function () { return f(this.Ej, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype,
                            { kk: { get: function () { return f(this.$a, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { od: { get: function () { return f(this.$a, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Lc: { get: function () { return f(this.wb, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Ad: { get: function () { return f(k(this.$a, this.Ej), this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, {
                                we: {
                                    get: function () {
                                        return f(k(this.wb,
                                            this.Ej), this.W)
                                    }, enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(d.prototype, { Sr: { get: function () { return this.duration }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { UA: { get: function () { return this.Z }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { ux: { get: function () { return this.Ka }, enumerable: !1, configurable: !0 } }); return d
                    }(); b.CB = r
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.zQ = b.ueb = b.Zba = b.$ba = void 0; (function (a) {
                        a[a.jWa =
                            0] = "downloading"; a[a.OCb = 1] = "downloaded"; a[a.ff = 2] = "appended"; a[a.buffered = 3] = "buffered"; a[a.cP = 4] = "removed"; a[a.Efc = 5] = "unused"
                    })(b.$ba || (b.$ba = {})); (function (a) { a[a.waiting = 1] = "waiting"; a[a.iec = 2] = "ondeck"; a[a.jWa = 4] = "downloading"; a[a.OCb = 8] = "downloaded"; a[a.BW = 6] = "inprogress" })(b.Zba || (b.Zba = {})); b.ueb = "AseBufferViewSymbol"; b.zQ = "AseBufferAccountingSymbol"
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Aea = b.bn = void 0; r = b.bn || (b.bn = {}); r.zF = "PRE_FETCH"; r.jlb = "QC"; r.Fp = "STANDARD";
                    r.z1 = "SUPPLEMENTAL"; r.b7b = "DOWNLOAD"; b.Aea = "PboManifestCommandSymbol"
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.F_a = b.icb = b.Tu = b.K8 = b.o4a = void 0; r = a(977); var c = a(980), f = a(1001); a = a(1005); b.o4a = r; b.K8 = function (k, m) { return (0, b.o4a)(function (g, d) { return void 0 !== d ? d : g }, k, m) }; b.Tu = c; b.icb = f; b.F_a = a }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.oF = "6674654e-696c-5078-6966-665374726d21"; b.pF = "6674654e-696c-4878-6165-6465722e7632"; b.NR = "6674654e-696c-5078-6966-66496e646578";
                    b.ey = "6674654e-696c-4d78-6f6f-6653697a6573"; b.dy = "6674654e-696c-5378-6565-6b506f696e74"; b.SR = "cedb7489-e77b-514c-84f9-7148f9882554"; b.RR = "524f39a2-9b5a-144f-a244-6c427c648df4"; b.nF = "6674654e-696c-4678-7261-6d6552617465"
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) {
                        function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function (m) {
                            f.prototype.parse.call(this, m); this.kc = this.ej([{ offset: 16, type: "offset" }, {
                                offset: 16,
                                type: "offset"
                            }, { offset: 96, type: "offset" }, { width: "int16" }, { height: "int16" }, { aLb: "int32" }, { b5b: "int32" }, { offset: 32, type: "offset" }, { TFb: "int16" }, { Exb: { type: "int8", Zia: 32 } }, { depth: "int16" }, { offset: 16, type: "offset" }]); return !0
                        }; k.Ra = !0; return k
                    }(a(271).default); b.default = r; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "avc1"; return k }(r); b.Rba = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "avc2"; return k }(r);
                    b.Sba = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "avc3"; return k }(r); b.Tba = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "avc4"; return k }(r); b.Uba = a; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "hvc1"; return k }(r); b.lda = a; r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "hev1"; return k }(r); b.fda =
                        r
                }, function (r, b) { function a(f, k) { var m = this; this.Hga = []; c.forEach(function (g) { (g = g(f, k)) && m.Hga.push(g) }) } Object.defineProperty(b, "__esModule", { value: !0 }); b.jF = b.oHa = void 0; var c = []; a.prototype.rv = function (f) { for (var k = [], m = this.Hga.length; m--;) { var g = this.Hga[m]; g.rv(f) && k.push(g.hN) } if (k.length) return k }; b.oHa = a; b.jF = function (f) { c.push(f) } }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); var a = 0; b.id = function () { return a++ } }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 });
                    b.ME = "Base16EncoderSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.JF = "Utf8EncoderSymbol" }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.UB = void 0; r = a(1); a = a(0); c.prototype.format = function (k, m) { for (var g = 1; g < arguments.length; ++g); var d = Array.prototype.slice.call(arguments, 1); return k.replace(/{(\d+)}/g, function (h, l) { return "undefined" != typeof d[l] ? d[l] : h }) }; c.prototype.q1b = function (k) {
                        for (var m = k.length, g = new Uint16Array(m), d = 0; d < m; d++)g[d] =
                            k.charCodeAt(d); return g.buffer
                    }; c.prototype.Nab = function (k) { return JSON.stringify(k, null, "  ") }; var f = c; f = r.__decorate([(0, a.R)()], f); b.UB = f
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.JK = "ThrottleFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.tK = "LoggerSinksSymbol" }, function (r) {
                    function b() { b.Ab.call(this) } function a(p) {
                        if ("function" !== typeof p) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);
                    } function c(p, u, t, w) {
                        a(t); var v = p.Hh; if (void 0 === v) v = p.Hh = Object.create(null), p.RF = 0; else { void 0 !== v.cec && (p.emit("newListener", u, t.listener ? t.listener : t), v = p.Hh); var x = v[u] } void 0 === x ? (v[u] = t, ++p.RF) : ("function" === typeof x ? x = v[u] = w ? [t, x] : [x, t] : w ? x.unshift(t) : x.push(t), t = void 0 === p.XS ? b.FBb : p.XS, 0 < t && x.length > t && !x.v5b && (x.v5b = !0, t = Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"), t.name = "MaxListenersExceededWarning",
                            t.eu = p, t.type = u, t.count = x.length, console && console.warn && console.warn(t))); return p
                    } function f() { if (!this.OXa) return this.target.removeListener(this.type, this.Fdb), this.OXa = !0, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments) } function k(p, u, t) { p = { OXa: !1, Fdb: void 0, target: p, type: u, listener: t }; u = f.bind(p); u.listener = t; return p.Fdb = u } function m(p) { var u = this.Hh; if (void 0 !== u) { p = u[p]; if ("function" === typeof p) return 1; if (void 0 !== p) return p.length } return 0 }
                    function g(p, u, t) { "function" === typeof p.on && d(p, "error", u, t) } function d(p, u, t, w) { if ("function" === typeof p.on) if (w.once) p.once(u, t); else p.on(u, t); else if ("function" === typeof p.addEventListener) p.addEventListener(u, function y(x) { w.once && p.removeEventListener(u, y); t(x) }); else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p); } var h = "object" === typeof Reflect ? Reflect : null, l = h && "function" === typeof h.apply ? h.apply : function (p, u, t) {
                        return Function.prototype.apply.call(p,
                            u, t)
                    }, n = Number.isNaN || function (p) { return p !== p }; r.exports = b; r.exports.once = function (p, u) { return new Promise(function (t, w) { function v(y) { p.removeListener(u, x); w(y) } function x() { "function" === typeof p.removeListener && p.removeListener("error", v); t([].slice.call(arguments)) } d(p, u, x, { once: !0 }); "error" !== u && g(p, v, { once: !0 }) }) }; b.EventEmitter = b; b.prototype.Hh = void 0; b.prototype.RF = 0; b.prototype.XS = void 0; var q = 10; Object.defineProperty(b, "defaultMaxListeners", {
                        enumerable: !0, get: function () { return q }, set: function (p) {
                            if ("number" !==
                                typeof p || 0 > p || n(p)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + "."); q = p
                        }
                    }); b.Ab = function () { if (void 0 === this.Hh || this.Hh === Object.getPrototypeOf(this).Hh) this.Hh = Object.create(null), this.RF = 0; this.XS = this.XS || void 0 }; b.prototype.setMaxListeners = function (p) { if ("number" !== typeof p || 0 > p || n(p)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + "."); this.XS = p; return this }; b.prototype.emit =
                        function (p) { for (var u = [], t = 1; t < arguments.length; t++)u.push(arguments[t]); var w = "error" === p; t = this.Hh; if (void 0 !== t) w = w && void 0 === t.error; else if (!w) return !1; if (w) { var v; 0 < u.length && (v = u[0]); if (v instanceof Error) throw v; u = Error("Unhandled error." + (v ? " (" + v.message + ")" : "")); u.context = v; throw u; } t = t[p]; if (void 0 === t) return !1; if ("function" === typeof t) l(t, this, u); else { v = t.length; w = Array(v); for (var x = 0; x < v; ++x)w[x] = t[x]; for (t = 0; t < v; ++t)l(w[t], this, u) } return !0 }; b.prototype.addListener = function (p, u) {
                            return c(this,
                                p, u, !1)
                        }; b.prototype.on = b.prototype.addListener; b.prototype.mY = function (p, u) { return c(this, p, u, !0) }; b.prototype.once = function (p, u) { a(u); this.on(p, k(this, p, u)); return this }; b.prototype.B7a = function (p, u) { a(u); this.mY(p, k(this, p, u)); return this }; b.prototype.removeListener = function (p, u) {
                            var t; a(u); var w = this.Hh; if (void 0 === w) return this; var v = w[p]; if (void 0 === v) return this; if (v === u || v.listener === u) 0 === --this.RF ? this.Hh = Object.create(null) : (delete w[p], w.removeListener && this.emit("removeListener", p, v.listener ||
                                u)); else if ("function" !== typeof v) { var x = -1; for (t = v.length - 1; 0 <= t; t--)if (v[t] === u || v[t].listener === u) { var y = v[t].listener; x = t; break } if (0 > x) return this; if (0 === x) v.shift(); else { for (; x + 1 < v.length; x++)v[x] = v[x + 1]; v.pop() } 1 === v.length && (w[p] = v[0]); void 0 !== w.removeListener && this.emit("removeListener", p, y || u) } return this
                        }; b.prototype.IA = b.prototype.removeListener; b.prototype.removeAllListeners = function (p) {
                            var u = this.Hh; if (void 0 === u) return this; if (void 0 === u.removeListener) return 0 === arguments.length ? (this.Hh =
                                Object.create(null), this.RF = 0) : void 0 !== u[p] && (0 === --this.RF ? this.Hh = Object.create(null) : delete u[p]), this; if (0 === arguments.length) { var t = Object.keys(u); for (u = 0; u < t.length; ++u) { var w = t[u]; "removeListener" !== w && this.removeAllListeners(w) } this.removeAllListeners("removeListener"); this.Hh = Object.create(null); this.RF = 0; return this } t = u[p]; if ("function" === typeof t) this.removeListener(p, t); else if (void 0 !== t) for (u = t.length - 1; 0 <= u; u--)this.removeListener(p, t[u]); return this
                        }; b.prototype.listeners = function (p) {
                            var u =
                                this.Hh; if (void 0 === u) p = []; else if (p = u[p], void 0 === p) p = []; else if ("function" === typeof p) p = [p.listener || p]; else { u = Array(p.length); for (var t = 0; t < u.length; ++t)u[t] = p[t].listener || p[t]; p = u } return p
                        }; b.listenerCount = function (p, u) { return "function" === typeof p.listenerCount ? p.listenerCount(u) : m.call(p, u) }; b.prototype.listenerCount = m
                }, function (r, b, a) {
                    function c(q, p) { if (q.length == p.length && 1 < q.length) { for (var u = q.length, t = 0, w = g(q), v = g(p), x = 0; x < u; x++)t += q[x] * p[x]; return (t - w * v / u) / u } return !1 } function f(q) {
                        if (!Array.isArray(q) ||
                            2 > q.length) return !1; q = k(q); return Math.sqrt(q)
                    } function k(q) { if (!Array.isArray(q) || 2 > q.length) return !1; var p = m(q); return g(q.map(function (u) { return (u - p) * (u - p) })) / (q.length - 1) } function m(q) { return Array.isArray(q) && q.length ? g(q) / q.length : !1 } function g(q) { return Array.isArray(q) ? q.reduce(function (p, u) { return p + u }, 0) : !1 } function d(q, p, u) { return Math.max(Math.min(q, u), p) } function h(q, p) { return "number" === typeof q ? q : p } function l(q) { return 1 / (1 + Math.exp(-q)) } var n = a(10); r.exports = {
                        Za: function (q, p, u) {
                            try {
                                q.emit(p,
                                    u)
                            } catch (t) { q.Sk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:", t, "Event:", u) }
                        }, OC: function () { var q = Array.prototype.concat.apply([], arguments), p = q.reduce(function (t, w) { return t + w.byteLength }, 0), u = new Uint8Array(p); q.reduce(function (t, w) { u.set(new Uint8Array(w), t); return t + w.byteLength }, 0); return u.buffer }, l4: d, Wwb: function (q, p, u, t) {
                            return {
                                min: d(h(q.min, p), u, t), max: d(h(q.max, p), u, t), gz: d(q.gz || 6E4, 0, 6E5), fTa: d(q.fTa || 0, -3E5, 3E5), scale: d(q.scale || 6E4, 0, 3E5), H9a: d(q.H9a || 0, -3E5,
                                    3E5), gamma: d(q.gamma || 1, .1, 10)
                            }
                        }, xe: function (q, p) { void 0 !== q && n.kUb(q).forEach(function (u) { p(u[0], u[1]) }) }, gXa: function (q, p, u) { return q.min + (q.max - q.min) * (1 - Math.pow(l(6 * (p - (q.gz + (q.fTa || 0) * (1 - u))) / (q.scale + (q.H9a || 0) * (1 - u))), q.gamma)) }, kEb: function (q, p) { return q.min + (q.max - q.min) * Math.pow(l(6 * (p - q.gz) / q.scale), q.gamma) }, Acc: g, DGb: m, RJb: k, ycc: f, scc: c, rcc: function (q, p) { if (q.length == p.length) { var u = c(q, p); q = f(q); p = f(p); if (0 < q && 0 < p) return u / (q * p) } return !1 }, Bq: function (q, p, u) {
                            return p.UUa ? p.UUa(u) : new q.Console("ASEJS",
                                "media|asejs", p.prefix ? p.prefix + " " + u : u)
                        }, BZb: function (q) { return q.length ? "{" + q + "} " : "" }, pZb: function (q, p, u) { return { min: q.min * u + (1 - u) * p.min, max: q.max * u + (1 - u) * p.max, gz: q.gz * u + (1 - u) * p.gz, scale: q.scale * u + (1 - u) * p.scale, gamma: q.gamma * u + (1 - u) * p.gamma } }, tanh: Math.tanh || function (q) { var p = Math.exp(+q); q = Math.exp(-q); return Infinity == p ? 1 : Infinity == q ? -1 : (p - q) / (p + q) }, hxa: l, Aq: function (q) {
                            var p = q.Ua.jb.H.id; return {
                                Z: q.Z, duration: q.duration, offset: q.offset, ea: q.ea, bitrate: q.bitrate, profile: q.profile, gd: q.gd, ha: p,
                                Ta: q.Ta, Md: q.Md, location: q.location, wi: q.wi, kk: q.kk, qx: { jb: { H: { id: p } } }
                            }
                        }
                    }
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); r = a(228); var c = a(145); b.Sgb = c; c = a(375); b.LK = c; c = a(379); b.dub = c; b.C1 = r.Cq.Ya.sidx; r = a(799); b.ur = r.ur; r = a(236); b.qr = r.qr; r = a(803); b.sr = r.sr; b.uA = r.uA; r = a(804); b.rK = r.rK; r = a(85); b.qo = r.qo; a = a(805); b.Rj = a.Rj }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.H_ = b.Mj = void 0; var c = a(2); r = c.__importDefault(a(19)); var f = c.__importStar(a(10)), k = r.default.di,
                        m = c.__importDefault(a(6)), g = m.default.pr, d = a(168), h = c.__importDefault(a(143)), l = a(9); r = a(44); var n = a(240), q = a(171), p; (function (u) { u[u.Djb = 0] = "NOTHING_APPENDED"; u[u.akb = 1] = "PARTIAL"; u[u.ft = 2] = "COMPLETE"; u[u.Rf = 3] = "ERROR" })(p = b.Mj || (b.Mj = {})); a = function (u) {
                            function t(w, v, x, y, z, A, B) {
                                v = u.call(this, v, x) || this; n.UJ.Ab(v, w, y, z, A, B); q.Bv.Ab(v, w, y); v.wmb = w.url || y.url; v.Qfa = y.responseType; v.vmb = y.paa; void 0 === v.Qfa && (v.Qfa = g.Sc && !g.Sc.UY.bS ? 0 : 1); v.Ki = new k; v.Ki.on(v, g.Oe.ZHa, v.vha); v.Ki.on(v, g.Oe.YHa, v.Vpb);
                                v.Ki.on(v, g.Oe.$Ha, v.Ypb); v.Ki.on(v, g.Oe.QR, v.uha); v.Ki.on(v, g.Oe.vF, v.YS); v.PK = !1; v.af = !1; v.em = !1; v.xo = !1; v.HS = !1; v.Tqb = y.NI; v.zs = 0; return v
                            } c.__extends(t, u); Object.defineProperties(t.prototype, { active: { get: function () { return this.af }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { sva: { get: function () { return this.em }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { complete: { get: function () { return !this.PK && 5 === this.readyState }, enumerable: !1, configurable: !0 } });
                            Object.defineProperties(t.prototype, { aborted: { get: function () { return this.PK }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { Gqa: { get: function () { return this.xo && !this.HS }, enumerable: !1, configurable: !0 } }); t.prototype.Ab = function (w) { n.UJ.prototype.Ab.call(this, w); this.ig || !this.gf.xia && this.gd || (this.ig = h.default.instance(), this.active && (this.ig.kP(m.default.time.fa(), this.OY), this.em && (m.default.time.fa(), this.connect && 0 < this.Es.length && this.ig.Ty(this.Es[0])))) }; t.prototype.Du =
                                function () { return this.ff || 1 !== this.responseType ? 5 === this.readyState : 3 <= this.readyState }; t.prototype.vG = function (w, v, x, y) { this.ff = w.appendBuffer(this.response, y || l.Aq(this)); return { status: this.ff ? p.ft : p.Rf } }; t.prototype.EO = function () { (this.xo = g.prototype.open.call(this, this.wmb, { start: this.offset, end: this.offset + this.ea - 1 }, this.Qfa, {}, void 0, void 0, this.vmb)) && this.AV(this); return this.xo }; t.prototype.abort = function () {
                                    if (this.aborted) return !0; var w = this.af; this.ig && w && this.ig.NY(m.default.time.fa(),
                                        this.em, { requestId: this.v2(), vi: this.Md, type: this.mediaType }); this.PK = !0; this.em = this.af = !1; g.prototype.abort.call(this); this.lN(this, w, this.Gqa); return !0
                                }; t.prototype.md = function () { 7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseMediaRequest: in-progress request should be aborted before cleanup", this.toString()), this.abort()); this.Ki && this.Ki.clear(); u.prototype.md.call(this) }; t.prototype.vha = function () {
                                    var w = this.uf || this.loadTime; d.Tx.instance().push(m.default.time.fa() - w); this.af ||
                                        (this.af = !0, this.Fu = this.track.Fu(), this.stream.J.E3a || this.ig && this.ig.kP(w, { requestId: this.v2(), vi: this.Md, type: this.mediaType }), this.mN(this), this.av = this.uf)
                                }; t.prototype.Vpb = function () { var w = this.uf || this.ina, v = this.connect, x = this.Es; d.Tx.instance().push(m.default.time.fa() - w); this.af || (this.af = !0); this.em || (this.em = !0, this.stream.J.E3a && this.ig && this.ig.kP(w, { requestId: this.v2(), vi: this.Md, type: this.mediaType }), v && 0 < x.length && this.ig && this.ig.Ty(x[0]), this.dD(this), this.av = w) }; t.prototype.Ypb =
                                    function () { var w = this, v = this.uf, x = this.bytesReceived - this.zs; d.Tx.instance().push(m.default.time.fa() - v); this.em || (this.em = !0); this.ig && (void 0 === this.av || this.ig.rw(x, this.av, v, this.OY), this.Es && this.Es.length && this.Es.forEach(function (y) { w.ig.Ry(y) })); this.kH(this); this.av = v; this.zs = this.bytesReceived }; t.prototype.uha = function () {
                                        var w = this, v = this.uf, x = this.bytesReceived - this.zs; d.Tx.instance().push(m.default.time.fa() - v); this.ig && (0 < x && this.ig.rw(x, this.av, v, this.OY), this.Es && this.Es.length && this.Es.forEach(function (y) { w.ig.Ry(y) }),
                                            this.ig.NY(v, this.em, this.OY)); this.em = this.af = !1; this.HS = !0; this.qu(this); this.av = v; this.zs = this.bytesReceived; this.md()
                                    }; t.prototype.v2 = function () { var w = (w = this.stream) ? w.toString() : this.url, v = this.d4; v && (w += ",range " + v.start + "-" + v.end); return w }; Object.defineProperties(t.prototype, { OY: { get: function () { return { requestId: this.v2(), vi: this.Md, type: this.mediaType, NI: this.Tqb } }, enumerable: !1, configurable: !0 } }); t.prototype.YS = function () {
                                        this.I.warn("AseMediaRequest._onError:", this.toString()); var w = this.uf,
                                            v = this.status, x = this.th, y = this.zj; d.Tx.instance().push(m.default.time.fa() - w); this.complete ? this.I.warn("Error on a done request " + this.toString() + ", failurecode: " + x) : this.aborted ? this.I.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x) : f.Ea(x) ? (this.ig && this.gf && this.gf.Qva && this.loadTime && void 0 === v && this.ig.rw(this.zs ? this.bytesReceived - this.zs : this.bytesReceived, this.av ? this.av : this.loadTime, w, this.OY), this.U5(this)) : this.I.warn("ignoring undefined request error (nativecode: " +
                                                y + ")")
                                    }; return t
                        }(g); b.H_ = a; r.zf(n.UJ, a, !1); r.zf(q.Bv, a, !1)
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.gF = "ManifestFetcherSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.CK = b.CF = void 0; r = b.CF || (b.CF = {}); r.n8b = "ident"; r.Nda = "main"; r.SAa = "credits"; b.CK = "PlaygraphHelperSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.CCa = "DrmServicesSymbol"; b.n0 = "DrmServicesProviderSymbol" }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 });
                    b.BK = "PlayerErrorFactorySymbol"
                }, function (r, b) { function a(c, f) { c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__, f); var k; Object.getOwnPropertyNames(c).forEach(function (m) { k = Object.getOwnPropertyDescriptor(c, m); void 0 !== k && Object.defineProperty(f, m, k) }) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.default = a }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wp = void 0; var c = a(2), f = c.__importDefault(a(27)), k = c.__importDefault(a(6)), m = a(810); r = function () {
                        function g(d) {
                            this.OK =
                                d; this.fg = []; this.console = new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL", "media|asejs")
                        } Object.defineProperties(g, { instance: { get: function () { if (void 0 === g.rL) { var d = a(6).default; g.rL = new g(d.bK) } return g.rL }, enumerable: !1, configurable: !0 } }); g.reset = function () { g.rL = void 0 }; g.prototype.$t = function (d, h, l, n, q, p) {
                            var u = !1, t = p.X_b ? this.mFb(l, h, d, p.Y_b) : -1; if (-1 === t) {
                                var w = { track: this.cAb(l, n, d, q, p), Dj: l, K: h, $7a: d, WO: [], Io: !1, KM: !1 }; this.fg.push(w); var v = function () {
                                    w.Io = !0; w.track.removeListener("created",
                                        v)
                                }; w.track.on("created", v); u = !1
                            } else u = !0, w = this.fg[t]; d = new m.dLa(this.console, w.track, w.Io, u); w.WO.push(d); return d
                        }; g.prototype.JM = function (d) { d.hq(); var h = this.M5(function (n) { return n.track === d.track }); if (-1 !== h) if (h = this.fg[h], 1 === h.WO.length) h.track.hq(), h.KM = !0; else { var l = h.WO.indexOf(d); 0 <= l && h.WO.splice(l, 1) } else d.track.hq() }; g.prototype.Vf = function () { this.OK.Vf() }; g.prototype.cAb = function (d, h, l, n, q) {
                            var p = this, u = !1; d ? 1 === l ? (d = !1, h = 1, q.Gq ? (d = !0, h = q.eO) : q.bx && 2 < q.bx && (d = !0, h = q.bx), d = {
                                type: this.OK.Pb,
                                openRange: !d, pipeline: d, connections: h, socketBufferSize: q.kQ, minRequestSize: q.lO
                            }) : 0 === l ? (u = q.Gq && (q.F4b || h && q.G4b), d = { type: this.OK.$b, openRange: !u, pipeline: u, connections: 1, socketBufferSize: q.K3, minRequestSize: q.lO }) : d = { type: q.kCb ? this.OK.Pb : this.OK.Dhb, openRange: !1, pipeline: !0, connections: 1, socketBufferSize: q.Epa, minRequestSize: q.lO } : d = { type: 0 === l ? f.default.Wa.$b : f.default.Wa.Pb, openRange: !1, pipeline: !1, connections: 1, socketBufferSize: 0 === l ? q.K3 : q.kQ, minRequestSize: q.lO }; var t = new this.OK(d, n); t.on("transportreport",
                                function (w) { var v = p.M5(function (x) { return x.track === t }); -1 !== v && (v = p.fg[v], v.WO.length && v.WO[0].emit("transportreport", w)) }); t.on("destroyed", function () { var w = p.M5(function (v) { return v.track === t }); -1 !== w && p.fg.splice(w, 1); t.removeAllListeners() }); if (u && q.E4b || q.Wcb) t.on("pipelinedisabled", function () { q.Wcb && 1 === t.config.type ? t.A$(c.__assign(c.__assign({}, t.config), { socketBufferSize: q.jRb, pipeline: !1, openRange: !0, connections: 1 })) : t.A$(c.__assign(c.__assign({}, t.config), { pipeline: !1, openRange: !0 })) });
                            return t
                        }; g.prototype.mFb = function (d, h, l, n) { return this.M5(function (q) { return !q.KM && (!n && q.track.config.lec || !d ? !q.Dj && q.$7a === l : q.Dj && q.K === h && q.$7a === l) }) }; g.prototype.M5 = function (d) { for (var h = 0; h < this.fg.length; ++h)if (d(this.fg[h])) return h; return -1 }; return g
                    }(); b.wp = r
                }, function (r, b, a) {
                    (function (c, f) {
                        function k(m, g, d, h) {
                            this.console = new m("ASEJS_PROGRESS", "media|asejs"); this.now = g; this.e$a = this.P0b = m = this.now(); this.u5 = m + d; this.PUb = d; this.jVa = m + h; this.debug = !1; this.counter = this.vA = 0; this.Cw = 1E4;
                            this.tbb = d / 100; this.vbb = m; this.ubb = 1 * this.tbb / 4; this.Laa = 0; this.IU = ""; this.Fg(m, "progress tracking start")
                        } k.prototype.constructor = k; k.prototype.Fg = function (m, g) { var d = ((m - this.e$a) / 1E3).toFixed(3); d = "     ".slice(d.length - 4) + d; var h = c.MQb(); this.console.info(d + (" " + ((this.jVa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.Cw)) + (" M:(" + Math.floor(h.Lcc / 1024 / 1024) + " MB/" + Math.floor(h.g0a / 1024 / 1024) + " MB) ") + this.IU + g) }; k.prototype.grb = function (m) {
                            var g = this.now(); this.IU = m ? m + ": " : m; this.vA = 0; this.e$a = g;
                            this.Fg(g, "starting")
                        }; k.prototype.Erb = function (m) {
                            this.counter++; if (!(this.counter < this.Cw)) {
                                this.counter = 0; var g = this.now(), d = g - (this.vbb + this.tbb); this.vbb = g; this.Laa = .9 * this.Laa + .1 * d; this.Laa > this.ubb ? (this.Cw *= .875, this.Cw = Math.max(1, this.Cw)) : this.Laa < -this.ubb && (this.Cw *= 1.5, this.Cw = Math.min(this.Cw, 1E5)); if (g >= this.jVa) throw this.Fg("Execution deadline exceeded after " + (g - this.P0b) + " ms" + this.IU), Error("Execution deadline exceeded" + this.IU); d = c.MQb(); this.vA = Math.max(this.vA, d.g0a); if (7516192768 <
                                    d.g0a) throw Error("Heap total limit exceeded" + this.IU); if (!(g <= this.u5)) { for (; g > this.u5;)this.u5 += this.PUb; this.Fg(g, m) }
                            }
                        }; k.Ab = function (m, g, d, h) { f.hE = new k(m, g, d || 5E3, h || 33E5) }; k.Nwa = function (m) { f.hE && f.hE.grb(m) }; k.update = function (m) { f.hE && f.hE.Erb(m) }; k.EZa = function () { if (f.hE) return f.hE.vA }; k.now = function () { return f.hE ? f.hE.now() : Date.now() }; r.exports = k
                    }).call(this, a(253), a(197))
                }, function (r) { var b = { wW: function (a) { for (var c in a) a.hasOwnProperty(c) && (b[c] = a[c]) } }; r.exports = b }, function (r, b, a) {
                    function c(h) {
                        return h instanceof
                            ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h)
                    } function f(h) { return g.Zf(h) } function k(h) { return g.Ea(h) } function m(h) { return !c(h) && !f(h) && !k(h) && !Array.isArray(h) && g.Ph(h) } var g = a(10), d = { SE: 0, y1: 1, Jjb: 2, c1: 3, wl: 4 }; r.exports = { kpa: function (h) { return c(h) ? d.SE : f(h) ? d.y1 : k(h) ? d.Jjb : m(h) ? d.c1 : d.wl }, y7: c, Zf: f, Ea: k, Ph: m, nr: d }
                }, function (r, b, a) { var c = a(179); r.exports = function (f) { return function g(m) { return 0 === arguments.length || c(m) ? g : f.apply(this, arguments) } } }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.K1 = void 0; b.Hp = { zK: "PRIMARY", Fba: "ASSISTIVE", LAa: "COMMENTARY", NONE: "NONE" }; b.K1 = { assistive: b.Hp.Fba, closedcaptions: b.Hp.Fba, directorscommentary: b.Hp.LAa, commentary: b.Hp.LAa, subtitles: b.Hp.zK, primary: b.Hp.zK, none: b.Hp.NONE }
                }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.Xd = void 0; var f = a(30); c.YUa = function (k) {
                        var m = {}; m[f.xd.aS] = c.$Q; m[f.xd.cR] = c.$Q; m[f.xd.HF] = c.bR; m[f.xd.jt] = c.jt; m[f.xd.jr] = k || c.jr; m[f.xd.AB] = c.$Q; m[f.xd.VB] = c.jS; m[f.xd.tl] =
                            c.tl; return m
                    }; b.Xd = c; c.YQb = 'video/mp4; codecs="avc1.4d0028"'; c.$Q = "avc1.4d0028"; c.bR = "hev1.1.6.L93.B0"; c.X_ = "dvhe.05.01"; c.Bca = "dvhe.05.04"; c.Cca = "dvhe.05.05"; c.Dca = "dvhe.05.06"; c.Eca = "dvhe.05.07"; c.Fca = "dvhe.05.09"; c.jr = c.X_; c.jt = c.bR; c.y_ = "mp4a.40.2"; c.NK = "mp4a.40.42"; c.Ufb = "ec-3"; c.jS = "vp09.00.11.08.02"; c.tl = "av01.0.04M.08"; c.Mfb = [c.Fca, c.Eca, c.Dca, c.Cca, c.Bca, c.X_]
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Ok = void 0; r = b.Ok || (b.Ok = {}); r.Io = "created"; r.Fx = "started"; r.UP =
                        "succeeded"; r.ju = "failed"; r.Kh = "cancelled"; r.bwb = "cancelled_on_start"; r.dka = "cancelled_not_encrypted"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.MK = "VideoPreparerSymbol" }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Hv = void 0; r = b.Hv || (b.Hv = {}); r[r.w6b = 8] = "Backspace"; r[r.bac = 9] = "Tab"; r[r.J7b = 13] = "Enter"; r[r.U$b = 16] = "Shift"; r[r.U6b = 17] = "Ctrl"; r[r.Z5b = 18] = "Alt"; r[r.e$b = 19] = "PauseBreak"; r[r.N6b = 20] = "CapsLock"; r[r.L7b = 27] = "Escape"; r[r.W$b = 32] = "Space"; r[r.d$b =
                        33] = "PageUp"; r[r.c$b = 34] = "PageDown"; r[r.I7b = 35] = "End"; r[r.m8b = 36] = "Home"; r[r.D8b = 37] = "LeftArrow"; r[r.iac = 38] = "UpArrow"; r[r.p$b = 39] = "RightArrow"; r[r.n7b = 40] = "DownArrow"; r[r.A8b = 45] = "Insert"; r[r.k7b = 46] = "Delete"; r[r.rac = 48] = "Zero"; r[r.H9b = 49] = "One"; r[r.eac = 50] = "Two"; r[r.cac = 51] = "Three"; r[r.e8b = 52] = "Four"; r[r.c8b = 53] = "Five"; r[r.V$b = 54] = "Six"; r[r.T$b = 55] = "Seven"; r[r.H7b = 56] = "Eight"; r[r.s9b = 57] = "Nine"; r[r.P5b = 65] = "A"; r[r.$5b = 66] = "B"; r[r.D6b = 67] = "C"; r[r.Tfb = 68] = "D"; r[r.E = 69] = "E"; r[r.M7b = 70] = "F"; r[r.f8b =
                            71] = "G"; r[r.i8b = 72] = "H"; r[r.Khb = 73] = "I"; r[r.B8b = 74] = "J"; r[r.Ada = 75] = "K"; r[r.Lib = 76] = "L"; r[r.H8b = 77] = "M"; r[r.xjb = 78] = "N"; r[r.F9b = 79] = "O"; r[r.J9b = 80] = "P"; r[r.Q = 81] = "Q"; r[r.i$b = 82] = "R"; r[r.vlb = 83] = "S"; r[r.Xlb = 84] = "T"; r[r.fac = 85] = "U"; r[r.jac = 86] = "V"; r[r.lac = 87] = "W"; r[r.Pfa = 88] = "X"; r[r.pac = 89] = "Y"; r[r.qac = 90] = "Z"; r[r.E8b = 91] = "LeftWindowKey"; r[r.q$b = 92] = "RightWindowKey"; r[r.R$b = 93] = "SelectKey"; r[r.v9b = 96] = "Numpad0"; r[r.w9b = 97] = "Numpad1"; r[r.x9b = 98] = "Numpad2"; r[r.y9b = 99] = "Numpad3"; r[r.z9b = 100] = "Numpad4";
                    r[r.A9b = 101] = "Numpad5"; r[r.B9b = 102] = "Numpad6"; r[r.C9b = 103] = "Numpad7"; r[r.D9b = 104] = "Numpad8"; r[r.E9b = 105] = "Numpad9"; r[r.U8b = 106] = "Multiply"; r[r.Y5b = 107] = "Add"; r[r.X$b = 109] = "Subtract"; r[r.j7b = 110] = "DecimalPoint"; r[r.m7b = 111] = "Divide"; r[r.N7b = 112] = "F1"; r[r.R7b = 113] = "F2"; r[r.S7b = 114] = "F3"; r[r.T7b = 115] = "F4"; r[r.U7b = 116] = "F5"; r[r.V7b = 117] = "F6"; r[r.W7b = 118] = "F7"; r[r.X7b = 119] = "F8"; r[r.Y7b = 120] = "F9"; r[r.O7b = 121] = "F10"; r[r.P7b = 122] = "F11"; r[r.Q7b = 123] = "F12"; r[r.u9b = 144] = "NumLock"; r[r.P$b = 145] = "ScrollLock"; r[r.S$b =
                        186] = "SemiColon"; r[r.K7b = 187] = "Equals"; r[r.Q6b = 188] = "Comma"; r[r.i7b = 189] = "Dash"; r[r.f$b = 190] = "Period"; r[r.d8b = 191] = "ForwardSlash"; r[r.dac = 192] = "Tilde"; r[r.I9b = 219] = "OpenBracket"; r[r.v6b = 220] = "BackSlash"; r[r.P6b = 221] = "CloseBracket"; r[r.h$b = 222] = "Quote"
                }, function (r, b, a) {
                    function c(h) { return "function" === typeof h ? h.name : "symbol" === typeof h ? h.toString() : h } function f(h, l) { return null === h.LA ? !1 : h.LA.Og === l ? !0 : f(h.LA, l) } function k(h) {
                        function l(n, q) {
                            void 0 === q && (q = []); var p = c(n.Og); q.push(p); return null !==
                                n.LA ? l(n.LA, q) : q
                        } return l(h).reverse().join(" --\x3e ")
                    } function m(h) { h.rka.forEach(function (l) { if (f(l, l.Og)) throw l = k(l), Error(d.ufb + " " + l); m(l) }) } function g(h) { if (h.name) return h.name; h = h.toString(); var l = h.match(/^function\s*([^\s(]+)/); return l ? l[1] : "Anonymous function: " + h } Object.defineProperty(b, "__esModule", { value: !0 }); var d = a(58); b.yN = c; b.J2a = function (h, l, n) {
                        var q = ""; h = n(h, l); 0 !== h.length && (q = "\nRegistered bindings:", h.forEach(function (p) {
                            var u = "Object"; null !== p.Bm && (u = g(p.Bm)); q = q + "\n " +
                                u; p.KG.r4a && (q = q + " - " + p.KG.r4a)
                        })); return q
                    }; b.Swb = m; b.vOb = function (h, l) { if (l.Rqa() || l.Eqa()) { var n = "", q = l.uIb(); l = l.gHb(); null !== q && (n += q.toString() + "\n"); null !== l && l.forEach(function (p) { n += p.toString() + "\n" }); return " " + h + "\n " + h + " - " + n } return " " + h }; b.getFunctionName = g
                }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.cK = b.bc = void 0; var f = a(137), k = a(40), m = a(3); c.eoa = function (g) {
                        if (g) { if (g.includes(b.cK.eE)) return f.mo.eE; if (g.includes("fps")) return f.mo.hH; if (g.includes(b.cK.xba)) return f.mo.xba } throw new k.Wc(m.N.hhb,
                            void 0, void 0, void 0, void 0, "Invalid KeySystem: " + g);
                    }; c.$Ya = function (g) { switch (g) { case f.mo.eE: return b.cK.eE; case f.mo.hH: return b.cK.hH; default: return b.cK.xba } }; b.bc = c; c.QB = "com.microsoft.playready"; c.ke = "com.microsoft.playready.hardware"; c.AK = "com.microsoft.playready.software"; c.alb = "com.chromecast.playready"; c.clb = "com.microsoft.playready.recommendation.2000"; b.cK = { hH: "fairplay", xba: "widevine", eE: "playready" }
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.ECa = b.mo = void 0;
                    r = b.mo || (b.mo = {}); r[r.eE = 0] = "playready"; r[r.xba = 1] = "widevine"; r[r.hH = 2] = "fairplay"; r[r.pbc = 3] = "clearkey"; b.ECa = "DrmTypeSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.IR = "MediaKeysStorageFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.G1 = b.Ep = void 0; b.Ep = function () { }; b.G1 = "StringObjectReaderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.kMa = "SystemRandomSymbol"; b.u1 = "RandomGeneratorSymbol" }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.Zm = void 0; var c = a(2).__importDefault(a(6)), f = a(117); r = function () { function k(m) { this.I = new c.default.Console("ASEJS", "media|asejs", "(" + m + ")"); this.mha = [] } k.prototype.rq = function (m) { this.mha[m] || (this.mha[m] = f.Bq(c.default, this.I, "[" + m + "]")); return this.mha[m] }; return k }(); b.Zm = new r(0)
                }, function (r, b, a) {
                    function c(f, k) { this.RL = f; this.gk = Math.floor((f + k - 1) / k); this.Gd = k; this.reset() } a(5); c.prototype.shift = function () { this.Od.shift(); this.ow.shift() }; c.prototype.ox = function (f) {
                        return this.USa(this.Od[f],
                            f)
                    }; c.prototype.update = function (f, k) { this.Od[f] = (this.Od[f] || 0) + k }; c.prototype.push = function () { this.Od.push(0); this.ow.push(0); this.Eb += this.Gd }; c.prototype.add = function (f, k, m) {
                        if (null === this.Eb) { var g = Math.max(Math.floor((m - k + this.Gd - 1) / this.Gd), 1); for (this.Eb = k; this.Od.length < g;)this.push() } for (; this.Eb <= m;)this.push(), this.Od.length > this.gk && this.shift(); if (null === this.po || k < this.po) this.po = k; if (k > this.Eb - this.Gd) this.update(this.Od.length - 1, f); else if (k == m) g = this.Od.length - Math.max(Math.ceil((this.Eb -
                            m) / this.Gd), 1), 0 <= g && this.update(g, f); else for (g = 1; g <= this.Od.length; ++g) { var d = this.Eb - g * this.Gd, h = d + this.Gd; if (!(d > m)) { if (h < k) break; this.update(this.Od.length - g, Math.round(f * (Math.min(h, m) - Math.max(d, k)) / (m - k))) } } for (; this.Od.length > this.gk;)this.shift()
                    }; c.prototype.start = function (f) { null === this.po && (this.po = f); null === this.Eb && (this.Eb = f) }; c.prototype.stop = function (f) {
                        if (null !== this.Eb) if (f - this.Eb > 10 * this.RL) this.reset(); else {
                            for (; this.Eb <= f;)this.push(), this.Od.length > this.gk && this.shift(); var k =
                                this.Od.length - Math.ceil((this.Eb - this.po) / this.Gd), m = this.Od.length - Math.ceil((this.Eb - f) / this.Gd); if (0 <= m) if (0 > k && (this.po = this.Eb - this.Gd * this.Od.length, k = 0), k === m) this.ow[k] += f - this.po; else if (m > k) for (this.ow[k] += (this.Eb - this.po) % this.Gd, this.ow[m] += this.Gd - (this.Eb - f) % this.Gd, f = k + 1; f < m; ++f)this.ow[f] = this.Gd; this.po = null
                        }
                    }; c.prototype.USa = function (f, k) { k = this.Hna(k); return 0 === k ? null : 8 * f / k }; c.prototype.Hna = function (f) {
                        var k = this.ow[f]; null !== this.po && (f = this.Eb - (this.Od.length - f - 1) * this.Gd,
                            f > this.po && (k = f - this.po <= this.Gd ? k + (f - this.po) : this.Gd)); return k
                    }; c.prototype.get = function (f, k) { var m = this.Od.map(this.USa, this); if ("last" === f) for (f = 0; f < m.length; ++f)null === m[f] && (m[f] = 0 < f ? m[f - 1] : 0); else if ("average" === f) { k = 1 - Math.pow(.5, 1 / ((k || 2E3) / this.Gd)); var g; for (f = 0; f < m.length; ++f)null === m[f] ? m[f] = Math.floor(g || 0) : g = void 0 !== g ? k * m[f] + (1 - k) * g : m[f] } return m }; c.prototype.reset = function () { this.Tga || (this.Od = [], this.ow = [], this.po = this.Eb = null) }; c.prototype.setInterval = function (f) {
                        this.gk = Math.floor((f +
                            this.Gd - 1) / this.Gd)
                    }; r.exports = c
                }, function (r, b, a) {
                    function c(t) { if (!t.eia) { var w = t.v_a(); t.uo.sG(w.default.Ha, t.Xj); t.uo.MJ(w.Cu ? w.Cu.U9 : void 0, w.Cu ? w.Cu.sampleSize : void 0); k.Lb(t.Yc) || (t.eia = !0) } } function f(t, w, v) {
                        this.J = v; this.Tp = {}; this.iL = v.iL; this.jOa = new d(this.iL); this.FS = new l(!0); this.kS = new l(!1); this.fqb = v.M9; this.wob = v.xLb; this.xob = v.yLb; v.IWa && (this.EL = new n(this.J)); v.n5 && (this.cC = new q(v.msa)); this.reset(); this.lPa = t; this.uo = w; this.NOa = m.cp.name(); this.uo.jaa(this.NOa); this.LF = 0; this.lS =
                            []; m.events.on("networkchange", function (y) { this.NOa = y; this.uo.jaa(y) }.bind(this)); var x = v.Ela; x && (x = { confidence: g.Sf.kK, Sa: { Ha: parseInt(x, 10), ij: 0 }, Fj: { rub: 0, ij: 0 }, Bu: { rub: 0, ij: 0 } }, this.get = function () { return x }); u = this
                    } var k = a(10), m = a(6).default, g = a(27).default; a(9); b = a(19).EventEmitter; var d = a(366).DDa, h = new m.Console("ASEJS_NETWORK_MONITOR", "media|asejs"), l = a(768).eDa, n = a(770).vIa, q = a(771).oFa, p = a(142), u = void 0; f.prototype.constructor = f; f.prototype = Object.create(b.prototype); f.instance = function () { return u };
                    f.reset = function () { u && u.reset() }; Object.defineProperties(f.prototype, { startTime: { get: function () { return this.Df } }, confidence: { get: function () { return this.Xj } }, Up: { get: function () { return this.LF } }, FQa: { get: function () { return this.lS } } }); f.prototype.unb = function () { var t = this.J, w = t.Knb.concat(t.Tnb), v = t.Gga, x = this.jOa; return w.reduce(function (y, z) { y[z] = x.create(z, v); return y }, {}) }; f.prototype.reset = function () {
                        var t = this.J.Gga, w = this.jOa, v = this.J; this.location = null; this.Tp = this.unb(); if (this.J.LWa) {
                            var x =
                                this.J.nbb; this.Tp.v2b = new p(x.numB * x.bSizeMs, x.bSizeMs)
                        } this.FS.reset(); this.kS.reset(); this.Ly = w.create("respconn-ewma", t); this.By = w.create("respconn-ewma", t); this.EL && this.EL.reset(); this.cC && this.cC.reset(); this.Xj = g.Sf.HAVE_NOTHING; this.Frb = function () { c(this) }.bind(this); this.p3 = void 0; this.dC = this.Qc = this.Yc = this.Df = null; this.XB = this.k3 = 0; this.sqb = !1; v.g9a && (this.LF = 0, this.lS = [])
                    }; f.prototype.CP = function (t) {
                        var w = this.Tp; if (t !== this.location) {
                            k.la(this.p3) || (clearInterval(this.p3), this.p3 = void 0);
                            k.Lb(this.location) && (this.k3 = 0, this.Df = null); if (!k.Lb(t)) { this.Xj = g.Sf.HAVE_NOTHING; for (var v in w) w[v] && w[v].reset && w[v].reset(); this.Ly.reset(); this.By.reset() } k.Lb(this.Df) || (this.k3 += (k.Lb(this.Yc) ? m.time.fa() : this.Yc) - this.Df); this.Yc = this.Df = null; this.Qc = 0; this.location = t; this.uo.CP(t)
                        }
                    }; f.prototype.jaa = function (t) { this.uo.jaa(t) }; f.prototype.msb = function (t) { this.Tp.QoEEvaluator ? h.warn("monitor (QoEEvaluator) already existed.") : this.Tp.QoEEvaluator = t }; f.prototype.YXb = function () { delete this.Tp.QoEEvaluator };
                    f.prototype.rw = function (t, w, v, x) {
                        this.o2a = Math.max(this.o2a || 0, v); var y = this.J, z = this.Tp; if (!0 === x.qQ) (x = z["throughput-wssl"]) && x.add(t, w, v, !0); else if (k.la(w)) h.warn("addDataReceived called with undefined start time"); else {
                            this.EL && this.EL.rw(t, w, v, x); if (x.NI) if (this.wob) { if (x.NI.F3a(t, w, v, this.fqb)) return } else if (this.xob && x.NI.J7()) return; y.Snb && 10 > v - w ? w = v - 10 : 0 === v - w && (w = v - 1); this.cC && this.cC.rw(t, w, v); this.FS.rw(t, w, v, x); this.kS.rw(t, w, v, x); for (var A in z) z[A] && z[A].add && z[A].add(t, w, v); this.Xj =
                                Math.max(this.Xj, g.Sf.IB); k.Lb(this.Df) && (this.Df = w, this.Yc = null, this.eia = !1, this.Qc = 0); k.Lb(this.Yc) || (w > this.Yc && (this.Df += w - this.Yc), this.Yc = null, this.eia = !1); this.Qc += t; this.Xj < g.Sf.Yx && (v - this.Df > y.fpb || this.Qc > y.epb) && (this.Xj = g.Sf.Yx); this.Xj < g.Sf.kK && (v - this.Df > y.vqb || this.Qc > y.uqb) && (!this.sqb || this.XB > y.dpb) && (this.Xj = g.Sf.kK, c(this), this.p3 = setInterval(this.Frb, y.Pob)); k.Lb(this.dC) || (w - this.dC > y.mPa ? this.lPa.k1a(this.dC, w) : v - w > y.mPa && this.lPa.k1a(w, v)); this.dC = Math.max(v, this.dC)
                        }
                    }; f.prototype.Ty =
                        function (t) { this.Ly.add(t); this.uo.Ty(t) }; f.prototype.Ry = function (t) { this.By.add(t); this.uo.Ry(t) }; f.prototype.start = function (t) { k.Lb(this.dC) && !k.Lb(this.Yc) && (this.dC = t); var w = this.Tp; if (this.J.wxa) for (var v in w) w[v] && w[v].start && w[v].start(t) }; f.prototype.stop = function (t) { var w = this.Tp, v; for (v in w) w[v] && w[v].stop && w[v].stop(t); this.Yc = k.Lb(this.Yc) ? t : Math.min(this.Yc, t); this.dC = null }; f.prototype.flush = function () { var t = this.Tp, w; for (w in t) t[w] && t[w].flush && t[w].flush() }; f.prototype.fail = function () {
                            this.Df =
                                null
                        }; f.prototype.gZa = function () { var t = this.Tp.entropy; if (t) { var w = t.xvb(); t.reset() } return w }; f.prototype.v_a = function () { var t = m.time.fa(), w = {}, v = this.Tp, x = this.J, y = x.znb, z = x.brb, A; for (A in v) v[A] && v[A].get && (w[A] = v[A].get(t), "iqr" === v[A].type && (w.Cu = w[A]), "tdigest" === v[A].type && (w.Jk = w[A]), "wssl" === v[A].type && (w.qQ = w[A])); w.cdnavtp = this.FS.Sw(); w.activecdnavtp = this.kS.Sw(); w.default = y && w[y] ? w[y] : w["throughput-ewma"]; "none" !== x.twa && "none" !== z && (w.M9a = z && w[z] ? w[z] : w["throughput-sw"]); return w }; f.prototype.C6 =
                            function () { return this.EL ? this.EL.C6() : void 0 }; f.prototype.u6 = function () { return this.cC ? this.cC.u6() : void 0 }; f.prototype.get = function () {
                                var t = this.v_a(), w = t.default, v = this.Ly.get(), x = this.By.get(), y = this.J; if (t.M9a) { var z = t.M9a; w = k.Ea(w.Ha) && k.Ea(z.Ha) && w.Ha > z.Ha && 0 < z.Ha ? z : w } t.confidence = this.Xj; t.Sa = w; !y.wma || !w || k.Lb(w.Ha) || isNaN(w.Ha) || !t.qQ || k.Lb(t.qQ.Ha) || isNaN(t.qQ.Ha) || ("max" === y.Hdb ? t.Sa.Ha = Math.max(t.qQ.Ha, w.Ha) : "sum" === y.Hdb && (t.Sa.Ha += t.qQ.Ha)); t.Fj = v; t.Bu = x; this.J.LWa && (w = this.J.nbb, t.Bfc =
                                    this.Tp.v2b.get(w.fillS, w.fillHl)); w = this.k3 + !k.Lb(this.Df) ? (k.Lb(this.Yc) ? m.time.fa() : this.Yc) - this.Df : 0; t.time = w; return t
                            }; f.prototype.HJb = function () {
                                var t = {}, w = this.get(!0); if (w.confidence && w.Sa) {
                                    t.aseavtp = Number(w.Sa.Ha).toFixed(2); t.asevartp = Number(w.Sa.ij).toFixed(2); if (w.Cu) { var v = w.Cu.U9; !v || isNaN(v.Nl) || isNaN(v.Ml) || isNaN(v.Bk) || (t.aseniqr = 0 < v.Bk ? Number((v.Nl - v.Ml) / v.Bk).toFixed(2) : -1, t.aseiqr = Number(v.Nl - v.Ml).toFixed(2), t.asemedtp = Number(v.Bk).toFixed(2)); t.iqrsamples = w.Cu.sampleSize } w.Jk &&
                                        w.Jk.Qz && (t.tdigest = w.Jk.Qz())
                                } return t
                            }; f.prototype.kP = function (t, w) { var v = w.requestId; 1 === ++this.LF && (this.emit("active", t), this.start(t)); v && this.lS.push(v); this.FS.kP(t, w); this.kS.kP(t, w) }; f.prototype.NY = function (t, w, v) { w = v.requestId; --this.LF; this.J.g9a && (this.LF = Math.max(this.LF, 0)); 0 === this.LF && (this.stop(t), this.emit("inactive", t)); w && (w = this.lS.indexOf(w), 0 <= w && this.lS.splice(w, 1)); this.FS.NY(t, v); this.kS.NY(t, v); this.cC && this.cC.PLb(v.type) }; r.exports = f
                }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); var c = a(2), f = function (k) { function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); return m }(Error); b.assert = function (k, m) { if (!k) throw new f(m || "Assertion failed"); }
                }, function (r) {
                    function b() {
                        if (DataView.prototype && DataView.prototype.uu && !f) {
                            try { var k = new ArrayBuffer(4), m = new DataView(k); m.uq(0, 4, 1) } catch (g) { return } try { k = new ArrayBuffer(4), m = new DataView(k), m.uq(1, 2, 2) } catch (g) {
                                DataView.prototype.uq = a(DataView.prototype.uq, DataView.prototype.getUint8, Uint8Array),
                                    DataView.prototype.Tz = a(DataView.prototype.Tz, DataView.prototype.getUint16, Uint16Array), DataView.prototype.uu = a(DataView.prototype.uu, DataView.prototype.getUint32, Uint32Array), DataView.prototype.qH = a(DataView.prototype.qH, DataView.prototype.getInt8, Int8Array), DataView.prototype.oH = a(DataView.prototype.oH, DataView.prototype.getInt16, Int16Array), DataView.prototype.pH = a(DataView.prototype.pH, DataView.prototype.getInt32, Int32Array)
                            } c.npa = function (g, d, h, l, n) { return h ? g.uq(d, h, l || 1, n) : new Uint8Array(0) };
                            c.lpa = function (g, d, h, l, n) { return h ? g.Tz(d, h, l || 2, n) : new Uint16Array(0) }; c.mpa = function (g, d, h, l, n) { return h ? g.uu(d, h, l || 4, n) : new Uint32Array(0) }; c.VHb = function (g, d, h, l, n) { return h ? g.qH(d, h, l || 1, n) : new Int8Array(0) }; c.THb = function (g, d, h, l, n) { return h ? g.oH(d, h, l || 2, n) : new Int16Array(0) }; c.UHb = function (g, d, h, l, n) { return h ? g.pH(d, h, l || 4, n) : new Int32Array(0) }; f = !0
                        }
                    } function a(k, m, g) {
                        return function (d, h, l, n) {
                            l = l || g.BYTES_PER_ELEMENT; if (d + h * l > this.byteLength) {
                                var q = new g(h); q.set(k.call(this, d, h - 1, l, n));
                                q[h - 1] = m.call(this, d + (h - 1 * l), n); return q
                            } return k.call(this, d, h, l, n)
                        }
                    } var c = {
                        uq: function (k, m, g, d, h) { var l = new Uint8Array(g); d = d || 1; for (var n = 0; n < g; ++n, m += d)l[n] = k.getUint8(m, h); return l }, Tz: function (k, m, g, d, h) { var l = new Uint16Array(g); d = d || 2; for (var n = 0; n < g; ++n, m += d)l[n] = k.getUint16(m, h); return l }, uu: function (k, m, g, d, h) { var l = new Uint32Array(g); d = d || 4; for (var n = 0; n < g; ++n, m += d)l[n] = k.getUint32(m, h); return l }, qH: function (k, m, g, d, h) {
                            var l = new Int8Array(g); d = d || 1; for (var n = 0; n < g; ++n, m += d)l[n] = k.getInt8(m,
                                h); return l
                        }, oH: function (k, m, g, d, h) { var l = new Int16Array(g); d = d || 2; for (var n = 0; n < g; ++n, m += d)l[n] = k.getInt16(m, h); return l }, pH: function (k, m, g, d, h) { var l = new Int32Array(g); d = d || 4; for (var n = 0; n < g; ++n, m += d)l[n] = k.getInt32(m, h); return l }, vEb: b
                    }, f = !1; c.boa = function () { return f }; b(); r.exports = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2), f = a(231); r = function () {
                        function k(m, g, d) { this.tag = m; this.view = g; this.u = d; this.startOffset = d.offset } k.zY = function (m, g) {
                            var d = m.tb(), h = m.lva();
                            m = new (f.gq[d] || k)(d, m.Yna(h), m); m.parse(g); return m
                        }; Object.defineProperties(k.prototype, { length: { get: function () { return this.view.byteLength }, enumerable: !0, configurable: !0 } }); k.prototype.parse = function () { this.u.offset = this.startOffset + this.length; this.u.Rn = 0; return !0 }; k.prototype.oV = function (m) { var g = []; this.tag === m && g.push(this); if (this.gq) for (var d = 0; d < this.gq.length; d++)g = c.__spreadArrays(g, this.gq[d].oV(m)); return g }; k.prototype.Il = function (m) { for (m = this.oV(m); 0 < m.length;)return m[0] }; k.prototype.gT =
                            function () { for (this.gq = []; this.u.offset < this.startOffset + this.length;)this.gq.push(k.zY(this.u, this)) }; return k
                    }(); b.TE = r; r.prototype.skip = r.prototype.parse
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Pk = b.pfa = void 0; var c = a(22), f; (function (g) { g[g.absolute = 0] = "absolute"; g[g.B8a = 1] = "relative" })(f = b.pfa || (b.pfa = {})); var k, m = function () {
                        function g(d, h) { this.type = d; this.timestamp = h } g.prototype.toString = function () { return "timeStamp: " + this.timestamp + ", type: " + f[this.type] }; Object.defineProperties(g,
                            { cb: { get: function () { k || (k = new g(f.B8a, c.O.cb)); return k }, enumerable: !1, configurable: !0 } }); return g
                    }(); r = function () { function g() { } g.oQ = function (d) { return new m(f.absolute, d) }; Object.defineProperties(g, { t5b: { get: function () { return m.cb }, enumerable: !1, configurable: !0 } }); g.OJ = function (d) { return new m(f.B8a, d) }; g.hza = new m(f.absolute, c.O.wD); return g }(); b.Pk = r
                }, function (r, b, a) {
                    function c(q) { return q && "function" === typeof q.Lh ? !0 : !1 } function f(q) {
                        return c(q) && (q = typeof q.LMb, "boolean" === q || "undefined" ===
                            q) ? !0 : !1
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.flatten = b.map = b.Sfb = b.xEb = b.KMb = b.teb = b.AsyncIterator = void 0; var k = a(2), m = a(21), g, d = function () {
                        function q(p) { var u = this; this.sob = p; this.PS = !1; this.yqb = function (t) { return u.wWb(t) }; this.DUa() } q.GNb = function (p, u) { function t() { var w = p.next(); w.then(function (v) { f(p) && p.LMb || u(v) }); w.then(function (v) { return !v.done && t() }) } t() }; Object.defineProperties(q.prototype, { jA: { get: function () { return this.PS }, enumerable: !1, configurable: !0 } }); q.eZa = function () { return new h([]) };
                        q.dpa = function () { g || (g = Promise.resolve({ done: !0 })); return g }; Object.defineProperties(q.prototype, { PN: { get: function () { return this.$l || !1 }, enumerable: !1, configurable: !0 } }); q.prototype.Lh = function () { this.cancel() }; q.prototype.cancel = function () { this.zPa(); this.$l = !0; return this.ega }; q.prototype.next = function () { return this.$l ? this.ega : Promise.race([this.ega, this.sob()]).then(this.yqb) }; q.prototype.wWb = function (p) { p.done && (this.PS = !0, this.Lh()); this.PN || (this.zPa(), this.DUa()); return p }; q.prototype.DUa =
                            function () { var p = this; this.ega = new Promise(function (u) { p.zPa = function () { u({ done: !0 }) } }) }; return q
                    }(); b.AsyncIterator = d; var h = function (q) { function p(u) { var t = q.call(this, function () { return t.wIb() }) || this; t.Xy = u; t.index = 0; return t } k.__extends(p, q); p.prototype.Lh = function () { c(this.Xy) && this.Xy.Lh(); q.prototype.Lh.call(this) }; p.prototype.wIb = function () { return this.Xy.length > this.index ? Promise.resolve({ value: this.Xy[this.index++], done: !1 }) : Promise.resolve({ done: !0 }) }; return p }(d); b.teb = h; b.KMb = c; b.xEb =
                        f; var l = function (q) {
                            function p(u, t, w) { var v = q.call(this, function () { return v.Wsa() }) || this; v.console = t; v.xl = w; v.Sua = !1; Array.isArray(u) ? v.ZS = new h(u) : v.ZS = u; return v } k.__extends(p, q); p.prototype.yWb = function (u) { this.Sua = !1; var t = this.console; m.ia && t && t.trace("CompoundIterator: processNextOuterIterator"); if (u.done) return u; u = u.value; if (this.tL) return c(u) && u.Lh(), d.dpa(); Array.isArray(u) ? this.xl = new h(u) : this.xl = u; return this.Wsa() }; p.prototype.xWb = function (u) {
                                var t = this.console; m.ia && t && t.trace("CompoundIterator: processNextInnerResult",
                                    this.tL, u.done); if (!u.done || this.tL) return u; this.xl = void 0; return this.Wsa()
                            }; p.prototype.Lh = function () { var u = this.console; m.ia && u && u.trace("CompoundIterator: dispose"); this.tL = !0; q.prototype.Lh.call(this); c(this.ZS) && this.ZS.Lh(); c(this.xl) && this.xl.Lh() }; p.prototype.toString = function () { return "CompoundIterator " + this.tL + " " + this.ZS + " " + this.xl }; p.prototype.Wsa = function () {
                                var u = this, t = this.console; m.ia && t && t.trace("CompoundIterator: nextImpl"); if (this.xl) return m.ia && t && t.trace("CompoundIterator: getNextInner"),
                                    this.xl.next().then(function (w) { return u.xWb(w) }); this.Sua = !0; m.ia && t && t.trace("CompoundIterator: getNextOuter"); return this.ZS.next().then(function (w) { return u.yWb(w) })
                            }; return p
                        }(d); b.Sfb = l; b.map = function (q, p, u) { return new n(q, p, u) }; var n = function (q) {
                            function p(u, t, w) { var v = q.call(this, function () { return v.fob() }) || this; v.source = u; v.$ra = t; v.Ixb = w; return v } k.__extends(p, q); p.prototype.Lh = function () { c(this.source) && this.source.Lh(); q.prototype.Lh.call(this) }; p.prototype.fob = function () {
                                var u = this.Ixb,
                                    t = this.$ra, w = this.source; m.ia && u && u.trace("MappedIterator: Requesting next"); return w.next().then(function (v) { return v.done ? v : t(v.value) })
                            }; return p
                        }(d); b.flatten = function (q, p, u) { return new l(q, p, u) }
                }, function (r, b, a) {
                    function c(p, u, t, w) { var v; return u === h.Kv.WU ? (u = m.O.cb, (null === w || void 0 === w ? void 0 : w.Xec) === q.end && (u = m.O.Na(null !== (v = t.gQ.na.U[p].Da) && void 0 !== v ? v : 0), g.assert(0 < u.T, "EndTime must be non null")), t.Po.OM({ offset: u, ha: p }).ha) : t.Po.dQ({ offset: m.O.cb, ha: p }).ha } function f(p, u, t) {
                        return u ===
                            h.Kv.Aya ? t.Po.dQ(p) : t.Po.OM(p)
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.aE = void 0; var k = a(2), m = a(22), g = a(5); r = a(898); var d = a(257), h = a(176), l = a(43), n = a(902); a = d.A9a(); a = r.NSa()({
                        B3a: "combinedPlaygraph", WY: {
                            Xz: a()({ map: f, HC: n.H1a }), Xf: a()({
                                map: function (p, u, t, w) { var v = (null === w || void 0 === w ? 0 : w.Sq) ? n.s6(p, w.Sq) : p.position; u = f(v, u, t); p = n.Eka(p, null === w || void 0 === w ? void 0 : w.Sq); (null === w || void 0 === w ? 0 : w.Sq) ? n.n$a(p, w.Sq, u) : p.position = u; return p }, HC: function (p, u, t) {
                                    return (null === t || void 0 ===
                                        t ? 0 : t.Sq) ? n.s6(p, t.Sq) : n.Xf(p)
                                }
                            }), mza: a()({ map: function (p, u, t, w) { if (u === h.Kv.WU) return p.inner; u = n.Eka(p, null === w || void 0 === w ? void 0 : w.Sq); u.inner || (u.inner = p); return u }, HC: function (p, u, t) { return (null === t || void 0 === t ? 0 : t.Sq) ? "object" === typeof n.s6(p, t.Sq) : "object" === typeof p } }), ha: a()({ map: c, HC: n.M1a }), X$: a()({ map: function (p, u, t, w) { u = c(p.ha, u, t, w); return k.__assign(k.__assign({}, p), { ha: u }) }, HC: n.U_a }), mUa: a()({
                                map: function (p, u, t) {
                                    u === h.Kv.WU ? (p = l.yM(t.gQ.na, p.S, p.pm, { K9a: !0 }), g.assert(void 0 !== p,
                                        "Graph position must exist in ux playgraph"), p = t.Po.OM(p), u = p.ha, p = p.offset, u = t.Hg.na.U[u], t = u.S, u = u.Aa, p = m.O.Na(u).add(p)) : (p = l.yM(t.Hg.na, p.S, p.pm, { K9a: !0 }), g.assert(void 0 !== p, "Graph position must exist in combined playgraph"), p = t.Po.dQ(p), u = p.ha, p = p.offset, u = t.gQ.na.U[u], t = u.S, u = u.Aa, p = m.O.Na(u).add(p)); return { pm: p, S: t }
                                }, HC: n.q1a
                            }), Wub: a()({
                                HC: n.o1a, map: function (p, u, t) {
                                    var w, v; if (u === h.Kv.WU) {
                                        u = { ha: p.H.id, offset: m.O.cb }; var x = t.Po.OM(u); u = t.Hg.na.U[x.ha]; t = t.gQ.na.U[p.H.id]; var y = u.Da, z = u.Aa;
                                        y = null !== (w = y && y - z) && void 0 !== w ? w : 0; t = p.Ge.add(m.O.Na(u.Aa - t.Aa)); return { Ge: t, $D: p.xs.add(m.O.Na(y)), xs: p.xs, H: { id: x.ha, Nf: m.O.Na(u.Aa), Yi: m.O.Na(null !== (v = u.Da) && void 0 !== v ? v : 0) } }
                                    } u = { ha: p.H.id, offset: m.O.cb }; v = t.Po.dQ(u); z = t.l5a.p9; u = z.U[p.H.id]; x = t.gQ.na.U[v.ha]; w = m.O.Na(null !== (y = x.Da && x.Da - x.Aa) && void 0 !== y ? y : 0); x.Da && Infinity !== x.Da || (y = t.Po.eIb(v), z = z.U[y], z.Da && (w = t.Po.dQ({ ha: y, offset: m.O.Na(z.Da - z.Aa) }).offset)); y = p.xs.Ja(v.offset); z = y.add(w); t = p.Ge.add(m.O.Na(x.Aa - u.Aa)); p = m.O.Na(x.Aa); u =
                                        w.add(p); return { Ge: t, $D: z, xs: y, H: { id: v.ha, Nf: p, Yi: u } }
                                }
                            })
                        }
                    }); var q; (function (p) { p[p.Yac = 0] = "beginning"; p[p.end = 1] = "end" })(q || (q = {})); b.aE = a
                }, function (r, b, a) {
                    var c = a(129), f = a(53), k = a(179); r.exports = function (m) {
                        return function n(d, h, l) {
                            switch (arguments.length) {
                                case 0: return n; case 1: return k(d) ? n : f(function (q, p) { return m(d, q, p) }); case 2: return k(d) && k(h) ? n : k(d) ? f(function (q, p) { return m(q, h, p) }) : k(h) ? f(function (q, p) { return m(d, q, p) }) : c(function (q) { return m(d, h, q) }); default: return k(d) && k(h) && k(l) ? n : k(d) &&
                                    k(h) ? f(function (q, p) { return m(q, p, l) }) : k(d) && k(l) ? f(function (q, p) { return m(q, h, p) }) : k(h) && k(l) ? f(function (q, p) { return m(d, q, p) }) : k(d) ? c(function (q) { return m(q, h, l) }) : k(h) ? c(function (q) { return m(d, q, l) }) : k(l) ? c(function (q) { return m(d, h, q) }) : m(d, h, l)
                            }
                        }
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = function (k) { function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); return m }(Error); b.assert = function (k, m) {
                        if (!k) throw new f(m || "Assertion failed");
                    }
                }, function (r) {
                    function b() {
                        if (DataView.prototype && DataView.prototype.uu && !f) {
                            try { var k = new ArrayBuffer(4), m = new DataView(k); m.uq(0, 4, 1) } catch (g) { return } try { k = new ArrayBuffer(4), m = new DataView(k), m.uq(1, 2, 2) } catch (g) {
                                DataView.prototype.uq = a(DataView.prototype.uq, DataView.prototype.getUint8, Uint8Array), DataView.prototype.Tz = a(DataView.prototype.Tz, DataView.prototype.getUint16, Uint16Array), DataView.prototype.uu = a(DataView.prototype.uu, DataView.prototype.getUint32, Uint32Array), DataView.prototype.qH =
                                    a(DataView.prototype.qH, DataView.prototype.getInt8, Int8Array), DataView.prototype.oH = a(DataView.prototype.oH, DataView.prototype.getInt16, Int16Array), DataView.prototype.pH = a(DataView.prototype.pH, DataView.prototype.getInt32, Int32Array)
                            } c.npa = function (g, d, h, l, n) { return h ? g.uq(d, h, l || 1, n) : new Uint8Array(0) }; c.lpa = function (g, d, h, l, n) { return h ? g.Tz(d, h, l || 2, n) : new Uint16Array(0) }; c.mpa = function (g, d, h, l, n) { return h ? g.uu(d, h, l || 4, n) : new Uint32Array(0) }; c.VHb = function (g, d, h, l, n) {
                                return h ? g.qH(d, h, l || 1, n) :
                                    new Int8Array(0)
                            }; c.THb = function (g, d, h, l, n) { return h ? g.oH(d, h, l || 2, n) : new Int16Array(0) }; c.UHb = function (g, d, h, l, n) { return h ? g.pH(d, h, l || 4, n) : new Int32Array(0) }; f = !0
                        }
                    } function a(k, m, g) { return function (d, h, l, n) { l = l || g.BYTES_PER_ELEMENT; if (d + h * l > this.byteLength) { var q = new g(h); q.set(k.call(this, d, h - 1, l, n)); q[h - 1] = m.call(this, d + (h - 1 * l), n); return q } return k.call(this, d, h, l, n) } } var c = {
                        uq: function (k, m, g, d, h) { var l = new Uint8Array(g); d = d || 1; for (var n = 0; n < g; ++n, m += d)l[n] = k.getUint8(m, h); return l }, Tz: function (k,
                            m, g, d, h) { var l = new Uint16Array(g); d = d || 2; for (var n = 0; n < g; ++n, m += d)l[n] = k.getUint16(m, h); return l }, uu: function (k, m, g, d, h) { var l = new Uint32Array(g); d = d || 4; for (var n = 0; n < g; ++n, m += d)l[n] = k.getUint32(m, h); return l }, qH: function (k, m, g, d, h) { var l = new Int8Array(g); d = d || 1; for (var n = 0; n < g; ++n, m += d)l[n] = k.getInt8(m, h); return l }, oH: function (k, m, g, d, h) { var l = new Int16Array(g); d = d || 2; for (var n = 0; n < g; ++n, m += d)l[n] = k.getInt16(m, h); return l }, pH: function (k, m, g, d, h) {
                                var l = new Int32Array(g); d = d || 4; for (var n = 0; n < g; ++n,
                                    m += d)l[n] = k.getInt32(m, h); return l
                            }, vEb: b
                    }, f = !1; c.boa = function () { return f }; b(); r.exports = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(272); r = function () {
                        function k(m, g, d) { this.tag = m; this.view = g; this.u = d; this.startOffset = d.offset } k.zY = function (m, g) { var d = m.tb(), h = m.lva(); m = new (f.gq[d] || k)(d, m.Yna(h), m); m.parse(g); return m }; Object.defineProperties(k.prototype, { length: { get: function () { return this.view.byteLength }, enumerable: !0, configurable: !0 } }); k.prototype.parse =
                            function () { this.u.offset = this.startOffset + this.length; this.u.Rn = 0; return !0 }; k.prototype.oV = function (m) { var g = []; this.tag === m && g.push(this); if (this.gq) for (var d = 0; d < this.gq.length; d++)g = c.__spreadArrays(g, this.gq[d].oV(m)); return g }; k.prototype.Il = function (m) { for (m = this.oV(m); 0 < m.length;)return m[0] }; k.prototype.gT = function () { for (this.gq = []; this.u.offset < this.startOffset + this.length;)this.gq.push(k.zY(this.u, this)) }; return k
                    }(); b.TE = r; r.prototype.skip = r.prototype.parse
                }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.aK = b.Tgb = void 0; var c = a(30); b.Tgb = function () { this.fM = []; this.n_ = []; this.gRa = []; this.hja = c.EB.GB; this.oba = c.gn.GB }; b.aK = "DeviceCapabilitiesConfigSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.cS = "SourceBufferTypeProviderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.MR = "MslProviderSymbol" }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.DPb = b.D6a = b.rUb = b.VYa = b.zUb = b.JE = b.yba = b.$s = b.sQ = b.rQ = b.Mk = void 0;
                    var c = a(24), f = a(20); b.Mk = "$attributes"; b.rQ = "$children"; b.sQ = "$name"; b.$s = "$text"; b.yba = "$parent"; b.JE = "$sibling"; b.zUb = /^\s*<\?xml.*\?>/i; b.VYa = function (k, m, g) { for (var d = 2; d < arguments.length; ++d); for (d = 1; (m = arguments[d++]) && (k = k[m]);); return k }; b.rUb = function (k, m) { var g; k ? g = (0, c.Fd)(k[b.$s]) : void 0 !== m && (g = m); (0, f.HU)(g); return g }; b.D6a = function (k, m) { var g; k ? g = k[b.$s] : void 0 !== m && (g = m); (0, f.kVa)(g); return g }; b.DPb = function (k, m) { var g = {}; g[b.Mk] = k; g[b.$s] = m; return g }
                }, function (r) {
                    function b(m, g) {
                        return m.some(function (d) {
                            return d.id ===
                                g
                        })
                    } function a(m, g) { return m.filter(c.bind(null, g)).map(f).reduce(k, 0) } function c(m, g) { return m.id === g.id && m.displayTime + m.duration === g.displayTime } function f(m) { return m.duration } function k(m, g) { return m + g } r.exports = {
                        xxb: function (m, g, d) { for (var h = 0; h < m.length; h++)if (m[h] !== g[h]) return d.error("indexId mismatch in sidx", { sIndexId: m, mIndexId: g }), !1; return !0 }, nla: function (m, g, d) {
                            var h = {}; h.displayTime = m.displayTime; h.duration = m.duration; h.originX = m.UTb; h.originY = m.VTb; h.sizeX = m.z0b; h.sizeY = m.A0b; h.imageData =
                                g; h.id = m.CH; h.rootContainerExtentX = d.YYb; h.rootContainerExtentY = d.ZYb; return h
                        }, doa: function (m, g) { return "o_" + m + "s_" + g }, V4b: function (m, g) { g("P" === String.fromCharCode(m[1])); g("N" === String.fromCharCode(m[2])); g("G" === String.fromCharCode(m[3])) }, Mc: function (m) { return "undefined" !== typeof m }, Vec: b, Qbc: a, QV: function (m, g) { var d = Object.create({}), h; for (h in m) d[h] = m[h]; m instanceof Error && (d.message = m.message, d.stack = m.stack); d.errorString = g; return d }, assert: function (m, g) {
                            if (!m) throw g && g.error(Error("Assertion Failed").stack),
                                Error("Assertion Failed");
                        }, y0a: function (m) { return m && 0 < m.entries.length && 0 === m.images.length }, C1b: function (m, g) { for (var d = g.entries.length, h, l = 0; l < d; l++)if (h = g.entries[l], h.displayTime <= m && h.displayTime + h.duration >= m) return !0; return !1 }, D1b: function (m, g, d) { for (var h = d.entries.length, l, n, q = 0; q < h; q++) { l = d.entries[q]; n = l.displayTime; l = n + l.duration; if (g < n) break; if (n <= m && l >= m || n > m && n <= g) return !0 } return !1 }, eUa: function (m) {
                            return m.map(function (g, d) { g.duration += a(m.slice(d + 1), g); return g }).reduce(function (g,
                                d) { b(g, d.id) || g.push(d); return g }, [])
                        }, Woa: function (m) { return m.reduce(function (g, d) { return g + d.entries.reduce(function (h, l) { return l.Vpa + h }, 0) }, 0) }, BCb: function (m, g) { return m && m.wx <= g && m.Kq >= g }, FHb: function (m) { if (m) return m.endTime }, dIb: function (m) { try { return String.fromCharCode.apply(String, m) } catch (g) { } return "" }
                    }
                }, function (r, b, a) {
                    function c(m) {
                        switch (m) {
                            case f.M.rR: return "http"; case f.M.tR: return "connectiontimeout"; case f.M.XE: return "readtimeout"; case f.M.jEa: return "corruptcontent"; case f.M.JB: return "abort";
                            case f.M.uR: case f.M.kda: return "unknown"
                        }
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Poa = b.Eoa = b.Aoa = void 0; var f = a(3), k = a(11); b.Aoa = c; b.Eoa = function (m, g) { m = { errorcode: m + (g.errorCode || f.N.wl) }; g.ma && (m.errorsubcode = g.ma); g.Te && (m.errorextcode = g.Te); g.bN && (m.erroredgecode = g.bN); g.yb && (m.errordetails = g.yb); g.mk && (m.httperr = g.mk); g.f9 && (m.aseneterr = g.f9); g.$M && (m.errordata = g.$M); g.mX && (m.mediaerrormessage = g.mX); (g = c(Number(g.ma))) && (m.nwerr = g); return m }; b.Poa = function () {
                        return {
                            screensize: k.Mv.width +
                                "x" + k.Mv.height, screenavailsize: k.Mv.availWidth + "x" + k.Mv.availHeight, clientsize: ub.innerWidth + "x" + ub.innerHeight, devicePixelRatio: k.FHa
                        }
                    }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.AF = "PlaygraphConfigSymbol" }, function (r, b) { function a() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.Lt = b.veb = void 0; b.veb = a; b.Lt = new a }, function (r, b, a) {
                    function c(g, d, h, l) { d = m.Ii.call(this, g, d, l) || this; d.context = g; d.Kma = h; return d } Object.defineProperty(b, "__esModule", { value: !0 }); b.fr = void 0;
                    r = a(1); var f = a(0), k = a(69), m = a(77); a(190); qa(c, m.Ii); c.prototype.Vf = function (g, d) { var h = this, l = this.a4(d); !1; !1; return this.send(g, { url: d.href, name: k.yg.events, ip: k.yg.events + "/" + this.Kma }, l).then(function () { return d }).catch(function (n) { throw h.Jn(n); }) }; c.prototype.nq = function (g, d, h) { var l = this, n = this.a4(h); !1; !1; var q = { url: d.UV("events").href, name: k.yg.events, ip: k.yg.events + "/" + this.Kma }; return this.send(g, q, n).then(function (p) { d.QQa(p.result.links); return h }).catch(function (p) { throw l.Jn(p); }) };
                    c.prototype.a4 = function (g) { return { event: this.Kma, xid: g.da, position: g.position || 0, clientTime: g.mU, sessionStartTime: g.gZ, videoTrackId: g.lQ, audioTrackId: g.wn, timedTextTrackId: g.ZP, mediaId: g.gO, trackId: g.trackId, sessionId: g.sessionId, appId: g.appId, playTimes: this.ivb(g.eY), sessionParams: g.ao, mdxControllerEsn: g.psa } }; c.prototype.Qja = function (g) { return { downloadableId: g.Dc, duration: g.duration } }; c.prototype.ivb = function (g) {
                        var d = { total: g.total, audio: g.audio.map(this.Qja), video: g.video.map(this.Qja), text: g.text.map(this.Qja) };
                        g.total !== g.CJ && (d.totalContentTime = g.CJ); return d
                    }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.Wm)()), r.__param(1, (0, f.Wm)()), r.__param(2, (0, f.Wm)()), r.__param(3, (0, f.Wm)())], a); b.fr = a
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.O_ = "CannedChallengeProvider" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.WKa = "ReportSyncSymbol"; b.UKa = "ReportApiErrorSyncSymbol"; b.HDa = "FtlProbeConfigSymbol"; b.JDa = "FtlProbeSymbol" }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.NKa = b.x1 = b.q6 = void 0; var c = a(43), f = a(3); b.q6 = function (k) { return k === c.Yb.ul.$b ? f.M.Sda : f.M.Tda }; b.x1 = 50; b.NKa = 1E3
                }, function (r, b) {
                    function a(c) { var f = { profile: c.spoofedProfile || c.profile, Ana: c.max_framerate_value, zna: c.max_framerate_scale, maxWidth: c.maxWidth, maxHeight: c.maxHeight, VUb: c.pixelAspectX, WUb: c.pixelAspectY, channels: c.channels, sampleRate: c.channels ? 48E3 : void 0 }; c.spoofedProfile && (f.mec = c.profile); return f } Object.defineProperties(b, { __esModule: { value: !0 } }); b.HZa = b.GZa = void 0;
                    b.GZa = function (c, f, k) { var m = [{}, {}]; (0 === k ? ["audio_tracks"] : ["audio_tracks", "video_tracks"]).forEach(function (g, d) { c[g].some(function (h, l) { return l === f[d] ? (m[d] = a(h), !0) : !1 }) }); return m }; b.HZa = a
                }, function (r, b) {
                    function a(c) { return c && "object" === typeof c ? Array.isArray(c) ? c.map(a) : Object.keys(c).reduce(function (f, k) { f[k] = a(c[k]); return f }, {}) : c } Object.defineProperty(b, "__esModule", { value: !0 }); b.iy = void 0; r = function () {
                        function c(f) { f && (this.bJ(f.ue), this.cxa(f.de), this.Xwa(f.U)) } c.prototype.bJ = function (f) {
                            this.ue =
                                f; return this
                        }; c.prototype.cxa = function (f) { this.de = f; return this }; c.prototype.u$a = function (f) { this.Dd = f; return this }; c.prototype.Vk = function (f, k) { this.U || (this.U = {}); this.U[f] = a(k); return this }; c.prototype.Xwa = function (f, k) { void 0 === k && (k = function () { return !0 }); this.U = {}; this.$Qa(f, k) }; c.prototype.$Qa = function (f, k) { var m = this; void 0 === k && (k = function () { return !0 }); Object.keys(f).filter(function (g) { return k(f[g]) }).forEach(function (g) { return m.Vk(g, f[g]) }) }; c.prototype.IKb = function (f) {
                            var k; return !(null ===
                                (k = this.U) || void 0 === k || !k[f])
                        }; c.prototype.ri = function () { if (!this.U) throw Error("Invalid playgraph - `segments` is not defined"); if (!this.ue) throw Error("Invalid playgraph - `initialSegment` is not defined"); if (!this.U[this.ue]) throw Error("Invalid playgraph - `initialSegment` is not part of `segments`"); var f = { ue: this.ue, U: this.U }; this.de && (f.de = this.de); this.Dd && (f.Dd = this.Dd); return f }; return c
                    }(); b.iy = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Tx = void 0; var c = a(224),
                        f = a(5); r = function () { function k(m) { this.config = m; this.reset() } k.instance = function () { f.assert(void 0 !== k.rL); return k.rL }; k.Nxb = function (m) { k.rL = new k(m) }; k.prototype.push = function (m) { this.Jk && this.Jk.push(m) }; k.prototype.Bb = function () { if (this.Jk) return this.Jk.lz(), this.Jk.Cj([.25, .5, .75, .9, .95, .99]).map(function (m) { return m ? parseFloat(m.toFixed(1)) : 0 }) }; k.prototype.reset = function () { this.config.KWa && this.config.zda && (this.Jk = new c.Y$b(this.config.zda.c, this.config.zda.maxc)) }; return k }(); b.Tx = r
                }, function (r) {
                    !1;
                    (function () { function b() { this.mC = this.Qc = 0; this.Eb = this.Df = void 0 } b.prototype.start = function (a) { this.Df ? a < this.Df ? (this.mC += this.Df - a, this.Df = a) : a > this.Eb && (this.Eb = this.Df = a) : this.Eb = this.Df = a }; b.prototype.stop = function (a) { this.Eb && a > this.Eb && (this.mC += a - this.Eb, this.Eb = a) }; b.prototype.add = function (a, c, f) { this.start(c); this.stop(f); this.Qc += a }; b.prototype.get = function () { return { Ha: this.mC ? Math.floor(8 * this.Qc / this.mC) : null, XC: this.mC ? this.mC : 0 } }; r.exports = b; !1 })()
                }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); var c = a(2), f = a(36); r = function (k) { function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.parse = function (g) { g = k.prototype.parse.call(this, g); this.u.offset += 8; this.ika = this.u.ad(); this.lwa = this.u.ad(); this.u.offset += 4; this.samplerate = this.u.ad(); this.u.offset += 2; f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.ika + ", samplesize: " + this.lwa + ", samplerate: " + this.samplerate); return g }; m.Ra = !1; return m }(a(230).default); b.default =
                            r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Bv = void 0; a(5); r = function () {
                        function c(f, k) { c.Ab(this, f, k) } c.Ab = function (f, k, m) { f.qd = k; f.Qc = m.ea; f.Re = m.offset }; Object.defineProperties(c.prototype, { stream: { get: function () { return this.qd }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { ea: { get: function () { return this.Qc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { offset: { get: function () { return this.Re }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(c.prototype, { P: { get: function () { return this.qd.P }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { K: { get: function () { return this.qd.K }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { mediaType: { get: function () { return this.qd.mediaType }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { Ta: { get: function () { return this.qd.Ta }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, {
                            bitrate: {
                                get: function () { return this.qd.bitrate },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(c.prototype, { profile: { get: function () { return this.qd.profile }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { W: { get: function () { return this.qd.W }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { oO: { get: function () { return this.qd.oO }, enumerable: !1, configurable: !0 } }); Object.defineProperties(c.prototype, { va: { get: function () { return this.qd.va }, enumerable: !1, configurable: !0 } }); c.prototype.toJSON = function () {
                            return {
                                movieId: this.K,
                                streamId: this.Ta, offset: this.offset, bytes: this.ea
                            }
                        }; return c
                    }(); b.Bv = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Afa = b.en = void 0; var c = a(147), f; (function (k) { k[k.pending = 0] = "pending"; k[k.R$ = 1] = "running"; k[k.complete = 2] = "complete"; k[k.KM = 3] = "destroyed" })(f = b.en || (b.en = {})); r = function () {
                        function k(m, g) { void 0 === g && (g = 0); this.name = m; this.priority = g; this.ed = f.pending } Object.defineProperties(k.prototype, { state: { get: function () { return this.ed }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(k.prototype, { yMb: { get: function () { return this.ed === f.pending || this.ed === f.R$ }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { Ne: { get: function () { return this.nw }, enumerable: !1, configurable: !0 } }); k.prototype.Mtb = function (m) { var g; null === (g = this.nw) || void 0 === g ? void 0 : g.Iva(this); this.nw = m }; k.prototype.Bx = function () { this.ed = f.R$; this.Vf(); this.m9() === c.Pk.hza && (this.ed = f.complete) }; k.prototype.Jb = function () {
                            var m; this.ed = f.KM; null === (m = this.nw) || void 0 ===
                                m ? void 0 : m.Iva(this)
                        }; return k
                    }(); b.Afa = r
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.F1 = void 0; r = function () {
                        function a(c) { this.parent = c } Object.defineProperties(a.prototype, { r2a: { get: function () { var c, f; return null !== (c = this.RKb) && void 0 !== c ? c : null === (f = this.parent) || void 0 === f ? void 0 : f.r2a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(a.prototype, {
                            PW: {
                                get: function () { var c, f; return null !== (c = this.aSb) && void 0 !== c ? c : null === (f = this.parent) || void 0 === f ? void 0 : f.PW },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(a.prototype, { Iu: { get: function () { var c, f; return null !== (c = this.Ng) && void 0 !== c ? c : null === (f = this.parent) || void 0 === f ? void 0 : f.Iu }, enumerable: !1, configurable: !0 } }); Object.defineProperties(a.prototype, { w2a: { get: function () { var c, f, k, m; return null !== (c = this.Le) && void 0 !== c ? c : (null === (f = this.track) || void 0 === f ? 0 : f.equals(null === (k = this.parent) || void 0 === k ? void 0 : k.track)) ? null === (m = this.parent) || void 0 === m ? void 0 : m.Le : void 0 }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(a.prototype, { z2a: { get: function () { var c, f; return null !== (c = this.d1b) && void 0 !== c ? c : null === (f = this.parent) || void 0 === f ? void 0 : f.z2a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(a.prototype, { mra: { get: function () { var c, f; return null !== (c = this.e1b) && void 0 !== c ? c : null === (f = this.parent) || void 0 === f ? void 0 : f.mra }, enumerable: !1, configurable: !0 } }); Object.defineProperties(a.prototype, { track: { get: function () { return this.IZb }, enumerable: !1, configurable: !0 } }); a.prototype.Jb = function () {
                            this.parent =
                                void 0
                        }; a.prototype.o$a = function (c) { this.RKb = c }; a.prototype.v_b = function (c) { this.aSb = c }; a.prototype.C$a = function (c) { this.Ng = c }; a.prototype.mZ = function (c) { this.Le = c }; a.prototype.G_b = function (c) { this.d1b = c }; a.prototype.E$a = function (c) { this.e1b = c }; a.prototype.oZ = function (c) { this.IZb = c }; return a
                    }(); b.F1 = r
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); r = a(847); var c = a(395); a = a(849); b.default = { STARTING: a.P9a, BUFFERING: r.$$, REBUFFERING: r.$$, PLAYING: c.Cx, PAUSED: c.Cx } }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.wN = b.WJ = void 0; var c = a(859), f = a(860), k = a(250); Object.defineProperties(b, { WJ: { enumerable: !0, get: function () { return k.WJ } } }); b.wN = function (m, g) { switch (m.bsa) { case "manifold": return new c.RGa(m, g); default: return new f.KLa(m, g) } }
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.Kv = void 0; r = b.Kv || (b.Kv = {}); r[r.Aya = 0] = "up"; r[r.WU = 1] = "down" }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Sv = void 0; var c = a(2), f = a(21), k = a(9), m = a(57); r = function () {
                        function g(d,
                            h) { this.Dh = d; this.options = c.__assign({ fxb: !0 }, h) } Object.defineProperties(g.prototype, { jx: { get: function () { return "trace-" + this.Dh.source }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { si: { get: function () { return this.jx }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { enabled: { get: function () { return f.ia }, enumerable: !1, configurable: !0 } }); g.prototype.Kn = function (d) {
                                if (d.Zi === m.me.jq || d.Zi === m.me.io) {
                                    var h = k.sVa(this.Dh.JNb), l = this.Dh.YKb; d.Zi === m.me.jq && this.options.fxb &&
                                        this.Dh.clear(); d = h; Object.keys(l).length && (d = c.__spread(h, [l])); return d
                                }
                            }; g.prototype.Jb = function () { this.Dh.Jb() }; return g
                    }(); b.Sv = r
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r.exports = function (a) {
                        return {
                            minInitVideoBitrate: a.hx, minHCInitVideoBitrate: a.Gsa, maxInitVideoBitrate: a.wA, minInitAudioBitrate: a.tX, maxInitAudioBitrate: a.fX, minHCInitAudioBitrate: a.sX, minAcceptableVideoBitrate: a.M8, minRequiredBuffer: a.fI, minPrebufSize: a.yj, minCheckBufferingCompleteInterval: a.Q8, rebufferingFactor: a.rva,
                            useMaxPrebufSize: a.Tya, maxPrebufSize: a.ND, maxRebufSize: a.lsa, maxBufferingTime: a.rs, minAudioMediaRequestSizeBytes: a.N8, minVideoMediaRequestSizeBytes: a.X8, initialBitrateSelectionCurve: a.p7, initSelectionLowerBound: a.T0a, initSelectionUpperBound: a.U0a, throughputPercentForAudio: a.Kaa, bandwidthMargin: a.uja, bandwidthMarginContinuous: a.vja, bandwidthMarginCurve: a.wja, conservBandwidthMargin: a.Vka, switchConfigBasedOnInSessionTput: a.Txa, conservBandwidthMarginTputThreshold: a.tU, conservBandwidthMarginCurve: a.Wka,
                            switchAlgoBasedOnHistIQR: a.Zab, switchConfigBasedOnThroughputHistory: a.yE, maxPlayerStateToSwitchConfig: a.ksa, lowEndMarkingCriteria: a.Nra, IQRThreshold: a.sda, histIQRCalcToUse: a.Npa, maxTotalBufferLevelPerSession: a.Lu, highWatermarkLevel: a.j0a, toStableThreshold: a.Gbb, toUnstableThreshold: a.SZ, skipBitrateInUpswitch: a.nxa, watermarkLevelForSkipStart: a.kza, highStreamRetentionWindow: a.Hpa, lowStreamTransitionWindow: a.Ora, highStreamRetentionWindowUp: a.Jpa, lowStreamTransitionWindowUp: a.Qra, highStreamRetentionWindowDown: a.Ipa,
                            lowStreamTransitionWindowDown: a.Pra, highStreamInfeasibleBitrateFactor: a.Gpa, lowestBufForUpswitch: a.rA, lockPeriodAfterDownswitch: a.i8, lowWatermarkLevel: a.Sra, lowestWaterMarkLevel: a.sA, lowestWaterMarkLevelBufferRelaxed: a.Tra, mediaRate: a.usa, maxTrailingBufferLen: a.x8, audioBufferTargetAvailableSize: a.LT, videoBufferTargetAvailableSize: a.k_, maxVideoTrailingBufferSize: a.a4a, maxAudioTrailingBufferSize: a.I3a, fastUpswitchFactor: a.H5, fastDownswitchFactor: a.Sma, maxMediaBufferAllowed: a.xA, simulatePartialBlocks: a.lxa,
                            simulateBufferFull: a.Z$a, considerConnectTime: a.Xka, connectTimeMultiplier: a.Uka, lowGradeModeEnterThreshold: a.d3a, lowGradeModeExitThreshold: a.e3a, maxDomainFailureWaitDuration: a.K3a, maxAttemptsOnFailure: a.H3a, exhaustAllLocationsForFailure: a.lXa, maxNetworkErrorsDuringBuffering: a.R3a, maxBufferingTimeAllowedWithNetworkError: a.q8, fastDomainSelectionBwThreshold: a.sXa, throughputProbingEnterThreshold: a.lbb, throughputProbingExitThreshold: a.mbb, locationProbingTimeout: a.S2a, finalLocationSelectionBwThreshold: a.zXa,
                            throughputHighConfidenceLevel: a.jbb, throughputLowConfidenceLevel: a.kbb, locationStatisticsUpdateInterval: a.Ara, enablePerfBasedLocationSwitch: a.JWa, probeServerWhenError: a.cv, probeRequestTimeoutMilliseconds: a.Mua, allowSwitchback: a.Uy, probeDetailDenominator: a.EI, maxDelayToReportFailure: a.r8, countGapInBuffer: a.zUa, bufferThresholdForAbort: a.FSa, allowCallToStreamSelector: a.mRa, pipelineScheduleTimeoutMs: a.hua, maxPartialBuffersAtBufferingStart: a.yA, maxActiveRequestsSABCell100: a.o8, maxStreamingSkew: a.nsa, maxPendingBufferPercentage: a.isa,
                            headerRequestSize: a.Y6, estimateHeaderSize: a.Hma, minBufferLenForHeaderDownloading: a.qX, reserveForSkipbackBufferMs: a.SY, numExtraFragmentsAllowed: a.kta, pipelineEnabled: a.Gq, maxParallelConnections: a.eO, socketReceiveBufferSize: a.hab, audioSocketReceiveBufferSize: a.K3, videoSocketReceiveBufferSize: a.kQ, headersSocketReceiveBufferSize: a.Epa, updatePtsIntervalMs: a.fba, bufferTraceDenominator: a.Hja, bufferLevelNotifyIntervalMs: a.jM, aseReportDenominator: a.aM, aseReportIntervalMs: a.E3, enableAbortTesting: a.qDb, abortRequestFrequency: a.Trb,
                            streamingStatusIntervalMs: a.Kxa, prebufferTimeLimit: a.OA, minBufferLevelForTrackSwitch: a.P8, penaltyFactorForLongConnectTime: a.$ta, longConnectTimeThreshold: a.Lra, additionalBufferingLongConnectTime: a.Gia, additionalBufferingPerFailure: a.Hia, rebufferCheckDuration: a.CY, enableLookaheadHints: a.GWa, lookaheadFragments: a.a3a, enableOCSideChannel: a.Ez, OCSCBufferQuantizationConfig: a.d1, updateDrmRequestOnNetworkFailure: a.tcb, deferAseScheduling: a.zVa, maxDiffAudioVideoEndPtsMs: a.J3a, defaultHeaderCacheSize: a.T4, defaultHeaderCacheDataPrefetchMs: a.S4,
                            neverWipeHeaderCache: a.mI, networkFailureResetWaitMs: a.Usa, networkFailureAbandonMs: a.Tsa, maxThrottledNetworkFailures: a.w8, throttledNetworkFailureThresholdMs: a.Jaa, lowThroughputThreshold: a.Rra, excludeSessionWithoutHistoryFromLowThroughputThreshold: a.Mma, mp4ParsingInNative: a.M4a, sourceBufferInOrderAppend: a.jab, requireAudioStreamToEncompassVideo: a.jE, allowAudioToStreamPastVideo: a.lRa, enableManagerDebugTraces: a.ti, managerDebugMessageInterval: a.p3a, managerDebugMessageCount: a.o3a, bufferThresholdToSwitchToSingleConnMs: a.Gja,
                            bufferThresholdToSwitchToParallelConnMs: a.Fja, netIntrStoreWindow: a.JRb, minNetIntrDuration: a.dRb, fastHistoricBandwidthExpirationTime: a.HEb, bandwidthExpirationTime: a.vub, failureExpirationTime: a.EEb, historyTimeOfDayGranularity: a.XKb, expandDownloadTime: a.qEb, minimumMeasurementTime: a.pRb, minimumMeasurementBytes: a.oRb, throughputMeasurementTimeout: a.s2b, initThroughputMeasureDataSize: a.ZLb, throughputMeasureWindow: a.r2b, throughputIQRMeasureWindow: a.q2b, IQRBucketizerWindow: a.Hib, connectTimeHalflife: a.Oxb, responseTimeHalflife: a.QYb,
                            historicBandwidthUpdateInterval: a.WKb, throughputWarmupTime: a.w2b, minimumBufferToStopProbing: a.nRb, throughputPredictor: a.t2b, ase_stream_selector: a.Btb, enableFilters: a.vDb, filterDefinitionOverrides: a.ZEb, defaultFilter: a.DBb, secondaryFilter: a.wZb, defaultFilterDefinitions: a.EBb, initBitrateSelectorAlgorithm: a.hqa, bufferingSelectorAlgorithm: a.Mja, ase_ls_failure_simulation: a.mVa, ase_dump_fragments: a.Bla, ase_location_history: a.Dla, ase_throughput: a.Ela, ase_simulate_verbose: a.oVa, secondThroughputEstimator: a.twa,
                            secondThroughputMeasureWindowInMs: a.L9a, marginPredictor: a.bsa, networkMeasurementGranularity: a.Vsa, HistoricalTDigestConfig: a.tEa, maxIQRSamples: a.N3a, minIQRSamples: a.B4a, periodicHistoryPersistMs: a.V9, saveVideoBitrateMs: a.T$, needMinimumNetworkConfidence: a.yX, biasTowardHistoricalThroughput: a.zja, maxFastPlayBufferInMs: a.s8, maxFastPlayBitThreshold: a.gsa, minAudioMediaRequestDuration: a.gx, minVideoMediaRequestDuration: a.EA, minAudioMediaRequestDurationCache: a.gx, minVideoMediaRequestDurationCache: a.EA, addHeaderDataToNetworkMonitor: a.xia,
                            hindsightDenominator: a.Mpa, hindsightDebugDenominator: a.Lpa, hindsightParam: a.c7, minimumTimeBeforeBranchDecision: a.RD, minimumTimeBeforeDelayedSeekToQueuedSegment: a.G4a, enableSessionHistoryReport: a.hV, earlyStageEstimatePeriod: a.pma, lateStageEstimatePeriod: a.B2a, maxNumSessionHistoryStored: a.u8, minSessionHistoryDuration: a.W8, appendMediaRequestOnComplete: a.DRa, waitForDrmToAppendMedia: a.tba, forceAppendHeadersAfterDrm: a.S5, startMonitorOnLoadStart: a.wxa, reportFailedRequestsToNetworkMonitor: a.Qva, reappendRequestsOnSkip: a.dXb,
                            maxActiveRequestsPerSession: a.bx, limitAudioDiscountByMaxAudioBitrate: a.wra, appendFirstHeaderOnComplete: a.Ria, maxAudioFragmentOverlapMs: 0, editVideoFragments: a.gDb, declareBufferingCompleteAtSegmentEnd: a.Fla, applyProfileTimestampOffset: a.wG, applyProfileStreamingOffset: a.im, requireDownloadDataAtBuffering: a.H$, requireSetupConnectionDuringBuffering: a.I$, recordFirstFragmentOnSubBranchCreate: a.uva, earlyAppendSingleChildBranch: a.j5, selectStartingVMAFMethod: a.uP, activateSelectStartingVMAF: a.BT, minStartingVideoVMAF: a.Qu,
                            minAcceptableVMAF: a.pX, minAllowedVmaf: a.eI, alwaysNotifyEOSForPlaygraph: a.ktb, enableNewAse: a.WM, useNewApi: a.h_, enableCombinedPlaygraphs: a.l5, enableDiscontiguousBuffering: a.m5, forceImmediateTransitionTypeForTitles: a.una, forceImmediateTransitionExitZone: a.tna, useBufferSizeLimiter: a.Oya, useLegacyFragmentRounding: a.Sya, waitForDrmToAppendHeadersWhenClearAndEncryptedContent: a.gza, enableHudsonFieldTest: a.zDb, hudsonTitles: a.lLb, maxPartialBuffersAtHudson: a.eQb, numberOfChunksPerSegment: a.ISb, targetContentLatency: a.c2b,
                            targetLongContentLatency: a.d2b, minimumTimeDelay: a.qRb, enableWsslEstimate: a.wma, maxAllowedOutstandingRequests: a.p8, alwaysRunUnderflowTimer: a.WL, minStreamableConcurrencyWindow: a.Hsa, streamableConcurrencyFactor: a.Hxa, bufferingConcurrencyWindow: a.eU, singleStreamablePerBranch: a.y0b, enableResolutionVMAFStreamFilter: a.p5, resolutionVMAFCappingRuleList: a.M$, percentCapTitlesForResolutionVMAFStreamFilter: a.bua, useExitZones: a.Pya, perFragmentVMAFConfig: a.JO, enableInitialTputLogging: a.n5, maxResponsesInitialTput: a.msa
                        }
                    }
                },
                function (r) { r.exports = function (b) { return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"] } }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(37); r = function (k) {
                        function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.parse = function (g) {
                            g = k.prototype.parse.call(this, g); this.u.offset += 8; this.ika = this.u.ad(); this.lwa = this.u.ad(); this.u.offset += 4; this.samplerate = this.u.ad(); this.u.offset += 2; f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " +
                                this.ika + ", samplesize: " + this.lwa + ", samplerate: " + this.samplerate); return g
                        }; m.Ra = !1; return m
                    }(a(271).default); b.default = r
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.kJa = "PboPlaydataServicesSymbol"; b.m1 = "PboPlaydataServicesProviderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.CR = "LogblobBuilderFactorySymbol"; b.Jda = "LogblobBuilderCommonSymbol" }, function (r, b, a) {
                    function c(l, n, q, p, u) {
                        var t = k.lo.call(this, l, n, q, u) || this; t.cast = p; t.type = m.gn.P_; l = c.dmb;
                        t.NJ[m.xd.HF] = g.Xd.bR + "; " + l; t.NJ[m.xd.jt] = g.Xd.jt + "; " + l; l = g.Xd.Mfb.find(function (w) { return t.Tt(h(c.EE, w)) }); t.NJ[m.xd.jr] = l; return t
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.dBa = b.PQ = b.wca = void 0; var f = a(51), k = a(184), m = a(30); r = a(113); var g = a(131), d = a(185), h = (new r.UB).format; qa(c, k.lo); c.gla = function (l, n) { return (n = c.p9a(n)) ? { isTypeSupported: n } : l }; c.p9a = function (l) {
                        if ("undefined" !== typeof l) {
                            if (l.framework && l.framework.CastReceiverContext && l.framework.CastReceiverContext.getInstance) {
                                var n =
                                    l.framework.CastReceiverContext.getInstance(); if (n && n.canDisplayType) return n.canDisplayType.bind(n)
                            } if (l.framework && l.framework.platform && l.framework.platform.canDisplayType) return l.framework.platform.canDisplayType; if (l.receiver && l.receiver.platform && l.receiver.platform.canDisplayType) return l.receiver.platform.canDisplayType; if (l.__platform__ && l.__platform__.canDisplayType) return l.__platform__.canDisplayType
                        }
                    }; c.prototype.Gx = function (l) {
                        var n = this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;
                        if (this.config().Qcb) { var q = {}; if (n) return q[m.Pj.bF] = "1.4", q[m.Pj.Iv] = "2.2", n().then(function (p) { return p === q[l] }); n = this.v3a(l); n = h(c.EE, g.Xd.bR) + " hdcp=" + n; n = this.Tt.bind(this, n); return Promise.resolve(n()) } return Promise.resolve(!1)
                    }; c.prototype.Yab = function (l) { return this.Tt(h(l !== m.xd.jt ? c.EE : c.KKb, this.NJ[l])) }; c.prototype.pN = function (l) { return this.NJ[l] }; c.prototype.vN = function () {
                        var l = this; return this.config().Qcb ? this.Gx(m.Pj.Iv).then(function (n) {
                            return n ? Promise.resolve(m.Pj.Iv) : l.Gx(m.Pj.bF).then(function (q) {
                                return q ?
                                    Promise.resolve(m.Pj.bF) : Promise.resolve(void 0)
                            })
                        }).then(function (n) { return l.yU(n) }) : Promise.resolve(void 0)
                    }; c.prototype.Ho = function () {
                        var l = k.lo.prototype.Ho.call(this), n = c.c0a; l[f.V.eda] = ["avc1.4D4028", "width=1920; height=1080; "]; l[f.V.mK] = ["hev1.2.6.L150.B0", "width=3840; height=2160; "]; l[f.V.nK] = ["hev1.2.6.L153.B0", "width=3840; height=2160; "]; l[f.V.oR] = ["hev1.2.6.L150.B0", "width=3840; height=2160; "]; l[f.V.pR] = ["hev1.2.6.L153.B0", "width=3840; height=2160; "]; l[f.V.dR] = ["hev1.2.6.L90.B0",
                            n]; l[f.V.fR] = ["hev1.2.6.L93.B0", n]; l[f.V.lK] = ["hev1.2.6.L120.B0", n]; l[f.V.iR] = ["hev1.2.6.L123.B0", n]; l[f.V.kR] = ["hev1.2.6.L150.B0", "width=3840; height=2160; " + n]; l[f.V.mR] = ["hev1.2.6.L153.B0", "width=3840; height=2160; " + n]; l[f.V.eR] = ["hev1.2.6.L90.B0", n]; l[f.V.gR] = ["hev1.2.6.L93.B0", n]; l[f.V.hR] = ["hev1.2.6.L120.B0", n]; l[f.V.jR] = ["hev1.2.6.L123.B0", n]; l[f.V.lR] = ["hev1.2.6.L150.B0", "width=3840; height=2160; " + n]; l[f.V.nR] = ["hev1.2.6.L153.B0", "width=3840; height=2160; " + n]; return l
                    }; c.prototype.TYa =
                        function () { return [d.Ze.y_, d.Ze.cEa, d.Ze.w0, d.Ze.aR] }; c.prototype.mqa = function () { k.lo.prototype.mqa.call(this); !c.p9a(this.cast) && this.Zn.push(d.Ze.jt) }; b.wca = c; c.c0a = "eotf=smpte2084"; c.KKb = "video/mp4;codecs={0}; " + c.c0a; c.dmb = "width=3840; height=2160; "; b.PQ = "CastSDKSymbol"; b.dBa = "CastEmeSymbol"
                }, function (r, b, a) {
                    function c(n, q, p, u) { var t = m.OQ.call(this, n, q, f.Rj.fNa, u) || this; t.config = n; t.Gm = q; t.is = p; t.d4a = u; t.type = f.gn.GB; t.NJ = g.Xd.YUa(); return t } Object.defineProperty(b, "__esModule", { value: !0 }); b.lo =
                        void 0; var f = a(30), k = a(51), m = a(455); r = a(113); var g = a(131), d = a(278), h = a(106), l = (new r.UB).format; qa(c, m.OQ); c.prototype.Gx = function () { return Promise.resolve(!1) }; c.prototype.Pz = function () { return Promise.resolve("") }; c.prototype.Eaa = function () { return this.config().DWa ? this.d4a.u1a() ? this.d4a.bD(k.V.lK).then(function (n) { return { result: n, reason: "media-capabilities" } }) : Promise.resolve({ result: !1, reason: "non-hdr-display" }) : Promise.resolve({ result: !1, reason: "disabled" }) }; c.prototype.pN = function (n) { return this.NJ[n] };
                    c.prototype.Yab = function (n) { return this.Tt(l(c.EE, this.NJ[n])) }; c.prototype.uia = function () { }; c.prototype.v3a = function (n) { switch (n) { case f.Pj.bF: return "1.4"; case f.Pj.Iv: return "2.2" } }; c.prototype.Ho = function () { return d.l0.Ho() }; c.prototype.b_a = function () { return (0, h.icb)(function (n, q) { return n.name === q.name }, this.config().gRa, this.config().n_) }; c.prototype.vN = function () { return Promise.resolve(void 0) }; c.prototype.D6 = function () { return Promise.resolve(void 0) }; c.prototype.yU = function (n) {
                        var q = []; this.is.Vi(n) &&
                            q.push(this.v3a(n)); return [{ type: "DigitalVideoOutputDescriptor", outputType: "unknown", supportedHdcpVersions: q, isHdcpEngaged: !!q.length }]
                    }; b.lo = c; c.EE = "video/mp4;codecs={0};"
                }, function (r, b) {
                    function a() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.Ze = void 0; b.Ze = a; a.UDa = /^hevc-main/; a.SDa = /^hevc-hdr-|hevc-dv/; a.jt = /^hevc-hdr-/; a.jr = /^hevc-dv/; a.$Q = /-h264mpl/; a.w0 = /-h264mpl30/; a.aR = /-h264mpl31/; a.AB = /-h264hpl/; a.VB = /^vp9-/; a.tl = /^av1-/; a.HF = /-L5[0-1]-/; a.y_ = /^heaac-2-/; a.cEa = /^heaac-2hq-dash/;
                    a.NK = /^xheaac-dash/; a.Vfb = /ddplus-2/; a.Wfb = /ddplus-5/; a.Xfb = /ddplus-atmos/
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Kjb = "NativeLocalStorageSymbol"; b.GHa = "NativeLocalStorageFactorySymbol"; b.DEa = "IDBFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.CEa = "IDBDatabaseFactorySymbol"; b.kFa = "IndexedDBFactorySymbol"; b.uda = "IndexedDBStorageFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.gS = "TransportConfigSymbol" }, function (r,
                    b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.R0 = "ManifestFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Hca = void 0; (b.Hca || (b.Hca = {})).Ukb = "PboDebugEvent"; b.cCa = { rjb: "Manifest", Event: "Event", F8b: "Logblob" } }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.AR = "LicenseProviderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.jK = void 0; b.jK = function () { return "" } }, function (r, b) {
                        Object.defineProperty(b, "__esModule", { value: !0 });
                        b.Mca = b.uCa = void 0; b.uCa = function () { this.$b = 0; this.Pb = 1; this.Dhb = 2; this.Vf = function () { } }; b.Mca = "DownloadTrackConstructorFactorySymbol"
                    }, function (r, b) {
                        function a() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.xc = void 0; b.xc = a; a.Oe = { ZHa: "mr1", YHa: "mr2", $Ha: "mr3", QR: "mr4", Sjb: "mr5", vF: "mr6" }; a.Xc = { UNSENT: 0, OPENED: 1, ny: 2, ky: 3, DONE: 5, iK: 6, xQ: 7, name: "UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ") }; a.q0 = {
                            NO_ERROR: -1, zgb: 0, VBa: 1, Lgb: 2, Dgb: 3, Bfb: 4, QAa: 5, OAa: 6, Cfb: 7, Dfb: 8, Efb: 9, yfb: 10,
                            Afb: 11, PAa: 12, zfb: 13, xfb: 14, Hhb: 15, hEa: 16, gEa: 17, hda: 18, jda: 19, ida: 20, kEa: 21, Jhb: 22, J0: 23, iEa: 24, Ihb: 25, Ggb: 26, Agb: 27, Glb: 28, qgb: 29, rgb: 30, sgb: 31, tgb: 32, ugb: 33, vgb: 34, wgb: 35, xgb: 36, ygb: 37, Bgb: 38, Cgb: 39, Egb: 40, Fgb: 41, Hgb: 42, Igb: 43, Jgb: 44, Kgb: 45, Mgb: 46, Ngb: 47, Flb: 48, TIMEOUT: 49, dEa: 50, eEa: 51, Ghb: 52, name: "DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")
                        };
                        a.Sc = { UY: { Xdb: !0, bS: !1, Ejb: !0 } }
                    }, 
                    function(r, b) {
                        Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        b.uca = b.RE = void 0;
                        r = b.RE || (b.RE = {});
                        r[r.bkb = 0] = "PAUSE";
                        r[r.rlb = 1] = "RESUME";
                        r[r.H6b = 2] = "CAPTIONS_ON";
                        r[r.G6b = 3] = "CAPTIONS_OFF";
                        r[r.I6b = 4] = "CAPTION_LANGUAGE_CHANGED";
                        r[r.V5b = 5] = "AUDIO_LANGUAGE_CHANGED";
                        r[r.i9b = 6] = "NEXT_EP";
                        r[r.Z9b = 7] = "PREV_EP";
                        r[r.ly = 8] = "SEEK";
                        r[r.mLa = 9] = "STOP";
                        b.uca = "CastInteractionTrackerSymbol"
                    },
                    function(r, b, a) {
                        Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        b.Wi = void 0;
                        var c = a(12);
                        var f = a(14);
                        r = a(3);
                        var k = a(20),
                            m = a(8),
                            g = a(485),
                            d = a(11),
                            h = a(39);
                        var l = a(29);
                        console.log('k:', JSON.stringify(f));
                        console.log('f:', JSON.stringify(f));
                        console.log('l:', l);
                        var n = m.ta.get(h.ai);
                        console.log('r.N.rda', r.N.rda);
                        n.register(r.N.rda, function(q) {
                            console.log('registering device');
                            var p = m.ta.get(l.Tj);
                            console.log('f.config', f.config);
                            console.log(d.sF);
                            d.sF.getDeviceId = () => "U4D5KNUXXVVJYLKBU71FWC9O5AP318";
                            (0, k.gb)(f.config);
                            console.log('alt:', d.sF && d.sF.getDeviceId, d.Y0, p.Z5);
                            (0, k.gb)(d.sF && d.sF.getDeviceId || d.Y0 || p.Z5);
                            console.log('g.mCa', g.mCa);
                            var u = m.ta.get(g.mCa),
                                t = (0, m.vh)("Device");
                            console.log('t:', t);
                            n.Ld("devs");
                            var w = m.ta.get(l.hy);
                            // var w = m.ta.get("PlatformSymbol");

                            console.log('w', w);
                            var cfg = {
                                deviceId: f.config.deviceId,
                                Z5: p.Z5,
                                KVa: "deviceid",
                                wm: f.config.wm,
                                hu: w.Sca,
                                QU: p.QU,
                                userAgent: d.PB,
                                Dra: f.config.Dra,
                                aoa: f.config.aoa,
                                cCb: w.RBa || !1,
                                iub: f.config.fSa.e,
                                Ydc: f.config.gu ? "mslstoretest" : "mslstore",
                                fQ: f.config.fQ
                            };
                            console.log('register.create cfg:', cfg);
                            u.create(cfg).then(function(v) {
                                b.Wi = v;
                                ub._cad_global.device = b.Wi;
                                t.info("Esn source: " + b.Wi.x5);
                                n.Ld("devdone");
                                q(c.Yd)
                            }).catch(function(v) {
                                console.log('failed register.create:', v);
                                v.ga = void 0;
                                q(v)
                            })
                        })
                    }
                    , function(r) {
                        var b = function() {
                            return this
                        }();
                        try {
                            b = b || (new Function("return this"))()
                        } catch (a) {
                            "object" === typeof ub && (b = ub)
                        }
                        r.exports = b
                    },
                    function(r, b) {
                        function a() {}
                        Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        b.ZE = void 0;
                        var c = /^\S+$/;
                        a.prototype.SC = function(f) {
                            return void 0 !== f
                        };
                        a.prototype.Vi = function(f) {
                            return null !== f && void 0 !== f
                        };
                        a.prototype.tG = function(f) {
                            return a.rRa(f)
                        };
                        a.prototype.kia = function(f) {
                            return !(!f || !a.rRa(f))
                        };
                        a.prototype.Vy = function(f) {
                            return Array.isArray(f)
                        };
                        a.prototype.sRa = function(f) {
                            return !(!f || f.constructor != Uint8Array)
                        };
                        a.prototype.li = function(f, k, m) {
                            return a.BQa(f, k, m)
                        };
                        a.prototype.jia = function(f) {
                            return a.jia(f)
                        };
                        a.prototype.Pia = function(f, k, m) {
                            return a.A3(f, k, m) && 0 === f % 1
                        };
                        a.prototype.FT = function(f, k, m) {
                            return a.A3(f, k || 0, m)
                        };
                        a.prototype.xT = function(f) {
                            return a.A3(f, 1)
                        };
                        a.prototype.Rrb = function(f) {
                            return a.A3(f, 0, 255)
                        };
                        a.prototype.Srb = function(f) {
                            return f ===
                                +f && (0 === f || f !== (f | 0)) && !0
                        };
                        a.prototype.tRa = function(f) {
                            return !(!f || !c.test(f))
                        };
                        a.prototype.tn = function(f) {
                            return a.CQa(f)
                        };
                        a.prototype.un = function(f) {
                            return !(!a.CQa(f) || !f)
                        };
                        a.prototype.wT = function(f) {
                            return !0 === f || !1 === f
                        };
                        a.prototype.r3 = function(f) {
                            return "function" == typeof f
                        };
                        a.CQa = function(f) {
                            return "string" == typeof f
                        };
                        a.BQa = function(f, k, m) {
                            return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === k || f >= k) && (void 0 === m || f <= m)
                        };
                        a.jia = function(f) {
                            return "number" == typeof f && isNaN(f)
                        };
                        a.A3 = function(f,
                            k, m) {
                            return a.BQa(f, k, m) && 0 === f % 1
                        };
                        a.rRa = function(f) {
                            return "object" == typeof f
                        };
                        b.ZE = new a
                    },
                    function(r, b, a) {
                        Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        b.mc = void 0;
                        r = a(0);
                        var c = a(80),
                            f = a(598),
                            k = a(204),
                            m = a(607),
                            g = a(615),
                            d = a(626),
                            h = a(630),
                            l = a(1275);
                        a = a(1281);
                        b.mc = new r.S_({
                            hJ: !0
                        });
                        (0, h.L2a)(b.mc);
                        b.mc.load(f.platform);
                        b.mc.load(a.JC);
                        b.mc.load(m.config);
                        k.TM.load(g.tWa);
                        b.mc.load(d.eme);
                        b.mc.load(l.zRa);
                        b.mc.load(l.profile);
                        b.mc.load(l.registration);
                        b.mc.bind(c.pFa).Lj(b.mc)
                    },
                    function(r, b, a) {
                        Object.defineProperty(b,
                            "__esModule", {
                                value: !0
                            });
                        var c = a(201);
                        r = function() {
                            function f(k) {
                                this.Fc = k
                            }
                            f.prototype.kx = function(k) {
                                this.Fc.kx = k;
                                return new c.nca(this.Fc)
                            };
                            return f
                        }();
                        b.K_ = r
                    },
                    function(r, b, a) {
                        Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        var c = a(200);
                        a(317);
                        r = function() {
                            function f(k) {
                                this.Fc = k
                            }
                            f.prototype.when = function(k) {
                                this.Fc.KG = k;
                                return new c.K_(this.Fc)
                            };
                            f.prototype.t_ = function() {
                                this.Fc.KG = function(k) {
                                    return null !== k.target && !k.target.Eqa() && !k.target.Rqa()
                                };
                                return new c.K_(this.Fc)
                            };
                            return f
                        }();
                        b.nca =
                            r
                    }, function (r, b) { function a() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.VJ = void 0; b.VJ = a; a.Tkb = "PSK"; a.$ib = "MGK"; a.ajb = "MGK_WITH_FALLBACK"; a.vFa = "JWK_RSA" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Hea = "PlatformEmeSymbol" }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.TM = b.eme = void 0; r = a(0); var c = a(122), f = a(323), k = a(205), m = a(206), g = a(602), d = a(603), h = a(72), l = a(138), n = a(604), q = a(163), p = a(605); b.eme = new r.dd(function (u) {
                            u(f.yCa).to(k.xCa).aa(); u(m.tca).to(g.YAa).aa();
                            u(c.n0).RZ(d.R7a); u(h.mt).BE(function (t) { b.TM.parent = t.kb; return b.TM.get(h.mt) }); u(l.IR).yf(function () { return function () { return new n.fHa } }); u(q.O_).to(p.ZAa).aa
                        }); b.TM = new r.S_({ hJ: !0 })
                    }, function (r, b, a) {
                        function c() { } function f(m) { m ? (this.active = !1, this.Dna(m)) : this.active = !0 } Object.defineProperty(b, "__esModule", { value: !0 }); b.xCa = b.m0 = void 0; r = a(1); a = a(0); f.prototype.Dna = function (m) {
                            this.Ve = m.keySessionData ? m.keySessionData.map(function (g) { return { id: g.id, VH: g.licenseContextId, WW: g.licenseId } }) :
                                []; this.da = m.xid; this.K = m.movieId
                        }; f.prototype.Hx = function () { return JSON.parse(JSON.stringify({ keySessionData: this.Ve ? this.Ve.map(function (m) { return { id: m.id, licenseContextId: m.VH, licenseId: m.WW } }) : [], xid: this.da, movieId: this.K })) }; b.m0 = f; c.prototype.create = function () { return new f }; c.prototype.load = function (m) { return new f(m) }; var k = c; k = r.__decorate([(0, a.R)()], k); b.xCa = k
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.tca = "CachedDrmDataSymbol" }, function (r, b) {
                        Object.defineProperty(b,
                            "__esModule", { value: !0 }); b.eF = 'video/mp4; codecs="avc1.640028"'; b.Q0 = 'audio/mp4; codecs="mp4a.40.5"'; b.ahb = "DrmTraitsSymbol"
                    }, function (r, b, a) {
                        function c(t, w, v, x, y, z) { this.xX = t; this.is = w; this.ic = v; this.ee = x; this.iq = y; this.Zh = z; (0, m.Zo)(this, "nav") } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.Qv = void 0; r = a(1); var k = a(0), m = a(59), g = a(3), d = a(32), h = a(25), l = a(96), n = a(31), q = a(41), p = a(70); a = a(112); c.prototype.Oz = function () { if (this.xb) return this.xb.sessionId }; c.prototype.uYb = function (t, w) {
                            return this.xX.requestMediaKeySystemAccess(t,
                                w)
                        }; c.prototype.createMediaKeys = function (t) { return t.createMediaKeys() }; c.prototype.createSession = function (t, w) { this.xb = t.createSession(w) }; c.prototype.E4 = function () { return Promise.reject(new l.jh(g.N.WQ)) }; c.prototype.oNb = function () { return !!this.xb }; c.prototype.setServerCertificate = function (t, w) { return this.is.r3(t.setServerCertificate) ? t.setServerCertificate(w) : Promise.resolve() }; c.prototype.generateRequest = function (t, w) {
                            return this.xb ? this.xb.generateRequest(t, w[0]) : Promise.reject(new l.jh(g.N.WQ,
                                g.M.eK, void 0, "Unable to generate a license request, key session is not valid"))
                        }; c.prototype.update = function (t) { return this.xb ? this.xb.update(t[0]) : Promise.reject(new l.jh(g.N.TCa, g.M.eK, void 0, "Unable to update the EME with a response, key session is not valid")) }; c.prototype.load = function (t) { return this.xb ? this.xb.load(t) : Promise.reject(new l.jh(g.N.jhb, g.M.eK, void 0, "Unable to load a key session, key session is not valid")) }; c.prototype.close = function () {
                            this.Gka = void 0; if (!this.xb) return Promise.reject(new l.jh(g.N.KCa,
                                g.M.eK, void 0, "Unable to close a key session, key session is not valid")); var t = Promise.resolve(); this.Oz() && (t = this.xb.close()); this.xb = void 0; return t
                        }; c.prototype.remove = function () { return this.xb ? this.xb.remove() : Promise.reject(new l.jh(g.N.lhb, g.M.eK, void 0, "Unable to remove a key session, key session is not valid")) }; c.prototype.fP = function () { return Promise.reject(new l.jh(g.N.Qca, void 0, "Unable to renew a key session, not supported")) }; c.prototype.TQa = function (t) {
                            if (!this.xb) throw ReferenceError("Unable to add message handler, key session is not valid");
                            this.xb.addEventListener(f.gK, t)
                        }; c.prototype.NQa = function (t) { if (!this.xb) throw ReferenceError("Unable to add key status handler, key session is not valid"); this.xb.addEventListener(f.r0, t) }; c.prototype.LQa = function (t) { if (!this.xb) throw ReferenceError("Unable to add error handler, key session is not valid"); this.xb.addEventListener(f.VCa, t) }; c.prototype.hsb = function (t) {
                            var w = this; if (!this.xb) throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid"); this.Gka = t; this.xb.closed.then(function (v) {
                                var x;
                                return null === (x = w.Gka) || void 0 === x ? void 0 : x.call(w, v)
                            })
                        }; c.prototype.I8a = function (t) { if (!this.xb) throw ReferenceError("Unable to remove message handler, key session is not valid"); this.xb.removeEventListener(f.gK, t) }; c.prototype.G8a = function (t) { if (!this.xb) throw ReferenceError("Unable to remove key status handler, key session is not valid"); this.xb.removeEventListener(f.r0, t) }; c.prototype.E8a = function (t) {
                            if (!this.xb) throw ReferenceError("Unable to remove error handler, key session is not valid");
                            this.xb.removeEventListener(f.VCa, t)
                        }; var u = f = c; u.gK = "message"; u.r0 = "keystatuseschange"; u.VCa = "error"; u = f = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(d.tF)), r.__param(1, (0, k.l)(h.pf)), r.__param(2, (0, k.l)(q.kj)), r.__param(3, (0, k.l)(n.oh)), r.__param(4, (0, k.l)(p.Fv)), r.__param(5, (0, k.l)(a.JF))], u); b.Qv = u
                    }, function (r, b) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.wqa = b.Ev = void 0; (function (a) {
                            a.Kcb = "usable"; a.iu = "expired"; a.released = "released"; a.d6a = "output-restricted"; a.cUb = "output-downscaled";
                            a.X0b = "status-pending"; a.mMb = "internal-error"
                        })(b.Ev || (b.Ev = {})); b.wqa = function (a) { return !!a && !!a.keyStatuses }
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.J1 = "TimeoutMonitorFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Gca = "DebouncerFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.hn = "_ANY_"; b.jDa = "EnricherSymbol" }, function (r, b, a) {
                        function c(g, d, h, l) {
                            this.ya = g; this.b4 = d; this.co = h; this.Go = void 0 === l ? "General" :
                                l; this.Kka = {}
                        } Object.defineProperty(b, "__esModule", { value: !0 }); b.sK = void 0; var f = a(7), k = a(348), m = a(659); c.prototype.IQa = function (g, d) { this.Kka[g] = d }; c.prototype.fatal = function (g, d) { for (var h = [], l = 1; l < arguments.length; ++l)h[l - 1] = arguments[l]; this.wC(f.kh.shb, g, this.hQ(g, h)) }; c.prototype.error = function (g, d) { for (var h = [], l = 1; l < arguments.length; ++l)h[l - 1] = arguments[l]; this.wC(f.kh.Rf, g, this.hQ(g, h)) }; c.prototype.warn = function (g, d) {
                            for (var h = [], l = 1; l < arguments.length; ++l)h[l - 1] = arguments[l]; this.wC(f.kh.Lfa,
                                g, this.hQ(g, h))
                        }; c.prototype.info = function (g, d) { for (var h = [], l = 1; l < arguments.length; ++l)h[l - 1] = arguments[l]; this.wC(f.kh.pda, g, this.hQ(g, h)) }; c.prototype.trace = function (g, d) { for (var h = [], l = 1; l < arguments.length; ++l)h[l - 1] = arguments[l]; this.wC(f.kh.oMa, g, this.hQ(g, h)) }; c.prototype.debug = function (g, d) { for (var h = 1; h < arguments.length; ++h); !1 }; c.prototype.log = function (g, d) { for (var h = [], l = 1; l < arguments.length; ++l)h[l - 1] = arguments[l]; this.debug.apply(this, [g].concat(la(h))) }; c.prototype.write = function (g,
                            d, h) { for (var l = [], n = 2; n < arguments.length; ++n)l[n - 2] = arguments[n]; this.wC(g, d, this.hQ(d, l)) }; c.prototype.toString = function () { return JSON.stringify(this) }; c.prototype.toJSON = function () { return { category: this.Go } }; c.prototype.jla = function (g) { return new c(this.ya, this.b4, this.co, g) }; c.prototype.wC = function (g, d, h) { g = new k.Hda(g, this.Go, this.ya.Rb(), d, h); d = da(this.co.co); for (h = d.next(); !h.done; h = d.next())h = h.value, h(g) }; c.prototype.$Gb = function (g) {
                                return 0 < Object.keys(this.Kka).length ? [this.Kka].concat(la(g)) :
                                    g
                            }; c.prototype.hQ = function (g, d) { var h; g && "null" !== g && "undefined" !== g || d.push({ StackTrace: null !== (h = Error("Empty message").stack) && void 0 !== h ? h : "nostack" }); return (0, m.MSa)(this.b4, this.$Gb(d)) }; b.sK = c
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.qfa = "SegmentManagerFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Pea = "PlaybackFactorySymbol" }, function (r, b) {
                        function a(c) {
                            return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c ? "global" : "staticAudioMemoryLimit" ===
                                c || "staticVideoMemoryLimit" === c ? "static" : !1
                        } Object.defineProperties(b, { __esModule: { value: !0 } }); b.l1b = b.j8a = b.pva = void 0; b.pva = function (c) { return "globalMemoryLimit" === c ? "global" : "staticMemoryLimit" === c ? "static" : a(c) }; b.j8a = a; b.l1b = function (c) { return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.$g) + " sp:" + c.dB + " pssp:") + (c.pY + " state:") + (c.Ff + " path-complete:" + c.MA + " streaming:") + (c.Ps + " current:" + c.Or) }
                    }, function (r, b) {
                        Object.defineProperties(b, { __esModule: { value: !0 } });
                        b.n4a = b.I8 = b.Cf = void 0; b.Cf = [0, 1]; b.I8 = function (a, c) { return a || c ? c ? [1] : [0] : [0, 1] }; b.n4a = function (a) { return 0 === a ? "audio" : 1 === a ? "video" : "unknown" }
                    }, function (r, b, a) {
                        Object.defineProperties(b, { __esModule: { value: !0 } }); b.wK = void 0; var c = a(43); r = function () {
                            function f(k, m) { this.console = k; this.config = m; this.Ncb = !1 } f.prototype.xm = function (k, m, g, d) { void 0 === g && (g = c.O.cb); void 0 === d && (d = !1); return this.Ncb || g.T >= this.config.$Pb || !1 === d ? k.filter(this.UCb) : k.filter(this.gxb) }; f.prototype.$ab = function () {
                                this.Ncb =
                                    !0
                            }; f.prototype.UCb = function (k) { return k.gl }; f.prototype.gxb = function (k) { return !k.gl }; return f
                        }(); b.wK = r
                    }, function (r, b) {
                        Object.defineProperties(b, { __esModule: { value: !0 } }); b.jea = void 0; r = function () {
                            function a(c, f, k, m) {
                                var g = this; this.properties = c; this.transform = f; this.iU = k; this.state = m; this.Bta = function () { var d = g.state, h = g.properties.map(function (l) { return l.value }); g.state = g.transform(h); (g.r1a(g.state) && g.r1a(d) ? g.state.equal(d) : d === g.state) || g.iU(g.state) }; c.forEach(function (d) { return d.addListener(g.Bta) });
                                this.Bta()
                            } a.prototype.clear = function () { var c = this; this.properties.forEach(function (f) { return f.removeListener(c.Bta) }) }; a.prototype.r1a = function (c) { return void 0 !== c.equal }; return a
                        }(); b.jea = r
                    }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.Nj = void 0; r = b.Nj || (b.Nj = {}); r[r.CLOSED = 0] = "CLOSED"; r[r.OPEN = 1] = "OPEN"; r[r.oj = 2] = "STREAMING" }, function (r, b) {
                        Object.defineProperties(b, { __esModule: { value: !0 } }); b.GF = void 0; r = function () {
                            function a(c) { this.XPa = c } Object.defineProperties(a.prototype,
                                { PN: { get: function () { return this.Bob }, enumerable: !1, configurable: !0 } }); Object.defineProperties(a.prototype, { result: { get: function () { return this.XPa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(a.prototype, { cwa: { get: function () { var c = this; return this.XPa.then(function () { return c }) }, enumerable: !1, configurable: !0 } }); a.prototype.cancel = function () { this.Bob = !0 }; a.prototype.yta = function (c, f) { var k = this; this.result.then(function (m) { k.PN ? f && f(m) : c(m) }); return this }; return a
                        }(); b.GF = r
                    }, function (r,
                        b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.yM = b.FEb = b.iz = b.qE = void 0; var c = a(2), f = a(22), k = a(61); Object.defineProperties(b, { qE: { enumerable: !0, get: function () { return k.qE } } }); Object.defineProperties(b, { iz: { enumerable: !0, get: function () { return k.iz } } }); b.FEb = function (m, g) { var d; m = Math.max(m.duration - 3E4, 3E4); for (var h = {}, l, n = 0, q = 0; q < m; q += 3E4) { var p = "s" + n++, u = { S: g, Aa: q, Da: q + 3E4 < m ? q + 3E4 : null }; void 0 !== l && (l.next = (d = {}, d[p] = { weight: 1 }, d), l.Jd = p); l = h[p] = u } return { ue: "s0", U: h, de: "lazy" } }; b.yM =
                        function (m, g, d, h) {
                            var l, n; void 0 === h && (h = {}); var q = f.O.max(d, f.O.cb); try { for (var p = c.__values(Object.keys(m.U)), u = p.next(); !u.done; u = p.next()) { var t = u.value, w = m.U[t]; if (w.S === g) { var v = f.O.Na(w.Aa); if (q.Zr(v) && (!isFinite(null !== (n = w.Da) && void 0 !== n ? n : NaN) || q.lessThan(f.O.Na(w.Da)))) return { ha: t, offset: d.Ja(v) } } } } catch (y) { var x = { error: y } } finally { try { u && !u.done && (l = p.return) && l.call(p) } finally { if (x) throw x.error; } } if (h.K9a && (w = Object.keys(m.U).map(function (y) { return { key: y, H: m.U[y] } }).filter(function (y) {
                                return y.H.S ===
                                    g
                            }).map(function (y) { var z = f.O.abs(d.Ja(f.O.Na(y.H.Aa))); if (y.H.Da && isFinite(y.H.Da)) { var A = f.O.abs(d.Ja(f.O.Na(y.H.Da))); z = f.O.min(z, A) } return c.__assign(c.__assign({}, y), { Ko: z }) }), w.sort(function (y, z) { return y.Ko.T - z.Ko.T }), v = c.__read(w, 1)[0])) return w = v.H, h = v.key, v = f.O.Na(w.Aa), { ha: h, offset: d.Ja(v) }
                        }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.ZJ = void 0; r = a(2); var c = a(168), f = r.__importDefault(a(225)), k = r.__importDefault(a(767)), m = r.__importDefault(a(143)), g = a(5), d; b.ZJ =
                        function () { function h(l, n) { var q = this; this.Sh = new f.default(l, n); this.Sn = new k.default(l); this.Vb = new m.default(this.Sn, this.Sh, l); c.Tx.Nxb(l); l.V9 && setInterval(function () { q.Sh.save(); q.Sn.save() }, l.V9) } h.RZa = function (l, n) { void 0 === d ? (h.config = l, h.AE = n, d = new h(l, n)) : (g.assert(h.config === l), g.assert(h.AE === n)); return d }; h.reset = function () { h.config = void 0; d = h.AE = void 0 }; return h }()
                }, function (r, b, a) {
                    function c(d, h, l) {
                        this.LM = !1 === d; this.Ko = d || .01; this.Ada = void 0 === h ? 25 : h; this.WAa = void 0 === l ? 1.1 : l; this.Qi =
                            new g(f); this.reset()
                    } function f(d, h) { return d.rg > h.rg ? 1 : d.rg < h.rg ? -1 : 0 } function k(d, h) { return d.dx - h.dx } function m(d) { this.config = d || {}; this.mode = this.config.mode || "auto"; c.call(this, "cont" === this.mode ? d.Ko : !1); this.eCb = this.config.ratio || .9; this.fCb = this.config.ufc || 1E3; this.d9 = 0 } var g = a(749).mlb; c.prototype.reset = function () { this.Qi.clear(); this.tra = this.n = 0 }; c.prototype.size = function () { return this.Qi.size }; c.prototype.op = function (d) {
                        var h = []; d ? (this.j2(!0), this.Qi.sf(function (l) { h.push(l) })) : this.Qi.sf(function (l) {
                            h.push({
                                rg: l.rg,
                                n: l.n
                            })
                        }); return h
                    }; c.prototype.summary = function () { return [(this.LM ? "exact " : "approximating ") + this.n + " samples using " + this.size() + " centroids", "min = " + this.Cj(0), "Q1  = " + this.Cj(.25), "Q2  = " + this.Cj(.5), "Q3  = " + this.Cj(.75), "max = " + this.Cj(1)].join("\n") }; c.prototype.push = function (d, h) { h = h || 1; d = Array.isArray(d) ? d : [d]; for (var l = 0; l < d.length; l++)this.aOa(d[l], h) }; c.prototype.$ua = function (d) { d = Array.isArray(d) ? d : [d]; for (var h = 0; h < d.length; h++)this.aOa(d[h].rg, d[h].n) }; c.prototype.j2 = function (d) {
                        if (!(this.n ===
                            this.tra || !d && this.WAa && this.WAa > this.n / this.tra)) { var h = 0; this.Qi.sf(function (l) { l.dx = h + l.n / 2; h = l.CM = h + l.n }); this.n = this.tra = h }
                    }; c.prototype.rFb = function (d) { if (0 === this.size()) return null; var h = this.Qi.lowerBound({ rg: d }), l = null === h.data() ? h.DI() : h.data(); return l.rg === d || this.LM ? l : (h = h.DI()) && Math.abs(h.rg - d) < Math.abs(l.rg - d) ? h : l }; c.prototype.CL = function (d, h, l) { this.Qi.wq({ rg: d, n: h, CM: l }); this.n += h }; c.prototype.T1 = function (d, h, l) {
                        h !== d.rg && (d.rg += l * (h - d.rg) / (d.n + l)); d.CM += l; d.dx += l / 2; d.n += l; this.n +=
                            l
                    }; c.prototype.aOa = function (d, h) { var l = this.Qi.min(), n = this.Qi.max(), q = this.rFb(d); q && q.rg === d ? this.T1(q, d, h) : q === l ? this.CL(d, h, 0) : q === n ? this.CL(d, h, this.n) : this.LM ? this.CL(d, h, q.CM) : (l = q.dx / this.n, Math.floor(4 * this.n * this.Ko * l * (1 - l)) - q.n >= h ? this.T1(q, d, h) : this.CL(d, h, q.CM)); this.j2(!1); !this.LM && this.Ada && this.size() > this.Ada / this.Ko && this.lz() }; c.prototype.Uub = function (d) { this.Qi.kn = k; var h = this.Qi.upperBound({ dx: d }); this.Qi.kn = f; var l = h.DI(); d = l && l.dx === d ? l : h.next(); return [l, d] }; c.prototype.Cj =
                        function (d) { var h = (Array.isArray(d) ? d : [d]).map(this.mqb, this); return Array.isArray(d) ? h : h[0] }; c.prototype.mqb = function (d) { if (0 !== this.size()) { this.j2(!0); this.Qi.min(); this.Qi.max(); d *= this.n; var h = this.Uub(d), l = h[0]; h = h[1]; return h === l || null === l || null === h ? (l || h).rg : this.LM ? d <= l.CM ? l.rg : h.rg : l.rg + (d - l.dx) * (h.rg - l.rg) / (h.dx - l.dx) } }; c.prototype.lz = function () {
                            if (!this.YTa) {
                                var d = this.op(); this.reset(); for (this.YTa = !0; 0 < d.length;)this.$ua(d.splice(Math.floor(Math.random() * d.length), 1)[0]); this.j2(!0);
                                this.YTa = !1
                            }
                        }; m.prototype = Object.create(c.prototype); m.prototype.constructor = m; m.prototype.push = function (d) { c.prototype.push.call(this, d); this.Lwb() }; m.prototype.CL = function (d, h, l) { this.d9 += 1; c.prototype.CL.call(this, d, h, l) }; m.prototype.T1 = function (d, h, l) { 1 === d.n && --this.d9; c.prototype.T1.call(this, d, h, l) }; m.prototype.Lwb = function () { !("auto" !== this.mode || this.size() < this.fCb) && this.d9 / this.size() > this.eCb && (this.mode = "cont", this.LM = !1, this.Ko = this.config.Ko || .01, this.lz()) }; r.exports = { TDigest: c, Digest: m }
                },
                function (r, b, a) {
                    function c(p) { var u = p.Gga; this.J = p; this.Xj = d.Sf.HAVE_NOTHING; this.iL = p.iL; p = new n(this.iL); this.qT = p.create("throughput-location-history", u); this.Ly = p.create("respconn-location-history", u); this.By = p.create("respconn-location-history", u); this.i3 = p.create("throughput-tdigest-history", u); this.B2 = p.create("throughput-iqr-history", u); this.Eb = null } function f(p, u, t, w, v) { this.aC = new c(v); this.Ft = []; this.bpb = h.time.fa() - Date.now() % 864E5; this.yy = null; this.J = v; for (p = 0; p < w; ++p)this.Ft.push(new c(v)) }
                    function k(p, u, t) { return g.has(p, u) ? p[u] : p[u] = t } function m(p, u) { this.J = p; this.nQa = u; this.iEb(); this.JS = new c(this.J); this.TS(); var t = p.Dla; t && (t = { confidence: d.Sf.kK, Sa: { Ha: parseInt(t, 10), ij: 0 }, Fj: { Ha: 0, ij: 0 }, Bu: { Ha: 0, ij: 0 } }, this.get = function () { return t }) } var g = a(10), d = a(27).default; b = a(9); var h = a(6).default, l = b.MDa, n = a(366).DDa; new h.Console("ASEJS_LOCATION_HISTORY", "media|asejs"); var q = { confidence: d.Sf.HAVE_NOTHING }; c.prototype.sG = function (p, u) { this.Xj = u; this.qT.add(p); this.i3.add(p); this.Eb = h.time.fa() };
                    c.prototype.MJ = function (p, u) { this.B2.set(p, u) }; c.prototype.Ty = function (p) { this.Ly.add(p) }; c.prototype.Ry = function (p) { this.By.add(p) }; c.prototype.getState = function () { var p = this.qT.getState(), u = this.Ly.getState(), t = this.By.getState(), w = this.B2.getState(), v = this.i3.getState(); if (g.Lb(p) && g.Lb(u) && g.Lb(t)) return null; var x = { c: this.Xj, t: h.time.Nsa(this.Eb) }; g.Lb(p) || (x.tp = p); g.Lb(u) || (x.rt = u); g.Lb(t) || (x.hrt = t); g.Lb(w) || (x.iqr = w); g.Lb(v) || (x.td = v); return x }; c.prototype.Ye = function (p) {
                        var u = h.time.now();
                        if (!(p && g.has(p, "c") && g.has(p, "t") && g.has(p, "tp") && g.isFinite(p.c) && g.isFinite(p.t)) || 0 > p.c || p.c > d.Sf.kK || p.t > u || !this.qT.Ye(p.tp)) return this.Xj = d.Sf.HAVE_NOTHING, this.yy = this.Eb = null, this.qT.Ye(null), this.Ly.Ye(null), this.By.Ye(null), !1; this.Xj = p.c; this.Eb = h.time.jta(p.t); this.Ly.Ye(g.has(p, "rt") ? p.rt : null); this.By.Ye(g.has(p, "hrt") ? p.hrt : null); g.has(p, "iqr") && this.B2.Ye(p.iqr); g.has(p, "td") && this.i3.Ye(p.td); return !0
                    }; c.prototype.get = function () {
                        var p = this.J; if (g.Lb(this.Eb)) return q; var u = (h.time.fa() -
                            this.Eb) / 1E3; u > p.uob ? this.Xj = d.Sf.HAVE_NOTHING : u > p.Wnb && (this.Xj = Math.min(this.Xj, d.Sf.IB)); p = this.qT.get(); var t = this.Ly.get(), w = this.By.get(), v = this.B2.get(), x = this.i3.get(); u = { hm: u, confidence: this.Xj, Sa: p, Fj: t, Bu: w, Cu: v, Jk: x }; p && (u.wfc = l.prototype.zua.bind(p)); t && (u.Oec = l.prototype.zua.bind(t)); w && (u.Pcc = l.prototype.zua.bind(w)); return u
                    }; c.prototype.time = function () { return this.Eb }; f.prototype.Qe = function () { return ((h.time.fa() - this.bpb) / 1E3 / 3600 / (24 / this.Ft.length) | 0) % this.Ft.length }; f.prototype.getState =
                        function () { var p = { g: this.aC.getState(), h: this.Ft.map(function (u) { return u.getState() }) }; g.Lb(this.yy) || (p.f = h.time.Nsa(this.yy)); return p }; f.prototype.Ye = function (p) { if (!this.aC.Ye(p.g)) return !1; var u = this.Ft.length, t = !1; this.Ft.forEach(function (w, v) { t = !w.Ye(p.h[v * p.h.length / u | 0]) || t }); this.yy = g.has(p, "f") ? h.time.jta(p.f) : null; return t }; f.prototype.sG = function (p, u) { this.aC.sG(p, u); this.Ft[this.Qe()].sG(p, u); this.yy = null }; f.prototype.MJ = function (p, u) { this.aC.MJ(p, u); this.Ft[this.Qe()].MJ(p, u) }; f.prototype.Ty =
                            function (p) { this.aC.Ty(p); this.Ft[this.Qe()].Ty(p) }; f.prototype.Ry = function (p) { this.aC.Ry(p); this.Ft[this.Qe()].Ry(p) }; f.prototype.fail = function (p) { this.yy = p }; f.prototype.get = function () { if (!g.Lb(this.yy)) { if ((h.time.fa() - this.yy) / 1E3 < this.J.Vnb) return { confidence: d.Sf.HAVE_NOTHING, ju: !0 }; this.yy = null } var p = this.Ft[this.Qe()].get(), u = this.aC.get(); p = p.confidence >= u.confidence ? p : u; p.ju = !1; return p }; f.prototype.time = function () { return this.aC.time() }; m.prototype.vOa = function (p, u) {
                                var t = this.J; p = k(this.NS,
                                    p, {}); return k(p, u, new f(t.JOa || 14400, t.IOa || 100, t.HOa || 100, t.APa || 4, t))
                            }; m.prototype.TS = function () { var p = h.storage.get("lh"), u = h.storage.get("gh"); p && this.Sha(p); u && this.hrb(u) }; m.prototype.Pga = function () { var p = {}; g.sf(this.NS, function (u, t) { g.sf(u, function (w, v) { k(p, t, {})[v] = w.getState() }, this) }, this); return p }; m.prototype.hrb = function (p) { this.JS.Ye(p) }; m.prototype.Sha = function (p) {
                                var u = null, t = this.J; g.sf(p, function (w, v) {
                                    g.sf(w, function (x, y) {
                                        var z = new f(t.JOa || 14400, t.IOa || 100, t.HOa || 100, t.APa || 4,
                                            t); z.Ye(x) ? (k(this.NS, v, {})[y] = z, u = !0) : g.Lb(u) && (u = !1)
                                    }, this)
                                }, this); return g.Lb(u) ? !0 : u
                            }; m.prototype.save = function () { var p = this.Pga(); h.storage.set("lh", p); h.storage.set("gh", this.JS.getState()); this.nQa && this.nQa.Qwa(this.JS.getState()) }; m.prototype.iEb = function () { this.NS = {}; this.fL = this.XNa = ""; this.uo = null }; m.prototype.CP = function (p) { this.XNa = p; this.uo = null }; m.prototype.jaa = function (p) { this.fL = p; this.uo = null }; m.prototype.w2 = function () { g.Lb(this.uo) && (this.uo = this.vOa(this.XNa, this.fL)); return this.uo };
                    m.prototype.sG = function (p, u) { this.w2().sG(p, u); this.JS.sG(p, u) }; m.prototype.MJ = function (p, u) { p && p.Ml && p.Bk && p.Nl && (this.w2().MJ(p, u), this.JS.MJ(p, u)) }; m.prototype.Ty = function (p) { this.w2().Ty(p) }; m.prototype.Ry = function (p) { this.w2().Ry(p) }; m.prototype.fail = function (p, u) { this.vOa(p, this.fL).fail(u) }; m.prototype.get = function (p, u) {
                        p = (p = this.NS[p]) ? p[this.fL] : null; var t = null; if (p && (t = p.get(), t.confidence > d.Sf.HAVE_NOTHING)) return t; if (!1 === u) return q; var w = t = null, v = !1, x = null; g.sf(this.NS, function (y) {
                            g.sf(y,
                                function (z, A) { if (!v || A == this.fL) { var B = z.get(); B && (!w || w <= B.confidence) && (!x || w < B.confidence || x < z.time()) && (w = B.confidence, v = A == this.fL, x = z.time(), t = B) } }, this)
                        }, this); return t ? t : q
                    }; r.exports = m
                }, function (r, b, a) {
                    function c(g) { this.QL = g; this.reset() } function f(g) { this.gk = new c(g); this.Re = 0; this.Yc = null } function k(g, d) { this.QL = g; this.ePa = d; this.reset() } var m = a(10); c.prototype.JPa = function (g, d) { this.Eb += g; this.Yj += g; this.Qc += d; this.zo.push({ d: g, b: d }) }; c.prototype.eT = function () {
                        for (; this.Yj > this.QL;) {
                            var g =
                                this.zo.shift(); this.Qc -= g.b; this.Yj -= g.d
                        }
                    }; c.prototype.reset = function () { this.zo = []; this.Eb = null; this.Yj = this.Qc = 0 }; c.prototype.setInterval = function (g) { this.QL = g; this.eT() }; c.prototype.start = function (g) { m.Lb(this.Eb) && (this.Eb = g) }; c.prototype.add = function (g, d, h) { m.Lb(this.Eb) && (this.Eb = d); d > this.Eb && this.JPa(d - this.Eb, 0); this.JPa(h > this.Eb ? h - this.Eb : 0, g); this.eT() }; c.prototype.get = function () { return { Ha: Math.floor(8 * this.Qc / this.Yj), ij: 0 } }; f.prototype.reset = function () {
                        this.gk.reset(); this.Re = 0; this.Yc =
                            null
                    }; f.prototype.add = function (g, d, h) { !m.Lb(this.Yc) && h > this.Yc && (d > this.Yc && (this.Re += d - this.Yc), this.Yc = null); this.gk.add(g, d - this.Re, h - this.Re) }; f.prototype.start = function (g) { !m.Lb(this.Yc) && g > this.Yc && (this.Re += g - this.Yc, this.Yc = null); this.gk.start(g - this.Re) }; f.prototype.stop = function (g) { this.Yc = m.Lb(this.Yc) ? g : Math.min(g, this.Yc) }; f.prototype.get = function () { return this.gk.get() }; f.prototype.setInterval = function (g) { this.gk.setInterval(g) }; k.prototype.reset = function () {
                        this.zo = []; this.Qc = this.Yj =
                            0
                    }; k.prototype.add = function (g, d, h, l) { void 0 !== l && !0 === l && (d = h - d, this.Yj += d, this.Qc += g, this.zo.push({ d: d, b: g }), this.eT()) }; k.prototype.eT = function () { for (; this.Yj > this.QL || this.zo.length > this.ePa;) { var g = this.zo.shift(); this.Qc -= g.b; this.Yj -= g.d } }; k.prototype.start = function () { }; k.prototype.stop = function () { }; k.prototype.get = function () { return { Ha: Math.floor(8 * this.Qc / this.Yj), ij: 0 } }; k.prototype.setInterval = function (g, d) { this.QL = g; this.ePa = d; this.eT() }; r.exports = { S6b: c, Vgb: f, pmb: k }
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.eca = void 0; var c = a(2), f = a(19), k = a(779); r = a(84); var m = a(780), g = a(806), d = a(809), h = a(241), l = a(17), n = c.__importDefault(a(6)), q = a(5); a(9); var p = a(26); a(166); var u = function () { return function (t) { var w = t.L1a; t = t.zqa; this.jX = this.replace = w; this.Je = t } }(); a = function (t) {
                            function w(v, x) {
                                var y = x.Sb, z = x.pa, A = x.gp, B = x.Dd, E = x.e4a, D = x.Ri, F = x.config, G = x.e0a, C = x.nP, H = x.c6, L = x.Vb, N = x.Sh, J = x.FX, Q = x.bXa; x = x.iJ; var K = t.call(this) || this; K.S = v; K.Z6 = !1; K.LOa = []; K.cPa = []; K.hi = []; K.TC = []; K.nn = !1; K.Sb =
                                    y; K.WS = z; K.gp = A; K.pc = function (Z) { return 0 <= B.indexOf(Z) }; K.config = F; K.console = new n.default.Console("ASEJS", "media|asejs", "<" + String(K.S) + ">"); G && (v = G.iD, K.Yf = new d.oEa(K, K.console, K.config, G.Vn, G.eW, v, G.B7, G.If, G.ol, G.wh, G.sD), K.iD = v); K.yu = new f.EventEmitter; K.c6 = H; K.Vb = L; K.FX = J; K.Em = new h.Fda(K.pa, L, N, K.config, null === Q || void 0 === Q ? void 0 : Q.Vn); Q && (G = Q.$r, H = Q.Pn, K.Qp = Q.ah, K.Pn = H, K.$r = G, K.Aga = new g.lDa(K.Em, K.config, K.fKb.bind(K), K.eKb.bind(K))); K.nP = C; K.iJ = x; K.mf = new u(E); K.Ri = D; var I = [[], []], M =
                                        [{}, {}], O = [0, 0], P = !1, S = K.pc(0), U = K.pc(1);["audio_tracks", "video_tracks"].forEach(function (Z, ia) { var ya = 0 === ia; ya && !S || 1 === ia && !U || K.pa[Z].forEach(function (na, X) { if (0 !== na.type || !1 !== na.yi) na = new m.dca({ P: K, Ju: na, mediaType: ia, Je: E.zqa, CE: X, xC: X + (ya ? K.pa.video_tracks.length : 0) }, K.config, K.console), I[ia].push(na), M[ia] = c.__assign(c.__assign({}, M[ia]), na.lD()), na.maxBitrate > O[na.mediaType] && (O[na.mediaType] = na.maxBitrate), P = P || na.Tw }) }); K.TK = I; K.Fxa = M; K.kha = O; K.Tw = P; return K
                            } c.__extends(w, t); Object.defineProperties(w.prototype,
                                { pa: { get: function () { return this.WS }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { iX: { get: function () { var v; return !(null === (v = this.TK[1][0]) || void 0 === v || !v.iX) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { cx: { get: function () { return this.kha }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { yh: { get: function () { return this.LOa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                    aQb: {
                                        get: function () { return this.cPa },
                                        enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(w.prototype, { K: { get: function () { return this.pa.movieId }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { zn: { get: function () { return this.pa.choiceMap }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { duration: { get: function () { return this.pa.duration }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { pk: { get: function () { return this.nn }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype,
                                    { kq: { get: function () { q.assert(this.Aga, "ErrorDirector is not available on old architecture prefetch viewables."); return this.Aga }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { aN: { get: function () { return this.kq.events }, enumerable: !1, configurable: !0 } }); w.prototype.Jb = function () { this.close(); this.md() }; w.prototype.close = function () { var v; this.TC = []; null === (v = this.Aga) || void 0 === v ? void 0 : v.Jb(); this.Em.Jb(); this.nn = !0 }; w.prototype.md = function () { this.Yf && this.Yf.md() }; w.prototype.Mx =
                                        function (v) {
                                            var x = this, y = v.pa, z = v.Je, A = void 0 === z ? !1 : z; z = v.Dd; var B = void 0 === z ? l.Cf : z; q.assert(v.Ri === this.Ri, "Updating Viewable clearplay not supported"); l.Cf.forEach(function (F) { q.assert(x.pc(F) === 0 <= B.indexOf(F), "Updating Viewable media types not supported") }); q.assert(y.movieId === this.pa.movieId, "Changing Viewable manifest movieId unsupported"); var E = this.pc(0), D = this.pc(1);["audio_tracks", "video_tracks"].forEach(function (F, G) {
                                                var C = 0 === G; if (!(C && !E || 1 === G && !D)) {
                                                    var H = y[F], L = x.TK[G]; q.assert(L.every(function (N) {
                                                        var J =
                                                            H[N.CE]; return J && J.bQ === N.trackId && (1 === J.type || !1 !== J.yi)
                                                    }), "Existing tracks must still exist and be hydrated in updated manifest"); H.forEach(function (N, J) {
                                                        if (0 !== N.type || !1 !== N.yi) {
                                                            var Q = x.getTrackById(N.bQ); if (Q) { N = N.streams; var K = Object.keys(Q.lD()); q.assert(N.length === K.length, "Expected updated manifest track to have same number of streams"); N.forEach(function (I) { q.assert(-1 !== K.indexOf(I.downloadable_id), "Changing Viewable track streams unsupported") }) } else Q = new m.dca({
                                                                P: x, Ju: N, mediaType: G,
                                                                Je: A, CE: J, xC: J + (C ? x.pa.video_tracks.length : 0)
                                                            }, x.config, x.console), L.push(Q), x.Fxa[G] = c.__assign(c.__assign({}, x.Fxa[G]), Q.lD()), Q.maxBitrate > x.kha[Q.mediaType] && (x.kha[Q.mediaType] = Q.maxBitrate), q.assert(x.Tw || !Q.Tw, "Can not update clear viewable with drm track.")
                                                        }
                                                    })
                                                }
                                            }); this.WS = y; this.Em.VL(this.pa)
                                        }; w.prototype.mE = function (v) { var x = v.ss, y = v.da, z = v.YC; v = v.Un; x && y ? (this.oaa = new k.HLa(x, { da: String(y), YC: !!z, oQb: this.config.d1.mx, avb: this.config.d1.lv }, v), this.kq.mE(this.oaa)) : v("SideChannel: pbcid/xid is missing.") };
                            w.prototype.Ww = function () { return void 0 !== this.zn }; w.prototype.getTracks = function (v) { return this.TK[v] }; w.prototype.getTrackById = function (v) { var x; this.TK.some(function (y) { return y.some(function (z) { if (z.trackId === v) return x = z, !0 }) }); x || this.console.warn("getTrackById not found:", v, "length:", this.TK.length); return x }; w.prototype.KJb = function (v, x) { var y = this.TK[v]; if (0 > x || x >= y.length) this.console.warn("getTrackByIndex out of range:", x, "length:", y.length, "mediaType:", v); else return y[x] }; w.prototype.Rw =
                                function (v, x) { return (v = this.lD(v)) && v[x] }; w.prototype.lD = function (v) { return this.Fxa[v] }; w.prototype.R3b = function (v, x) { this.LOa[v] = x; x.stream.Y && this.xcb(v, x.stream.Y) }; w.prototype.yNb = function (v) { if (void 0 === v.n$ || void 0 === v.Kua) { var x = this.Em.GA.filter(function (z) { return void 0 !== z.streams[v.Ta] })[0], y = x.children.filter(function (z) { return z.urls.some(function (A) { return A.stream.id === v.Ta }) })[0]; v.n$ = x.id; v.Kua = y.id } return { Wqa: v.location === v.n$, zNb: v.Pc === v.Kua } }; w.prototype.Vwa = function (v, x, y) {
                                    void 0 !==
                                        x && void 0 !== y && (this.R8a(v.mediaType, x), v.Vwa(x, y))
                                }; w.prototype.R8a = function (v, x) { var y, z = this.config.Vsa; ("location" === z || "video_location" === z && 1 === v) && this.Vb.CP(x); null === (y = this.c6) || void 0 === y ? void 0 : y.call(this).oTb(v, x) }; w.prototype.ah = function (v, x, y, z, A, B) { q.assert(this.Qp, "Stream failure reporting can not be used on old architecture prefetch viewables."); return this.Qp(v, x, y, z, A, B) }; w.prototype.Xm = function () {
                                    var v = this, x = []; if (this.pk) return this.console.error("updateRequestUrls, closed Viewable:",
                                        this.S), !1; l.Cf.forEach(function (z) { v.pc(z) && v.i4b(z) && (z = v.Y3b(z), 0 < z.length && x.push.apply(x, z)) }); var y = this.S3b(); 0 < y.length && x.push.apply(x, y); return this.IYb(x)
                                }; w.prototype.ym = function (v, x) { var y = this.getTracks(1)[0]; q.assert(y); if (y.NN) return y.ym(v, x) }; w.prototype.i4b = function (v) {
                                    var x = this; return this.pk ? (this.console.warn("updateStreamUrls ignored, viewable cleaned up"), !1) : this.pc(v) ? this.hi.reduce(function (y, z) { return p.D3(y, z.fg.filter(function (A) { return A.mediaType === v })) }, []).map(function (y) {
                                        return x.Em.e_(x.S,
                                            y.ce)
                                    }).every(function (y) { return y }) : (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled", v), !1)
                                }; w.prototype.S3b = function () { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); return this.Yf.Xm() }; w.prototype.Y3b = function (v) {
                                    var x, y = []; if (this.pk) return this.console.warn("updateStreamUrls ignored, viewable cleaned up"), y; if (!this.pc(v)) return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled", v),
                                        y; try { for (var z = c.__values(this.hi), A = z.next(); !A.done; A = z.next()) { var B = A.value.Xm(v); B.length && y.push.apply(y, B) } } catch (D) { var E = { error: D } } finally { try { A && !A.done && (x = z.return) && x.call(z) } finally { if (E) throw E.error; } } return y
                                }; w.prototype.IYb = function (v) {
                                    var x = this; if (0 === v.length) return !0; var y = 0, z = []; v.forEach(function (A) { if (A.gd) { var B = A.P; B.Sb > x.Sb && (z.push({ P: B, track: A.stream.track }), ++y) } }); z.forEach(function (A) {
                                        var B = A.track; A.P.mP([0 === B.mediaType ? B : void 0, 1 === B.mediaType ? B : void 0], void 0,
                                            B.mediaType)
                                    }); return y === v.length
                                }; w.prototype.zk = function () { var v = this; this.Em.zk(); this.kq.zk(); this.oaa && (q.assert(this.iD), l.Cf.forEach(function (x) { x = v.iD(x); v.oaa.Bwa("rebuffer", x.sra) })) }; w.prototype.xta = function () { this.kq.xta() }; w.prototype.Kya = function (v, x) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); this.Yf.Kya(v, x) }; w.prototype.T6 = function () { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables.."); return this.Yf.T6() }; w.prototype.yka =
                                    function () { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); this.Yf.yka() }; w.prototype.BP = function (v) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); this.Yf.BP(v) }; w.prototype.qya = function () { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); return this.Yf.qya() }; w.prototype.fl = function (v, x) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); return this.Yf.fl(v, x) }; w.prototype.HUa =
                                        function (v, x, y) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); this.Yf.Zaa(v, x, y, !0) }; w.prototype.s3 = function (v, x, y) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); return this.Yf.s3(v, x, !!y) }; w.prototype.i_b = function (v, x) { this.TC.push({ stream: v, zJb: x }) }; w.prototype.RXb = function () { this.TC = [] }; w.prototype.XXb = function (v) { this.TC = this.TC.filter(function (x) { return x.stream !== v }) }; w.prototype.WXb = function (v) {
                                            this.TC = this.TC.filter(function (x) {
                                                return x !==
                                                    v
                                            })
                                        }; w.prototype.AN = function () { var v = this; q.assert(this.Pn, "Streamables not available on old architecture prefetch viewables."); return this.Pn() ? [] : this.TC.map(function (x) { var y = x.stream, z = x.zJb; z = z(); return { identifier: y.S + "-" + y.mediaType + "-" + y.bitrate, mediaType: y.mediaType, $g: z.$g, Ff: z.Ff, MA: z.MA, Ps: z.Ps, Or: z.Or, Hua: 0, Gua: Infinity, pY: 1, dB: 1, RXa: 0, groupId: "" + v.S, CD: !0, hs: !1, V1a: function () { return { result: !0 } }, Z1a: function () { if (y.DE()) return v.XXb(y), { Cm: !0, reason: "success" }; v.WXb(x); return { Cm: !1, reason: "viewableTryIssueHeaderRequest" } } } }) };
                            w.prototype.DE = function (v, x) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); return this.Yf.DE(v, x) }; w.prototype.TL = function (v, x) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); return this.Yf.TL(v, x) }; w.prototype.bwa = function (v) { q.assert(this.Yf, "Headers not available on old architecture prefetch viewables."); return this.Yf.bwa(v) }; w.prototype.mP = function (v, x, y) {
                                q.assert(this.Yf, "Headers not available on old architecture prefetch viewables.");
                                return this.Yf.mP(v, x, y)
                            }; w.prototype.hKb = function (v) { var x = v.Ta, y = v.mediaType; this.xcb(y, v.stream.Y); x = this.Rw(y, x); var z = this.Ww() ? this.config.M3a : 0; x.rcb(n.default.Mo()[y], z); this.yu.emit("onHeaderFragments", v) }; w.prototype.yva = function (v) { this.hi.push(v) }; w.prototype.zya = function (v) { v = this.hi.indexOf(v); q.assert(-1 !== v, "Unexpected call to unregisterBranch, branch not registered with Viewable."); this.hi.splice(v, 1) }; w.prototype.I9 = function (v) { var x; null === (x = this.nP) || void 0 === x ? void 0 : x.Sy(v) };
                            w.prototype.KA = function (v) { this.pk ? this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:", v) : void 0 !== v.location && this.R8a(v.mediaType, v.location) }; w.prototype.vI = function (v) { this.pk ? this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:", v) : this.kq.bba({ timestamp: v.uf, url: v.url }) }; w.prototype.Ak = function (v) {
                                var x; null === (x = this.nP) || void 0 === x ? void 0 : x.II(v); q.assert(this.Pn && this.FX, "Requests cannot be handled on old architecture prefetch viewables."); this.pk ?
                                    this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:", v) : this.Pn() || (this.kq.bba({ timestamp: v.uf, mediaRequest: v }), this.FX(v))
                            }; w.prototype.RX = function (v, x, y) { var z; y && (null === (z = this.nP) || void 0 === z ? void 0 : z.II(v)) }; w.prototype.SX = function (v) { this.pk ? this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:", v) : (this.kq.Cs({ url: v.url }, v.status, v.th, v.zj), this.Xm() || this.ah(v.gN || "unknown", "NFErr_MC_StreamingFailure", v.th, v.status, v.zj)) }; w.prototype.xcb = function (v,
                                x) { this.cPa[v] = x.hsa }; w.prototype.fKb = function (v) {
                                    if (!this.nn) {
                                        var x = v.fNb, y = v.YTb, z = v.ZTb; v = v.$Tb; this.console.warn("Streaming failure, is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + v); x ? (this.console.warn(" > Permanent failure, done"), x = this.ah("Permanent failure", "NFErr_MC_StreamingFailure", y, z, v)) : (this.console.warn(" > We are buffering, calling it!"), x = this.ah("Temporary failure while buffering", "NFErr_MC_StreamingFailure", v, z, v, !0)); x || (this.console.warn(" > Resetting failures"),
                                            this.kq.J$())
                                    }
                                }; w.prototype.eKb = function () { q.assert(this.$r, "Error handling not available on old architecture prefetch viewables."); this.nn || (this.Xm(), this.$r()) }; return w
                        }(r.Av); b.eca = a
                }, function (r, b, a) {
                    function c(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function f(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function k(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function m(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab); this.gJ = ha.config.gJ; this.vd = this.sizes = void 0 } function g(ha, pa, Fa, Va, ab) {
                        L.call(this,
                            ha, pa, Fa, Va, ab)
                    } function d() { for (var ha = new DataView(this), pa = "", Fa, Va = 0; Va < this.byteLength; Va++)Fa = ha.getUint8(Va), pa += ("00" + Fa.toString(16)).slice(-2); return pa } function h(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function l(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function n(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function q(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function p(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function u(ha) {
                        function pa(Fa, Va, ab, wb, zb) {
                            L.call(this, Fa, Va, ab,
                                wb, zb); this.AX = ha
                        } pa.Ra = !1; pa.prototype = new L; pa.prototype.constructor = pa; Object.defineProperties(pa.prototype, { RQ: { get: function () { return this.AX } } }); pa.prototype.parse = function () { this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.AX + "'"); this.u.offset = this.startOffset + 4; this.oa.v_(this.RQ); this.type = this.RQ; return !0 }; return pa
                    } function t(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function w(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function v(ha, pa, Fa, Va, ab) {
                        L.call(this, ha, pa,
                            Fa, Va, ab)
                    } function x(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function y(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function z(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function A(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function B(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function E(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function D(ha, pa, Fa, Va, ab) { L.call(this, ha, pa, Fa, Va, ab) } function F(ha, pa) { ha.forEach(function (Fa) { pa[Fa.ac] = Fa }) } var G = a(144).assert; b = a(101); var C = a(229).O, H = a(375);
                    a(145); a(85); a(85); a(85); var L = a(36).Ec, N = a(782).default, J = a(783).default, Q = a(784).default, K = a(785).default, I = a(786).default, M = a(787).default, O = a(788).default, P = a(789).default, S = a(790).default; a(230); a(170); var U = a(376).Cba, Z = a(376).Oca, ia = a(791).default, ya = a(792).default, na = a(86).default, X = a(86).Rba, ra = a(86).Sba, T = a(86).Tba, R = a(86).Uba, ca = a(793).default, ua = a(794).default, aa = a(86).lda, La = a(86).fda, Ua = a(86).neb, $a = a(795).default, Za = a(796).default, cb = a(797).default, Wa = a(377).default, Pa = a(378).default;
                    a(146); a(233); a(234); a(232); a = a(798).default; c.Ra = !0; c.prototype = new L; c.prototype.constructor = c; f.Ra = !0; f.prototype = new L; f.prototype.constructor = f; k.Ra = !1; k.prototype = new L; k.prototype.constructor = k; k.prototype.parse = function () { this.zc(); 1 === this.version ? (this.u.Vd(), this.u.Vd(), this.W = this.u.Ca(), this.duration = this.u.Vd()) : (this.u.Ca(), this.u.Ca(), this.W = this.u.Ca(), this.duration = this.u.Ca()); var ha = this.u.ad() & 32767; this.language = String.fromCharCode(96 + (ha >>> 10), 96 + (ha >>> 5 & 31), 96 + (ha & 31)); return !0 };
                    m.Ra = !1; m.prototype = new L; m.prototype.constructor = m; m.prototype.zha = function () { this.zc(); this.u.Ca(); this.W = this.u.Ca(); 0 === this.version ? (this.bV = this.u.Ca(), this.tV = this.u.Ca()) : (this.bV = this.u.Vd(), this.tV = this.u.Vd()); this.f9a = this.u.ad(); this.EY = this.u.ad() }; m.prototype.oga = function (ha, pa) {
                        var Fa = this.W; ha = ha && ha.W || Fa; var Va = ha / Fa; Fa = this.u.VA(pa, 12, !1); var ab = 1 === Va ? this.u.VA(pa, 12, !1) : H.from(Uint32Array, { length: pa }, function () { var wb = Math.round(this.u.Ca() * Va); this.u.offset += 8; return wb }, this);
                        this.dia(pa, ab, Fa, ha)
                    }; m.prototype.dia = function (ha, pa, Fa, Va) { if (this.gJ) { Va = this.gJ * Va / 1E3; for (var ab = 0, wb = 1; wb < ha; wb++)Math.abs(pa[ab] - Va) > Math.abs(pa[ab] + pa[wb] - Va) ? (pa[ab] += pa[wb], Fa[ab] += Fa[wb]) : (++ab, ab !== wb && (pa[ab] = pa[wb], Fa[ab] = Fa[wb])); ++ab; pa = new Uint32Array(pa.buffer.slice(0, 4 * ab)); Fa = new Uint32Array(Fa.buffer.slice(0, 4 * ab)) } this.sizes = Fa; this.vd = pa }; m.prototype.parse = function (ha) {
                        this.zha(); this.va = ha.va; var pa = this.W, Fa = this.va && this.va.W || pa, Va = this.EY, ab = this.startOffset + this.length +
                            this.tV; pa = (new C(this.bV, pa)).dg(Fa).qc; this.Y = { W: Fa, ql: pa, offset: ab }; this.oga(this.va, Va); this.Y.vd = this.vd; this.Y.sizes = this.sizes; ha.Ms = this; return !0
                    }; g.Ra = !1; g.prototype = new L; g.prototype.constructor = g; g.prototype.parse = function () { this.Gi = []; this.gua = []; var ha = (this.length - 11) / 2; this.u.tb(); this.u.tb(); this.u.tb(); for (var pa = 0; pa < ha; pa++)this.Gi.push(this.u.tb()), this.gua.push(this.u.tb()); return !0 }; h.Ra = !1; h.prototype = new L; h.prototype.constructor = h; h.prototype.parse = function () {
                        this.zc(); this.u.offset +=
                            4; this.OH = this.u.offset; this.Qn = this.u.kva(16); this.Qn.toString = d; return !0
                    }; l.Ra = !1; l.prototype = new L; l.prototype.constructor = l; l.prototype.parse = function () { this.zc(); this.pg = this.u.ad(); this.osa = this.u.VA(this.pg, void 0, !0); return !0 }; n.Ra = !1; n.prototype = new L; n.prototype.constructor = n; n.prototype.parse = function (ha) {
                        var pa = ha.Ms; G(pa); ha = ha.va; var Fa = pa.W; pa = pa.EY; G(ha); G(Fa); G(pa); this.zc(); G(2 > this.version); this.pg = this.u.ad(); this.Xu = new Uint16Array(pa + 1); var Va = ha.K6(Fa), ab = Va / Fa, wb = ha.dg(Va).qc;
                        if (0 === this.version) for (this.mv = new Uint16Array, this.Sd = new Uint32Array, ha = Fa = 0; ha <= pa; ++ha) { if (this.Xu[ha] = Fa, ha < this.pg) { var zb = this.u.tb(); if (0 !== zb) for (Va = 0; Va < zb; ++Va, ++Fa)this.mv[Fa] = Math.floor((this.u.Ca() + 1) * ab) / wb, this.Sd[Fa] = this.u.Ca() } } else if (1 === this.version) for (Va = this.u.fva(this.pg, 10, !1), this.u.offset += 4, this.Sd = this.u.VA(this.pg, 10, !1), this.u.offset -= 8, this.mv = H.from(Uint16Array, { length: this.pg }, function () { var Fb = Math.floor((this.u.Ca() + 1) * ab) / wb; this.u.offset += 6; return Fb }, this),
                            Fa = ha = 0; ha <= pa; ++ha) { for (; Fa < Va.length && Va[Fa] < ha;)++Fa; this.Xu[ha] = Fa } this.mi = { Xu: this.Xu, mv: this.mv, Sd: this.Sd }; return !0
                    }; q.Ra = !0; q.prototype = Object.create(c.prototype); q.prototype.constructor = q; p.Ra = !0; p.prototype = Object.create(c.prototype); p.prototype.constructor = p; p.prototype.ku = function () { var ha = this.Yh("tfhd"); ha && (this.hk = ha.XT ? ha.hk : this.parent.startOffset); return !0 }; t.Ra = !1; t.prototype = new L; t.prototype.constructor = t; t.prototype.parse = function () {
                        var ha = this.u.offset; this.zc(); if (1 === this.version) {
                            this.u.console.trace("translating vpcC box to draft equivalent");
                            this.u.offset += 2; for (var pa = this.u.offset, Fa = this.u.tb(), Va = this.u.tb(), ab = this.u.tb(), wb = this.u.tb(), zb = this.u.ad(), Fb = [], Lb = 0; Lb < zb; ++Lb)Fb = this.u.tb(); Lb = (Fa & 240) >>> 4; var Db = (Fa & 14) >>> 1; Fa &= 1; ab = 16 === ab ? 1 : 0; Va != wb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Va + " and matrixCoefficients " + wb + " should be the same value!"); wb = 2; switch (Va) { case 1: wb = 2; break; case 6: wb = 1; break; case 9: wb = 5; break; default: this.u.console.warn("VP9: Unknown colourPrimaries " + Va + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)") }this.version =
                                0; this.oa.zB(this.version, ha); this.oa.zB(Lb << 4 | wb, pa++); this.oa.zB(Db << 4 | ab << 1 | Fa, pa++); zb += 2; Fb.push(0, 0); this.oa.nza(zb, !1); pa += 2; Fb.forEach(function (Jb) { this.oa.zB(Jb, pa++) })
                        } return !0
                    }; w.Ra = !1; w.prototype = new L; w.prototype.constructor = w; w.ac = "tfhd"; Object.defineProperties(w.prototype, { XT: { get: function () { return this.flags & 1 } }, jwa: { get: function () { return this.flags & 2 } }, Nla: { get: function () { return this.flags & 8 } }, Qla: { get: function () { return this.flags & 16 } }, Ola: { get: function () { return this.flags & 32 } } });
                    w.prototype.parse = function () { this.zc(); this.GJ = this.u.Ca(); this.hk = this.XT ? this.u.Vd() : void 0; this.jwa && this.u.Ca(); this.uz = this.Nla ? this.u.Ca() : void 0; this.wz = this.Qla ? this.u.Ca() : void 0; this.vz = this.Ola ? this.u.Ca() : void 0; return !0 }; v.Ra = !1; v.prototype = new L; v.prototype.constructor = v; v.prototype.parse = function () { this.zc(); this.az = 1 === this.version ? this.u.Vd() : this.u.Ca(); return !0 }; v.prototype.za = function (ha) {
                        var pa = this.startOffset + 12; this.az += ha; 1 === this.version ? this.oa.oza(this.az, pa) : this.oa.fh(this.az,
                            pa)
                    }; x.Ra = !1; x.prototype = new L; x.prototype.constructor = x; Object.defineProperties(x.prototype, { FU: { get: function () { return this.flags & 1 } }, jH: { get: function () { return this.flags & 4 } }, bB: { get: function () { return this.flags & 256 } }, cB: { get: function () { return this.flags & 512 } }, XY: { get: function () { return this.flags & 1024 } }, UI: { get: function () { return this.flags & 2048 } } }); x.prototype.parse = function () {
                        this.zc(); this.aU = this.u.offset; this.Ob = this.u.Ca(); this.lk = this.FU ? this.u.GI() : 0; this.jH && this.u.Ca(); this.kv = (this.bB ?
                            4 : 0) + (this.cB ? 4 : 0) + (this.XY ? 4 : 0) + (this.UI ? 4 : 0); this.Jz = this.u.offset; G(this.FU, "Expected data offset to be present in Track Run"); G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.kv, "Expected remaining data in box to be sample information"); return !0
                    }; x.prototype.Et = function (ha, pa, Fa) {
                        var Va = this.bB ? this.u.Ca() : ha.uz, ab = this.cB ? this.u.Ca() : ha.wz; ha = this.XY ? this.u.Ca() : ha.vz; var wb = 0 === this.version ? this.UI ? this.u.Ca() : 0 : this.UI ? this.u.GI() : 0; return {
                            iwa: wb, jZb: ha, hWb: Fa + wb - (void 0 !== pa ?
                                pa : wb), Ek: ab, nv: Va
                        }
                    }; x.prototype.za = function (ha, pa, Fa, Va, ab, wb, zb) {
                        var Fb = 0, Lb = 0; this.oa.offset = this.Jz; for (Va = 0; Va < ab; ++Va) { var Db = this.Et(pa, Jb, Lb); if (0 == Va) var Jb = Db.iwa; Fb += Db.Ek; Lb += Db.nv } Va = ab; ab = this.u.offset; Db = this.Et(pa, Jb, Lb); this.Vq = Va; this.qxa = Lb; if (zb) { if (this.Nq = this.lk + Fb, this.fj = 0, Va === this.Ob) return !0 } else if (this.Nq = this.lk, this.fj = Fb, 0 === Va) return !0; if (0 === Va || Va === this.Ob) return !1; this.Cz = !0; if (zb) {
                            this.fj += Db.Ek; for (zb = Va + 1; zb < this.Ob; ++zb)Db = this.Et(pa, Jb, Lb), this.fj += Db.Ek;
                            this.oa.offset = this.aU; this.Ob = Va; this.oa.fh(this.Ob); this.oa.QJ(wb); this.jH && (this.u.offset += 4); this.Ke(this.length - (ab - this.startOffset), ab)
                        } else pa = ab - this.Jz, this.oa.offset = this.aU, this.Ob -= Va, this.oa.fh(this.Ob), this.lk += Fb, this.oa.QJ(wb, this.lk), this.jH && (this.u.offset += 4), this.Ke(pa, this.oa.offset); Fa.Ke(this.fj, ha.hk + this.Nq); return !0
                    }; x.prototype.Nva = function (ha, pa, Fa, Va, ab, wb) {
                        if (Va) {
                            Va = this.Nq; for (var zb = this.Ob - 1; 0 <= zb && this.Ob - zb <= ab; --zb) {
                                this.oa.offset = this.Jz + zb * this.kv; var Fb = this.Et(pa);
                                if (Fb.nv != wb.duration) { this.u.console.warn("Could not replace sample of duration " + Fb.nv + " with silence of duration " + wb.duration); break } if (this.cB) this.oa.offset -= this.kv - (this.bB ? 4 : 0), this.oa.fh(wb.Ik.byteLength); else if (wb.Ik.byteLength !== Fb.Ek) { this.u.console.warn("Cannot replace sample with default size with silence of different size"); break } Va -= Fb.Ek; Fa.jv(Fb.Ek, wb.Ik, ha.hk + Va)
                            }
                        } else for (Va = this.Nq + this.fj, zb = 0; zb < this.Ob && zb < ab; ++zb) {
                            this.oa.offset = this.Jz + (zb + this.Vq) * this.kv; Fb = this.Et(pa);
                            if (Fb.nv != wb.duration) { this.u.console.warn("Could not replace sample of duration " + Fb.nv + " with silence of duration " + wb.duration); break } if (this.cB) this.oa.offset -= this.kv - (this.bB ? 4 : 0), this.oa.fh(wb.Ik.byteLength); else if (wb.Ik.byteLength !== Fb.Ek) { this.u.console.warn("Cannot replace sample with default size with silence of different size"); break } Fa.jv(Fb.Ek, wb.Ik, ha.hk + Va); Va += Fb.Ek
                        }
                    }; y.Ra = !1; y.prototype = Object.create(L.prototype); y.prototype.constructor = y; Object.defineProperties(y.prototype, {
                        xn: {
                            get: function () {
                                return this.flags &
                                    1
                            }
                        }
                    }); y.prototype.parse = function () { this.zc(); this.xn && this.u.Pl(); this.xn && this.u.Ca(); this.Pla = this.u.tb(); this.Ob = this.u.Ca(); this.u.WA(this.Ob); return !0 }; y.prototype.za = function (ha, pa) { if (ha && 0 === this.Pla) { ha = pa ? this.Ob - ha : ha; this.oa.offset = this.startOffset + 13 + (this.xn ? 8 : 0); this.Ob -= ha; this.oa.fh(this.Ob); this.SI = 0; if (pa) this.oa.offset += this.Ob; else { for (pa = 0; pa < ha; ++pa)this.SI += this.oa.tb(); this.oa.offset -= ha } this.Ke(ha, this.u.offset) } return !0 }; z.Ra = !1; z.prototype = Object.create(L.prototype); z.prototype.constructor =
                        z; Object.defineProperties(z.prototype, { xn: { get: function () { return this.flags & 1 } } }); z.prototype.parse = function () { this.zc(); this.xn && this.u.Pl(); this.xn && this.u.Ca(); this.pg = this.u.Ca(); G(1 === this.pg, "Expected a single entry in Sample Auxiliary Information Offsets box"); this.lk = 0 === this.version ? this.u.GI() : this.u.nva(); return !0 }; z.prototype.za = function (ha, pa) { this.lk += ha; this.oa.offset = this.startOffset + 16 + (this.xn ? 8 : 0) + (0 === this.version ? 0 : 4); this.oa.QJ(pa, this.lk); return !0 }; A.Ra = !1; A.prototype = Object.create(L.prototype);
                    A.prototype.constructor = A; Object.defineProperties(A.prototype, { VX: { get: function () { return this.flags & 1 } }, Yya: { get: function () { return this.flags & 2 } } }); A.prototype.parse = function () { this.zc(); this.VX && (this.u.Ca(), this.u.WA(16)); this.Ob = this.u.Ca(); return !0 }; A.prototype.za = function (ha, pa) {
                        var Fa = pa ? this.Ob - ha : ha; this.oa.offset = this.startOffset + 28 + (this.VX ? 20 : 0); this.Ob -= Fa; this.oa.fh(this.Ob); ha = this.oa.offset; if (this.Yya) for (Fa = pa ? this.Ob : Fa; 0 < Fa; --Fa) {
                            this.oa.offset += 8; var Va = this.oa.ad(); this.oa.offset +=
                                6 * Va
                        } else this.oa.offset += 8 * (pa ? this.Ob : Fa); pa ? this.Ke(this.length - (this.u.offset - this.startOffset), this.u.offset) : this.Ke(this.u.offset - ha, ha)
                    }; B.Ra = !1; B.prototype = Object.create(L.prototype); B.prototype.constructor = B; B.prototype.parse = function () { this.zc(); return !0 }; B.prototype.za = function (ha, pa, Fa) { Fa ? this.Ke(pa - ha, this.startOffset + 12 + ha) : this.Ke(ha, this.startOffset + 12); return !0 }; E.Ra = !1; E.prototype = Object.create(L.prototype); E.prototype.constructor = E; E.prototype.parse = function () {
                        this.zc(); this.u.Pl();
                        1 === this.version && this.u.Ca(); this.pg = this.u.Ca(); this.ov = []; for (var ha = 0; ha < this.pg; ++ha)for (var pa = this.u.Ca(), Fa = this.u.Ca(), Va = 0; Va < pa; ++Va)this.ov.push(Fa); return !0
                    }; E.prototype.za = function (ha, pa) {
                        this.ov = pa ? this.ov.slice(0, ha) : this.ov.slice(ha); ha = this.ov.reduce(function (Fa, Va) { 0 !== Fa.length && Fa[Fa.length - 1].group === Va || Fa.push({ group: Va, count: 0 }); ++Fa[Fa.length - 1].count; return Fa }, []); this.oa.offset = this.startOffset + 16 + (1 === this.version ? 4 : 0); this.oa.fh(ha.length); ha.forEach(function (Fa) {
                            this.oa.fh(Fa.count);
                            this.oa.fh(Fa.group)
                        }.bind(this)); this.pg > ha.length && this.Ke(8 * (this.pg - ha.length)); this.pg = ha.length; return !0
                    }; D.Ra = !1; D.prototype = Object.create(L.prototype); D.prototype.constructor = D; na = { Ya: { moov: f, trak: c, mdia: c, mdhd: k, minf: c, encv: na, schi: c, sidx: m, sinf: c, stbl: c, tenc: h, mvex: c, moof: q, traf: p, tfhd: w, trun: x, sbgp: E, sdtp: B, saiz: y, saio: z, tfdt: v, mdat: D, vmaf: g }, kya: { vpcC: t, SmDm: u("smdm"), CoLL: u("coll") }, XZ: { schm: ca }, TI: {} }; F([ua, M, O, P, aa, La, Ua, N, K, Wa, Pa, I, S, J, Q, a], na.Ya); F([U, ia, X, ra, T, R, Z, ya, Za, $a], na.TI);
                    F([ua, ca], na.XZ); na.Ya[b.SR] = h; na.Ya[b.ey] = l; na.Ya[b.dy] = n; na.Ya[b.RR] = A; na.TI[b.nF] = cb; na.Ec = L; r.exports = { Cq: na }
                }, function (r, b) {
                    function a(c, f) { if ("number" !== typeof c || "number" !== typeof f) c = !1; else if (c && f) { var k = Math, m = k.abs, g, d = Math.abs(c); for (g = Math.abs(f); g;) { var h = g; g = d % g; d = h } c = m.call(k, c * f / d) } else c = 0; return c } Object.defineProperty(b, "__esModule", { value: !0 }); r = function () {
                        function c(f, k) { "object" === typeof f ? (this.oc = f.qc, this.ob = f.W) : (this.oc = f, this.ob = k) } c.Na = function (f) { return new c(f, 1E3) };
                        c.QZ = function (f, k) { return Math.floor(1E3 * f / k) }; c.Qsa = function (f, k) { return Math.floor(f * k / 1E3) }; c.max = function () { for (var f = [], k = 0; k < arguments.length; k++)f[k] = arguments[k]; return f.reduce(function (m, g) { return m.greaterThan(g) ? m : g }) }; c.min = function () { for (var f = [], k = 0; k < arguments.length; k++)f[k] = arguments[k]; return f.reduce(function (m, g) { return m.lessThan(g) ? m : g }) }; Object.defineProperties(c.prototype, { qc: { get: function () { return this.oc }, enumerable: !0, configurable: !0 } }); Object.defineProperties(c.prototype,
                            { W: { get: function () { return this.ob }, enumerable: !0, configurable: !0 } }); Object.defineProperties(c.prototype, { T: { get: function () { return 1E3 * this.oc / this.ob }, enumerable: !0, configurable: !0 } }); Object.defineProperties(c.prototype, { vg: { get: function () { return this.oc / this.ob }, enumerable: !0, configurable: !0 } }); c.prototype.dg = function (f) { f /= this.W; return new c(Math.floor(this.qc * f), Math.floor(this.W * f)) }; c.prototype.add = function (f) { if (this.W === f.W) return new c(this.qc + f.qc, this.W); var k = a(this.W, f.W); return this.dg(k).add(f.dg(k)) };
                        c.prototype.Ja = function (f) { return this.add(new c(-f.qc, f.W)) }; c.prototype.jI = function (f) { return new c(this.qc * f, this.W) }; c.prototype.Hl = function (f) { if (this.W === f.W) return this.qc / f.qc; var k = a(this.W, f.W); return this.dg(k).Hl(f.dg(k)) }; c.prototype.K6 = function (f) { return a(this.W, f) }; c.prototype.tva = function () { return new c(this.W, this.qc) }; c.prototype.compare = function (f, k) { if (this.W === k.W) return f(this.qc, k.qc); var m = a(this.W, k.W); return f(this.dg(m).qc, k.dg(m).qc) }; c.prototype.equal = function (f) {
                            return this.compare(function (k,
                                m) { return k === m }, f)
                        }; c.prototype.r9 = function (f) { return this.compare(function (k, m) { return k !== m }, f) }; c.prototype.lessThan = function (f) { return this.compare(function (k, m) { return k < m }, f) }; c.prototype.greaterThan = function (f) { return this.compare(function (k, m) { return k > m }, f) }; c.prototype.XN = function (f) { return this.compare(function (k, m) { return k <= m }, f) }; c.prototype.Zr = function (f) { return this.compare(function (k, m) { return k >= m }, f) }; c.prototype.toJSON = function () { return { ticks: this.qc, timescale: this.W } }; c.prototype.toString =
                            function () { return this.qc + "/" + this.W }; c.cb = new c(0, 1); c.nx = new c(1, 1E3); return c
                    }(); b.O = r
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.u.offset += 6; this.u.ad(); return !0 }; return k }(a(36).Ec); b.default = r }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r = a(2); r.__exportStar(a(146), b); r.__exportStar(a(232), b); r.__exportStar(a(233),
                        b); r.__exportStar(a(234), b); r = a(233); var c = a(234); a = a(232); b.gq = { 3: a.YQ, 4: r.SQ, 5: c.Ica }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.u.ad(); var m = this.u.tb(); this.Exa = !!(m & 128); this.Efa = !!(m & 64); this.hea = !!(m & 32); this.Exa && this.u.ad(); this.Efa && this.u.WA(this.u.tb()); this.hea && this.u.ad(); this.gT(); return !0 }; k.tag = 3; return k }(a(146).TE); b.YQ =
                        r
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.pta = this.u.tb(); this.j1b = this.u.tb() >>> 2; this.u.ad(); this.u.tb(); this.maxBitrate = this.u.Ca(); this.rja = this.u.Ca(); this.gT(); return !0 }; k.tag = 4; return k }(a(146).TE); b.SQ = r }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2); r = a(146); var f = a(231); a = function (k) {
                        function m() {
                            return null !==
                                k && k.apply(this, arguments) || this
                        } c.__extends(m, k); m.prototype.AY = function () { 15 !== this.u.yc(4) || this.u.yc(24) }; m.prototype.parse = function (g) {
                            if (this.uqa(g) && 64 === g.pta) switch (this.vn = this.yY(), this.AY(), this.u.yc(4), this.Nma = 5 === this.vn || 29 === this.vn ? 5 : -1, 0 < this.Nma && (this.AY(), this.vn = this.yY(), 22 === this.vn && this.u.yc(4)), this.vn) {
                                case 1: case 2: case 3: case 4: case 6: case 7: case 17: case 19: case 20: case 21: case 22: case 23: this.CV = this.u.yc(1), (this.Vla = this.u.yc(1)) && this.u.yc(14), this.u.yc(1), this.Kz =
                                    3 === this.vn ? 256 : 23 === this.vn ? this.CV ? 480 : 512 : this.CV ? 960 : 1024
                            }this.skip(); return !0
                        }; m.prototype.yY = function () { var g = this.u.yc(5); 31 === g && (g = 32 + this.u.yc(6)); return g }; m.prototype.uqa = function (g) { return g.tag === f.SQ.tag }; m.tag = 5; return m
                    }(r.TE); b.Ica = a
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.concat = function () {
                        for (var a = [], c = 0; c < arguments.length; c++)a[c] = arguments[c]; a = Array.prototype.concat.apply([], a); c = a.reduce(function (k, m) { return k + m.byteLength }, 0); var f = new Uint8Array(c);
                        a.reduce(function (k, m) { f.set(new Uint8Array(m), k); return k + m.byteLength }, 0); return f.buffer
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(380), f = a(228), k = a(381); r = function () {
                        function m(g, d, h) { this.console = g; this.stream = d; this.view = h instanceof ArrayBuffer ? new DataView(h) : new DataView(h.data, h.offset, h.length) } m.prototype.parse = function (g) {
                            var d = new k.TQ(this.view.byteLength); this.wc = new c.PE(f.Cq.Ya, d, this.view, this.console, { xI: !0 }); g = this.wc.parse(g); this.Ya = this.wc.Ya;
                            return g
                        }; return m
                    }(); b.qr = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.DB = void 0; r = a(44); a = a(103); var c = function () {
                        function f(k, m) { this.hC = k; this.dL = m.$a; this.Xv = m.wb } Object.defineProperties(f.prototype, { $a: { get: function () { return void 0 !== this.dL ? this.dL : this.hC.$a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { wb: { get: function () { return void 0 !== this.Xv ? this.Xv : this.hC.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, {
                            W: {
                                get: function () { return this.hC.W },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(f.prototype, { Ej: { get: function () { return this.hC.Ej }, enumerable: !1, configurable: !0 } }); f.prototype.jZ = function (k) { this.Xv = k }; f.prototype.xka = function () { this.Xv = void 0 }; return f
                    }(); b.DB = c; r.zf(a.Sx, c); r.zf(a.CB, c)
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.DFa = b.hfa = void 0; var a = function () {
                        function f() { var k = this; this.jT = []; this.cYb = function (m) { m = k.jT.indexOf(m); 0 <= m && k.jT.splice(m, 1) } } Object.defineProperties(f.prototype,
                            { Wy: { get: function () { return 0 !== this.jT.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { E5a: { get: function () { return this.jT.length }, enumerable: !1, configurable: !0 } }); f.prototype.add = function () { var k = new c(this.cYb); this.jT.push(k); return k }; f.prototype.lza = function (k) { var m = this.add(); try { return Promise.resolve(k()).then(function (g) { m.release(); return g }, function (g) { m.release(); return Promise.reject(g) }) } catch (g) { return m.release(), Promise.reject(g) } }; return f
                    }(); b.hfa =
                        a; var c = function () { function f(k) { this.Hqb = k } f.prototype.release = function () { this.Hqb(this) }; return f }(); r = function () { function f(k, m) { this.CTb = k; this.console = m; this.counter = new a } f.prototype.Qy = function () { var k = this; this.console.trace("Acquiring lease, total count", this.counter.E5a + 1); var m = this.counter.add(); return { release: function () { m.release(); k.console.trace("Releasing lease, total count", k.counter.E5a); k.CTb(function () { return !k.counter.Wy }) } } }; return f }(); b.DFa = r
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.BQ = void 0; var c = a(2); r = c.__importDefault(a(124)); var f = a(119), k = a(171); a = function (m) { function g(d, h, l, n, q, p, u) { h = m.call(this, d, h, l, n, q, p, u) || this; k.Bv.Ab(h, d, n); return h } c.__extends(g, m); return g }(f.H_); b.BQ = a; r.default(k.Bv.prototype, a.prototype)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.UJ = void 0; var c = a(2), f = c.__importDefault(a(27)), k = c.__importDefault(a(6)); r = function (m) {
                        function g(d, h, l, n, q) {
                            var p = m.call(this, l) || this; p.y3 = !1; g.Ab(p, d, h,
                                l, n, q); return p
                        } c.__extends(g, m); g.Ab = function (d, h, l, n, q, p) { d.bf = n; d.PY = h; d.gf = q; d.XOa = h.location || l.location; d.mT = h.Pc || l.Md; d.Jwa = h.Jwa || l.Jwa; d.Maa = k.default.time.fa(); d.I = p }; Object.defineProperties(g.prototype, { console: { get: function () { return this.I }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { location: { get: function () { return this.XOa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Md: { get: function () { return this.mT }, enumerable: !1, configurable: !0 } });
                        g.prototype.Ab = function (d) { this.Ua = d }; g.prototype.Vwa = function (d, h) { this.XOa = d; this.mT = h }; g.prototype.Iha = function (d) { var h = { type: "logdata", target: "endplay", fields: {} }, l = this.mediaType === f.default.Wa.$b ? "audioedit" : "videoedit", n = [this.nN === this.Z ? this.Lc : this.od, this.nN === this.Z ? -this.duration : this.duration]; d && d.pE && n.push(d.pE); h.fields[l] = { type: "array", value: n }; return h }; g.prototype.Lya = function () {
                            if (this.complete) return 0; var d = this.PY, h = d.P; return d.url ? this.url === d.url || (h.Vwa(this, d.location,
                                d.Pc), this.Faa(d.url)) ? 0 : (this.I.warn("swapUrl failed: ", this.gN), 2) : (this.I.warn("updateurl, missing url for streamId:", d.Ta, "mediaRequest:", this, "stream:", d), 1)
                        }; return g
                    }(a(84).Av); b.UJ = r
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); a(2).__exportStar(a(811), b) }, function (r, b, a) {
                    function c(p) { return p.Ja(g.O.Na(p.RI)) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.pca = b.Ru = void 0; var f = a(2); r = a(19); var k = f.__importDefault(a(27)), m = f.__importDefault(a(6)), g = a(22), d = a(5),
                        h = a(812), l = a(119), n = a(67), q = a(26); b.Ru = c; a = function (p) {
                            function u(t, w, v, x, y, z, A, B, E) { var D, F = p.call(this) || this; F.I = t; F.Sg = w; F.hg = v; F.sd = x; F.J = y; F.Ipb = z; F.X = A; F.nw = B; F.wh = E; F.zQa = !1; F.gOa = !1; F.Sk = F.I.error.bind(F.I); F.Xb = F.I.warn.bind(F.I); F.sn = F.I.trace.bind(F.I); null === (D = x.events) || void 0 === D ? void 0 : D.addListener("ready", function () { F.Vv() }); F.m4a = new h.nHa(F.J, F.Sg, F.hg.Sc, F.I); F.reset(); return F } f.__extends(u, p); Object.defineProperties(u.prototype, {
                                endOfStream: {
                                    get: function () { return this.DS },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(u.prototype, { Y3: { get: function () { return this.sd ? this.sd.Y3 : -1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { u5b: { get: function () { return this.gm.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { YNb: { get: function () { return this.Zj }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { Uab: { get: function () { return !!this.sd.$Db }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype,
                                { nB: { get: function () { return !!this.sd.reset }, enumerable: !1, configurable: !0 } }); u.prototype.reset = function (t) { var w, v, x; null === (w = this.qPa) || void 0 === w ? void 0 : w.Jb(); this.bk = !1; t || (this.gm = []); this.Zj = this.Kga = this.wL = void 0; this.uga = !1; this.xL = void 0; this.DS = !1; this.eQa(g.O.cb); null === (x = (v = this.sd).reset) || void 0 === x ? void 0 : x.call(v); this.m4a.reset() }; u.prototype.XXa = function () { this.Kga = !0 }; u.prototype.pause = function () { this.bk = !0 }; u.prototype.resume = function () { this.bk = !1; this.Vv() }; u.prototype.Bz = function () {
                                    this.gOa =
                                        !0; this.bk || this.Vv()
                                }; u.prototype.oE = function (t) { this.zQa = t }; u.prototype.qoa = function () { var t; return null === (t = this.Zj) || void 0 === t ? void 0 : t.we }; u.prototype.Rtb = function (t) { if (this.J.BWa) { d.assert(t.Ua); var w = t.Ua.jb; d.assert(void 0 !== t.od); d.assert(void 0 !== w.Lc); if (t.od >= w.Lc) return } this.gm.push(t); this.Vv() }; u.prototype.Vs = function () { this.Vv() }; u.prototype.F$ = function (t) { t = this.gm.indexOf(t); -1 !== t && this.gm.splice(t, 1) }; u.prototype.p5a = function (t, w) {
                                    this.J.Ria && w && void 0 === this.Zj && this.DNa(t,
                                        0); this.Vv()
                                }; u.prototype.u9 = function (t) { var w = this, v; if (!this.DS && (this.DS = !0, this.Vv(), !this.Uab)) if (t && this.nw && this.J.OBb) { var x = g.O.Na(this.J.rbb); t = t.Ja(x); x = n.vba(this.nw, t, !0); t = x.Yq; x = x.promise; null === (v = this.qPa) || void 0 === v ? void 0 : v.Jb(); this.qPa = t; x.then(function () { w.DS && w.sd.endOfStream() }) } else this.sd.endOfStream() }; u.prototype.faa = function () { return JSON.stringify(this.gm) }; u.prototype.eQa = function (t) { var w; null !== (w = this.pQa) && void 0 !== w && w.equal(t) || (this.pQa = t, this.sd.L_b(t.qc, t.W)) };
                            u.prototype.Vv = function () {
                                var t, w = this.J; if (this.gm.length || this.Zj && !this.Zj.ff) if (!this.sd || !1 === this.sd.ready) this.FL("@" + m.default.time.fa() + ", append: not appending, sourceBuffer not ready"); else if (!this.Zj || this.Zj.ff || this.Zj.Du()) if (this.Zj && !this.Zj.ff || this.gm.length) if (this.bk) { var v = this.Zj && !this.Zj.ff ? this.Zj : this.gm[0]; this.FL("@" + m.default.time.fa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(v)) } else if ((!this.Zj || this.Zj.ff || (this.bOa(this.Zj), this.Zj.ff)) &&
                                    this.gm.length) if (v = this.gm[0], v.aborted) this.Xb("aborted MediaRequest should not appear in the toAppend list:", v.toString(), "complete:", v.complete), this.FL("@" + m.default.time.fa() + ", append: removing aborted request from toAppend: " + v.toString()), this.gm.shift(); else {
                                        var x = v.stream, y = x.P; if (x.Xg) if (this.a0b(x, v.index)) this.Kga = !1, this.DNa(x, v.index); else {
                                            var z = this.X.Uo(y); x = this.DLb(x); if (z || x || !this.uga && !w.tba) if (z = this.f_a(v), this.Sg !== k.default.Wa.$b || !v.zq && !v.Xw || !v.za || w.jE || this.DS || 1 !==
                                                this.gm.length || !(z > w.uX) || null !== (t = v.YI) && void 0 !== t && t.L7) { if (w.BWa || w.BDb) { t = v.Ua.jb; var A = this.$Bb(); if (A) { var B = t.$k, E = v.Lc >= A; z = z > w.uX; if (A < t.Lc && E && z && !B) return } } if (w.CUb && this.wh && (w = this.wh(y.Sb)) && !w.HT) this.pause(); else { this.uga || (this.uga = x); this.gm.shift(); try { this.Imb(v) } catch (D) { throw this.I.error(D), D; } } } else this.sZb()
                                        }
                                    }
                            }; u.prototype.sZb = function () { var t = this; this.nw && (this.Xqa ? this.Xqa.yMb || this.Xqa.Pm() : this.Xqa = this.nw.QG(function () { return t.NNb() }, "JIT Appender")) }; u.prototype.NNb =
                                function () { var t, w, v, x; return f.__generator(this, function (y) { switch (y.label) { case 0: if (1 !== this.gm.length) return [3, 3]; t = this.gm[0]; if (!t.zq && !t.Xw || (null === (x = t.YI) || void 0 === x ? 0 : x.L7)) return [2]; w = this.f_a(t); v = this.J.uX; return w > v ? [4, n.Pk.OJ(g.O.Na(w - v))] : [3, 2]; case 1: y.Ac(), y.label = 2; case 2: return this.Vv(), [3, 0]; case 3: return [2] } }) }; u.prototype.f_a = function (t) { return t.Ad - this.X.Ue() }; u.prototype.a0b = function (t, w) {
                                    if (this.Kga || void 0 === this.wL || t.Ta !== this.wL.Ta) return !0; t = t.Xg; d.assert(t); return 1 <
                                        t.length ? q.MRa(t, function (v) { return v.Cd <= w }) !== this.wL.x1a : !1
                                }; u.prototype.DLb = function (t) { if (0 === t.mediaType || !t.gl) return !0; if (void 0 === this.wL) return !1; if (!t.track.iX) return !t.gl; t = t.Xg; d.assert(t); return !1 === t[this.wL.x1a].cl }; u.prototype.$Bb = function () { throw Error("not supported"); }; u.prototype.DNa = function (t, w) {
                                    if (!this.zQa || this.gOa) {
                                        var v = t.Xg.reduce(function (x, y, z) { return y.Cd <= w ? z : x }, 0); if (this.sd.appendBuffer(t.Xg[v].data, { gd: !0, profile: t.profile, bitrate: t.bitrate, Ta: t.id })) this.FL("@" +
                                            m.default.time.fa() + ", header appended, streamId: " + t.Ta), this.wL = { Ta: t.Ta, x1a: v }, this.Pqb(t.P.Sb || 0, t.Ta, v), this.Vv(); else throw this.Xb("appendHeader error: " + this.sd.error), this.FL("@" + m.default.time.fa() + ", appendHeader error: " + this.sd.error), Error("appendHeaderError");
                                    }
                                }; u.prototype.Imb = function (t) {
                                    var w, v, x = t.Vua || g.O.cb, y = t.Ua.jb.H; y.Ka && Infinity !== y.Ka && (x = (new g.O(y.Ka, 1E3)).add(x).vg, Infinity === this.hg.duration || this.hg.duration < x) && (this.hg.duration = x); x = void 0 !== t.tv ? g.O.Na(t.tv).add(t.Vua) :
                                        void 0; y = null === (w = this.gm[0]) || void 0 === w ? void 0 : w.Mg; w = { endOfStream: this.endOfStream || !(null === (v = t.YI) || void 0 === v || !v.L7), H8: x, BX: y }; v = this.m4a.append(t, w); this.eQa(v); this.bOa(t)
                                }; u.prototype.bOa = function (t) {
                                    var w, v, x, y = t.vG(this.sd, this.hg.Sc, this.Zj), z = y.status; (y = y.vk) && this.emit(y.type, y); z !== l.Mj.Rf ? (this.Zj = t, z === l.Mj.ft && (void 0 === this.xL || this.Sg !== k.default.Wa.$b || t.Mg.equal(this.xL) || (this.Kqb(t, this.xL), this.xL = void 0), this.FL("@" + m.default.time.fa() + ", request appended, type: " + t.mediaType +
                                        ", streamId: " + t.Ta + ", pts: " + t.Ad + "-" + t.we), t.zq || t.Xw ? (this.xL = t.ze, this.bnb(t, this.pQa || g.O.cb), null === (v = (w = this.sd).$Db) || void 0 === v ? void 0 : v.call(w, t.YI), (null === (x = t.YI) || void 0 === x ? 0 : x.L7) && this.Ipb && this.u9(t.ze)) : this.xL = void 0, this.Qqb(t), this.Vv())) : this.Hmb(t)
                                }; u.prototype.Hmb = function (t) {
                                    if (void 0 !== this.sd.error) {
                                        if ("done" === this.sd.error) return; this.Sk("failure to append queued mediaRequest:", null === t || void 0 === t ? void 0 : t.toString(), "err:", JSON.stringify(this.sd.error)); throw this.sd.error;
                                    } t = Error("failure to append queued mediaRequest: " + (null === t || void 0 === t ? void 0 : t.toString()) + " err: " + this.sd.error); this.Sk(t.message); throw t;
                                }; u.prototype.bnb = function (t, w) { var v = t.stream.va, x = t.Qd; this.J.im && t.stream.xf && (x = x.Ja(t.stream.xf)); c(x.Ja(v)).add(c(v)).add(c(w)) }; u.prototype.Pqb = function (t, w, v) { t = { type: "headerAppended", mediaType: this.Sg, manifestIndex: t, streamId: w, isIndex: v }; this.emit(t.type, t) }; u.prototype.Qqb = function (t) {
                                    t = { type: "requestAppended", mediaType: this.Sg, request: t }; this.emit(t.type,
                                        t)
                                }; u.prototype.FL = function (t) { t = { type: "managerdebugevent", message: t }; this.emit(t.type, t) }; u.prototype.Kqb = function (t, w) { var v = t.od; t = t.Mg.Ja(w).T; v = { type: "logdata", target: "endplay", fields: { audiodisc: { type: "array", value: [v, t] } } }; this.emit(v.type, v) }; return u
                        }(r.EventEmitter); b.pca = a
                }, function (r, b, a) {
                    function c(k, m) { return k < m ? -1 : k > m ? 1 : 0 } Object.defineProperties(b, { __esModule: { value: !0 } }); b.V0 = void 0; var f = a(2); r = function () {
                        function k(m, g) {
                            this.data = null !== m && void 0 !== m ? m : []; this.compare = null !== g &&
                                void 0 !== g ? g : c; if (!this.empty) for (m = (this.length >> 1) - 1; 0 <= m; m--)this.wga(m)
                        } Object.defineProperties(k.prototype, { length: { get: function () { return this.data.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { empty: { get: function () { return 0 === this.data.length }, enumerable: !1, configurable: !0 } }); k.prototype.push = function (m) { this.data.push(m); this.cia(this.length - 1) }; k.prototype.pop = function () {
                            if (!this.empty) {
                                var m = this.data[0], g = this.data.pop(); this.empty || (this.data[0] = g, this.wga(0));
                                return m
                            }
                        }; k.prototype.ox = function () { return this.data[0] }; k.prototype.mWb = function (m) { m = this.data.indexOf(m); -1 !== m && this.cia(m) }; k.prototype.map = function (m) { return this.data.map(m) }; k.prototype.find = function (m) { return f.__read(this.data.filter(m), 1)[0] }; k.prototype.clear = function () { this.data = [] }; k.prototype.remove = function (m) { var g = this.data; m = g.indexOf(m); if (-1 !== m) { var d = g.pop(); if (m < g.length) { g[m] = d; var h = m - 1 >> 1; g = g[h]; 0 <= h && 0 > this.compare(d, g) ? this.cia(m) : this.wga(m) } } }; k.prototype.gub = function () {
                            for (var m =
                                this.data, g = 1; g < m.length; g++)if (0 > this.compare(m[g], m[g - 1 >> 1])) throw Error("Audit failed at position " + g + " of " + m);
                        }; k.prototype.contains = function (m) { return 0 <= this.data.indexOf(m) }; k.prototype.cia = function (m) { for (var g = this.data, d = this.compare, h = g[m], l, n; 0 < m;) { l = m - 1 >> 1; n = g[l]; if (0 <= d(h, n)) break; g[m] = n; m = l } g[m] = h }; k.prototype.wga = function (m) {
                            for (var g = this.data, d = this.compare, h = this.length >> 1, l = g[m], n, q, p; m < h;) {
                                n = (m << 1) + 1; p = g[n]; q = n + 1; q < this.length && 0 > d(g[q], p) && (n = q, p = g[q]); if (0 <= d(p, l)) break; g[m] =
                                    p; m = n
                            } g[m] = l
                        }; return k
                    }(); b.V0 = r
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.e$ = void 0; var c = a(17); b.e$ = function (f) { switch (f) { case c.sa.wd: f = c.Jc.wd; break; case c.sa.Tf: f = c.Jc.Tf; break; case c.sa.Fh: case c.sa.nj: case c.sa.wr: f = c.Jc.nj; break; default: f = c.Jc.oj }return f } }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.xK = void 0; var c = a(5), f = a(26); r = function () {
                        function k(m) { var g = this; void 0 === m && (m = []); this.items = m; m.forEach(function (d) { return g.Gya(d) }) }
                        Object.defineProperties(k.prototype, { length: { get: function () { return this.items.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { rY: { get: function () { var m; return null !== (m = this.video) && void 0 !== m ? m : this.audio }, enumerable: !1, configurable: !0 } }); k.prototype.get = function (m) { return 1 === m ? this.video : this.audio }; k.prototype.every = function (m) { return this.items.every(m) }; k.prototype.some = function (m) { return this.items.some(m) }; k.prototype.forEach = function (m) { this.items.forEach(m) };
                        k.prototype.find = function (m) { return f.re(this.items, m) }; k.prototype.reduce = function (m, g) { return this.items.reduce(m, g) }; k.prototype.filter = function (m) { return new k(this.items.filter(m)) }; k.prototype.replace = function (m, g) { var d = this.items.indexOf(m); c.assert(-1 < d); c.assert(m.mediaType === g.mediaType); this.items[d] = g; this.Gya(g) }; k.prototype.d_b = function (m, g) { (m = this.get(m)) ? this.replace(m, g) : this.add(g) }; k.prototype.add = function (m) { this.items.push(m); this.Gya(m) }; k.prototype.remove = function (m) {
                            var g =
                                this.items.indexOf(m); if (-1 === g) return !1; this.items.splice(g, 1); this.cxb(m.mediaType); return !0
                        }; k.prototype.clear = function () { this.items = []; this.audio = this.video = void 0 }; k.prototype.Gya = function (m) { 1 === m.mediaType ? this.video = m : this.audio = m }; k.prototype.cxb = function (m) { 1 === m ? this.video = void 0 : this.audio = void 0 }; return k
                    }(); b.xK = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.F_ = void 0; var c = a(2); a(5); r = a(44); var f = c.__importDefault(a(27)), k = c.__importDefault(a(124)), m = c.__importDefault(a(6)),
                        g = a(247), d = a(102), h = a(119), l = m.default.pr, n = a(835); a = c.__importDefault(a(836)); !1; m = function (q) {
                            function p(u, t, w, v, x, y, z, A) { var B = this; !1; B = ["cache", "edit"].filter(function (E, D) { return [x, w.za][D] }); B = B.length ? "(" + B.join(",") + ")" : ""; void 0 === w.responseType && (w.responseType = w.za || l.Sc && !l.Sc.UY.bS ? 0 : 1); B = q.call(this, u, t, B, w, v, y, z) || this; d.$m.Ab(B, u, w, A); return B } c.__extends(p, q); p.create = function (u, t, w, v, x, y, z, A) {
                                if (!t.dh && v.za && u.mediaType === f.default.Wa.Pb && l.Sc && l.Sc.UY.bS) return new n.Gza(u, w, v,
                                    x, y, t, z, A); if (v.fO && v.ea > v.fO) { var B = Math.ceil(v.ea / v.fO); y = v.offset; var E = v.ea; x = new g.LE(u, v, x, t, z, A); for (A = Math.ceil(v.ea / B); 0 < E;)B = { offset: y, ea: Math.min(E, A), responseType: v.responseType }, y += B.ea, E -= B.ea, x.push(new h.H_(u, w, "subrequest", B, x, t, z)); return x } return new p(u, w, v, x, y, t, z, A)
                            }; p.prototype.toString = function () { return "ID: " + this.wi() + ":" + d.$m.prototype.toString.call(this) }; p.prototype.toJSON = function () { return { ID: this.wi(), request: d.$m.prototype.toJSON.call(this) } }; return p
                        }(h.H_); b.F_ = m;
                    k.default(a.default, m.prototype); r.zf(d.$m, m, !1)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.LE = void 0; var c = a(2), f = a(5); r = a(44); var k = a(9), m = a(26), g = a(385), d = a(102), h = a(119); a = function (l) {
                        function n(q, p, u, t, w, v) { u = l.call(this, q, p, u, t, w) || this; d.$m.Ab(u, q, p, v); u.Qc = 0; u.za || u.Hk(); u.ff = !1; return u } c.__extends(n, l); Object.defineProperties(n.prototype, { gd: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); n.prototype.push = function (q) {
                            this.Qc += q.ea; l.prototype.push.call(this,
                                q)
                        }; n.prototype.Du = function () { var q; return !this.ff && !!this.Ga.length && !(null === (q = m.re(this.Ga, function (p) { return !p.ff })) || void 0 === q || !q.Du()) }; n.prototype.vG = function (q, p) { f.assert(!this.ff); var u = h.Mj.Djb, t = k.Aq(this); this.ff = this.Ga.every(function (w) { if (w.ff) return !0; if (!w.Du()) return !1; u = w.vG(q, p, void 0, t).status; return u === h.Mj.ft }); u !== h.Mj.ft || this.ff || (u = h.Mj.akb); return { status: u } }; n.prototype.OXb = function () { this.Ga.forEach(function (q) { q.GY() }) }; n.prototype.wi = function () {
                            return this.Ga ? this.Ga[0].wi() +
                                "-" + this.Ga[this.Ga.length - 1].wi() : "empty"
                        }; n.prototype.toString = function () { return "ID: " + this.wi() + ":" + d.$m.prototype.toString.call(this) + "(aggregate)" }; n.prototype.toJSON = function () { return { ID: this.wi(), request: l.prototype.toJSON.call(this) } }; return n
                    }(g.Yba); b.LE = a; r.zf(d.$m, a)
                }, function (r, b, a) {
                    function c(p, u) { return p.done ? p : { value: { value: p.value, EQa: u } } } function f(p) { p.EQa(); return { done: !1, value: p.value } } Object.defineProperties(b, { __esModule: { value: !0 } }); b.kub = b.llb = b.J_ = void 0; var k = a(2); r = a(19);
                    var m = a(148), g = a(21), d = k.__importDefault(a(6)), h = a(9), l = a(5); a = a(44); var n = function () {
                        function p(u, t) { this.console = u; this.eg = t; this.npb = this.AS = 0; this.Ag = []; this.console = h.Bq(d.default, this.console, "QueueIterator:") } Object.defineProperties(p.prototype, { WBb: { get: function () { return this.AS }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                            UTa: {
                                get: function () { var u, t; for (t = 0; t < this.Ag.length; t++) { var w = this.Ag[t]; if (!w.GW || (null === (u = w.item) || void 0 === u ? 0 : u.done)) break } return t },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(p.prototype, { count: { get: function () { return this.eg }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { jA: { get: function () { return 0 === this.eg }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Vva: { get: function () { var u; for (u = 0; u < this.Ag.length && this.Ag[u].Pqa; u++); return u }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                            head: {
                                get: function () {
                                    var u = k.__read(this.Ag, 1)[0]; return (u = u &&
                                        u.item) && !u.done && u.value
                                }, enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(p.prototype, { Xsa: { get: function () { var u; for (u = 0; u < this.Ag.length && this.Ag[u].GW; u++); return u }, enumerable: !1, configurable: !0 } }); p.prototype.t5 = function () { if (void 0 === this.eg) { var u = this.console; g.ia && u && u.trace("QueueIterator: enqueueEnd"); this.Eya(this.Xsa - (this.eg || 0)) } }; p.prototype.op = function () { return this.Ag.map(function (u) { return u.item }) }; p.prototype.Raa = function () {
                            this.Ef || (this.Ef = this.Ag.filter(function (u) {
                                return (null ===
                                    u || void 0 === u ? void 0 : u.item) && !u.item.done
                            }).map(function (u) { return u.item.value })); return this.Ef
                        }; p.prototype.Eya = function (u) { g.ia && this.console.trace("updateCount", { hec: this.eg, Ko: u }); if (void 0 !== this.eg) { var t = this.Ag[this.eg]; t && this.nqa(t) } this.eg = void 0 === this.eg ? u : void 0 === u ? u : this.eg + u; void 0 !== this.eg && (this.eg = Math.max(0, this.eg), (t = this.Ag[this.eg]) && t.NH.resolve({ done: !0 })) }; p.prototype.enqueue = function (u) {
                            g.ia && this.console.trace("Enqueue called"); var t = this.Xsa; this.o4(); return this.JWb(t,
                                { value: u, done: !1 }).FVa.promise
                        }; p.prototype.j9a = function () { g.ia && this.console.trace("resetEnd"); this.Eya(void 0) }; p.prototype.clear = function (u) { g.ia && this.console.trace("clear"); this.U7a(); var t = this.Vva, w = this.Ag.length - t; if (0 < w) { var v = { index: t, lta: w }; g.ia && this.console.trace("Removing items", v); this.Ag.splice(t, w); this.o4(); this.emit("onRemoved", v) } for (w = 1; w < t; w++)this.nqa(this.Ag[w]); this.eg = void 0; this.Eya(u ? u + t : u); this.AS && (this.AS = 0) }; p.prototype.getIterator = function () {
                            var u = this, t = h.Bq(d.default,
                                this.console, "QueueIteratorInstance::"); return new q(this, function (w) { return u.OZa(w) }, t)
                        }; p.prototype.IM = function () { if (0 < this.Vva) { var u = k.__read(this.Ag, 1)[0]; if (u.GW) return g.ia && this.console.trace("dequeue", u.id), this.U7a(1), this.emit("onDequeue", u.NH.promise) } }; p.prototype.remove = function (u) {
                            var t; for (t = 0; t < this.Ag.length; t++) {
                                var w = this.Ag[t], v = w.item; if (v && !v.done && v.value === u) {
                                    this.Ag.splice(t, 1); this.eg && this.eg > t && this.eg--; this.o4(); g.ia && this.console.trace("removed", { id: w.id }); this.emit("onRemoved",
                                        { index: t, lta: 1 }); break
                                }
                            }
                        }; p.prototype.U7a = function (u) { u = u || Math.min(this.Vva, this.Xsa); if (0 < u) { var t = this.Ag.splice(0, u); this.o4(); this.eg && (this.eg -= u); g.ia && this.console.trace("pruned", u); Promise.resolve().then(function () { t.forEach(function (w) { w.FVa.resolve() }) }); this.emit("onRemoved", { index: 0, lta: u }); this.AS += u } }; p.prototype.OZa = function (u) {
                            g.ia && this.console.trace("getNextItemCalled", { offset: u }); if (void 0 === this.count || 0 < this.count) {
                                this.S0a(u); var t = this.Ag[u]; t.CYb.resolve(); u = t.NH.promise;
                                g.ia && this.console.trace("getNextItem:return", { id: t.id })
                            } else g.ia && this.console.trace("getNextItem:returnDone"), u = Promise.resolve({ done: !0 }); return u
                        }; p.prototype.JWb = function (u, t) { var w = !t.done && t.value; w = w && w.toJSON ? w.toJSON() : w; g.ia && this.console.trace("Providing result", { wtb: u, item: w }); this.S0a(u); u = this.Ag[u]; w = u.NH.resolve; w(t); return u }; p.prototype.S0a = function (u) {
                            if (void 0 === this.Ag[u]) {
                                var t = {}; this.nqa(t); this.Ag[u] = t; u === this.eg && t.NH.resolve({ done: !0 }); g.ia && this.console.trace("Item initialized",
                                    { wtb: u })
                            }
                        }; p.prototype.lla = function (u) { var t = {}; t.promise = new Promise(function (w, v) { t.resolve = function (x) { w(x); u && u(x) }; t.reject = v }); return t }; p.prototype.nqa = function (u) {
                            var t = this; u.NH = this.lla(function (w) { u.item = w; u.GW = !0; g.ia && t.console.trace("Item resolved", { id: u.id }) }); u.id && u.Pqa && !u.GW && (u.NH.resolve({ done: !0 }), g.ia && this.console.warn("Overwriting requested queue item", u.id)); u.FVa = this.lla(); u.CYb = this.lla(function () { u.Pqa = !0; g.ia && t.console.trace("Item requested", { id: u.id }) }); u.id = this.npb++;
                            u.Pqa = !1; u.GW = !1; u.item = void 0
                        }; p.prototype.o4 = function () { this.Ef = void 0 }; p.prototype.CGb = function () { var u = this, t = h.Bq(d.default, this.console, "QueueIteratorInstance::"), w = new q(this, function (v) { if (0 === u.count) return m.AsyncIterator.dpa(); var x = u.OZa(v), y = u.Ag[0]; return x.then(function (z) { return c(z, function () { w.PN || (y === u.Ag[0] ? u.IM() : l.assert(!u.Ag.filter(function (A) { return A.NH.promise === x }).length, "Out of order acknowledgements are not supported")) }) }) }, t); return w }; return p
                    }(); b.J_ = n; a.zf(r.EventEmitter,
                        n); var q = function (p) {
                            function u(t, w, v) { var x = p.call(this, function () { g.ia && x.console.trace("Next item requested", { index: x.index }); return x.$Yb(x.index++) }) || this; x.parent = t; x.$Yb = w; x.console = v; x.tL = !1; x.index = 0; x.Uga = !1; x.O5a = function (y) { var z = y.index; y = y.lta; x.index >= z && (x.index = Math.max(z, x.index - y)); z = x.console; g.ia && z && z.trace("QueueIteratorInstance: onRemoved modified", x.index) }; return x } k.__extends(u, p); u.prototype.Lh = function () { this.console.trace("disposed"); this.tL = !0; this.md(); p.prototype.Lh.call(this) };
                            u.prototype.next = function () { this.PN || this.ON(); return p.prototype.next.call(this) }; u.prototype.cancel = function () { this.md(); return p.prototype.cancel.call(this) }; u.prototype.md = function () { this.parent.IA("onRemoved", this.O5a); this.Uga = !1 }; u.prototype.ON = function () { this.Uga || (this.Uga = !0, this.parent.on("onRemoved", this.O5a)) }; return u
                        }(m.AsyncIterator); b.llb = q; b.kub = function (p) { return m.map(p, f) }
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); a(2).__exportStar(a(842), b) }, function (r,
                    b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.WJ = void 0; var c = a(251); !1; r = function () { function f(k, m) { this.config = k; this.dO = m; this.jja = null; !1 } f.prototype.QVa = function (k, m) { var g = null === this.jja ? k * (100 - this.config.Kaa) / 100 : c.Tia(k, this.jja); m = null !== m && void 0 !== m ? m : this.dO; this.config.wra && m ? (k = c.Tia(k, m), k = Math.max(k, g)) : k = g; return k }; f.prototype.AP = function (k) { this.jja = k }; f.prototype.Cya = function (k) { this.config = k }; return f }(); b.WJ = r }, function (r, b, a) {
                        Object.defineProperties(b, { __esModule: { value: !0 } });
                        b.Tia = b.fE = b.fXa = void 0; var c = a(2).__importDefault(a(117)).default.gXa; b.fXa = function (f, k, m) { var g = 0; if (m) { var d, h; f.some(function (l) { var n = l.b; l = l.m; if (k <= n) return g = h && n !== d ? h + (l - h) / (n - d) * (k - d) : l, !0; d = n; g = h = l; return !1 }) } else f.some(function (l) { g = l.m; return k <= l.b }); return g }; b.fE = function (f, k, m) { var g; k = (null === (g = k.Sa) || void 0 === g ? void 0 : g.Ha) || 0; return f.yub ? (f = c(f.xub, m.Yk - m.Cc, 1), k * (1 - f)) : k * f.Kaa / 100 }; b.Tia = function (f, k) { return f < 2 * k ? f / 2 : f - k }
                    }, function (r, b, a) {
                        function c() { } function f(d, h) {
                            this.Dl =
                                d; void 0 !== h ? (g(h <= d.Qm, "require remain_sec <= chunk.sec but has " + h + " and " + d.Qm), this.ml = h) : this.ml = d.Qm
                        } function k(d) { var h; void 0 === d && (d = []); this.As = []; this.Ch = this.Ul = 0; try { for (var l = m.__values(d), n = l.next(); !n.done; n = l.next())this.add(n.value, void 0) } catch (p) { var q = { error: p } } finally { try { n && !n.done && (h = l.return) && h.call(l) } finally { if (q) throw q.error; } } } var m = a(2), g = a(5).assert; c.prototype = Error(); f.prototype.constructor = f; f.prototype.Xt = function () { return new f(this.Dl, this.ml) }; k.prototype.constructor =
                            k; k.prototype.add = function (d, h) { d = new f(d, h); this.As.push(d); this.Ch += d.ml; this.Ul += d.Dl.Wz() * d.ml }; k.prototype.Xt = function () { var d, h = new k(void 0); try { for (var l = m.__values(this.As), n = l.next(); !n.done; n = l.next()) { var q = n.value; h.add(q.Dl, q.ml) } } catch (u) { var p = { error: u } } finally { try { n && !n.done && (d = l.return) && d.call(l) } finally { if (p) throw p.error; } } return h }; k.prototype.vu = function () { try { return this.As[0] } catch (d) { } }; k.prototype.a7a = function (d) {
                                for (g(0 <= d, "unexpected play_for_x_sec: x=" + d); 0 < d;) {
                                    if (void 0 ===
                                        this.vu()) throw new c; if (d < this.vu().ml) { var h = this.vu().Dl.Wz() * d; this.vu().ml -= d; this.Ch -= d; this.Ul -= h; d = 0 } else h = this.As.shift(), this.Ch -= h.ml, this.Ul -= h.Dl.Wz() * h.ml, d -= h.ml
                                }
                            }; k.prototype.fVb = function (d) { g(0 <= d, "unexpected play_y_kb: y=" + d); for (var h = 0; 0 < d;) { if (void 0 === this.vu()) throw new c; if (d < this.vu().ml * this.vu().Dl.Wz()) { var l = d / this.vu().Dl.Wz(); this.vu().ml -= l; this.Ch -= l; this.Ul -= d; h += l; d = 0 } else l = this.As.shift(), this.Ch -= l.ml, this.Ul -= l.Dl.Wz() * l.ml, h += l.ml, d -= l.Dl.Wz() * l.ml } return h };
                        r.exports = { CAa: k, ifb: c }
                    }, function (r) {
                        function b() { throw Error("setTimeout has not been defined"); } function a() { throw Error("clearTimeout has not been defined"); } function c(t) { if (h === setTimeout) return setTimeout(t, 0); if ((h === b || !h) && setTimeout) return h = setTimeout, setTimeout(t, 0); try { return h(t, 0) } catch (w) { try { return h.call(null, t, 0) } catch (v) { return h.call(this, t, 0) } } } function f(t) {
                            if (l === clearTimeout) return clearTimeout(t); if ((l === a || !l) && clearTimeout) return l = clearTimeout, clearTimeout(t); try { return l(t) } catch (w) {
                                try {
                                    return l.call(null,
                                        t)
                                } catch (v) { return l.call(this, t) }
                            }
                        } function k() { q && p && (q = !1, p.length ? n = p.concat(n) : u = -1, n.length && m()) } function m() { if (!q) { var t = c(k); q = !0; for (var w = n.length; w;) { p = n; for (n = []; ++u < w;)p && p[u].Bx(); u = -1; w = n.length } p = null; q = !1; f(t) } } function g(t, w) { this.eGb = t; this.Xy = w } function d() { } r = r.exports = {}; var h = "function" === typeof setTimeout ? setTimeout : b, l = "function" === typeof clearTimeout ? clearTimeout : a, n = [], q = !1, p, u = -1; r.eec = function (t) {
                            var w = Array(arguments.length - 1); if (1 < arguments.length) for (var v = 1; v < arguments.length; v++)w[v -
                                1] = arguments[v]; n.push(new g(t, w)); 1 !== n.length || q || c(m)
                        }; g.prototype.Bx = function () { this.eGb.apply(null, this.Xy) }; r.title = "browser"; r.cbc = !0; r.$Wa = {}; r.Oac = []; r.version = ""; r.Lfc = {}; r.on = d; r.addListener = d; r.once = d; r.IA = d; r.removeListener = d; r.removeAllListeners = d; r.emit = d; r.mY = d; r.B7a = d; r.listeners = function () { return [] }; r.Zac = function () { throw Error("process.binding is not supported"); }; r.wbc = function () { return "/" }; r.kbc = function () { throw Error("process.chdir is not supported"); }; r.Dfc = function () { return 0 }
                    },
                function (r) {
                    r.exports = {
                        xGa: { code: -1, description: "MediaCache is not supported." }, o$b: { code: 100, description: "Resource was not found" }, Zib: { code: 101, description: "Resource Metadata was not found" }, FK: { code: 102, description: "Read failed", er: function (b, a) { return { code: this.code, description: b, cause: a } } }, R1: { code: 200, description: "Daily write limit exceeded" }, XJ: { code: 201, description: "Capacity has been exceeded" }, Q1: {
                            code: 202, description: "Write failed, cause unknown", er: function (b, a) {
                                return {
                                    code: this.code, description: b,
                                    cause: a
                                }
                            }
                        }, mac: { code: 203, description: "Write failed, cause unknown" }, ngb: { code: 300, description: "Failed to delete resource", er: function (b, a) { return { code: this.code, description: b, cause: a } } }, LB: { code: 900, description: "Invalid partition name" }, yib: { code: 700, description: "Invalid parition configuration, commitment exceeds capacity." }, UBa: { code: 701, description: "Failed to initialize underlying disk cache." }, Yib: { code: 800, description: 'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.' }
                    }
                },
                function (r) {
                    r.exports = {
                        E_a: function (b) { if (b && 0 !== b.length) { var a = []; b.forEach(function (c) { void 0 === c.error.code && (c.error.code = 0); void 0 === c.error.description && (c.error.description = "Unknown"); var f; a.forEach(function (k) { c.error && c.error.code == k.error.code && c.error.description === k.error.description && (f = k) }); f ? f.resources.push(c.Qq) : a.push({ error: c.error, resources: [c.Qq] }) }); return a } }, MYa: function (b) {
                            var a = { freeSize: b.In, dailyBytesRemaining: b.GM, bytesWritten: b.Wk, time: b.time, duration: b.duration }; b.items &&
                                (a.items = b.items.map(function (c) { return { key: c.key, operation: c.jl, itemBytes: c.Q7, error: c.error } })); return a
                        }, tx: function (b) { return b.catch(function (a) { setTimeout(function () { throw a; }, 0) }) }
                    }
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.rH = void 0; var c = a(2).__importDefault(a(6)), f = a(896), k; b.rH = function () { if (!k) { var m = new c.default.Console("ASEJS", "media|asejs"); k = new f.yza(m) } return k } }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.A9a = b.AZa = b.map = void 0;
                    var c = a(2); a(899); b.map = function (f) { return function (k, m) { void 0 === m && (m = !1); return function (g, d, h) { var l, n, q, p, u = Reflect.SZa(f, g, d) || {}, t, w = "number" === typeof h, v = m; (t = w ? null !== (n = (null !== (l = u.Nb) && void 0 !== l ? l : {})[h]) && void 0 !== n ? n : {} : v ? u.return : u.Bsa) || (t = { rules: [] }); l = c.__assign(c.__assign(c.__assign({}, t), k), { rules: c.__spread(null !== (q = t.rules) && void 0 !== q ? q : [], null !== (p = k.rules) && void 0 !== p ? p : []) }); w ? (u.Nb || (u.Nb = {}), u.Nb[h] = l) : v ? u.return = l : u.Bsa = l; Reflect.W4(f, u, g, d) } } }; b.AZa = function (f) {
                        return function (k,
                            m) { return Reflect.SZa(f, k.constructor.prototype, m) }
                    }; b.A9a = function () { return function () { return function (f) { return f } } }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.D1 = void 0; r = a(19); var c = a(44), f = a(22); a = function () {
                        function k(m) {
                            void 0 === m && (m = { tk: !1, currentTime: f.O.cb, speed: 1 }); this.ed = {
                                tk: function () { return "function" === typeof m.tk ? m.tk() : m.tk }, currentTime: function () { return "function" === typeof m.currentTime ? m.currentTime() : m.currentTime }, speed: function () {
                                    return "function" ===
                                        typeof m.speed ? m.speed() : m.speed
                                }
                            }
                        } Object.defineProperties(k.prototype, { tk: { get: function () { return this.ed.tk() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { currentTime: { get: function () { return this.ed.currentTime() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { speed: { get: function () { return this.ed.speed() }, enumerable: !1, configurable: !0 } }); return k
                    }(); b.D1 = a; c.zf(r.EventEmitter, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.G6 =
                        b.Oo = b.isEqual = b.KW = void 0; var c = a(9), f = a(222); b.KW = function (k) { return !!k.S }; b.isEqual = function (k, m) { var g = b.KW(k), d = b.KW(m); return g === d ? g ? k.S === m.S : k.na === m.na : !1 }; b.Oo = function (k) { if (b.KW(k)) return k.S; k = k.na; return k.U[k.ue].S }; b.G6 = function (k, m) { var g; return k.S3 ? k.S3 instanceof c.O ? (k = f.yM(m, b.Oo(k.key), k.S3), (null === k || void 0 === k ? 0 : k.offset.greaterThan(c.O.cb)) ? k : { offset: c.O.cb, ha: null !== (g = null === k || void 0 === k ? void 0 : k.ha) && void 0 !== g ? g : m.ue }) : k.S3 : { offset: c.O.cb, ha: m.ue } }
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.Lca = "DiagnosticsFactorySymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Bea = "PboPlaydataFactorySymbol" }, function (r) { r.exports = function (b, a) { return Object.prototype.hasOwnProperty.call(a, b) } }, function (r, b, a) {
                    function c(h, l, n) { for (var q = n.next(); !q.done;) { if ((l = h["@@transducer/step"](l, q.value)) && l["@@transducer/reduced"]) { l = l["@@transducer/value"]; break } q = n.next() } return h["@@transducer/result"](l) } function f(h, l, n, q) {
                        return h["@@transducer/result"](n[q](g(h["@@transducer/step"],
                            h), l))
                    } var k = a(983), m = a(985), g = a(986), d = "undefined" !== typeof Symbol ? Symbol.iterator : "@@iterator"; r.exports = function (h, l, n) {
                        "function" === typeof h && (h = m(h)); if (k(n)) { for (var q = 0, p = n.length; q < p;) { if ((l = h["@@transducer/step"](l, n[q])) && l["@@transducer/reduced"]) { l = l["@@transducer/value"]; break } q += 1 } return h["@@transducer/result"](l) } if ("function" === typeof n["fantasy-land/reduce"]) return f(h, l, n, "fantasy-land/reduce"); if (null != n[d]) return c(h, l, n[d]()); if ("function" === typeof n.next) return c(h, l, n); if ("function" ===
                            typeof n.reduce) return f(h, l, n, "reduce"); throw new TypeError("reduce: list must be array or iterable");
                    }
                }, function (r) {
                    r.exports = function (b, a) {
                        switch (b) {
                            case 0: return function () { return a.apply(this, arguments) }; case 1: return function (c) { return a.apply(this, arguments) }; case 2: return function (c, f) { return a.apply(this, arguments) }; case 3: return function (c, f, k) { return a.apply(this, arguments) }; case 4: return function (c, f, k, m) { return a.apply(this, arguments) }; case 5: return function (c, f, k, m, g) {
                                return a.apply(this,
                                    arguments)
                            }; case 6: return function (c, f, k, m, g, d) { return a.apply(this, arguments) }; case 7: return function (c, f, k, m, g, d, h) { return a.apply(this, arguments) }; case 8: return function (c, f, k, m, g, d, h, l) { return a.apply(this, arguments) }; case 9: return function (c, f, k, m, g, d, h, l, n) { return a.apply(this, arguments) }; case 10: return function (c, f, k, m, g, d, h, l, n, q) { return a.apply(this, arguments) }; default: throw Error("First argument to _arity must be a non-negative integer no greater than ten");
                        }
                    }
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.Rea = "PlaybackSegmentDataFactorySymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Vda = "ManifestParserFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.gda = "HLSConfigSymbol" }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r = a(269); var c = a(152); b.Sgb = c; c = a(439); b.LK = c; c = a(443); b.dub = c; b.C1 = r.Cq.Ya.sidx; r = a(1026); b.ur = r.ur; r = a(277); b.qr = r.qr; r = a(1030); b.sr = r.sr; b.uA = r.uA; r = a(1031); b.rK = r.rK; r = a(92); b.qo =
                        r.qo; a = a(1032); b.Rj = a.Rj
                }, function (r, b, a) {
                    function c(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function f(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function k(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function m(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va); this.gJ = Pa.config.gJ; this.vd = this.sizes = void 0 } function g(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function d() {
                        for (var Pa = new DataView(this), ha = "", pa, Fa = 0; Fa < this.byteLength; Fa++)pa = Pa.getUint8(Fa), ha += ("00" + pa.toString(16)).slice(-2);
                        return ha
                    } function h(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function l(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function n(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function q(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function p(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function u(Pa) {
                        function ha(pa, Fa, Va, ab, wb) { L.call(this, pa, Fa, Va, ab, wb); this.AX = Pa } ha.Ra = !1; ha.prototype = new L; ha.prototype.constructor = ha; Object.defineProperties(ha.prototype, { RQ: { get: function () { return this.AX } } }); ha.prototype.parse =
                            function () { this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.AX + "'"); this.u.offset = this.startOffset + 4; this.oa.v_(this.RQ); this.type = this.RQ; return !0 }; return ha
                    } function t(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function w(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function v(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function x(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function y(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function z(Pa, ha, pa, Fa, Va) {
                        L.call(this, Pa, ha, pa,
                            Fa, Va)
                    } function A(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function B(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function E(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function D(Pa, ha, pa, Fa, Va) { L.call(this, Pa, ha, pa, Fa, Va) } function F(Pa, ha) { Pa.forEach(function (pa) { ha[pa.ac] = pa }) } var G = a(151).assert; b = a(107); var C = a(270).O, H = a(439); a(152); a(92); a(92); a(92); var L = a(37).Ec, N = a(1009).default, J = a(1010).default, Q = a(1011).default, K = a(1012).default, I = a(1013).default, M = a(1014).default, O = a(1015).default,
                        P = a(1016).default, S = a(1017).default; a(271); a(180); var U = a(440).Cba, Z = a(440).Oca, ia = a(1018).default, ya = a(1019).default, na = a(108).default, X = a(108).Rba, ra = a(108).Sba, T = a(108).Tba, R = a(108).Uba, ca = a(1020).default, ua = a(1021).default, aa = a(108).lda, La = a(108).fda, Ua = a(1022).default, $a = a(1023).default, Za = a(1024).default, cb = a(441).default, Wa = a(442).default; a(153); a(274); a(275); a(273); a = a(1025).default; c.Ra = !0; c.prototype = new L; c.prototype.constructor = c; f.Ra = !0; f.prototype = new L; f.prototype.constructor = f; k.Ra =
                            !1; k.prototype = new L; k.prototype.constructor = k; k.prototype.parse = function () { this.zc(); 1 === this.version ? (this.u.Vd(), this.u.Vd(), this.W = this.u.Ca(), this.duration = this.u.Vd()) : (this.u.Ca(), this.u.Ca(), this.W = this.u.Ca(), this.duration = this.u.Ca()); var Pa = this.u.ad() & 32767; this.language = String.fromCharCode(96 + (Pa >>> 10), 96 + (Pa >>> 5 & 31), 96 + (Pa & 31)); return !0 }; m.Ra = !1; m.prototype = new L; m.prototype.constructor = m; m.prototype.zha = function () {
                                this.zc(); this.u.Ca(); this.W = this.u.Ca(); 0 === this.version ? (this.bV = this.u.Ca(),
                                    this.tV = this.u.Ca()) : (this.bV = this.u.Vd(), this.tV = this.u.Vd()); this.f9a = this.u.ad(); this.EY = this.u.ad()
                            }; m.prototype.oga = function (Pa, ha) { var pa = this.W; Pa = Pa && Pa.W || pa; var Fa = Pa / pa; pa = this.u.VA(ha, 12, !1); var Va = 1 === Fa ? this.u.VA(ha, 12, !1) : H.from(Uint32Array, { length: ha }, function () { var ab = Math.round(this.u.Ca() * Fa); this.u.offset += 8; return ab }, this); this.dia(ha, Va, pa, Pa) }; m.prototype.dia = function (Pa, ha, pa, Fa) {
                                if (this.gJ) {
                                    Fa = this.gJ * Fa / 1E3; for (var Va = 0, ab = 1; ab < Pa; ab++)Math.abs(ha[Va] - Fa) > Math.abs(ha[Va] +
                                        ha[ab] - Fa) ? (ha[Va] += ha[ab], pa[Va] += pa[ab]) : (++Va, Va !== ab && (ha[Va] = ha[ab], pa[Va] = pa[ab])); ++Va; ha = new Uint32Array(ha.buffer.slice(0, 4 * Va)); pa = new Uint32Array(pa.buffer.slice(0, 4 * Va))
                                } this.sizes = pa; this.vd = ha
                            }; m.prototype.parse = function (Pa) { this.zha(); this.va = Pa.va; var ha = this.W, pa = this.va && this.va.W || ha, Fa = this.EY, Va = this.startOffset + this.length + this.tV; ha = (new C(this.bV, ha)).dg(pa).qc; this.Y = { W: pa, ql: ha, offset: Va }; this.oga(this.va, Fa); this.Y.vd = this.vd; this.Y.sizes = this.sizes; Pa.Ms = this; return !0 };
                    g.Ra = !1; g.prototype = new L; g.prototype.constructor = g; g.prototype.parse = function () { this.Gi = []; this.gua = []; var Pa = (this.length - 11) / 2; this.u.tb(); this.u.tb(); this.u.tb(); for (var ha = 0; ha < Pa; ha++)this.Gi.push(this.u.tb()), this.gua.push(this.u.tb()); return !0 }; h.Ra = !1; h.prototype = new L; h.prototype.constructor = h; h.prototype.parse = function () { this.zc(); this.u.offset += 4; this.OH = this.u.offset; this.Qn = this.u.kva(16); this.Qn.toString = d; return !0 }; l.Ra = !1; l.prototype = new L; l.prototype.constructor = l; l.prototype.parse =
                        function () { this.zc(); this.pg = this.u.ad(); this.osa = this.u.VA(this.pg, void 0, !0); return !0 }; n.Ra = !1; n.prototype = new L; n.prototype.constructor = n; n.prototype.parse = function (Pa) {
                            var ha = Pa.Ms; G(ha); Pa = Pa.va; var pa = ha.W; ha = ha.EY; G(Pa); G(pa); G(ha); this.zc(); G(2 > this.version); this.pg = this.u.ad(); this.Xu = new Uint16Array(ha + 1); var Fa = Pa.K6(pa), Va = Fa / pa, ab = Pa.dg(Fa).qc; if (0 === this.version) for (this.mv = new Uint16Array, this.Sd = new Uint32Array, Pa = pa = 0; Pa <= ha; ++Pa) {
                                if (this.Xu[Pa] = pa, Pa < this.pg) {
                                    var wb = this.u.tb();
                                    if (0 !== wb) for (Fa = 0; Fa < wb; ++Fa, ++pa)this.mv[pa] = Math.floor((this.u.Ca() + 1) * Va) / ab, this.Sd[pa] = this.u.Ca()
                                }
                            } else if (1 === this.version) for (Fa = this.u.fva(this.pg, 10, !1), this.u.offset += 4, this.Sd = this.u.VA(this.pg, 10, !1), this.u.offset -= 8, this.mv = H.from(Uint16Array, { length: this.pg }, function () { var zb = Math.floor((this.u.Ca() + 1) * Va) / ab; this.u.offset += 6; return zb }, this), pa = Pa = 0; Pa <= ha; ++Pa) { for (; pa < Fa.length && Fa[pa] < Pa;)++pa; this.Xu[Pa] = pa } this.mi = { Xu: this.Xu, mv: this.mv, Sd: this.Sd }; return !0
                        }; q.Ra = !0; q.prototype =
                            Object.create(c.prototype); q.prototype.constructor = q; p.Ra = !0; p.prototype = Object.create(c.prototype); p.prototype.constructor = p; p.prototype.ku = function () { var Pa = this.Yh("tfhd"); Pa && (this.hk = Pa.XT ? Pa.hk : this.parent.startOffset); return !0 }; t.Ra = !1; t.prototype = new L; t.prototype.constructor = t; t.prototype.parse = function () {
                                var Pa = this.u.offset; this.zc(); if (1 === this.version) {
                                    this.u.console.trace("translating vpcC box to draft equivalent"); this.u.offset += 2; for (var ha = this.u.offset, pa = this.u.tb(), Fa = this.u.tb(),
                                        Va = this.u.tb(), ab = this.u.tb(), wb = this.u.ad(), zb = [], Fb = 0; Fb < wb; ++Fb)zb = this.u.tb(); Fb = (pa & 240) >>> 4; var Lb = (pa & 14) >>> 1; pa &= 1; Va = 16 === Va ? 1 : 0; Fa != ab && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Fa + " and matrixCoefficients " + ab + " should be the same value!"); ab = 2; switch (Fa) { case 1: ab = 2; break; case 6: ab = 1; break; case 9: ab = 5; break; default: this.u.console.warn("VP9: Unknown colourPrimaries " + Fa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)") }this.version =
                                            0; this.oa.zB(this.version, Pa); this.oa.zB(Fb << 4 | ab, ha++); this.oa.zB(Lb << 4 | Va << 1 | pa, ha++); wb += 2; zb.push(0, 0); this.oa.nza(wb, !1); ha += 2; zb.forEach(function (Db) { this.oa.zB(Db, ha++) })
                                } return !0
                            }; w.Ra = !1; w.prototype = new L; w.prototype.constructor = w; w.ac = "tfhd"; Object.defineProperties(w.prototype, { XT: { get: function () { return this.flags & 1 } }, jwa: { get: function () { return this.flags & 2 } }, Nla: { get: function () { return this.flags & 8 } }, Qla: { get: function () { return this.flags & 16 } }, Ola: { get: function () { return this.flags & 32 } } });
                    w.prototype.parse = function () { this.zc(); this.GJ = this.u.Ca(); this.hk = this.XT ? this.u.Vd() : void 0; this.jwa && this.u.Ca(); this.uz = this.Nla ? this.u.Ca() : void 0; this.wz = this.Qla ? this.u.Ca() : void 0; this.vz = this.Ola ? this.u.Ca() : void 0; return !0 }; v.Ra = !1; v.prototype = new L; v.prototype.constructor = v; v.prototype.parse = function () { this.zc(); this.az = 1 === this.version ? this.u.Vd() : this.u.Ca(); return !0 }; v.prototype.za = function (Pa) {
                        var ha = this.startOffset + 12; this.az += Pa; 1 === this.version ? this.oa.oza(this.az, ha) : this.oa.fh(this.az,
                            ha)
                    }; x.Ra = !1; x.prototype = new L; x.prototype.constructor = x; Object.defineProperties(x.prototype, { FU: { get: function () { return this.flags & 1 } }, jH: { get: function () { return this.flags & 4 } }, bB: { get: function () { return this.flags & 256 } }, cB: { get: function () { return this.flags & 512 } }, XY: { get: function () { return this.flags & 1024 } }, UI: { get: function () { return this.flags & 2048 } } }); x.prototype.parse = function () {
                        this.zc(); this.aU = this.u.offset; this.Ob = this.u.Ca(); this.lk = this.FU ? this.u.GI() : 0; this.jH && this.u.Ca(); this.kv = (this.bB ?
                            4 : 0) + (this.cB ? 4 : 0) + (this.XY ? 4 : 0) + (this.UI ? 4 : 0); this.Jz = this.u.offset; G(this.FU, "Expected data offset to be present in Track Run"); G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.kv, "Expected remaining data in box to be sample information"); return !0
                    }; x.prototype.Et = function (Pa, ha, pa) {
                        var Fa = this.bB ? this.u.Ca() : Pa.uz, Va = this.cB ? this.u.Ca() : Pa.wz; Pa = this.XY ? this.u.Ca() : Pa.vz; var ab = 0 === this.version ? this.UI ? this.u.Ca() : 0 : this.UI ? this.u.GI() : 0; return {
                            iwa: ab, jZb: Pa, hWb: pa + ab - (void 0 !== ha ?
                                ha : ab), Ek: Va, nv: Fa
                        }
                    }; x.prototype.za = function (Pa, ha, pa, Fa, Va, ab, wb) {
                        var zb = 0, Fb = 0; this.oa.offset = this.Jz; for (Fa = 0; Fa < Va; ++Fa) { var Lb = this.Et(ha, Db, Fb); if (0 == Fa) var Db = Lb.iwa; zb += Lb.Ek; Fb += Lb.nv } Fa = Va; Va = this.u.offset; Lb = this.Et(ha, Db, Fb); this.Vq = Fa; this.qxa = Fb; if (wb) { if (this.Nq = this.lk + zb, this.fj = 0, Fa === this.Ob) return !0 } else if (this.Nq = this.lk, this.fj = zb, 0 === Fa) return !0; if (0 === Fa || Fa === this.Ob) return !1; this.Cz = !0; if (wb) {
                            this.fj += Lb.Ek; for (wb = Fa + 1; wb < this.Ob; ++wb)Lb = this.Et(ha, Db, Fb), this.fj += Lb.Ek;
                            this.oa.offset = this.aU; this.Ob = Fa; this.oa.fh(this.Ob); this.oa.QJ(ab); this.jH && (this.u.offset += 4); this.Ke(this.length - (Va - this.startOffset), Va)
                        } else ha = Va - this.Jz, this.oa.offset = this.aU, this.Ob -= Fa, this.oa.fh(this.Ob), this.lk += zb, this.oa.QJ(ab, this.lk), this.jH && (this.u.offset += 4), this.Ke(ha, this.oa.offset); pa.Ke(this.fj, Pa.hk + this.Nq); return !0
                    }; x.prototype.Nva = function (Pa, ha, pa, Fa, Va, ab) {
                        if (Fa) {
                            Fa = this.Nq; for (var wb = this.Ob - 1; 0 <= wb && this.Ob - wb <= Va; --wb) {
                                this.oa.offset = this.Jz + wb * this.kv; var zb = this.Et(ha);
                                if (zb.nv != ab.duration) { this.u.console.warn("Could not replace sample of duration " + zb.nv + " with silence of duration " + ab.duration); break } if (this.cB) this.oa.offset -= this.kv - (this.bB ? 4 : 0), this.oa.fh(ab.Ik.byteLength); else if (ab.Ik.byteLength !== zb.Ek) { this.u.console.warn("Cannot replace sample with default size with silence of different size"); break } Fa -= zb.Ek; pa.jv(zb.Ek, ab.Ik, Pa.hk + Fa)
                            }
                        } else for (Fa = this.Nq + this.fj, wb = 0; wb < this.Ob && wb < Va; ++wb) {
                            this.oa.offset = this.Jz + (wb + this.Vq) * this.kv; zb = this.Et(ha);
                            if (zb.nv != ab.duration) { this.u.console.warn("Could not replace sample of duration " + zb.nv + " with silence of duration " + ab.duration); break } if (this.cB) this.oa.offset -= this.kv - (this.bB ? 4 : 0), this.oa.fh(ab.Ik.byteLength); else if (ab.Ik.byteLength !== zb.Ek) { this.u.console.warn("Cannot replace sample with default size with silence of different size"); break } pa.jv(zb.Ek, ab.Ik, Pa.hk + Fa); Fa += zb.Ek
                        }
                    }; y.Ra = !1; y.prototype = Object.create(L.prototype); y.prototype.constructor = y; Object.defineProperties(y.prototype, {
                        xn: {
                            get: function () {
                                return this.flags &
                                    1
                            }
                        }
                    }); y.prototype.parse = function () { this.zc(); this.xn && this.u.Pl(); this.xn && this.u.Ca(); this.Pla = this.u.tb(); this.Ob = this.u.Ca(); this.u.WA(this.Ob); return !0 }; y.prototype.za = function (Pa, ha) { if (Pa && 0 === this.Pla) { Pa = ha ? this.Ob - Pa : Pa; this.oa.offset = this.startOffset + 13 + (this.xn ? 8 : 0); this.Ob -= Pa; this.oa.fh(this.Ob); this.SI = 0; if (ha) this.oa.offset += this.Ob; else { for (ha = 0; ha < Pa; ++ha)this.SI += this.oa.tb(); this.oa.offset -= Pa } this.Ke(Pa, this.u.offset) } return !0 }; z.Ra = !1; z.prototype = Object.create(L.prototype); z.prototype.constructor =
                        z; Object.defineProperties(z.prototype, { xn: { get: function () { return this.flags & 1 } } }); z.prototype.parse = function () { this.zc(); this.xn && this.u.Pl(); this.xn && this.u.Ca(); this.pg = this.u.Ca(); G(1 === this.pg, "Expected a single entry in Sample Auxiliary Information Offsets box"); this.lk = 0 === this.version ? this.u.GI() : this.u.nva(); return !0 }; z.prototype.za = function (Pa, ha) { this.lk += Pa; this.oa.offset = this.startOffset + 16 + (this.xn ? 8 : 0) + (0 === this.version ? 0 : 4); this.oa.QJ(ha, this.lk); return !0 }; A.Ra = !1; A.prototype = Object.create(L.prototype);
                    A.prototype.constructor = A; Object.defineProperties(A.prototype, { VX: { get: function () { return this.flags & 1 } }, Yya: { get: function () { return this.flags & 2 } } }); A.prototype.parse = function () { this.zc(); this.VX && (this.u.Ca(), this.u.WA(16)); this.Ob = this.u.Ca(); return !0 }; A.prototype.za = function (Pa, ha) {
                        var pa = ha ? this.Ob - Pa : Pa; this.oa.offset = this.startOffset + 28 + (this.VX ? 20 : 0); this.Ob -= pa; this.oa.fh(this.Ob); Pa = this.oa.offset; if (this.Yya) for (pa = ha ? this.Ob : pa; 0 < pa; --pa) {
                            this.oa.offset += 8; var Fa = this.oa.ad(); this.oa.offset +=
                                6 * Fa
                        } else this.oa.offset += 8 * (ha ? this.Ob : pa); ha ? this.Ke(this.length - (this.u.offset - this.startOffset), this.u.offset) : this.Ke(this.u.offset - Pa, Pa)
                    }; B.Ra = !1; B.prototype = Object.create(L.prototype); B.prototype.constructor = B; B.prototype.parse = function () { this.zc(); return !0 }; B.prototype.za = function (Pa, ha, pa) { pa ? this.Ke(ha - Pa, this.startOffset + 12 + Pa) : this.Ke(Pa, this.startOffset + 12); return !0 }; E.Ra = !1; E.prototype = Object.create(L.prototype); E.prototype.constructor = E; E.prototype.parse = function () {
                        this.zc(); this.u.Pl();
                        1 === this.version && this.u.Ca(); this.pg = this.u.Ca(); this.ov = []; for (var Pa = 0; Pa < this.pg; ++Pa)for (var ha = this.u.Ca(), pa = this.u.Ca(), Fa = 0; Fa < ha; ++Fa)this.ov.push(pa); return !0
                    }; E.prototype.za = function (Pa, ha) {
                        this.ov = ha ? this.ov.slice(0, Pa) : this.ov.slice(Pa); Pa = this.ov.reduce(function (pa, Fa) { 0 !== pa.length && pa[pa.length - 1].group === Fa || pa.push({ group: Fa, count: 0 }); ++pa[pa.length - 1].count; return pa }, []); this.oa.offset = this.startOffset + 16 + (1 === this.version ? 4 : 0); this.oa.fh(Pa.length); Pa.forEach(function (pa) {
                            this.oa.fh(pa.count);
                            this.oa.fh(pa.group)
                        }.bind(this)); this.pg > Pa.length && this.Ke(8 * (this.pg - Pa.length)); this.pg = Pa.length; return !0
                    }; D.Ra = !1; D.prototype = Object.create(L.prototype); D.prototype.constructor = D; na = { Ya: { moov: f, trak: c, mdia: c, mdhd: k, minf: c, encv: na, schi: c, sidx: m, sinf: c, stbl: c, tenc: h, mvex: c, moof: q, traf: p, tfhd: w, trun: x, sbgp: E, sdtp: B, saiz: y, saio: z, tfdt: v, mdat: D, vmaf: g }, kya: { vpcC: t, SmDm: u("smdm"), CoLL: u("coll") }, XZ: { schm: ca }, TI: {} }; F([ua, M, O, P, aa, La, N, K, cb, Wa, I, S, J, Q, a], na.Ya); F([U, ia, X, ra, T, R, Z, ya, $a, Ua], na.TI);
                    F([ua, ca], na.XZ); na.Ya[b.SR] = h; na.Ya[b.ey] = l; na.Ya[b.dy] = n; na.Ya[b.RR] = A; na.TI[b.nF] = Za; na.Ec = L; r.exports = { Cq: na }
                }, function (r, b) {
                    function a(c, f) { if ("number" !== typeof c || "number" !== typeof f) c = !1; else if (c && f) { var k = Math, m = k.abs, g, d = Math.abs(c); for (g = Math.abs(f); g;) { var h = g; g = d % g; d = h } c = m.call(k, c * f / d) } else c = 0; return c } Object.defineProperty(b, "__esModule", { value: !0 }); r = function () {
                        function c(f, k) { "object" === typeof f ? (this.oc = f.qc, this.ob = f.W) : (this.oc = f, this.ob = k) } c.Na = function (f) { return new c(f, 1E3) };
                        c.QZ = function (f, k) { return Math.floor(1E3 * f / k) }; c.Qsa = function (f, k) { return Math.floor(f * k / 1E3) }; c.max = function () { for (var f = [], k = 0; k < arguments.length; k++)f[k] = arguments[k]; return f.reduce(function (m, g) { return m.greaterThan(g) ? m : g }) }; c.min = function () { for (var f = [], k = 0; k < arguments.length; k++)f[k] = arguments[k]; return f.reduce(function (m, g) { return m.lessThan(g) ? m : g }) }; Object.defineProperties(c.prototype, { qc: { get: function () { return this.oc }, enumerable: !0, configurable: !0 } }); Object.defineProperties(c.prototype,
                            { W: { get: function () { return this.ob }, enumerable: !0, configurable: !0 } }); Object.defineProperties(c.prototype, { T: { get: function () { return 1E3 * this.oc / this.ob }, enumerable: !0, configurable: !0 } }); Object.defineProperties(c.prototype, { vg: { get: function () { return this.oc / this.ob }, enumerable: !0, configurable: !0 } }); c.prototype.dg = function (f) { f /= this.W; return new c(Math.floor(this.qc * f), Math.floor(this.W * f)) }; c.prototype.add = function (f) { if (this.W === f.W) return new c(this.qc + f.qc, this.W); var k = a(this.W, f.W); return this.dg(k).add(f.dg(k)) };
                        c.prototype.Ja = function (f) { return this.add(new c(-f.qc, f.W)) }; c.prototype.jI = function (f) { return new c(this.qc * f, this.W) }; c.prototype.Hl = function (f) { if (this.W === f.W) return this.qc / f.qc; var k = a(this.W, f.W); return this.dg(k).Hl(f.dg(k)) }; c.prototype.K6 = function (f) { return a(this.W, f) }; c.prototype.tva = function () { return new c(this.W, this.qc) }; c.prototype.compare = function (f, k) { if (this.W === k.W) return f(this.qc, k.qc); var m = a(this.W, k.W); return f(this.dg(m).qc, k.dg(m).qc) }; c.prototype.equal = function (f) {
                            return this.compare(function (k,
                                m) { return k === m }, f)
                        }; c.prototype.r9 = function (f) { return this.compare(function (k, m) { return k !== m }, f) }; c.prototype.lessThan = function (f) { return this.compare(function (k, m) { return k < m }, f) }; c.prototype.greaterThan = function (f) { return this.compare(function (k, m) { return k > m }, f) }; c.prototype.XN = function (f) { return this.compare(function (k, m) { return k <= m }, f) }; c.prototype.Zr = function (f) { return this.compare(function (k, m) { return k >= m }, f) }; c.prototype.toJSON = function () { return { ticks: this.qc, timescale: this.W } }; c.prototype.toString =
                            function () { return this.qc + "/" + this.W }; c.cb = new c(0, 1); c.nx = new c(1, 1E3); return c
                    }(); b.O = r
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.u.offset += 6; this.u.ad(); return !0 }; return k }(a(37).Ec); b.default = r }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r = a(23); r.__exportStar(a(153), b); r.__exportStar(a(273), b); r.__exportStar(a(274),
                        b); r.__exportStar(a(275), b); r = a(274); var c = a(275); a = a(273); b.gq = { 3: a.YQ, 4: r.SQ, 5: c.Ica }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.u.ad(); var m = this.u.tb(); this.Exa = !!(m & 128); this.Efa = !!(m & 64); this.hea = !!(m & 32); this.Exa && this.u.ad(); this.Efa && this.u.WA(this.u.tb()); this.hea && this.u.ad(); this.gT(); return !0 }; k.tag = 3; return k }(a(153).TE); b.YQ =
                        r
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.pta = this.u.tb(); this.j1b = this.u.tb() >>> 2; this.u.ad(); this.u.tb(); this.maxBitrate = this.u.Ca(); this.rja = this.u.Ca(); this.gT(); return !0 }; k.tag = 4; return k }(a(153).TE); b.SQ = r }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = a(153); var f = a(272); a = function (k) {
                        function m() {
                            return null !==
                                k && k.apply(this, arguments) || this
                        } c.__extends(m, k); m.prototype.AY = function () { 15 !== this.u.yc(4) || this.u.yc(24) }; m.prototype.parse = function (g) {
                            if (this.uqa(g) && 64 === g.pta) switch (this.vn = this.yY(), this.AY(), this.u.yc(4), this.Nma = 5 === this.vn || 29 === this.vn ? 5 : -1, 0 < this.Nma && (this.AY(), this.vn = this.yY(), 22 === this.vn && this.u.yc(4)), this.vn) {
                                case 1: case 2: case 3: case 4: case 6: case 7: case 17: case 19: case 20: case 21: case 22: case 23: this.CV = this.u.yc(1), (this.Vla = this.u.yc(1)) && this.u.yc(14), this.u.yc(1), this.Kz =
                                    3 === this.vn ? 256 : 23 === this.vn ? this.CV ? 480 : 512 : this.CV ? 960 : 1024
                            }this.skip(); return !0
                        }; m.prototype.yY = function () { var g = this.u.yc(5); 31 === g && (g = 32 + this.u.yc(6)); return g }; m.prototype.uqa = function (g) { return g.tag === f.SQ.tag }; m.tag = 5; return m
                    }(r.TE); b.Ica = a
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.concat = function () {
                        for (var a = [], c = 0; c < arguments.length; c++)a[c] = arguments[c]; a = Array.prototype.concat.apply([], a); c = a.reduce(function (k, m) { return k + m.byteLength }, 0); var f = new Uint8Array(c);
                        a.reduce(function (k, m) { f.set(new Uint8Array(m), k); return k + m.byteLength }, 0); return f.buffer
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(444), f = a(269), k = a(445); r = function () {
                        function m(g, d, h) { this.console = g; this.stream = d; this.view = h instanceof ArrayBuffer ? new DataView(h) : new DataView(h.data, h.offset, h.length) } m.prototype.parse = function (g) {
                            var d = new k.TQ(this.view.byteLength); this.wc = new c.PE(f.Cq.Ya, d, this.view, this.console, { xI: !0 }); g = this.wc.parse(g); this.Ya = this.wc.Ya;
                            return g
                        }; return m
                    }(); b.qr = r
                }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.l0 = void 0; var f = a(51), k = a(131); c.Ho = function () {
                        var m = {}; m[f.V.w0] = "avc1.4D401E"; m[f.V.aR] = "avc1.4D401F"; m[f.V.eda] = "avc1.4D4028"; m[f.V.VDa] = "hev1.2.6.L90.B0"; m[f.V.WDa] = "hev1.2.6.L93.B0"; m[f.V.XDa] = "hev1.2.6.L120.B0"; m[f.V.YDa] = "hev1.2.6.L123.B0"; m[f.V.A0] = "hev1.2.6.L90.B0"; m[f.V.C0] = "hev1.2.6.L93.B0"; m[f.V.E0] = "hev1.2.6.L120.B0"; m[f.V.G0] = "hev1.2.6.L123.B0"; m[f.V.mK] = "hev1.2.6.L150.B0";
                        m[f.V.nK] = "hev1.2.6.L153.B0"; m[f.V.B0] = "hev1.2.6.L90.B0"; m[f.V.D0] = "hev1.2.6.L93.B0"; m[f.V.F0] = "hev1.2.6.L120.B0"; m[f.V.H0] = "hev1.2.6.L123.B0"; m[f.V.oR] = "hev1.2.6.L150.B0"; m[f.V.pR] = "hev1.2.6.L153.B0"; m[f.V.dR] = "hev1.2.6.L90.B0"; m[f.V.fR] = "hev1.2.6.L93.B0"; m[f.V.lK] = "hev1.2.6.L120.B0"; m[f.V.iR] = "hev1.2.6.L123.B0"; m[f.V.kR] = "hev1.2.6.L150.B0"; m[f.V.mR] = "hev1.2.6.L153.B0"; m[f.V.eR] = "hev1.2.6.L90.B0"; m[f.V.gR] = "hev1.2.6.L93.B0"; m[f.V.hR] = "hev1.2.6.L120.B0"; m[f.V.jR] = "hev1.2.6.L123.B0"; m[f.V.lR] = "hev1.2.6.L150.B0";
                        m[f.V.nR] = "hev1.2.6.L153.B0"; m[f.V.Y_] = k.Xd.X_; m[f.V.$_] = k.Xd.Bca; m[f.V.b0] = k.Xd.Cca; m[f.V.d0] = k.Xd.Dca; m[f.V.f0] = k.Xd.Eca; m[f.V.h0] = k.Xd.Fca; m[f.V.Z_] = k.Xd.X_; m[f.V.a0] = k.Xd.Bca; m[f.V.c0] = k.Xd.Cca; m[f.V.e0] = k.Xd.Dca; m[f.V.g0] = k.Xd.Eca; m[f.V.i0] = k.Xd.Fca; m[f.V.RDa] = "avc1.640016"; m[f.V.bda] = "avc1.64001E"; m[f.V.cda] = "avc1.64001F"; m[f.V.dda] = "avc1.640028"; m[f.V.Gfa] = k.Xd.jS; m[f.V.M1] = k.Xd.jS; m[f.V.N1] = k.Xd.jS; m[f.V.O1] = k.Xd.jS; m[f.V.vza] = k.Xd.tl; m[f.V.wza] = k.Xd.tl; m[f.V.Lba] = k.Xd.tl; m[f.V.Mba] = k.Xd.tl;
                        m[f.V.Nba] = k.Xd.tl; m[f.V.Oba] = k.Xd.tl; m[f.V.Pba] = k.Xd.tl; m[f.V.Qba] = k.Xd.tl; return m
                    }; b.l0 = c
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.kd = void 0; r = b.kd || (b.kd = {}); r.Oub = "bitraterestriction"; r.eTa = "cdnsel"; r.sM = "chgstrm"; r.debug = "debug"; r.wCb = "dlreport"; r.eH = "endplay"; r.rqa = "intrplay"; r.PD = "midplay"; r.b$ = "playbackaborted"; r.M8a = "renderstrmswitch"; r.iP = "repos"; r.qP = "resumeplay"; r.WZb = "serversel"; r.uE = "startplay"; r.yab = "statechanged"; r.transition = "transition"; r.Ctb = "asereport";
                    r.cSa = "audioswitch"; r.wSa = "blockedautoplay"; r.config = "config"; r.ema = "dlreq"; r.occ = "ftlProbeError"; r.E1b = "subtitleerror"; r.F1b = "subtitleqoe"; r.D2b = "timedtextrebuffer"; r.zbb = "timedtextswitch"; r.mab = "speedchanged"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.tFa = "IsTypeSupportedProviderFactorySymbol"; b.yJa = "PlatformIsTypeSupportedSymbol" }, function (r, b, a) {
                    function c() { this.type = f.EB.lF } Object.defineProperty(b, "__esModule", { value: !0 }); b.NB = void 0; var f = a(30); r = a(113); var k = a(136),
                        m = new r.UB; c.gla = function () { return { isTypeSupported: function (g) { try { if (-1 == g.toLowerCase().indexOf("codec")) return ub.MSMediaKeys.isTypeSupported(g, "video/mp4"); var d = g.split("|"); return 1 === d.length ? ub.MSMediaKeys.isTypeSupported(k.bc.QB, g) : "probably" === c.Rxa(d[0], d[1]) } catch (h) { return !1 } } } }; c.C4 = function (g, d, h) { d = m.format(c.EE, d); if (0 === h.length) return d; h = m.format('features="{0}"', h.join()); return m.format("{0}|{1}{2}", g, d, h) }; c.Rxa = function (g, d) {
                            try {
                                var h = ub.MSMediaKeys.isTypeSupportedWithFeatures ?
                                    ub.MSMediaKeys.isTypeSupportedWithFeatures(g, d) : ""
                            } catch (l) { h = "exception" } return h
                        }; b.NB = c; c.EE = 'video/mp4;codecs="{0},mp4a";'
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Xca = b.HB = void 0; r = b.HB || (b.HB = {}); r.imb = "unknown"; r.xza = "absent"; r.BKa = "present"; r.Error = "error"; b.Xca = "ExternalDisplayLogHelperSymbol" }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.CPb = b.cO = b.APb = void 0; b.APb = function (a) { return a }; b.cO = function (a) { return a }; b.CPb = function (a) {
                        return Object.assign({},
                            a)
                    }
                }, function (r, b, a) {
                    function c(x, y, z, A, B, E, D, F, G, C, H, L, N, J, Q, K, I, M, O, P, S) {
                        this.j = x; this.trackId = y; this.iA = z; this.cc = A; this.yi = B; this.Jg = E; this.Dc = D; this.Gw = F; this.fma = G; this.hf = C; this.displayName = H; this.hj = L; this.qJ = N; this.variant = J; this.xx = Q; this.profile = K; this.Pu = I; this.vO = M; this.OFb = O; this.I7 = P; this.xu = S; this.type = g.gi.Paa; this.Ws = void 0; this.sk = !(!K || K != h.Vj.qF); this.Th = { bcp47: C, trackId: y, downloadableId: D, isImageBased: this.sk }; this.log = (0, d.Oh)(x, "TimedTextTrack"); this.state = v.b1; this.request =
                            this.request.bind(this)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.EF = void 0; var f = a(1), k = a(76), m = a(14), g = a(75), d = a(8), h = a(51), l = a(20), n = a(18), q = a(1087), p = a(15), u = a(3), t = a(1088), w = a(1091), v; (function (x) { x[x.b1 = 0] = "NOT_LOADED"; x[x.LOADING = 1] = "LOADING"; x[x.aF = 2] = "LOADED"; x[x.zR = 3] = "LOAD_FAILED" })(v || (v = {})); c.prototype.o7 = function () {
                        var x = this; if (this.j.state.value === p.Mb.CLOSED || this.j.state.value === p.Mb.CLOSING) return Promise.reject({ ga: !1 }); if (this.sk) return this.eMb(); this.fWa || (this.fWa =
                            this.hWa()); return this.fWa.then(function (y) { return x.fMb(y) })
                    }; c.prototype.getState = function () { return this.state }; c.prototype.Vo = function () { return this.vO }; c.prototype.On = function () { return this.OFb }; c.prototype.Wr = function (x, y) { var z; try { return null === (z = this.Mxa) || void 0 === z ? void 0 : z.Wr(x, y) } catch (A) { this.log.error("error in getSubtitlesCount", A, { start: x, end: y, isImageBased: this.sk }) } }; c.prototype.wJb = function () {
                        var x, y; if (!(0, n.Mc)(this.Z)) try {
                            var z = null === (y = null === (x = this.Mxa) || void 0 === x ? void 0 :
                                x.mH(0)) || void 0 === y ? void 0 : y[0]; this.Z = null === z || void 0 === z ? void 0 : z.displayTime
                        } catch (A) { this.log.error("exception in getStartPts", A) } return this.Z
                    }; c.prototype.maa = function (x) { return this.j.state.value === p.Mb.CLOSING || this.j.state.value === p.Mb.CLOSED ? (this.log.info("playback is closing, abort timed text retry", x), !1) : this.j.Qb.value !== this ? (this.log.info("timed text track was changed, abort timed text retry", x), !1) : !0 }; c.prototype.VUa = function (x) {
                        var y = this, z = (0, d.Oh)(this.j, "TimedTextTrack");
                        z.warn = z.trace.bind(z); z.info = z.debug.bind(z); z = (0, q.WUa)(this.j, z, this.request, this); var A = new (m.config.C4b && !this.sk ? t.OFa : w.default)(z, x); A.on("ready", function () { y.Mxa = A }); return A
                    }; c.prototype.eMb = function () {
                        var x = this; if (!this.$0a) {
                            this.state = v.LOADING; var y = { profile: "nflx-cmisc", url: "", iSa: !1, Esa: this.Pu.offset, w4a: this.Pu.length, Ud: this.j.mediaTime.value || 0, bufferSize: m.config.BLb, Y$: { U: this.j.JV() } }, z = (this.fma || []).filter(function (F) { return F.id in x.Gw }).sort(function (F, G) {
                                return F.cc -
                                    G.cc
                            }).map(function (F) { return F.id }), A = 0, B = {}, E = !0, D = function (F, G) {
                                if ((0, n.Mc)(F)) if (E || x.maa(x.su(x.bu, "", "image"))) {
                                    E = !1; x.Pu.url = x.Gw[x.bu]; y.url = x.Pu.url; B[F] = (B[F] || 0) + 1; var C = x.VUa(y); C.on("ready", function () { G({ ga: !0, track: x }) }); C.on("error", function (H) {
                                        H = Object.assign({ ga: !1 }, H); var L = x.su(x.bu, x.Pu.url, "image"); L.details = { midxoffset: x.Pu.offset, midxsize: x.Pu.length }; L.errorstring = H.errorString; B[F] <= m.config.ybb ? (x.N5(L, !0, "retry with current cdn"), x.sja(B[F]).then(function (N) {
                                            x.log.trace("retry timed text download after " +
                                                N, x.su(x.bu, "", "image")); D(x.bu, G)
                                        })) : (x.bu = z[A++], x.bu ? (x.N5(L, !0, "retry with next cdn"), x.sja(B[F]).then(function (N) { x.log.trace("retry timed text download after " + N, x.su(x.bu, "", "image")); D(x.bu, G) })) : (x.N5(L, !1, "all cdns tried"), G({ ga: !1, zRb: "all cdns failed for image subs", track: x })))
                                    }); C.start()
                                } else G({ ga: !1, aborted: !0 }); else G({ ga: !1, zRb: "cdnId is not defined for image subs downloadUrl" }), x.N5(x.su(0, "", "image"), !1, "cdnId is undefined")
                            }; this.bu = z[A++]; this.$0a = new Promise(function (F, G) {
                                D(x.bu,
                                    function (C) { C.ga ? (x.log.info("Loaded image subtitle manager"), x.state = v.aF, F(C)) : (x.log.error("Unable to load image subtitles manager", C), x.state = v.zR, G(C)) })
                            })
                        } return this.$0a
                    }; c.prototype.fMb = function (x) {
                        var y = this, z = this.j.Ys; (0, l.gb)(z); return (new Promise(function (A, B) { var E = y.VUa({ profile: y.profile, xml: x, Ui: m.config.cya, preferences: m.config.Oaa, Ud: y.j.mediaTime.value || 0, iSa: !1, videoSize: z }); E.on("ready", function () { A(E) }).on("error", function (D) { B({ ga: !1, error: D }) }).start() })).then(function () {
                            y.state =
                                v.aF; return { ga: !0, track: y }
                        }).catch(function (A) { y.log.error("Unable to parse timed text track", (0, u.Gv)(A), y.Th, { url: A.url }); y.state = v.zR; A.reason = "parseerror"; A.track = y; throw A; })
                    }; c.prototype.N5 = function (x, y, z) { x = Object.assign({}, x, { Ofc: y, status: z }); this.j.fireEvent(p.ca.TP, x); this.log.warn("subtitleerror event", x) }; c.prototype.request = function (x, y) {
                        var z = this; this.log.trace("Downloading", x); x = { url: x.url, offset: x.offset, length: x.size, Ws: this.Ws, responseType: k.sW, headers: {}, uc: this.Rna(this.bu) };
                        this.j.g7.download(x, function (A) { z.log.trace("imgsub: request status " + A.ga); A.ga ? y(null, new Uint8Array(A.content)) : y({ ma: A.ma, Te: A.Te }) })
                    }; c.prototype.su = function (x, y, z) { return { currentCdnId: x, url: y, profile: this.profile, dlid: this.Dc, subtitletype: z, bcp47: this.hf, trackId: this.trackId, cdnCount: Object.keys(this.Gw).length, isImageBased: this.sk } }; c.prototype.Rna = function (x) { return (this.fma || []).find(function (y) { return y.id === x }) }; c.prototype.hWa = function () {
                        function x(E) {
                            return f.__awaiter(A, void 0, void 0,
                                function F() { var G, C = this, H; return Ka(F, function (L) { G = z(); H = C.su(E.uc.id, E.url, "text"); H.errorstring = E.reason; return G && C.maa(H) ? L.return(C.sja(B[G.id]).then(y)) : L.return(Promise.reject({ ga: !1, aborted: !0 })) }) })
                        } function y() { return f.__awaiter(A, void 0, void 0, function D() { var F, G = this, C; return Ka(D, function (H) { C = (F = z()) && G.Gw[F.id]; return F && C ? (B[F.id] = (B[F.id] || 0) + 1, H.return(G.FCb(C, F).catch(x))) : H.return(Promise.reject({})) }) }) } function z() {
                            return (A.fma || []).find(function (E) {
                                return !!((B[E.id] || 0) <
                                    m.config.ybb && A.Gw[E.id])
                            })
                        } var A = this; this.state = v.LOADING; var B = {}; return y()
                    }; c.prototype.sja = function (x) { return new Promise(function (y) { var z = 1E3 * Math.min(Math.pow(2, x - 1), 8); setTimeout(function () { return y(z) }, z) }) }; c.prototype.FCb = function (x, y) {
                        var z = this; this.log.trace("Downloading", y && { uc: y.id }, this.su(y.id, x, "text")); return new Promise(function (A, B) {
                            var E = { responseType: k.Ppa, url: x, track: z, uc: y, UC: "tt-" + z.hf }; z.j.g7.download(E, function (D) {
                                D.ga ? A(D.content) : (D.reason = "downloadfailed", D.url = E.url,
                                    D.track = z, D.uc = y, B(D))
                            })
                        })
                    }; b.EF = c; c.TB = v
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.qza = void 0; var c = a(8), f = a(3), k = a(479), m = a(480), g = a(50); b.qza = function (d, h) { var l; try { var n = (0, k.Idb)(d) } catch (q) { c.log.error("xml2xmlDoc exception", q) } (0, g.Tc)(function () { if (n && n.documentElement) try { l = (0, m.Jdb)(n) } catch (q) { c.log.error("xmlDoc2js exception", q) } (0, g.Tc)(function () { l ? h({ ga: !0, object: l }) : h({ ga: !1, ma: f.M.yDa }) }) }) } }, function (r) {
                    function b(a) { this.buffer = a; this.position = 0 } b.prototype =
                    {
                        seek: function (a) { this.position = a }, skip: function (a) { this.position += a }, d_a: function () { return this.buffer.length - this.position }, XO: function () { return this.buffer[this.position++] }, dj: function (a) { var c = this.position; this.position += a; a = this.buffer; return a.subarray ? a.subarray(c, this.position) : a.slice(c, this.position) }, Lq: function (a) { for (var c = 0; a--;)c = 256 * c + this.buffer[this.position++]; return c }, iva: function (a) { for (var c = ""; a--;)c += String.fromCharCode(this.buffer[this.position++]); return c }, Ah: function () { return this.Lq(2) },
                        Mq: function () { return this.Lq(4) }, ZO: function () { return this.Lq(8) }, yx: function (a) { for (var c, f = ""; a--;)c = this.XO(), f += "0123456789ABCDEF"[c >>> 4] + "0123456789ABCDEF"[c & 15]; return f }, mva: function (a) { for (var c = 0, f = 0; f < a; f++)c += this.XO() << (f << 3); return c }, YO: function () { return this.mva(4) }
                    }; r.exports = b
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.hGa = "LogMessageRulerConfigSymbol"; b.jGa = "LogMessageRulerSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.$da = "MilestonesEventBuilderSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.zea = "PboLicenseResponseTransformerSymbol" }, function (r, b, a) {
                    function c(p, u, t, w) { this.Ba = p; this.iW = u; this.ya = t; this.profile = w } function f() { } function k() { } function m() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.gJa = b.l1 = void 0; r = a(1); var g = a(0), d = a(35), h = a(4), l = a(13), n = a(16); a = a(80); m.prototype.encode = function (p) { return { downloadableId: p.Dc, duration: p.duration } }; m.prototype.decode = function (p) { return { Dc: p.downloadableId, duration: p.duration } };
                    k.prototype.encode = function (p) { return { total: p.total, totalContentTime: p.CJ, audio: p.audio.map((new m).encode), video: p.video.map((new m).encode), text: p.text.map((new m).encode) } }; k.prototype.decode = function (p) { var u; return { total: p.total, CJ: null !== (u = p.totalContentTime) && void 0 !== u ? u : p.total, audio: p.audio.map((new m).decode), video: p.video.map((new m).decode), text: p.text.map((new m).decode) } }; f.prototype.encode = function (p) {
                        return {
                            type: p.type, href: p.href, xid: p.da, movieId: p.K, position: p.position, clientTime: p.mU,
                            sessionStartTime: p.gZ, videoTrackId: p.lQ, audioTrackId: p.wn, timedTextTrackId: p.ZP, mediaId: p.gO, playTimes: (new k).encode(p.eY), trackId: p.trackId, sessionId: p.sessionId, appId: p.appId, sessionParams: p.ao, mdxControllerEsn: p.psa, profileId: p.profileId
                        }
                    }; f.prototype.decode = function (p) {
                        return {
                            type: p.type, href: p.href, da: p.xid, K: p.movieId, position: p.position, mU: p.clientTime, gZ: p.sessionStartTime, lQ: p.videoTrackId, wn: p.audioTrackId, ZP: p.timedTextTrackId, gO: p.mediaId, eY: (new k).decode(p.playTimes), trackId: p.trackId,
                            sessionId: p.sessionId, appId: p.appId, ao: p.sessionParams, psa: p.mdxControllerEsn, profileId: p.profileId
                        }
                    }; b.l1 = f; c.prototype.create = function (p) {
                        var u, t, w, v, x = Object.assign(Object.assign({}, null !== (u = p.fb.ao) && void 0 !== u ? u : {}), { uiVersion: this.iW().En.yv }); return {
                            href: p.pa && p.pa.uk ? p.pa.uk.UV("events").href : "", type: "online", da: p.da.toString(), K: p.K, position: Math.floor(p.CU || 0), mU: this.Ba.eZ.$(h.ja), gZ: p.JH ? p.JH.$(h.ja) : -1, lQ: null === (t = p.Af.value) || void 0 === t ? void 0 : t.trackId, wn: null === (w = p.Cb.value) || void 0 ===
                                w ? void 0 : w.trackId, ZP: null === (v = p.Qb.value) || void 0 === v ? void 0 : v.trackId, gO: void 0, eY: this.PIb(p), trackId: void 0 !== p.Kk ? p.Kk.toString() : "", sessionId: this.iW().sessionId || this.ya.id, appId: this.iW().appId || this.ya.id, ao: x, profileId: this.profile
                        }
                    }; c.prototype.gAb = function (p, u) { return Object.assign({}, this.create(p), { psa: u && u.vU }) }; c.prototype.load = function (p) { return (new f).decode(p) }; c.prototype.Ioa = function (p) { return p.map(function (u) { return { Dc: u.downloadableId, duration: u.duration } }) }; c.prototype.PIb =
                        function (p) { return (p = p.Ol) ? (p = p.OIb(), { total: p.total, CJ: p.totalContentTime, audio: this.Ioa(p.audio), video: this.Ioa(p.video), text: this.Ioa(p.timedtext) }) : { total: 0, CJ: 0, video: [], audio: [], text: [] } }; var q = c; q = r.__decorate([(0, g.R)(), r.__param(0, (0, g.l)(d.ih)), r.__param(1, (0, g.l)(l.cd)), r.__param(2, (0, g.l)(n.bd)), r.__param(3, (0, g.l)(a.EK))], q); b.gJa = q
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.mJa = "PboPlaydataValidatorSymbol"; b.dJa = "PboPlaydataArrayValidatorSymbol"; b.fJa = "PboPlaydataCollectionValidatorSymbol" },
                function (r, b, a) { function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.Q_ = void 0; var f = a(11); c.dla = function (k) { if (f.Be.queryCommandSupported && f.Be.queryCommandSupported("copy")) { var m = f.Be.createElement("textarea"); m.textContent = k; m.style.position = "fixed"; f.Be.body.appendChild(m); m.select(); try { f.Be.execCommand("copy") } catch (g) { console.warn("Copy to clipboard failed.", g) } finally { f.Be.body.removeChild(m) } } }; b.Q_ = c }, function (r, b) {
                    function a() { } Object.defineProperty(b, "__esModule", { value: !0 });
                    b.Kda = void 0; b.Kda = a; a.pgb = "display"; a.Ffb = "console"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Ofa = "WindowUtilsSymbol" }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.RW = void 0; b.RW = function (a, c, f) {
                        if (f.set) throw Error("Property " + c + " has a setter and cannot be made into a lazy property."); var k = f.get; f.get = function () {
                            var m = k.apply(this, arguments), g = { enumerable: f.enumerable, value: m }; Object.getPrototypeOf(a) === Function.prototype ? Object.defineProperty(a, c, g) :
                                Object.defineProperty(this, c, g); return m
                        }
                    }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Xea = b.DK = void 0; r = b.DK || (b.DK = {}); r.i2b = "taskstart"; r.g2b = "taskabort"; r.h2b = "taskfail"; r.j2b = "tasksuccess"; b.Xea = "PreparerTaskSchedulerSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.sca = "CacheManagerFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Qza = "AsePrefetcherAdapterSymbol"; b.Rza = "AsePrefetcherProviderSymbol" }, function (r, b, a) {
                    function c(n) {
                        return !(!n ||
                            !n.YD && !n.pboc || !n.code && !n.code)
                    } function f(n) { return !(!n || !n.jd) } function k(n) { return !!(n instanceof Error) } function m(n) {
                        switch (n) {
                            case "ACCOUNT_ON_HOLD": return l.M.ckb; case "STREAM_QUOTA_EXCEEDED": return l.M.gkb; case "INSUFFICICENT_MATURITY": return l.M.lkb; case "TITLE_OUT_OF_WINDOW": return l.M.skb; case "CHOICE_MAP_ERROR": return l.M.fkb; case "BadRequest": return l.M.nkb; case "Invalid_SemVer_Format": return l.M.mkb; case "RESTRICTED_TO_TESTERS": return l.M.qkb; case "AGE_VERIFICATION_REQUIRED": return l.M.dkb;
                            case "BLACKLISTED_IP": return l.M.ekb; case "DEVICE_EOL_WARNING": return l.M.mea; case "DEVICE_EOL_FINAL": return l.M.iIa; case "INCORRECT_PIN": return l.M.mIa; case "MOBILE_ONLY": return l.M.pkb; case "MDX_CONTROLLER_CTICKET_INVALID": return l.M.okb; case "VIEWABLE_RESTRICTED_BY_PROFILE": return l.M.tkb; case "RESET_DEVICE": return l.M.lIa; case "RELOAD_DEVICE": return l.M.kIa; case "EXIT_DEVICE": return l.M.jIa; case "FREE_PREVIEW_ENDED": return l.M.kkb; case "STREAMING_LOCATION_DISALLOWED": return l.M.rkb; case "EXTRA_MEMBER_STREAM_HOLD": return l.M.jkb;
                            case "EXTRA_MEMBER_REMOVED_STREAM_HOLD": return l.M.ikb; default: return l.M.LDa
                        }
                    } function g(n, q) { var p = q.bladeRunnerCode ? Number(q.bladeRunnerCode) : void 0; return new h.Wc(n, m(q.code), "BadRequest" === q.code ? l.K0.Peb : void 0, q.code, void 0, q.display, void 0, q.detail, q.display, p, q.alert, q.alertTag) } function d(n, q) { return new h.Wc(n, q.jd, q.Kg, void 0, q.FA, q.message, q.details, q.data) } Object.defineProperty(b, "__esModule", { value: !0 }); b.OSa = b.Pja = b.WFb = b.bGb = b.Jn = b.aGb = b.NMb = b.GMb = b.G1a = void 0; var h = a(40), l = a(3);
                    b.G1a = c; b.GMb = f; b.NMb = k; b.aGb = m; b.Jn = function (n, q) { return f(q) ? d(n, q) : c(q) ? g(n, q) : k(q) ? h.Wc.Bna(n, q) : new h.Wc(n, void 0, void 0, void 0, void 0, "Recieved an unexpected error type", void 0, q) }; b.bGb = g; b.WFb = d; b.Pja = function (n, q, p, u, t) {
                        var w = q.a$a[p]; if (void 0 === w) throw { YD: !0, code: "FAIL", display: "Unable to build the URL for " + p + " because there was no configuration information", detail: q }; var v = w.version; if (void 0 === v) throw {
                            YD: !0, code: "FAIL", display: "Unable to build the URL for " + p + " because there was no version information",
                            detail: q
                        }; var x = w.service; if (void 0 === x) throw { YD: !0, code: "FAIL", display: "Unable to build the URL for " + p + " because there was no service information", detail: q }; var y = w.orgOverride; if (void 0 === y && (y = q.organization, void 0 === y)) throw { YD: !0, code: "FAIL", display: "Unable to build the URL for " + p + " because there was no organization information", detail: q }; return w.isPlayApiDirect ? n.NIb(u) + "/" + y + "/" + x + "/" + v : n.CIb(u) + "/" + y + "/" + x + "/" + v + "/" + (void 0 === t ? "router" : t)
                    }; b.OSa = function (n, q) {
                        var p = { "Content-Type": "text/plain" };
                        q = q(); n.dRa && q && (p["X-Esn"] = q.wm); return p
                    }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.bca = b.me = void 0; r = b.me || (b.me = {}); r[r.lp = 0] = "startPlayback"; r[r.jq = 1] = "endPlayback"; r[r.io = 2] = "underflow"; b.bca = "AseIntegrationFactorySymbol" }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.mJ = void 0; var c = a(12), f = a(14), k = a(62), m = a(54), g = a(3), d = a(20), h = a(8), l = a(24), n = a(11), q = a(302), p = a(18); r = a(39); h.ta.get(r.ai).register(g.N.XEa, function (u) {
                        function t() {
                            t = c.Sj; var z = setInterval(w,
                                f.config.cPb); k.ye.addListener(k.Jl, function (A) { A && A.isPopStateEvent ? v.trace("popstate event, Lock timers can stay") : ((0, l.xe)(x, function (B, E) { localStorage.removeItem(E.ls) }), clearInterval(z)) }, c.wF)
                        } function w() { var z = (0, m.p4)(); (0, l.xe)(x, function (A, B) { !1; A = localStorage.getItem(B.ls); (A = JSON.parse(A)) ? A.updated = z : A = { updated: z, sessionId: y, count: 1 }; localStorage.setItem(B.ls, JSON.stringify(A)) }) } (0, d.gb)(q.storage); var v = (0, h.vh)("StorageLock"), x = {}, y = Date.now() + "-" + Math.floor(1E6 * Math.random()); b.mJ =
                        {
                            Qy: function (z, A, B) {
                                function E(I) { localStorage.setItem(G, JSON.stringify(I)); I = { ls: G }; x[G] = I; v.trace("Lock acquired", { Name: I.ls }); t(); A({ ga: !0, j8: I }) } var D = this; B = void 0 === B ? !1 : B; if (localStorage) {
                                    var F = (0, m.p4)(), G = "lock-" + z, C = { updated: F, sessionId: y, count: 1 }; try {
                                        if (G in localStorage) {
                                            var H = localStorage.getItem(G), L = 0, N = JSON.parse(H); (0, p.lA)(N.updated) && (L = N.updated); var J = (0, n.hF)(F - L) * c.Xl, Q = y === N.sessionId; if (J < f.config.U2a) if (Q) N.count += 1, v.debug("Incremented lock count for existing playbackSession",
                                                { id: y, count: N.count }), N.updated = F, E(N); else if (B) { var K = f.config.U2a - J + c.Xl; v.error("Waiting until current expiration to confirm whether lock is still active", { id: y, count: N.count, Epoch: F, LockEpoch: L, waitTimeoutMs: K }); ub.setTimeout(function () { return D.Qy(z, A, !1) }, K) } else A({ ga: !1 }); else v.error("Lock was expired or invalid, ignoring", { Epoch: F, LockEpoch: L }), E(C)
                                        } else E(C)
                                    } catch (I) { v.error("Error acquiring Lock", { errorSubCode: g.M.ci, errorDetails: (0, l.$d)(I) }), A({ ga: !0 }) }
                                } else n.yra ? v.error("Local storage access exception",
                                    { errorSubCode: g.M.Llb, errorDetails: (0, l.$d)(n.yra) }) : v.error("No localstorage", { errorSubCode: g.M.Mlb }), A({ ga: !0 })
                            }, release: function (z, A) { (0, d.gb)(x[z.ls] == z); if (localStorage) { try { var B = localStorage.getItem(z.ls), E = JSON.parse(B); 1 < E.count ? (--E.count, localStorage.setItem(z.ls, JSON.stringify(E)), v.trace("Lock count decremented", { Name: z.ls, count: E.count })) : (localStorage.removeItem(z.ls), delete x[z.ls], v.trace("Lock released", { Name: z.ls })) } catch (D) { v.error("Unable to release Lock", { Name: z.ls }, D) } A && A(c.Yd) } }
                        };
                        f.config.r5 ? b.mJ.Qy("session", function (z) { b.mJ.d$a = z; u(c.Yd) }) : u(c.Yd)
                    })
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.storage = void 0; var c = a(14), f = a(12), k = a(530); r = a(3); var m = a(531), g = a(533), d = a(8); a = a(39); b.storage = b.storage || void 0; d.ta.get(a.ai).register(r.N.WEa, function (h) { switch (c.config.b1b) { case "idb": var l = m.Bab; break; case "none": l = k.Dab; break; case "ls": l = g.Cab }l(function (n) { n.ga ? (b.storage = n.storage, h(f.Yd)) : h(n) }) }) }, function (r, b, a) {
                    function c(p) {
                        this.j = p; this.H2a =
                            !1; this.log = (0, m.Oh)(this.j, "Playback"); this.ZN = m.ta.get(n.AR); (0, g.gb)(k.config); k.config.qp || (this.SCb = m.ta.get(d.yCa))
                    } function f(p, u) { function t(v) { return v && 0 < v.length && v[0].VH } var w = m.ta.get(n.AR); return p.da && t(p.Ve) ? w.release({ da: p.da, Ve: p.Ve }).then(function () { }) : u.da && t(u.Ve) ? w.release(u).then(function () { }) : Promise.resolve() } Object.defineProperty(b, "__esModule", { value: !0 }); b.HI = b.GBa = void 0; var k = a(14), m = a(8), g = a(20), d = a(323), h = a(63), l = a(18), n = a(191), q = a(15); c.prototype.TV = function (p) {
                        var u =
                            this; return new Promise(function (t, w) { var v = h.yp.wUa(p.$f), x = p.yn.map(function (z) { return { sessionId: z.sessionId, dataBase64: (0, m.pSa)(z.data) } }), y = u.j.RIb(p.yn[0].sessionId); v = { zi: y.zi, $f: l.is.un(p.$f) ? p.$f : v, h5: [y.sm], yn: x, da: y.da, Rr: p.Rr, uk: y.pa.uk }; u.j.NG && u.j.NG.vU && (v.kX = u.j.NG.vU); u.ZN.Qy(v).then(function (z) { u.j.Ve = z.Ve; t(z); u.sFb(y) }).catch(w) })
                    }; c.prototype.release = function (p) { return f(this.j, p) }; c.prototype.FUa = function () { var p = this.SCb.create(); p.Ve = this.j.Ve; p.da = this.j.da; p.K = this.j.K; return p };
                    c.prototype.sFb = function (p) { this.H2a || (this.H2a = !0, this.j.fireEvent(q.ca.XW, { K: p.K })) }; b.GBa = c; b.HI = f
                }, function (r, b, a) {
                    function c(v) { v = Error.call(this, v); this.message = v.message; "stack" in v && (this.stack = v.stack); this.name = "CodecSwitchingError" } function f(v, x, y, z, A) {
                        var B = this; this.j = v; this.type = x; this.ENa = z; this.log = A; this.C2 = new d.ec(!1); this.OF = { data: [], state: "", operation: "" }; this.mimeType = this.oXa((this.type === k.Yb.Wa.Pb ? this.j.Af.value : this.j.Cb.value).streams); this.zt = new h.Nk; this.iha = { Type: this.type };
                        if (g.config.GD) { var E = !0; this.kna = new d.ec(!1) } this.log.trace("Adding source buffer", this.iha, { TypeId: this.mimeType }); this.sd = y.addSourceBuffer(this.mimeType); this.sd.addEventListener("updatestart", function () { !1; B.OF.state = "updatestart" }); this.sd.addEventListener("update", function () { !1; B.OF.state = "update" }); this.sd.addEventListener("updateend", function () { !1; B.C2.set(!1); B.MNa && B.MNa(); B.OF.state = "updateend"; var D = 0; try { D = B.sd.buffered.length } catch (F) { } E && D && (E = !1, B.kna.set(!0), !1) }); this.sd.addEventListener("error",
                            function (D) { !1; try { var F = D.target.error && D.target.error.message; (D.message || F) && A.error("error event received on sourcebuffer", { mediaErrorMessage: D.message }) } catch (G) { } v.Pd(n.N.Mkb, (0, m.q6)(B.type)) }); this.sd.addEventListener("abort", function () { !1 }); v.addEventListener(u.ca.closed, function () { B.sd = void 0 })
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Rfb = b.Xda = void 0; var k = a(43), m = a(165), g = a(14), d = a(82), h = a(74), l = a(8); a(104); var n = a(3); a(4); var q = a(20), p = a(18), u = a(15), t = a(155), w = a(194); f.prototype.Nh =
                        function () { return this.C2.value }; f.prototype.updating = function () { return this.sd ? this.sd.updating : !1 }; f.prototype.iaa = function (v) { this.MNa = v }; f.prototype.RYa = function () { return this.OF }; f.prototype.buffered = function () { return this.sd.buffered }; f.prototype.toString = function () { return "SourceBuffer (type: " + this.type + ")" }; f.prototype.toJSON = function () { return { type: this.type } }; f.prototype.j6 = function () {
                            try {
                                var v = this.sd.buffered, x = 0; if (v) {
                                    var y = [], z = 0, A = v.length; for (z = 0; z < A; z++) {
                                        var B = v.start(z), E = v.end(z);
                                        x += E - B; (0, q.gb)(E > B); y.push(B + "-" + E)
                                    }
                                } if (y) return { Buffered: x.toFixed(3), Ranges: y.join("|") }
                            } catch (D) { }
                        }; f.prototype.CRa = function (v, x) { !1; try { (0, q.gb)(this.sd.buffered && 1 >= this.sd.buffered.length, "Gaps in media are not allowed: " + JSON.stringify(this.j6())) } catch (y) { } (0, q.gb)(!this.Nh()); this.O$a("append", v); x = x && x.fv / 1E3; (0, p.Ea)(x) && this.sd.timestampOffset !== x && (!1, this.sd.timestampOffset = x); this.sd.appendBuffer(v); !1; this.C2.set(!0) }; f.prototype.remove = function (v, x) {
                            (0, q.gb)(!this.Nh()); try {
                                this.O$a("remove"),
                                    !1, this.sd.remove(v, x), this.C2.set(!0)
                            } catch (y) { this.log.error("SourceBuffer remove exception", y, this.iha) }
                        }; f.prototype.O$a = function (v, x) { this.OF.data = x || []; this.OF.state = "init"; this.OF.operation = v }; f.prototype.L_b = function (v, x) { this.jOb = Math.floor(1E3 * v / x) }; f.prototype.pwb = function (v) {
                            if (this.sd) {
                                if (v = this.oXa([{ type: this.Zxb, Ig: v }]), v !== this.mimeType) {
                                    var x = this.mimeType; this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v); if (!this.sd.changeType) throw new c("Platform doesnt support changing SourceBuffer mime-type");
                                    try { this.sd.changeType(v), this.mimeType = v } catch (y) { throw this.log.error("Error changing SourceBuffer type", y, this.iha, { From: x, To: v }), new c(y.message); }
                                }
                            } else this.log.info("No SourceBuffer")
                        }; f.prototype.appendBuffer = function (v, x) { !x || x.gd ? this.Sia(v, x) : this.B3(v, x); return !0 }; f.prototype.Sia = function (v, x) { this.j.Kf.Sia(this, v, x || {}) }; f.prototype.B3 = function (v, x) { v = this.Sxb(v, x); !1; this.j.Kf.B3(v) }; f.prototype.Sxb = function (v, x) {
                            var y = this.jOb || 0; return {
                                tTa: function () { this.response = void 0 }, wi: function () { return this.requestId },
                                constructor: { name: "MediaRequest" }, mediaType: this.mediaType, readyState: w.xc.Xc.DONE, UA: x.Z, ux: x.Z + x.duration, Sr: x.duration, fv: y, kk: x.kk, ha: x.ha, Ta: x.Ta, Md: +x.Md, location: x.location, mM: x.offset, lM: x.offset + x.ea - 1, bitrate: x.bitrate, response: v, P_a: v && 0 < v.byteLength, AD: !0, get gd() { return !this.AD }, O9a: this.Yj - y || Infinity, toJSON: function () {
                                    var z = { requestId: this.requestId, segmentId: this.ha, isHeader: this.gd, ptsStart: this.UA, ptsOffset: this.fv, responseType: this.Eac, duration: this.Sr, readystate: this.Ih }; this.stream &&
                                        (z.bitrate = this.stream.bitrate); return JSON.stringify(z)
                                }
                            }
                        }; f.prototype.endOfStream = function () { var v; this.j.rG("EndOfStream"); null === (v = this.j.Kf) || void 0 === v ? void 0 : v.u9(this.mediaType) }; f.prototype.addEventListener = function (v, x, y) { this.zt.addListener(v, x, y) }; f.prototype.removeEventListener = function (v, x) { this.zt.removeListener(v, x) }; f.prototype.oXa = function (v) { var x = l.ta.get(t.cS); return this.type === k.Yb.Wa.Pb ? x.F4(v) : x.B4(v) }; Ya.Object.defineProperties(f.prototype, {
                            mediaType: {
                                configurable: !0, enumerable: !0,
                                get: function () { return this.type }
                            }, Y3: { configurable: !0, enumerable: !0, get: function () { return this.ENa.Y3 } }, sZ: { configurable: !0, enumerable: !0, get: function () { return this.ENa.sZ } }, Zxb: { configurable: !0, enumerable: !0, get: function () { return 0 === this.type ? "audio" : "video" } }
                        }); b.Xda = f; qa(c, Error); b.Rfb = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.aVa = b.Ura = void 0; var c = a(20), f = a(24), k = a(18); (function () {
                        function m(l) { (0, c.gb)(void 0 !== g[l]); return g[l] } var g = { '"': '""', "\r": "", "\n": " " },
                            d = /["\r\n]/g, h = /[", ]/; b.aVa = function (l) { return (0, k.Mc)(l) ? (0, k.Ea)(l) ? l : (0, k.Zf)(l) ? l.replace(d, m) : (0, k.tqa)(l) ? l : isNaN(l) ? "NaN" : "" : "" }; b.Ura = function (l) { var n = b.aVa, q = ""; (0, f.xe)(l, function (p, u) { p = n(p) + "=" + n(u); h.test(p) && (p = '"' + p + '"'); q = q ? q + ("," + p) : p }); return q }
                    })()
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Qj = void 0; r = b.Qj || (b.Qj = {}); r[r.lab = 1] = "sourceopen"; r[r.fq = 2] = "currentTimeChanged"; r[r.aZ = 3] = "seeked"; r[r.G2a = 5] = "licenseadded"; r[r.kab = 6] = "sourceBuffersAdded"; r[r.E9 =
                        7] = "onNeedKey"
                }, function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Vea = "PlaygraphStateFactorySymbol"
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.gea = "NrdpAccountManagerSymbol"
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.xv = void 0;
                    var c = a(76),
                        f = a(12),
                        k = a(14),
                        m = a(46),
                        g = a(54),
                        d = a(8),
                        h = a(3),
                        l = a(24),
                        n = a(73),
                        q = a(11),
                        p = a(98),
                        u = a(39),
                        t = a(32),
                        w = a(29),
                        v = a(16);
                    b.xv = function() {
                        function x(D) {
                            var F = "info",
                                G = "";
                            console.log('issue starts here...', D)
                            var C = d.ta.get(n.FF).zZa();
                            console.log('D', D, F, G, C);
                            // debugger;
                            D.ga || (F = "error", G +=
                                "&errorcode=" + (D.errorCode || ""), G += "&errorsubcode=" + (D.ma || ""));
                            G = "type=startup&sev=" + F + G + "&" + (0, m.AO)((0, l.Ub)({}, C, {
                                prefix: "m_"
                            }));
                            !1;
                            console.log('x:', G, z);
                            y("startup", G, z)
                        }
                
                        function y(D, F, G) {
                            G && A && k.config.Obb[D] && (D = B + "&jsoffms=" + (0, g.jk)() + "&do=" + q.ie.onLine + "&" + F + "&" + (0, m.AO)((0, l.Ub)({}, E.yd, {
                                prefix: "im_"
                            })), !1, console.log('the download', G, D), c.lf.download({
                                url: G,
                                yua: D,
                                withCredentials: !0,
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded"
                                },
                                UC: "track"
                            }, f.Sj))
                        }
                        var z, A = !1,
                            B = "";
                        (0, d.vh)("TrackingLog");
                        var E = d.ta.get(u.ai);
                        E.register(h.N.YEa,
                            function(D) {
                                if (A = k.config.Nbb && !!k.config.Ss) {
                                    z = d.ta.get(p.BB).host + k.config.Ss;
                                    console.log('z:', z);
                                    var F = d.ta.get(w.Tj),
                                        G = d.ta.get(w.hy),
                                        C = d.ta.get(v.bd).id;
                                    B = "cat=cadplayback&dev=" + encodeURIComponent(F.PU) + "&ep=" + encodeURIComponent(G.Sca) + "&ver=" + encodeURIComponent("6.0034.519.611") + "&jssid=" + C + "&browserua=" + q.PB;
                                    k.config.Zz && (B += "&groupname=" + encodeURIComponent(k.config.Zz));
                                    k.config.IJ && (B += "&uigroupname=" + encodeURIComponent(k.config.IJ));
                                    F = B;
                                    G = d.ta.get(t.WR);
                                    G = (0, l.Ub)({}, G, {
                                        prefix: "pi_"
                                    });
                                    G = "&" + (0, m.AO)(G);
                                    B = F +
                                        G;
                
                                    E.$N(x)
                                }
                                D(f.Yd)
                            });
                        return y
                    }()}, function (r, b, a) { b = a(253); r.exports = "undefined" !== typeof b && "undefined" !== typeof nrdp ? nrdp.fa : Date.now }, function (r) {
                    r.exports = {
                        Ux: { zfa: 0, hLa: 1, vl: 2, name: ["transient", "semiTransient", "permanent"] }, Qx: { xDa: 0, gLa: 1, w1: 2, TR: 3, gy: 100, name: ["firstLoad", "scrollHorizontal", "search", "playFocus"] }, kac: { $$b: 0, L8b: 1, M6b: 2, gy: 100, name: ["trailer", "montage", "content"] }, Jv: { BFa: 0, OKa: 1, hmb: 2, Ogb: 3, gy: 100, name: ["left", "right", "up", "down"] }, yR: {
                            Kfb: 0, w1: 1, h8b: 2, F7b: 3, d6b: 4, g8b: 5, yeb: 6,
                            gy: 100, name: "continueWatching search grid episode billboard genre bigRow".split(" ")
                        }, qK: { TR: 0, QBa: 1, gy: 100, name: ["playFocused", "detailsOpened"] }
                    }
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(45); r = function () { function f() { } f.prototype.NYa = function (k) { var m = Reflect.getMetadata(c.lea, k); k = Reflect.getMetadata(c.lMa, k); return { RTa: m, M4b: k || {} } }; f.prototype.XIb = function (k) { return Reflect.getMetadata(c.mMa, k) || [] }; return f }(); b.Zda = r }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); var c = a(58); b.N1a = function (f) { return f instanceof RangeError || f.message === c.Hlb }
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(58), f = a(45), k = a(65), m = a(95); r = function () { function g(d) { this.dnb = d } g.prototype.M3b = function () { return this.dnb() }; return g }(); b.Dda = r; b.l = function (g) { return function (d, h, l) { if (void 0 === g) throw Error(c.fmb(d.name)); var n = new k.Metadata(f.vR, g); "number" === typeof l ? m.sJ(d, h, l, n) : m.HZ(d, h, n) } } }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); var c = a(45), f = a(110), k = a(65), m = a(579); r = function () {
                            function g(d, h, l, n) { this.id = f.id(); this.type = d; this.Og = l; this.name = new m.klb(h || ""); this.Hc = []; d = null; "string" === typeof n ? d = new k.Metadata(c.OB, n) : n instanceof k.Metadata && (d = n); null !== d && this.Hc.push(d) } g.prototype.V_a = function (d) { for (var h = 0, l = this.Hc; h < l.length; h++)if (l[h].key === d) return !0; return !1 }; g.prototype.isArray = function () { return this.V_a(c.fF) }; g.prototype.TPb = function (d) { return this.dsa(c.fF)(d) }; g.prototype.Eqa =
                                function () { return this.V_a(c.OB) }; g.prototype.Rqa = function () { return this.Hc.some(function (d) { return d.key !== c.vR && d.key !== c.fF && d.key !== c.X0 && d.key !== c.hS && d.key !== c.OB }) }; g.prototype.F1a = function () { return this.dsa(c.bIa)(!0) }; g.prototype.uIb = function () { return this.Eqa() ? this.Hc.filter(function (d) { return d.key === c.OB })[0] : null }; g.prototype.gHb = function () { return this.Rqa() ? this.Hc.filter(function (d) { return d.key !== c.vR && d.key !== c.fF && d.key !== c.X0 && d.key !== c.hS && d.key !== c.OB }) : null }; g.prototype.dsa =
                                    function (d) { var h = this; return function (l) { for (var n = 0, q = h.Hc; n < q.length; n++) { var p = q[n]; if (p.key === d && p.value === l) return !0 } return !1 } }; return g
                        }(); b.I1 = r
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(200), f = a(201); r = function () { function k(m) { this.Fc = m; this.pS = new f.nca(this.Fc); this.Zfa = new c.K_(this.Fc) } k.prototype.when = function (m) { return this.pS.when(m) }; k.prototype.t_ = function () { return this.pS.t_() }; k.prototype.kx = function (m) { return this.Zfa.kx(m) }; return k }(); b.NE = r },
                function (r, b, a) { function c(m) { return function (g) { function d(h) { return null !== h && null !== h.target && h.target.dsa(m)(g) } d.r4a = new k.Metadata(m, g); return d } } function f(m, g) { m = m.LA; return null !== m ? g(m) ? !0 : f(m, g) : !1 } Object.defineProperty(b, "__esModule", { value: !0 }); r = a(45); var k = a(65); b.Vbb = f; b.cbb = c; a = c(r.OB); b.U4a = a; b.bcb = function (m) { return function (g) { if (null !== g) { var d = g.YT[0]; return "string" === typeof m ? d.Og === m : m === g.YT[0].Bm } return !1 } } }, function (r, b, a) {
                    function c(m, g) {
                        this.wg = g; this.tA = Math.floor(m);
                        this.display = this.tA + " " + this.wg.name
                    } function f(m, g, d) { this.wg = m; this.name = g; this.Bl = d ? d : this; (0, k.Zo)(this, "base") } Object.defineProperty(b, "__esModule", { value: !0 }); b.kt = b.iS = void 0; var k = a(59); f.prototype.jV = function (m) { return this.wg == m.wg }; f.prototype.toJSON = function () { return this.name }; b.iS = f; c.prototype.$ = function (m) { return this.wg.jV(m) ? this.tA : Math.floor(this.tA * this.wg.wg / m.wg) }; c.prototype.u7a = function (m) { return this.wg.jV(m) ? this.tA : this.tA * this.wg.wg / m.wg }; c.prototype.as = function (m) {
                        return new c(this.$(m),
                            m)
                    }; c.prototype.to = function (m) { return new c(this.$(m), m) }; c.prototype.toString = function () { return this.display }; c.prototype.toJSON = function () { return { magnitude: this.tA, units: this.wg.name } }; c.prototype.add = function (m) { return this.LTa(m) }; c.prototype.Ja = function (m) { return this.LTa(m, function (g) { return -g }) }; c.prototype.scale = function (m) { return new c(this.$(this.wg.Bl) * m, this.wg.Bl) }; c.prototype.El = function (m) { return this.$(this.wg.Bl) - m.$(this.wg.Bl) }; c.prototype.jV = function (m) { return 0 == this.El(m) }; c.prototype.W1a =
                        function () { return 0 == this.tA }; c.prototype.Fqa = function () { return 0 > this.tA }; c.prototype.hNb = function () { return 0 < this.tA }; c.prototype.LTa = function (m, g) { g = void 0 === g ? function (d) { return d } : g; return new c(this.$(this.wg.Bl) + g(m.$(this.wg.Bl)), this.wg.Bl) }; b.kt = c
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.xJa = "PlatformConfigOverridesSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.HFa = "LegacyEmeSessionFactorySymbol" }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.cBa = "CastDeviceInfoPlatformConfigOverrides"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.q$ = void 0; b.q$ = function (a, c) { return [].concat.apply([], la(a)).map(function (f) { return Object.assign({ name: f }, null !== c && void 0 !== c ? c : {}) }) } }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.yCa = "DrmDataFactorySymbol" }, function (r, b, a) {
                    function c(m, g, d, h, l) { this.version = m; this.KO = g; this.Fab = d; this.Rl = h; this.Hx = l; this.xw = [] } Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.tda = void 0; var f = a(3), k = a(40); c.prototype.load = function (m) { return this.POb(m) }; c.prototype.add = function (m) { this.xw.push(m); return this.cua() }; c.prototype.remove = function (m, g) { m = this.HYa(this.oN(m, g)); return 0 <= m ? (this.xw.splice(m, 1), this.cua()) : Promise.resolve() }; c.prototype.update = function (m, g) { g = this.HYa(this.oN(m, g)); return 0 <= g ? (this.xw[g] = m, this.cua()) : Promise.resolve() }; c.prototype.POb = function (m) {
                            var g = this; this.N2a || (this.N2a = new Promise(function (d, h) {
                                function l(n) { g.PBb().then(function () { h(n) }).catch(function () { h(n) }) }
                                g.Xoa().then(function (n) { g.storage = n; return g.storage.load(g.KO) }).then(function (n) { n = n.value; try { var q = m(n); g.version = q.version; g.xw = q.data; d() } catch (p) { l(p) } }).catch(function (n) { n.ma !== f.M.oy ? h(n) : d() })
                            })); return this.N2a
                        }; c.prototype.cua = function () { var m = this; if (!this.Fab) return Promise.resolve(); if (this.waa) { var g, d, h = new Promise(function (n, q) { g = n; d = q }), l = function () { m.waa = h; m.Eab().then(function () { g() }).catch(function (n) { d(n) }) }; this.waa.then(l).catch(l); return h } return this.waa = this.Eab() }; c.prototype.Eab =
                            function () { var m = this, g = this.Hx(); return new Promise(function (d, h) { m.Xoa().then(function (l) { return l.save(m.KO, g, !1) }).then(function () { d() }).catch(function (l) { h(c.fya(f.N.vkb, l)) }) }) }; c.prototype.PBb = function () { var m = this; return this.Fab ? new Promise(function (g, d) { m.Xoa().then(function (h) { return h.remove(m.KO) }).then(function () { g() }).catch(function (h) { d(h) }) }) : Promise.resolve() }; c.prototype.Xoa = function () { return this.storage ? Promise.resolve(this.storage) : this.Rl.create() }; c.prototype.oN = function (m,
                                g) { for (var d = 0; d < this.xw.length; ++d)if (g(this.xw[d], m)) return this.xw[d] }; c.prototype.HYa = function (m) { return m ? this.xw.indexOf(m) : -1 }; c.fya = function (m, g, d) { return g.ma && g.cause ? new k.Wc(m, g.ma, void 0, void 0, void 0, d, void 0, g.cause) : void 0 !== g.jd ? (d = (g.message ? g.message + " " : "") + (d ? d : ""), g.code = m, g.message = "" === d ? void 0 : d, g) : g instanceof Error ? new k.Wc(m, f.M.ci, void 0, void 0, void 0, d, g.stack, g) : new k.Wc(m, f.M.wl, void 0, void 0, void 0, d, void 0, g) }; b.tda = c
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.bfa = "QueryStringDataProviderSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.JHa = "NetworkMonitorConfigSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.BAa = "BrowserInfoSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ACa = "DrmProviderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.bDa = "EmeSessionFactorySymbol" }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.ZCa = b.IF = void 0;
                    r = b.IF || (b.IF = {}); r[r.Request = 0] = "Request"; r[r.SKa = 1] = "Renewal"; b.ZCa = "EmeApiSymbol"
                }, function (r, b) { function a() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.B1 = void 0; a.TLb = function (c) { return "ID" + (c + 1) }; a.Lab = function (c) { return Number(c.substr(2)) - 1 }; b.B1 = a }, function (r, b, a) {
                    function c(G, C, H, L, N, J, Q, K) {
                        var I = this; this.ya = C; this.Ot = H; this.config = L; this.Jh = N; this.Vl = J; this.Rr = Q; this.hp = K; this.keyStatuses = new z.ec({}); this.NX = function (M) {
                            var O; try {
                                var P = I.Vl.cla(M), S = P.bI, U = P.messageType, Z = P.sessionId;
                                I.PH = I.PH || P.PH; I.hZ(Z); I.log.trace("Received " + M.type + " event", { sessionId: Z, messageType: U, keyIds: I.PH }); if (U === b.HR) { if (I.config.bma) { I.log.trace("Disabling license renewal"); return } I.log.trace("Received a renewal request"); I.$f = n.ei.Fp; I.jl = E.JI } I.jl === E.Rh && I.Vp(q.ht.q8a); I.jl === E.JI && I.Vp(q.ht.r8a); var ia = { yn: S, gTa: U, $f: I.$f }; null === (O = I.lTb) || void 0 === O ? void 0 : O.call(I, ia); I.VW && (I.zpa(S) ? I.ED(new y.Wc(m.N.QCa)) : (I.VW.resolve(ia), I.VW = void 0))
                            } catch (ya) { I.ED(ya) }
                        }; this.Ata = function (M) {
                            var O,
                                P, S = M.target, U = S.keyStatuses, Z; I.hZ(S.sessionId); I.log.trace("Received event: " + M.type); try {
                                    var ia = null === (P = null === (O = I.context) || void 0 === O ? void 0 : O.bv) || void 0 === P ? void 0 : P.reduce(function (ha, pa) { ha[pa.Qn] = pa.QI.height; return ha }, {}); M = []; for (var ya = da(U), na = ya.next(); !na.done; na = ya.next()) { var X = da(na.value), ra = X.next().value, T = X.next().value, R = I.Ot.encode(new Uint8Array(ra)); M.push({ Qn: R, status: T, height: null === ia || void 0 === ia ? void 0 : ia[R] }) } M.sort(function (ha, pa) {
                                        return (ha.height || 0) - (pa.height ||
                                            0)
                                    }); var ca = M.map(function (ha) { return ha.Qn }), ua = M.map(function (ha) { return ha.height }), aa = M.map(function (ha) { return ha.status }); I.log.trace("KeyStatus: " + ca + ", " + ua + ", " + aa); ia = {}; for (var La = da(U), Ua = La.next(); !Ua.done; Ua = La.next()) { var $a = da(Ua.value), Za = $a.next().value, cb = $a.next().value, Wa = I.Ot.encode(new Uint8Array(Za)), Pa = D[cb]; ia[Wa] = Pa.status; I.E7(Wa, Pa.error) && (Z = new v.jh(Pa.error)) } I.keyStatuses.set(ia)
                                } catch (ha) { Z = new v.jh(m.N.Fkb), Z.OU(ha) } Z ? I.ks ? I.O7(Z) : I.LW(Z) : (I.Vl.u4() || I.Y1a(), I.$f !==
                                    n.ei.Bp || I.Vl.nja() || (I.config.bma ? I.log.trace("Disabling license renewal") : I.hYb()))
                        }; this.sI = function (M) { var O = I.Vl.mz(M); I.log.error("Received event: " + M.type, O); I.ED(O); I.O7(O); I.pq || I.ks || I.LW(O) }; this.dTb = function (M) { I.log.error("MediaKeySession closed unexpectedly: " + M); I.LW(new y.Wc(m.N.RCa, F[M])) }; this.ED = function (M) {
                            var O; I.pq && I.close().then(function () { var P; I.log.trace("Issuing a generate challenge error"); null === (P = I.pq) || void 0 === P ? void 0 : P.reject(M); I.pq = void 0 }, function (P) {
                                var S; I.log.error("EmeSession closed with an error.",
                                    I.Vl.mz(P)); null === (S = I.pq) || void 0 === S ? void 0 : S.reject(M); I.pq = void 0
                            }); null === (O = I.VW) || void 0 === O ? void 0 : O.reject(M)
                        }; this.ENb = function () { var M; null === (M = I.pq) || void 0 === M ? void 0 : M.resolve(); I.pq = void 0 }; this.O7 = function (M) {
                            I.log.error("Failed to add license", M); return I.close().then(function () { var O; I.log.trace("Issuing a license error"); I.pq = void 0; null === (O = I.ks) || void 0 === O ? void 0 : O.reject(M); I.ks = void 0 }, function (O) {
                                var P; I.log.error("EmeSession closed with an error.", I.Vl.mz(O)); I.jl === E.JI &&
                                    I.Vp(q.ht.ZQa); I.pq = void 0; null === (P = I.ks) || void 0 === P ? void 0 : P.reject(M); I.ks = void 0
                            }).then(function () { throw M; })
                        }; this.Y1a = function () { I.ks && (I.log.info("Successfully added license"), I.jl === E.Rh ? I.Vp(q.ht.PQa) : I.jl === E.JI && I.Vp(q.ht.YQa), I.ks.resolve(), I.ks = void 0) }; this.LW = function (M) {
                            I.close().then(function () { var O; I.log.trace("Issuing a CDM error"); I.pq = void 0; I.ks = void 0; null === (O = I.J5a) || void 0 === O ? void 0 : O.call(I, M) }, function (O) {
                                var P; I.log.error("EmeSession closed with an error.", I.Vl.mz(O));
                                I.pq = void 0; I.ks = void 0; null === (P = I.J5a) || void 0 === P ? void 0 : P.call(I, M)
                            })
                        }; this.Vp = function (M) { I.yd.push({ time: I.ya.Rb(), DA: M }) }; this.N8a = !1; this.log = G.lb("EmeSession"); this.jl = E.F3b; this.yd = []
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.cDa = b.HR = b.Qda = void 0; r = a(1); var f = a(0), k = a(4), m = a(3), g = a(16), d = a(7), h = a(41), l = a(70), n = a(60), q = a(333), p = a(209), u = a(137), t = a(207), w = a(330), v = a(96), x = a(64), y = a(40), z = a(82), A = a(624), B = a(56), E; (function (G) {
                        G[G.F3b = 0] = "unknown"; G[G.create = 1] = "create"; G[G.load = 2] =
                            "load"; G[G.Rh = 3] = "license"; G[G.JI = 4] = "renewal"; G[G.stop = 5] = "stop"; G[G.closed = 6] = "closed"
                    })(E || (E = {})); b.Qda = "license-request"; b.HR = "license-renewal"; var D = { usable: { status: p.Ev.Kcb }, expired: { status: p.Ev.iu, error: m.N.i1 }, released: { status: p.Ev.released }, "output-not-allowed": { status: p.Ev.d6a, error: m.N.pea }, "output-restricted": { status: p.Ev.d6a, error: m.N.qea }, "output-downscaled": { status: p.Ev.cUb }, "status-pending": { status: p.Ev.X0b }, "internal-error": { status: p.Ev.mMb, error: m.N.pIa } }, F = {
                        "internal-error": m.M.ghb,
                        "closed-by-application": m.M.dhb, "release-acknowledged": m.M.khb, "hardware-context-reset": m.M.NCa, "resource-evicted": m.M.mhb
                    }; c.prototype.Pz = function () { return (0, B.poa)(this.EQb) }; c.prototype.Oz = function () { return this.sessionId }; c.prototype.close = function () {
                        var G = this; this.jl = E.closed; this.yd = []; return this.Jh.oNb() ? (this.log.trace("Closing the session"), this.Jh.I8a(this.NX), this.Jh.G8a(this.Ata), this.Jh.E8a(this.sI), this.mediaKeys = void 0, this.hp.Pq(this.config.wRa, this.Jh.close()).then(function () { G.log.info("Closed the session") }).catch(function (C) {
                            G.log.error("Close failed",
                                C); G.Vl.mz(C).code = m.N.Hkb; throw C;
                        })) : Promise.resolve(void 0)
                    }; c.prototype.ru = function () { return this.Rr }; c.prototype.W6 = function () { return void 0 !== this.Dm }; c.prototype.createSession = function (G, C, H, L) {
                        var N = this; this.context = L; this.EQb = G; this.$f = H; this.jl = E.create; this.Vp(q.ht.F2a); return (C.Q_a() ? Promise.resolve() : this.hp.Pq(this.config.xRa, this.Jh.createMediaKeys(G)).then(function (J) {
                            N.log.trace("Created media keys"); return N.utb(J).then(function () { return C.RQa(J) }).catch(function (Q) {
                                return Promise.reject(N.Oua(Q,
                                    m.N.nhb))
                            })
                        })).then(function () { N.mediaKeys = C.mediaKeys; try { N.Jh.createSession(N.mediaKeys, "temporary"), N.Jh.TQa(N.NX), N.Jh.NQa(N.Ata), N.Jh.LQa(N.sI), N.Jh.hsb(N.dTb), N.hZ(N.Jh.Oz()) } catch (J) { return Promise.reject(N.Oua(J, m.N.LCa)) } }).catch(function (J) { return Promise.reject(N.Oua(J, m.N.p0)) })
                    }; c.prototype.y_b = function (G) { this.$i = G; this.log.IQa("xid", G.da) }; c.prototype.kGb = function (G) { var C = this; return this.generateRequest(G).then(function () { C.log.trace("Returning the challenge promise"); return C.VW.promise }) };
                    c.prototype.lGb = function (G) { this.generateRequest(G); return this.pq.promise }; c.prototype.OQa = function (G) { this.Ve = G.Ve; G = G.Dm.map(function (C) { return C.data }); this.zpa(G) ? (this.log.error("The license buffer is empty"), this.ED(new v.jh(m.N.PCa, m.M.MCa))) : (this.jl === E.Rh && (this.Vp(q.ht.p8a), this.Dm = G, this.lWa = this.Vl.rN(this.PH, G), this.ENb()), this.jl === E.JI && (this.Vp(q.ht.s8a), this.Dm = G, this.lWa = this.Vl.rN(this.PH, G), this.Wia())) }; c.prototype.ssb = function (G) {
                        this.jl === E.JI ? (this.Vp(q.ht.t8a), this.LW(G)) :
                            this.ED(G)
                    }; c.prototype.Wia = function () { var G = this; if (!this.Dm) return this.O7(new v.jh(m.N.PCa, m.M.SCa)); this.ks = new A.n1; var C = this.Dm; this.Dm = void 0; this.hp.Pq(this.config.BRa, this.Jh.update(C, this.jl === E.Rh ? w.IF.Request : w.IF.SKa, this.PH)).then(function () { G.Vl.u4() && G.Y1a() }).catch(function (H) { H = G.Vl.mz(H); H.code = m.N.sea; H.message = "Unable to update the EME"; G.log.error(H.message, H); G.O7(H) }); return this.ks.promise }; c.prototype.s_b = function (G) { this.lTb = G }; c.prototype.l_b = function (G) { this.J5a = G }; c.prototype.rN =
                        function () { return this.lWa }; c.prototype.generateRequest = function (G) {
                            var C = this; this.jl = E.Rh; this.log.trace("Generating a license challenge"); this.pq = new A.n1; this.VW = new A.n1; return G ? this.zpa(G) ? (G = new v.jh(m.N.OCa, m.M.MCa), this.ED(G), Promise.reject(G)) : this.hp.Pq(this.config.yRa, this.Jh.generateRequest(this.Vl.SV(), G)).then(function () { C.hZ(C.Jh.Oz()) }).catch(function (H) {
                                var L = new v.jh(m.N.WQ, H instanceof x.xr ? m.M.XQ : m.M.ci); try {
                                    var N = C.Vl.mz(H); L.Kg = N.Kg; L.message = "Unable to generate request.";
                                    L.OU(H)
                                } catch (J) { } C.log.error("Unable to generate a license request", L); C.ED(L); return Promise.reject(L)
                            }) : (G = new v.jh(m.N.OCa, m.M.SCa), this.ED(G), Promise.reject(G))
                        }; c.prototype.utb = function (G) { var C = this, H = this.Vl.Sna(); return H ? (H = this.Ot.decode(H), this.hp.Pq(this.config.ARa, this.Jh.setServerCertificate(G, H)).then(function (L) { C.log.trace("Set the server certificate", { result: L }) })) : Promise.resolve() }; c.prototype.hZ = function (G) {
                            G && G !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " +
                                this.sessionId + " to " + G), this.sessionId = G, this.log.IQa("sessionId", G))
                        }; c.prototype.hYb = function () { var G = this; this.N8a || (this.N8a = !0, this.log.info("Kicking off license renewal", { timeout: this.config.GD }), setTimeout(function () { G.fP() }, this.config.GD.$(k.ja))) }; c.prototype.wNb = function (G) { var C, H; return !(null === (H = null === (C = this.context) || void 0 === C ? void 0 : C.bv) || void 0 === H || !H.some(function (L) { return L.Qn === G && 1080 < L.QI.height })) }; c.prototype.E7 = function (G, C) {
                            return C === m.N.qea ? this.wNb(G) ? this.config.f6a :
                                this.config.e6a : !!C
                        }; c.prototype.fP = function () { this.log.trace("Initiating a renewal request"); this.$f = n.ei.Fp; this.jl = E.JI; this.Vl.bka() ? this.Vl.oqa(this.Jh) : this.E4() }; c.prototype.E4 = function () { var G = this; this.Jh.E4(this.mediaKeys, "temporary", this.NX, this.Ata, this.sI).then(function () { G.log.debug("Creating session to renew license"); G.hZ(G.Jh.Oz()) }).catch(function () { G.LW(new v.jh(m.N.WQ)) }) }; c.prototype.zpa = function (G) { return 0 === G.length || G.reduce(function (C, H) { return C || 0 === H.length }, !1) }; c.prototype.Oua =
                            function (G, C) { var H; if ((null === G || void 0 === G ? 0 : G.code) && (null === G || void 0 === G ? 0 : G.jd)) return G; var L = (0, B.Doa)(null === G || void 0 === G ? void 0 : G.message); return new v.jh(C, G instanceof x.xr ? m.M.XQ : m.M.ci, null === (H = null === L || void 0 === L ? void 0 : L.toString(16)) || void 0 === H ? void 0 : H.toUpperCase(), null === G || void 0 === G ? void 0 : G.message, G) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(d.ub)), r.__param(1, (0, f.l)(g.bd)), r.__param(2, (0, f.l)(h.kj)), r.__param(3, (0, f.l)(l.Fv)), r.__param(4, (0, f.l)(w.ZCa)), r.__param(5,
                                (0, f.l)(t.ahb)), r.__param(6, (0, f.l)(u.ECa)), r.__param(7, (0, f.l)(x.jy))], a); b.cDa = a
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.mWa = b.ht = void 0; var a; (function (c) {
                        c[c.F2a = 0] = "licenseStarted"; c[c.q8a = 1] = "receivedLicenseChallenge"; c[c.p8a = 2] = "receivedLicense"; c[c.r8a = 3] = "receivedRenewalChallengeComplete"; c[c.s8a = 4] = "receivedRenewalLicenseComplete"; c[c.t8a = 5] = "receivedRenewalLicenseFailed"; c[c.gXb = 6] = "receivedIndivChallengeComplete"; c[c.hXb = 7] = "receivedIndivLicenseComplete"; c[c.PQa =
                            8] = "addLicenseComplete"; c[c.YQa = 9] = "addRenewalLicenseComplete"; c[c.ZQa = 10] = "addRenewalLicenseFailed"
                    })(a = b.ht || (b.ht = {})); b.mWa = function (c) { switch (c) { case a.F2a: return "lg"; case a.q8a: return "lc"; case a.p8a: return "lr"; case a.r8a: return "renew_lc"; case a.s8a: return "renew_lr"; case a.t8a: return "renew_lr_failed"; case a.gXb: return "ilc"; case a.hXb: return "ilr"; case a.PQa: return "ld"; case a.YQa: return "renew_ld"; case a.ZQa: return "renew_ld_failed"; default: return "unknown" } }
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.uBa = "ClockConfigSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.dIa = "OneWayCounterFactorySymbol" }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.lca = void 0; r = a(1); a = a(0); var f = { 0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15 }; c.prototype.decode = function (m) { for (var g = new Uint8Array(m.length / 2), d = 0; d < g.length; d++)g[d] = this.Hbb(m.substr(2 * d, 2)); return g }; c.prototype.encode =
                        function (m) { for (var g = "", d = m.length, h = 0; h < d; h++) { var l = m[h]; g += "0123456789ABCDEF"[l >>> 4] + "0123456789ABCDEF"[l & 15] } return g }; c.prototype.DV = function (m, g) { var d = ""; for (g <<= 1; g--;)d = ("0123456789ABCDEF"[m & 15] || "0") + d, m >>>= 4; return d }; c.prototype.Hbb = function (m) { var g = m.length; if (7 < g) throw Error("hex to long"); for (var d = 0, h = 0; h < g; h++)d = 16 * d + f[m[h]]; return d }; var k = c; k = r.__decorate([(0, a.R)()], k); b.lca = k
                }, function (r, b, a) {
                    function c() { this.mq = {}; this.id = "$es$" + f.counter++ } var f; Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.Nk = void 0; r = a(1); a = a(0); c.prototype.addListener = function (m, g, d) { var h = "$netflix$player$order" + this.id + "$" + m; if (this.mq) { var l = this.mq[m] ? this.mq[m].slice() : []; d && (g[h] = d); 0 > l.indexOf(g) && (l.push(g), l.sort(function (n, q) { return (n[h] || 0) - (q[h] || 0) })); this.mq[m] = l } }; c.prototype.removeListener = function (m, g) { if (this.mq && this.mq[m]) { for (var d = this.mq[m].slice(), h; 0 <= (h = d.indexOf(g));)d.splice(h, 1); this.mq[m] = d } }; c.prototype.Gc = function (m, g, d) {
                            if (this.mq) {
                                var h = this.goa(m); for (m = { SJ: 0 }; m.SJ <
                                    h.length; m = { SJ: m.SJ }, m.SJ++)d ? function (l) { return function () { var n = h[l.SJ]; setTimeout(function () { n(g) }, 0) } }(m)() : h[m.SJ].call(this, g)
                            }
                        }; c.prototype.Lh = function () { this.mq = void 0 }; c.prototype.on = function (m, g, d) { this.addListener(m, g, d) }; c.prototype.goa = function (m) { var g; return null !== (g = this.mq && (this.mq[m] || (this.mq[m] = []))) && void 0 !== g ? g : [] }; var k = f = c; k.counter = 0; k = f = r.__decorate([(0, a.R)()], k); b.Nk = k
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.iMa = "StringUtilsSymbol" }, function (r,
                    b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.NBa = "CsvEncoderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Jca = "DecoderTimeoutPathologistSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.bea = b.wjb = void 0; b.wjb = function () { }; b.bea = "MseConfigSymbol" }, function (r, b, a) {
                        function c(k) { this.Hob = void 0 === k ? !1 : k; this.df = { 0: [] } } Object.defineProperty(b, "__esModule", { value: !0 }); b.Zea = void 0; r = a(1); a = a(0); c.prototype.add = function (k, m) {
                            m = void 0 === m ? 0 : m;
                            var g = this.df[m]; g ? this.Hob && -1 !== g.indexOf(k) || g.push(k) : this.df[m] = [k]
                        }; c.prototype.remove = function (k, m) { this.Iy(k, void 0 === m ? 0 : m) }; c.prototype.removeAll = function (k) { this.Iy(k) }; c.prototype.flatten = function () { var k = this; return Object.keys(this.df).sort().reduce(function (m, g) { return m.concat(k.df[g]) }, []) }; c.prototype.Iy = function (k, m) { Object.entries(this.df).forEach(function (g) { var d = da(g); g = d.next().value; d = d.next().value; if (void 0 === m || m === parseInt(g)) { var h; -1 < (h = d.indexOf(k)) && d.splice(h, 1) } }) };
                        var f = c; f = r.__decorate([(0, a.R)()], f); b.Zea = f
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.XMa = "UrlFactorySymbol" }, function (r, b, a) {
                        function c(g, d, h, l, n, q, p) {
                            this.debug = g; this.config = d; this.platform = h; this.E8 = l; this.debug.assert(n && n != k.N.wl, "There should always be a specific error code"); this.errorCode = n || k.N.wl; q && "object" === typeof q ? (this.ma = q.ma || q.jd, this.Te = q.Te || q.Kg, this.bN = q.bN || q.Hw, this.yb = q.yb || q.details, this.MM = q.vm, this.cN = q.cN || q.Xdc || q.FA, this.$M = q.$M || q.data, q.mX &&
                                (this.mX = q.mX), this.mk = q.mk, this.method = q.method, this.f9 = q.f9, this.alert = q.alert, this.Kia = q.Kia, this.BH = q.BH, !this.yb && this.BH && (this.yb = JSON.stringify(this.BH)), this.debug.assert(!this.mk || this.mk == this.Te)) : (this.ma = q, this.Te = p); this.stack = [this.errorCode]; this.ma ? this.stack.push(this.ma) : this.Te && this.stack.push(k.M.wl); this.Te && this.stack.push(this.Te); this.UU = this.platform.dN + this.stack.join("-")
                        } Object.defineProperty(b, "__esModule", { value: !0 }); b.WJa = void 0; var f = a(12), k = a(3), m = a(18); a(24); c.prototype.x$a =
                            function (g) { this.nVb = g }; c.prototype.toString = function () { var g = "[PlayerError #" + this.UU + "]"; this.yb && (g += " " + this.yb); this.MM && (g += " (CustomMessage: " + this.MM + ")"); return g }; c.prototype.BJ = function () {
                                var g, d, h; this.MM && (h = ["streaming_error"]); h || this.E8.ru() !== f.o0 || ("80080017" == this.Te && (h = ["admin_mode_not_supported", "platform_error"]), "8004CD12" === this.Te && (h = ["pause_timeout"])); h || this.E8.ru() !== f.Nca || this.errorCode !== k.N.Pca && this.errorCode !== k.N.p0 || (h = ["no_cdm", "platform_error", "plugin_error"]);
                                h || this.errorCode !== k.N.RCa || this.ma !== k.M.NCa || (h = ["pause_timeout"]); this.qNb() && (h = ["received_soad"]); var l = this.UGb(); l && (h = [l], this.MM = void 0); if (!h) switch (this.errorCode) {
                                    case k.N.h1: case k.N.L0: case k.N.jeb: case k.N.i1: this.nVb && (h = ["pause_timeout"]); break; case k.N.bFa: case k.N.cFa: h = this.ma ? ["platform_error"] : ["multiple_tabs"]; break; case k.N.Qib: case k.N.Plb: case k.N.pib: case k.N.oib: case k.N.rib: h = ["should_signout_and_signin"]; break; case k.N.rda: case k.N.rIa: case k.N.tea: case k.N.zkb: h = ["platform_error",
                                        "plugin_error"]; break; case k.N.Ikb: h = ["no_cdm", "platform_error", "plugin_error"]; break; case k.N.TCa: case k.N.j1: case k.N.sea: switch (this.Te) { case "FFFFD000": h = ["device_needs_service", "platform_error"]; break; case "48444350": h = ["unsupported_output", "platform_error"]; break; case "00000024": h = ["private_mode"] }break; case k.N.pea: case k.N.qea: h = ["unsupported_output"]
                                }!h && (0, k.nDa)(this.ma) && (h = this.ma == k.M.sR ? ["geo"] : ["internet_connection_problem"]); h || this.errorCode !== k.N.p0 || this.ma !== k.M.ci || "S" !== this.platform.dN ||
                                    (h = ["private_mode"]); if (!h) switch (this.Oab(this.ma)) { case k.M.Mfa: h = ["should_upgrade"]; break; case k.M.lIa: h = ["should_reset_device"]; break; case k.M.kIa: h = ["should_reload_device"]; break; case k.M.jIa: h = ["should_exit_device"]; break; case k.M.yjb: case k.M.CGa: h = ["should_signout_and_signin"]; break; case k.M.zjb: h = ["internet_connection_problem"]; break; case k.M.TBa: h = ["platform_error", "plugin_error"]; break; case k.M.SBa: case k.M.FEa: case k.M.GEa: h = ["private_mode"]; break; case k.M.Oda: h = ["should_reload_with_preferred_locales"] }h =
                                        h || []; h.push(this.platform.dN + this.errorCode); if (this.ma) switch (this.Oab(this.ma)) { case k.M.mIa: h.push("incorrect_pin"); break; default: h.push("" + this.ma) }h = { display: { code: this.UU, text: this.MM }, messageIdList: h, alert: this.alert, alertTag: this.Kia, preferredAudioLocale: null === (g = this.BH) || void 0 === g ? void 0 : g.s0a, preferredTextLocale: null === (d = this.BH) || void 0 === d ? void 0 : d.t0a }; this.config().wEb && (h.debugData = this.$M); return h
                            }; c.prototype.Oab = function (g) { var d = parseInt(g, 10); return isNaN(d) ? g : d }; c.prototype.qNb =
                                function () { var g = (0, m.Ea)(this.Te) ? this.Te.toString() : (0, m.Zf)(this.Te) ? this.Te : ""; return this.cN === k.W0.Ffa && (g.endsWith("2018") || g.endsWith("2020")) }; c.prototype.UGb = function () { if (this.errorCode === k.N.xR && (this.ma === k.M.mea || this.ma === k.M.iIa)) return this.VGb(this.ma === k.M.mea) }; c.prototype.VGb = function (g) {
                                    var d, h, l = this.config().browserInfo || {}, n = null === (d = l.os) || void 0 === d ? void 0 : d.name; d = ((null === (h = l.os) || void 0 === h ? void 0 : h.version) || "").split("."); h = parseInt(d && d[0]); d = parseInt(d && d[1]); switch (n) {
                                        case "windows": return 6 >
                                            h || 6 === h && 1 > d ? g ? "cdm_not_supported_warning_switch_windows" : "cdm_not_supported_switch_windows" : g ? "cdm_not_supported_warning_update" : "cdm_not_supported_update"; case "mac": return 10 > h || 10 === h && 10 > d ? g ? "cdm_not_supported_warning_switch_mac" : "cdm_not_supported_switch_mac" : g ? "cdm_not_supported_warning_update" : "cdm_not_supported_update"; default: return g ? "cdm_not_supported_warning_other" : "cdm_not_supported_other"
                                    }
                                }; b.WJa = c
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Wda = "MediaElementHelpersSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ZQ = "EventSourceFactorySymbol" }, function (r, b, a) { function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.ZQ = b.sDa = void 0; r = a(1); var f = a(337); a = a(0); c.prototype.create = function () { return new f.Nk }; var k = c; k = r.__decorate([(0, a.R)()], k); b.sDa = k; b.ZQ = "EventSourceFactorySymbol" }, function (r, b, a) {
                    function c(k, m, g, d, h, l) {
                        this.level = k; this.Go = m; this.timestamp = g; this.message = d; this.kc = h; this.index = void 0 === l ? 0 : l; this.Mib = {
                            0: "F", 1: "E", 2: "W",
                            3: "I", 4: "T", 5: "D"
                        }
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Hda = void 0; var f = a(4); c.prototype.Qaa = function (k, m) { var g = "" + this.message; this.kc.forEach(function (d) { g += d.AJ(k, m) }); return (this.timestamp.$(f.ja) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Mib[this.level] || this.level) + "|" + this.Go + "| " + g }; b.Hda = c
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.yHa = "MomentObserverFactory" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.yLa = "SegmentConfigFactorySymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.hNa = "VideoPlayerFactorySymbol" }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); r = a(2); r.__exportStar(a(672), b); r.__exportStar(a(673), b); r.__exportStar(a(674), b); r.__exportStar(a(675), b); r.__exportStar(a(676), b); r.__exportStar(a(677), b); r.__exportStar(a(678), b); r.__exportStar(a(679), b); r.__exportStar(a(680), b); r.__exportStar(a(681), b); r.__exportStar(a(682), b); r.__exportStar(a(683), b); r.__exportStar(a(687), b); r.__exportStar(a(216),
                        b); r.__exportStar(a(688), b); r.__exportStar(a(217), b); r.__exportStar(a(689), b); r.__exportStar(a(690), b); r.__exportStar(a(691), b); r.__exportStar(a(692), b); r.__exportStar(a(693), b); r.__exportStar(a(694), b); r.__exportStar(a(695), b); r.__exportStar(a(696), b); r.__exportStar(a(697), b); r.__exportStar(a(698), b); r.__exportStar(a(699), b); r.__exportStar(a(700), b); r.__exportStar(a(701), b); r.__exportStar(a(702), b); r.__exportStar(a(703), b); r.__exportStar(a(704), b); r.__exportStar(a(705), b); r.__exportStar(a(706), b);
                    r.__exportStar(a(715), b); r.__exportStar(a(718), b); r.__exportStar(a(719), b)
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.Uia = void 0; b.Uia = function (a, c, f) { var k = !0, m; f.forEach(function (g) { if (k && a === g.profile) { var d = g.ranges; k = void 0 === d ? c >= g.min && c <= g.max : d.some(function (h) { return c >= h.min && c <= h.max }); !k && g.disallowed && g.disallowed.some(function (h) { if (h.stream.bitrate === c) return m = h.disallowedBy, !0 }) } }); return { inRange: k, c5: m } } }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.uF = void 0; b.uF = { xm: function (a) { return a } }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.tt = b.IK = void 0; var c = a(354), f; (function (k) { k[k.TO = 0] = "primary"; k[k.iH = 1] = "fallback" })(f = b.IK || (b.IK = {})); r = function () {
                        function k(m, g) { var d, h = this; void 0 === g && (g = !1); this.Xvb = g; this.filters = (d = {}, d[f.TO] = [], d[f.iH] = [], d); Array.isArray(m) ? m.forEach(function (l) { return h.and(l, f.TO) }) : this.and(m) } k.prototype.and = function (m, g) {
                            void 0 === g && (g = f.TO); m !== c.uF && this.filters[g].push({
                                filter: m,
                                dUa: !0
                            }); return this
                        }; k.prototype.or = function (m, g) { void 0 === g && (g = f.TO); this.filters[g].push({ filter: m, dUa: !1 }); return this }; k.prototype.filter = function (m) { var g = this;[f.TO, f.iH].forEach(function (d) { g.filters[d] = g.filters[d].filter(function (h) { return m(d, h.filter) }) }) }; k.prototype.xm = function (m, g, d, h) { var l = this; return [f.TO, f.iH].reduce(function (n, q) { return l.filters[q].reduce(function (p, u) { u.dUa ? p = u.filter.xm(p, g, d, h) : 0 === p.length && (p = u.filter.xm(m, g, d, h)); return p }, n) }, m) }; return k
                    }(); b.tt = r
                }, function (r,
                    b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.vr = b.slb = void 0; var c = a(2), f = a(219); r = function () { function k(m, g) { this.G = m; this.$z = g ? [g] : [] } Object.defineProperties(k.prototype, { value: { get: function () { return this.G }, enumerable: !1, configurable: !0 } }); k.prototype.addListener = function (m) { -1 === this.$z.indexOf(m) && (this.$z = this.$z.slice(), this.$z.push(m)) }; k.prototype.removeListener = function (m) { m = this.$z.indexOf(m); -1 !== m && (this.$z = this.$z.slice(), this.$z.splice(m, 1)) }; return k }(); b.slb = r; r = function (k) {
                        function m(g,
                            d) { return k.call(this, g, d) || this } c.__extends(m, k); m.iza = function (g, d, h) { return new f.jea(g, d, h, !1) }; Object.defineProperties(m.prototype, { value: { get: function () { return this.G }, set: function (g) { this.set(g) }, enumerable: !1, configurable: !0 } }); m.prototype.set = function (g) { var d = this.G; d !== g && (this.G = g, this.$z.forEach(function (h) { return h({ oldValue: d, newValue: g }) })) }; return m
                    }(r); b.vr = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.HJa = void 0; var c = a(2); r = function (f) {
                        function k(m, g) {
                            m =
                                f.call(this, m) || this; m.cXa = g; m.name = "PlaybackError"; return m
                        } c.__extends(k, f); k.gNb = function (m) { return m && m.message && m.stack && m.cXa ? "PlaybackError" === (null === m || void 0 === m ? void 0 : m.name) : !1 }; return k
                    }(Error); b.HJa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.me = void 0; r = a(2); r.__exportStar(a(359), b); r.__exportStar(a(734), b); r.__exportStar(a(220), b); r.__exportStar(a(735), b); r.__exportStar(a(736), b); r.__exportStar(a(737), b); r.__exportStar(a(360), b); r.__exportStar(a(739), b);
                    var c = a(57); Object.defineProperties(b, { me: { enumerable: !0, get: function () { return c.me } } })
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.ko = b.CQ = void 0; (function (a) { a[a.default = 0] = "default"; a[a.disabled = 1] = "disabled"; a[a.rPb = 2] = "lowCpuPlaybackStarting" })(b.CQ || (b.CQ = {})); (function (a) { a[a.CLOSED = 0] = "CLOSED"; a[a.OPEN = 1] = "OPEN" })(b.ko || (b.ko = {})) }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }) }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.assert =
                        b.AssertionError = void 0; var c = a(1), f = function (k) { function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); return m }(Error); b.AssertionError = f; b.assert = function (k, m) { if (!k) throw new f(m || "Assertion failed"); }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.K5 = b.IXa = b.bna = void 0; var c = a(363); b.bna = function (f, k) { var m = void 0; return Object.keys(f.U).some(function (g) { var d; return null === (d = (m = f.U[g]).next) || void 0 === d ? void 0 : d[k] }) ? m : void 0 }; b.IXa = function (f, k) {
                        return c.re(Object.keys(f.U),
                            function (m) { var g; return null === (g = f.U[m].next) || void 0 === g ? void 0 : g[k] })
                    }; b.K5 = function (f, k) { return Object.keys(f.U).filter(function (m) { var g; return null === (g = f.U[m].next) || void 0 === g ? void 0 : g[k] }) }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.re = void 0; b.re = function (a, c) { for (var f = 0; f < a.length; f++)if (c(a[f], f, a)) return a[f] } }, function (r) {
                    function b() { } function a(c) { this.rQa = c; this.Jp = []; this.Eg = null } b.prototype.clear = function () { this.df = null; this.size = 0 }; b.prototype.find = function (c) {
                        for (var f =
                            this.df; null !== f;) { var k = this.kn(c, f.data); if (0 === k) return f.data; f = f.xh(0 < k) } return null
                    }; b.prototype.lowerBound = function (c) { for (var f = this.df, k = this.iterator(), m = this.kn; null !== f;) { var g = m(c, f.data); if (0 === g) return k.Eg = f, k; k.Jp.push(f); f = f.xh(0 < g) } for (g = k.Jp.length - 1; 0 <= g; --g)if (f = k.Jp[g], 0 > m(c, f.data)) return k.Eg = f, k.Jp.length = g, k; k.Jp.length = 0; return k }; b.prototype.upperBound = function (c) { for (var f = this.lowerBound(c), k = this.kn; null !== f.data() && 0 === k(f.data(), c);)f.next(); return f }; b.prototype.min =
                        function () { var c = this.df; if (null === c) return null; for (; null !== c.left;)c = c.left; return c.data }; b.prototype.max = function () { var c = this.df; if (null === c) return null; for (; null !== c.right;)c = c.right; return c.data }; b.prototype.iterator = function () { return new a(this) }; b.prototype.sf = function (c) { for (var f = this.iterator(), k; null !== (k = f.next());)c(k) }; a.prototype.data = function () { return null !== this.Eg ? this.Eg.data : null }; a.prototype.next = function () {
                            if (null === this.Eg) { var c = this.rQa.df; null !== c && this.jPa(c) } else if (null ===
                                this.Eg.right) { do if (c = this.Eg, this.Jp.length) this.Eg = this.Jp.pop(); else { this.Eg = null; break } while (this.Eg.right === c) } else this.Jp.push(this.Eg), this.jPa(this.Eg.right); return null !== this.Eg ? this.Eg.data : null
                        }; a.prototype.DI = function () {
                            if (null === this.Eg) { var c = this.rQa.df; null !== c && this.fPa(c) } else if (null === this.Eg.left) { do if (c = this.Eg, this.Jp.length) this.Eg = this.Jp.pop(); else { this.Eg = null; break } while (this.Eg.left === c) } else this.Jp.push(this.Eg), this.fPa(this.Eg.left); return null !== this.Eg ? this.Eg.data :
                                null
                        }; a.prototype.jPa = function (c) { for (; null !== c.left;)this.Jp.push(c), c = c.left; this.Eg = c }; a.prototype.fPa = function (c) { for (; null !== c.right;)this.Jp.push(c), c = c.right; this.Eg = c }; r.exports = b
                }, function (r) {
                    function b(a) { this.lha = a; this.jg = []; this.Gr = !1; this.hG = void 0; this.ck = {} } b.prototype.t3 = function (a) { this.jg.length === this.lha && this.jg.shift(); Array.isArray(a) ? this.jg = this.jg.concat(a) : this.jg.push(a); this.Gr = !0 }; b.prototype.xN = function () { return this.jg.length }; b.prototype.Xja = function () {
                        var a = this.jg;
                        return 0 < a.length ? a.reduce(function (c, f) { return c + f }, 0) / this.jg.length : void 0
                    }; b.prototype.h4 = function () { var a = this.jg; if (0 < a.length) { var c = this.Xja(); a = a.reduce(function (f, k) { return f + k * k }, 0) / a.length; return Math.sqrt(a - c * c) } }; b.prototype.St = function (a) {
                        if (this.Gr || void 0 === this.hG) this.hG = this.jg.slice(0).sort(function (m, g) { return m - g }), this.ck = {}, this.Gr = !1; if (void 0 === this.ck[a]) {
                            var c = this.hG, f = Math.floor(a / 100 * (c.length - 1) + 1) - 1, k = (a / 100 * (c.length - 1) + 1) % 1; this.ck[a] = f === c.length - 1 ? c[f] : c[f] +
                                k * (c[f + 1] - c[f])
                        } return this.ck[a]
                    }; r.exports = b
                }, function (r, b, a) { r.exports = { ccc: a(367), gfc: a(226), A6b: a(761), z6b: a(368), B6b: a(369), DDa: a(764) } }, function (r, b, a) {
                    function c(g) { this.reset(); this.x_b(g) } function f(g) { this.setInterval(g); this.reset() } function k(g) { this.ZB = new f(g); this.Re = 0; this.Yc = null } var m = a(10); c.prototype.x_b = function (g) { this.SK = Math.pow(.5, 1 / g); this.KS = g }; c.prototype.reset = function (g) {
                        g && g.Ha && m.Ea(g.Ha) ? g.ij && m.Ea(g.ij) ? (this.Yv = this.yob, this.Kp = g.Ha, this.WB = g.ij + g.Ha * g.Ha) : (this.Yv =
                            this.yob, this.Kp = g.Ha, this.WB = g.Ha * g.Ha) : this.WB = this.Kp = this.Yv = 0
                    }; c.prototype.add = function (g) { if (m.Ea(g)) { this.Yv++; var d = this.SK; this.Kp = d * this.Kp + (1 - d) * g; this.WB = d * this.WB + (1 - d) * g * g } }; c.prototype.get = function () { if (0 === this.Yv) return { Ha: 0, ij: 0 }; var g = this.Kp, d = this.WB, h = 1 - Math.pow(this.SK, this.Yv); g /= h; d /= h; h = g * g; return { Ha: Math.floor(g), ij: Math.floor(d > h ? d - h : 0) } }; c.prototype.getState = function () { return 0 === this.Yv ? null : { a: Number(this.Kp.toPrecision(6)), s: Number(this.WB.toPrecision(6)), n: this.Yv } };
                    c.prototype.Ye = function (g) { if (m.Lb(g) || !m.has(g, "a") || !m.has(g, "s") || !m.isFinite(g.a) || !m.isFinite(g.s)) return this.WB = this.Kp = this.Yv = 0, !1; this.Kp = g.a; this.WB = g.s; m.has(g, "n") && m.Ea(g.n) ? this.Yv = g.n : this.Yv = 16 * this.KS; return !0 }; f.prototype.setInterval = function (g) { this.KS = g; this.SK = -Math.log(.5) / g }; f.prototype.reset = function (g) { this.Eb = this.Df = null; g && m.isFinite(g.Ha) ? this.Kp = g.Ha : this.Kp = 0 }; f.prototype.start = function (g) { m.Lb(this.Df) && (this.Eb = this.Df = g) }; f.prototype.add = function (g, d, h) {
                        m.Lb(this.Df) &&
                            (this.Eb = this.Df = d); this.Df = Math.min(this.Df, d); d = Math.max(h - d, 1); var l = this.SK, n = Math.max(h, this.Eb), q = n - this.Eb; h = n - h; this.Kp = this.Kp * (0 < q ? Math.exp(-l * q) : 1) + 8 * g / d * (1 - Math.exp(-l * d)) * (0 < h ? Math.exp(-l * h) : 1); this.Eb = n
                    }; f.prototype.get = function (g) { g = Math.max(g, this.Eb); var d = this.Kp * Math.exp(-this.SK * (g - this.Eb)); g = 1 - Math.exp(-this.SK * (g - this.Df)); 0 < g && (d /= g); return { Ha: Math.floor(d) } }; f.prototype.toString = function () { return "ewmav(" + this.KS + ")" }; k.prototype.setInterval = function (g) { this.ZB.setInterval(g) };
                    k.prototype.reset = function (g) { this.ZB.reset(g); this.Re = 0; this.Yc = null }; k.prototype.start = function (g) { !m.Lb(this.Yc) && g > this.Yc && (this.Re += g - this.Yc, this.Yc = null); this.ZB.start(g - this.Re) }; k.prototype.add = function (g, d, h) { !m.Lb(this.Yc) && h > this.Yc && (this.Re += d > this.Yc ? d - this.Yc : 0, this.Yc = null); this.ZB.add(g, d - this.Re, h - this.Re) }; k.prototype.stop = function (g) { this.Yc = Math.max(m.Lb(this.ZB.Eb) ? 0 : this.ZB.Eb + this.Re, m.Lb(this.Yc) ? g : Math.min(this.Yc, g)) }; k.prototype.get = function (g) {
                        return this.ZB.get((m.Lb(this.Yc) ?
                            g : this.Yc) - this.Re)
                    }; k.prototype.toString = function () { return this.ZB.toString() }; r.exports = { Wgb: c, T6b: f, Ugb: k }
                }, function (r, b, a) {
                    function c(m, g, d, h) { f.call(this, d, h); this.fw = new k(m); this.cpb = g } var f = a(142), k = a(365); c.prototype = Object.create(f.prototype); c.prototype.shift = function () { var m = this.ox(0); f.prototype.shift.call(this); null !== m && this.fw.t3(m); return m }; c.prototype.flush = function () { var m = this.get(); this.fw.t3(m); f.prototype.reset.call(this); return m }; c.prototype.get = function () {
                        var m = this.bW();
                        return { sampleSize: this.xN(), U9: m, Zsa: m.Bk ? (m.Nl - m.Ml) / m.Bk : void 0 }
                    }; c.prototype.xN = function () { return this.fw.xN() }; c.prototype.bW = function () { return this.fw.xN() < this.cpb ? { Ml: void 0, Bk: void 0, Nl: void 0, sampleSize: void 0, Cj: void 0 } : { Ml: this.fw.St(25), Bk: this.fw.St(50), Nl: this.fw.St(75), sampleSize: this.fw.xN(), Cj: this.fw.St.bind(this.fw) } }; c.prototype.toString = function () { return "biqr(" + this.RL + "," + this.Gd + "," + this.gk + ")" }; r.exports = c
                }, function (r, b, a) {
                    function c(m) {
                        this.J = {
                            hX: m.maxc || 25, Qka: m.c || .5, B5b: m.w ||
                                15E3, cz: m.b || 5E3
                        }; f.call(this, this.J.B5b, this.J.cz); this.kT()
                    } var f = a(142), k = a(224).TDigest; c.prototype = Object.create(f.prototype); c.prototype.shift = function () { var m = this.ox(0); f.prototype.shift.call(this); null !== m && (this.ef.push(m, 1), this.Gr = !0); return m }; c.prototype.flush = function () { var m = this.get(); this.ef.push(m, 1); this.Gr = !0; f.prototype.reset.call(this); return m }; c.prototype.get = function () { return this.u_a() }; c.prototype.Qz = function () {
                        var m = this.u_a(); return {
                            min: m.min, p10: m.K9, p25: m.Ml, p50: m.Bk,
                            p75: m.Nl, p90: m.L9, max: m.max, centroidSize: m.kwb, sampleSize: m.sampleSize, centroids: m.Qi
                        }
                    }; c.prototype.u_a = function () { if (0 === this.ef.size()) return null; var m = this.ef.Cj([0, .1, .25, .5, .75, .9, 1]); if (m[2] === m[4]) return null; if (this.Gr || !this.gg) this.Gr = !1, this.gg = { min: m[0], K9: m[1], Ml: m[2], Bk: m[3], Nl: m[4], L9: m[5], max: m[6], Cj: this.ef.Cj.bind(this.ef), kwb: this.ef.size(), sampleSize: this.ef.n, Qi: this.XGb(), Qz: this.Qz.bind(this) }; return this.gg }; c.prototype.XGb = function () {
                        if (0 === this.ef.size()) return null; if (!this.Gr &&
                            this.gg) return this.gg.centroids; var m = this.ef.Cj([.25, .75]); if (m[0] === m[1]) return null; this.ef.size() > this.J.hX && this.ef.lz(); m = this.ef.op(!1).map(function (g) { return { mean: g.rg, n: g.n } }); return JSON.stringify(m)
                    }; c.prototype.r_a = function () { return this.ef.summary() }; c.prototype.size = function () { return this.ef.size() }; c.prototype.toString = function () { return "btdtput(" + this.RL + "," + this.Gd + "," + this.gk + "): " + this.ef.summary() }; c.prototype.kT = function () { this.ef = new k(this.J.Qka, this.J.hX) }; r.exports = c
                }, function (r,
                    b, a) {
                    function c(m) { this.J = { hX: m.maxc || 25, Qka: m.c || .5, iXb: m.rc || "none", cKb: m.hl || 7200 }; this.kT(); this.Gqb = this.J.iXb; this.KS = this.J.cKb; this.Yfa = Math.exp(Math.log(2) / this.KS); this.Yfa = Math.max(this.Yfa, 1); this.i2 = 1 } var f = a(10), k = a(224).TDigest; new (a(6).default.Console)("ASEJS_NETWORK_HISTORY", "media|asejs"); c.prototype.getState = function () {
                        if (0 === this.ef.size()) return null; var m = this.ef.Cj([.25, .75]); if (m[0] === m[1]) return null; this.ef.size() > this.J.hX && this.ef.lz(); m = this.ef.op(!1).reduce(function (g,
                            d) { f.Ea(d.rg) && f.Ea(d.n) && g.push({ mean: d.rg, n: d.n / this.i2 }); return g }.bind(this), []); return { tdigest: JSON.stringify(m) }
                    }; c.prototype.Ye = function (m) { if (f.Lb(m) || !f.has(m, "tdigest") || !f.Zf(m.tdigest)) return !1; try { var g = JSON.parse(m.tdigest) } catch (d) { return !1 } g.forEach(function (d) { f.isFinite(d.n) || (d.n = 1) }); m = g.map(function (d) { return { rg: d.mean, n: d.n } }); this.i2 = 1; this.ef.$ua(m); void 0 === this.ef.Cj(0) && this.kT() }; c.prototype.get = function () {
                        var m = this.ef, g = m.Cj([0, .1, .25, .5, .75, .9, 1]); return {
                            min: g[0], K9: g[1],
                            Ml: g[2], Bk: g[3], Nl: g[4], L9: g[5], max: g[6], Qi: m.op(!1)
                        }
                    }; c.LIb = function (m) { var g = new c({}); f.Lb(m) || f.la(m) || !f.isArray(m.Qi) || (g.ef.$ua(m.Qi), void 0 === g.ef.Cj(0) && g.kT()); m = g.ef.Cj([.25, .75]); return m[0] === m[1] ? null : function (d) { return g.ef.Cj(d) } }; c.prototype.add = function (m) { var g = 1; "ewma" === this.Gqb && (this.i2 = g = this.i2 * this.Yfa); this.ef.push(m, g) }; c.prototype.toString = function () { return "TDigestHist(" + this.ef.summary() + ")" }; c.prototype.kT = function () { this.ef = new k(this.J.Qka, this.J.hX) }; r.exports = { sMa: c }
                },
                function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.sEa = b.oda = void 0; var c = a(2), f = c.__importStar(a(10)), k = c.__importDefault(a(6)), m = a(775), g = a(776), d = function () { return function () { this.Q3 = new g.VR(100); this.i9 = new g.VR(100) } }(); r = function () {
                        function h(l, n, q) {
                            this.J = n; this.I = q; this.Y2 = l; var p = this.HL = this.WK = this.VK = 0, u = 0, t = 0; this.Y2.length >= this.J.U8 && (this.Y2.forEach(function (w) { !(w = w.get().GFb) || f.la(w.avtp) || f.la(w.neuhd) || (p += w.avtp, u += 1 * w.neuhd, t++) }), this.HL = t, this.VK = p / t, this.WK =
                                u / t)
                        } Object.defineProperties(h.prototype, { oub: { get: function () { return this.VK }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { qub: { get: function () { return this.WK }, enumerable: !1, configurable: !0 } }); h.prototype.G7 = function () { return this.HL >= this.J.U8 && this.VK >= this.J.baselineHighAndStableThreshold.bwThreshold && this.WK < this.J.baselineHighAndStableThreshold.nethreshold }; return h
                    }(); b.oda = r; r = function (h) {
                        function l(n, q, p) {
                            n = h.call(this, n, q, p) || this; n.Pfa = []; n.NEb = {}; n.ibb = []; n.pz = new d;
                            n.Y2.length >= n.J.U8 && (n.wQa("avtp", n.pz.Q3), n.wQa("neuhd", n.pz.i9)); return n
                        } c.__extends(l, h); l.prototype.G7 = function () { this.KIb(); var n = new m.qGa(this.I, this.ibb, this.Hub); n.Bua(this.Pfa); n = n.Ywb(this.J.a7.Aec); return this.A4b && 1 === n && this.HL >= this.J.U8 }; l.prototype.NV = function () { var n = {}, q = k.default.time.now(), p = new Date(q), u = p.getHours(); n.currentMonoTime = q; n.currentTime = p.getTime(); n.currentHour = u; return n }; l.prototype.XYa = function (n, q, p) {
                            n = "avtp" === n ? this.VK : this.WK; for (var u = q.h4(), t = 0, w = "skew" ===
                                p ? 3 : 4, v = 0; v < q.jg.length; v++)f.la(n) || f.la(u) || (t += Math.pow(q.jg[v] - n, w)); t /= q.jg.length; return !f.la(u) && 0 < u ? t / Math.pow(u, w) - 3 * ("skew" === p ? 0 : 1) : NaN
                        }; l.prototype.iZa = function (n, q, p) { var u = 0; "lte" === p ? u = n.reduce(function (t, w) { return w <= q ? t + 1 : t }, 0) / (1 * n.length) : "gte" === p && (u = n.reduce(function (t, w) { return w >= q ? t + 1 : t }, 0) / (1 * n.length)); return u }; l.prototype.sIb = function (n) { var q = n.St(25), p = n.St(50); n = n.St(75); return f.la(q) || f.la(p) || f.la(n) ? NaN : 0 < p ? (n - q) / p : NaN }; l.prototype.OGb = function (n, q) {
                            n = "avtp" ===
                                n ? this.VK : this.WK; q = q.h4(); return !f.la(q) && !f.la(n) && (0 < q || 0 < n) && 0 < n ? (n - q) / (n + q) : NaN
                        }; l.prototype.bW = function (n, q) { n = n.St(q); return f.la(n) ? NaN : n }; l.prototype.normalize = function (n, q, p) { return !isNaN(n) && 0 < p ? (n - q) / p : NaN }; l.prototype.KIb = function () {
                            var n = this, q = this.J.a7.i3a.odc, p = this.J.a7.i3a.mdc, u = this.J.a7.i3a.ndc, t, w, v, x = [], y, z, A, B = 0; this.A4b = !Object.keys(q).some(function (E) {
                                A = NaN; if (!(q.hasOwnProperty(E) && p.hasOwnProperty(E) && u.hasOwnProperty(E) && !f.la(n.pz) && n.pz.Q3 && n.pz.i9) || 1 > n.HL || "number" !==
                                    typeof q[E] || "number" !== typeof p[E] || "number" !== typeof u[E]) return !0; t = q[E]; w = p[E]; v = u[E]; x = E.split("_", 2); y = x[0]; z = x[1]; switch (y) { case "avtp": var D = n.pz.Q3; break; case "neuhd": D = n.pz.i9; break; default: D = void 0 }if ("avtp" === y || "neuhd" === y) {
                                        if (D) switch (z) {
                                            case "last": A = D.jg[n.HL - 1]; break; case "mean": A = "avtp" === y ? n.VK : n.WK; break; case "niqr": A = n.sIb(D); break; case "skew": A = n.XYa(y, D, "skew"); break; case "kurtosis": A = n.XYa(y, D, "kurtosis"); break; case "std": A = D.h4(); break; case "b": A = n.OGb(y, D); break; default: -1 !==
                                                E.search("[p][1-9]?[1-9]") && (A = n.bW(D, Number(E.split("_p", 2)[1])))
                                        }
                                    } else switch (E) { case "fracAbove20Mbps": D = n.pz.Q3; A = f.la(D) ? NaN : n.iZa(D.jg, 2E4, "gte"); break; case "fracBelow20p": D = n.pz.i9; A = f.la(D) ? NaN : n.iZa(D.jg, .15, "lte"); break; case "hour_current": A = n.NV().currentHour; break; case "session_ct": A = n.HL; break; case "intercept": A = t, n.Hub = A }A = n.normalize(A, w, v); if (isNaN(A)) return !0; "intercept" !== E && (n.Pfa.push(A), n.ibb.push(t), n.NEb[E] = B, B += 1)
                            })
                        }; l.prototype.wQa = function (n, q) {
                            this.Y2.forEach(function (p) {
                                p =
                                    p.get().GFb; !p || "avtp" !== n && "neuhd" !== n || f.la(p[n]) || q.t3(Number(p[n]))
                            })
                        }; return l
                    }(r); b.sEa = r
                }, function (r, b, a) {
                    function c(d) { return function () { for (var h = Array(this.length), l = 0; l < this.length; ++l)h[l] = d.call(this, l); return h } } Object.defineProperties(b, { __esModule: { value: !0 } }); b.xtb = b.Zw = b.Dfa = b.GMa = void 0; r = a(2); var f = a(5); r = r.__importDefault(a(6)); var k = a(22), m = new r.default.Console("FRAGMENTS", "media|asejs"), g = function () {
                        function d(h, l) { this.rd = h; this.Qe = l } Object.defineProperties(d.prototype, {
                            index: {
                                get: function () { return this.Qe },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(d.prototype, { Zc: { get: function () { return new k.O(this.$a, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Qd: { get: function () { return new k.O(this.wb, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { $a: { get: function () { return this.rd.c3 + this.rd.tC[this.Qe] }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, {
                            wb: {
                                get: function () { return this.$a + this.rd.Ar[this.Qe] }, enumerable: !1,
                                configurable: !0
                            }
                        }); Object.defineProperties(d.prototype, { du: { get: function () { return this.rd.Ar[this.Qe] }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { va: { get: function () { return this.rd.va }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { W: { get: function () { return this.rd.W }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Z: { get: function () { return Math.floor(1E3 * this.$a / this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype,
                            { Ka: { get: function () { return Math.floor(1E3 * (this.$a + this.du) / this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { duration: { get: function () { return this.Ka - this.Z }, enumerable: !1, configurable: !0 } }); d.prototype.toJSON = function () { return { startPts: 1E3 * this.$a / this.va.W, endPts: 1E3 * this.wb / this.va.W, duration: 1E3 * this.du / this.va.W, index: this.index } }; return d
                    }(); b.GMa = g; a = function () {
                        function d(h, l, n, q) {
                            this.mediaType = h; this.length = n.vd.length; this.ob = n.W; this.Ar = n.vd; this.v3 = q && q.Xu;
                            this.fRa = q && q.mv; this.nL = l; this.xya = this.yya = this.bPa = void 0; this.c3 = n.ql; this.tC = new Uint32Array(this.length + 1); if (this.length) { for (l = h = 0; l < this.length; ++l)this.tC[l] = h, h += this.Ar[l]; this.tC[l] = h; this.Xfa = Math.floor((this.Ka - this.Z) / this.length) }
                        } Object.defineProperties(d.prototype, { ql: { get: function () { return this.vab(0) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Ama: { get: function () { return this.vab(this.length) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype,
                            { Z: { get: function () { return this.Hj(0) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Ka: { get: function () { return this.Hj(this.length) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { Yi: { get: function () { return new k.O(this.Ama, this.W) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { hsa: { get: function () { return this.bPa || this.anb() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, {
                                va: {
                                    get: function () { return this.nL },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(d.prototype, { W: { get: function () { return this.ob }, enumerable: !1, configurable: !0 } }); d.prototype.vab = function (h) { return this.c3 + this.tC[h] }; d.prototype.Hj = function (h) { return Math.floor(1E3 * (this.c3 + this.tC[h]) / this.W) }; d.prototype.iV = function (h) { return this.Hj(h + 1) }; d.prototype.vd = function (h) { return this.iV(h) - this.Hj(h) }; d.prototype.get = function (h) { return new g(this, h) }; d.prototype.Hn = function (h, l, n) {
                                if (0 === this.length || h < this.Hj(0)) return -1; h =
                                    Math.max(h, l || 0); for (var q = 0, p = this.length - 1, u, t; p >= q;)if (u = q + (p - q >> 1), t = this.Hj(u), h < t) p = u - 1; else if (h >= t + this.vd(u)) q = u + 1; else { for (; l && u < this.length && this.Hj(u) < l;)++u; return u < this.length ? u : n ? this.length - 1 : -1 } return n ? this.length - 1 : -1
                            }; d.prototype.L5 = function (h, l, n) { h = this.Hn(h, l, n); return 0 <= h ? this.get(h) : void 0 }; d.prototype.ela = function (h, l) {
                                var n = Math.floor(l * this.W / 1E3); l = Math.min(h + Math.ceil(l / this.Xfa), this.length); var q = this.tC[l] - this.tC[h]; if (q > n) {
                                    for (; q >= n;)--l, q -= this.Ar[l]; return l -
                                        h + 1
                                } for (; q < n && l <= this.length;)q += this.Ar[l], ++l; return l - h
                            }; d.prototype.subarray = function (h, l) { f.assert(void 0 === h || 0 <= h && h < this.length); f.assert(void 0 === l || l > h && l <= this.length); return new d(this.mediaType, this.va, { W: this.W, ql: this.c3 + this.tC[h], vd: this.Ar.subarray(h, l) }, this.v3 && { Xu: this.v3.subarray(h, l + 1), mv: this.fRa }) }; d.prototype.forEach = function (h) { for (var l = 0; l < this.length; ++l)h(this.get(l), l, this) }; d.prototype.map = function (h) {
                                for (var l = [], n = 0; n < this.length; ++n)l.push(h(this.get(n), n, this));
                                return l
                            }; d.prototype.reduce = function (h, l) { for (var n = 0; n < this.length; ++n)l = h(l, this.get(n), n, this); return l }; d.prototype.toJSON = function () { return { length: this.length, averageFragmentDuration: this.Xfa } }; d.prototype.dump = function () { m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Xfa + "ms"); for (var h = 0; h < this.length; ++h) { var l = this.get(h); m.trace("TrackFragments: " + h + ": [" + l.Z + "-" + l.Ka + "]") } }; d.prototype.anb = function () {
                                for (var h = 0, l = 0; l < this.length; l++)h = Math.max(this.Ar[l], h);
                                return this.bPa = h
                            }; return d
                    }(); b.Dfa = a; b.Zw = c; a.prototype.uab = c(a.prototype.Hj); c(a.prototype.iV); c(a.prototype.vd); b.xtb = function (d) { return "[" + Array(d.length).map(function (h, l) { return d[l].toString() }).join(",") + "]" }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.RWa = b.Hz = b.ym = b.r6 = void 0; var c = a(5), f = a(141); b.r6 = function (k, m) { return k.Hn(m, void 0, !0) }; b.ym = function (k, m, g, d, h, l) {
                        f.Zm.rq(k); c.assert(g.Y, "findFirstFragment called without stream fragments"); var n = g.Y; d = Math.max(g.Y.Hj(0),
                            d); 0 === k && !l && m.im && !m.wG && g.xf && (d = Math.max(g.Y.Hj(0), d + g.xf.T)); var q = b.r6(n, d), p = g.el(q); if (p.Ka < d) return p; var u = p.ena(d); u ? (0 < u.nl && p.Hk({ start: u.nl }), 0 !== k || m.wsa || (0 > u.Ud && p.Hk({ start: u.nl }), u.Ud < (m.im && !m.wG && g.xf ? Math.floor(g.xf.T) : 0) && p.lma())) : d >= p.Ka && q < n.length - 1 && (p = g.el(q + 1)); 1 === k && h && p.Ka === h && q < n.length - 1 && (p = g.el(q + 1)); 0 === k && !p.za && (m.f1a || m.eDb) && l && p.Hk({}); p.EP(d); return p
                    }; b.Hz = function (k, m, g, d, h, l) {
                        f.Zm.rq(k); var n = g.Y; void 0 === d && (d = n.Ka); if (h && (h = h.iFb(g, d, k, m, l))) return h;
                        h = n.va; l = d ? d + b.RWa(k, h, m.jE, m.V$) : n.iV(n.length - 1); n = n.Hn(l, void 0, !0); h = g.el(n); 0 === n || h.Z !== d || 1 !== k && m.jE || (--n, h = g.el(n)); l = 1 === k ? l : d; if (l < h.Ka) { var q = h.dna(l); q && 0 !== q.nl ? h.Hk({ end: q.nl }) : 0 === k && (q || l < h.Z) && 0 !== n ? h = g.el(n - 1) : 1 !== k || (g.DMb || m.Sya) && !q || 0 === n || (h = g.el(n - 1)) } 0 === k && !h.za && m.f1a && h.Hk(); h.EP(d); return h
                    }; b.RWa = function (k, m, g, d) { var h; return 1 === k || d ? 0 : g ? null !== (h = null === m || void 0 === m ? void 0 : m.T) && void 0 !== h ? h : 0 : m ? -m.T : 0 }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.Wza = void 0; var c = a(781), f = a(22), k = a(5), m = a(102); r = function () {
                        function g(d, h, l) {
                            var n, q, p; this.J = h; this.I = l; this.fk = d.track; this.NL = d.Pf; this.ps = d.ps; this.Cob = d.ps.gl; this.qL = this.Qa = void 0; h = d.Eu; this.Eu = void 0 === h ? !0 : h; this.c5 = d.c5; this.mL = void 0; this.dPa = this.Cg = 0; this.url = this.$I = this.Pc = this.Js = this.Bra = this.location = this.Sa = this.Bb = void 0; this.aA = !1; this.Wqa = this.jf = void 0; h = (d = this.J) && "object" === typeof d.M7a && d.M7a[this.profile]; "object" === typeof h && (h = h[this.bitrate]) && (this.Bqb = new f.O(h.ticks,
                                h.timescale)); this.ppb = 0 <= (null === (n = d.bub) || void 0 === n ? void 0 : n.indexOf(this.profile)); if ((null === (q = d.JO) || void 0 === q ? 0 : q.Sbc) && 1 === this.mediaType && (n = this.ps, 0 < (null === (p = n.Rq) || void 0 === p ? void 0 : p.length))) { p = n.Rq.splice(0, n.Rq.length); n = new Uint8Array(p.length); for (q = 0; q < p.length; q++)n[q] = p[q].zb; this.Rq = n }
                        } Object.defineProperties(g.prototype, { te: { get: function () { return !!this.Qa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            P: {
                                get: function () { return this.fk.P }, enumerable: !1,
                                configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { S: { get: function () { return this.P.S }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { K: { get: function () { return this.fk.K }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { mediaType: { get: function () { return this.fk.mediaType }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { va: { get: function () { return this.fk.va }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            W: {
                                get: function () { return this.fk.W },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { oO: { get: function () { return this.fk.oO }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { trackId: { get: function () { return this.fk.trackId }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { track: { get: function () { return this.fk }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Pf: { get: function () { return this.NL }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype,
                            { Ta: { get: function () { return this.ps.downloadable_id }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { id: { get: function () { return this.Ta }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { gl: { get: function () { return this.Cob }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { bitrate: { get: function () { return this.ps.bitrate }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                                zb: {
                                    get: function () { return this.ps.vmaf || void 0 }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(g.prototype, { KYb: { get: function () { return this.ps.res_w || void 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { L$: { get: function () { return this.ps.res_h || void 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { profile: { get: function () { return this.ps.content_profile }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Ig: { get: function () { return this.profile }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype,
                                { Ms: { get: function () { return this.ps.sidx }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { xf: { get: function () { return this.Bqb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { EKb: { get: function () { return this.ppb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Y: { get: function () { return this.Qa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { zA: { get: function () { return this.Qa && this.Qa.zA }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(g.prototype, { Ana: { get: function () { return this.fk.Ana }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { zna: { get: function () { return this.fk.zna }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Z: { get: function () { return 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { ou: { get: function () { return void 0 !== this.mL ? this.mL : this.sNb() }, set: function (d) { this.mL = d }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype,
                            { Gu: { get: function () { return this.Eu && !this.aA }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Xg: { get: function () { return this.qL }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { DMb: { get: function () { k.assert(!!this.Y, "Initial header should have been received already"); return this.P.Ww() && -1 < this.Ig.indexOf("h264mpl") && void 0 === this.Y.Jia }, enumerable: !1, configurable: !0 } }); g.prototype.fl = function () { return this.P.fl(this.mediaType, this.Ta) }; g.prototype.t6 = function () {
                                var d =
                                    this.fl(); return d && d.stream.Y
                            }; g.prototype.DE = function (d) { return this.P.DE(this, d) }; g.prototype.C9 = function () { this.track.C9() }; g.prototype.B9 = function () { this.track.B9() }; g.prototype.A9 = function (d, h, l, n, q, p, u) {
                                n && void 0 !== n.ql && (this.track.te || void 0 !== n.vd && n.vd.length) && void 0 !== n.offset && void 0 !== n.sizes && n.sizes.length ? (this.J.im && this.xf && 0 === n.ql && (n.ql += this.xf.dg(n.W).qc), this.qL = d, this.te || (this.track.A9(this, h, l, n, p), this.Qa = new c.bMa(this.NL, this.track.pp, n, q, p, u, this.K), this.track.iTb(this))) :
                                    n ? this.I.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== n.ql) + "," + this.track.te + "," + this.track.Jua + "," + (void 0 !== n.vd) + "," + !(!n.vd || !n.vd.length) + "," + (void 0 !== n.offset) + "," + (void 0 !== n.sizes) + "," + !(!n.sizes || !n.sizes.length)) : this.I.error("AseStream.onHeaderReceived: fragmentsData was undefined.")
                            }; g.prototype.A4 = function (d) { this.te || (this.track.hyb(d.track), this.Qa = d.Y, this.qL = d.Xg) }; g.prototype.el = function (d) { return new m.$m(this, this.Y.get(d)) }; g.prototype.hZa = function (d) {
                                var h =
                                    this.el(d.index); d.za && (h.Hk(d.za), h.EP(d.tv)); return h
                            }; g.prototype.rcb = function (d, h) { this.Cg = d; this.dPa = h }; g.prototype.hxb = function () { this.Sa = this.Bb = this.Pc = this.location = this.url = void 0 }; g.prototype.toJSON = function () { return { movieId: this.K, mediaType: this.mediaType, streamId: this.Ta, bitrate: this.bitrate, streamIndex: this.Pf, isAvailable: this.Eu, fittable: this.ou, vmaf: this.zb, resolutionWidth: this.KYb, resolutionHeight: this.L$ } }; g.prototype.toString = function () {
                                return (0 === this.mediaType ? "a" : "v") + ":" + this.Ta +
                                    ":" + this.bitrate
                            }; g.prototype.sNb = function () { var d, h, l, n; if (!this.te) return !0; if (this.track.Kpa >= this.bitrate) return this.mL = !0; if (this.track.g3a <= this.bitrate) return this.mL = !1; var q = this.Qa.Cvb(this.J.fI, this.Cg, null !== (h = null === (d = this.P) || void 0 === d ? void 0 : d.iJ.T) && void 0 !== h ? h : 0, null !== (n = null === (l = this.P) || void 0 === l ? void 0 : l.iJ.ea) && void 0 !== n ? n : 0, this.dPa); q ? this.track.Jua && !this.gl && this.track.Tw || (this.track.Kpa = this.bitrate) : this.track.g3a = this.bitrate; return this.mL = q }; return g
                    }(); b.Wza =
                        r
                }, function (r) { var b = function () { var a = new Uint32Array([0, 0]); a.set(new Uint32Array([16843009]), 1); return 0 !== a[0] }() ? function (a, c, f) { (new Uint8Array(a.buffer, a.byteOffset, a.byteLength)).set(new Uint8Array(c.buffer, c.byteOffset, c.byteLength), f * a.byteLength / a.length) } : function (a, c, f) { a.set(c, f) }; r.exports = { from: function (a, c, f, k) { a = new a(c.length); for (var m = "function" === typeof f, g = 0; g < c.length; ++g)a[g] = m ? f.call(k, c[g], g, c) : c[g]; return a }, set: b } }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 });
                    var c = a(2); r = function (f) { function k() { var m = null !== f && f.apply(this, arguments) || this; m.Kz = 1536; return m } c.__extends(k, f); k.Ra = !0; return k }(a(170).default); b.default = r; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "ac-3"; return k }(r); b.Cba = a; r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "ec-3"; return k }(r); b.Oca = r
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2), f = a(101); r =
                        a(36); var k = f.oF; r = function (m) {
                            function g() { return null !== m && m.apply(this, arguments) || this } c.__extends(g, m); g.prototype.parse = function () {
                                this.zc(); this.fileSize = this.u.Vd(); this.W = this.u.Vd(); this.duration = this.u.Vd(!1, !0); this.qta = this.u.Vd(); this.u.Vd(); this.uta = this.u.Vd(); this.Ysa = this.u.Ca(); this.rta = this.u.Vd(); this.pna = this.u.Ca(); this.u.XA(); this.We = { moof: { offset: this.qta }, sidx: { offset: this.rta, size: this.pna } }; this.We[f.NR] = { offset: this.uta, size: this.Ysa }; this.u.offset - this.startOffset <= this.length -
                                    24 && (this.tta = this.u.Vd(), this.Ssa = this.u.Ca(), this.sta = this.u.Vd(), this.Rsa = this.u.Ca(), this.We[f.ey] = { offset: this.tta, size: this.Ssa }, this.We[f.dy] = { offset: this.sta, size: this.Rsa }); return !0
                            }; g.ac = k; g.Ra = !1; return g
                        }(r.Ec); b.default = r
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2); r = a(101); a = a(36); var f = r.pF; a = function (k) {
                        function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.parse = function () {
                            this.zc(); 1 <= this.version && this.u.XA(); var g =
                                this.u.Ca(); this.We = {}; for (var d = this.startOffset + this.length, h = 0; h < g; ++h) { var l = this.u.Pl(); "uuid" === l && (l = this.u.XA()); var n = this.u.Vd(); this.We[l] = { offset: d, size: n }; d += n } return !0
                        }; m.ac = f; m.Ra = !1; return m
                    }(a.Ec); b.default = a
                }, function (r) {
                    var b = { name: "heaac-2-dash reset sample", profile: 53, channels: 2, sampleRate: 24E3, duration: 1024, Ik: (new Uint8Array([33, 17, 69, 0, 20, 80, 1, 70, 157, 188, 0, 0, 8, 28, 0, 0, 0, 14])).buffer }, a = {
                        name: "heaac-2-dase standard sample", profile: 53, channels: 2, sampleRate: 24E3, duration: 1024,
                        Ik: (new Uint8Array([33, 17, 69, 0, 20, 80, 1, 70, 240, 77, 251, 1, 60, 8, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 14, 0, 14])).buffer
                    }, c = {
                        name: "ddplus-5.1-dash standard sample", profile: 54, channels: 6, sampleRate: 48E3, duration: 1536, Ik: (new Uint8Array([11, 119, 1, 127, 63, 134, 255, 225, 6, 32, 0, 32, 0, 66, 10, 65, 0, 135, 216, 68, 3, 254, 202, 2, 88, 163, 1, 16, 177, 64, 146, 32, 160, 75, 20, 80, 37, 136, 35, 227, 36, 160, 152, 156, 165, 37, 38, 41, 37, 73, 74, 9, 201, 146, 130, 114, 82, 116, 160, 152, 152, 150, 136, 58, 125, 89, 245, 39, 207, 159, 63, 116, 150, 147, 242, 73, 95, 165, 171, 175, 253, 215, 126, 82,
                            21, 55, 188, 8, 165, 126, 249, 242, 100, 175, 255, 249, 73, 42, 255, 253, 215, 124, 246, 156, 23, 239, 108, 36, 134, 249, 211, 228, 181, 255, 246, 253, 205, 119, 176, 179, 86, 126, 166, 27, 231, 175, 225, 58, 255, 222, 170, 110, 127, 249, 215, 41, 232, 146, 73, 183, 0, 88, 211, 192, 0, 0, 31, 7, 178, 116, 62, 122, 114, 245, 8, 233, 196, 71, 223, 196, 18, 59, 202, 113, 248, 103, 242, 80, 250, 118, 15, 1, 60, 79, 251, 46, 14, 8, 9, 37, 4, 14, 183, 67, 131, 195, 103, 241, 250, 32, 124, 81, 61, 76, 9, 40, 161, 2, 1, 16, 64, 114, 219, 225, 217, 172, 140, 44, 12, 64, 147, 49, 210, 195, 206, 12, 52, 186, 196, 0, 107, 134, 202, 4, 9, 216, 72, 67,
                            11, 127, 185, 13, 125, 124, 124, 194, 90, 203, 69, 1, 209, 8, 129, 183, 36, 196, 101, 7, 248, 73, 181, 38, 181, 30, 232, 124, 27, 18, 222, 207, 92, 251, 85, 227, 78, 0, 70, 196, 59, 0, 207, 194, 0, 252, 226, 209, 111, 144, 239, 111, 148, 54, 39, 28, 176, 248, 160, 58, 88, 113, 9, 76, 65, 57, 180, 96, 82, 224, 115, 52, 208, 161, 184, 86, 120, 211, 212, 168, 13, 52, 217, 124, 121, 189, 237, 163, 53, 72, 52, 157, 245, 160, 110, 16, 182, 219, 180, 152, 180, 136, 47, 23, 151, 198, 192, 20, 62, 220, 249, 107, 82, 0, 0, 0, 234, 22, 24, 202, 252, 104, 154, 198, 95, 7, 98, 110, 113, 104, 187, 197, 110, 105, 201, 123, 18, 61, 45, 233, 135, 20, 0,
                            151, 155, 45, 131, 75, 174, 9, 228, 53, 214, 32, 19, 131, 131, 87, 146, 156, 22, 16, 160, 0, 0, 5, 169, 31, 241, 155, 119, 242, 21, 168, 176, 225, 35, 130, 186, 60, 97, 189, 244, 57, 5, 158, 124, 200, 224, 156, 74, 33, 48, 12, 75, 235, 252, 25, 83, 61, 12, 178, 134, 75, 92, 124, 56, 71, 63, 232, 35, 142, 23, 11, 179, 154, 25, 17, 254, 160, 55, 0, 28, 144, 253, 91, 117, 102, 221, 190, 135, 231, 10, 70, 30, 23, 176, 0, 0, 1, 176, 4, 8, 133, 150, 0, 255, 79, 159, 83, 83, 77, 46, 180, 197, 95, 161, 141, 13, 44, 47, 253, 61, 176, 86, 148, 52, 201, 148, 194, 126, 246, 155, 165, 78, 181, 18, 73, 32, 28, 45, 70, 221, 101, 80, 78, 20, 6, 206, 130, 30,
                            219, 0, 30, 251, 237, 127, 232, 113, 255, 107, 248, 25, 147, 2, 185, 140, 224, 224, 189, 152, 101, 89, 28, 152, 47, 182, 88, 216, 198, 90, 3, 213, 0, 64, 150, 89, 96, 5, 18, 73, 32, 18, 105, 56, 170, 112, 129, 132, 77, 233, 15, 190, 8, 58, 109, 254, 217, 232, 164, 181, 91, 34, 227, 8, 27, 140, 83, 141, 186, 71, 175, 110, 91, 83, 37, 82, 15, 247, 58, 112, 134, 42, 42, 18, 3, 0, 8, 18, 196, 44, 5, 18, 73, 32, 25, 234, 135, 27, 145, 161, 76, 95, 163, 44, 124, 140, 151, 13, 189, 174, 93, 108, 80, 63, 112, 61, 88, 28, 46, 219, 213, 65, 40, 74, 243, 69, 108, 141, 37, 80, 21, 72, 191, 2, 50, 88, 122, 3, 0, 0, 10, 36, 146, 64, 54, 170, 52, 196, 80, 163,
                            79, 142, 148, 81, 36, 46, 131, 66, 255, 221, 26, 128, 73, 23, 103, 49, 192, 55, 30, 59, 219, 161, 166, 249, 122, 141, 88, 62, 36, 228, 107, 116, 158, 14, 252, 92, 103, 226, 0, 0, 20, 73, 36, 128, 113, 105, 27, 109, 199, 165, 26, 100, 240, 30, 8, 113, 124, 175, 175, 166, 144, 115, 74, 138, 80, 24, 32, 117, 28, 206, 194, 21, 85, 40, 218, 254, 177, 100, 37, 127, 63, 131, 208, 68, 250, 76, 169, 40, 0, 0, 0, 0, 0, 0, 0, 95, 208, 40, 5])).buffer
                    }, f = {
                        name: "ddplus-2.0-dash standard sample", profile: 57, channels: 2, sampleRate: 48E3, duration: 1536, Ik: (new Uint8Array([11, 119, 0, 191, 52, 134, 255, 224, 4, 32, 24, 132,
                            33, 46, 136, 15, 236, 128, 165, 150, 32, 161, 69, 16, 65, 66, 33, 0, 160, 224, 136, 32, 48, 40, 56, 176, 233, 159, 62, 203, 176, 139, 218, 213, 221, 58, 124, 249, 83, 239, 245, 26, 179, 232, 106, 97, 174, 75, 74, 149, 104, 85, 223, 38, 74, 253, 242, 95, 253, 47, 117, 10, 116, 228, 206, 145, 61, 126, 153, 83, 169, 201, 146, 214, 124, 251, 202, 125, 62, 3, 184, 113, 105, 44, 145, 91, 107, 58, 206, 87, 7, 170, 74, 27, 187, 48, 217, 65, 241, 1, 161, 157, 113, 91, 21, 163, 111, 51, 104, 115, 118, 123, 44, 77, 110, 247, 112, 43, 8, 73, 76, 172, 73, 150, 207, 95, 153, 3, 182, 105, 124, 66, 2, 0, 118, 237, 94, 135, 88, 83, 124, 41, 205, 76, 76,
                            109, 131, 40, 166, 169, 150, 166, 233, 51, 26, 43, 143, 131, 162, 201, 227, 35, 146, 30, 46, 75, 41, 1, 28, 21, 124, 91, 11, 74, 112, 106, 170, 137, 88, 102, 81, 122, 90, 108, 154, 41, 64, 72, 81, 74, 40, 176, 29, 246, 45, 81, 141, 178, 47, 68, 210, 113, 129, 217, 48, 217, 176, 77, 157, 147, 211, 28, 106, 174, 210, 66, 110, 190, 228, 106, 249, 236, 107, 188, 90, 91, 41, 31, 191, 71, 149, 201, 40, 136, 209, 138, 100, 91, 53, 25, 18, 245, 27, 148, 208, 18, 20, 81, 70, 24, 7, 147, 116, 48, 233, 47, 145, 81, 32, 242, 74, 51, 50, 138, 85, 186, 6, 202, 227, 8, 169, 201, 206, 77, 68, 201, 80, 186, 57, 179, 90, 232, 234, 208, 230, 109, 96, 154,
                            4, 249, 38, 86, 153, 185, 81, 45, 38, 146, 243, 73, 117, 105, 140, 5, 34, 48, 227, 11, 10, 32, 130, 14, 49, 4, 40, 131, 127, 229, 199, 232, 95, 78, 126, 229, 243, 175, 254, 117, 124, 233, 83, 154, 239, 93, 63, 195, 190, 120, 247, 107, 232, 10, 68, 177, 11, 22, 24, 32, 66, 4, 99, 231, 207, 159, 7, 124, 241, 174, 215, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 84, 40, 187, 227])).buffer
                    }; r.exports = {
                        standard: { "heaac-2-dash": a, "heaac-2hq-dash": a, "ddplus-5.1-dash": c, "ddplus-5.1hq-dash": c, "ddplus-2.0-dash": f }, reset: { "heaac-2-dash": b, "heaac-2hq-dash": b }, "heaac-2-dash": b, "heaac-2-dash-alt": a, "ddplus-5.1-dash": c,
                        "ddplus-2.0-dash": f
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2), f = a(36), k = a(85); r = function (m) {
                        function g(d, h, l, n, q) { l = m.call(this, l, n, q) || this; l.Aja = d; l.Xq = h; l.Ya = {}; return l } c.__extends(g, m); g.prototype.parse = function (d) {
                            this.offset = 0; var h = []; for (d = d || {}; this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);) {
                                var l = this.offset, n = this.Ca(); if (0 === n) return { done: !1, offset: this.offset, error: "Invalid zero-length box" }; var q = k.qo(this.Ca()); if (null ===
                                    q) return { done: !1, offset: this.offset, error: "Invalid box type" }; if ("uuid" === q) { if (16 > this.view.byteLength - this.offset) break; q = this.XA() } if (0 === h.length && this.Xq.BV(q, l, n)) break; if (l + n > this.view.byteLength) break; var p = this.Aja[q], u = void 0; if (p) if (u = new p(this, q, l, n, h[0]), (h[0] || this).It(u), u.parse(d)) this.config.xI && p.Ra ? h.unshift(u) : this.offset = l + n; else return { done: !1, offset: this.offset, error: "parse error in " + q + " box" }; else this.offset = l + n; for (; h.length && this.offset > h[0].byteOffset + h[0].Yn - 8;) {
                                        u = h.shift();
                                        if (!u.ku(d)) return { done: !1, offset: this.offset, error: "finalize error in " + u.type + " box" }; this.offset = u.byteOffset + u.Yn
                                    } if (0 === h.length && this.Xq.VU(q, l, n, u)) break
                            } return !this.Xq.done && (d = this.Xq.endOffset ? this.Xq.endOffset - this.view.byteLength : 4096, 0 < d) ? { done: !1, offset: this.offset, zX: d } : { done: !0, offset: Math.min(this.Xq.endOffset || Infinity, this.offset) }
                        }; g.prototype.It = function (d) { f.Ec.It(this, d) }; return g
                    }(a(801).Ifa); b.PE = r
                }, function (r, b, a) {
                    function c(k, m) { k = m.indexOf(k); -1 !== k && m.splice(k, 1) } Object.defineProperty(b,
                        "__esModule", { value: !0 }); var f = a(101); r = function () { function k(m) { this.endOffset = m; this.done = !1 } k.prototype.BV = function () { return this.done }; k.prototype.VU = function (m, g, d) { return this.done = g + d >= this.endOffset }; return k }(); b.TQ = r; r = function () {
                            function k(m, g, d, h) { void 0 === g && (g = []); void 0 === d && (d = []); void 0 === h && (h = !1); this.Wh = m; this.yz = g; this.JZ = d; this.ZX = h; this.done = !1; this.We = {} } k.prototype.BV = function (m, g, d) {
                                -1 !== k.Cpa.indexOf(m) && (this.We[m] = { offset: g, size: d }); if (-1 !== this.JZ.indexOf(m)) if (this.We[m] =
                                    { offset: g, size: d }, this.ZX) this.endOffset = g + d; else return this.endOffset = g, this.done = !0; else this.Wh && -1 !== this.Wh.indexOf(m) ? (m = 1 < this.Wh.length ? 4096 : 0, this.endOffset = Math.max(g + d + m, this.endOffset || 0)) : -1 !== this.yz.indexOf(m) && (m = this.Wh ? 4096 : 0, this.endOffset = Math.max(g + d + m, this.endOffset || 0)); return this.done
                            }; k.prototype.VU = function (m, g, d, h) {
                                var l = this; if (-1 !== this.JZ.indexOf(m)) return this.done = !0; m === f.oF && this.lZ(h.We); m === f.pF && this.lZ(h.We); this.Wh && c(m, this.Wh); c(m, this.yz); return this.Wh &&
                                    0 === this.Wh.length && !this.yz.some(function (n) { return l.We[n] }) ? this.done = !0 : this.done
                            }; k.prototype.lZ = function (m) { var g = this; this.We = m; this.endOffset = (this.Wh || []).concat(this.yz).reduce(function (d, h) { return g.We[h] ? (h = g.We[h], Math.max(h.offset + (h.size || 4096), d)) : d }, this.endOffset || 0) }; k.Cpa = ["moov", "sidx"]; return k
                        }(); b.nda = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.rfa = void 0; var c = a(2), f = a(118); a(5); c.__importDefault(a(38)); r = function () {
                        function k(m, g, d, h, l, n) {
                            this.vd =
                                m; this.nJ = d; this.W = l; this.VOa = !1; this.length = Math.min(m.length, g.length, d.length); this.ek = g; h.length !== this.length ? (m = new Uint8Array(this.length), f.LK.set(m, h.subarray(0, this.length), 0), this.Ht = m) : this.Ht = h; this.Qc = n
                        } Object.defineProperties(k.prototype, { ea: { get: function () { return void 0 !== this.Qc ? this.Qc : this.Qc = this.dga() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { sizes: { get: function () { return this.ek }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype,
                            { Gi: { get: function () { return this.Ht }, enumerable: !1, configurable: !0 } }); k.prototype.subarray = function (m, g) { return new k(this.vd.subarray(m, g), this.sizes.subarray(m, g), this.nJ.subarray(m, g), this.Gi.subarray(m, g), this.W) }; k.prototype.concat = function () {
                                for (var m = [], g = 0; g < arguments.length; g++)m[g] = arguments[g]; g = [this]; m = g.concat.apply(g, c.__spread(m)); g = m.reduce(function (q, p) { return q + p.length }, 0); var d = new Uint32Array(g), h = new Uint32Array(g), l = new Uint8Array(g), n = new Uint8Array(g); g = m[0].W; m.reduce(function (q,
                                    p) { f.LK.set(d, p.vd, q); f.LK.set(h, p.sizes, q); f.LK.set(l, p.nJ, q); f.LK.set(n, p.Gi, q); return q + p.length }, 0); return new k(d, h, l, n, g)
                            }; k.prototype.dga = function () { for (var m = this.sizes, g = this.length, d = 0, h = 0; h < g; ++h)d += m[h]; return d }; k.prototype.pQb = function () { this.VOa || (this.VOa = !0, this.ek = new Uint32Array(this.ek), this.Ht = new Uint8Array(this.Ht), this.PL = new Uint8Array(this.Ht.length)) }; k.prototype.qQb = function () { void 0 === this.PL && (this.PL = new Uint8Array(this.Ht.length)) }; k.prototype.upgrade = function (m, g) {
                                this.pQb();
                                m.qQb(); var d = m.sizes[g]; void 0 !== this.Qc && (this.Qc += d - this.sizes[g]); this.PL[g] = 1; m.PL[g] = 1; this.nJ[g] = m.nJ[g]; this.Gi[g] = m.Gi[g]; this.sizes[g] = d
                            }; k.prototype.t1a = function (m) { return void 0 === this.PL ? !1 : 0 < this.PL[m] }; return k
                    }(); b.rfa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.aca = void 0; var c = a(2), f = a(118); r = a(19); var k = c.__importDefault(a(6)), m = a(9), g = a(44), d = a(5), h = a(239), l = a(384); a = a(385); var n = k.default.MediaSource; a = function (q) {
                        function p(u, t, w, v, x, y, z) {
                            t = q.call(this,
                                u, v, x, t, z) || this; l.G_.R0a(t, u, v, z); t.As = w; t.track = w.track; t.Mw = !!v.Mw; t.qO = !!v.qO; t.ZC = !!v.ZC; t.WTb = v.ea; t.KP = !!v.KP; t.cha = (y ? "(cache)" : "") + t.Ta + " header"; w = v.offset; y = v.ea; t.ln && (w += t.ln.byteLength, y -= t.ln.byteLength); t.KL(u.url || v.url, w, y); return t
                        } c.__extends(p, q); Object.defineProperties(p.prototype, { gd: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { $X: { get: function () { return this.jqb }, enumerable: !1, configurable: !0 } }); p.prototype.md = function () {
                            if (!this.complete) {
                                var u =
                                    { type: "headerRequestCancelled", request: this }; this.emit(u.type, u)
                            } q.prototype.md.call(this)
                        }; p.prototype.AV = function (u) { this.stream.C9(); q.prototype.AV.call(this, u) }; p.prototype.lN = function (u, t, w) { this.stream.B9(); q.prototype.lN.call(this, u, t, w) }; p.prototype.Ak = function (u) { this.ln = this.ln ? m.OC(this.ln, u.response) : u.response; u.GY(); this.stream.B9(); this.hqb() ? q.prototype.Ak.call(this, u) : this.BNa ? (this.KL(u.url, u.offset + u.ea, this.BNa), this.stream.C9(), q.prototype.Ak.call(this, u)) : this.U5(this) }; p.prototype.KL =
                            function (u, t, w) { u = new h.BQ(this.stream, this.track, this.cha + " (" + this.Ga.length + ")", { offset: t, ea: w, url: u, location: this.location, Md: this.Md, responseType: 0 }, this, this.gf, this.I); this.push(u); this.Qc = this.Ga.reduce(function (v, x) { return v + x.ea }, 0) }; p.prototype.hqb = function () {
                                var u, t, w, v = this.gf, x = new f.ur(p.wRb, this.stream, this.ln, ["sidx"], !0, { dfc: this.stream.track.Jua, Q9: void 0 === this.va, Xaa: !n.Sc || !n.Sc.GTa, Yaa: v.Yaa, im: v.im, wB: this.gf.wB, t9a: !0, sE: !n.Sc || !n.Sc.Q4a }), y = x.parse({ va: this.va }); this.L4b =
                                    v.wB && x.S_a; if (y.Jm) {
                                        d.assert(y.Xg); this.qL = y.Xg; this.jqb = y.$X; this.hOa = !!y.PWa; void 0 === this.va && void 0 === y.va && this.I.error("No frame duration available for " + this.Ta); x = y.va ? new m.O(y.va) : this.va; var z = void 0; if (1 === this.PY.mediaType && (null === (u = v.JO) || void 0 === u ? 0 : u.enabled)) if (null === (t = this.PY.Rq) || void 0 === t ? 0 : t.length) z = this.PY.Rq; else if (u = this.PY.ps.Rq, 0 < (null === u || void 0 === u ? void 0 : u.length)) for (z = new Uint8Array(u.length), w = 0; w < u.length; w++)z[w] = u[w].zb; else if (null === (w = y.Gi) || void 0 ===
                                            w ? 0 : w.length) for (z = new Uint8Array(y.Gi.length), w = 0; w < y.Gi.length; w++)z[w] = y.Gi[w]; this.stream.A9(y.Xg, y.W, x, y.Y, y.hI, y.mi, z); this.ln = void 0
                                    } else this.BNa = y.eRa || 0; return !!y.Jm
                            }; p.wRb = new k.default.Console("MP4", "media|asejs"); return p
                    }(a.Yba); b.aca = a; g.zf(l.G_, a, !1, !1); g.zf(r.EventEmitter, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.G_ = void 0; var c = a(2), f = a(5), k = a(171); r = function (m) {
                        function g(d, h, l) {
                            var n = m.call(this, d, h) || this; n.KP = !1; n.Mw = !1; n.qO = !1; n.ZC = !1; n.As = void 0;
                            g.R0a(n, d, h, l); return n
                        } c.__extends(g, m); g.R0a = function (d, h, l, n) { k.Bv.Ab(d, h, l); d.qL = l.Xg; d.ln = l.Sta; d.hOa = l.cl; d.I = n }; Object.defineProperties(g.prototype, { gd: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Xg: { get: function () { return this.qL }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Sta: { get: function () { return this.ln }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            cl: {
                                get: function () { return this.hOa },
                                enumerable: !1, configurable: !0
                            }
                        }); g.prototype.md = function () { }; g.prototype.Lya = function () { }; g.prototype.Ysb = function (d) { f.assert(this.qd.Ta === d.Ta); !d.te && this.qd.te && d.A4(this.qd); !d.location && this.qd.location && (d.location = this.qd.location, d.Pc = this.qd.Pc, d.$I = this.qd.$I, d.url = this.qd.url, d.Bb = this.qd.Bb); this.qd = d }; g.prototype.toJSON = function () { return c.__assign(c.__assign({}, m.prototype.toJSON.call(this)), { isHeader: !0, fragments: this.stream.Y }) }; return g
                    }(k.Bv); b.G_ = r
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.Yba = void 0; var c = a(2); c.__importDefault(a(6)); a(5); r = function (f) {
                            function k(m, g, d, h, l) { m = f.call(this, m, g, d, h, l) || this; m.rOa = !1; m.qOa = !1; m.HS = !1; m.Ga = []; m.xo = !1; m.wPa = !1; m.MOa = !1; m.af = !1; m.em = !1; m.Ji = !1; m.PK = !1; m.vL = void 0; m.aw = void 0; return m } c.__extends(k, f); Object.defineProperties(k.prototype, { Gqa: { get: function () { return this.xo && !this.HS }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { active: { get: function () { return this.af }, enumerable: !1, configurable: !0 } });
                            Object.defineProperties(k.prototype, { sva: { get: function () { return this.em }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { complete: { get: function () { return this.Ji || (this.Ji = this.Ga.every(function (m) { return m.complete })) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { aborted: { get: function () { return this.PK }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, {
                                eh: {
                                    get: function () { return this.Ga.reduce(function (m, g) { return m + g.eh }, 0) }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(k.prototype, { bytesReceived: { get: function () { return this.Ga.reduce(function (m, g) { return m + g.bytesReceived }, 0) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { uf: { get: function () { return this.vL || 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { url: { get: function () { return this.Ga[0] && this.Ga[0].url }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, {
                                readyState: {
                                    get: function () {
                                        return this.Ih || this.Ga.reduce(function (m,
                                            g) { return Math.min(m, g.readyState) }, Infinity)
                                    }, enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(k.prototype, { status: { get: function () { return this.aw && this.aw.status || 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { th: { get: function () { return this.aw && this.aw.th }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, { gN: { get: function () { return this.aw && this.aw.gN }, enumerable: !1, configurable: !0 } }); Object.defineProperties(k.prototype, {
                                zj: {
                                    get: function () {
                                        return this.aw &&
                                            this.aw.zj
                                    }, enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(k.prototype, { Fu: { get: function () { return !!this.Ga.length && this.Ga[0].Fu }, enumerable: !1, configurable: !0 } }); k.prototype.push = function (m) { this.MOa && m.Ab(this.Ua); this.Ga.push(m); this.xo && m.EO() }; k.prototype.Ab = function (m) { f.prototype.Ab.call(this, m); this.Ga.forEach(function (g) { return g.Ab(m) }); this.MOa = !0 }; k.prototype.EO = function () { this.wPa = !0; (this.xo = this.Ga.every(function (m) { return m.EO() })) && this.AV(this); this.wPa = !1; return this.xo };
                            k.prototype.md = function () { 7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseCompoundRequest: in-progress request should be aborted before cleanup", this), this.abort()); this.Ga.forEach(function (m) { return m.md() }) }; k.prototype.Faa = function (m) { this.Ih = this.aw = void 0; return this.Ga.every(function (g) { return 5 !== g.readyState && 7 !== g.readyState ? g.Faa(m) : !0 }) }; k.prototype.abort = function () {
                                var m = this.active, g = this.aborted; this.Ih = 7; this.PK = !0; this.em = this.af = !1; var d = this.Ga.map(function (h) { return h.abort() }).every(function (h) { return h });
                                g || this.lN(this, m, this.Gqa); return d
                            }; k.prototype.getResponseHeader = function (m) { var g = null; this.Ga.some(function (d) { return !!(g = d.getResponseHeader(m)) }); return g }; k.prototype.getAllResponseHeaders = function () { var m = null; this.Ga.some(function (g) { return !!(m = g.getAllResponseHeaders()) }); return m }; k.prototype.I9 = function () { }; k.prototype.KA = function (m) { this.af || (this.af = !0); this.rOa || (this.rOa = !0, this.zs = 0, this.vL = this.av = m.uf, this.mN(this)) }; k.prototype.uI = function (m) {
                                this.em || (this.em = !0); this.qOa || (this.qOa =
                                    !0, this.vL = m.uf, this.dD(this))
                            }; k.prototype.vI = function (m) { this.vL = m.uf; this.kH(this); this.zs = this.bytesReceived; this.av = m.uf }; k.prototype.Ak = function (m) { this.vL = m.uf; this.complete ? (this.Ji = !0, this.Ih = 5, this.em = this.af = !1, this.HS = !0, this.qu(this)) : this.kH(this); this.zs = this.bytesReceived; this.av = m.uf }; k.prototype.SX = function (m) { this.vL = m.uf; this.aw = m; this.Ih = 6; this.U5(this) }; k.prototype.RX = function () { }; k.prototype.wi = function () { return this.Ga[0].wi() + "-" + this.Ga[this.Ga.length - 1].wi() }; k.prototype.toString =
                                function () { return "Compound[" + this.Ga.map(function (m) { return m.toString() }).join(",") + "]" }; k.prototype.toJSON = function () { return { requests: this.Ga } }; return k
                        }(a(240).UJ); b.Yba = r
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.ana = void 0; b.ana = function (a, c) { for (var f, k, m = a.length - 1; 0 <= m; --m)if (k = a[m], k.Gu) { if (k.bitrate <= c) return m; f = m } return f } }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.xoa = b.ftb = void 0; b.ftb = function (a) { return a.V$ }; b.xoa = function (a, c) {
                        return void 0 !==
                            a.kO ? a.kO : c && void 0 !== c.kO ? c.kO : 100
                    }
                }, function (r, b, a) {
                    function c(k, m) { this.lqb = k.JO && k.JO.enabled; this.kG = void 0; this.$ob = m; this.Oha = []; this.iia = []; this.M2 = []; this.gg = [] } var f = a(38).LH; c.prototype.reset = function (k) { this.kG = void 0; this.Oha = []; this.iia = []; this.M2 = []; k && (this.gg = []) }; c.prototype.add = function (k, m) {
                        var g = m.filter(function (l, n) { return f(l) || n === k.Le }), d = g.map(function (l) { return l.bitrate }); m = m[k.Le]; g = g.indexOf(m); if (this.kG && (this.kG.length !== d.length || this.kG.some(function (l, n) {
                            return l !==
                                d[n]
                        }))) { var h = this.QYa(); h && (this.gg.push(h), this.reset(!1)) } void 0 === this.kG && (this.kG = d); this.Oha.push([g, k.sya, k.Bc, k.Oja, k.LSa, k.MVb, k.NSb, k.wf, k.Up, k.kk, k.k2b - k.sya, k.sVb]); void 0 !== k.Su && this.M2.push([k.sya, k.Su.IP, k.Su.xM, k.Su.aP]); this.lqb && void 0 !== m.Y && (g = m.Y.Hn(k.kk), -1 != g && (g = m.Y.get(g), h = g.duration, m = g.zb || m.zb, void 0 !== m && this.iia.push({ Z: g.Z, duration: h, zb: m })))
                    }; c.prototype.NWa = function (k) {
                        for (var m = [], g = [], d = 0; d < k.length; d++) {
                            for (var h = k[d], l = [], n = 0; n < h.length; n++)l.push(h[n] - (g[n] ||
                                0)); m.push(l); g = h
                        } return m
                    }; c.prototype.QYa = function () { var k = this.NWa(this.Oha); if (0 !== k.length) { var m = 0 < this.M2.length ? this.NWa(this.M2) : []; return { dltype: this.$ob, bitrates: this.kG, seltrace: k, vmaftrace: this.iia, paceratetrace: m } } }; c.prototype.get = function () { var k = this.QYa(), m = this.gg; k && m.push(k); if (0 !== m.length) return m }; r.exports = c
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.FBa = void 0; var c = a(826); !1; r = function () {
                        function f(k) { this.I = k; !1 } f.prototype.Kmb = function (k, m) {
                            m =
                                c.nUa(m, k); var g = k.steeringAdditionalInfo; if (g && g.streamingClientConfig && Object.keys(g.streamingClientConfig).length) return k = g.streamingClientConfig, this.I.trace("applying manifest based streamingClientConfig" + JSON.stringify(k)), this.xPa(m, k); k = k.cdnResponseData; if (!k) return m; (k = k.sessionABTestCell) && (k = k.split(".")) && 1 < k.length && (k = parseInt(k[1].replace(/cell/i, ""), 10), 400 <= k ? (m.set ? (m.set({ probeServerWhenError: !0 }), m.set({ probeDetailDenominator: 1 }), m.set({ allowSwitchback: !0 })) : (m.cv = !0, m.EI = 1,
                                    m.Uy = !0), this.I.trace("using sab cell >= 400, probeServerWhenError: " + m.cv + ", probeDetailDenominator: " + m.EI + ", allowSwitchback" + m.Uy)) : 300 <= k ? (m.set ? (m.set({ probeServerWhenError: !0 }), m.set({ probeDetailDenominator: 1 }), m.set({ allowSwitchback: !1 })) : (m.cv = !0, m.EI = 1, m.Uy = !1), this.I.trace("using sab cell >= 300, probeServerWhenError: " + m.cv + ", probeDetailDenominator: " + m.EI + ", allowSwitchback" + m.Uy)) : 200 <= k ? (m.set ? m.set({ pipelineEnabled: !1 }) : m.Gq = !1, this.I.trace("using sab cell >= 200, pipelineEnabled: " +
                                        m.Gq)) : 100 <= k && (m.set ? (m.set({ pipelineEnabled: !0 }), m.set({ maxParallelConnections: 1 }), m.set({ maxActiveRequestsPerSession: m.o8 }), m.set({ maxPendingBufferLen: m.T3a })) : (m.Gq = !0, m.eO = 1, m.bx = m.o8, m.v8 = m.T3a), this.I.trace("using sab cell >= 100, pipelineEnabled: " + m.Gq))); return m
                        }; f.prototype.Lmb = function (k, m) { if (!m.ala || k === this.Iob) return m; this.Iob = k; for (var g in m.ala) (new RegExp(g)).test(k) && (m = this.xPa(m, m.ala[g])); return m }; f.prototype.xPa = function (k, m) {
                            var g, d; for (d in m) if (m.hasOwnProperty(d)) {
                                var h =
                                    m[d]; k.set ? 0 === k.set((g = {}, g[d] = h, g)) && this.I.trace("Invalid key" + d) : k[d] = h
                            } return k
                        }; return f
                    }(); b.FBa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.FFa = b.$R = void 0; var c = a(2), f = a(19), k = c.__importStar(a(10)), m = c.__importDefault(a(87)), g = a(17), d = a(244), h = a(22); r = a(44); var l = c.__importDefault(a(6)), n = a(831), q = a(392), p; (function (u) { u[u.cYa = 0] = "forwards"; u[u.tja = 1] = "backwards"; u[u.vO = 2] = "none" })(p = b.$R || (b.$R = {})); a = function (u) {
                        function t(w, v, x, y, z, A, B, E, D, F, G, C, H, L, N, J) {
                            var Q,
                                K = u.call(this, void 0, v, y, D.P, w, D, void 0, F, H, h.O.Na(G), B.Ue.bind(B), C, J, void 0, new f.EventEmitter, void 0) || this; K.xb = w; K.ji = x; K.tc = z; K.p2 = A; K.X = B; K.IL = E; K.ug = C; K.IV = L; K.Pg = N; K.Rk = J; K.active = !1; K.EOa = []; K.Cha = 0; null === (Q = K.P) || void 0 === Q ? void 0 : Q.yva(K); K.children = Object.create(null); K.Jx = []; K.ve = void 0; void 0 === H && (H = h.O.Na(D.Z)); var I = [K.J.aSa, K.J.Gxa]; F.forEach(function (M) { var O = M.mediaType; M = new q.O0(w, K.ji, K.I, K, M, H.T, I[O], v, K.p2, K.Pg, K.Lga[O], null === C || void 0 === C ? void 0 : C.mb(O)); K.oe.d_b(O, M) });
                            K.Ct = K.oe.rY; return K
                        } c.__extends(t, u); Object.defineProperties(t.prototype, { K: { get: function () { return this.P.K }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { Om: { get: function () { var w, v, x, y; return [null !== (v = null === (w = this.mb(0)) || void 0 === w ? void 0 : w.Om) && void 0 !== v ? v : 0, null !== (y = null === (x = this.mb(1)) || void 0 === x ? void 0 : x.Om) && void 0 !== y ? y : 0] }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, {
                            Bn: {
                                get: function () {
                                    var w, v, x, y; return [null !== (v = null === (w = this.mb(0)) ||
                                        void 0 === w ? void 0 : w.Bn) && void 0 !== v ? v : { T: 0, ea: 0 }, null !== (y = null === (x = this.mb(1)) || void 0 === x ? void 0 : x.Bn) && void 0 !== y ? y : { T: 0, ea: 0 }]
                                }, enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(t.prototype, { Z$: { get: function () { return this.H.Z }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { sua: { get: function () { return this.Z$ + this.Fe }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { Lc: { get: function () { return this.H.Ka }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype,
                            { we: { get: function () { return this.Lc + this.Fe }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { pc: { get: function () { return this.P.pc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { weight: { get: function () { return this.H.weight }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { H: { get: function () { return this.Sp }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { kl: { get: function () { return this.oe }, enumerable: !1, configurable: !0 } });
                        t.prototype.rf = function () { var w; this.Kh || (this.active = !1, this.ug && (delete this.ug.children[this.H.id], this.ug = void 0), k.sf(this.children, function (v) { v && v.ug && (v.ug = void 0) }), this.children = Object.create(null), this.bL = void 0, u.prototype.rf.call(this), null === (w = this.P) || void 0 === w ? void 0 : w.zya(this), this.oe.clear()) }; t.prototype.Yva = function (w, v) {
                            void 0 === v && (v = p.tja); this.kl.forEach(function (x) { (k.la(w) || x.mediaType === w) && x.reset() }); switch (v) {
                                case p.tja: this.ug && this.ug.Yva(w, v); break; case p.cYa: this.children &&
                                    k.sf(this.children, function (x) { x && x.Yva(w, v) })
                            }
                        }; t.prototype.EW = function (w) { if (!this.active) return !1; var v = this.ug; if (v) { var x = v.mb(w), y = x.Ua.M6a; if (0 !== y && (v.eM(w), y = x.Ua.M6a, 0 !== y)) return !1 } return !0 }; t.prototype.Rd = function (w) { return this.kl.get(w) }; t.prototype.DKb = function () { return this.kl.every(function (w) { return 0 === w.ZA }) }; t.prototype.toJSON = function () {
                            return c.__assign(c.__assign({}, u.prototype.toJSON.call(this)), {
                                active: this.active, playerStartPts: this.Ad, playerEndPts: this.we, pipelines: this.kl,
                                previousBranch: this.ug
                            })
                        }; t.prototype.I$a = function (w, v) { this.P.zya(this); this.P = this.H.P = w; this.Uwa(this.P); this.P.yva(this); this.kl.forEach(function (x) { var y = v[x.mediaType]; y && x.oZ(y) }) }; t.prototype.SIb = function (w) { return this.Rk[w] }; t.prototype.mb = function (w) { return this.kl.get(w) }; t.prototype.eJb = function (w) { return this.mb(w).ZA }; t.prototype.Swa = function (w, v, x) {
                            var y = this, z = this.H; w = this.g4(z.Z, this.P, w, this.K === (w ? w.K : this.tc.$c.K)); var A = w.VO, B = w.Iz; void 0 === v && (v = [0, 1]); 0 === B.length || v.forEach(function (E) {
                                var D =
                                    y.mb(E); x && (D.se = B[E]); var F = y.pV(z.Ka); D.kaa(F[E])
                            }); return A
                        }; t.prototype.x8a = function (w, v) { var x = this.xb, y = this.mb(0); void 0 === v && (v = y.dMb); var z; this.ug && (z = this.ug.Rd(0)); x = new q.O0(x, this.ji, this.I, this, w, v, y.xP, this.J, this.p2, this.Pg, this.Lga[0], z); this.oe.replace(y, x); this.Ct = this.oe.rY; this.Swa(this.ug, [0], !0); x.dJ(v, !!this.ug); y.rf(); k.sf(this.children, function (A) { A && A.x8a(w) }) }; t.prototype.lu = function (w, v) { if (v = this.mb(v)) return v.Ua.lu(w) }; t.prototype.eM = function (w) {
                            void 0 === w ? this.kl.forEach(function (v) { v.eM() }) :
                                this.mb(w).eM()
                        }; t.prototype.tY = function (w, v, x) { (w = this.mb(w)) && w.Ua.tY(v, x) }; t.prototype.F6 = function (w, v) { (v = this.mb(v)) && v.Ua.F6(w) }; t.prototype.MPb = function (w) { this.EOa[w] = !0 }; t.prototype.ywb = function () { var w = this; return [0, 1].every(function (v) { return !w.pc(v) || w.EOa[v] }) }; t.prototype.vwb = function (w, v, x, y) {
                            var z = this.J, A = this.xb, B = this.X.getState(), E = B === g.sa.wd || B === g.sa.Tf; if (!E && void 0 === x) return { Se: !0 }; if (B === g.sa.Tf && l.default.time.fa() < this.Cha + z.Jsa) return { Se: !1 }; var D = this.mb(0), F = this.mb(1),
                                G = this.tc.yw(this, 0), C = this.tc.yw(this, 1), H = d.e$(B); G = !D || D.kTa(H, this.X.Ue(), v, G, this.X.No(), y); C = !F || F.kTa(H, this.X.Ue(), w, C, this.X.No(), y); void 0 !== x && G && (x = x.trackId, w = this.P.getTrackById(x), this.Rmb(x, w.CE), A.Zy = void 0); if (G && C) return this.IL(), this.dU = l.default.time.fa(), B === g.sa.Tf && (this.Cha = l.default.time.fa()), { Se: !0, Rt: F ? F.yG : D.yG }; G = this.Mh(0); C = this.Mh(1); if (E) {
                                    A = !F || C > z.yj; if ((!D || G > z.yj) && A && (D = this.IV(), D >= z.OA)) return this.Xb("buffering longer than limit: " + D + " >= " + z.OA + ", audio buffer: " +
                                        G + " ms, video buffer: " + C + " ms"), this.IL(), this.dU = l.default.time.fa(), B === g.sa.Tf && (this.Cha = l.default.time.fa()), { Se: !0, Rt: "prebufferTimeLimit" }; this.ji.upb()
                                } return { Se: !1 }
                        }; t.prototype.nka = function (w, v) {
                            var x = this.J, y = this.mb(0), z = this.mb(1); v ? (v = this.Mh(0, w), w = this.Mh(1, w)) : (v = this.tc.yw(this, 0, w), w = this.tc.yw(this, 1, w)); var A = x.yj, B = !this.pc(0) || y.bi && 0 === y.Ua.WD && 0 === y.Ua.Us; y = !this.pc(1) || z.bi && 0 === z.Ua.WD && 0 === z.Ua.Us; var E = B && y; x = !B && v < x.yj; if (!E && (x || !y && w < A)) return !1; if (z && z.Se || !this.pc(1)) return !0;
                            if (E) if (this.xb.O2 && 0 === v && 0 === w) this.Xb("playlist mode with nothing buffered, waiting for next manifest"); else return !0; return !1
                        }; t.prototype.haa = function (w, v) {
                            var x = this, y = this.J; this.kl.forEach(function (z) { z.seeking = void 0 }); w && y.ti && this.kl.forEach(function (z) {
                                if (z) {
                                    var A = x.tc.CG(x, z.mediaType); z = "bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Bn.ea + ", completedMs: " + z.uM + ", completedBytes: " + A + ", partials: " + z.Ua.WD + ", streamingPts: " + z.Bc + ", completeStreamingPts: " + z.cq +
                                        ", fragments: " + JSON.stringify(z.Ua.Y) + ", toAppend: " + v(z.mediaType); x.ji.Im(z)
                                }
                            })
                        }; t.prototype.tE = function (w, v, x) {
                            var y = this, z = l.default.time.fa(), A = {}; k.sf(this.children, function (B) { if (B) { if (B.ve) { B.ve.QCb = z - B.ve.q7; B.ve.q7 = void 0; var E = B.ve.weight } else E = y.tc.i_a(y.H.id, B.H.id); var D = B.fD(), F = y.mb(0) && 0 === D.Hr, G = y.mb(1) && 0 === D.jo; A[B.H.id] = { weight: E, Lr: D, oW: !F && !G } } }); x = { Oq: z, Xe: w, Rla: x, raa: this.H.id, ve: A }; w || (w = v.Ue(), x.MP = w - (this.H.Z + this.Fe), x.MP = Math.max(0, x.MP), x.X4 = 0, x.startTime = z); this.Jx.unshift(x);
                            return x
                        }; t.prototype.Cxb = function (w) { var v = this.Jx[0]; v.Xe && (v.MP = this.Lc - this.H.Z, v.MP = Math.max(0, v.MP)); v.Sbb = {}; var x = w.fD(); m.default(x, v.Sbb); v.oW = w.Bn.every(function (y) { return 0 < y.T }); this.Jx = []; return v }; t.prototype.eo = function (w) { var v = this.H; w -= this.Fe; if (v.Z < w && w < v.Ka) this.Jx.shift(); else if (v = this.Jx[0]) v.eo = !0 }; t.prototype.g4 = function (w, v, x, y) {
                            var z = this; void 0 === v && (v = this.P); var A = !1; if (x) { A = !0; var B = x.mb(1).Jf; x = x.mb(0).Jf; if (!B || !x) return { VO: [], Iz: [] }; B = B.Ka; y || (B = void 0) } var E = this.DXa(w,
                                B, A, v); v.Sb === this.tc.cBb && [1, 0].forEach(function (D) { var F = z.mb(D); F && (F.se = E[D]) }); return { VO: E.map(function (D) { return D.Z }), Iz: E }
                        }; t.prototype.DXa = function (w, v, x, y) { var z = this; void 0 === y && (y = this.P); return this.yQa(y) ? [1, 0].map(function (A) { if (!z.pc(A)) return {}; var B = y.yh[A]; A = z.mb(A).ym(B.stream, w, v, x); w = A.Z; return A }).reverse() : [] }; t.prototype.pV = function (w, v) {
                            var x = this; void 0 === v && (v = this.P); return this.yQa(v) ? [1, 0].map(function (y) {
                                if (!x.pc(y)) return {}; var z = v.yh[y].stream; y = x.mb(y).Hz(z, w); w =
                                    x.J.dh ? (new h.O(y.wb, z.va.W)).T : y.Ka; return y
                            }).reverse() : []
                        }; t.prototype.V3b = function (w, v) { var x = this.H.Ka; x && x < v && (w = this.pV(x)); v = this.Rd(1); x = this.Rd(0); v && v.kaa(w[1]); x && x.kaa(w[0]) }; t.prototype.yQa = function (w) { var v = w.yh; if (!v) return !1; w = v[1]; w = !this.pc(1) || w && w.stream.te; v = v[0]; v = !this.pc(0) || v && v.stream.te; return w && v ? !0 : !1 }; t.prototype.Rmb = function (w, v) { this.ji.spb(w, v) }; return t
                    }(n.LFa); b.FFa = a; r.zf(f.EventEmitter, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.fea =
                        b.Ahb = void 0; var c = a(2), f = c.__importDefault(a(6)), k = a(21), m = a(832), g = a(9); r = function () { return function (d, h, l) { this.J = h; l = g.Bq(f.default, l, "[" + d + "]"); this.D4a = 1 === d ? h.X8 : h.N8; var n = f.default.Mo()[d]; this.gX = 1 === d ? h.lQb : h.WPb; this.gX = Math.min(h.cQb * n, this.gX); k.ia && l.trace("This pipeline's buffer size ", n, this.gX); this.T8 = (1 === d ? h.EA : h.gx) || h.T8; this.t8 = (1 === d ? h.kQb : h.VPb) || h.t8; this.Mia = h.Mia } }(); b.Ahb = r; r = function (d) {
                            function h(l, n, q) { return d.call(this, l, n, q) || this } c.__extends(h, d); h.prototype.IHb =
                                function (l, n, q, p) {
                                    var u, t, w = n === q.se.index, v = n === q.Jf.index; if (!v || w && q.se.za) if (w) { var x = l.hZa(q.se); x.EP(q.se.tv); v && (q.se.za || q.Jf.za) && x.Hk({ start: null === (u = x.za) || void 0 === u ? void 0 : u.start, end: null === (t = q.Jf.za) || void 0 === t ? void 0 : t.end }) } else x = l.el(n); else x = l.hZa(q.Jf), x.EP(q.Jf.tv); x.rO = n + 1; if (u = m.c_a(q, q.Bc)) k.ia && q.sn("getFragmentForRequest pts:", q.Bc, "in region:", u, "previous region:", q.fra), m.rWa(q.I, x, u, { SMb: w, XMb: v, cNb: void 0 === q.fra || q.fra !== u.region }); v && (x.C3a(), x.D_b(q.jb.H)); w =
                                        l.Y.Dx; if (!(x.rO === n || null !== w && void 0 !== w && w.t1a(n) || p || !this.Mia && x.za)) for (++n; n < l.Y.length && n < q.Jf.index && (x.ea < this.D4a || x.duration < this.T8) && (1 === x.stream.Xg.length || this.Uvb(l, n)); ++n) {
                                            p = l.el(n); if (null === w || void 0 === w ? 0 : w.t1a(n)) break; if (m.s1a(q, p)) break; if (x.duration + p.duration > this.t8) break; if (x.ea + p.ea > this.gX) break; x.z3(p); x.rO = n + 1; k.ia && q.sn("getFragmentForRequest: extended fragment startPts:", x.Z, "to duration:", x.duration, "size:", x.ea, "min request size:", this.D4a, "max request size:",
                                                this.gX, "min request duration:", this.T8, "max request duration:", this.t8, "edit:", x.za)
                                        } k.ia && q.sn("getFragmentForRequest(" + n + ") returning:", x, "stream:", x.stream, "firstRequestInRegion:", x.mna, "lastRequestInRegion:", x.Xw, "nextIndex:", x.rO); return x
                                }; h.prototype.Uvb = function (l, n) { return !l.Xg.some(function (q) { return n === q.Cd }) }; return h
                        }(r); b.fea = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.O0 = void 0; var c = a(2); r = a(393); var f = c.__importDefault(a(27)).default.Wa, k = a(373), m = a(17),
                        g = c.__importDefault(a(6)), d = a(175), h = a(5), l = a(22), n = a(861); a = function (q) {
                            function p(u, t, w, v, x, y, z, A, B, E, D, F) { w = q.call(this, v, A, w, v, v, x, l.O.Na(y), z, D, !1, null === F || void 0 === F ? void 0 : F.Qf) || this; w.xb = u; w.ji = t; w.og = B; w.Pg = E; w.Lja = 0; w.cD = []; w.ty = !1; w.Ao.Lcb = !1; w.GS = new n.GFa(v, w.Pg, A, w.I, w.mediaType, w.ji, w.Ua, w.xb); w.hOb = g.default.time.fa(); w.bOb = void 0; w.aI = A.jqa; w.E7a = g.default.time.fa(); t = d.wN(A); u = t.fE; t = t.j$; w.NVb = 0 === w.mediaType ? u : t; w.oZ(x); return w } c.__extends(p, q); Object.defineProperties(p.prototype,
                                { Jt: { get: function () { return this.Ua.Jt }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { uM: { get: function () { return this.Ua.uM }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { NC: { get: function () { return this.Ua.NC }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { ZA: { get: function () { return this.Ua.ZA }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                                    bi: {
                                        get: function () { return this.GS.bi }, set: function (u) { this.GS.bi = u },
                                        enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(p.prototype, { kr: { get: function () { return this.GS.kr }, set: function (u) { this.GS.kr = u }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { f8: { get: function () { return this.Zd }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { dMb: { get: function () { return this.KOa.T }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { xP: { get: function () { return this.Jj.xP }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype,
                                    { qJb: { get: function () { return this.xb.Gha }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Se: { get: function () { return this.ty }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { yG: { get: function () { return this.LNa }, enumerable: !1, configurable: !0 } }); p.prototype.reset = function () { this.seeking = void 0; this.connected = this.bi = !1; this.Ao.reset() }; p.prototype.rf = function () { this.reset(); q.prototype.rf.call(this) }; p.prototype.Hz = function (u, t) {
                                        return k.Hz(this.fk.mediaType,
                                            this.J, u, t, this.dh, this.xb.GQb)
                                    }; p.prototype.ym = function (u, t, w, v) { return k.ym(this.fk.mediaType, this.J, u, t, w, v) }; p.prototype.eo = function () { this.aI = this.J.jqa }; p.prototype.eM = function () { this.Ua.$aa() }; p.prototype.oZ = function (u) { var t = this.xb, w = this.mediaType; h.assert(u.mediaType === w); h.assert(u.P === this.jb.P); this.fk = u; this.jb.P.Kya(w, u.ce); t.pob(this, u.Ju); this.Dvb(u.ce); this.Qf.oZ(u); this.jb.P.yka(); this.bi = !1 }; p.prototype.Yma = function (u) {
                                        var t = this.jb.P.yh[this.mediaType]; if (t && t.stream.te && (u =
                                            t.stream.Y.Hn(u), -1 !== u)) return u
                                    }; p.prototype.dJ = function (u, t) {
                                        if (this.se && this.se.Z === u) { t = this.se.index; var w = u } else { var v = this.jb.P, x = v.yh[this.mediaType]; if (!x || !x.stream.te) { this.yI = u; this.LUb = t; return } w = x.stream.Y; this.se = this.ym(x.stream, u, void 0, t); if (void 0 === this.se) { if (t = w.length - 1, w = w.Hj(t), this.Xb("setStreamingPts out of range of fragments, pts:", u, "last startPts:", w, "fragment index:", t, "fastplay:", v.mf.Je), v.mf.Je) { this.yI = u; return } } else t = this.se.index, w = this.se.Z } this.Tn = t; this.pT =
                                            w; this.yI = void 0
                                    }; p.prototype.Z4b = function (u) { var t = this.fk.Rw(u), w = "verifying streamId: " + u + " stream's track: " + (t ? t.Ta : "unknown") + " currentTrack: " + this.fk.trackId; return t ? !0 : (this.ji.Im(w), this.ji.Im("unknown streamId: " + u), !1) }; p.prototype.Dvb = function (u) { this.VKb = u.reduce(function (t, w) { return w.Gu && w.bitrate > t.bitrate ? w : t }, u[0]) }; p.prototype.kaa = function (u) { this.Jf = u }; p.prototype.EPb = function (u, t, w, v, x) { this.Ybb(u, t, v, x); w && ++this.Lja; this.xb.dk() }; p.prototype.KA = function (u) {
                                        u.Ka && u.Z && (this.aI -=
                                            u.Ka - u.Z); q.prototype.KA.call(this, u)
                                    }; p.prototype.Ak = function (u) { this.I_a(u); this.qu(u) }; p.prototype.X3b = function (u) { var t = g.default.time.fa(); this.aI += u * (t - this.E7a); this.E7a = t }; p.prototype.JYb = function () { this.aI = this.J.jqa }; p.prototype.rM = function (u) { this.Ua.jka(); this.dh || this.GS.rM(u, this.Lc) }; p.prototype.I_a = function (u) {
                                        var t, w = this.f8, v = this.xb; this.og.jQa() || (this.ji.Rpb(u.mediaType, u.P.Sb, u.stream.track.xC, this.cq, this.ha), null === (t = this.dh) || void 0 === t ? void 0 : t.QLb(u), t = w.X.Ue() || 0, v.Db.vy() ||
                                            (w = w.mb(f.Pb)) && !w.Se && w.U6 && v.Db.Yoa(w), this.rM(t), this.xb.H_a(u), this.og.d2(this) && this.og.dk())
                                    }; p.prototype.Jta = function (u) { this.xb.R6(u) }; p.prototype.kTa = function (u, t, w, v, x, y) { var z = this.J, A = z.yj; if (w >= z.yj && (z.H$ && (A = w + 1E3), z.I$ && !this.connected)) return !1; if (this.dh) return this.dh.hz(); w = this.bi && 0 === this.Ua.Rta && 0 === this.Ua.Us; return !w && v < A ? !1 : w ? y && 0 === v ? (this.Xb("playlist mode with nothing buffered, waiting for next manifest"), !1) : !0 : this.Gwb(u, t, x) }; p.prototype.u_b = function (u) { this.pT = u };
                            p.prototype.haa = function (u) { this.ty = !0; this.LNa = u }; p.prototype.wka = function () { this.ty = !1; this.LNa = void 0 }; p.prototype.Gwb = function (u, t, w) { if (this.Se || 0 === this.mediaType) return !0; if (void 0 === this.Iu) return !1; t = this.cob(t, u); this.track.P.Em.e_(this.track.P.S, this.track.ce); this.Jj.Cua([this.Iu], !1, t, this.NVb); u = this.Jj.hz(t, u, w, this.Iu, this.jb.P.kq); u.complete ? this.haa(u.reason) : (this.wka(), this.JD = u.JD, this.progress = u.progress); return this.Se }; p.prototype.cob = function (u, t) {
                                var w, v, x, y = g.default.Mo()[this.mediaType],
                                    z = this.Ua.F6(); u = { zw: y, Z: null !== (w = z.Ad) && void 0 !== w ? w : 0, Cc: u, Bc: null !== (v = z.OO || u) && void 0 !== v ? v : 0, Yk: null !== (x = z.sU || u) && void 0 !== x ? x : 0, eh: z.eh, Bj: z.Bj, fYa: z.Y.length, Y: z.Y }; "number" !== typeof u.Z ? (u.Z = 0, u.Bc = 0) : t === m.Jc.wd && u.Cc !== u.Z && (u.Cc = u.Z); return u
                            }; return p
                        }(r.Dea); b.O0 = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Dea = void 0; var c = a(2), f = a(19), k = a(833), m = a(84), g = a(834), d = a(841), h = a(173), l = a(249), n = a(9), q = a(5), p = a(22), u = c.__importDefault(a(6)); r = a(103); var t = a(44),
                        w = a(397), v = a(125); a = function (x) {
                            function y(z, A, B, E, D, F, G, C, H, L, N, J, Q) {
                                var K = x.call(this, z) || this; K.J = A; K.Zd = D; K.fk = F; K.KOa = G; K.aob = H; K.kw = Q; K.events = new f.EventEmitter; K.connected = !1; K.ypa = !1; K.$l = !1; K.I = n.Bq(u.default, B, "[" + K.mediaType + "]"); K.Sk = K.I.error.bind(K.I); K.Xb = K.I.warn.bind(K.I); K.sn = K.I.trace.bind(K.I); K.pT = G.T; "string" === typeof C || void 0 === C ? (z = 0 === K.mediaType && A.sma || 1 === K.mediaType && A.tma, K.Xha = new l.wfa(C, A, new h.F1(N), z)) : K.Xha = C; K.pn = new k.vJa(K, E, K.J, K.I, K.mediaType); K.Ao = new g.bLa(K,
                                    A, K.I, K.pn, K.Zd, K.mediaType, K.kw, function () { return K.Ej }); A.dh && (K.dh = new d.TLa(A.dh, K.I)); L && (K.Lf = null !== J && void 0 !== J ? J : w.$t(K.mediaType, K.track.P, K.J, K.I, K.pn.QFb.bind(K.pn), function () { }), K.Lf.on("created", function () { return K.events.emit("requestQueueCreated") })); return K
                            } c.__extends(y, x); Object.defineProperties(y.prototype, { mediaType: { get: function () { return this.fk.mediaType }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, {
                                track: {
                                    get: function () { return this.fk }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(y.prototype, { jb: { get: function () { return this.Zd }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { ha: { get: function () { return this.Zd.H.id }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Ua: { get: function () { return this.Ao }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { ce: { get: function () { return this.fk.ce }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, {
                                Bn: {
                                    get: function () { return this.Ao.Bn },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(y.prototype, { Om: { get: function () { return this.Ao.Om }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Bc: { get: function () { return this.pT }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { taa: { get: function () { var z; return null !== (z = this.Mg) && void 0 !== z ? z : this.gs }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, {
                                rU: {
                                    get: function () { var z; return null !== (z = this.Ua.rU) && void 0 !== z ? z : this.taa },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(y.prototype, { qia: { get: function () { return this.Ua.rU }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { cq: { get: function () { return this.Ua.cq }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Oka: { get: function () { return this.Ua.Oka }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { ZNb: { get: function () { var z = this.Ua.$Nb; return null === z || void 0 === z ? void 0 : z.Qd }, enumerable: !1, configurable: !0 } });
                            Object.defineProperties(y.prototype, { Yw: { get: function () { return !!this.Jf && (this.Tn > this.Jf.index || this.pT >= this.Jf.Lc) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Al: { get: function () { return this.Yw && 0 === this.Ao.WD }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Jt: { get: function () { return this.Ua.Jt }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, {
                                $q: {
                                    get: function () { return this.ze ? p.O.max(this.ze.Ja(this.xE), p.O.cb) : void 0 }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(y.prototype, { jN: { get: function () { return this.jb.jN }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { bVa: { get: function () { return this.Ua.Y.aH }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Jj: { get: function () { return this.Xha }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Qf: { get: function () { return this.Jj.Qf }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, {
                                Iu: {
                                    get: function () { return this.Jj.Qf.Iu },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(y.prototype, { W: { get: function () { var z, A; return null !== (A = null === (z = this.se) || void 0 === z ? void 0 : z.W) && void 0 !== A ? A : 1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { $a: { get: function () { var z; return null === (z = this.se) || void 0 === z ? void 0 : z.$a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { wb: { get: function () { var z; return null === (z = this.Jf) || void 0 === z ? void 0 : z.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype,
                                { Ej: { get: function () { return this.jb.Ge.dg(this.W).qc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { U6: { get: function () { return this.Ua.U6 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { Fx: { get: function () { return this.Ua.Fx }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { xxa: { get: function () { return this.Ua.xxa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, {
                                    gs: {
                                        get: function () { return this.KOa.add(this.jb.Ge) },
                                        enumerable: !1, configurable: !0
                                    }
                                }); y.prototype.yT = function () { var z = this; this.Ao.yT(void 0, function (A) { var B = A[0]; A = B.od; B = B.index; B < z.Tn && z.DP(A, B) }) }; y.prototype.reset = function () { this.Ua.reset(); this.se && this.DP(this.se.od, this.se.index); this.Lf && this.jb.P.TL(this.mediaType, this.Lf) }; y.prototype.rf = function () { var z; this.$l = !0; this.Ao.rf(); null === (z = this.Xha) || void 0 === z ? void 0 : z.Qf.Jb(); this.Lf && (this.jb.P.TL(this.mediaType, this.Lf), v.wp.instance.JM(this.Lf), this.Lf.removeAllListeners(), this.Lf = void 0) };
                            y.prototype.toJSON = function () { return { started: this.Fx, startOfSequence: this.xxa, segmentId: this.ha, requestedBufferLevel: this.Om, viewableId: this.Zd.P.S, hasFragments: this.U6 } }; y.prototype.Xm = function () { return this.Ua.Xm() }; y.prototype.DP = function (z, A) { this.pT = z; this.Tn = A }; y.prototype.Sz = function () { return this.Ua.Sz() }; y.prototype.dH = function () { this.Ua.close() }; y.prototype.LG = function (z) { return (z = this.Ua.lu(z.T)) ? z.complete : !1 }; Object.defineProperties(y.prototype, {
                                $g: {
                                    get: function () { return this.Zd.$g },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(y.prototype, { xE: { get: function () { var z, A, B, E; return null !== (E = null !== (z = this.Ua.xE) && void 0 !== z ? z : null === (B = null === (A = this.se) || void 0 === A ? void 0 : A.Zc) || void 0 === B ? void 0 : B.add(this.jb.Ge)) && void 0 !== E ? E : this.gs }, enumerable: !1, configurable: !0 } }); y.prototype.Zbb = function (z, A) {
                                q.assert(this.Lf); q.assert(!this.$l, "pipeline.tryIssueRequest on disabled pipeline"); var B = z.t6(); return B ? this.Ybb(z, B, this.Lf, A) : (z = z.DE(this.Lf)) ? { Cm: z, reason: "success" } :
                                    { Cm: z, reason: "pipelineTryIssueHeaderRequest" }
                            }; y.prototype.v7 = function (z, A) { z && (this.se = z); A && (this.Jf = A); q.assert(this.se); q.assert(this.Jf); q.assert(void 0 === this.Tn); this.DP(this.se.od, this.se.index) }; y.prototype.truncate = function (z) {
                                var A = this; q.assert(this.se, "expected first fragment to exist on updateStreaming"); this.Jf = z; this.Yw && (z = c.__read(this.Ao.Urb(z), 2), this.DP(z[0], z[1]), this.hs() && (this.Ua.f$a(), this.Ua.jka(), Promise.resolve(function () {
                                    A.events.emit("lastRequestIssued", {
                                        type: "lastRequestIssued",
                                        mediaType: A.mediaType
                                    })
                                })))
                            }; y.prototype.CD = function () { return this.hs() ? !1 : this.zh() ? !0 : this.track.e9 }; y.prototype.zh = function () { return void 0 !== this.se && void 0 !== this.Jf }; y.prototype.hs = function () { return this.$l || this.Yw }; Object.defineProperties(y.prototype, { C7a: { get: function () { var z = !0; this.J.I$ && (z = this.connected); this.J.H$ && (z = z && this.ypa); return z }, enumerable: !1, configurable: !0 } }); Object.defineProperties(y.prototype, { eUb: { get: function () { return void 0 !== this.dh }, enumerable: !1, configurable: !0 } });
                            Object.defineProperties(y.prototype, { g6a: { get: function () { var z; return (null === (z = this.dh) || void 0 === z ? 0 : z.hz()) ? { complete: !0, reason: "stall" } : { complete: !1, reason: "stall" } }, enumerable: !1, configurable: !0 } }); y.prototype.Ak = function (z) { this.pn.kSb(z); "oncomplete" === this.J.O0a && (this.ypa = !0); this.qu(z) }; y.prototype.KA = function (z) { z.gd || this.pn.u5a(z.stream, z.Z, z.od); this.pn.gSb(this.ha, z.stream, z.gd); this.mN(z) }; y.prototype.uI = function (z) {
                                z.y3 || (this.connected = !0); "onfirstbyte" === this.J.O0a && (this.ypa = !0);
                                this.dD(z)
                            }; y.prototype.jZa = function (z) { var A = this.Ua.Y; if (0 === A.length) return { Y: [], R9: 0, Bj: 0 }; var B = A.iN(z.T); 0 > B && (B = void 0 === A.Z || z.T <= A.Z ? 0 : A.length); return { Y: A.FZb(B), R9: Math.max(0, A.VTa - B), Bj: A.Bj } }; y.prototype.Ybb = function (z, A, B, E) {
                                var D, F, G = this.Zd, C = G.P, H = this.mediaType, L = this.Tn; if (L >= A.length) return this.Xb("makeRequest nextFragmentIndex:", L, "past fragments length:", A.length), { Cm: !1, reason: "insufficientFragments" }; if (!this.se || !this.Jf) return this.Xb("makeRequest delayed, first or last fragment not set",
                                    "first:", !!this.se, "last:", !!this.Jf), { Cm: !1, reason: "noFirstOrLastFragment" }; A = this.aob.IHb(z, L, this, C.Ww()); this.fra = A.region; null === (D = this.dh) || void 0 === D ? void 0 : D.SLb(A, z); A.zq && 1 === H && this.pn.rha(G.H, A.Ka); this.J.fO && (A.fO = this.J.fO); void 0 !== z && (A.location = z.location, A.Md = z.Pc, A.Jwa = z.Js); if (D = G.P.oaa) H = 0 === H && this.J.sma || 1 === H && this.J.tma, L = this.J.ODb && 1 === this.mediaType && this.J.Gq, A.NI = H ? E : void 0, A.paa = D.Zt({
                                        $p: G.Mh(this.mediaType), n9: this.J.JDb ? this.J.n9 : void 0, Bbb: String(u.default.time.fa()),
                                        wU: H ? E : void 0, Bja: L ? { start: A.offset, size: A.ea } : void 0
                                    }); u.default.time.fa(); B = this.Ua.HAb(A, B, z); if (!B.EO()) { this.Xb("MediaRequest.open error: " + B.th + " native: " + B.zj); if (7 === B.readyState) return { Cm: !1, reason: "requestAborted" }; this.Xb("makeRequest caught:", B.th); C.ah("MediaRequest open failed (1)", "NFErr_MC_StreamingFailure"); return { Cm: !1, reason: "openAseMediaRequest" } } null === (F = this.dh) || void 0 === F ? void 0 : F.bEb(B, A, z); this.pn.lSb(B); this.DP(B.Lc, A.rO); this.hs() && (this.Ua.f$a(), this.events.emit("lastRequestIssued",
                                        { type: "lastRequestIssued", mediaType: this.mediaType })); return { Cm: !0, reason: "success" }
                            }; return y
                        }(m.Av); b.Dea = a; t.zf(r.CB, a); t.zf(r.Sx, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.z8 = b.A8 = void 0; var c = a(2).__importDefault(a(38)).default.console, f; b.A8 = f; var k; b.z8 = k; !1; (function () {
                        function m(g, d, h) { if (0 === d.length) for (var l = 0; l < g.length; l++)d[g[l].Pf] = l; g = d[h]; return void 0 !== g ? g : -1 } b.A8 = f = function (g, d, h, l, n) {
                            if (g.rX && 0 < g.rX) for (var q = []; l < n; l++) {
                                var p = m(d, q, h.nJ[l]); if (-1 ===
                                    p) { c.error("maybeUpgradeLowVmafFragments: invalid streams"); break } for (p += 1; h.Gi[l] < g.rX && p < d.length; p++) { var u = h.Gi[l], t = h.sizes[l]; if (!d[p].Y) break; var w = d[p].Y.Dx, v = w.Gi[l], x = w.sizes[l]; if (!u || !v) break; if (v > u || v === u && x > t) m(d, q, w.nJ[l]), h.upgrade(w, l) }
                            }
                        }; b.z8 = k = function (g, d, h, l) {
                            var n, q, p, u; if (g.rX && !(0 >= g.rX)) {
                                var t = [], w = l.Ng; g = m(d, t, w.Pf); w = null === (q = null === (n = w.Y) || void 0 === n ? void 0 : n.Dx) || void 0 === q ? void 0 : q.nJ[h]; void 0 !== w && (n = m(d, t, w), -1 !== n && (n !== g && (l.A4a = g, l.Ng = d[n], l.reason = "min_fragment_vmaf"),
                                    (null === (u = null === (p = l.Ng) || void 0 === p ? void 0 : p.Y) || void 0 === u ? 0 : u.get) && l.Ng.Y.get(h)))
                            }
                        }; !1
                    })()
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Cx = void 0; r = a(2); var c = r.__importStar(a(10)), f = a(26), k = a(102), m = r.__importDefault(a(27)), g = r.__importDefault(a(38)), d = r.__importDefault(a(848)), h = a(17), l = a(394), n = g.default.assert, q = g.default.Gp, p; b.Cx = p; !1; (function () {
                        function u(v, x, y, z, A, B, E, D, F, G, C, H, L, N, J, Q, K, I, M) {
                            function O(ya, na, X) { l.A8(v, x, ya, na, X); ia.push(ya.subarray(na, X)) }
                            n(y, "First stream undefined"); n(z, "Second stream undefined"); var P = y.Sa, S = D - B, U = y.Y && y.Y.length, Z = z.Y && z.Y.length; n(A.length === C); v.Tra && (Q = Math.min(Q, S)); if (!P || P < y.bitrate * I * v.Gpa || !U) return !1; Z || (z = y); var ia = []; if (M) { M = N; for (S = void 0; 0 < M;)S = Math.min(M, y.Y.length - G), O(y.Y.Dx, G, G + S), M -= S, G += S, G >= y.Y.length && (G = 0); for (M = J; 0 < M;)S = Math.min(M, z.Y.length - G), O(z.Y.Dx, G, G + S), M -= S, G += S, G >= z.Y.length && (G = 0) } else N = Math.max(0, Math.min(N, y.Y.length - G)), J = Math.max(0, Math.min(J, z.Y.length - G - N)), 0 < N && O(y.Y.Dx,
                                G, G + N), 0 < J && O(z.Y.Dx, G + N, G + N + J); return 0 < N || 0 < J ? d.default({ Y: A.concat(ia), blocks: C + N + J, Cc: B, Yk: D, C0b: E, Bj: H, Bc: F, Cd: C, yFb: C + N, ZU: K, kYa: L, Sa: P / I, O8: Q, fI: v.fI, ANb: v.BZ, sDb: !1 }) : P > y.zA ? { result: !0, bX: 0, ou: !0 } : { result: !1, bX: 0, ou: !0 }
                        } function t(v, x, y) { v = new q; v.Ng = y[0]; return v } function w(v, x, y, z, A) { var B = y / A / z; y = f.Xp(v, function (E) { return E.bitrate > B }); y = 0 < y ? y - 1 : 0 === y ? 0 : v.length - 1; return v[Math.max(x, y)] } b.Cx = p = function (v, x, y, z, A, B, E) {
                            function D(T, R, ca) { return T.Y ? T.Y.ela(R, ca) : 0 } function F(T, R, ca, ua, aa,
                                La, Ua) {
                                var $a = T.Sa || 0, Za = T.Y && T.Y.length, cb = La ? v.Sma : Za ? v.H5 : v.uXa; if (S && !S.I5 && S.Sa >= $a && S.bitrate <= T.bitrate) return !1; La || Za || (T.xaa = !0); if (!La || !Za) if (Za && !v.BZ) { if ($a >= Math.max(T.zA * Ua, T.bitrate * Ua * cb) && T.ou) return !0 } else if ($a >= T.bitrate * Ua * cb) return !0; ca = !v.Xka || T === ca || T.Pc === ca.Pc && B ? 0 : (ca = T.Bb) && ca.Fj && ca.Fj.Ha ? ca.Fj.Ha + v.Uka * (ca.Fj.ij ? Math.sqrt(ca.Fj.ij) : 0) : 0; (R = u(v, y, T, R, Z, N + ca - L, O, Q - L, J - L, K, Z.length, M, ia, ua, aa, P, x.ZU, x.playbackRate, !!x.b3a)) && R.result && (C.ldc = R.bX); S = {
                                    I5: R && R.result, Sa: $a,
                                    bitrate: T.bitrate
                                }; return R && R.result
                            } var G; n(!c.la(z), "Must have at least one selected stream"); void 0 === x.Cd && (x.Cd = 0); n(c.Ea(x.Cd), "invalid player fragmentIndex"); n("number" === typeof x.buffer.zw); n("number" === typeof x.ZU); var C = new q; A = y[z]; if (E) return A = w(y, z, A.Sa || 0, v.uXa, x.playbackRate), null !== (G = A.Y) && void 0 !== G && G.length || (A.xaa = !0), C.Ng = A, C; var H = A, L = x.buffer.Z, N = x.buffer.Cc, J = x.buffer.Bc, Q = x.buffer.Yk, K = x.Cd; E = Q - N; var I = this.Qf.r2a || m.default.z0.Fh, M = x.state === h.sa.Kc || x.state === h.sa.mh ?
                                x.buffer.Bj : 0, O = v.x8, P = v.sA ? v.sA : 1E3, S; G = D(A, K, v.Hpa); var U = D(A, K + G, v.Ora); if (I === m.default.z0.gmb || !A.Sa) return t.call(this, x, v, y, A); A.Y && A.Y.length || (A.xaa = !0); var Z = k.$m.SUa(x.buffer.Y), ia = x.buffer.zw - Z.ea; I = y[0]; if (F(A, y[Math.max(z - 1, 0)], A, G, U, !1, x.playbackRate)) {
                                    if (z + 1 < y.length && E > v.rA && (void 0 === this.Z7 || this.rra && this.rra > this.Z7 || J - this.Z7 > v.i8 && E > v.Sra)) {
                                        E = v.nxa && E >= v.kza ? y.length : z + 2; var ya = D(A, K, v.Jpa), na = D(A, K + ya, v.Qra); A = f.re(y.slice(z + 1, E), function (T, R) {
                                            return F(T, y[z + R], H, ya, na, !1,
                                                x.playbackRate)
                                        })
                                    }
                                } else if (A.Y && A.Y.length) { var X = D(A, K, v.Ipa), ra = D(A, K + X, v.Pra); if ((A = f.re(y.slice(0, z).reverse(), function (T, R) { return F(T, y[Math.max(z - R - 2, 0)], H, X, ra, !0, x.playbackRate) })) && A.Pf < I.Pf || !A) A = I } C.Ng = A || H; l.z8(v, y, K, C); return C
                        }; !1
                    })()
                }, function (r, b, a) {
                    function c(n, q, p, u) { d(!k.la(u), "Must have at least one selected stream"); return new l(u) } function f(n, q, p, u) { d(!k.la(u), "Must have at least one selected stream"); return new l(u) } var k = a(10); b = a(38); var m = b.console, g = b.debug, d = b.assert,
                        h = b.LH, l = b.Gp; r.exports = {
                            STARTING: function (n, q, p) {
                                function u(y, z) {
                                    var A = y.id, B = y.bitrate, E = y.Sa || 0, D = !!E; g && m.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)"); if (!y.Gu) return g && !y.Eu && m.log("  Not available"), g && y.aA && m.log("  Failed"), !1; if (B > n.fX) return g && m.log("  Above maxInitAudioBitrate (" + n.fX + " Kbps)"), !1; if (!(B * n.V8 / 8 < q.buffer.zw)) return g && m.log("  audio buffer too small to handle this stream"), !1; if (D) {
                                        g && m.log("  Have throughput history = " + D + " : available throughput = " + E + " Kbps");
                                        if (B * q.playbackRate < E / w) return g && m.log(" +FEASIBLE: bitrate less than available throughput"), !0; g && m.log(" bitrate requires more than available throughput"); return !1
                                    } y = n.tX; q.Aqa && (y = Math.max(y, n.sX)); if (B <= y) return g && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.tX + " Kbps) " + (q.Aqa ? " and also minHCInitAudioBitrate (" + n.sX + " Kbps)" : "")), g && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"), !0; g && m.log("  No throughput history"); return !1
                                } var t = new l, w =
                                    n.Qac || 1, v; for (v = p.length - 1; 0 <= v; --v) { var x = p[v]; if (u(x, v)) { t.Le = v; break } h(x) && (t.Le = v) } return t
                            }, BUFFERING: c, REBUFFERING: c, PLAYING: f, PAUSED: f
                        }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.$t = void 0; var c = a(21), f = a(125), k = a(5); b.$t = function (m, g, d, h, l, n) {
                        c.ia && h.trace("AsePlaygraph.createRequestQueue()"); var q = f.wp.instance.$t(m, g.K, !0, !1, { Dz: d.Dz }, d); q.Yg.on(q, "networkfailing", function () {
                            var p; c.ia && h.trace("requestQueue OnNetworkFailing: ", q); q.G5 && (k.assert(q.nV), null ===
                                (p = g.kq) || void 0 === p ? void 0 : p.Cs(q.nV, void 0, q.th, q.zj)); g.Xm()
                        }); q.Yg.on(q, "error", function () { n(q.th, q.zj) }); q.on("transportreport", l); q.Ab(); return q
                    }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.cca = void 0; var c = a(2); r = a(19); var f = a(21), k = c.__importDefault(a(6)), m = a(9), g = a(863), d = a(148), h = a(864), l = a(22), n = a(867), q = a(868); a = function (p) {
                        function u() { var t = null !== p && p.apply(this, arguments) || this; t.TPa = 0; t.Lha = 0; t.e2 = 0; t.mga = 0; return t } c.__extends(u, p); u.prototype.Tva = function (t) {
                            p.prototype.Tva.call(this,
                                t); this.TPa++; this.Lha++; this.oQa = k.default.time.fa(); this.lL || (this.lL = { Lc: t.Lc, od: t.od, index: t.index }, this.t2 || (this.t2 = this.lL)); var w = this.G2, v = !1; w && 100 > Math.abs(w.we - t.Ad) && (this.e2 += t.we - w.we, this.mga++, v = !0); v || (this.e2 = t.Sr, this.mga = 1); this.G2 = t
                        }; u.prototype.stop = function () { p.prototype.stop.call(this); this.Lha = 0; this.lL = void 0 }; u.prototype.rZa = function () {
                            var t = this.Ky, w = t.J4, v; if (w) {
                                var x = w.mb(this.Sg); x && x.Ua && (v = x.Ua.Loa()); return {
                                    RM: v, currentBranch: { sId: w.H && w.H.id, cancelled: w.Kh }, currentReceivedCount: t &&
                                        t.aBb, totalReceivedCount: this.TPa, currentState: t && t.cVa || "Uninitialized", lastRequestPushed: this.G2 && { contentEndPts: this.G2.Lc, fragmentIndex: this.G2.index }, tslp: this.oQa && k.default.time.fa() - this.oQa, cpts: this.e2, crq: this.mga, rslp: this.Lha, firstRequestSSPushed: this.lL && { contentStartPts: this.lL.od, fragmentIndex: this.lL.index }, firstRequestPushed: this.t2 && { contentStartPts: this.t2.od, fragmentIndex: this.t2.index }
                                }
                            }
                        }; return u
                    }(function (p) {
                        function u(t, w, v, x, y, z, A, B, E) {
                            var D = p.call(this) || this; D.Bg = t; D.Sg =
                                w; D.J = x; D.I = y; D.fC = new m.vr(!1); D.eC = new m.vr(l.O.Na(-Infinity)); D.I = m.Bq(k.default, D.I, "AsePlayerBuffer [" + w + "]:"); D.Ky = new g.wAa(D.I, v, w); D.resume(); z && A && B && (D.Eua = new h.DKa(w, y, z, D.Bg, z.events, A, B, E), t = new n.uDa(null === z || void 0 === z ? void 0 : z.ys, l.O.Na(D.J.uX), y), D.Ky.WQa(t), D.J.ERa && (y = new q.xIa(null === z || void 0 === z ? void 0 : z.ys, D.J.ERa, l.O.Na(D.J.rtb), y), D.Ky.WQa(y))); D.Bg.on("requestAppended", function (F) { D.fC.set(!0); F.request.ze && D.eC.set(F.request.ze); D.emit("requestAppended") }); return D
                        } c.__extends(u,
                            p); Object.defineProperties(u.prototype, { BA: { get: function () { return this.fC }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { NW: { get: function () { return this.eC }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { AMb: { get: function () { return this.Ky.tk }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { nB: { get: function () { return this.Bg.nB }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, {
                                mediaType: {
                                    get: function () { return this.Sg },
                                    enumerable: !1, configurable: !0
                                }
                            }); u.prototype.rZa = function () { }; u.prototype.resume = function () { f.ia && this.I.trace("resume"); this.uxa() }; u.prototype.p1a = function (t) { return this.Bg.qoa() > t }; Object.defineProperties(u.prototype, { Stb: { get: function () { return this.UK }, enumerable: !1, configurable: !0 } }); u.prototype.reset = function (t) {
                                var w; void 0 === t && (t = !1); f.ia && this.I.trace("reset"); this.stop(); this.Bg.reset(t); this.fC.set(!1); this.eC.set(l.O.Na(-Infinity)); t || (this.UK = void 0); t || (null === (w = this.Eua) || void 0 ===
                                    w ? void 0 : w.reset())
                            }; u.prototype.Pm = function (t) { void 0 === t && (t = !1); f.ia && this.I.trace("restart"); this.reset(t); this.uxa(!0) }; u.prototype.stop = function () { f.ia && this.I.trace("stop"); this.Ky.zab() }; u.prototype.close = function () { var t; f.ia && this.I.trace("start"); null === (t = this.Eua) || void 0 === t ? void 0 : t.close() }; u.prototype.Jb = function () { this.stop(); this.close() }; u.prototype.MX = function () { this.J.S5 && this.Bg.XXa(); this.Bg.Bz() }; u.prototype.oE = function (t) { this.Bg.oE(t) }; u.prototype.zFb = function (t) {
                                this.Bg.p5a(t,
                                    !0)
                            }; u.prototype.Oi = function (t) { var w; return !(null === (w = this.Eua) || void 0 === w || !w.Oi(t)) }; u.prototype.uxa = function (t) { if (!this.Ky.tk || t) this.Ky.SYb(), d.AsyncIterator.GNb(this.Ky, this.S7.bind(this)) }; u.prototype.S7 = function (t) { t.done || this.Tva(t.value) }; u.prototype.Tva = function (t) {
                                f.ia && this.I.trace("requestReceived: " + t.toString()); this.Bg.endOfStream ? f.ia && this.I.error("Buffer manager has declared EOS, ignoring request", t.toString()) : (this.UK ? (this.UK.cOb = t.Lc, this.UK.dOb = t.we, this.UK.v2a = t.ze) :
                                    this.UK = { hcc: t.od, icc: t.Ad, cOb: t.Lc, dOb: t.we, v2a: t.ze }, this.Bg.Rtb(t))
                            }; return u
                    }(r.EventEmitter)); b.cca = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Yea = void 0; var c = a(2), f = a(19), k = a(9), m = a(21), g = a(67), d = k.O.Na(1E3); r = function () {
                        function h(l, n, q, p, u, t, w, v, x) {
                            var y = this, z, A; this.mediaType = l; this.console = n; this.Ia = q; this.events = u; this.jw = t; this.Ne = w; this.$2b = v; this.ap = []; this.Tta = d.add(k.O.Na(null !== (A = null === (z = t.HP) || void 0 === z ? void 0 : z.T) && void 0 !== A ? A : 0)); this.listeners =
                                new f.di; this.listeners.on(q.X, "skipped", function () { return y.OX() }); this.listeners.on(p, "requestAppended", function (B) { return y.BA(B.request) }); this.nT = !0; this.dV = w.QG(function () { return y.nDb() }, "Presentation Emit", x); this.t$ = w.QG(function () { return y.MWb() }, "Presentation Prune")
                        } h.prototype.OX = function () { this.trace("skipped, scheduler clock " + this.Ne.Ba.currentTime.ae()); this.nT = !0; this.dV.Pm() }; h.prototype.nDb = function () {
                            var l, n; return c.__generator(this, function (q) {
                                switch (q.label) {
                                    case 0: this.CI =
                                        this.RRb(this.nT), l = this.Z4a(), q.label = 1; case 1: if (!l) return [3, 3]; n = this.nT ? this.Ia.Vg : null === l || void 0 === l ? void 0 : l.timestamp; this.trace("queuing task for " + l.HJ + (" at player time " + l.timestamp.ae()) + (" scheduler clock is " + this.Ne.Ba.currentTime.ae())); return [4, g.Pk.oQ(l.timestamp)]; case 2: return q.Ac(), this.trace("executing task for " + l.HJ + (" at player time " + l.timestamp.ae()) + (" scheduler clock is " + this.Ne.Ba.currentTime.ae())), this.nT = !1, this.wWa(l, n), this.CI++, l = this.Z4a(), n = null === l || void 0 ===
                                            l ? void 0 : l.timestamp, [3, 1]; case 3: return [2]
                                }
                            })
                        }; h.prototype.Z4a = function () { if (void 0 !== this.CI) return this.ap[this.CI] }; h.prototype.RRb = function (l) { var n, q; void 0 === l && (l = !1); for (var p = l ? 0 : null !== (n = this.CI) && void 0 !== n ? n : 0; p < this.ap.length; p++) { n = this.ap[p]; var u = k.O.Na(null !== (q = this.jw.rua) && void 0 !== q ? q : 0); if (n.timestamp.greaterThan(this.Ia.Vg.add(u))) return l && 0 < p ? p - 1 : p } return Math.max(this.ap.length - 1, 0) }; h.prototype.MWb = function () {
                            var l, n; return c.__generator(this, function (q) {
                                switch (q.label) {
                                    case 0: if (!(1 <
                                        this.ap.length)) return [3, 2]; l = c.__read(this.ap, 2); n = l[1]; this.trace("queuing pruning task for " + n.HJ + (" at player time " + this.Tta.add(n.timestamp).ae()) + (" scheduler clock is " + this.Ne.Ba.currentTime.ae())); return [4, g.Pk.oQ(this.Tta.add(n.timestamp))]; case 1: return q.Ac(), this.trace("executing pruning task for " + n.HJ + (" at player time " + this.Tta.add(n.timestamp).ae()) + (" scheduler clock is " + this.Ne.Ba.currentTime.ae())), this.ap.shift(), this.CI && this.CI--, [3, 0]; case 2: return [2]
                                }
                            })
                        }; h.prototype.reset =
                            function () { this.ap = []; m.ia && this.trace("reset"); this.nT = !0; this.W7 = void 0; this.CI = 0; this.t$.Pm(); this.dV.Pm() }; h.prototype.close = function () { this.dV.Jb(); this.t$.Jb(); this.listeners.clear() }; h.prototype.Oi = function (l) {
                                m.ia && this.trace("canSkip() " + l); if (0 === this.ap.length) return m.ia && this.trace("canSkip false, no media sequence"), !1; var n = this.ap[0]; return n.timestamp.greaterThan(l) ? (m.ia && this.trace("canSkip false, before earliest item at " + n.timestamp), !1) : void 0 === this.W7 || this.W7.lessThan(l) ?
                                    (m.ia && this.trace("canSkip false, later than last appended at " + this.W7), !1) : !0
                            }; h.prototype.trace = function (l) { m.ia && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.$2b + ": " + l) }; h.prototype.SQa = function (l, n, q) { q && (this.W7 = q); q = this.ap.length ? this.ap[this.ap.length - 1] : void 0; return void 0 === q || q.HJ !== l ? (this.ap.push({ HJ: l, timestamp: n }), this.dV.state === g.en.complete && this.dV.Pm(), this.t$.state === g.en.complete && this.t$.Pm(), !0) : !1 }; return h
                    }(); b.Yea = r
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.oca = void 0; r = a(2); var c = r.__importStar(a(10)), f = r.__importDefault(a(87)), k = r.__importDefault(a(6)), m = a(869), g = a(17), d = a(248), h = a(9), l = a(5), n = a(22), q = a(353), p = a(390); a = function () {
                            function u(t, w, v, x, y, z, A, B, E, D) {
                                this.xb = t; this.ji = w; this.I = v; this.IL = x; this.J = A; this.p2 = B; this.CPa = E; this.IV = D; this.Xb = this.I.warn.bind(this.I); this.sn = this.I.trace.bind(this.I); this.Fg = this.I.log.bind(this.I); this.hi = []; this.ph = {}; y.zn ? (l.assert(!y.gp), this.aga = !0, this.iqb(y, y.zn, z)) : (this.so = this.wy(y.gp ||
                                    "", y, 0, void 0, void 0, {}, !0), this.so.Eq = !0, this.so.Ka = Infinity, this.j3 = [this.so]); this.Zd = this.g2(this.so, void 0, z); this.Zd.active = !0; t = h.Bq(k.default, this.I, "BranchQueue::"); this.pj = new d.J_(t); this.pj.enqueue(this.Zd); this.Dha = this.QS = void 0
                            } u.Gna = function (t) { return "m" + t }; Object.defineProperties(u.prototype, { Ww: { get: function () { return !!this.aga }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { pk: { get: function () { return this.Zd.Kh }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype,
                                { ue: { get: function () { return this.so }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { Wg: { get: function () { return this.Zd.H.id }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { cBb: { get: function () { return this.Zd.P.Sb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { $c: { get: function () { return this.Zd }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { Ib: { get: function () { return this.hi }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype,
                                    { Fe: { get: function () { return this.Zd.Fe }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { Pg: { get: function () { return this.xb.Pg }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { Ai: { get: function () { return this.QS ? this.QS : this.Ib[0] }, enumerable: !1, configurable: !0 } }); u.prototype.Jb = function () { this.hi.forEach(function (t) { t.rf() }); this.hi = []; this.pj.clear() }; u.prototype.kf = function (t) { return this.ph[t] }; u.prototype.j_a = function () { return this.pj.getIterator() }; u.prototype.i_a =
                                        function (t, w) { var v = this.ph[t]; if (v) return (t = v.Gl[w]) && t.weight; this.Xb("getSegmentWeight, unknown segment:", t) }; u.prototype.lJb = function (t) { var w = this.ph[t]; if (w) return w.Z; this.Xb("getSegmentStartPts, unknown segment:", t) }; u.prototype.kJb = function (t) { var w = this.ph[t]; if (!w) this.Xb("getSegmentDuration, unknown segment:", t); else if (c.Ea(w.Ka) && isFinite(w.Ka) && c.Ea(w.Z) && isFinite(w.Z)) return w.Ka - w.Z }; u.prototype.Dva = function (t) {
                                            var w = -1; this.hi.some(function (v, x) { return v === t ? (w = x, !0) : !1 }); -1 !== w ?
                                                this.hi.splice(w, 1) : this.Xb("Unable to find branch:", t, "in branches array")
                                        }; u.prototype.CG = function (t, w) { var v = 0; this.bob(t).forEach(function (x) { (x = x.Rd(w)) && (v += x.NC) }); return v }; u.prototype.yw = function (t, w, v) { if (!t.pc(w)) return 0; var x = t.mb(w); for (x = v ? x.Bc : x.cq; void 0 === x;) { if (!t.ug) return 0; t = t.ug; x = t.mb(w); x = v ? x.Bc : x.cq } t = this.CPa.Ue(); return Math.max(x - t, 0) }; u.prototype.Wma = function (t) { return this.hi.filter(function (w) { if (w.P.Sb === t) return !0 }) }; u.prototype.fFb = function (t, w) {
                                            return this.kOa(t,
                                                !1, w)
                                        }; u.prototype.eFb = function (t, w) { return this.kOa(t, !0, w) }; u.prototype.jYb = function (t, w, v) { c.sf(this.hi, function (x) { x.P === t && x.I$a(w, v) }); c.sf(this.ph, function (x) { x.P === t && (x.P = w) }) }; u.prototype.k9a = function () { var t = this; c.sf(this.hi, function (w) { var v = t.xb.wh(w.P.Sb); w.Lx(n.O.Na(v.$w)) }) }; u.prototype.Tq = function (t) { var w = this; c.sf(this.hi, function (v) { v.mb(1).track.ce.forEach(function (x) { var y = q.Uia(x.Ig, x.bitrate, t, w.I); f.default(y, x) }) }) }; u.prototype.lu = function (t, w, v, x) {
                                            for (; w;) {
                                                var y = w.lu(t,
                                                    v); if (y) return y; if (x) break; w = w.ug
                                            }
                                        }; u.prototype.iVa = function (t) { var w = this; void 0 === t && (t = !1); var v = this.hi; t && (v = v.filter(function (x) { return x !== w.Zd })); v.forEach(function (x) { x.active = !1; w.pj.remove(x) }); t || this.pj.clear(); return v }; u.prototype.LWb = function () { for (; 0 < this.hi.length;) { var t = this.hi[0]; t.mb(0); t.mb(1); if (!t.active) break; if (t === this.Zd) break; if (!t.DKb()) break; t.rf(); this.hi.shift() } }; u.prototype.tY = function (t, w, v, x, y) { if (v > x) { for (v -= x; t;)t.tY(w, v, y), t = t.ug; return v } }; u.prototype.m3a =
                                            function (t, w) { for (var v = { sU: null, OO: null, Ad: null, Bj: 0, eh: 0, Y: [] }; t;)t.F6(v, w), t = t.ug; return v }; u.prototype.pxb = function (t) { var w = this.Zd; if (w.c3a) var v = w.c3a; else { var x = this.Zd.Fe; v = this.g2(w.H, w); g.Cf.forEach(function (y) { var z = v.Rd(y); z && (z.dJ(0), y = w.Rd(y), z.kaa(y.Jf)) }); v.Lx(n.O.Na(x + t)); w.c3a = v } this.QK(v, w) }; u.prototype.Esb = function (t, w, v) {
                                                l.assert(!t.Ww()); if (!this.aga) {
                                                    this.aga = !0; this.QS = this.Ai; var x = this.so.id || u.Gna(0); this.so.id = x; this.ph[x] = this.so; this.so.Ka = this.xb.SHb().tZa(); this.so.dE =
                                                        !0
                                                } var y = void 0 !== t.gp ? t.gp : u.Gna(t.Sb); t = this.wy(y, t, w, v, void 0, {}, !0); t.dE = !0; this.j3.forEach(function (z) { z.Gl = {}; z.Gl[y] = { weight: 100 }; z.KU = y; z.uv = !1 }); this.j3 = [t]
                                            }; u.prototype.Mr = function (t, w) {
                                                var v = this.Ai, x = v.tE(w, this.xb.X), y = v.H, z = v.children[t]; if (w) { if (!y.Gl[t]) return this.Zd.Xb("chooseNextSegment, invalid destination:", t, "for current segment:", y.id), !1; if (v.$k) return v.$k === t; v.$k = t; z && v.T5 && this.QK(z, v); return !0 } if (void 0 !== v.$k) return !1; if (!z) return x.V4a = !0, !1; x.V4a = !z.nka(); this.xb.Mha(void 0,
                                                    p.$R.vO); v.T5 = void 0; v.$k = t; this.QK(z, v); v.dH(); this.xb.lT(); return !0
                                            }; u.prototype.ZKb = function (t, w) { var v = this, x, y, z = t.H; w && !t.$k && (t.$k = z.KU, t.tE(!0, this.xb.X, !0)); t.children = Object.create(null); c.sf(z.Gl, function (A, B) { t.$k && B !== t.$k || (x = v.ph[B], y = v.tnb(x, t), t.children[B] = y) }); t.$k && (w = t.children[t.$k]) && this.QK(w, t); t.T5 = !0 }; u.prototype.T2b = function () { var t = 0; c.sf(this.hi, function (w) { g.Cf.forEach(function (v) { w.pc(v) && (v = w.Rd(v), t += v.Ua.Up) }) }); return t }; u.prototype.V1b = function (t, w) {
                                                var v = this,
                                                    x = this.Znb(t, w); if (x) { if (x !== this.Zd.H) { this.iVa(); var y = this.g2(x, this.Zd, t); y.ug = void 0; y.Swa(void 0, void 0, !0); this.zmb(this.Zd); this.QK(y, this.Zd) } else this.iVa(!0).forEach(function (z) { z.rf(); v.Dva(z); v.pj.remove(z) }); x === this.Ai.H && (this.Ai.Jx.shift(), y && (y.Jx = this.Ai.Jx, y.$k = this.Ai.$k)); this.ji.K2(x, this.Zd.Fe); this.Zd.T5 = void 0 } else this.Xb("findSegment no segment for manifestIndex:", w)
                                            }; u.prototype.l3a = function (t, w) {
                                                var v = t.H; w || (w = v.KU); t.$k || (t.$k = w, t.tE(!0, this.xb.X, !0)); (w = t.children[t.$k]) &&
                                                    this.QK(w, t)
                                            }; u.prototype.k$a = function (t, w) { if (this.Zd !== t) { if (w) for (w = this.Zd; w && w !== t;)w.active = !1, this.pj.remove(w), w = w.ug; this.Zd = t } }; u.prototype.Vs = function (t, w) { var v = this; if (this.Ww) { var x = this.J, y = this.Ai, z = y.H, A = h.BZb(z.id); !y.$k && !z.uv && y.Lc - w <= x.RD && (this.Xb(A + "updatePts making fork decision at playerPts:", t, "contentPts:", w), this.l3a(y)) } g.Cf.forEach(function (B) { v.Zd.pc(B) && v.Pg[B].Vs() }) }; u.prototype.mSb = function (t, w) {
                                                if (this.Ww) {
                                                    var v = this.QS; if (!(this.J.zLb && t && this.Dha && t.Z === this.Dha ||
                                                        (t = t.Ua.jb, v && t.H.id === v.H.id))) { var x = null === v || void 0 === v ? void 0 : v.Rd(1); x = null === x || void 0 === x ? void 0 : x.Jf; this.Dha = null === x || void 0 === x ? void 0 : x.Z; this.QS = t; this.Vmb(v); v = v && v.Cxb(t); this.ji.Npb(t.H, w, v) }
                                                }
                                            }; u.prototype.o9 = function (t, w, v) { w.Eq || (w.Z = this.PZa(t, w.Z, !0), v || (w.Ka = this.PZa(t, w.Ka, !1)), w.Eq = !0, !1) }; u.prototype.eQ = function (t, w) { var v = this.ph[t]; v ? c.sf(v.Gl, function (x, y) { x.weight = w[y] || 0 }) : this.Xb("updateChoiceMapEntry, unknown segment:", t) }; u.prototype.PZa = function (t, w, v) {
                                                t = v ? t.DXa(w) :
                                                    t.pV(w); if (!t.length) return w; w = t[1]; return v ? w.Z : w.Ka
                                            }; u.prototype.OOa = function (t, w, v) { var x = w ? v.Lc : v.we; return (w ? v.Z$ : v.sua) <= t && t < x }; u.prototype.kOa = function (t, w, v) { for (var x = this.xb, y = this.Zd; y;) { if ((!c.Ea(v) || x.yqa(v, y.P.Sb)) && this.OOa(t, w, y)) return y; y = y.ug } if (w) { y = Object.keys(this.Zd.children); for (var z = 0; z < y.length; z++) { var A = this.Zd.children[y[z]]; if ((!c.Ea(v) || x.yqa(v, A.P.Sb)) && this.OOa(t, w, A)) return A } } }; u.prototype.tnb = function (t, w) {
                                                var v = this.g2(t, w), x = v.Swa(w, void 0, this.J.uva); g.Cf.forEach(function (y) {
                                                    if (v.pc(y)) {
                                                        var z =
                                                            v.Rd(y), A = w.Rd(y), B = x[y]; 1 === y && v.Lx(n.O.Na(A.Bc + w.Fe - B)); z.dJ(B)
                                                    }
                                                }); this.ji.K2(t, v.Fe); return v
                                            }; u.prototype.zmb = function (t) { for (var w = [t.H.id]; t.ug;)t = t.ug, w.unshift(t.H.id); this.Sfa(t) }; u.prototype.Sfa = function (t) { var w = this, v = t.H; c.sf(t.children, function (x) { x && w.Sfa(x) }); this.pj.remove(t); t.rf(); this.Dva(t); this.ji.sha(v) }; u.prototype.QK = function (t, w) {
                                                var v = this, x = w.H; w.P !== t.P && this.xb.$Oa(t.P.Sb); t.active = !0; this.pj.enqueue(t); t.eM(); var y = k.default.time.fa(), z = {}; c.sf(w.children, function (A) {
                                                    if (A) {
                                                        if (A.ve) {
                                                            var B =
                                                                A.Rd(0), E = A.Rd(1); A.ve.$p = [B ? B.Bn.T : 0, E ? E.Bn.T : 0]; A.ve.QCb = y - A.ve.q7; A.ve.q7 = void 0; z[A.H.id] = A.ve
                                                        } A.H.id !== t.H.id && v.Sfa(A)
                                                    }
                                                }); w.children = Object.create(null); w.children[t.H.id] = t; w.bL = void 0; this.k$a(t); this.ji.Lpb(t.H, z); 1 < Object.keys(x.Gl).length && t.nka()
                                            }; u.prototype.Vmb = function (t) { if (t) { var w = k.default.time.fa(), v = t.Jx[0]; v && void 0 === v.X4 ? v.X4 = w - v.Oq : v || (this.Xb("missing metrics for branch:", t.H.id), v = { raa: t.H.id, Xe: !0, X4: 0, ve: {} }, t.Jx.unshift(v)); void 0 === v.startTime && (v.startTime = w) } }; u.prototype.Znb =
                                                function (t, w) { l.assert(0 <= t); for (var v in this.ph) { var x = this.ph[v]; if (this.xb.yqa(x.P.Sb, w)) { if (x.Z <= t && (Infinity === x.Ka || void 0 === x.Ka || t < x.Ka)) return x; var y = Math.min(Math.abs(t - x.Z), Math.abs(t - x.Ka)); if (c.la(z) || y < z) var z = y, A = x } } return A }; u.prototype.wy = function (t, w, v, x, y, z, A, B, E) { w = new m.wLa(t, w, v, x, y, z, A, B, void 0, E); return this.ph[t] = w }; u.prototype.iqb = function (t, w, v) {
                                                    var x = this; this.so = void 0; this.j3 = []; var y = null, z = null; c.sf(w.segments, function (A, B) {
                                                        var E = A.startTimeMs, D = A.endTimeMs, F = {};
                                                        c.sf(A.next, function (H, L) { F[L] = { weight: H.weight || 0, g3b: H.transitionHint || A.transitionHint, Rbc: "number" === typeof H.earliestSkipRequestOffset ? H.earliestSkipRequestOffset : A.earliestSkipRequestOffset } }); var G = A.defaultNext; c.la(G) && (G = Object.keys(F)[0]); var C = c.la(G); G = x.wy(B, t, E, D, G, F, C, A.exitZones, A.transitionHint); E <= v && (v < D || c.la(D)) ? x.so = G : E > v && (!y || E < z) && (y = B, z = E); C && x.j3.push(G)
                                                    }); this.so || (this.so = y ? this.ph[y] : this.ph[w.initialSegment])
                                                }; u.prototype.g2 = function (t, w, v) {
                                                    var x = t.P, y = this.xb.wh(x.Sb),
                                                        z = y.$w, A = [];[0, 1].forEach(function (B) { x.pc(B) && A.push(y.qq(B)) }); t = new p.FFa(this.xb, this.J, this.ji, this.I, this, this.p2, this.CPa, this.IL, t, A, z, w, v ? n.O.Na(v) : void 0, this.IV, this.xb.Pg, this.xb.iw); this.Amb(t); this.hi.push(t); return t
                                                }; u.prototype.Amb = function (t) {
                                                    function w(x) { v.xb.emit(x.type, x) } var v = this; t.addListener("locationSelected", w); t.addListener("logdata", w); t.addListener("serverSwitch", w); t.addListener("streamSelected", w); t.addListener("lastSegmentPts", w); t.addListener("managerdebugevent",
                                                        w); t.addListener("requestCreated", function (x) { x = x.request; v.xb.Qha(x.mediaType, x.Z) })
                                                }; u.prototype.bob = function (t) { for (var w = [t]; t.ug;)t = t.ug, w.push(t); return w }; return u
                        }(); b.oca = a
                }, function (r, b, a) {
                    function c(l, n, q) { this.cE = n; this.Cl = q; this.kB = this.yW = this.Xta = this.J6a = this.I6a = this.yO = this.ce = this.kVb = this.Cl = this.Sm = this.Bc = this.Z = this.Xs = this.jo = this.Y = this.d1a = this.TT = void 0 } function f(l, n, q) { this.Ka = n; this.J1a = q; this.JRa = this.vdb = this.Hr = this.jo = this.ZH = this.Iw = void 0 } function k(l, n, q, p, u, t,
                        w) { var v = new c(q, n, l.Cl); l.forEach(function (x) { var y = x.buffer, z = y.Y; x.mediaType === g.Wa.$b ? v.TT = z.length ? z[0].bitrate : void 0 : x.mediaType === g.Wa.Pb && (v.d1a = z.length ? z[0].bitrate : void 0, v.Y = z, v.jo = y.Yk - y.Cc, v.Xs = y.eh, v.Z = y.Cc, v.Bc = y.Bc, v.Sm = x.Cd, v.Cl = x.Cl, v.kVb = n - x.Cl, v.ce = x.ce, v.yO = z.filter(function (A) { return v.Z <= A.ux }).length) }); this.Ij = v; this.fu = void 0; this.nVa = p; this.Ax = u; this.DSa = t; this.qva = this.y$ = this.W5a = this.pB = this.XL = this.AXa = this.Nx = this.ce = this.fu = void 0; this.btb = w; this.wua = {} } var m = a(2),
                            g = a(27).default, d = a(38).assert, h = a(17).sa; c.prototype.constructor = c; f.prototype.constructor = f; k.prototype.constructor = k; k.prototype.ku = function (l, n) {
                                var q = this.Ij, p = [], u = l[g.Wa.Pb], t = l[g.Wa.$b]; if (void 0 === u || void 0 === t) return !1; var w = u.buffer, v = t.buffer, x = q.ce.filter(function (I) { return I.t6() }); if (void 0 === w || void 0 === v || void 0 === x || 0 === x.length) return !1; var y = new f(n ? h[n] : "maxbitratechanged", u.Cc, n === h.Tf), z = 0, A = 0, B = 0, E = 0, D = q.Z; l = l[g.Wa.Pb].Cc; for (var F = q.Y, G = q.yO, C = 0; C < G; C++) {
                                    var H = F[C], L = H.offset,
                                        N = H.offset + H.ea - 1, J = H.Sr, Q = H.UA, K = Q + J; H && Q <= l && K > D && (J = H.Sr, Q = Math.min(J, Math.min(l, K) - Math.max(Q, D) + 1), E += Q, z += Q / J * (N - L + 1), A += H.bitrate * Q, B += H.zb * Q)
                                } q.I6a = z; q.J6a = E; q.Xta = 0 < E ? A / E : 0; q.IUb = 0 < E ? B / E : 0; q.yW || (q.yW = 0, x.some(function (I, M) { if (I.bitrate === q.d1a) return q.yW = M, !0 })); x.forEach(function (I) {
                                    I = I.t6(); var M = []; q.kB || (q.kB = I.Hn(q.Z, void 0, !0)); y.Iw || (y.Iw = I.Hn(y.Ka, void 0, !0), y.ZH = I.length - 1); q.Sm !== q.kB + q.yO && (q.Sm = q.kB + q.yO); G = Math.min(y.ZH, y.Iw + 1); for (var O = q.kB; O <= G; O++) {
                                        var P = I.get(O); M[O] =
                                            P
                                    } p.push(M)
                                }); n === h.Tf && (y.jo = w.Yk - w.Cc, y.Hr = v.Yk - v.Cc, y.vdb = u.m8a, y.JRa = t.m8a); this.fu = y; this.ce = x; this.Nx = p; return this.AXa = !0
                            }; k.prototype.Qz = function () {
                                var l, n; if (this.vk) return this.vk; var q = this.pB, p = this.Ij, u = this.fu, t = this.ce, w = this.W5a, v = this.btb; d(void 0 !== q, "throughput object must be defined before retrieving the logdata from PlaySegment"); if (q.trace && 0 === q.trace.length || void 0 === q.timestamp) { if (u.J1a) var x = !1, y = !0; else u.Iw - p.kB + 1 <= p.yO ? y = x = !0 : (x = !0, y = !1); var z = !0 } if (w) for (var A = w.x7,
                                    B = w.eN, E = 0; E < v.length; E++) { var D = v[E]; (q = w[D]) && q.$sa && (y = !0) } u = { bst: p.Cl, pst: p.cE, s: p.kB, e: u.Iw, prebuf: p.yO, brsi: p.Sm, pbdlbytes: p.I6a, pbdur: p.J6a, pbtwbr: p.Xta, pbvmaf: p.IUb }; this.Ax && (u.fragmentsPrebuffered = p.Y); z && (u.nt = z); y && (u.nd = y); A && (u.invalid = A); B && (u.exception = B); this.qva && (u.rr = this.qva); this.y$ && (u.ra = this.y$); if (!y && !A && !B && (this.nVa || this.Ax)) {
                                        u.bitrate = t.map(function (K) { return K.bitrate }); q = this.pB; D = q.trace; var F = []; C = 0; D.forEach(function (K) { K = Number(K).toFixed(0); F.push(K - C); C = K });
                                        u.tput = { ts: q.timestamp, trace: F, bkms: q.cz }
                                    } if (y || z || A || B) u.feasible = x; else for (u.sols = {}, u.elapsed = w.hDb, E = 0; E < v.length; E++) {
                                        D = v[E]; q = w[D]; y = {}; if (q && q.Wq) {
                                            y.algelapsed = q.atb; y.maxHeapTotal = q.vA; y.f = q && q.zD || !1; y.dltwbr = q.UVa; y.dlvmaf = q.XVa; y.dlvdur = q.WVa; y.dlvbytes = q.VVa; y.dlabytes = q.SVa; if (this.nVa || this.Ax) { var G = q.Wq.filter(function (K) { return K }).map(function (K) { return K.Le }), C = 0, H = []; G.forEach(function (K) { H.push(K - C); C = K }); y.strmsel = H } if (this.Ax) {
                                                z = []; x = this.Ij.Sm; try {
                                                    for (var L = (l = void 0, m.__values(G)),
                                                        N = L.next(); !N.done; N = L.next()) { var J = N.value, Q = this.Nx[J][x]; Q.Pf = J; z.push(Q); x++ }
                                                } catch (K) { l = { error: K } } finally { try { N && !N.done && (n = L.return) && n.call(L) } finally { if (l) throw l.error; } } y.fragsel = z; y.streamList = this.ce; y.pause_dlnd_sec = q.Wq.filter(function (K) { return K }).map(function (K) { return K.Uta }); y.buffer_sec = q.Wq.filter(function (K) { return K }).map(function (K) { return K.Jja }); y.buffer_kb = q.Wq.filter(function (K) { return K }).map(function (K) { return K.Ija }); y.buffer_frags = q.Wq.filter(function (K) { return K }).map(function (K) { return K.HSa });
                                                y.elapsed_secs = q.Wq.filter(function (K) { return K }).map(function (K) { return K.sWa }); y.throughput = q.Wq.filter(function (K) { return K }).map(function (K) { return K.Sa })
                                            }
                                        } u.sols[D] = y
                                    } return this.vk = u
                            }; k.prototype.oFb = function (l) { if (void 0 !== this.wua[l]) return this.wua[l]; for (var n = this.Nx[this.Ij.yW], q = 0; q < n.length; q++) { var p = n[q]; if (p && p.Z <= l && p.Z + p.duration > l) return this.wua[l] = p } throw Error("findPlayingFragment: missing"); }; r.exports = k
                }, function (r, b, a) {
                    function c(g, d, h) { this.ea = g; this.Qm = d; this.quality = h }
                    function f(g, d) { this.Xra = d; void 0 === d && (this.Xra = !0); this.lm = g; this.Mmb() } var k = a(2), m = a(5).assert; c.prototype.constructor = c; c.prototype.Wz = function () { return 8 * this.ea / 1E3 / this.Qm }; f.prototype.constructor = f; f.prototype.Xt = function (g, d, h, l, n) { void 0 === d && (d = 0); void 0 === h && (h = g.FN()); void 0 === l && (l = 0); void 0 === n && (n = g.lm.length); for (var q = [], p, u = l; u < n; u++) { l = []; for (var t = d; t < h; t++)p = g.lm[u][t], l.push(p); q.push(l) } return new f(q, g.Xra) }; f.prototype.Mmb = function () {
                        var g, d = this.lm[0].length; try {
                            for (var h =
                                k.__values(this.lm.slice(1)), l = h.next(); !l.done; l = h.next()) { var n = l.value; m(n.length === d, "expect chunk.length === n but got " + n.length + " and " + d) }
                        } catch (p) { var q = { error: p } } finally { try { l && !l.done && (g = h.return) && g.call(h) } finally { if (q) throw q.error; } } this.Xra && this.Nmb(); this.Omb()
                    }; f.prototype.FN = function () { return this.lm[0].length }; f.prototype.Nmb = function () { for (var g = 0; g < this.lm.length - 1; g++)for (var d = 0; d < this.FN(); d++)m(this.lm[g][d].ea <= this.lm[g + 1][d].ea, "Chunk size for epoch " + d + " is not monotonic") };
                    f.prototype.Omb = function () { for (var g = 0; g < this.lm.length - 1; g++)for (var d = 0; d < this.FN(); d++)m(1E-8 > Math.abs(this.lm[g][d].Qm - this.lm[g + 1][d].Qm), "Chunk duration for epoch " + d + " is not consistent") }; f.prototype.XJb = function () { var g = []; this.lm[0].forEach(function (d) { g.push(d.Qm) }); return g }; r.exports = { Ofb: c, Pfb: f }
                }, function (r, b, a) {
                    function c() { } function f(g, d, h) {
                        void 0 === h && (h = !1); m(g.length === d.length, "bitrates_kbps and durations_sec must be of the same length."); m(1E-8 < k(g), "bitrate zero, won't be able to send anything.");
                        this.BC = g; this.oWa = d; this.repeat = h; this.qm = this.Jo = 0
                    } function k(g) { return g.reduce(function (d, h) { return d + h }, 0) } var m = a(5).assert; c.prototype = Error(); f.prototype.constructor = f; f.prototype.Xt = function () { var g = new f(this.BC, this.oWa, this.repeat); g.Jo = this.Jo; g.qm = this.qm; return g }; f.prototype.ppa = function () { return this.BC[this.Jo % this.BC.length] }; f.prototype.oD = function () { return this.oWa[this.Jo % this.BC.length] }; f.prototype.LCb = function (g) {
                        m(0 < g, "expect x_sec > 0.0"); if (!(this.repeat || 0 <= this.Jo && this.Jo <
                            this.BC.length)) throw new c; m(this.qm < this.oD(), "expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()"); for (var d; ;) { d = this.oD() - this.qm; d = g < d ? g : d; g -= d; this.qm += d; if (this.qm < this.oD()) break; this.qm -= this.oD(); this.Jo += 1; if (!this.repeat && this.Jo >= this.BC.length) { if (0 < g) throw new c; break } }
                    }; f.prototype.G6a = function (g) { this.LCb(g) }; f.prototype.MCb = function (g) {
                        m(0 < g, "expect y_kb > 0.0"); if (!(this.repeat || 0 <= this.Jo && this.Jo < this.BC.length)) throw new c; m(this.qm < this.oD(), "expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");
                        for (var d, h = 0; ;) { d = this.oD() - this.qm; d = g < d * this.ppa() ? g / this.ppa() : d; g -= this.ppa() * d; h += d; this.qm += d; if (this.qm < this.oD()) return h; this.qm -= this.oD(); this.Jo += 1; if (!this.repeat && this.Jo >= this.BC.length) { if (0 < g) throw new c; return h } }
                    }; r.exports = { bmb: f, cmb: c }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Qlb = b.Yda = b.Slb = b.XLa = void 0; r = a(2); var c = r.__importStar(a(10)), f = r.__importDefault(a(6)), k = r.__importDefault(a(38)).default.LH, m = r.__importStar(a(9)).Bq, g = r.__importDefault(a(401)),
                        d = a(386), h = a(217), l = a(17), n = a(26), q = a(5), p = a(100), u = a(244); a = function () {
                            function x(y, z, A, B, E, D, F, G, C, H, L) { var N = this; this.I = y; this.zg = z; this.J = A; this.pc = B; this.X = E; this.zP = D; this.Vb = F; this.Hb = G; this.og = C; this.V3 = H; this.bG = L; this.e3 = []; this.Vha = []; this.iPa = []; this.FNa = void 0;[0, 1].forEach(function (J) { N.pc(J) && (N.e3[J] = new v(N.I, J), N.Vha[J] = new t(J), N.iPa[J] = new w(J)) }); this.hdb = new p.KF(this.I); this.xB = p.QC(this.J, this.hdb); this.kja = p.PC(); this.PF = void 0 } Object.defineProperties(x.prototype, {
                                Of: {
                                    get: function () { return this.e3 },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(x.prototype, { lB: { get: function () { return this.Vha }, enumerable: !1, configurable: !0 } }); Object.defineProperties(x.prototype, { fx: { get: function () { return this.iPa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(x.prototype, { Zy: { get: function () { return this.FNa }, set: function (y) { this.FNa = y }, enumerable: !1, configurable: !0 } }); x.prototype.Tq = function (y, z) { this.hdb.Tq(y, z) }; x.prototype.Wra = function (y) {
                                var z = this.J, A = y.mediaType, B = f.default.Mo()[A],
                                    E = z.x4b ? 0 === A ? z.LT : z.k_ : 1 === A ? z.LT : z.k_, D = this.X.getState(), F = this.X.Ue(); z = y.Ua.jb; A = this.V3.m3a(z, A); B = { zw: B, Z: A.Ad, Cc: F, Bc: A.OO || F, Yk: A.sU || F, eh: A.eh, Bj: A.Bj, fYa: A.Y.length, Y: [] }; E = { state: D, xq: this.X.xq(), Cd: y.Tn, buffer: B, ZU: E, b3a: !!this.zP.m8, UM: !!this.zP.Ds, Up: this.Vb && this.Vb.Up, z$: y.qJb, playbackRate: this.X.No() }; void 0 === E.Cd && (E.Cd = y.Yma(B.Bc)); E.dU = z.dU; B.Y = A.Y; c.Ea(B.Z) ? y.seeking && B.Cc != B.Z && (B.Cc = B.Z) : (B.Z = 0, B.Bc = 0); this.zg.Bwb(E); this.zg.Dsb(E); return E
                            }; x.prototype.mka = function (y, z, A) {
                                y =
                                    this.e3[y]; for (var B = y.maxBitrate, E = "manifest", D = 0, F = z.length - 1; 0 <= F; F--) { var G = z[F], C = G.bitrate; if (k(G)) { D = Math.max(D, C); break } else this.J.BZ && !G.ou ? E = "bc" : G.Eu ? G.aA && (E = "hf") : E = "av" } if (void 0 === B || D !== B) y.maxBitrate = D, this.Hb.hSb(B, D, E, A)
                            }; x.prototype.nJb = function (y) { return this.Yoa(y).Pf }; x.prototype.Yoa = function (y) {
                                var z = this.J, A = y.mediaType, B = 1 == A, E = 0, D = this.e3[A], F = this.Vha[A]; if (!D.Lf) return { Pf: void 0 }; var G = this.Wra(y), C = y.Qf, H = C.Iu, L = y.f8.P, N = y.track.ce; if (!L.Em.e_(L.S, N)) return y.Sk("location selector did not find any urls"),
                                    { Pf: void 0 }; var J = u.e$(G.state), Q = B ? this.xB : this.kja; try { var K = Q.xm(N, J) } catch (S) { this.I.error("StreamFilters: filterStreams: " + S), K = [N[0]] } 0 === K.length && (this.I.error("StreamFilters: empty list"), K = [N[0]]); if (this.bG.Tr && (y.cD.length !== K.length || 0 < n.Kt(y.cD, K).length || 0 < n.Kt(K, y.cD).length)) { try { this.PF && this.dFb() } catch (S) { this.Hb.Un("Hindsight: Error when handling maxbitrate chagned: " + S) } y.cD = K } J = H ? H.Pf : D.ona; try {
                                        if (H && (E = H.bitrate, H && C.track && !H.track.equals(C.track))) {
                                            var I = d.ana(K, E) || 0, M =
                                                K[I]; if (H.bitrate !== M.bitrate || 1 === A) G.state = l.sa.Fh; H = M; J = N.indexOf(M)
                                        }
                                    } catch (S) { this.I.error("StreamFilters: track change: " + S) } if (!B && (E = z.VP, !(E && 0 < E.length) && J && N[J] && H && H.location === N[J].location)) return { Pf: J }; try { var O = this.zg.wN(A), P = y.Jj.Awa(G, K, void 0, O, D.Lf.config.qx, L.kq); if (!P) return y.Sk("stream selector did not find a stream"), { Pf: void 0 } } catch (S) { this.I.error("StreamFilters: stream selector: " + S), P = { Le: 0 } } P.Le = N.indexOf(K[P.Le]); this.zP.Ds && this.zP.Ds.Gsb(y.mediaType, P, N); B && this.mka(A,
                                        K, y.Bc); G = P.Le; H = N[G]; K = H.bitrate; G != J && (B && z.VM && this.og.xNa(y, K), B || this.zg.AP(K)); c.Ea(D.ona) || (D.ona = G); y.Se || (P.Se ? (q.assert(void 0 !== P.W3), y.haa(P.W3), F.Rt = P.W3) : (y.JD = P.JD, y.OI = P.OI, y.progress = P.progress)); this.vy(); if (B) if (P.zz) L.BP(P.zz); else if (!L.T6() && !z.eab) for (y = 0; y < N.length; ++y)if (z = N[y], z.Gu && !L.fl(A, z.Ta)) { L.BP([z.Ta]); break } P.dSa && this.Hb.oSb(P.dSa); return { Ta: H.Ta, Pf: G, Su: P.Su }
                            }; x.prototype.vy = function () {
                                var y, z, A = this.Of[0], B = this.Of[1], E = this.lB[1], D = this.lB[0]; A = this.V3.$c.vwb(null !==
                                    (y = null === B || void 0 === B ? void 0 : B.Yu) && void 0 !== y ? y : 0, null !== (z = null === A || void 0 === A ? void 0 : A.Yu) && void 0 !== z ? z : 0, this.Zy, this.zP.jY); A.Rt && (this.zP.Ym && E ? E.Rt = A.Rt : D && (D.Rt = A.Rt)); return A.Se
                            }; x.prototype.Vma = function (y, z) { var A = this; if (this.PF) { var B = this.PF, E = this.X.Ue(), D = []; z && (E = z.Ka); h.Cf.forEach(function (F) { var G = A.V3.$c.Rd(F); if (G) { var C = A.Wra(G); C.mediaType = F; C.Cc = E; y === l.sa.Tf && (C.m8a = G.Ua.Qia(E)); D[F] = C } }); B.AXa || B.ku(D, y) || this.Xva(); return B } }; x.prototype.dFb = function () {
                                var y = this.PF,
                                    z = this.J; y && (this.Vma(void 0), y && !y.XL && this.zg.ava.Ima(y)); this.MUa(z)
                            }; x.prototype.Xva = function () { this.PF = void 0 }; x.prototype.a4b = function (y) { var z = y.oldValue; y = y.newValue; var A = this.PF, B = this.J; y === l.sa.Kc && z !== l.sa.Kc ? (A && this.I.warn("override an existing play segment!"), this.MUa(B, z, !0)) : y !== l.sa.Kc && z === l.sa.Kc && A && (this.Vma(y), A && !A.XL && this.zg.ava.Ima(A), this.Xva()) }; x.prototype.MUa = function (y, z, A) {
                                var B = this, E = []; h.Cf.forEach(function (F) {
                                    var G = B.V3.$c.Rd(F); if (G) {
                                        var C = B.Wra(G); if (A) {
                                            var H =
                                                B.Of[F]; H.pxa ? (C.Cl = H.pxa, H.pxa = void 0) : C.Cl = H.Cl
                                        } else C.Cl = f.default.time.fa(); C.ce = G.cD; C.mediaType = F; E[F] = C
                                    }
                                }); var D = f.default.Mo(); D = { Kac: D[0], fdb: D[1], ydc: y.W3a, xA: y.xA }; this.PF = new g.default(E, f.default.time.fa(), z, this.bG.eV, y.Ax, D, y.b7)
                            }; return x
                        }(); b.XLa = a; var t = function () { function x(y) { this.mediaType = y; this.fU = this.Nw = this.fA = this.Rt = this.gA = void 0 } x.prototype.e4b = function (y, z, A) { this.gA = y ? y : this.gA; this.Rt = this.Rt; this.fA = z ? z : this.fA; this.Nw = A ? A : this.Nw }; return x }(); b.Slb = t; var w = function () {
                            return function (x) {
                                this.mediaType =
                                    x; this.lra = this.sra = this.nra = this.UH = void 0
                            }
                        }(); b.Yda = w; var v = function () { return function (x, y) { this.mediaType = y; this.I = m(f.default, x, "[" + y + "]"); this.Sk = this.I.error.bind(this.I); this.Xb = this.I.warn.bind(this.I); this.sn = this.I.trace.bind(this.I); this.Fg = this.I.log.bind(this.I); this.I.debug.bind(this.I); this.ona = this.Cl = this.Co = this.Lf = void 0; this.kY = this.Yu = 0; this.pQ = !1; this.maxBitrate = void 0 } }(); b.Qlb = v
                }, function (r, b, a) {
                    function c() { } function f(G, C) {
                        var H = p.fd(C) ? C : c; this.J = G || {}; (function (Q, K, I) {
                            this.ak[Q].De[K] =
                                I
                        }).bind(this); (function (Q, K) { return this.ak[Q].De ? this.ak[Q].De[K] : void 0 }).bind(this); this.on = this.addEventListener = D.addEventListener; this.removeEventListener = D.removeEventListener; this.emit = this.Za = G.Wbc ? D.Za : c; var L = w.aAb(G), N = this.J.dailyDiskCacheWriteLimit; if (L) {
                            this.$v = L; var J = l(G.Idc || F, w.nHb()); this.Py = function (Q) { return p.la(J) || null === J || void 0 === this.ak[Q] ? !1 : !p.la(J[Q]) }; J ? (this.ak = {}, C = u.Promise.all(Object.keys(J).map(function (Q) {
                                return new u.Promise(function (K, I) {
                                    var M = J[Q]; M.Ucb =
                                        G.Ucb; new v(Q, L, M, function (O, P) { O ? I(O) : K(P) }, N)
                                })
                            })).then(function (Q) { Q.map(function (K) { var I = K.hw; this.ak[I] = K; J[I].UFb = J[I].zw - K.Oy; this.ak[I].on(v.Oe.REPLACE, function (M) { M = M || {}; M.partition = I; M.type = "save"; this.Za("mediacache", M) }.bind(this)); this.ak[I].on(v.Oe.pNa, function (M) { M = M || {}; M.partition = I; M.type = "save"; this.Za("mediacache", M) }.bind(this)); this.ak[I].on(v.Oe.Rf, function (M) { M = M || {}; M.partition = I; M.type = v.Oe.Rf; this.Za("mediacache-error", M) }.bind(this)) }.bind(this)); return this }.bind(this)).then(function (Q) {
                                d(L,
                                    u.storage.OR, Object.keys(J)); return Q
                            }.bind(this)).then(function (Q) { Object.keys(Q.ak).map(function (K) { Q.ak[K].hoa().map(function (I) { Q.delete(K, I) }) }); Q.Nn = !0; H(null, Q) }.bind(this)).catch(function (Q) { t.error("Failed to initialize media cache ", Q); this.KH = B.UBa; H(this.KH, this) }.bind(this)), E.tx(C)) : (this.KH = B.yib, H(this.KH, this))
                        } else this.KH = B.UBa, H(this.KH, this)
                    } function k(G, C, H, L, N, J) {
                        var Q = J ? "mediacache-error" : "mediacache"; C = { partition: H, type: C, resource: L, time: u.time.now() }; J && (C.error = J); N && (p.Ea(N.duration) &&
                            (C.duration = N.duration), p.Ea(N.ez) && (C.bytesRead = N.ez)); try { G.Za(Q, C) } catch (K) { t.warn("caught exception while emitting basic event", K) }
                    } function m(G, C, H, L, N) { var J = N ? "mediacache-error" : "mediacache"; C = { partition: H, type: C, resources: L, time: u.time.now() }; N && (C.error = N); try { G.Za(J, C) } catch (Q) { t.warn("caught exception while emitting basic event", Q) } } function g(G) { return !x.RN(G) && !z.WMb(G) } function d(G, C, H) {
                        G.query(C, "", function (L, N) {
                            L || Object.keys(N).filter(function (J) { return 0 > H.indexOf(J.slice(0, J.indexOf("."))) }).map(function (J) {
                                G.remove(C,
                                    J, c)
                            })
                        })
                    } function h(G, C, H) { function L(Q) { G.delete(N, function (K) { K ? H(K) : (delete G.De[J], K = Object.keys(Q.resourceIndex), K = u.Promise.all(K.map(function (I) { return new u.Promise(function (M, O) { G.delete(I, function (P) { P ? O(P) : M(I) }) }) })).then(function () { H() }, function (I) { H(I) }), E.tx(K)) }) } if (x.RN(C)) var N = C, J = x.F5(C); else N = x.hla(C), J = C; (C = G.De[J]) ? L(C) : G.read(N, function (Q, K) { Q ? H(Q) : L(K) }) } function l(G, C) {
                        var H = {}, L = G.partitions.reduce(function (J, Q) { return J + Q.capacity }, 0), N = C / L; G.partitions.map(function (J) {
                            var Q =
                                J.key; H[Q] = {}; H[Q].zw = Math.floor(N * J.capacity); H[Q].dBb = J.dailyWriteFactor || 1; H[Q].pec = J.owner; H[Q].mEb = J.evictionPolicy
                        }); return H
                    } function n(G, C, H) { if (H) return z.rCb(G, C).reduce(function (L, N) { Object.keys(N).map(function (J) { L[J] = N[J] }); return L }, {}); H = {}; H[G] = C; return H } function q(G, C, H, L, N, J, Q, K, I, M, O) {
                        return function (P, S) {
                            P ? p.isArray(P) ? (S = P.map(function (U) { return U.error }), S.some(function (U) { return U.code === B.XJ.code }) && !S.some(function (U) { return U.code === B.R1.code }) ? O(M, P, function () {
                                I.save(C,
                                    H, L, N, J, Q)
                            }) : (M.delete(K), delete M.De[H], J({ error: P[0].error, Tu: P[0].Tu, type: P[0].type, kRa: P }))) : J({ error: P, Tu: C, type: "save" }) : (P = S.items.filter(function (U) { return 0 <= Object.keys(G).indexOf(U.key) }).reduce(function (U, Z) { return U + Z.Q7 }, 0), M.De[H].D$a(P), P = { UFb: S.In, ybc: S.GM, Wk: 0, items: S }, 0 < S.Wk && (P.Wk = S.Wk), 0 < S.duration && (P.duration = S.duration), J(null, P))
                        }
                    } var p = a(10), u = a(127), t = new u.Console("MEDIACACHE", "media|asejs"), w = a(883), v = a(884), x = a(406), y = a(128), z = a(891), A = a(892), B = a(254), E = a(255), D = a(407).EventEmitter,
                        F = { uec: [] }; f.prototype.vY = function (G, C, H) { var L = p.fd(H) ? H : c; this.Py(G) ? this.ak[G].query(C, function (N, J) { N ? (t.error("Failed to query resources", N), L([])) : L(J.filter(g)) }) : L([]) }; f.prototype.read = function (G, C, H) {
                            var L = p.fd(H) ? H : c; if (this.Py(G)) {
                                var N = this.ak[G], J = N.De[C]; if (!x.RN(C) && this.J.CQb) {
                                    var Q = function (K) { N.x$(Object.keys(K), function (I, M, O) { I ? L(B.FK.er("Failed to read " + C, I)) : (k(this, "read", G, C, O), L(null, z.lMb(M))) }.bind(this), K) }.bind(this); J ? Q(J.resourceIndex) : this.ZWb(G, C, function (K, I) {
                                        K ?
                                            L(B.FK.er("Failed to read " + C, K)) : Q(I.resourceIndex)
                                    })
                                } else N.read(C, function (K, I, M) { K ? L(B.FK.er("Failed to read " + C, K)) : (J && J.convertToBinaryData && (I = A.eyb(I)), k(this, "read", G, C, M), L(null, I)) }.bind(this))
                            } else L(B.LB)
                        }; f.prototype.x$ = function (G, C, H) { var L = p.fd(H) ? H : c; if (this.Py(G)) { var N = {}; C = u.Promise.all(C.map(function (J) { return new u.Promise(function (Q, K) { this.read(G, J, function (I, M) { I ? (M = {}, M[J] = I, K(M)) : (N[J] = M, Q()) }) }.bind(this)) }.bind(this))).then(function () { L(null, N) }, function (J) { L(J) }); E.tx(C) } else L(B.LB) };
                    f.prototype.F9a = function (G, C, H) {
                        var L = p.fd(H) ? H : c; this.Py(G) ? "[object Object]" !== Object.prototype.toString.call(C) ? L(B.Q1.er("items must be a map of keys to objects")) : (H = (new u.Promise(function (N) { var J = this.ak[G].hoa(), Q = Object.keys(C); (J = J.filter(function (K) { return -1 === Q.indexOf(K) })) && 0 < J.length ? this.DVa(G, J, function () { N() }) : N() }.bind(this))).then(function () {
                            return u.Promise.all(Object.keys(C).map(function (N) {
                                return new u.Promise(function (J, Q) {
                                    this.save(G, N, C[N].Qq, C[N].Hc, function (K, I) {
                                        K ? (t.error("Received an error saving",
                                            N, K), Q(K)) : J(I)
                                    }, !0)
                                }.bind(this))
                            }.bind(this)))
                        }.bind(this)).then(function (N) { try { var J = Number.MAX_VALUE, Q = Number.MAX_VALUE, K = N.reduce(function (I, M) { M.In && M.In < J && (J = M.In); M.GM && M.GM < Q && (Q = M.GM); J < Number.MAX_VALUE && (I.freeSize = J); Q < Number.MAX_VALUE && (I.dailyBytesRemaining = Q); p.Ea(M.Wk) && (I.bytesWritten += M.Wk); p.Ea(M.duration) && (I.duration += M.duration); return I }, { partition: G, type: "saveMultiple", keys: Object.keys(C), time: u.time.now(), bytesWritten: 0, duration: 0 }); this.Za("mediacache", K); L(null, K) } catch (I) { L(err) } }.bind(this),
                            function (N) { p.isArray(N.kRa) ? N.kRa.forEach(function (J) { this.Za("mediacache-error", { partition: G, type: "saveMultiple", error: J.error, resources: J.resources }) }.bind(this)) : this.Za("mediacache-error", { partition: G, type: "saveMultiple", error: N }); L(N) }.bind(this)), E.tx(H)) : (p.fd(H) ? H : c)(B.LB)
                    }; f.prototype.save = function (G, C, H, L, N, J) {
                        var Q = p.fd(N) ? N : c; if (this.Py(G)) {
                            var K = this.ak[G], I = x.hla(C); N = K.hoa(); N = N.filter(function (ia) { return ia !== C }); if (p.la(L) || p.Lb(L) || !p.Ea(L.lifespan)) Q(B.Yib); else {
                                var M = n(C, H, this.J.CQb),
                                    O = K.De[C] || {}, P = O.resourceIndex; P && Object.keys(P).map(function (ia) { p.la(M[ia]) && K.delete(ia) }); L.convertToBinaryData && (H = A.fyb(M), M = n(C, H, !1)); P = u.time.now(); var S = {}; S.partition = G; S.resourceIndex = Object.keys(M).reduce(function (ia, ya) { ia[ya] = y.kpa(M[ya]); return ia }, {}); S.creationTime = O.creationTime || P; S.lastRefresh = P; S.lifespan = L.lifespan; S.lastMetadataUpdate = P; S.size = O.size; S.convertToBinaryData = L.convertToBinaryData; var U = function (ia, ya, na) {
                                        ia.TBb(function (X, ra) {
                                            X && t.error("Evicting", "Failed to delete some orphaned records",
                                                X); ra.wva ? na() : (X = ia.AHb()) ? this.delete(ia.hw, X, function (T) { T ? (J || (p.isArray(ya) ? ya.forEach(function (R) { m(this, "save", ia.tIb, R.resources, R.error) }.bind(this)) : k(this, "save", ia.hw, C, void 0, ya)), Q(ya)) : na() }.bind(this)) : Q(B.XJ)
                                        }.bind(this))
                                    }.bind(this), Z = function () { var ia = this.ak, ya = 0, na = u.time.now(); if (!p.la(ia)) for (var X in ia) ya += ia[X].PGb(na); return ya }.bind(this); this.DVa(G, N, function () {
                                        K.replace(I, S, function (ia, ya) {
                                            ya ? (K.De[C] = x.Cna(S), K.kYb(M, q(M, G, C, H, L, Q, J, I, this, K, U), J, Z)) : ia.code === B.XJ.code ?
                                                U(K, ia, function () { this.save(G, C, H, L, Q, J) }.bind(this)) : Q(ia)
                                        }.bind(this), J, Z)
                                    }.bind(this))
                            }
                        } else Q(B.LB)
                    }; f.prototype.delete = function (G, C, H) { var L = p.fd(H) ? H : c; this.Py(G) ? h(this.ak[G], C, function (N) { k(this, "delete", G, C, void 0, N); L(N) }.bind(this)) : L(B.LB) }; f.prototype.DVa = function (G, C, H) {
                        var L = p.fd(H) ? H : c; if (this.Py(G)) {
                            var N = this.ak[G]; H = u.Promise.all(C.map(function (J) { return new u.Promise(function (Q) { h(N, J, function (K) { Q({ ga: p.la(K), error: K, Qq: J }) }.bind(this)) }.bind(this)) }.bind(this))).then(function (J) {
                                for (var Q =
                                    [], K = [], I = [], M = 0; M < J.length; M++) { var O = J[M]; O.ga ? Q.push(O.Qq) : O.error && K.push(O) } 0 < Q.length && m(this, "delete", G, Q); if (0 < K.length) { I = K.map(function (S) { return S.Qq }); J = E.E_a(K); var P = J[0]; J.forEach(function (S) { t.error("Failed to delete resources ", S.error, S.resources); m(this, "delete", G, S.resources, S.error) }.bind(this)) } J = {}; J.Mec = Q; 0 < I.length && (J.Nec = I); P ? L(P, J) : L(void 0, J)
                            }.bind(this), function (J) { m(this, "delete", G, C, J); L(J) }.bind(this)); E.tx(H)
                        } else L(B.LB)
                    }; f.prototype.clear = function (G, C) {
                        var H = p.fd(C) ?
                            C : c; this.Py(G) ? this.ak[G].clear(function (L) { H(L.filter(g)) }) : H(B.LB)
                    }; f.prototype.ZWb = function (G, C, H) { var L = p.fd(H) ? H : c; if (this.Py(G)) { var N = this.ak[G]; N.read(x.hla(C), function (J, Q) { if (J) L(B.Zib); else { var K = x.Cna(Q) || {}; N.TZa(Object.keys(K.$va), function (I) { K.size = I; (I = N.De[C]) && (K.lastMetadataUpdate && I.lastMetadataUpdate && I.lastMetadataUpdate <= K.lastMetadataUpdate ? N.De[C] = K : I.lastMetadataUpdate && (I.lastMetadataUpdate > K.lastMetadataUpdate || p.la(K.lastMetadataUpdate)) && (K = I)); L(null, K) }) } }) } else L(B.LB) };
                    f.prototype.constructor = f; r.exports = f
                }, function (r, b, a) {
                    function c(d, h, l, n, q, p) { return new k(d, h, l, n, q, p) } function f(d) { return d && 0 <= d.indexOf(".__metadata__") } function k(d, h, l, n, q, p) { this.partition = d; this.lifespan = l; this.resourceIndex = h; this.size = n; this.creationTime = q; this.lastRefresh = p; return this.Kbb() } var m = a(10), g = a(127); a(128); new g.Console("MEDIACACHE", "media|asejs"); k.prototype.refresh = function () { this.lastRefresh = g.time.now(); return this.Kbb() }; k.prototype.D$a = function (d) { this.size = d }; k.prototype.ZTa =
                        function () { var d = g.time.now(); return (this.lastRefresh + 1E3 * this.lifespan - d) / 1E3 }; k.prototype.Kbb = function () { this.lastMetadataUpdate = g.time.now(); return this }; k.prototype.constructor = k; r.exports = {
                            create: c, Cna: function (d) {
                                var h = d; "string" === typeof d && (h = JSON.parse(d)); if (h && h.partition && !m.la(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh) return d = c(h.partition, h.resourceIndex, h.lifespan, -1, h.creationTime, h.lastRefresh), h.lastMetadataUpdate && (d.lastMetadataUpdate = h.lastMetadataUpdate), !m.la(h.size) &&
                                    0 <= h.size && d.D$a(h.size), d.ZTa(), d.convertToBinaryData = h.convertToBinaryData, d
                            }, hla: function (d) { return d + ".__metadata__" }, F5: function (d) { return f(d) ? d.slice(0, d.length - 13) : d }, RN: f
                        }
                }, function (r, b, a) { r.exports = { EventEmitter: a(887), di: a(888) } }, function (r) { r.exports = "4.1.1890" }, function (r, b, a) {
                    function c(t) { return t.Ps - t.Or } function f(t, w) { return Math.exp(-(Math.log(2) / t) * w) } function k(t, w) { t = Math.log(2) * w / t; return (1 - Math.exp(-t)) / t } function m(t, w) {
                        var v = w.Hua, x = w.Gua, y = w.pY; if (0 === w.$g.length) return { w3: !1 };
                        var z = w.$g[0]; w = z.Xe; var A = z.uD; z = z.duration; if (!A || 1 === y) return { w3: !1 }; p.assert(z, "duration should be defined when immediate probability is included in probabilities array"); p.assert(0 < y, "presenting segment seamless probability cannot be zero"); x -= z; if (v < x) return { w3: !1 }; x = v - x; v = y + x / z * (1 - y); z -= x; A = A * (1 - v) / (1 - y); t = w * v / y * f(t, z) + A * k(t, z); p.assert(1 >= t); return { w3: !0, Tsb: t }
                    } function g(t) {
                        var w = t.Sr, v = t.Iab, x = t.dB, y = t.Ps, z = t.Or; t = t.RXa; p.assert(void 0 !== v); p.assert(void 0 !== w); x = 1 - x; y -= z; t ? (z = v - t - y, w -=
                            t, 0 >= z ? t = Math.max(0, (v - t) / w) : (v = w - z, t = 0 < v ? y / v : 0, x *= 0 < v ? v / w : 1)) : (z = v - y, 0 >= z ? t = v / w : (v = w - z, t = 0 < v ? y / v : 0, x *= 0 < v ? v / w : 1)); p.assert(0 <= t); p.assert(1 >= t); p.assert(0 <= x); p.assert(1 >= x); return 1 - t * x
                    } function d(t, w) { t = Math.log(2) / t.n8a; return h(w) * Math.exp(-t * c(w)) } function h(t) { var w; return (null !== (w = t.vH) && void 0 !== w ? w : 1) * t.$g.reduce(function (v, x) { var y = x.uD; return v * (x.Xe + (void 0 === y ? 0 : y)) }, 1) } function l(t) {
                        var w; if (0 === t.$g.length) return 0; var v = 0; if (1 > t.pY) {
                            v = t.Hua; var x = t.Gua, y = null !== (w = t.$g[0].duration) &&
                                void 0 !== w ? w : 0; v = Math.max(0, Math.min(y, v - (x - y)))
                        } return t.$g.reduce(function (z, A) { A = A.duration; return z + (void 0 === A ? 0 : A) }, 0) - v
                    } function n(t) { return t.$g.filter(function (w) { return !w.uD }).reduce(function (w, v) { return w * v.Xe }, 1) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.$ja = b.aTa = b.Mvb = b.$Sa = b.Qvb = void 0; var q = a(17), p = a(5), u = a(21); b.Qvb = c; b.$Sa = function (t, w, v) {
                        var x; if (!t.m5 || q.So(w.Ff)) return d(t, w); var y = t.n8a; t = c(w); var z = l(w), A = n(w), B = m(y, w), E = B.w3; B = B.Tsb; B = void 0 === B ? 1 : B; var D = 1 > w.dB ?
                            g(w) : 1, F = (null !== (x = w.vH) && void 0 !== x ? x : 1) * A * f(y, t - z) * B * D * w.$g.filter(function (G, C) { return G.uD && (0 < C || !E) }).reduce(function (G, C) { var H = C.uD, L = C.duration; L = void 0 === L ? 0 : L; H = void 0 === H ? 0 : H; C = C.Xe * f(y, L) + H * k(y, L); return G * C }, 1); u.ia && (null === v || void 0 === v ? void 0 : v.log("{" + w.groupId + "} [" + w.mediaType + "] calculateStreamablePriority: sp: " + (w.dB + ", pssp: ") + (w.pY + ", streamingDuration: ") + (w.Iab + ", duration: ") + (w.Sr + ", seamlessProbability: ") + (A + ", distance: ") + (t + ", immediateDistance: " + z + ", risk:") +
                                (f(y, t - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + D + ", probabilities: ") + (JSON.stringify(w.$g) + " => " + F))); return F
                    }; b.Mvb = d; b.aTa = h; b.$ja = n
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.AQ = void 0; var c = a(2), f = a(19), k = a(9), m = a(5), g = c.__importDefault(a(6)), d = a(67), h = a(26); r = a(149); var l = a(903), n = a(412), q = a(905), p = r.aE.Kla; a = function (u) {
                        function t(w, v, x) {
                            var y = u.call(this) || this; y.X = w; y.Dd = v; y.jw = x; y.aV = []; y.Ug = void 0; y.Cga = new f.di; y.Cr = void 0; y.lC = void 0; y.I =
                                new g.default.Console("ASEJS", "media|asejs"); y.Cga.on(y.X, "underflow", function () { return y.zk() }); y.uS = new q.VJa(w); y.Cga.on(y.X, "skipped", function () { return y.OX() }); y.kw = new d.fS(y.uS, y.I, "player"); y.jza = new k.E1; return y
                        } c.__extends(t, u); Object.defineProperties(t.prototype, { Ix: { get: function () { var w; return null === (w = this.Ug) || void 0 === w ? void 0 : w.Ix }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { ys: { get: function () { return this.kw }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype,
                            { Ib: { get: function () { var w, v; return null !== (v = null === (w = this.Ug) || void 0 === w ? void 0 : w.Lz()) && void 0 !== v ? v : [] }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { qa: { get: function () { var w; return null === (w = this.Ug) || void 0 === w ? void 0 : w.qa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, { Ba: { get: function () { return this.uS }, enumerable: !1, configurable: !0 } }); Object.defineProperties(t.prototype, {
                                nB: {
                                    get: function () { var w; return !(null === (w = this.Ug) || void 0 === w || !w.nB) },
                                    enumerable: !1, configurable: !0
                                }
                            }); t.prototype.kZ = function (w) { -1 === this.aV.indexOf(w) && this.aV.push(w); this.Ug && this.Ug.MX(w); this.events.emit("drmReady", { viewableId: w }) }; t.prototype.Owa = function (w) { w = this.aV.indexOf(w); -1 !== w && this.aV.splice(w, 1) }; t.prototype.Uo = function (w) { var v; return -1 !== this.aV.indexOf(w) || !(null === (v = h.re(this.Ib, function (x) { return x.HN && x.P.S === w })) || void 0 === v || !v.P.Ri) }; t.prototype.oE = function (w) { var v; null === (v = this.Ug) || void 0 === v ? void 0 : v.oE(w) }; t.prototype.reset = function () {
                                var w;
                                this.jza = new k.E1; u.prototype.reset.call(this); this.lC = void 0; null === (w = this.Ug) || void 0 === w ? void 0 : w.reset()
                            }; t.prototype.TY = function (w) { var v; u.prototype.TY.call(this, w); null === (v = this.Ug) || void 0 === v ? void 0 : v.TY(w) }; t.prototype.EG = function () { var w; null === (w = this.Ug) || void 0 === w ? void 0 : w.EG() }; t.prototype.pause = function (w) { this.lJ(w); u.prototype.pause.call(this, null !== w && void 0 !== w ? w : this.Dd) }; t.prototype.resume = function (w) {
                                var v; null === (v = this.Ug) || void 0 === v ? void 0 : v.resume(w); u.prototype.resume.call(this,
                                    null !== w && void 0 !== w ? w : this.Dd)
                            }; t.prototype.Jb = function () { this.Cr = this.X6() ? this.Mn() : void 0; this.Ug && this.Xla(this.Ug.qa); this.uS.Jb(); this.kw.Jb(); this.Cga.clear(); u.prototype.Jb.call(this) }; t.prototype.qN = function () {
                                var w; if (null === (w = this.Ug) || void 0 === w ? 0 : w.kWb) {
                                    w = this.X.Cc; if (this.Ba.tk) {
                                        if (this.lC) {
                                            if (this.lC.greaterThan(w)) return w = this.lC.Ja(w), this.jza.push(w.T), this.lC; if (this.Ib.length) {
                                                var v = this.Ug.lOb; if (v && v.lessThan(w)) return this.events.emit("logdata", {
                                                    type: "logdata", target: "endplay",
                                                    kc: { clockdrift: { type: "count" } }
                                                }), this.lC
                                            }
                                        } this.lC = w
                                    } return w
                                } return u.prototype.qN.call(this)
                            }; t.prototype.No = function () { var w = this.X.playbackRate; void 0 === w && (w = u.prototype.No.call(this)); return w }; t.prototype.X6 = function () { return !!this.Cr || 0 < this.Ib.length }; t.prototype.Mn = function () { if (this.Cr) return this.Cr; m.assert(0 < this.Ib.length, "Could not find presenting branch. Player has no branches."); return this.Ai }; t.prototype.Xla = function (w) {
                                var v; m.assert(w === this.qa); null === (v = this.Ug) || void 0 === v ?
                                    void 0 : v.Jb(); this.Ug = void 0
                            }; t.prototype.H3 = function (w, v) { this.Cr = void 0; if (v = u.prototype.H3.call(this, w, v)) this.Ug = new l.aAa(w, this, this.I, w.config, this.jw, this.events, this.Dd, this.kw, this.fC, this.eC), this.lJ(this.HO); return v }; t.prototype.Bma = function () { for (var w = [], v = 0; v < arguments.length; v++)w[v] = arguments[v]; var x = this.Ug; m.assert(x); w.forEach(function (y) { return x.aEb(y) }) }; t.prototype.Oi = function (w) {
                                if (!this.Ug) return !1; var v = this.f6(w); if (!v) return !1; var x = v.H, y = k.O.Na(this.jw.RD); return x.Yi.Ja(y).lessThan(w) ||
                                    !v.LG(w) ? !1 : this.Ug.Oi(w)
                            }; t.prototype.zk = function () { var w, v = this.Vg; m.assert(this.qa); var x = this.fp(v); m.assert(x); null === (w = this.Ug) || void 0 === w ? void 0 : w.zk(); w = this.f6(v); null === w || void 0 === w ? void 0 : w.P.zk(); this.qa.zk(x) }; t.prototype.OX = function () { this.lC = void 0 }; t.prototype.Nna = function () { var w; return null === (w = this.Ug) || void 0 === w ? void 0 : w.Nna() }; t.prototype.lJ = function (w) { var v; null === (v = this.Ug) || void 0 === v ? void 0 : v.lJ(w) }; t.prototype.iya = function (w) {
                                m.assert(this.qa && this.Ug); return u.prototype.iya.call(this,
                                    w)
                            }; c.__decorate([p.return.Wub(), p.return.fo], t.prototype, "Mn", null); return t
                    }(n.Sea); b.AQ = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Q$ = void 0; var c = a(2), f = a(5), k = a(176); b.Q$ = function (m, g, d, h, l, n) {
                        void 0 === l && (l = k.Kv.WU); var q = m(); if (h && q) {
                            var p = h.Oia; m = h.fo; h = h.rules.map(function (u) { return ["function" === typeof u.Ql ? u.Ql(d) : d[u.Ql], u.config] }); p || f.assert(g, "Param is null"); n && h.push([{ map: n, HC: function () { return !0 } }, void 0]); n = h.filter(function (u) {
                                u = c.__read(u, 2); return u[0].HC(g,
                                    q, u[1])
                            }); m && f.assert(n.length, "No rules matched for " + g); if (n.length) return n.reduce(function (u, t) { t = c.__read(t, 2); return t[0].map(u, l, q, t[1]) }, g)
                        } return g
                    }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Sea = void 0; var c = a(2), f = a(19), k = a(9), m = a(5), g = a(17), d = a(149).aE.Kla; r = function () {
                        function h() { this.HO = []; this.fC = new k.vr(!1); this.eC = new k.vr(k.O.Na(-Infinity)); this.events = new f.EventEmitter } Object.defineProperties(h.prototype, { Ix: { get: function () { }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(h.prototype, { playbackRate: { get: function () { return this.No() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { BA: { get: function () { return this.fC }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { NW: { get: function () { return this.eC }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { nB: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, {
                            Xf: {
                                get: function () { return this.GN }, enumerable: !1,
                                configurable: !0
                            }
                        }); Object.defineProperties(h.prototype, { Vg: { get: function () { return this.qN() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { Si: { get: function () { var l = this.Vg, n = this.fp(l); m.assert(n, "Could not find current branch for " + l.T); return n }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { bMb: { get: function () { return this.Ib[0] }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, {
                            QH: {
                                get: function () {
                                    return this.GN ? this.Ib[this.Ib.length -
                                        1] : void 0
                                }, enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(h.prototype, { Ai: { get: function () { var l = this.Vg, n = this.f6(l); m.assert(n, "Could not find presenting branch for " + l.T); return n }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { GN: { get: function () { return 0 < this.Ib.length }, enumerable: !1, configurable: !0 } }); h.prototype.L_a = function (l) { return -1 !== this.Ib.indexOf(l) }; h.prototype.H3 = function () { return void 0 !== this.qa ? !1 : !0 }; h.prototype.Jb = function () { }; h.prototype.wH = function (l) {
                            var n =
                                this.Ib.filter(function (u) { return u.H.id === l.ha }); if (0 !== n.length) { var q = this.qN(), p = new k.O(Infinity, 1); n.forEach(function (u) { u = u.xs.add(l.offset); q.OVa(u).lessThan(q.OVa(p)) && (p = u) }); return p }
                        }; h.prototype.fp = function (l) { var n = this.f6(l); if (n) { var q = n.H, p = q.id; l = l.Ja(q.Nf.add(n.Ge)); return { ha: p, offset: l } } }; h.prototype.reset = function () { }; h.prototype.TY = function () { }; h.prototype.pause = function (l) {
                            void 0 === l && (l = g.Cf); this.HO = null === l || void 0 === l ? void 0 : l.reduce(function (n, q) {
                                -1 === n.indexOf(q) && n.push(q);
                                return n
                            }, this.HO)
                        }; h.prototype.resume = function (l) { var n = this; void 0 === l && (l = g.Cf); l.forEach(function (q) { q = n.HO.indexOf(q); -1 !== q && n.HO.splice(q, 1) }) }; h.prototype.iya = function (l) { m.assert(this.qa); m.assert(l !== this); this.lJ(); var n = l.H3(this.qa, this); n && (l.pause(this.HO), l.Bma.apply(l, c.__spread(this.Ib)), this.Xla(this.qa)); return n }; h.prototype.qN = function () { return this.qZa() }; h.prototype.qZa = function () {
                            var l; m.assert(this.GN, "Attempted to get initial time before any branches were queued"); var n =
                                c.__read(this.Ib, 1)[0]; m.assert(n); return null !== (l = n.Mg) && void 0 !== l ? l : n.gs
                        }; h.prototype.No = function () { return 1 }; h.prototype.f6 = function (l) { if (this.GN) { var n = this.qZa(); return l.lessThan(n) ? this.Ib[0] : k.LXa(this.Ib, l) } }; h.prototype.bHb = function () {
                            var l, n = {}; try { for (var q = c.__values(this.Ib), p = q.next(); !p.done; p = q.next()) { var u = p.value, t = void 0, w = void 0, v = u.fD(); for (t in v) { var x = t, y = v[x]; y && (n[x] = (null !== (w = n[x]) && void 0 !== w ? w : 0) + y) } if (!u.Al) break } } catch (A) { var z = { error: A } } finally {
                                try {
                                    p && !p.done &&
                                        (l = q.return) && l.call(q)
                                } finally { if (z) throw z.error; }
                            } return n
                        }; c.__decorate([d.return.Xz()], h.prototype, "Si", null); c.__decorate([c.__param(0, d.Xz())], h.prototype, "wH", null); c.__decorate([d.return.Xz()], h.prototype, "fp", null); return h
                    }(); b.Sea = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.I_ = void 0; var c = a(2), f = a(19), k = a(220), m = a(17), g = a(906), d = a(9), h = a(907), l = a(911), n = c.__importDefault(a(6)), q = a(5), p = a(912), u = a(26), t = a(67), w = a(100), v = a(57), x = a(416), y = a(258), z = a(177), A = a(913),
                        B = a(88), E = c.__importDefault(a(143)), D = a(914), F = a(915), G = a(417), C = a(916), H = a(917), L = a(918), N = a(919), J = a(922), Q = a(924), K = a(925), I = a(926), M = a(927), O = a(928), P = a(930), S = a(931), U = a(932), Z = a(933), ia = a(934), ya = a(149).aE.Kla; r = function () {
                            function na(X, ra, T, R, ca, ua, aa, La, Ua, $a) {
                                var Za = this; this.Fy = X; this.AQa = ra; this.config = T; this.id = R; this.Kha = ua; this.Xnb = aa; this.Xk = La; this.Vwb = Ua; this.uG = "2.0"; this.rn = void 0; this.ed = k.Nj.CLOSED; this.Jga = !0; this.bM = !1; this.dza = this.QT = void 0; this.ASa = new f.di; this.$C = 0; this.yaa =
                                    !1; this.VD = function (cb) { var Wa; cb = Za.navigator.kf(cb.position.ha); if ((cb = Za.Boa(cb)) && Za.X.Xf) { var Pa = Za.X.Ai; null === (Wa = Za.X.Ix) || void 0 === Wa ? void 0 : Wa.tE({ H: Pa.H, get Waa() { return Pa.Qd.Ja(Pa.H.Nf) } }, cb, Za.Si.offset, !0, !1) } Za.Zp.start() }; this.MX = function () { Za.Xk("onDrmReady") }; this.console = new n.default.Console("ASEJS_PLAYGRAPH", "asejs", "" + this.id); this.Dh = new B.Tv({ AA: 10, Fq: this, source: "AsePlaygraph" }); this.y$a(X); this.Ib = new J.aKa; this.Ti = new Z.cKa(this.console); this.events = new f.EventEmitter;
                                this.spa = new C.PDa(this.config, d.O.Na(this.config.x8), { parent: this.m_a.bind(this) }, this.events, this.console); this.zaa = new l.eMa(this.console, this.events); this.bU = { EH: T.Lu || Infinity }; this.X = new p.Fea(this); this.ys = new t.fS(this.X.Ba, this.console, "playgraph"); this.Zs = new t.fS(new y.D1({ tk: !0, currentTime: function () { return d.O.Na(n.default.time.fa()) }, speed: 1 }), this.console, "wallclock"); this.Uf = new Q.DAa(this.console, T, ca, this.events, this, this.Zs); this.U3 = new M.vAa(this.ys, this.Zs, this.config, this.Di.bind(this),
                                    this.Ff, this.console); this.y9 = this.Uf.y9.bind(this.Uf); this.PX = this.Uf.PX.bind(this.Uf); this.H9 = this.Uf.H9.bind(this.Uf); this.baa = this.baa.bind(this); this.hP = new v.ifa(T); S.CUa({ Uf: this.Uf, Zs: this.Zs }, t.Pk.OJ(d.O.Na(this.config.OA)), function () { Za.X.Xf && Za.X.Ai && (Za.Uf.state.value === m.Jc.Tf || Za.Uf.state.value === m.Jc.wd) && Za.Er(Za.X.Ai) }, "buffering"); this.hP.qh(new z.Sv(this.Uf.Dh)); this.hP.qh(new A.wJa(this.MIb.bind(this))); this.hP.qh(new z.Sv(this.Dh)); this.hP.qh(new D.$Ja(this.Ib)); this.Hab = new U.dMa(this,
                                        this.console, $a); this.W2a = new F.lGa(this.Zs, this.console, this.events); this.Zp = new ia.eKa(this.B$.bind(this)); this.laa(w.QC(this.config), w.PC())
                            } Object.defineProperties(na.prototype, { state: { get: function () { return this.ed }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { zH: { get: function () { return !(this.X instanceof p.Fea) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { na: { get: function () { return this.Fy }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype,
                                { weight: { get: function () { return this.AQa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { tP: { get: function () { q.assert(this.rD, "AsePlaygraph.seekPosition accessed before seekStreaming"); return this.rn.position }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { N9a: { get: function () { q.assert(this.rD, "AsePlaygraph.seekTimestamp accessed before seekStreaming"); return this.Yz(this.tP).pm }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, {
                                    Ff: {
                                        get: function () { return this.Uf.state },
                                        enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(na.prototype, { wf: { get: function () { return this.Uf.wf }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { rD: { get: function () { return void 0 !== this.rn }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { Si: { get: function () { return this.X.Xf ? this.X.Si : this.tP }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { Vg: { get: function () { return this.X.Xf ? this.X.Vg : this.N9a }, enumerable: !1, configurable: !0 } });
                            Object.defineProperties(na.prototype, { kja: { get: function () { return this.Qmb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(na.prototype, { xB: { get: function () { return this.Krb }, enumerable: !1, configurable: !0 } }); na.prototype.open = function () { this.Jga = !0; this.events.emit("opening", { type: "opening" }); this.events.emit("openComplete", { type: "openComplete" }); if (this.ed !== k.Nj.CLOSED) return !1; this.ed = k.Nj.OPEN; return !0 }; na.prototype.Jb = function () {
                                this.Zs.Jb(); this.ys.Jb(); this.ed !== k.Nj.CLOSED && (this.rf(),
                                    this.Zp.Jb(), this.Uf.stop(), this.ed = k.Nj.CLOSED)
                            }; na.prototype.nE = function (X, ra) { var T = this; this.QT = X; this.dza = ra; ra = K.hXa(this.Ib, this.baa.bind(this)); X = ra.rwb; ra = ra.Yub; if (0 === X.length) return !0; if (1 !== X.length || 0 !== X[0]) return !1; var R = this.Si; X.forEach(function (ua) { return T.X.TY(ua) }); var ca = this.Yz(R).pm; ra.forEach(function (ua) { var aa = ua.jb; aa.nE(ua.fg, R.ha === aa.H.id ? ca : void 0, void 0 !== T.Ib.Joa(aa)) }); this.Uf.MTb(R, ra[0].fg); return !0 }; na.prototype.PC = function (X) { return w.PC(this.config, X) }; na.prototype.QC =
                                function (X) { return w.QC(this.config, X) }; na.prototype.ZV = function (X, ra) { var T = this.navigator.kf(X), R = this.navigator.kf(ra); return { ddb: T.CKb(ra), cU: ra !== X && this.Ib.has(ra) && this.Ib.Lz(ra)[0].zh, od: R.Nf.T, sO: this.Boa(T) } }; na.prototype.Di = function (X, ra, T, R) {
                                    var ca = this, ua; void 0 === R && (R = !0); if (!ra) throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented"); if (R && this.Ti.get(X)) T || this.Ti.set(X, ra); else {
                                        var aa = this.h6(X)[0], La = this.navigator.kf(X); this.Si.ha === X && aa && (null ===
                                            (ua = this.X.Ix) || void 0 === ua ? void 0 : ua.tE({ H: aa.H, get Waa() { return aa.Qd.Ja(aa.H.Nf) } }, ra, this.Si.offset, R, T)); R || (X = { offset: d.O.cb, ha: ra }, this.rn = { position: X, zh: !0, kcb: X }); T ? this.Ti.h_b(La.id, ra) : this.Ti.set(La.id, ra); this.Zp.start(); R && La.zx && 0 < La.zx.length && (q.assert(aa), aa.rya(La.zx) && this.h6(ra).forEach(function (Ua) { return ca.Lx(aa, Ua) })); R || this.Uf.T5a(this.tP)
                                    }
                                }; na.prototype.Lx = function (X, ra) { var T = this; X = X.ze.Ja(ra.H.Nf); ra.Lx(X); this.Ib.ZGb(ra).forEach(function (R) { return T.Lx(ra, R) }) }; na.prototype.Fi =
                                    function (X) { this.navigator.Fi(X); this.Zp.start() }; na.prototype.laa = function (X, ra) { this.Qmb = X; this.Krb = ra; this.state === k.Nj.oj && this.Xk("setStreamFilters") }; na.prototype.C_b = function (X) { this.Kha = X }; na.prototype.eB = function (X, ra) {
                                        var T = this, R, ca, ua, aa = G.edb(this.na, X); if (aa.JW) {
                                            var La = this.S$(X); if (void 0 === La) this.ah("Invalid seekPosition after sanitization to " + X.ha + ("(" + X.offset.T + "ms), reason: ") + aa.reason, null === (R = this.na.U[X.ha]) || void 0 === R ? void 0 : R.S); else if (void 0 === this.QT || void 0 === this.dza) this.ah("No track selectors available");
                                            else if (this.zH && this.X.GN || !G.D_a(null === (ca = this.rn) || void 0 === ca ? void 0 : ca.kcb, La)) { this.rD && (R = this.navigator.kf(this.Si.ha), null === (ua = this.X.Ix) || void 0 === ua ? void 0 : ua.tE({ H: R, Waa: R.duration }, La.ha, this.Si.offset, !1), this.Si.ha === X.ha ? this.Ti.axb(X.ha) : this.Ti.vka()); X = this.Ib.map(function (Ua) { return T.Kha(Ua.H.S).e8 }); try { this.rf(!0), this.$wb(), this.rn = { position: La, kcb: La, zh: !1, rVb: ra }, this.Uf.T5a(), this.ed = k.Nj.oj, this.Zp.start() } finally { X.forEach(function (Ua) { return Ua.release() }) } }
                                        } else this.ah("Invalid seekPosition to " +
                                            (null === X || void 0 === X ? void 0 : X.ha) + ("(" + X.offset.T + "ms), reason: ") + aa.reason, null === (La = this.na.U[X.ha]) || void 0 === La ? void 0 : La.S)
                                    }; na.prototype.rf = function (X) {
                                        var ra, T, R = this.VJb(); this.Ib.reset(); if (!X && (this.Ti.vka(), R.length)) try { for (var ca = c.__values(R), ua = ca.next(); !ua.done; ua = ca.next())ua.value.RXb() } catch (La) { var aa = { error: La } } finally { try { ua && !ua.done && (ra = ca.return) && ra.call(ca) } finally { if (aa) throw aa.error; } } this.ys.reset(); this.Zs.reset(); this.X.reset(); this.rn = void 0; this.U3.reset();
                                        null === (T = this.ASa) || void 0 === T ? void 0 : T.clear(); this.ed === k.Nj.oj && (this.ed = k.Nj.OPEN)
                                    }; na.prototype.h6 = function (X) { return this.Ib.Lz(X) }; na.prototype.zk = function (X) { this.Uf.zk(X); q.assert(this.X.QH, "Must have an appended branch on underflow"); this.U3.hya(this.X.QH, this.Vg); this.Xk("onUnderflow"); this.events.emit("underflow") }; na.prototype.qh = function (X) { this.hP.qh(X) }; na.prototype.JT = function (X) { this.qh(new x.aLa(X)); return this.Ptb(X) }; na.prototype.Ptb = function (X) {
                                        if (!this.X.iya(X)) return this.ah("player in use"),
                                            !1; this.X = X; this.ys.TRa(this.X.Ba); this.X.events.on("segmentPresenting", this.VD); this.X.events.on("drmReady", this.MX); return !0
                                    }; na.prototype.Yz = function (X) { var ra = X.offset, T = this.navigator.kf(X.ha); X = T.S; ra = T.Nf.add(ra); return { S: X, pm: ra } }; na.prototype.fp = function (X, ra) { var T = this.X.fp(X); if (void 0 !== T) return T; T = this.X.QH; return G.fp(X, { qa: this, cMb: T && { id: T.H.id, CZb: T.xs } }, ra) }; na.prototype.wH = function (X) { return this.X.wH(X) }; na.prototype.S$ = function (X) {
                                        var ra = this.na.U[X.ha]; if (void 0 !== ra) return null ===
                                            ra.Da || void 0 === ra.Da ? { ha: X.ha, offset: d.O.max(d.O.cb, X.offset) } : { ha: X.ha, offset: d.O.max(d.O.cb, d.O.min(X.offset, d.O.Na(ra.Da - ra.Aa))) }
                                    }; na.prototype.ym = function (X, ra) { X = "string" === typeof X ? { S: this.na.U[X].S, pm: d.O.Na(ra) } : X; return this.Xnb(X) }; na.prototype.A6 = function () { return O.AYa(this.Ib, this.z7.bind(this)) }; na.prototype.z7 = function (X) { X = this.Ib.Joa(X); return void 0 === X || X.Al && this.z7(X) }; na.prototype.z6 = function () { return this.bU.EH }; na.prototype.vHb = function (X) { return P.q_a(this.Ib, X) }; na.prototype.Mh =
                                        function (X) { var ra = this, T, R; this.Ib.wV(function (ca) { var ua = ca.gW(0), aa = ca.gW(1); if (ca.H.uv || !ra.Ib.wpa(ca) || !ca.Al) { if (!T || ua < T) T = ua; if (!R || aa < R) R = aa } return ca.Al }); return { UZ: T ? Math.max(T - X.T, 0) : 0, VZ: R ? Math.max(R - X.T, 0) : 0 } }; na.prototype.Ow = function () {
                                            var X, ra, T = this.rD ? this.Mh(this.Vg) : { UZ: 0, VZ: 0 }, R = E.default.instance().get(); return {
                                                totalabuflmsecs: T.UZ, totalvbuflmsecs: T.VZ, abuflbytes: 0, vbuflbytes: 0, currentBandwidth: null !== (ra = Number(0 < R.confidence) && (null === (X = R.Sa) || void 0 === X ? void 0 : X.Ha)) && void 0 !==
                                                    ra ? ra : 0
                                            }
                                        }; na.prototype.AN = function () {
                                            var X = this, ra; if (this.Pn()) return this.Dh.qw({ isStreamingFailureReported: !0 }), []; var T = this.Ib.size; this.Dh.qw({ branchCount: T }); if (!this.rD || 0 === T) return []; var R = this.Vg, ca = this.Si, ua = []; T = this.navigator.kf(this.Si.ha); var aa = T.duration, La = this.Ti.get(T.id) ? 1 : null !== (ra = T.dB) && void 0 !== ra ? ra : 1; ra = this.Ib.reduce(function (Ua, $a, Za) {
                                                var cb, Wa; try {
                                                    for (var Pa = c.__values($a.y6()), ha = Pa.next(); !ha.done; ha = Pa.next()) {
                                                        var pa = ha.value; if (!pa.hs()) {
                                                            var Fa = "p" + X.id + "-" + Za +
                                                                "-" + (null === (Wa = $a.Mg) || void 0 === Wa ? void 0 : Wa.T), Va = X.l_a(pa); Ua.push(X.JAb(pa, Va.T, Fa, aa.T, La, R.T, ca))
                                                        } !pa.CD() && X.Dh.enabled && ua.push({ segmentId: pa.ha, isDoneStreaming: pa.hs(), isNormalized: pa.zh(), needsHeaderRequest: pa.track.e9 })
                                                    }
                                                } catch (wb) { var ab = { error: wb } } finally { try { ha && !ha.done && (cb = Pa.return) && cb.call(Pa) } finally { if (ab) throw ab.error; } } return Ua
                                            }, []); this.Dh.qw({ nonStreamables: ua }); return ra
                                        }; na.prototype.l_a = function (X) {
                                            if (X.qia) return X.qia; var ra = this.m_a(X); return !ra || this.config.m5 && this.navigator.AKb(ra.jb.H,
                                                X.ha) ? X.rU : this.l_a(ra)
                                        }; na.prototype.m_a = function (X) { var ra; return null === (ra = this.Ib.Joa(X.jb)) || void 0 === ra ? void 0 : ra.uN(X.mediaType) }; na.prototype.OTb = function (X) { if (!this.zaa.Pn()) { var ra = void 0, T = this.X.Si; T && (ra = this.navigator.kf(T.ha).S); this.ah("BufferingStateTracker: Temporary failure while buffering", ra, "NFErr_MC_StreamingFailure", null === X || void 0 === X ? void 0 : X.th, null === X || void 0 === X ? void 0 : X.Uw, null === X || void 0 === X ? void 0 : X.zj) } }; na.prototype.ah = function (X, ra, T, R, ca, ua, aa) {
                                            void 0 === aa &&
                                                (aa = !1); "string" === typeof X ? this.zaa.ah(X, T, { networkErrorCode: R, httpCode: ca, nativeCode: ua, viewableId: ra, temporaryFailure: aa }) : this.zaa.pYb(X)
                                        }; na.prototype.a_ = function (X, ra) { ra = this.x6(ra); this.events.emit("logdata", { type: "logdata", target: X, fields: ra }) }; na.prototype.x6 = function (X) { this.W2a.sOb(X); var ra = this.hP.Kn(X); X === v.me.jq && (X = this.Ow(), ra.vbuflmsec = X.totalvbuflmsecs, ra.abuflmsec = X.totalabuflmsecs, ra.vbuflbytes = X.vbuflbytes, ra.abuflbytes = X.abuflbytes); return ra }; na.prototype.qcb = function (X) {
                                            this.bU =
                                                X; this.Xk("updateBudget")
                                        }; na.prototype.Pn = function () { return this.zaa.Pn() }; na.prototype.Fcb = function (X) { X !== this.weight && (this.AQa = X, this.events.emit("weightUpdated")) }; na.prototype.vB = function (X) {
                                            var ra, T, R = N.WSa(this.na, X), ca = R.cP, ua = R.qwb, aa = R.D3b; if ([R.Msb, ca, ua].every(function (zb) { return !zb.length })) return { ga: !0, reason: m.Uv.xkb }; if (0 === ua.length && 0 === aa.length && this.zH && this.X.Xf) return { ga: !1, reason: m.Uv.Gjb }; if (this.zH) {
                                                if (this.X.Ib.some(function (zb) { return -1 < ca.indexOf(zb.H.id) })) return {
                                                    ga: !1,
                                                    reason: m.Uv.zlb
                                                }; this.rD && !this.X.Xf && -1 < ca.indexOf(this.tP.ha) && (this.rn = void 0)
                                            } try { for (var La = c.__values(ua), Ua = La.next(); !Ua.done; Ua = La.next()) { var $a = Ua.value, Za = this.na.U[$a], cb = Za.Aa, Wa = Za.Da, Pa = Za.S, ha = X.U[$a], pa = ha.Da, Fa = ha.Aa, Va = ha.S; if (this.Si.ha === $a && pa !== Wa) { if (!pa) return { ga: !1, reason: m.Uv.Alb }; var ab = d.O.Na(pa - Fa); if (null === (T = this.Si.offset) || void 0 === T ? 0 : T.greaterThan(ab)) return { ga: !1, reason: m.Uv.Vdb } } if (cb !== Fa) return { ga: !1, reason: m.Uv.phb }; if (Pa !== Va) return { ga: !1, reason: m.Uv.qhb } } } catch (zb) {
                                                var wb =
                                                    { error: zb }
                                            } finally { try { Ua && !Ua.done && (ra = La.return) && ra.call(La) } finally { if (wb) throw wb.error; } } this.y$a(X); this.Zp.start(); return { ga: !0, reason: m.Uv.wkb }
                                        }; na.prototype.y$a = function (X) { this.Fy = X; this.navigator = new L.jKa(X); this.$Jb = N.fUa(this.navigator) }; na.prototype.Gta = function (X, ra) { this.L8a(X); X.aN.addListener("criticalNetworkError", this.y9); X.aN.addListener("temporaryNetworkError", this.PX); X.aN.addListener("updatingLastSuccessEvent", this.H9); this.ed === k.Nj.oj && ra && this.I9a() }; na.prototype.Hta =
                                            function (X) { 0 === this.Ib.filter(function (ra) { return ra.HN && ra.P === X }).length && this.L8a(X) }; na.prototype.L8a = function (X) { X.aN.removeListener("criticalNetworkError", this.y9); X.aN.removeListener("temporaryNetworkError", this.PX); X.aN.removeListener("updatingLastSuccessEvent", this.H9) }; na.prototype.GQa = function (X) {
                                                var ra; q.assert(X.zh, "expected branch to be normalized on addBranchToPlayer"); this.X.GN || (null === (ra = this.rn) || void 0 === ra ? 0 : ra.zh) || this.wFb(X); this.Uf.gba(X.fg); this.X.Bma(X); this.U3.hya(X,
                                                    this.Vg)
                                            }; na.prototype.wFb = function (X) { q.assert(X.Zc, "Normalized branch should have a defined content start timestamp"); q.assert(this.rn, "AsePlaygraph should have a seek position on first branch normalization"); q.assert(!this.rn.zh, "Seek position should not already be normalized on first branch normalization"); this.rn = c.__assign(c.__assign({}, this.rn), { position: { ha: X.H.id, offset: X.Zc.Ja(X.H.Nf) }, zh: !0 }); this.Uf.c_b(this.rn.position, X.fg.filter(function (ra) { return 0 === ra.mediaType })[0]) }; na.prototype.$wb =
                                                function () { var X; this.U3.reset(); this.X.EG(); this.rn = void 0; null === (X = this.ASa) || void 0 === X ? void 0 : X.clear() }; na.prototype.JAb = function (X, ra, T, R, ca, ua, aa) {
                                                    var La = this, Ua, $a, Za = null !== ($a = null === (Ua = X.jb.Mg) || void 0 === Ua ? void 0 : Ua.T) && void 0 !== $a ? $a : X.jb.gs.T; Ua = X.xE.T; $a = this.Ti.get(X.ha) ? 1 : X.jb.H.dB; return {
                                                        identifier: X.ha, mediaType: X.mediaType, $g: X.$g, Ff: this.Ff.value, MA: ra, Ps: Ua, Or: ua, RXa: X.jN.T, Hua: aa.offset.T, Gua: R, pY: ca, dB: $a, Sr: X.jb.aH.T, Iab: Math.max(Ua - Za, 0), CD: X.CD(), hs: X.hs(), groupId: T, V1a: function (cb,
                                                            Wa) { cb = La.Hab.Yvb(cb, X.mediaType, 1 > Wa || !La.z7(X.jb)); 1 === Wa && "global" === m.pva(cb.reason) && La.Uf.hTb(X.mediaType, La.Mh(La.Vg)); return cb }, Z1a: function () {
                                                                var cb, Wa, Pa, ha = X.mediaType, pa = La.spa.HZb(La.Ff.value, La.Vg, X.xE, La.X.playbackRate, X, 0 === ha ? La.kja : La.xB, La.bM), Fa = pa.stream, Va = pa.LP, ab = pa.JZb, wb = pa.Su; pa = pa.reason; if (!Fa) return { Cm: !1, reason: pa || "selectLocationsAndStream" }; if (La.Ff.value === m.Jc.oj && X.jb && X.jb.P.Tw && !X.jb.P.iX && !La.X.Uo(X.jb.P.S)) {
                                                                    pa = X.xE.T - La.Vg.T; if (!X.jb.P.mf.Je && pa > La.config.esa) return {
                                                                        Cm: !1,
                                                                        reason: "maxBufferingCompleteBufferInMs"
                                                                    }; if (!Fa.gl && 1 === Fa.mediaType && pa >= La.config.s8) return { Cm: !1, reason: "maxFastPlayBufferInMs" }
                                                                } pa = 1; if (null === (cb = X.jb) || void 0 === cb ? 0 : cb.fg.every(function (zb) { return 0 === zb.mediaType })) pa = 0; La.Uf.qg && ha === pa && La.Uf.q_b(X.Jj.xP, Fa.bitrate, ab); La.BP(Va); cb = null === (Wa = X.jb.$q) || void 0 === Wa ? void 0 : Wa.T; Wa = X.Zbb(Fa, wb); Wa.Cm && (La.Jga && (La.dm("firstDriveStreaming"), La.Jga = !1), 0 < La.$C && (Fa = null === (Pa = X.jb.$q) || void 0 === Pa ? void 0 : Pa.T, cb && Fa && (La.$C -= cb - Fa, 0 >= La.$C &&
                                                                    La.I9a()))); return Wa
                                                            }
                                                    }
                                                }; na.prototype.BP = function (X) { var ra = this; X.forEach(function (T) { T.P.i_b(T, function () { q.assert(ra.rD, "Speculative header callback after streaming is cancelled"); var R = ra.Vg.T, ca = R + ra.config.qX; return { $g: [], Ff: ra.Uf.state.value, MA: ca, Ps: ca, Or: R } }) }) }; na.prototype.I9a = function () { var X = this; this.Zp.sba(ia.cF.Xx, function () { return X.Zp.start() }) }; na.prototype.B$ = function () {
                                                    var X = this; if (this.ed === k.Nj.oj) {
                                                        var ra = this.Si, T = this.navigator.kf(ra.ha), R = this.Ib.OJb(), ca = this.uGb(ra.ha).map(function (ua) { return ua.H.id });
                                                        T = H.B$(this.console, this.$Jb, T, R, this.Ti, ca, d.O.Na(this.config.Vub), this.config.Ksa, d.O.Na(this.config.Cja)); R = T.a9a; this.$C = T.$C || 0; this.Ib.P3b(R, function (ua, aa) { var La = X.navigator.kf(ua); ua = ua === ra.ha ? La.Nf.add(ra.offset) : La.Nf; return X.s3b(La, ua, aa) }).cP.forEach(function (ua) { ua.rf(); X.Ti.clear(ua.H.id); X.X.L_a(ua) || X.Zp.sba(ia.cF.Xx, function () { return X.sha(ua.H.id) }) }); this.y8a(); this.mTa(); this.Zp.sba(ia.cF.Xx, function () { X.Xk("reevaluateBranches"); X.Zp.DA(ia.cF.ZR) })
                                                    }
                                                }; na.prototype.uGb = function (X) {
                                                    var ra =
                                                        !1; return this.X.Ib.filter(function (T) { T.H.id === X && (ra = !0); return ra })
                                                }; na.prototype.VJb = function () { return u.LRa(this.Ib.filter(function (X) { return X.HN }).map(function (X) { return X.P })) }; na.prototype.y8a = function () { if (this.ed === k.Nj.oj) { if (!this.X.QH) { var X = c.__read(this.Ib.Lz(this.tP.ha), 1)[0]; (null === X || void 0 === X ? 0 : X.zh) && this.GQa(X) } if (this.X.QH) for (; ;) { X = this.Boa(this.X.QH.H); if (!X) break; X = c.__read(this.Ib.Lz(X), 1)[0]; if (null === X || void 0 === X || !X.zh) break; else if (this.X.L_a(X)) break; this.GQa(X) } } };
                            na.prototype.Boa = function (X) { var ra = this.Ti.get(X.id); if (void 0 !== ra) return ra; X = this.navigator.mHb(X); if (1 === X.length) return X[0].id }; na.prototype.mTa = function () { var X = 0 !== this.pGb(); X || this.yaa ? X && this.yaa && (this.yaa = !1) : (this.Uf.qg && (X = this.Mh(this.Vg), this.Uf.Se("complete", X.UZ, X.VZ)), this.Ppb(), this.yaa = !0) }; na.prototype.pGb = function () { return this.Ib.filter(function (X) { return !X.Al }).length }; na.prototype.Er = function (X) {
                                this.z7(X) && this.Uf.pka(this.Vg, this.X.playbackRate, X, {
                                    oka: this.spa.oka.bind(this.spa,
                                        this.Hab)
                                })
                            }; na.prototype.YSb = function (X, ra) { var T = this; if (ra.didNormalizeSegment) { var R = I.zLa.UJb(X); q.assert(R, "Segment should be normalized"); Promise.resolve().then(function () { return T.events.emit("segmentNormalized", { type: "segmentNormalized", segmentId: X.H.id, normalizedStart: ra.segmentContentStart, normalizedEnd: ra.branchContentEnd, viewableContentEnd: R.l5b, viewableEarliestContentEnd: R.n5b }) }) } Promise.resolve().then(function () { T.y8a() }); this.Xk("branchNormalized") }; na.prototype.ZSb = function () { this.mTa() };
                            na.prototype.XSb = function () { this.Zp.start() }; na.prototype.s3b = function (X, ra, T) {
                                var R = this, ca, ua, aa; if (this.Vwb(X, ra)) throw Error("Not implemented"); var La = new g.yAa(X.S, this.Kha, function (Ua, $a, Za) { R.state !== k.Nj.CLOSED && (R.Gta($a, Za), R.Zp.sba(ia.cF.ZR, function () { R.K2(Ua.H.id, $a, Ua.Ge) })) }, this.Hta.bind(this)); X = new h.uAa(this.config, this.console, this.events, X, this.baa, ra, null !== (aa = null === (ua = null === (ca = this.rn) || void 0 === ca ? void 0 : ca.rVb) || void 0 === ua ? void 0 : ua.Ja(this.N9a)) && void 0 !== aa ? aa : d.O.cb,
                                    function () { return R.Vg.T }, T, this.Ff, this.ys, La); X.events.on("needsRequest", this.Xk.bind(this, "branchNeedsHeader")); X.events.on("branchNormalized", this.YSb.bind(this, X)); X.events.on("lastRequestIssued", this.XSb.bind(this, X)); X.events.on("branchStreamingComplete", this.ZSb.bind(this, X)); X.events.on("checkBufferingProgress", this.Er.bind(this, X)); void 0 === T && (this.dm("createDlTracksStart"), X.events.once("requestQueuesCreated", function () { R.dm("createDlTracksEnd") })); X.Ab(); return X
                            }; na.prototype.MIb = function (X) { if (this.X.Xf) return this.X.Ai.mb(X) };
                            na.prototype.baa = function (X) { return [[0, this.QT, "audio_tracks"], [1, this.dza, "video_tracks"]].map(function (ra) { var T = c.__read(ra, 3), R = T[1]; ra = T[2]; q.assert(R, "Expected mediaType " + T[0] + " track selector to be defined"); T = R.Is(X.pa, X.pa[ra]); if (void 0 !== T) return X.getTrackById(X.pa[ra][T].bQ) }).filter(u.q9) }; na.prototype.K2 = function (X, ra, T) { X = { type: "segmentStarting", segmentId: X, contentOffset: T.T, maxBitrates: { audio: ra.cx[0], video: ra.cx[1] } }; this.events.emit(X.type, X) }; na.prototype.sha = function (X) {
                                X = {
                                    type: "segmentAborted",
                                    segmentId: X
                                }; this.events.emit(X.type, X)
                            }; na.prototype.Ppb = function () { var X = { type: "streamerEnd", time: n.default.time.fa() }; this.events.emit(X.type, X) }; na.prototype.dm = function (X) { X = { type: "startEvent", event: X, time: n.default.time.fa() }; this.events.emit(X.type, X) }; c.__decorate([c.__param(0, ya.Xz())], na.prototype, "eB", null); c.__decorate([ya.return.mUa(), c.__param(0, ya.Xz())], na.prototype, "Yz", null); c.__decorate([ya.return.Xz()], na.prototype, "fp", null); c.__decorate([c.__param(0, ya.Xz())], na.prototype, "wH",
                                null); c.__decorate([ya.return.Xz(), c.__param(0, ya.Xz())], na.prototype, "S$", null); c.__decorate([c.__param(0, ya.mUa()), c.__param(0, ya.ha())], na.prototype, "ym", null); c.__decorate([B.Wb({ methodName: "getStreamables", al: !0 })], na.prototype, "AN", null); return na
                        }(); b.I_ = r
                }, function (r, b, a) {
                    function c(d, h, l, n, q) { var p, u; l = null !== (p = h.se) && void 0 !== p ? p : h.track.ym(d, l.T, void 0, q); d = null !== (u = h.Jf) && void 0 !== u ? u : h.track.Hz(d, null === n || void 0 === n ? void 0 : n.T, h.dh); return [!h.zh(), l, d] } function f(d, h) {
                        for (var l = [],
                            n = 0, q = d[n], p = null === q || void 0 === q ? void 0 : q[0], u = null === q || void 0 === q ? void 0 : q[1], t = h.Jf.index, w = h.track.pp, v = 0, x = h.se.Zc, y = h.se.Qd.T > q[0], z = y, A = h.se.index; A <= t; ++A) { var B = !1; if (q) { var E = w.get(A); y && (E.Zc.T >= u ? (y = !1, ++n >= d.length ? u = p = q = void 0 : (q = d[n], p = null === q || void 0 === q ? void 0 : q[0], u = null === q || void 0 === q ? void 0 : q[1])) : z ? z = !1 : (l.push(new m.v1(v, x, E.Zc)), x = E.Zc, B = !0)); !y && q && E.Qd.T > p && (y = !0, B = E.Zc, (E = h.track.NN.el(A).KXa(p)) && 0 !== E.nl && (B = g.O.Na(E.Ud)), l.push(new m.v1(v, x, B)), x = B, B = !0) } B && ++v } l.push(new m.v1(v,
                                x, h.Jf.Qd)); return l
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.QPb = b.D3a = b.k5a = b.i5a = b.Mva = void 0; var k = a(2), m = a(415), g = a(9); b.Mva = function (d, h, l) { var n, q, p = h.get(0); h = h.get(1); h = null === h || void 0 === h ? void 0 : h.track.Hz(d, null === l || void 0 === l ? void 0 : l.T, h.dh); return [null === p || void 0 === p ? void 0 : p.track.Hz(d, null !== (q = null === (n = null === h || void 0 === h ? void 0 : h.Qd) || void 0 === n ? void 0 : n.T) && void 0 !== q ? q : null === l || void 0 === l ? void 0 : l.T, p.dh), h] }; b.i5a = function (d, h, l, n, q) {
                        var p = h.get(0); h = h.get(1);
                        var u = k.__read(h ? c(d, h, l, n, q) : [!1], 3), t = u[0], w = u[1]; u = u[2]; n = k.__read(p ? c(d, p, t && void 0 !== (null === w || void 0 === w ? void 0 : w.Z) ? g.O.Na(w.Z) : l, void 0 !== (null === u || void 0 === u ? void 0 : u.Ka) ? g.O.Na(null === u || void 0 === u ? void 0 : u.Ka) : n, q) : [!1], 3); d = n[0]; l = n[1]; n = n[2]; d && (null === p || void 0 === p ? void 0 : p.v7(l, n)); t && (null === h || void 0 === h ? void 0 : h.v7(w, u)); return [d, t]
                    }; b.k5a = function (d, h, l) { return h.track.ym(d, l.T, void 0, !0).Zc }; b.D3a = function (d, h, l) {
                        var n = h.H; if (!n.oq || 0 === n.oq.length) return []; d = n.oq.map(function (q) {
                            return [n.Aa +
                                q[0], n.Aa + q[1]]
                        }); return f(d, l.rY)
                    }; b.QPb = f
                }, function (r, b, a) {
                    function c(g) { return "immediate" === g } Object.defineProperties(b, { __esModule: { value: !0 } }); b.oKa = b.v1 = b.w1a = void 0; var f = a(2), k = a(9), m = a(5); b.w1a = c; r = function () { function g(d, h, l) { this.region = d; this.Zc = h; this.Qd = l } g.prototype.toJSON = function () { return { region: this.region, Z: this.Zc.BI, Ka: this.Qd.BI } }; return g }(); b.v1 = r; r = function () {
                        function g(d, h, l) {
                            var n = this, q, p; this.id = d; this.H = h; this.nPa = !1; this.DN = function (u) {
                                var t, w, v, x; return (null === (t = n.zx) ||
                                    void 0 === t ? 0 : t.length) ? "immediate" : null !== (x = null === (v = null === (w = n.H.next) || void 0 === w ? void 0 : w[u]) || void 0 === v ? void 0 : v.de) && void 0 !== x ? x : n.de
                            }; this.oT = new k.O(h.Aa, 1E3); this.ES = void 0 !== h.Da && null !== h.Da ? new k.O(h.Da, 1E3) : k.O.wD; this.zrb = null !== (p = null !== (q = h.de) && void 0 !== q ? q : l) && void 0 !== p ? p : "lazy"; this.b1a(); m.assert(this.oT.lessThan(this.ES), "PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)")
                        } Object.defineProperties(g.prototype, {
                            S: {
                                get: function () { return this.H.S }, enumerable: !1,
                                configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { Eq: { get: function () { return this.nPa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Nf: { get: function () { return this.oT }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Yi: { get: function () { return this.ES }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { duration: { get: function () { return this.ES.Ja(this.oT) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            Z: {
                                get: function () { return this.oT.T },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { Ka: { get: function () { return this.ES.T }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { dE: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { uv: { get: function () { return this.HA.length ? !this.H.Jd && 0 === this.uO.length : !0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { SRb: { get: function () { return this.gC }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype,
                            { HA: { get: function () { var d, h; return Object.keys(null !== (h = null === (d = this.H) || void 0 === d ? void 0 : d.next) && void 0 !== h ? h : {}) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { uO: { get: function () { var d = this; return this.HA.filter(function (h) { return !!d.gC[h] }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Oxa: { get: function () { var d; return null !== (d = this.kQa) && void 0 !== d ? d : this.kQa = this.Rvb() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype,
                                { Baa: { get: function () { var d; return null !== (d = this.lQa) && void 0 !== d ? d : this.lQa = this.Svb() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { dB: { get: function () { return this.H.weight ? this.H.weight / (this.H.weight + this.Baa) : 1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { de: { get: function () { var d; return (null === (d = this.zx) || void 0 === d ? 0 : d.length) ? "immediate" : this.zrb }, enumerable: !1, configurable: !0 } }); g.prototype.normalize = function (d, h, l) {
                                    this.oT = d; this.ES = h; this.zx =
                                        l; this.nPa = !0; this.Bdb()
                                }; g.prototype.UYa = function () { var d; return this.uO.length ? null !== (d = this.uO.map(this.DN).reduce(function (h, l) { return h === l ? l : void 0 })) && void 0 !== d ? d : this.de : this.de }; g.prototype.Fi = function (d) { this.b1a(d) }; g.prototype.Hvb = function (d) {
                                    if (this.Oxa) { var h = (this.gC[d] || 0) / this.Oxa; if (void 0 === this.H.weight || 0 === this.Baa) return { Xe: h }; var l = this.dB; return 1 !== l && c(this.DN(d)) && this.gC[d] ? { Xe: l * h, uD: this.gC[d] / this.Baa * (1 - l) } : { Xe: l * h } } return {
                                        Xe: (null === (h = this.H.next) || void 0 === h ?
                                            0 : h[d]) ? 1 / this.HA.length : 0
                                    }
                                }; g.prototype.CKb = function (d) { return -1 < this.HA.indexOf(d) }; g.prototype.ytb = function () { return this.Eq ? f.__assign(f.__assign({}, this.H), { Aa: this.Nf.T, Da: this.Yi.T }) : this.H }; g.prototype.b1a = function (d) { if (void 0 === this.H.next) this.gC = {}; else { var h = this.H.next; this.gC = Object.keys(h).reduce(function (l, n) { var q = d ? d[n] || 0 : h[n].weight; void 0 !== q && null !== q && 0 <= q && (l[n] = q); return l }, {}) } this.Bdb() }; g.prototype.Rvb = function () {
                                    var d = this; return this.uO.reduce(function (h, l) {
                                        return h +
                                            d.gC[l]
                                    }, 0)
                                }; g.prototype.Svb = function () { var d = this; return this.uO.filter(function (h) { return c(d.DN(h)) }).reduce(function (h, l) { return h + d.gC[l] }, 0) }; g.prototype.Bdb = function () { this.lQa = this.kQa = void 0 }; return g
                    }(); b.oKa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.BYa = b.UZa = b.Qna = b.aLa = void 0; var c = a(2), f = a(21), k = a(57); r = function () {
                        function m(g) { this.Ia = g } Object.defineProperties(m.prototype, { si: { get: function () { return "queue-audit" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype,
                            { jx: { get: function () { return "qaudit" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype, { enabled: { get: function () { return f.ia }, enumerable: !1, configurable: !0 } }); m.prototype.Kn = function (g) {
                                var d; g = g.Zi; if (g === k.me.jq || g === k.me.io) if (g = this.Ia.Nna()) {
                                    var h = {}; try { for (var l = c.__values(g.lVb), n = l.next(); !n.done; n = l.next()) { var q = n.value; h[q.mediaType] = this.KPb(q) } } catch (u) { var p = { error: u } } finally { try { n && !n.done && (d = l.return) && d.call(l) } finally { if (p) throw p.error; } } return {
                                        branchQueue: b.BYa(g.VWb),
                                        playerIterator: h, driftStats: this.Ia.jza
                                    }
                                }
                            }; m.prototype.KPb = function (g) { return null === g || void 0 === g ? void 0 : g.rZa() }; return m
                    }(); b.aLa = r; b.Qna = function (m) { if (m) { var g = m.H, d = {}; m.sq().forEach(function (h) { d[h.mediaType] = b.UZa(h) }); return { sId: null === g || void 0 === g ? void 0 : g.id, cancelled: m.Kh, RM: d } } return m }; b.UZa = function (m) {
                        var g, d, h; if (m && m.Ua) return c.__assign(c.__assign({}, m.Ua.Loa()), {
                            unsentRequests: m.Ua.Us, lastFragmentContentEndPts: null === (g = m.Jf) || void 0 === g ? void 0 : g.Lc, trackProfile: null === (h = null ===
                                (d = m.track) || void 0 === d ? void 0 : d.Ju) || void 0 === h ? void 0 : h.profile
                        })
                    }; b.BYa = function (m) { return m.map(function (g) { return b.Qna(g) }) }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.uka = b.fp = b.D_a = b.edb = void 0; var c = a(9), f = a(5), k = a(21); b.edb = function (g, d) {
                        g = g.U[d.ha]; if (void 0 === g) return { JW: !1, reason: "Segment " + d.ha + " was not found" }; if (void 0 === g.Da || null === g.Da) throw Error("Cannot validate graph position without endTimeMs"); g = g.Da - g.Aa; return 0 > d.offset.T ? {
                            JW: !1, reason: "Offset " +
                                d.offset.T + " was negative"
                        } : d.offset.T >= g ? { JW: !1, reason: "Offset " + d.offset.T + " was greater than segment duration " + g } : { JW: !0 }
                    }; var m = c.O.Na(100); b.D_a = function (g, d) { if (g === d) return !0; if (g && d && g.ha === d.ha) { if (g.offset === d.offset) return !0; g = c.O.abs(g.offset.Ja(d.offset)); if (m.greaterThan(g)) return !0 } return !1 }; b.fp = function (g, d, h) {
                        var l, n, q = d.qa; d = d.cMb; void 0 === h && (h = {}); var p = q.na; q = q.navigator; p = q.kf(null !== (l = null === d || void 0 === d ? void 0 : d.id) && void 0 !== l ? l : p.ue); l = null !== (n = null === d || void 0 === d ?
                            void 0 : d.CZb) && void 0 !== n ? n : p.Nf; if (l.greaterThan(g)) return h.fab ? { offset: g.Ja(l), ha: p.id } : void 0; d = q.HNb(p); for (q = d.next(); !q.done;) { n = q.value; q = n.Yi.Ja(n.Nf); p = l; l = p.add(q); if (l.greaterThan(g)) return g = g.Ja(p), k.ia && f.assert(g.Zr(c.O.cb) && g.lessThan(q)), { ha: n.id, offset: g }; q = d.next(); if (q.done && h.gab) return { ha: n.id, offset: g.Ja(p) } }
                    }; b.uka = function (g, d) {
                        d = d.U[g.ha]; return g.offset.lessThan(c.O.cb) ? { m4: c.O.cb, Ko: g.offset } : d.Da && (d = c.O.Na(d.Da - d.Aa), d.isFinite() && g.offset.greaterThan(d)) ? { m4: d, Ko: g.offset.Ja(d) } :
                            { m4: g.offset, Ko: c.O.cb }
                    }
                }, function (r, b) {
                    function a(g) { return void 0 !== (null === g || void 0 === g ? void 0 : g.vNa) } function c(g) { return (a(g) ? g : Object.defineProperties(g, { vNa: { value: {}, configurable: !1, enumerable: !1 } })).vNa } var f; Object.defineProperties(b, { __esModule: { value: !0 } }); b.cfa = void 0; var k = null !== (f = Number.MAX_SAFE_INTEGER) && void 0 !== f ? f : 1E9, m = Date.now() % k; r = function () {
                        function g() { this.id = m = (m + 1) % k } g.prototype.get = function (d) { return a(d) ? c(d)[this.id] : void 0 }; g.prototype.set = function (d, h) {
                            c(d)[this.id] =
                                h; return this
                        }; g.prototype.has = function (d) { return a(d) && void 0 !== c(d)[this.id] }; g.prototype.delete = function (d) { if (!this.has(d)) return !1; c(d)[this.id] = void 0; return !0 }; return g
                    }(); b.cfa = r
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.KR = void 0; r = function () {
                        function a() { this[0] = 0; this[1] = 0 } Object.defineProperties(a.prototype, { total: { get: function () { return this[0] + this[1] }, enumerable: !1, configurable: !0 } }); a.prototype.add = function (c) {
                            this[0] += Math.max(c[0] || 0, 0); this[1] += Math.max(c[1] ||
                                0, 0)
                        }; a.prototype.yia = function (c, f) { this[c] += Math.max(f || 0, 0) }; return a
                    }(); b.KR = r; 0; 1
                }, function (r, b, a) {
                    function c() { return f.__awaiter(this, void 0, void 0, function () { var d; return f.__generator(this, function (h) { switch (h.label) { case 0: return [4, Promise.resolve().then(function () { return f.__importStar(a(256)) })]; case 1: return d = h.Ac().rH, [2, d()] } }) }) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.$V = void 0; var f = a(2), k = a(944), m = f.__importDefault(a(6)), g; b.$V = function (d) {
                        var h = new m.default.Console("ASEJS",
                            "media|asejs"); g || (g = new k.wKa(function () { return c() }, d, h)); return g
                    }
                }, function (r, b, a) {
                    function c(d, h) { return h && !Array.isArray(h) && -1 === h.jXa.indexOf(d) ? h.rules : [] } Object.defineProperties(b, { __esModule: { value: !0 } }); b.fla = void 0; var f = a(2); r = a(19); var k = a(176), m = a(411), g = function (d) {
                        function h(l, n) { var q = d.call(this) || this; q.JPb = l; q.e1a = n; q.Ega = {}; return q } f.__extends(h, d); h.prototype.emit = function (l) {
                            for (var n = [], q = 1; q < arguments.length; q++)n[q - 1] = arguments[q]; return d.prototype.emit.call(this, l,
                                this.JPb(l, n[0]))
                        }; h.prototype.subscribe = function (l) { var n = this; if (!this.listeners(l).length) { var q = function () { for (var p = [], u = 0; u < arguments.length; u++)p[u] = arguments[u]; return n.emit.apply(n, f.__spread([l], p)) }; this.Ega[l] = q; this.e1a.addListener(l, q) } }; h.prototype.addListener = function (l, n) { this.subscribe(l); d.prototype.addListener.call(this, l, n); return this }; h.prototype.removeListener = function (l, n) {
                            d.prototype.removeListener.call(this, l, n); this.listeners(l).length || (this.e1a.removeListener(l, this.Ega[l]),
                                delete this.Ega[l]); return this
                        }; h.prototype.on = function (l, n) { this.addListener(l, n); return this }; h.prototype.IA = function (l, n) { this.removeListener(l, n); return this }; h.prototype.once = function (l, n) { function q() { for (var u = [], t = 0; t < arguments.length; t++)u[t] = arguments[t]; p.removeListener(l, q); n.apply(void 0, f.__spread(u)) } var p = this; this.addListener(l, q); return this }; h.prototype.mY = function (l, n) { this.subscribe(l); d.prototype.mY.call(this, l, n); return this }; h.prototype.B7a = function (l, n) {
                            function q() {
                                for (var u =
                                    [], t = 0; t < arguments.length; t++)u[t] = arguments[t]; p.removeListener(l, q); n.apply(void 0, f.__spread(u))
                            } var p = this; this.mY(l, q); return this
                        }; return h
                    }(r.EventEmitter); b.fla = function (d, h, l, n) { return new g(function (q, p) { var u, t = c(q, n["*"]); q = null !== (u = n[q]) && void 0 !== u ? u : []; u = t.concat(q).filter(function (w) { return "object" === typeof w }); t = f.__read(q.filter(function (w) { return "function" === typeof w }), 1)[0]; return u.length ? m.Q$(d, p, l, { rules: u, fo: !1, Oia: !0 }, k.Kv.Aya, t) : p }, h) }
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.IMa = "TransitionLoggerSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.OIa = "PboGenerateScreenshotsCommandSymbol" }, function (r) { r.exports = function (b) { return "[object Object]" === Object.prototype.toString.call(b) } }, function (r, b, a) { b = a(53); var c = a(426), f = a(982), k = a(424), m = a(263), g = a(987), d = a(429); a = b(c(["filter"], g, function (h, l) { return k(l) ? m(function (n, q) { h(l[q]) && (n[q] = l[q]); return n }, {}, d(l)) : f(h, l) })); r.exports = a }, function (r, b, a) {
                    var c = a(427), f = a(981);
                    r.exports = function (k, m, g) { return function () { if (0 === arguments.length) return g(); var d = Array.prototype.slice.call(arguments, 0), h = d.pop(); if (!c(h)) { for (var l = 0; l < k.length;) { if ("function" === typeof h[k[l]]) return h[k[l]].apply(h, d); l += 1 } if (f(h)) return m.apply(null, d)(h) } return g.apply(this, arguments) } }
                }, function (r) { r.exports = Array.isArray || function (b) { return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b) } }, function (r) {
                    r.exports = {
                        Ab: function () { return this.w_["@@transducer/init"]() },
                        result: function (b) { return this.w_["@@transducer/result"](b) }
                    }
                }, function (r, b, a) {
                    b = a(129); var c = a(262), f = a(988), k = !{ toString: null }.propertyIsEnumerable("toString"), m = "constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" "), g = function () { return arguments.propertyIsEnumerable("length") }(); a = b("function" !== typeof Object.keys || g ? function (d) {
                        if (Object(d) !== d) return []; var h = [], l = g && f(d); for (n in d) !c(n, d) || l && "length" === n || (h[h.length] = n); if (k) for (l = m.length -
                            1; 0 <= l;) { var n = m[l], q; if (q = c(n, d)) { a: { for (q = 0; q < h.length;) { if (h[q] === n) { q = !0; break a } q += 1 } q = !1 } q = !q } q && (h[h.length] = n); --l } return h
                    } : function (d) { return Object(d) !== d ? [] : Object.keys(d) }); r.exports = a
                }, function (r) { r.exports = function (b, a) { for (var c = 0, f = a.length, k = Array(f); c < f;)k[c] = b(a[c]), c += 1; return k } }, function (r, b, a) { var c = a(264), f = a(129); b = a(53); var k = a(991); a = b(function (m, g) { return 1 === m ? f(g) : c(m, k(m, [], g)) }); r.exports = a }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.$Da = "HLSPlaylistBuilderSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.YJa = "PlayerPlaydataMonitorSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.vfa = "StreamChangeDetectorSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.FR = "HLSLogblobMonitorFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.nEa = "HeaderFetcherSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.xEa = "HttpDispatcherSymbol" }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.rEa = "HLSHeaderParserFactorySymbol"
                }, function (r) { var b = function () { var a = new Uint32Array([0, 0]); a.set(new Uint32Array([16843009]), 1); return 0 !== a[0] }() ? function (a, c, f) { (new Uint8Array(a.buffer, a.byteOffset, a.byteLength)).set(new Uint8Array(c.buffer, c.byteOffset, c.byteLength), f * a.byteLength / a.length) } : function (a, c, f) { a.set(c, f) }; r.exports = { from: function (a, c, f, k) { a = new a(c.length); for (var m = "function" === typeof f, g = 0; g < c.length; ++g)a[g] = m ? f.call(k, c[g], g, c) : c[g]; return a }, set: b } },
                function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { var m = null !== f && f.apply(this, arguments) || this; m.Kz = 1536; return m } c.__extends(k, f); k.Ra = !0; return k }(a(180).default); b.default = r; a = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "ac-3"; return k }(r); b.Cba = a; r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "ec-3"; return k }(r); b.Oca = r }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); var c = a(23), f = a(107); r = a(37); var k = f.oF; r = function (m) {
                            function g() { return null !== m && m.apply(this, arguments) || this } c.__extends(g, m); g.prototype.parse = function () {
                                this.zc(); this.fileSize = this.u.Vd(); this.W = this.u.Vd(); this.duration = this.u.Vd(!1, !0); this.qta = this.u.Vd(); this.u.Vd(); this.uta = this.u.Vd(); this.Ysa = this.u.Ca(); this.rta = this.u.Vd(); this.pna = this.u.Ca(); this.u.XA(); this.We = { moof: { offset: this.qta }, sidx: { offset: this.rta, size: this.pna } }; this.We[f.NR] = {
                                    offset: this.uta,
                                    size: this.Ysa
                                }; this.u.offset - this.startOffset <= this.length - 24 && (this.tta = this.u.Vd(), this.Ssa = this.u.Ca(), this.sta = this.u.Vd(), this.Rsa = this.u.Ca(), this.We[f.ey] = { offset: this.tta, size: this.Ssa }, this.We[f.dy] = { offset: this.sta, size: this.Rsa }); return !0
                            }; g.ac = k; g.Ra = !1; return g
                        }(r.Ec); b.default = r
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = a(107); a = a(37); var f = r.pF; a = function (k) {
                        function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.parse =
                            function () { this.zc(); 1 <= this.version && this.u.XA(); var g = this.u.Ca(); this.We = {}; for (var d = this.startOffset + this.length, h = 0; h < g; ++h) { var l = this.u.Pl(); "uuid" === l && (l = this.u.XA()); var n = this.u.Vd(); this.We[l] = { offset: d, size: n }; d += n } return !0 }; m.ac = f; m.Ra = !1; return m
                    }(a.Ec); b.default = a
                }, function (r) {
                    var b = { name: "heaac-2-dash reset sample", profile: 53, channels: 2, sampleRate: 24E3, duration: 1024, Ik: (new Uint8Array([33, 17, 69, 0, 20, 80, 1, 70, 157, 188, 0, 0, 8, 28, 0, 0, 0, 14])).buffer }, a = {
                        name: "heaac-2-dase standard sample",
                        profile: 53, channels: 2, sampleRate: 24E3, duration: 1024, Ik: (new Uint8Array([33, 17, 69, 0, 20, 80, 1, 70, 240, 77, 251, 1, 60, 8, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 14, 0, 14])).buffer
                    }, c = {
                        name: "ddplus-5.1-dash standard sample", profile: 54, channels: 6, sampleRate: 48E3, duration: 1536, Ik: (new Uint8Array([11, 119, 1, 127, 63, 134, 255, 225, 6, 32, 0, 32, 0, 66, 10, 65, 0, 135, 216, 68, 3, 254, 202, 2, 88, 163, 1, 16, 177, 64, 146, 32, 160, 75, 20, 80, 37, 136, 35, 227, 36, 160, 152, 156, 165, 37, 38, 41, 37, 73, 74, 9, 201, 146, 130, 114, 82, 116, 160, 152, 152, 150, 136, 58, 125, 89, 245, 39, 207, 159,
                            63, 116, 150, 147, 242, 73, 95, 165, 171, 175, 253, 215, 126, 82, 21, 55, 188, 8, 165, 126, 249, 242, 100, 175, 255, 249, 73, 42, 255, 253, 215, 124, 246, 156, 23, 239, 108, 36, 134, 249, 211, 228, 181, 255, 246, 253, 205, 119, 176, 179, 86, 126, 166, 27, 231, 175, 225, 58, 255, 222, 170, 110, 127, 249, 215, 41, 232, 146, 73, 183, 0, 88, 211, 192, 0, 0, 31, 7, 178, 116, 62, 122, 114, 245, 8, 233, 196, 71, 223, 196, 18, 59, 202, 113, 248, 103, 242, 80, 250, 118, 15, 1, 60, 79, 251, 46, 14, 8, 9, 37, 4, 14, 183, 67, 131, 195, 103, 241, 250, 32, 124, 81, 61, 76, 9, 40, 161, 2, 1, 16, 64, 114, 219, 225, 217, 172, 140, 44, 12, 64, 147, 49,
                            210, 195, 206, 12, 52, 186, 196, 0, 107, 134, 202, 4, 9, 216, 72, 67, 11, 127, 185, 13, 125, 124, 124, 194, 90, 203, 69, 1, 209, 8, 129, 183, 36, 196, 101, 7, 248, 73, 181, 38, 181, 30, 232, 124, 27, 18, 222, 207, 92, 251, 85, 227, 78, 0, 70, 196, 59, 0, 207, 194, 0, 252, 226, 209, 111, 144, 239, 111, 148, 54, 39, 28, 176, 248, 160, 58, 88, 113, 9, 76, 65, 57, 180, 96, 82, 224, 115, 52, 208, 161, 184, 86, 120, 211, 212, 168, 13, 52, 217, 124, 121, 189, 237, 163, 53, 72, 52, 157, 245, 160, 110, 16, 182, 219, 180, 152, 180, 136, 47, 23, 151, 198, 192, 20, 62, 220, 249, 107, 82, 0, 0, 0, 234, 22, 24, 202, 252, 104, 154, 198, 95, 7, 98, 110,
                            113, 104, 187, 197, 110, 105, 201, 123, 18, 61, 45, 233, 135, 20, 0, 151, 155, 45, 131, 75, 174, 9, 228, 53, 214, 32, 19, 131, 131, 87, 146, 156, 22, 16, 160, 0, 0, 5, 169, 31, 241, 155, 119, 242, 21, 168, 176, 225, 35, 130, 186, 60, 97, 189, 244, 57, 5, 158, 124, 200, 224, 156, 74, 33, 48, 12, 75, 235, 252, 25, 83, 61, 12, 178, 134, 75, 92, 124, 56, 71, 63, 232, 35, 142, 23, 11, 179, 154, 25, 17, 254, 160, 55, 0, 28, 144, 253, 91, 117, 102, 221, 190, 135, 231, 10, 70, 30, 23, 176, 0, 0, 1, 176, 4, 8, 133, 150, 0, 255, 79, 159, 83, 83, 77, 46, 180, 197, 95, 161, 141, 13, 44, 47, 253, 61, 176, 86, 148, 52, 201, 148, 194, 126, 246, 155, 165,
                            78, 181, 18, 73, 32, 28, 45, 70, 221, 101, 80, 78, 20, 6, 206, 130, 30, 219, 0, 30, 251, 237, 127, 232, 113, 255, 107, 248, 25, 147, 2, 185, 140, 224, 224, 189, 152, 101, 89, 28, 152, 47, 182, 88, 216, 198, 90, 3, 213, 0, 64, 150, 89, 96, 5, 18, 73, 32, 18, 105, 56, 170, 112, 129, 132, 77, 233, 15, 190, 8, 58, 109, 254, 217, 232, 164, 181, 91, 34, 227, 8, 27, 140, 83, 141, 186, 71, 175, 110, 91, 83, 37, 82, 15, 247, 58, 112, 134, 42, 42, 18, 3, 0, 8, 18, 196, 44, 5, 18, 73, 32, 25, 234, 135, 27, 145, 161, 76, 95, 163, 44, 124, 140, 151, 13, 189, 174, 93, 108, 80, 63, 112, 61, 88, 28, 46, 219, 213, 65, 40, 74, 243, 69, 108, 141, 37, 80, 21, 72,
                            191, 2, 50, 88, 122, 3, 0, 0, 10, 36, 146, 64, 54, 170, 52, 196, 80, 163, 79, 142, 148, 81, 36, 46, 131, 66, 255, 221, 26, 128, 73, 23, 103, 49, 192, 55, 30, 59, 219, 161, 166, 249, 122, 141, 88, 62, 36, 228, 107, 116, 158, 14, 252, 92, 103, 226, 0, 0, 20, 73, 36, 128, 113, 105, 27, 109, 199, 165, 26, 100, 240, 30, 8, 113, 124, 175, 175, 166, 144, 115, 74, 138, 80, 24, 32, 117, 28, 206, 194, 21, 85, 40, 218, 254, 177, 100, 37, 127, 63, 131, 208, 68, 250, 76, 169, 40, 0, 0, 0, 0, 0, 0, 0, 95, 208, 40, 5])).buffer
                    }, f = {
                        name: "ddplus-2.0-dash standard sample", profile: 57, channels: 2, sampleRate: 48E3, duration: 1536, Ik: (new Uint8Array([11,
                            119, 0, 191, 52, 134, 255, 224, 4, 32, 24, 132, 33, 46, 136, 15, 236, 128, 165, 150, 32, 161, 69, 16, 65, 66, 33, 0, 160, 224, 136, 32, 48, 40, 56, 176, 233, 159, 62, 203, 176, 139, 218, 213, 221, 58, 124, 249, 83, 239, 245, 26, 179, 232, 106, 97, 174, 75, 74, 149, 104, 85, 223, 38, 74, 253, 242, 95, 253, 47, 117, 10, 116, 228, 206, 145, 61, 126, 153, 83, 169, 201, 146, 214, 124, 251, 202, 125, 62, 3, 184, 113, 105, 44, 145, 91, 107, 58, 206, 87, 7, 170, 74, 27, 187, 48, 217, 65, 241, 1, 161, 157, 113, 91, 21, 163, 111, 51, 104, 115, 118, 123, 44, 77, 110, 247, 112, 43, 8, 73, 76, 172, 73, 150, 207, 95, 153, 3, 182, 105, 124, 66, 2, 0,
                            118, 237, 94, 135, 88, 83, 124, 41, 205, 76, 76, 109, 131, 40, 166, 169, 150, 166, 233, 51, 26, 43, 143, 131, 162, 201, 227, 35, 146, 30, 46, 75, 41, 1, 28, 21, 124, 91, 11, 74, 112, 106, 170, 137, 88, 102, 81, 122, 90, 108, 154, 41, 64, 72, 81, 74, 40, 176, 29, 246, 45, 81, 141, 178, 47, 68, 210, 113, 129, 217, 48, 217, 176, 77, 157, 147, 211, 28, 106, 174, 210, 66, 110, 190, 228, 106, 249, 236, 107, 188, 90, 91, 41, 31, 191, 71, 149, 201, 40, 136, 209, 138, 100, 91, 53, 25, 18, 245, 27, 148, 208, 18, 20, 81, 70, 24, 7, 147, 116, 48, 233, 47, 145, 81, 32, 242, 74, 51, 50, 138, 85, 186, 6, 202, 227, 8, 169, 201, 206, 77, 68, 201, 80, 186,
                            57, 179, 90, 232, 234, 208, 230, 109, 96, 154, 4, 249, 38, 86, 153, 185, 81, 45, 38, 146, 243, 73, 117, 105, 140, 5, 34, 48, 227, 11, 10, 32, 130, 14, 49, 4, 40, 131, 127, 229, 199, 232, 95, 78, 126, 229, 243, 175, 254, 117, 124, 233, 83, 154, 239, 93, 63, 195, 190, 120, 247, 107, 232, 10, 68, 177, 11, 22, 24, 32, 66, 4, 99, 231, 207, 159, 7, 124, 241, 174, 215, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 84, 40, 187, 227])).buffer
                    }; r.exports = {
                        standard: { "heaac-2-dash": a, "heaac-2hq-dash": a, "ddplus-5.1-dash": c, "ddplus-5.1hq-dash": c, "ddplus-2.0-dash": f }, reset: { "heaac-2-dash": b, "heaac-2hq-dash": b }, "heaac-2-dash": b,
                        "heaac-2-dash-alt": a, "ddplus-5.1-dash": c, "ddplus-2.0-dash": f
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(37), k = a(92); r = function (m) {
                        function g(d, h, l, n, q) { l = m.call(this, l, n, q) || this; l.Aja = d; l.Xq = h; l.Ya = {}; return l } c.__extends(g, m); g.prototype.parse = function (d) {
                            this.offset = 0; var h = []; for (d = d || {}; this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);) {
                                var l = this.offset, n = this.Ca(); if (0 === n) return { done: !1, offset: this.offset, error: "Invalid zero-length box" };
                                var q = k.qo(this.Ca()); if (null === q) return { done: !1, offset: this.offset, error: "Invalid box type" }; if ("uuid" === q) { if (16 > this.view.byteLength - this.offset) break; q = this.XA() } if (0 === h.length && this.Xq.BV(q, l, n)) break; if (l + n > this.view.byteLength) break; var p = this.Aja[q], u = void 0; if (p) if (u = new p(this, q, l, n, h[0]), (h[0] || this).It(u), u.parse(d)) this.config.xI && p.Ra ? h.unshift(u) : this.offset = l + n; else return { done: !1, offset: this.offset, error: "parse error in " + q + " box" }; else this.offset = l + n; for (; h.length && this.offset >
                                    h[0].byteOffset + h[0].Yn - 8;) { u = h.shift(); if (!u.ku(d)) return { done: !1, offset: this.offset, error: "finalize error in " + u.type + " box" }; this.offset = u.byteOffset + u.Yn } if (0 === h.length && this.Xq.VU(q, l, n, u)) break
                            } return !this.Xq.done && (d = this.Xq.endOffset ? this.Xq.endOffset - this.view.byteLength : 4096, 0 < d) ? { done: !1, offset: this.offset, zX: d } : { done: !0, offset: Math.min(this.Xq.endOffset || Infinity, this.offset) }
                        }; g.prototype.It = function (d) { f.Ec.It(this, d) }; return g
                    }(a(1028).Ifa); b.PE = r
                }, function (r, b, a) {
                    function c(k, m) {
                        k =
                            m.indexOf(k); -1 !== k && m.splice(k, 1)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); var f = a(107); r = function () { function k(m) { this.endOffset = m; this.done = !1 } k.prototype.BV = function () { return this.done }; k.prototype.VU = function (m, g, d) { return this.done = g + d >= this.endOffset }; return k }(); b.TQ = r; r = function () {
                        function k(m, g, d, h) { void 0 === g && (g = []); void 0 === d && (d = []); void 0 === h && (h = !1); this.Wh = m; this.yz = g; this.JZ = d; this.ZX = h; this.done = !1; this.We = {} } k.prototype.BV = function (m, g, d) {
                            -1 !== k.Cpa.indexOf(m) && (this.We[m] =
                                { offset: g, size: d }); if (-1 !== this.JZ.indexOf(m)) if (this.We[m] = { offset: g, size: d }, this.ZX) this.endOffset = g + d; else return this.endOffset = g, this.done = !0; else this.Wh && -1 !== this.Wh.indexOf(m) ? (m = 1 < this.Wh.length ? 4096 : 0, this.endOffset = Math.max(g + d + m, this.endOffset || 0)) : -1 !== this.yz.indexOf(m) && (m = this.Wh ? 4096 : 0, this.endOffset = Math.max(g + d + m, this.endOffset || 0)); return this.done
                        }; k.prototype.VU = function (m, g, d, h) {
                            var l = this; if (-1 !== this.JZ.indexOf(m)) return this.done = !0; m === f.oF && this.lZ(h.We); m === f.pF && this.lZ(h.We);
                            this.Wh && c(m, this.Wh); c(m, this.yz); return this.Wh && 0 === this.Wh.length && !this.yz.some(function (n) { return l.We[n] }) ? this.done = !0 : this.done
                        }; k.prototype.lZ = function (m) { var g = this; this.We = m; this.endOffset = (this.Wh || []).concat(this.yz).reduce(function (d, h) { return g.We[h] ? (h = g.We[h], Math.max(h.offset + (h.size || 4096), d)) : d }, this.endOffset || 0) }; k.Cpa = ["moov", "sidx"]; return k
                    }(); b.nda = r
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.bEa = "HLSPlaylistTransformerSymbol" }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.kBa = "CdnPartitionerSymbol"
                }, function (r, b, a) { function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.Kca = void 0; var f = a(51); c.Ho = function () { var k = {}; k[f.xg.x0] = "mp4a.40.2"; k[f.xg.TDa] = "mp4a.40.2"; k[f.xg.y0] = "mp4a.40.2"; k[f.xg.NK] = "mp4a.40.42"; k[f.xg.U_] = "ec-3"; k[f.xg.T_] = "ec-3"; k[f.xg.QQ] = "ec-3"; return k }; b.Kca = c }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.G8b = "LogblobBuilderSymbol"; b.CR = "HLSLogblobBuilderFactorySymbol" }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.wMa = "ThroughputTrackerConfigSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.zMa = "ThroughputTrackerSymbol"; b.xMa = "ThroughputTrackerFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.wDa = "ExtraPlatformInfoProviderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.aBa = "CapabilityDetectorFactorySymbol" }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.dAa = {
                        "playready-oggvorbis-2-piff": "OGG_VORBIS",
                        "playready-oggvorbis-2-dash": "OGG_VORBIS", "heaac-2-piff": "AAC", "heaac-2-dash": "AAC", "heaac-2hq-dash": "AAC", "heaac-5.1-dash": "AAC", "playready-heaac-2-dash": "AAC", "heaac-2-elem": "AAC", "heaac-2-m2ts": "AAC", "xheaac-dash": "XHEAAC", "ddplus-5.1-piff": "DDPLUS", "ddplus-2.0-dash": "DDPLUS", "ddplus-5.1-dash": "DDPLUS", "ddplus-atmos-dash": "DDPLUS", "dd-5.1-elem": "DD", "dd-5.1-m2ts": "DD"
                    }
                }, function (r, b, a) {
                    function c(d, h, l, n) {
                        this.config = d; this.Gm = h; this.mediaType = l; this.ex = n; this.xsa = {}; this.xsa[f.Rj.Audio] = "audio";
                        this.xsa[f.Rj.fNa] = "video"
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.OQ = void 0; var f = a(30); r = a(113); var k = a(185), m = a(11), g = (new r.UB).format; c.prototype.s_a = function (d) { return this.aCb(this.WIb(this.b_a(), d)) }; c.prototype.Tt = function (d) { return this.Gm.isTypeSupported(d) }; c.prototype.TYa = function () { return [k.Ze.y_, k.Ze.cEa, k.Ze.$Q] }; c.prototype.mqa = function () {
                        this.Zn = []; this.dv = []; this.config().fUb && this.dv.push(k.Ze.NK); this.config().k6a && this.dv.push(k.Ze.UDa); this.config().j6a && this.dv.push(k.Ze.SDa);
                        this.config().i6a && this.dv.push(k.Ze.jr); this.config().J9 && this.dv.push(k.Ze.AB); this.config().l6a && this.dv.push(k.Ze.VB); this.config().h6a && this.dv.push(k.Ze.tl); this.dv = this.dv.concat(this.TYa()); !this.config().VDb && this.Zn.push(k.Ze.NK); !this.config().AWa && this.Zn.push(k.Ze.Vfb); !this.config().zWa && this.Zn.push(k.Ze.Wfb); !this.config().uma && this.Zn.push(k.Ze.Xfb); !this.config().KDb && this.Zn.push(/prk$/); this.config().i6a || this.config().uDb || this.Zn.push(k.Ze.jr); this.config().k6a || this.config().wDb ||
                            this.Zn.push(k.Ze.UDa); this.config().j6a || this.config().DWa || this.Zn.push(k.Ze.SDa); this.config().J9 || this.config().rma || this.Zn.push(k.Ze.AB); this.config().l6a || this.config().TDb || this.Zn.push(k.Ze.VB); this.config().h6a || this.config().pDb || this.Zn.push(k.Ze.tl); !this.config().RDb && this.Zn.push(k.Ze.HF)
                    }; c.prototype.WIb = function (d, h) {
                        var l = m.ie.hardwareConcurrency && m.ie.hardwareConcurrency; return d.filter(function (n) {
                            return void 0 !== n.minimumCores && l < n.minimumCores || void 0 !== n.restrictToUILabels &&
                                (void 0 === (null === h || void 0 === h ? void 0 : h.Wd) || !n.restrictToUILabels.includes(h.Wd)) ? !1 : !0
                        }).map(function (n) { return n.name })
                    }; c.prototype.yXa = function (d) { var h = this, l = d.map(function (n) { for (var q = da(h.dv), p = q.next(); !p.done; p = q.next())if (p.value.test(n)) return Promise.resolve(!0); q = da(h.Zn); for (p = q.next(); !p.done; p = q.next())if (p.value.test(n)) return Promise.resolve(!1); return h.bD(n).catch(function () { return !1 }) }); return Promise.all(l).then(function (n) { return d.filter(function (q, p) { return n[p] }) }) };
                    c.prototype.bD = function (d) { return this.config().GDb ? this.ex.bD(d) : this.aFb(d) }; c.prototype.aFb = function (d) { d = this.sY[d]; var h = ""; return d ? (Array.isArray(d) && (h = 1 < d.length ? " " + d[1] : "", d = d[0]), d = g("{0}/mp4;codecs={1};{2}", this.xsa[this.mediaType], d, h), d = this.Tt(d), Promise.resolve(d)) : Promise.resolve(!1) }; c.prototype.aCb = function (d) { var h = {}; this.mqa(); return this.yXa(d).then(function (l) { return l.map(function (n) { return h[n] = 1 }) }).then(function () { return Object.keys(h) }) }; Ya.Object.defineProperties(c.prototype,
                        { sY: { configurable: !0, enumerable: !0, get: function () { this.IPa || (this.IPa = this.Ho()); return this.IPa } } }); b.OQ = c
                }, function (r, b, a) {
                    function c(h, l, n) { n = k.OQ.call(this, h, l, f.Rj.Audio, n) || this; n.config = h; n.Gm = l; n.type = f.EB.GB; return n } Object.defineProperty(b, "__esModule", { value: !0 }); b.k0 = void 0; var f = a(30), k = a(455), m = a(131); r = a(113); var g = a(448), d = (new r.UB).format; qa(c, k.OQ); c.prototype.e6 = function () { var h = d(c.EE, m.Xd.Ufb); return this.Gm.isTypeSupported(h) ? 6 : 2 }; c.prototype.Ho = function () { return g.Kca.Ho() };
                    c.prototype.b_a = function () { return this.config().fM }; b.k0 = c; c.EE = "audio/mp4;codecs={0};"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.VGa = "MediaCapabilitiesDetectorSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ZGa = "MediaCapabilitiesSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.YGa = "MediaCapabilitiesLogHelperSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.CKa = "PresentationAPISymbol" }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.N0 = "IndexedDBConfigSymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ufa = "Storage" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.JBa = "CorruptedStorageValidatorConfigSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.WFa = "LocalStorageSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.sHa = "MemoryStorageSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.rAa = "BookmarkSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.pAa = "BookmarkConfigSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.oAa = "BookmarkConfigParserSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.JAa = "CDMAttestedDescriptorProvider" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.LGa = "ManifestProviderConfigSymbol" }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.xfa = void 0; var f = a(11); c.a_a =
                        function () { var k = f.Mv && f.Mv.height; return k ? 1080 <= k ? 1080 : 720 : 720 }; b.xfa = c
                }, function (r, b, a) {
                    function c(k) { this.log = k } Object.defineProperty(b, "__esModule", { value: !0 }); b.JR = void 0; var f = a(473); c.prototype.Rbb = function (k, m) {
                        var g = this; if (!k) return this.log.warn("There are no media streams for " + m.type + " track - " + m.trackId), []; var d = k.map(function (h) {
                            var l, n, q, p, u, t, w = new f.MediaStream(m, m.type, h.Qr, h.bitrate, h.zb, h.size, g.qHb(h.urls), h.MG, h.jYa / h.iYa, h.gl, h.rl); w.P_b(h.e9a, h.d9a, h.U6a, h.T6a); w.e_b(null !==
                                (l = h.ZAb) && void 0 !== l ? l : void 0, null !== (n = h.$Ab) && void 0 !== n ? n : void 0, null !== (q = h.YAb) && void 0 !== q ? q : void 0, null !== (p = h.XAb) && void 0 !== p ? p : void 0, null !== (u = h.U6a) && void 0 !== u ? u : void 0, null !== (t = h.T6a) && void 0 !== t ? t : void 0); m.sm && (w.sm = m.sm); h.MG && (w.Ig = h.MG); return w
                        }); d.sort(function (h, l) { return h.bitrate - l.bitrate }); d.forEach(function (h, l) { h.lower = d[l - 1]; h.UKb = d[l + 1] }); return d
                    }; c.prototype.qHb = function (k) { return k.reduce(function (m, g) { m[g.bq] = g.url; return m }, {}) }; b.JR = c
                }, function (r, b, a) {
                    function c(g,
                        d, h, l, n, q, p, u, t, w, v) { this.track = g; this.type = d; this.Dc = h; this.bitrate = l; this.zb = n; this.size = q; this.Gw = p; this.Ig = u; this.framerate = t; this.gl = w; this.rl = v; this.Th = { Type: d, Bitrate: l, DownloadableId: h } } Object.defineProperty(b, "__esModule", { value: !0 }); b.Lfb = b.MediaStream = void 0; var f = a(12), k = a(18), m = a(75); c.prototype.toJSON = function () { return this.Th }; c.prototype.P_b = function (g, d, h, l) {
                            (0, k.Mc)(g) && (0, k.Mc)(d) && (this.width = g, this.height = d, (0, k.Ea)(h) && (0, k.Ea)(l) && (this.x3 = h / l * g), this.Th.Resolution = (this.width ||
                                "") + ":" + (this.height || ""))
                        }; c.prototype.e_b = function (g, d, h, l, n, q) { (0, k.Mc)(g) && (0, k.Mc)(d) && (0, k.Mc)(h) && (0, k.Mc)(l) && (this.qla = g, this.I4 = d, this.H4 = h, this.G4 = l); (0, k.Mc)(n) && (0, k.Mc)(q) && (this.V6a = n, this.W6a = q) }; b.MediaStream = c; b.Lfb = function (g, d, h, l, n) { if (g == f.P0 || g === m.gi.audio) return d; if (g == f.vK || g === m.gi.video) return h; if (g == m.gi.Paa) return l; if (g == m.gi.nya) return n }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ZJa = "PlayerTextTrackFactorySymbol" }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.OMa = "TrickPlayFactorySymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.PGa = "ManifestVerifyErrorFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.UIa = "PboLinksManagerSymbol"; b.SIa = "PboLinksManagerFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.HGa = "ManifestEnricherSymbol" }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Idb = void 0; var c = a(8), f = a(18); b.Idb = function (k) {
                        if ((0,
                            f.DD)(k)) { var m = (new DOMParser).parseFromString(k, "text/xml"), g = m.getElementsByTagName("parsererror"); if (g && g[0]) { try { c.log.error("parser error details", { errornode: (new XMLSerializer).serializeToString(g[0]), xmlData: k.slice(0, 300), fileSize: k.length }) } catch (d) { } throw Error("xml parser error"); } return m } throw Error("bad xml text");
                    }
                }, function (r, b, a) {
                    function c(k) {
                        var m, g = {}; g[f.sQ] = k.localName; var d = {}; g[f.Mk] = d; var h = []; g[f.rQ] = h; var l = k.attributes, n = l.length; for (m = 0; m < n; m++) {
                            var q = l[m]; d[q.localName] =
                                q.value
                        } k = k.childNodes; n = k.length; d = {}; for (m = 0; m < n; m++)switch (l = k[m], l.nodeType) { case b.Mdb: l = c(l); q = l[f.sQ]; l[f.yba] = g; h.push(l); g[q] ? d[q][f.JE] = l : g[q] = l; d[q] = l; break; case b.Ndb: case b.Kdb: l = l.text || l.nodeValue, h.push(l), g[f.$s] || (g[f.$s] = l) }return g
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Ldb = b.Kdb = b.Ndb = b.N5b = b.Mdb = b.O5b = b.Jdb = void 0; var f = a(157); b.Jdb = function (k) { return c(k.nodeType == b.Ldb ? k.documentElement : k) }; b.O5b = c; b.Mdb = 1; b.N5b = 2; b.Ndb = 3; b.Kdb = 4; b.Ldb = 9
                }, function (r) {
                    r.exports =
                        function () { var b; for (b = 0; b < arguments.length; b++)if ("undefined" !== typeof arguments[b] && null !== arguments[b]) return arguments[b]; return null }
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.cea = "MslReadyNotifierSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.jCa = "DeviceIdGeneratorSymbol" }, function (r, b) {
                    function a(c, f, k) { if (null != k) { if (0 < k(c, f)) throw a.RUa(c, f); } else if (c.El && 0 < c.El(f)) throw a.RUa(c, f); this.start = c; this.end = f } Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.gfa = void 0; a.RUa = function (c, f) { return new RangeError("end [" + f + "] must be >= start [" + c + "]") }; b.gfa = a
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.mCa = "DeviceProviderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.LBa = "CryptoKeysSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.EIa = "PboBindDeviceCommandSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.nGa = "LogblobSenderSymbol" }, function (r,
                    b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.uHa = "MessageQueueSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.WIa = "PboLogblobCommandSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.cNa = "UuidProviderSymbol" }, function (r, b, a) {
                        function c(C, H, L, N, J, Q, K, I, M, O, P, S, U, Z, ia, ya, na, X, ra, T) {
                            var R = this; this.j = C; this.xa = H; this.obb = L; this.ag = N; this.rsa = J; this.Pma = Q; this.Vc = K; this.f5 = I; this.lf = M; this.config = O; this.fe = P; this.Ba = S; this.ya = U; this.Hq = Z; this.qA =
                                ia; this.cj = ya; this.Ur = na; this.dI = X; this.vc = ra; this.OD = T; this.MZ = []; this.Dsa = this.yD = this.MY = 0; this.PM = []; this.Cia = !1; this.uE = function (ca) {
                                    var ua, aa = {}; try {
                                        aa = { playdelaysdk: (0, n.Wf)(R.j.hU()), applicationPlaydelay: (0, n.Wf)(R.j.Wja()), playdelay: (0, n.Wf)(R.j.Yja()), trackid: R.j.Kk, bookmark: (0, n.Wf)(R.j.Qt || 0), pbnum: R.j.index, endianness: (0, g.fZa)() }, R.config().UDb && (aa.transitiontime = R.j.Um, aa.uiplaystarttime = R.j.fb.sB, aa.playbackrequestedat = R.j.aj.$(q.ja), aa.clockgettime = R.getTime(), aa.clockgetpreciseepoch =
                                            R.Ba.Ie.$(q.ja), aa.clockgetpreciseappepoch = R.ya.oA.$(q.ja), aa.absolutestarttime = R.j.lH(), aa.relativetime = R.j.Moa()), R.b6(aa, "startplay")
                                    } catch (Wa) { R.log.error("error in startplay log fields", Wa) } R.j.oi && (aa.blocked = R.j.oi); R.vc.D0a(aa); R.E0a(aa); if (R.config().nQ && R.j.fb.fza) { var La = {}; Object.entries(R.j.fb.fza).reverse().forEach(function (Wa) { var Pa = da(Wa); Wa = Pa.next().value; Pa = Pa.next().value; La[Wa.toLowerCase()] = Pa }); aa.vui = La } (0, z.Ea)(R.j.zSa) && (aa.bookmarkact = (0, n.Wf)(R.j.zSa)); var Ua = R.j.yd.at &&
                                        R.j.yd.ats ? R.j.yd.at - R.j.yd.ats : void 0; Ua && (aa.nccpat = Ua); (Ua = R.j.yd.lr && R.j.yd.lc ? R.j.yd.lr - R.j.yd.lc : void 0) && (aa.nccplt = Ua); (Ua = R.j.yd.lc && R.j.yd.lg ? R.j.yd.lc - R.j.yd.lg : void 0) && (aa.lct = Ua); (Ua = R.NCb()) && (aa.downloadables = Ua); ub._cad_global.device && (0, z.Mc)(ub._cad_global.device.x5) && (aa.esnSource = ub._cad_global.device.x5); (0, n.Ub)(aa, R.Hq, { prefix: "pi_" }); R.j.Eo && R.j.Eo.initBitrate && (aa.initvbitrate = R.j.Eo.initBitrate); R.j.Eo && R.j.Eo.selector && (aa.selector = R.j.Eo.selector); aa.fullDlreports = R.Pcb;
                                    if (R.j.state.value >= y.Mb.je) try { var $a = R.j.Yt(); if ($a) { R.maxBitrate = (0, g.yQ)($a.map(function (Wa) { return Wa.bitrate })); R.X3a = (0, g.yQ)($a.map(function (Wa) { return Wa.height })); var Za = 0 < $a.length ? (0, F.F_a)(function (Wa, Pa) { return Wa.height === Pa.height }, $a).map(function (Wa) { return (0, A.fsa)(Wa, function (Pa) { return Pa.bitrate }) }) : void 0; aa.maxbitrate = R.maxBitrate; aa.maxresheight = R.X3a } } catch (Wa) { R.log.error("Exception computing max bitrate", Wa) } try { var cb = (0, g.tH)(); cb && (aa.pdltime = cb) } catch (Wa) { } try {
                                        (0, n.Ub)(aa,
                                            R.j.yd, { prefix: "sm_" }), (0, n.Ub)(aa, R.j.M6(), { prefix: "vd_" })
                                    } catch (Wa) { } "undefined" !== typeof nrdp && nrdp.device && (aa.firmware_version = nrdp.device.firmwareVersion); ca && R.j.ev && (aa.pssh = R.j.ev); R.K0a(R.j, aa); aa.avtp = R.vJ.Sw().aya; (null === (ua = R.j.Ma) || void 0 === ua ? 0 : ua.bC) && R.k7(aa); if (R.j.Qb.value) try { aa.ttTrackFields = R.j.Qb.value.Th } catch (Wa) { } R.vc.z0a(aa, R.j.Cb.value); R.vc.MN(aa, R.j.Af.value); R.j.pa && (aa.packageId = R.j.pa.Gb.ep); R.j.pa && R.j.pa.Gb.zn && (aa.hasChoiceMap = !0); R.config().YXa && (aa.forceL3WidevineCdm =
                                        !0); R.VNb(Za); R.UNb(); ca && R.cqa(aa); R.B0a(R.j, aa); R.GH(R.j, aa); R.HH(R.j, aa); R.vD(R.j, aa, R.Cia); R.GLb(R.j, aa); R.dqa(aa); R.eqa(aa); R.vc.LN(aa); R.H0a(aa); R.A0a(aa); R.vc.l7(aa, R.xa); R.I0a(aa); R.Ic(B.kd.uE, ca, G.Ae | G.pt | G.Hi | G.st | G.QE | G.M_ | G.VE | G.vp, aa)
                                }; this.qP = function (ca, ua, aa) {
                                    ua = { playdelay: (0, n.Wf)(ca), reason: aa, intrplayseq: R.yD - 1, skipped: ua }; "repos" === aa && (ua.prstate = !0 === R.j.paused.value ? "paused" : "playing"); R.HH(R.j, ua); R.Ic(B.kd.qP, !1, G.Ae | G.pt | G.Hi, ua); "rebuffer" !== aa && "force_rebuffer" !== aa || R.j.Ol.psb(Number((0,
                                        n.Wf)(ca)))
                                }; this.sM = function (ca, ua, aa, La) { ca = { moff: (0, n.Lo)(aa), moffms: (0, n.Wf)(aa), vbitrate: ua.bitrate, vbitrateold: ca.bitrate, vdlid: ua.Dc, vdlidold: ca.Dc, vheight: ua.height, vheightold: ca.height, vwidth: ua.width, vwidthold: ca.width, bw: La }; R.HH(R.j, ca); R.vD(R.j, ca); R.Ic(B.kd.sM, !1, G.Hi, ca) }; this.Lva = function (ca, ua, aa) { ca = { moff: (0, n.Lo)(aa), moffms: (0, n.Wf)(aa), vdlidold: ca.Dc, vbitrateold: ca.bitrate }; R.HH(R.j, ca); R.vD(R.j, ca); R.vc.vq(ca, ua, R.j.nf.value && R.j.nf.value.stream); R.Ic(B.kd.M8a, !1, G.Hi, ca) }; this.jua =
                                    function () {
                                        var ca = { waittime: (0, n.Wf)(R.j.Moa()), abortedevent: "startplay", trackid: R.j.Kk, prstate: R.Rz(), paustate: R.j.paused.value }; R.b6(ca, "endplay"); R.Ur.gV && (ca.eventlist_version = 1, ca.eventlist = R.dI.WZa(R.j)); R.j.Eo && R.j.Eo.initBitrate && (ca.initvbitrate = R.j.Eo.initBitrate); try { var ua = (0, g.tH)(); ua && (ca.pdltime = ua); (0, n.Ub)(ca, R.j.yd, { prefix: "sm_" }) } catch (aa) { } R.$pa(ca, !0); R.vc.l7(ca, R.xa); R.vc.MN(ca, R.j.Af.value); R.cqa(ca); R.vc.vq(ca, R.j.he.value, R.j.rh.value); R.K0a(R.j, ca); R.GH(R.j, ca); R.Ic(B.kd.b$,
                                            !1, G.Ae | G.Hi | G.QE | G.st | G.vp, ca)
                                    }; this.iua = function (ca, ua) { ca = { waittime: (0, n.Wf)(ca), abortedevent: "resumeplay", resumeplayreason: ua }; R.j.Eo && R.j.Eo.initBitrate && (ca.initvbitrate = R.j.Eo.initBitrate); R.vc.vq(ca, R.j.he.value, R.j.rh.value); R.Ic(B.kd.b$, !1, G.Ae | G.Hi | G.vp, ca) }; this.Axa = function (ca, ua) { ca = { newstate: ua ? "Paused" : "Playing", oldstate: ca ? "Paused" : "Playing" }; R.HH(R.j, ca); R.vD(R.j, ca); R.vc.vq(ca, R.j.Td.value && R.j.Td.value.stream, R.j.nf.value && R.j.nf.value.stream); R.Ic(B.kd.yab, !1, G.Ae | G.Hi, ca) }; this.rqa =
                                        function (ca, ua, aa) {
                                            var La, Ua; ca = (0, n.Ub)({ vdlid: R.j.he.value.Dc, playingms: ca, pausedms: ua, intrplayseq: R.yD++, prstate: R.Rz(), paustate: R.j.paused.value }, aa); R.b6(ca, "intrplay"); ua = R.j.uc[f.Yb.Wa.Pb].value; aa = R.j.uc[f.Yb.Wa.$b].value; ca.cdnid = ca.vcdnid = ua && ua.id; ca.acdnid = aa && aa.id; ca.locid = R.OW && R.OW.Cra; ca.loclv = R.OW && R.OW.V2a; ca.avtp = R.vJ.Sw().aya; ca.mediabuffered = null === (La = R.j.Kf) || void 0 === La ? void 0 : La.i6(); if (null === (Ua = R.j.Ma) || void 0 === Ua ? 0 : Ua.bC) R.$pa(ca, !0), R.k7(ca), R.G0a(ca); try {
                                                (0, n.Ub)(ca,
                                                    R.j.M6(), { prefix: "vd_" })
                                            } catch ($a) { } R.HH(R.j, ca); R.vD(R.j, ca); R.vc.vq(ca, R.j.Td.value && R.j.Td.value.stream, R.j.nf.value && R.j.nf.value.stream); R.Ic(B.kd.rqa, !1, G.Ae | G.Hi, ca)
                                        }; this.iP = function (ca, ua, aa) { ca = { moffold: (0, n.Lo)(ca), reposseq: R.MY++, prstate: R.Rz(), paustate: R.j.paused.value }; R.vD(R.j, ca); R.vc.vq(ca, aa && aa.stream, ua && ua.stream); R.Ic(B.kd.iP, !1, G.Ae | G.Hi, ca) }; this.lja = function () {
                                            var ca, ua = R.j.Cb.value, aa = R.j.rh.value.Dc; ua = ua ? { trackId: ua.trackId, bcp47: ua.hf, downloadableId: aa, rank: ua.cc, chan: ua.channels } :
                                                {}; aa = R.mA; var La = null === (ca = R.ara) || void 0 === ca ? void 0 : ca.Dc; ca = aa ? { trackId: aa.trackId, bcp47: aa.hf, downloadableId: La, rank: aa.cc, chan: aa.channels } : {}; R.Ic(B.kd.cSa, !1, G.Ae | G.Hi, { switchdelay: (0, n.Wf)(R.getTime() - R.bra), track: ua, oldtrack: ca })
                                        }; this.tZ = function (ca) { R.Ic(B.kd.mab, !1, G.Ae | G.Hi, { speedold: Math.floor(1E3 * ca.oldValue), speed: Math.floor(1E3 * ca.newValue) }) }; this.YP = function () { R.Ic(B.kd.D2b, !1, G.Ae | G.Hi, { track: R.j.Qb.value.Th }) }; this.oB = function (ca) {
                                            var ua = R.j.Qb.value; if (ca.newValue || ua && ua.Vo() &&
                                                !ua.On()) { var aa = (ca = null !== (aa = ca.newValue) && void 0 !== aa ? aa : ua) ? { trackId: ca.trackId, bcp47: ca.hf, downloadableId: ca.Dc, rank: ca.cc, isImageBased: ca.sk } : {}; ca = (ca = R.qra) ? { trackId: ca.trackId, bcp47: ca.hf, downloadableId: ca.Dc, rank: ca.cc, isImageBased: ca.sk } : {}; aa = { switchdelay: (0, n.Wf)(R.getTime() - R.pra), track: aa, oldtrack: ca }; R.vc.vq(aa, R.j.Td.value && R.j.Td.value.stream, R.j.nf.value && R.j.nf.value.stream); R.Ic(B.kd.zbb, !1, G.Ae | G.Hi, aa) }
                                        }; this.Yp = function (ca) { R.Ic(B.kd.Oub, !1, G.Ae | G.Hi, ca.newValue) }; this.iwb =
                                            function (ca, ua) { var aa = ua.serverid, La = { locid: ua.location, loclv: ua.locationlv, selocaid: aa, selcdnid: aa, selocaname: ua.servername }; La.mediatype = ua.mediatype; La.selreason = ua.selreason || "unknown"; La.seldetail = ua.seldetail; La.cdnbwdata = JSON.stringify([{ id: aa }]); ca && (La.oldlocid = ca.Cra, La.oldloclv = ca.V2a, La.oldocaid = ca.UZb, La.oldocaname = ca.$I); R.Ic(B.kd.eTa, !1, G.M_, La) }; this.RVa = function () {
                                                if (R.j.uj) try {
                                                    var ca = !1; R.Pcb || (ca = !0, R.PM = R.PM.filter(function (La) { return !La.ga })); if (0 < R.PM.length) {
                                                        var ua = R.f5.construct(R.PM,
                                                            R.j.aj.$(q.ja)); R.PM = []; ua.erroronly = ca; var aa = {}; (0, n.xe)(ua, function (La, Ua) { aa[La] = JSON.stringify(Ua) }); R.Ic(B.kd.wCb, !1, G.Hi, aa)
                                                    }
                                                } catch (La) { R.log.error("Exception in dlreport.", La) }
                                            }; this.Rz = function () { var ca = R.j.sb.value; return ca === y.Xa.Kc ? "playing" : ca === y.Xa.mh ? "paused" : ca === y.Xa.xp ? "ended" : "waiting" }; this.PD = function () {
                                                var ca, ua; if (R.j.state.value == y.Mb.je) {
                                                    var aa = R.gY(); R.config().Rva && (aa.avtp = R.vJ.Sw().aya, (null === (ca = R.j.Ma) || void 0 === ca ? 0 : ca.bC) && R.k7(aa)); aa.mediabuffered = null === (ua =
                                                        R.j.Kf) || void 0 === ua ? void 0 : ua.i6(); aa.midplayseq = R.Dsa++; aa.prstate = R.Rz(); aa.paustate = R.j.paused.value; R.config().RZb && R.Pab("midplay"); R.config().QA && R.fqa(aa); R.dqa(aa); R.eqa(aa); R.vc.LN(aa); R.Ic(B.kd.PD, !1, G.Ae | G.Hi | G.QE | G.st, aa)
                                                }
                                            }; this.Pab = function (ca) { var ua = {}; ua.trigger = ca; try { var aa = R.j.Goa(); ua.subtitleqoescore = R.j.ho.BJb(aa); ua.metrics = JSON.stringify(R.j.ho.bpa(aa)) } catch (La) { R.log.error("error getting subtitle qoe data", La) } R.Ic(B.kd.F1b, !1, G.Ae | G.QE | G.pt, ua) }; this.transition = function (ca) {
                                                R.vD(R.j,
                                                    ca); R.Ic(B.kd.transition, !1, 0, ca)
                                            }; this.eH = function (ca) {
                                                var ua, aa = R.gY(); R.b6(aa, "endplay"); aa.prstate = R.Rz(); aa.paustate = R.j.paused.value; aa.muted = R.j.muted.value; R.j.qB && "downloaded" === R.j.qB.H6() && (aa.trickplay_ms = R.j.$Z.offset, aa.trickplay_res = R.j.$Z.c9a); R.config().Xcb && (aa.rtinfo = R.j.gJb()); R.config().Rva && (null === (ua = R.j.Ma) || void 0 === ua ? 0 : ua.bC) && R.k7(aa); R.E0a(aa); aa.endreason = ca ? "error" : R.j.sb.value === y.Xa.xp ? "ended" : "stopped"; ua = R.Hq; R.FLb(ua); ua && (0, n.Ub)(aa, ua, { prefix: "pi_" }); try {
                                                    (0,
                                                        n.Ub)(aa, R.j.yd, { prefix: "sm_" })
                                                } catch (ha) { } R.j.Zpa && (aa.inactivityTime = R.j.Zpa); R.$pa(aa, ca); R.G0a(aa); if (R.j.Z3) {
                                                    ua = R.j.Z3; var La = R.config().jM, Ua = R.j.loadTime, $a = { iv: La, seg: [] }, Za = function (ha, pa, Fa) { return 0 === pa || void 0 === Fa[pa - 1] ? ha : ha - Fa[pa - 1] }, cb = ua.MT.map(Za); Za = ua.m_.map(Za); for (var Wa, Pa = 0; Pa < cb.length; Pa++) {
                                                        if (cb[Pa] || Za[Pa]) Wa ? (Wa.ams.push(cb[Pa]), Wa.vms.push(Za[Pa])) : Wa = { ams: [ua.MT[Pa]], vms: [ua.m_[Pa]], soffms: ua.startTime + Pa * La - Ua }; Pa !== cb.length - 1 && cb[Pa] && Za[Pa] || !Wa || ($a.seg.push(Wa),
                                                            Wa = void 0)
                                                    } aa.bt = JSON.stringify($a)
                                                } ca && R.cqa(aa); R.Pab("endplay"); R.config().QA && R.fqa(aa); R.vc.MN(aa, R.j.Af.value); R.B0a(R.j, aa); R.GH(R.j, aa); R.HH(R.j, aa); R.vD(R.j, aa, R.Cia); R.dqa(aa); R.eqa(aa); R.vc.LN(aa); R.H0a(aa); R.HLb(aa); R.A0a(aa); R.JLb(aa); R.ILb(aa); R.MLb(aa); R.I0a(aa); R.NLb(aa); R.Ic(B.kd.eH, ca, G.Ae | G.pt | G.Hi | G.QE | G.st | G.VE | G.vp, aa)
                                            }; this.DCb = function (ca) { R.PM.push(R.f5.gyb(ca.response)) }; this.ema = function (ca) {
                                                ca = ca.response; var ua = ca.request, aa = ca.request.CA, La = ua.track; if (La) {
                                                    var Ua = !ca.ga &&
                                                        ca.ma != p.M.JB, $a = La.type, Za = ca.Fm; if (Ua || R.xa.Hra) { aa = { dltype: $a, url1: ua.url, url2: ca.url || "", cdnid: ua.uc && ua.uc.id, tresp: (0, n.Wf)(Za.Ci - Za.Oq), brecv: (0, n.aYa)(Za.$ka), trecv: (0, n.Wf)(Za.jp - Za.Ci), sbr: aa && aa.bitrate }; ca.Bs && (aa.range = ca.Bs); switch ($a) { case d.gi.audio: aa.adlid = ua.stream.Dc; break; case d.gi.video: aa.vdlid = ua.stream.Dc; break; case d.gi.Paa: aa.ttdlid = La.Dc }(ua = (0, E.Aoa)(ca.ma)) && (aa.nwerr = ua); ca.mk && (aa.httperr = ca.mk); R.Ic(B.kd.ema, Ua, G.Hi, aa) }
                                                }
                                            }; this.oi = function () {
                                                R.Ic(B.kd.wSa, !1, G.Ae |
                                                    G.QE | G.vp, {})
                                            }; this.txb = function (ca) { var ua = ca.response.Fm; ca = (0, q.Nc)(ua.Ci); var aa = (0, q.Nc)(ua.jp); ua = (0, t.ea)(ua.$ka || 0); ua.W1a() || ua.Fqa() || (ca = new w.gfa(ca, aa), R.vJ.isb(new v.qCa(ca, ua))) }; this.S9 = function (ca) { var ua = ca.newValue; ca.rm && ca.rm.EX && ua || ua == R.SH || (R.Axa(R.SH, ua), R.SH = ua) }; this.dz = function (ca) {
                                                function ua(aa) { if (R.j.Tb && R.j.Tb.sourceBuffers) { var La = R.j.Tb.sourceBuffers.filter(function (Ua) { return Ua.type === aa }).pop(); if (La) return { busy: La.Nh(), updating: La.updating(), ranges: La.j6() } } }
                                                ca = { cause: ca.cause }; ca.cause && ca.cause === m.Iea && (ca.mediaTime = R.j.mediaTime.value, ca.buf_audio = ua(k.P0), ca.buf_video = ua(k.vK)); R.rqa(R.MZ[y.Xa.Kc] || 0, R.MZ[y.Xa.mh] || 0, ca)
                                            }; this.Mbb = function (ca) { ca = ca.oldValue; var ua = R.getTime(); ca === y.Xa.Pe ? R.MZ = [] : R.MZ[ca] = (R.MZ[ca] || 0) + (ua - R.eOb); R.eOb = ua }; this.jm = function (ca) { R.bra = R.getTime(); R.mA = ca.oldValue }; this.Tl = function (ca) { R.pra = R.getTime(); R.qra = ca.oldValue }; this.OT = function (ca) { R.ara = ca.oldValue }; this.ZW = function (ca) {
                                                function ua(aa, La) {
                                                    if (!aa || aa.Cra !==
                                                        La.location) { var Ua = { Cra: La.location, V2a: La.locationlv, UZb: La.serverid, $I: La.servername }; R.iwb(aa, La); return Ua }
                                                } if ("audio" === ca.mediatype) { if (ca = ua(R.aOb, ca)) R.aOb = ca } else if (ca = ua(R.OW, ca)) R.OW = ca
                                            }; this.fZ = function (ca) {
                                                var ua = ca.mediatype, aa = ca.reason; "video" === ua ? "serverswitchaway" === aa ? (R.Kj.summary.wdb++, R.Kj.b8 = R.Ba.Ie.$(q.ja)) : "serverswitchback" === aa && (R.Kj.summary.xdb++, R.Kj.b8 && (R.Kj.summary.ydb.push(R.Ba.Ie.$(q.ja) - R.Kj.b8), R.Kj.b8 = void 0)) : "audio" === ua && ("serverswitchaway" === aa ? (R.Kj.summary.QRa++,
                                                    R.Kj.V7 = R.Ba.Ie.$(q.ja)) : "serverswitchback" === aa && (R.Kj.summary.RRa++, R.Kj.V7 && (R.Kj.summary.SRa.push(R.Ba.Ie.$(q.ja) - R.Kj.V7), R.Kj.V7 = void 0))); R.Ic(B.kd.WZb, !1, G.Ae | G.Hi, { mediatype: ca.mediatype, server: ca.server, selreason: ca.reason, location: ca.location, bitrate: ca.bitrate, confidence: ca.confidence, throughput: ca.throughput, oldserver: ca.oldserver })
                                            }; this.$L = function (ca) { R.Ic(B.kd.Ctb, !1, G.Hi, { strmsel: ca.strmsel }) }; this.TP = function (ca) {
                                                ca = (0, u.fJ)(ca); ca.details && (ca.details = JSON.stringify(ca.details));
                                                R.Ic(B.kd.E1b, !0, G.Ae | G.pt | G.M_, ca)
                                            }; this.Cia = ya.Wya || ya.hba || ya.ZXa; this.vJ = L(); this.log = (0, h.Oh)(C, "LogblobBuilder"); this.SH = C.paused.value; this.da = this.xa.da; this.Kj = { summary: { wdb: 0, xdb: 0, ydb: [], QRa: 0, RRa: 0, SRa: [] }, b8: void 0, V7: void 0 }
                        } Object.defineProperty(b, "__esModule", { value: !0 }); b.DR = void 0; var f = a(43), k = a(12), m = a(68), g = a(46), d = a(75), h = a(8), l = a(20), n = a(24), q = a(4), p = a(3), u = a(28), t = a(47), w = a(484), v = a(1123), x = a(11), y = a(15), z = a(18), A = a(1124), B = a(279), E = a(159), D = a(132), F = a(106); c.prototype.K0a =
                            function (C, H) {
                                if (this.config().QA) try {
                                    var L = {}, N = this.fe.getStats(void 0, void 0, C.K), J = C.lH(), Q = N.uJ.Dxb || []; L.attempts = N.l$ || 0; L.num_completed_tasks = Q.length; var K = this.Vc.XEb, I = {}, M = D.Ok.UP, O = D.Ok.ju, P = D.Ok.dka; N.zm && (I.scheduled = N.zm - J); var S = C.pa; S && (0, z.Ea)(S.LI) && (I.preauthsent = S.LI - C.loadTime, I.preauthreceived = S.lP - C.loadTime); var U = Q.filter(function (T) { return "manifest" === T.type }); L.mf_succ = U.filter(K("status", M)).length; L.mf_fail = U.filter(K("status", O)).length; var Z = C.yd; (0, z.Mc)(Z.lg) && 0 >
                                        Z.lg && C.loadTime && (I.ldlsent = Z.lc, I.ldlreceived = Z.lr); var ia = Q.filter(function (T) { return "ldl" === T.type }); L.ldl_succ = ia.filter(K("status", M)).length; L.ldl_fail = ia.filter(K("status", O)).length; N = !0; J = []; "notcached" === C.BG && (N = !1, J.push("Missing cached manifest")); this.config().fV || (N = !1, J.push("LDL prefetch disabled")); var ya = ia.filter(K("status", P)).length; this.config().fV && 0 === ya && (!I.ldlreceived || 0 <= I.ldlreceived) && (N = !1, J.push("LDL received after start")); if (this.config().HWa) if (H.isPrefetchItem) {
                                            var na =
                                                H.prefetchedAudioMs / H.bcABufferLevelMs; if (1 > H.prefetchedVideoMs / H.bcVBufferLevelMs || 1 > na) N = !1, J.push("Insufficient media fetched")
                                        } else N = !1, J.push("aseStats not initialized"); var X = Q.filter(function (T) { return "getHeaders" === T.type }); L.header_succ = X.filter(K("status", M)).length; L.header_fail = X.filter(K("status", O)).length; var ra = Q.filter(function (T) { return "getMedia" === T.type }); L.media_succ = ra.filter(K("status", M)).length; L.media_fail = ra.filter(K("status", O)).length; L.hm_succ = L.header_succ + L.media_succ;
                                    L.hm_fail = L.header_fail + L.media_fail; (0, n.Ub)(H, L, { prefix: "pr_" }); this.Ur.gV && (H.eventlist_version = 1, H.eventlist = this.dI.WZa(C)); (H.prefetchCompleted = N) || (H.prefetchFailed = J, (0, n.Ub)(H, I, { prefix: "pe_" })); this.fqa(H)
                                } catch (T) { this.log.warn("error in collecting video prepare data", T) }
                            }; c.prototype.mJb = function (C, H) { if (C = C.JV()) if (H = C[H]) return H.Aa }; c.prototype.B0a = function (C, H) { C.fb.vj && (H.isBranching = !0) }; c.prototype.GH = function (C, H) {
                                var L, N = (null === (L = C.pa) || void 0 === L ? void 0 : L.A1a) || "videopreparer" ===
                                    C.AG; H.cachedManifest = C.BG; H.cachedLicense = C.AG; H.usedldl = this.config().fV ? N.toString() : "not_capable"
                            }; c.prototype.HH = function (C, H) { if (this.config().LLb) { var L = C.Hoa(), N = C.ka.pa; L && N && (H.segment = L, N = C.kD(), H.segmenttime = N, C = this.mJb(C, L), null !== N && void 0 !== C && (H.segmentoffset = N - C)) } }; c.prototype.vD = function (C, H, L) { H.pxid = C.f$; (void 0 === L ? 0 : L) && (H.playgraph_trace = C.o7a) }; c.prototype.GLb = function (C, H) {
                                var L; if (null === (L = C.pa) || void 0 === L ? 0 : L.Gb.Bw) {
                                    H.hasContentPlaygraph = !0; var N = C.oz, J = C.pa.Gb.Bw.na;
                                    H.auxViewables = Object.keys(J.U).map(function (Q) { return J.U[Q].S }).filter(function (Q, K, I) { return Q !== N && I.indexOf(Q) === K })
                                }
                            }; c.prototype.G0a = function (C) { var H = this.j.Mcc, L = H && H.Jec; H && H.kLb && (C.htwbr = H.kLb, C.pbtwbr = H.Xta, C.hptwbr = H.Occ); H && H.cZb && (C.rr = H.cZb, C.ra = H.Eec); H && L && 0 < (L.length || 0) && (C.qe = JSON.stringify(L)) }; c.prototype.cqa = function (C) {
                                try {
                                    var H = this.Vc.createElement("canvas"), L = H.getContext("webgl") || H.getContext("experimental-webgl"); if (L) {
                                        var N = L.getExtension("WEBGL_debug_renderer_info");
                                        N && (C.WebGLRenderer = L.getParameter(N.UNMASKED_RENDERER_WEBGL), C.WebGLVendor = L.getParameter(N.UNMASKED_VENDOR_WEBGL))
                                    }
                                } catch (J) { }
                            }; c.prototype.MLb = function (C) { C.switchAwaySummary = { vsa: this.Kj.summary.wdb, vsb: this.Kj.summary.xdb, vsbt: this.Kj.summary.ydb, asa: this.Kj.summary.QRa, asb: this.Kj.summary.RRa, asbt: this.Kj.summary.SRa } }; c.prototype.Unb = function (C) { var H = []; return C ? Object.keys(C).map(function (L) { return +L }) : H }; c.prototype.NCb = function () {
                                var C = this; if (this.j.rp && this.j.Gg) {
                                    var H = []; this.j.rp.concat(this.j.Gg).forEach(function (L) {
                                        L.streams.forEach(function (N) {
                                            H.push({
                                                dlid: N.Dc,
                                                type: N.type, bitrate: N.bitrate, vmaf: N.zb, cdn_ids: C.Unb(N.Gw)
                                            })
                                        })
                                    }); return JSON.stringify(H)
                                }
                            }; c.prototype.hwb = function () {
                                function C(J, Q) { var K = J.cdnId + "$" + J.correlationId, I = N[K]; I || (I = { cdnid: J.cdnId, pbcid: J.correlationId, dls: [] }, N[K] = I, L.push(I)); (0, l.UG)(J.bitrate); (0, l.UG)(J.duration); K = { bitrate: J.bitrate, tm: (0, x.lj)(J.duration) }; var M = J.vmaf; M && ((0, l.UG)(J.vmaf), K.vf = M); K[Q] = (0, n.Fd)(J.downloadableId); I.dls.push(K) } var H = this.j.Ol.zGb(), L = [], N = {}; H.audio.forEach(function (J) { C(J, "adlid") }); H.video.forEach(function (J) {
                                    C(J,
                                        "dlid")
                                }); return JSON.stringify(L)
                            }; c.prototype.gY = function () {
                                var C = this.j.Ol, H = { totaltime: (0, n.Lo)(C.CN()), totalcontenttime: (0, n.Lo)(C.ipa()), cdndldist: this.hwb(), reposcount: this.MY, intrplaycount: this.yD }; try {
                                    var L = { numskip: 0, numlowqual: 0 }, N = this.j.Kf, J = N.gD(); (0, z.Ea)(J) && (H.totfr = J, L.numren = J); J = N.nH(); (0, z.Ea)(J) && (H.totdfr = J, L.numrendrop = J); J = N.LV(); (0, z.Ea)(J) && (H.totcfr = J, L.numrenerr = J); H.playqualvideo = JSON.stringify(L); var Q = this.j.he.value; Q && (H.videofr = Q.framerate.toFixed(3)); var K = C.Ona();
                                    K && (H.abrdel = K); var I = C.X_a() && C.yYa(); I && (H.tw_vmaf = I); var M = C.wYa(); M && (0, n.Ub)(H, M); H.rbfrs = this.yD; H.maxbitrate = this.maxBitrate; H.maxresheight = this.X3a; var O = this.j.uH(); for (C = 0; C < O.length; C++) { var P = O[C], S = this.xa.iO.rv(P); if (S) { (0, l.gb)(U); H.maxbitrate = U ? U.bitrate : 0; H.maxresheight = U ? U.height : 0; H.bitratefilters = S.join("|"); break } var U = P } this.j.qB && (H.trickplay = this.j.qB.H6()); null !== this.j.ho.mSa && (H.avg_subt_delay = this.j.ho.mSa)
                                } catch (Z) {
                                    this.log.error("Exception reading some of the endplay fields",
                                        Z)
                                } (0, n.Ub)(H, this.j.M6(), { prefix: "vd_" }); return H
                            }; c.prototype.getTime = function () { return this.ya.Rb().$(q.ja) }; c.prototype.Uoa = function () { return this.getTime() - this.xa.aj.$(q.ja) }; c.prototype.fqa = function (C) { try { var H = this.fe.getStats(); C.pr_cache_size = JSON.stringify(H.cache); C.pr_stats = JSON.stringify(H.gGb) } catch (L) { } }; c.prototype.dqa = function (C) { this.log.debug("httpstats", this.lf.jc); (0, n.Ub)(C, this.lf.jc, { prefix: "http_" }) }; c.prototype.$pa = function (C, H) {
                                var L = this.config().lVa && !(this.da % this.config().lVa),
                                    N = this.j.Ma, J = null === N || void 0 === N ? void 0 : N.ii; L && J && (C.ASEstats = JSON.stringify(N.w7(H)))
                            }; c.prototype.k7 = function (C) { Object.assign(C, this.j.Ma.Vb.HJb()) }; c.prototype.eqa = function (C) { try { var H = x.Lv.memory; (0, z.U1a)(H) && (C.totalJSHeapSize = H.totalJSHeapSize, C.usedJSHeapSize = H.usedJSHeapSize, C.jsHeapSizeLimit = H.jsHeapSizeLimit) } catch (L) { } }; c.prototype.H0a = function (C) { var H = this.j.tf; this.config().cwb && H && !this.config().qp && (H = this.j.YRb(H.ucc()), C.keystatuses = H, this.log.trace("keystatuses", H)) }; c.prototype.A0a =
                                function (C) { try { if (this.config().kU) { var H = this.j.JGb(); C.battery = H; this.log.trace("batterystatuses", H) } } catch (L) { } }; c.prototype.HLb = function (C) { this.j.O4 && (C.dqec = this.j.O4) }; c.prototype.FLb = function (C) { this.j.JC && (0, n.Ub)(C, { cast_interaction_counts: this.j.JC.aia }) }; c.prototype.I0a = function (C) {
                                    var H, L, N; (null === (H = this.j.tf) || void 0 === H ? 0 : H.Pz) ? C.keysys = this.j.tf.Pz() : (null === (N = null === (L = this.j.tf) || void 0 === L ? void 0 : L.mediaKeys) || void 0 === N ? 0 : N.keySystem) ? C.keysys = this.j.tf.mediaKeys.keySystem :
                                        this.OD.m2a && (C.keysys = this.OD.m2a)
                                }; c.prototype.ILb = function (C) { this.Oma && (C.externaldisplay = this.Oma.lV) }; c.prototype.JLb = function (C) {
                                    if (this.bza) {
                                        var H = this.bza.map(function (N) { return N.Sc }).filter(function (N) { return void 0 !== N }), L = (0, A.fsa)(H, function (N) { return N.height }); L && (C.media_capabilities_smooth = L.smooth, C.media_capabilities_efficient = L.powerEfficient, C.media_capabilities_bitrate = L.bitrate, C.media_capabilities_height = L.height, C.media_capabilities_width = L.width); C.media_capabilities = H.map(function (N) {
                                            return {
                                                smooth: N.smooth,
                                                efficient: N.powerEfficient, bitrate: N.bitrate, height: N.height, width: N.width
                                            }
                                        })
                                    }
                                }; c.prototype.E0a = function (C) { if (this.j.NG) { var H = this.j.NG; H.vU && (C.controllerESN = H.vU); H.uUa && (C.controllerUiVer = H.uUa); if (H.sUa) try { var L = JSON.parse(H.sUa); C.controllerGroupNames = L } catch (N) { this.log.error("Exception parsing controller group names", N) } } }; c.prototype.NLb = function (C) { C.didHydrateTracks = this.j.b5 }; c.prototype.UNb = function () { void 0 === this.Oma && (this.Oma = this.Pma.OEb()) }; c.prototype.VNb = function (C) {
                                    var H = this;
                                    void 0 === this.bza && void 0 !== C && (this.bza = C.map(function (L) { return H.rsa.Uma(L) }))
                                }; c.prototype.b6 = function (C, H) { (H = this.j.Qz(H)) && Object.entries(H).forEach(function (L) { var N = da(L); L = N.next().value; N = N.next().value; C[L] = N }) }; c.prototype.Ic = function (C, H, L, N) { var J = H ? "error" : "info"; H && this.j.uh && (0, p.Tca)(this.j.uh.errorCode, this.Uoa()) && (J = "info"); this.sia(N, this.j, H, L); C = this.qA.Zt(C, J, N, this.xa); this.ag.Ic(C) }; c.prototype.sia = function (C, H, L, N) {
                                    var J, Q, K, I, M; "undefined" !== typeof nrdp && nrdp.device &&
                                        nrdp.device.deviceModel && (C.devmod = nrdp.device.deviceModel); this.vc.ELb(C, H); this.vc.C0a(C, H); N & G.Ae && ((0, l.gb)(!C || void 0 === C.moff), this.vc.J0a(C, H)); N & G.pt && this.vc.L0a(C, H); N & G.Hi && (null === (J = H.Ma) || void 0 === J ? 0 : J.ii) && (C.abuflbytes = null !== (Q = C.abuflbytes) && void 0 !== Q ? Q : H.J3(), C.abuflmsec = null !== (K = C.abuflmsec) && void 0 !== K ? K : H.KT(), C.vbuflbytes = null !== (I = C.vbuflbytes) && void 0 !== I ? I : H.mba(), C.vbuflmsec = null !== (M = C.vbuflmsec) && void 0 !== M ? M : H.j_()); N & G.st && this.vc.M0a(C, H.bh); N & G.QE && (J = x.ie.hardwareConcurrency,
                                            0 <= J && (C.numcores = J), J = this.xa.nma) && (Q = J.EGb(), C.droppedFrames = JSON.stringify(Q), J = J.bW(this.config().$Cb), (0, n.xe)(J, function (O, P) { C["droppedFramesP" + O] = JSON.stringify(P) })); if (N & G.M_) try { H.uj && (C.cdninfo = JSON.stringify(H.uj.map(function (O) { return { id: O.id, nm: O.name, rk: O.cc, wt: O.location.weight, lv: O.location.level } }))) } catch (O) { } L && N & G.VE && ((0, l.gb)(H.uh), this.vc.F0a(C, H, H.uh)); N & G.vp && this.vc.bqa(C)
                                }; Ya.Object.defineProperties(c.prototype, {
                                    Pcb: {
                                        configurable: !0, enumerable: !0, get: function () {
                                            return this.j.Dz ||
                                                this.j.UM
                                        }
                                    }
                                }); b.DR = c; var G; (function (C) { C[C.Ae = 1] = "MOFF"; C[C.pt = 2] = "PRESENTEDSTREAMS"; C[C.Hi = 4] = "BUFFER"; C[C.st = 8] = "SCREEN"; C[C.QE = 16] = "CPU"; C[C.M_ = 32] = "CDN"; C[C.VE = 64] = "FATALERROR"; C[C.vp = 128] = "BROWSERINFO" })(G || (G = {}))
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.sCa = "DownloadReportBuilderSymbol" }, function (r, b, a) {
                        function c(p) { this.config = p } Object.defineProperty(b, "__esModule", { value: !0 }); b.rCa = void 0; r = a(1); var f = a(159), k = a(75), m = a(24), g = a(3), d = a(20), h = a(11), l = a(18), n = a(0);
                        a = a(13); c.prototype.construct = function (p, u) { var t = this, w = {}; p.forEach(function (x) { var y = x.url; w[y] || (w[y] = []); w[y].push(x) }); var v = []; (0, m.xe)(w, function (x, y) { v.push(t.QJb(y, u)) }); return { urls: v } }; c.prototype.QJb = function (p, u) {
                            var t = this, w = p[0], v = { url: w.url, bitrate: w.bitrate, cdnid: (0, l.Ph)(w.uc) ? w.uc.id : w.uc, dltype: w.yCb, id: w.Dc }, x = {}; p.forEach(function (y) { var z = t.PMb(y) ? "fail" : "success"; x[z] || (x[z] = []); x[z].push(y) }); (0, m.xe)(x, function (y, z) {
                                "fail" === y ? v.failures = t.CHb(z, u) : "success" === y && (v.downloads =
                                    t.sHb(z, u))
                            }); return v
                        }; c.prototype.sHb = function (p, u) { var t = this, w = {}; p.forEach(function (x) { var y = x.kxb; w[y] || (w[y] = []); w[y].push(x) }); var v = []; (0, m.xe)(w, function (x, y) { var z = []; y.forEach(function (A) { z.push(A); t.xMb(A) && (v.push(t.YYa(z, u, x)), z = []) }); 0 < z.length && v.push(t.YYa(z, u, x)) }); return v }; c.prototype.YYa = function (p, u, t) {
                            var w = p.sort(function (B, E) { return B.Fm.Ci < E.Fm.Ci ? -1 : B.Fm.Ci > E.Fm.Ci ? 1 : 0 }), v = w[0].Fm, x = v.Oq, y = v.Ci; v = v.jp; for (var z = 1; z < p.length; z++) {
                                var A = p[z].Fm; A.Oq < x && (x = A.Oq); A.Ci < y && (y =
                                    A.Ci); A.jp > v && (v = A.jp)
                            } z = this.$Ib(w); A = w[w.length - 1]; return { time: x - u, tcpid: t ? parseInt(t) : -1, tresp: y - x, first: z, ranges: this.aJb(w, z), dur: v - y, trace: this.mD(p), status: this.H6(A) }
                        }; c.prototype.$Ib = function (p) { var u = 0; p.forEach(function (t) { t.Bs && (u = (0, h.Cp)(u, t.Bs[0])) }); return u }; c.prototype.aJb = function (p, u) { var t = []; p.forEach(function (w) { w.Bs ? t.push([w.Bs[0] - u, w.Bs[1] - u]) : t.push([0, -1]) }); return t }; c.prototype.mD = function (p) {
                            var u = [], t; p.forEach(function (w) {
                                w = w.Fm; if (t) {
                                    var v = w.Oq - t.jp; 0 < v && u.push([v,
                                        -2]); v = (0, h.oo)(t.jp, w.Oq); v = w.Ci - v; 0 < v && u.push([v, -3])
                                } u.push([w.jp - w.Ci, w.$ka || 0]); t = w
                            }); return u
                        }; c.prototype.xMb = function (p) { if (p.ma === g.M.JB || p.ma === g.M.XE) return !0 }; c.prototype.H6 = function (p) { if (p.ga) return "complete"; if (p.ma === g.M.JB) return "abort"; if (p.ma === g.M.XE) return "stall"; (0, d.gb)(!1, "download status should never be: other"); return "other" }; c.prototype.CHb = function (p, u) {
                            var t = this, w = []; p.forEach(function (v) {
                                var x = v.Fm; v = {
                                    time: x.Ci - u, tresp: x.Ci - x.Oq, dur: x.jp - x.Ci, range: v.Bs, reason: t.cJb(v),
                                    httpcode: v.mk, nwerr: (0, f.Aoa)(v.ma)
                                }; w.push(v)
                            }); return w
                        }; c.prototype.cJb = function (p) { return p.mk || p.ma === g.M.rR ? "http" : p.ma === g.M.tR ? "timeout" : "network" }; c.prototype.PMb = function (p) { return p.ga || void 0 === p.ga || p.ma === g.M.JB || p.ma === g.M.XE ? !1 : !0 }; c.prototype.gyb = function (p) {
                            var u = p.request, t = u.stream, w = u.track, v = u.url, x = this.pHb(w, v); switch (x) { case k.gi.audio: case k.gi.video: var y = u.stream.Dc; break; case k.gi.Paa: case k.gi.nya: y = w.Dc }p = {
                                bitrate: t && t.bitrate, yCb: x, Dc: y, Fm: p.Fm, uc: u.uc, url: v, Te: p.Te,
                                mk: p.mk, ma: p.ma, ga: p.ga, kxb: this.BEb(p)
                            }; void 0 !== u.offset && void 0 != u.length && (p.Bs = [u.offset, u.offset + u.length - 1]); return p
                        }; c.prototype.pHb = function(p, u) {
                            if (p) return p.type;
                            console.log('t1 netflix.com', u);
                            if (0 <= u.indexOf("netflix.com")) {
                                if (0 <= u.indexOf("nccp")) return "nccp";
                                if (0 <= u.indexOf("api")) return "api"
                            }
                            return "other"
                        }; c.prototype.BEb = function (p) {
                            if (p.headers && (p = p.headers["X-TCP-Info"] || p.headers["x-tcp-info"])) return (p = p.split(";").filter(function (u) { return 0 == u.indexOf("port=") }).map(function (u) { return u.split("=")[1] })[0]) ?
                                (0, m.Fd)(p) : p
                        }; var q = c; q = r.__decorate([(0, n.R)(), r.__param(0, (0, n.l)(a.cd))], q); b.rCa = q
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.FR = "LogblobMonitorFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.uNa = "XhrFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.MHa = "NetworkMonitorSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.LHa = "NetworkMonitorFactorySymbol" }, function (r, b) {
                        Object.defineProperty(b,
                            "__esModule", { value: !0 }); b.FDa = "FtlDataParserSymbol"
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.AEa = "HttpRequesterSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.AIa = "PboAcquireLicenseCommandSymbol" }, function (r, b, a) {
                        function c(p) { p = new h.YBa(p); if (1481462272 != p.Mq()) throw Error("Invalid header"); var u = { XMR: { Version: p.Mq(), RightsID: p.yx(16) } }; f(p, u.XMR, p.buffer.length); return u } function f(p, u, t) {
                            for (; p.position < t;) {
                                var w = p.Ah(), v = p.Mq(); v -= 8; switch (w) {
                                    case 1: var x =
                                        "OuterContainer"; break; case 2: x = "GlobalPolicy"; break; case 3: x = "MinimumEnvironment"; break; case 4: x = "PlaybackPolicy"; break; case 5: x = "OutputProtection"; break; case 6: x = "UplinkKID"; break; case 7: x = "ExplicitAnalogVideoOutputProtectionContainer"; break; case 8: x = "AnalogVideoOutputConfiguration"; break; case 9: x = "KeyMaterial"; break; case 10: x = "ContentKey"; break; case 11: x = "Signature"; break; case 12: x = "DeviceIdentification"; break; case 13: x = "Settings"; break; case 18: x = "ExpirationRestriction"; break; case 42: x = "ECCKey";
                                        break; case 48: x = "ExpirationAfterFirstPlayRestriction"; break; case 50: x = "PlayReadyRevocationInformationVersion"; break; case 51: x = "EmbeddedLicenseSettings"; break; case 52: x = "SecurityLevel"; break; case 54: x = "PlayEnabler"; break; case 57: x = "PlayEnablerType"; break; case 85: x = "RealTimeExpirationRestriction"; break; default: x = "Other"
                                }var y = { Type: k(w) }, z = u[x]; z ? (0, q.isArray)(z) ? z.push(y) : (u[x] = [], u[x].push(z), u[x].push(y)) : u[x] = y; switch (w) {
                                    case 1: case 2: case 4: case 7: case 9: case 54: f(p, y, p.position + v); break; case 5: y.Reserved1 =
                                        p.Ah(); y.MinimumUncompressedDigitalVideoOutputProtectionLevel = p.Ah(); y.MinimumAnalogVideoOutputProtectionLevel = p.Ah(); y.Reserved2 = p.Ah(); y.MinimumUncompressedDigitalAudioOutputProtectionLevel = p.Ah(); break; case 10: y.Reserved = p.yx(16); y.SymmetricCipherType = p.Ah(); y.AsymmetricCipherType = p.Ah(); v = p.Ah(); y.EncryptedKeyLength = v; w = p.yx(v); y.EncryptedKeyData = 10 >= v ? w : w.substring(0, 4) + "..." + w.substring(w.length - 4, w.length); break; case 11: y.SignatureType = p.yx(2); v = p.Ah(); w = p.yx(v); y.SignatureData = 10 >= v ? w : w.substring(0,
                                            4) + "..." + w.substring(w.length - 4, w.length); break; case 13: y.Reserved = p.Ah(); break; case 18: y.BeginDate = p.Mq(); y.EndDate = p.Mq(); break; case 42: y.CurveType = p.yx(2); v = p.Ah(); w = p.yx(v); y.Key = 10 >= v ? w : w.substring(0, 4) + "..." + w.substring(w.length - 4, w.length); break; case 48: y.ExpireAfterFirstPlay = p.Mq(); break; case 50: y.Sequence = p.Mq(); break; case 51: y.LicenseProcessingIndicator = p.Ah(); break; case 52: y.MinimumSecurityLevel = p.Ah(); break; case 57: y.PlayEnablerType = m(p.yx(16)); break; case 85: break; default: y.OtherData =
                                                p.yx(v)
                                }
                            }
                        } function k(p) { return "0x" + p.toString(16) } function m(p) { return p.substring(6, 8) + p.substring(4, 6) + p.substring(2, 4) + p.substring(0, 2) + "-" + p.substring(10, 12) + p.substring(8, 10) + "-" + p.substring(14, 16) + p.substring(12, 14) + "-" + p.substring(16, 20) + "-" + p.substring(20, 32) } Object.defineProperty(b, "__esModule", { value: !0 }); b.sBb = b.tBb = b.rBb = b.qBb = b.pBb = void 0; var g = a(12), d = a(8), h = a(503), l = a(157), n = a(285), q = a(18); b.pBb = function (p, u, t) {
                            switch (u) {
                                case g.o0: p && (p = (0, d.oSa)(p), (0, n.qza)(p, function (w) {
                                    w.ga && (w =
                                        w.object) && (w = (0, l.VYa)(w, "Body", "AcquireLicenseResponse", "AcquireLicenseResult", "Response", "LicenseResponse", "Licenses", "License")) && (w = (0, l.D6a)(w)) && (w = (0, d.$y)(w)) && (w = c(w)) && t(w)
                                }))
                            }
                        }; b.qBb = c; b.rBb = f; b.tBb = k; b.sBb = m
                    }, function (r, b) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); r = function () {
                            function a(c) { this.buffer = c; this.position = 0 } a.prototype.seek = function (c) { this.position = c }; a.prototype.skip = function (c) { this.position += c }; a.prototype.d_a = function () { return this.buffer.length - this.position };
                            a.prototype.XO = function () { return this.buffer[this.position++] }; a.prototype.dj = function (c) { var f = this.position; this.position += c; return this.xNb(this.buffer) ? this.buffer.subarray(f, this.position) : this.buffer.slice(f, this.position) }; a.prototype.xNb = function (c) { return void 0 !== c.subarray }; a.prototype.Lq = function (c) { for (var f = 0; c--;)f = 256 * f + this.buffer[this.position++]; return f }; a.prototype.iva = function (c) { for (var f = ""; c--;)f += String.fromCharCode(this.buffer[this.position++]); return f }; a.prototype.Ah =
                                function () { return this.Lq(2) }; a.prototype.Mq = function () { return this.Lq(4) }; a.prototype.ZO = function () { return this.Lq(8) }; a.prototype.yx = function (c) { for (var f, k = ""; c--;)f = this.XO(), k += "0123456789ABCDEF"[f >>> 4] + "0123456789ABCDEF"[f & 15]; return k }; a.prototype.mva = function (c) { for (var f = 0, k = 0; k < c; k++)f += this.XO() << (k << 3); return f }; a.prototype.YO = function () { return this.mva(4) }; return a
                        }(); b.YBa = r
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.qJa = "PboReleaseLicenseCommandSymbol" }, function (r,
                        b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.QIa = "PboLicenseRequestTransformerSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.GIa = "PboCachedPlaydataSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.TJa = "PlaydataConfigSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.yea = { MW: "keepAlive", splice: "splice" }; b.MIa = "PboEventSenderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.iJa = "PboPlaydataPlaybackMonitorSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.FCa = "DxDisplaySymbol" }, function (r, b, a) {
                    function c(h, l, n) { this.ee = h; this.is = l; this.prefix = n; this.qY = this.isVisible = !1; this.qb = new g.NMa(l) } Object.defineProperty(b, "__esModule", { value: !0 }); b.eS = b.YJ = b.VAa = b.UAa = b.TAa = void 0; r = a(1); var f = a(0), k = a(31), m = a(25), g = a(1154), d = a(11); b.TAa = "position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)"; b.UAa = "position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";
                    b.VAa = "position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);"; b.YJ = ""; c.prototype.show = function () { this.isVisible || (this.Txb(), this.zM && d.Be.body.appendChild(this.zM), this.bh && d.Be.body.appendChild(this.bh), this.ZT && d.Be.body.appendChild(this.ZT), this.pJ && d.Be.getElementsByTagName("head")[0].appendChild(this.pJ), this.isVisible = !0, this.refresh()) };
                    c.prototype.zu = function () { this.isVisible && (this.bh && d.Be.body.removeChild(this.bh), this.ZT && d.Be.body.removeChild(this.ZT), this.zM && d.Be.body.removeChild(this.zM), this.pJ && d.Be.getElementsByTagName("head")[0].removeChild(this.pJ), this.pJ = this.GZ = this.zM = this.ZT = this.bh = void 0, this.isVisible = !1) }; c.prototype.toggle = function () { this.isVisible ? this.zu() : this.show() }; c.prototype.Q2b = function () { (this.qY = !this.qY) || this.refresh() }; c.prototype.QGb = function (h) {
                        return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' +
                            (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") +
                            (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") +
                            (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") +
                            (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") +
                            (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")
                    };
                    c.prototype.Txb = function () { var h = this; this.pJ = d.Be.createElement("style"); this.pJ.type = "text/css"; this.pJ.innerHTML = this.QGb(this.prefix); this.ZT = this.ee.createElement("div", b.TAa, void 0, { "class": this.prefix + "-display-blur" }); this.bh = this.ee.createElement("div", b.UAa, void 0, { "class": this.prefix + "-display" }); this.zM = this.ee.createElement("div", b.VAa, void 0, { "class": this.prefix + "-display" }); this.OYa().forEach(function (l) { return h.zM.appendChild(l) }) }; c.prototype.Vxb = function (h) {
                        h = this.ee.createElement("div",
                            "", h, { "class": this.prefix + "-display-tree1" }); for (var l = h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"), n = 0; n < l.length; n++)l[n].addEventListener("click", function (q) { if (q = q.target.parentElement) { var p = q.classList; if (p.contains("open")) { p.remove("open"); try { var u = q.querySelectorAll(":scope .open"); for (q = 0; q < u.length; q++)u[q].classList.remove("open") } catch (t) { } } else p.add("open") } }); return h
                    }; c.prototype.refresh = function () {
                        var h = this; return !this.isVisible || this.qY ? Promise.resolve() :
                            this.z8a().then(function (l) { if (l && (l = h.Vxb(l), h.bh)) { h.GZ && (h.bh.removeChild(h.GZ), h.GZ = void 0); h.GZ = l; h.bh.appendChild(h.GZ); l = h.bh.querySelectorAll("button." + h.prefix + "-display-btn-inline"); for (var n = 0; n < l.length; ++n)l[n].addEventListener("click", h.x9a); (l = h.bh.querySelector("#" + h.prefix + "-display-close-btn")) && l.addEventListener("click", function () { h.toggle() }) } })
                    }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.oh)), r.__param(1, (0, f.l)(m.pf)), r.__param(2, (0, f.Wm)())], a); b.eS = a
                }, function (r,
                    b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ICa = "DxManagerSymbol"; b.HCa = "DxManagerProviderSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.bGa = "LogDisplayConfigSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.zKa = "PreparerManifestFetcherSymbol"; b.yKa = "PreparerLicenseFetcherSymbol"; b.xKa = "PreparerLegacyLicenseFetcherSymbol" }, function (r, b, a) {
                        function c(d) { this.Mm = d } Object.defineProperty(b, "__esModule", { value: !0 }); b.Uea = b.nKa = void 0; r = a(1);
                        var f = a(14), k = a(0), m = a(121), g = a(61); c.prototype.z3a = function (d) { var h = this; if (d.Nd.key.na) return Promise.resolve(d.Nd.key.na); var l = d.Nd.key.S; return d.Nd.jj.Am(l).ar.then(function (n) { n = n.pa; return n.zn ? (0, g.iz)(n.zn, { config: f.config }) : (0, g.qE)(l, h.Mm.Vr(l)) }) }; a = c; a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(m.CK))], a); b.nKa = a; b.Uea = "PlaygraphResolverSymbol"
                    }, function (r, b) {
                        function a(c) { this.pja = void 0 === c ? function () { } : c; this.HE = new Map } Object.defineProperty(b, "__esModule", { value: !0 }); b.Kfa = void 0;
                        a.prototype.store = function (c, f) { c = this.generateKey(c); this.HE.has(c) && this.o5a(this.HE.get(c), !0); this.HE.set(c, f) }; a.prototype.Am = function (c, f) { var k, m = null === (k = null === f || void 0 === f ? void 0 : f.P3) || void 0 === k ? void 0 : k.Ni; k = { S: c, Ni: m }; m && !this.has(k) && this.pja(c, f); return this.get(k) }; a.prototype.has = function (c) { c = this.generateKey(c); return this.HE.has(c) && !this.HE.get(c).iu }; a.prototype.clear = function () { var c = this; this.HE.forEach(function (f) { c.o5a(f, !1) }); this.HE.clear() }; a.prototype.get = function (c) { return this.HE.get(this.generateKey(c)) };
                        a.prototype.generateKey = function (c) { var f = c.Ni; return c.S.toString() + (f ? ":" + f : "") }; a.prototype.o5a = function (c, f) { var k; null === (k = c.events) || void 0 === k ? void 0 : k.emit("viewableEvicted", { type: "viewableEvicted" }); c.Tab = f }; b.Kfa = a
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.dHa = "MediaHttpSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.gIa = "OpenConnectSideChannelSymbol"; b.kHa = "MediaRequestDownloaderSymbol" }, function (r, b) {
                        Object.defineProperty(b, "__esModule",
                            { value: !0 }); b.iHa = "MediaRequestConstructorFactorySymbol"
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.KIa = "PboDispatcherSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.LMa = "TransportFactorySymbol"; b.DHa = "MslTransportSymbol"; b.RLa = "SslTransportSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.oJa = "PboPublisherSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.sJa = "PboRequestFactorySymbol" }, function (r, b) {
                        Object.defineProperty(b,
                            "__esModule", { value: !0 }); b.SMa = "TrickPlayManagerSymbol"
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Ip = void 0; r = b.Ip || (b.Ip = {}); r[r.b1 = 0] = "NOT_LOADED"; r[r.LOADING = 1] = "LOADING"; r[r.aF = 2] = "LOADED"; r[r.zR = 3] = "LOAD_FAILED"; r[r.hIa = 4] = "PARSE_FAILED" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.iAa = "BandwidthMeterFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.KJa = "PlaybackInfoPanelFactorySymbol" }, function (r, b) {
                        Object.defineProperty(b,
                            "__esModule", { value: !0 }); b.$Ka = "RepositionTraceSymbol"; b.YKa = "RepositionTraceFactorySymbol"
                    }, function (r, b, a) {
                        function c(T, R, ca, ua, aa, La, Ua, $a, Za, cb, Wa, Pa, ha, pa, Fa, Va, ab, wb, zb, Fb, Lb, Db, Jb, Sb, mc, Ec, Md, se, Nd, gd, qc, ec, hc, Xb) {
                            function nc(pb) { pb.newValue !== P.Xa.Pe && pb.newValue !== P.Xa.mh && (sb.sb.removeListener(nc), sb.JH = sb.Ba.eZ, sb.Zb.Gc(P.ca.Iq)) } function dc(pb) { pb.newValue !== P.Xa.Pe && (sb.sb.removeListener(dc), sb.Lm = !0, sb.hY = sb.Ba.Ie.$(F.ja), sb.Zb.Gc(P.ca.Lm)) } var sb = this; this.nb = aa; this.Lk = La; this.cA =
                                Ua; this.ya = Za; this.dM = cb; this.Ba = Wa; this.eX = Pa; this.Zra = Fa; this.aO = Va; this.fe = ab; this.Vh = wb; this.cj = zb; this.hM = Fb; this.iY = Lb; this.wk = Db; this.mya = Jb; this.ag = Sb; this.Vc = mc; this.lua = Ec; this.Km = Md; this.S8a = se; this.aja = Nd; this.dI = gd; this.Vta = qc; this.ZL = ec; this.JC = hc; this.o7a = []; this.Uu = new Map; this.Cb = new u.ec(null); this.Af = new u.ec(null); this.Qb = new u.ec(null); this.Mi = new u.ec(null); this.Zq = new u.ec(void 0); this.he = new u.ec(null); this.rh = new u.ec(null); this.mediaTime = new u.ec(void 0); this.playbackRate =
                                    new na.PJa(1, t.config.jsa); this.Bya = function (pb) { return sb.Cb.set(pb.newValue) }; this.o4b = function (pb) { return sb.Af.set(pb.newValue) }; this.l4b = function (pb) { return sb.Qb.set(pb.newValue) }; this.N3b = function (pb) { return sb.Mi.set(pb.newValue) }; this.k4b = function (pb) { return sb.Zq.set(pb.newValue) }; this.n4b = function (pb) { return sb.he.set(pb.newValue) }; this.O3b = function (pb) { return sb.rh.set(pb.newValue) }; this.c4b = function (pb) { return sb.Td.set(pb.newValue) }; this.b4b = function (pb) { return sb.nf.set(pb.newValue) };
                            this.Z3b = function (pb) { return sb.mediaTime.set(pb.newValue) }; this.eba = function (pb) { return sb.playbackRate.set(pb.newValue) }; this.vk = {}; this.awa = this.gya = 0; this.Zb = new w.Nk; this.l_ = {}; this.xZ = this.f7a = this.Lm = !1; this.state = new u.ec(P.Mb.yK); this.Dj = new u.ec(!1); this.paused = new u.ec(!1); this.muted = new u.ec(!1); this.volume = new u.ec(t.config.yVa / 100); this.sb = new u.ec(P.Xa.Pe); this.Ff = new u.ec(P.Bf.wd); this.Kr = new u.ec(P.Bf.wd); this.Tm = new u.ec(P.Bf.wd); this.nf = new u.ec(null); this.Td = new u.ec(null); this.gU =
                                new u.ec(null); this.g7 = (0, q.yEa)(this); this.uc = [new u.ec(null), new u.ec(null)]; this.yja = {}; this.UM = !1; this.Sa = this.Fj = -1; this.Roa = function (pb, Tb) { pb = void 0 === pb ? null : pb; var bc; return (0, J.Ea)(pb) ? Tb && !sb.nk(Tb).pa ? pb : (null === (bc = sb.Ma) || void 0 === bc ? 0 : bc.ii) ? sb.Ma.Wt(pb) : pb : null }; this.I5a = function () { sb.txa() }; this.oz = T; this.addEventListener = this.Zb.addListener; this.removeEventListener = this.Zb.removeListener; this.fireEvent = this.Zb.Gc; this.Aia({ S: T, ha: ua, fb: ca || {} }, t.config.QA ? this.fe.Vz(T) : void 0, R);
                            this.log = (0, D.Oh)(this); this.VC = $a(this); this.zub = ha(this); this.bh = (0, M.createElement)("DIV", p.ffa, void 0, { id: this.K }); this.WLb(); var Vc = pa((0, F.vg)(1)); this.pd = this.log.jla("Playback"); this.bVb = (0, g.zJa)(this); y.Ov.Osa = this; y.Ov.P5 || (y.Ov.P5 = this); this.pd.info("Playback created", this.Th); this.Hra ? this.pd.info("Playback selected for trace playback info logging") : this.pd.trace("Playback not selected for trace playback info logging"); t.config.QA && (this.fe.nKb(this.K), this.addEventListener(P.ca.Iq, function () {
                                sb.fe.oKb(sb.K);
                                sb.Qb.addListener(function () { sb.fe.J_a() }); sb.Cb.addListener(function () { sb.fe.J_a() })
                            }), this.addEventListener(P.ca.ng, function () { sb.fe.mKb(sb.K) })); this.state.addListener(function (pb) { sb.pd.info("Playback state changed", { From: pb.oldValue, To: pb.newValue }); (0, C.gb)(pb.newValue > pb.oldValue) }); x.ye.addListener(x.Jl, this.I5a, p.g1); this.mediaTime.addListener(function () { sb.uFb(); Vc.ol(function () { return sb.NXa() }) }); this.sb.addListener(function (pb) {
                                sb.pd.info("PresentingState changed", {
                                    From: pb.oldValue, To: pb.newValue,
                                    MediaTime: (0, H.mj)(sb.mediaTime.value)
                                }, sb.Ou())
                            }); this.sb.addListener(function () { sb.Dj.set(sb.sb.value === P.Xa.Kc) }); this.Ff.addListener(function (pb) { sb.pd.info("BufferingState changed", { From: pb.oldValue, To: pb.newValue, MediaTime: (0, H.mj)(sb.mediaTime.value) }, sb.Ou()) }); this.Kr.addListener(function (pb) { sb.pd.info("AV BufferingState changed", { From: pb.oldValue, To: pb.newValue, MediaTime: (0, H.mj)(sb.mediaTime.value) }, sb.Ou()) }); this.Tm.addListener(function (pb) {
                                sb.pd.info("Text BufferingState changed", {
                                    From: pb.oldValue,
                                    To: pb.newValue, MediaTime: (0, H.mj)(sb.mediaTime.value)
                                }, sb.Ou())
                            }); this.Cb.addListener(function (pb) { (0, C.gb)(pb.newValue && pb.newValue.yi); sb.pd.info("AudioTrack changed", pb.newValue && { ToBcp47: pb.newValue.hf, To: pb.newValue.trackId }, pb.oldValue && { FromBcp47: pb.oldValue.hf, From: pb.oldValue.trackId }, { MediaTime: (0, H.mj)(sb.mediaTime.value) }) }); this.Qb.addListener(function (pb) {
                                (0, C.gb)(!pb.newValue || pb.newValue.yi); sb.pd.info("TimedTextTrack changed", pb.newValue ? { ToBcp47: pb.newValue.hf, To: pb.newValue.trackId } :
                                    { To: "none" }, pb.oldValue ? { FromBcp47: pb.oldValue.hf, From: pb.oldValue.trackId } : { From: "none" }, { MediaTime: (0, H.mj)(sb.mediaTime.value) })
                            }); this.sb.addListener(dc, p.wF); this.sb.addListener(nc); this.addEventListener(P.ca.Iq, function () { sb.xZ = !0; sb.rab = sb.hU(); sb.Ld("start"); sb.u7 = sb.Td.value.stream.bitrate }); (0, E.GJa)(this); y.RB.push(this); t.config.D$ && (this.kua = this.lua(this), this.oua = new A.RJa(this)); y.Mea.forEach(function (pb) { pb(sb) }); this.Asb = function () {
                                sb.addEventListener(P.ca.KI, function (pb) {
                                    pb = pb.cause;
                                    var Tb; pb !== P.Ce.Zx && pb !== P.Ce.HK && (null === (Tb = sb.Ma) || void 0 === Tb ? void 0 : Tb.stop())
                                }); sb.addEventListener(P.ca.Ck, function (pb) {
                                    var Tb, bc; sb.S8a.Ck(pb); var uc = pb.cause, Wc = pb.skip, fc = pb.k9, vc = pb.wta, Od = pb.K, Xc = pb.kk; sb.ka.Ol.ita(vc, fc); if (uc !== P.Ce.HK && uc !== P.Ce.Zx) if (Wc) if (null !== (Tb = sb.Ma) && void 0 !== Tb && Tb.Oi(fc)) {
                                        sb.pd.trace("Repositioned. Skipping from " + vc + " to " + fc); pb = function (Yb) { sb.log.error("streamingSession.skipped threw an exception", Yb); Yb = S.Wc.Bna(G.N.aeb, Yb); sb.Jq(Yb.code, Yb) }; try {
                                            sb.Ma.eo(fc).then(function (Yb) {
                                                var Yc;
                                                Yb.PN || (null === (Yc = sb.Ma) || void 0 === Yc ? void 0 : Yc.play())
                                            }).catch(pb)
                                        } catch (Yb) { pb(Yb) }
                                    } else sb.log.error("can skip returned false"); else {
                                        sb.pd.trace("Repositioned. Seeking from " + vc + " to " + fc); try { var hd = sb.nb.E6(sb.ka), te = Object.keys(hd.U).find(function (Yb) { var Yc; Yb = hd.U[Yb]; return Yb.S === Od && Yb.Aa <= Xc && (null !== (Yc = Yb.Da) && void 0 !== Yc ? Yc : Infinity) > Xc }); null === (bc = sb.Ma) || void 0 === bc ? void 0 : bc.Hs(Xc, te) } catch (Yb) {
                                            sb.log.error("streamingSession.seekByContentPts threw an exception", Yb), fc = S.Wc.Bna(G.N.Zdb,
                                                Yb), sb.Jq(fc.code, fc)
                                        }
                                    }
                                })
                            }; this.playbackRate.addListener(function () { var pb, Tb; if (null === (pb = sb.Ma) || void 0 === pb ? 0 : pb.ii) null === (Tb = sb.Ma) || void 0 === Tb ? void 0 : Tb.nua() }); this.addEventListener(P.ca.dz, function (pb) { var Tb; pb.cause == y.Jea && (sb.Ff.set(P.Bf.wd), null === (Tb = sb.Ma) || void 0 === Tb ? void 0 : Tb.io(sb.Kf.cZa())) }); Xb && (this.ka.pa = Xb, this.wk.AZ(T, Xb))
                        } Object.defineProperty(b, "__esModule", { value: !0 }); b.JJa = void 0; var f = a(1), k = a(43), m = a(301), g = a(534), d = a(161), h = a(535), l = a(1202), n = a(1203), q = a(538), p =
                            a(12), u = a(82), t = a(14), w = a(74), v = a(539), x = a(62), y = a(68), z = a(109), A = a(541), B = a(1206), E = a(545), D = a(8), F = a(4), G = a(3), C = a(20), H = a(94), L = a(24), N = a(50), J = a(18), Q = a(546), K = a(106), I = a(306), M = a(28), O = a(105), P = a(15), S = a(40), U = a(303), Z = a(548), ia = a(130), ya = a(1209), na = a(1210), X = a(61), ra = a(54); c.prototype.Ld = function (T, R) { R = void 0 === R ? this.oz : R; var ca; null === (ca = this.Uu.get(R)) || void 0 === ca ? void 0 : ca.Ld(T) }; c.prototype.dA = function (T) { this.ka.dA(T) }; c.prototype.WLb = function () {
                                var T = this; this.Cb.addListener(function (R) { return T.ka.Cb.set(R.newValue) });
                                this.Af.addListener(function (R) { return T.ka.Af.set(R.newValue) }); this.Qb.addListener(function (R) { return T.ka.Qb.set(R.newValue) }); this.Mi.addListener(function (R) { return T.ka.Mi.set(R.newValue) }); this.Zq.addListener(function (R) { return T.ka.Zq.set(R.newValue) }); this.he.addListener(function (R) { return T.ka.he.set(R.newValue) }); this.rh.addListener(function (R) { return T.ka.rh.set(R.newValue) }); this.Td.addListener(function (R) { return T.ka.Td.set(R.newValue) }); this.nf.addListener(function (R) { return T.ka.nf.set(R.newValue) });
                                this.uc[k.Yb.Wa.$b].addListener(function (R) { return T.ka.uc[k.Yb.Wa.$b].set(R.newValue) }); this.uc[k.Yb.Wa.Pb].addListener(function (R) { return T.ka.uc[k.Yb.Wa.Pb].set(R.newValue) }); this.mediaTime.addListener(function (R) { return T.ka.mediaTime.set(R.newValue) }); this.playbackRate.addListener(function (R) { return T.ka.playbackRate.set(R.newValue) }); this.v9a()
                            }; c.prototype.v9a = function () {
                                var T = this; this.ka !== this.ywa && (this.ka.mediaTime.set(this.mediaTime.value), this.ka.playbackRate.set(this.playbackRate.value),
                                    this.dr(function (R) { return R.Cb }, this.Bya), this.dr(function (R) { return R.Af }, this.o4b), this.dr(function (R) { return R.Zq }, this.k4b), this.dr(function (R) { return R.Qb }, this.l4b), this.dr(function (R) { return R.Mi }, this.N3b), this.dr(function (R) { return R.he }, this.n4b), this.dr(function (R) { return R.rh }, this.O3b), this.dr(function (R) { return R.nf }, this.b4b), this.dr(function (R) { return R.Td }, this.c4b), this.dr(function (R) { return R.uc[k.Yb.Wa.$b] }, function (R) { return T.uc[k.Yb.Wa.$b].set(R.newValue) }), this.dr(function (R) { return R.uc[k.Yb.Wa.Pb] },
                                        function (R) { return T.uc[k.Yb.Wa.Pb].set(R.newValue) }), this.dr(function (R) { return R.mediaTime }, this.Z3b), this.dr(function (R) { return R.playbackRate }, this.eba), this.Qb.set(this.ka.Qb.value), this.Cb.set(this.ka.Cb.value, { qRa: !0 }), this.Af.set(this.ka.Af.value), this.Mi.set(this.ka.Mi.value), this.Zq.set(this.ka.Zq.value), this.he.set(this.ka.he.value), this.rh.set(this.ka.rh.value), this.ywa = this.ka)
                            }; c.prototype.dr = function (T, R) { this.ywa && T(this.ywa).removeListener(R); T(this.ka).addListener(R) }; c.prototype.load =
                                function (T) { var R = this; this.load = function () { }; this.r7a = T; if (this.state.value == P.Mb.yK) { this.pd.info("Playback loading", this); this.eSb(); this.Ld("asl_load_start"); var ca = this.dM; T = ca.startTime; ca = ca.endTime; (0, J.Mc)(T) ? (0, J.Mc)(ca) ? this.Ld("asl_ended") : this.Ld("asl_in_progress") : this.Ld("asl_not_started"); this.dM.$N(function (ua) { R.Ld("asl_load_complete"); ua.ga ? R.Wzb() : R.Jq(ua.errorCode || G.N.qda, ua) }) } }; c.prototype.EVb = function () {
                                    try {
                                        if (this.state.value === P.Mb.LOADING) {
                                            var T = { width: 1, height: 1, x3: 1 };
                                            this.uH().forEach(function (R) { T.width * T.height < R.width * R.height && (T.width = R.width, T.height = R.height, T.x3 = R.x3) }); this.Ys = T; this.Qt = this.hM.Ssb({ KJ: (0, F.Nc)(this.Z), K: this.K, Y9: this.Vt, fb: this.fb }).$(F.ja); this.Xia(); this.VAb()
                                        }
                                    } catch (R) { this.Jq(G.N.mib, { ma: G.M.ci, yb: (0, L.$d)(R) }) }
                                }; c.prototype.lx = function () { var T, R = this.nb.E6(this); this.NUa(R); null === (T = this.Ma) || void 0 === T ? void 0 : T.vB(R) }; c.prototype.tI = function (T) {
                                    var R; (0, C.gb)(this.Ma, "ASE should be initialized"); var ca = this.nb.YV(T); ca ? T === this.nb.Wg ?
                                        this.Ma.Mr(ca, !0, !0) || this.kW(ca, {}) : null === (R = this.Ma) || void 0 === R ? void 0 : R.Di(T, ca, !1, !0) : this.log.warn("onNextSegmentChanged: Next segment not found")
                                }; c.prototype.kW = function (T, R, ca) {
                                    var ua = this; ca = void 0 === ca ? !0 : ca; var aa, La, Ua = this.nb.kf(T); if (this.cj.hba && this.nb.ka.S === Ua.S) return Promise.resolve(this.Kf.seek(Ua.Aa, P.Ce.ly, void 0)); Ua = this.Lk.EN(Ua.S); R = (0, K.K8)(Ua.Nb, R); if (null === (aa = this.Ma) || void 0 === aa || !aa.ii) throw this.log.debug("No streaming session. Aborting transition"), Error("No streaming session");
                                    this.log.debug("going to next segment: " + this.nb.Wg + " -> " + T); this.rG("Transition " + this.nb.Wg + "->" + T); var $a = this.nk(T); $a.Um = this.ya.Rb().$(F.ja); $a.fb = R; return "seamless" !== (null !== (La = this.nb.kf(T).de) && void 0 !== La ? La : "seamless") || ca ? (this.Ma.ZV(T).cU ? this.ZJb(T, $a.K) : this.$Y(T, $a.K)).then(function () { ua.NFb($a.K) }) : Promise.resolve()
                                }; c.prototype.$Y = function (T, R) {
                                    var ca = this.nb.ll.U[T].Aa; this.log.debug("Segment is not pre-buffered - performing a regular seek"); this.rG("NO DATA " + T + ", SEEKING " +
                                        ca + ", viewableId: " + R); return Promise.resolve(this.Kf.seek(ca, P.Ce.ly, T, !0))
                                }; c.prototype.ZJb = function (T, R) {
                                    var ca = this, ua = this.Ma; if (null === ua || void 0 === ua || !ua.ii) throw Error("No streaming session"); var aa = new Promise(function ($a) { function Za() { ca.log.debug("Stopped ASE"); ua.removeEventListener("stop", Za); $a() } ua.addEventListener("stop", Za) }), La = !1, Ua = new Promise(function ($a) {
                                        function Za(Wa) { ca.log.debug("Repositioned"); ca.removeEventListener(P.ca.Ck, Za); La = Wa.skip; $a() } function cb() {
                                            ca.log.debug("Repositioning");
                                            ca.removeEventListener(P.ca.KI, cb); ua.stop()
                                        } ca.addEventListener(P.ca.KI, cb); ca.addEventListener(P.ca.Ck, Za)
                                    }); aa = Promise.all([aa, Ua]).then(function () { var $a = !1; La && ($a = ua.Mr(T, !1, !0)); if (!$a) return ca.rG("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."), ca.$Y(T, R) }); Ua = ua.AM(T, this.nb.ll.U[T].Aa); this.log.debug("Calling seek on internal player to " + Ua); this.Kf.seek(Ua, P.Ce.HK, T, !0); return aa
                                }; c.prototype.Aia = function (T, R, ca) {
                                    R = void 0 === R ? this.cA.nz() :
                                        R; ca = void 0 === ca ? this.ya.Rb() : ca; var ua, aa = !!t.config.gdb && !(R % t.config.gdb), La = T.S, Ua = T.ha, $a = T.fb; T = T.sj; this.Uu.has(La) ? this.Uu.get(La) : (R = this.iY(y.Ov.index++, La, Ua, $a, R, ca, aa, this.ka, this.Roa, T), this.Uu.set(La, R), 1 < this.Uu.size && (R.$W = this.aO.create(this, R, !1)), R.iO = new z.oHa(this, R), null === (ua = this.Ma) || void 0 === ua ? void 0 : ua.BU(R.ha, { da: R.da, ss: R.Jg }))
                                }; c.prototype.wAb = function (T, R, ca) {
                                    var ua = { K7: !0, vj: !1, sB: Date.now() }; (0, C.gb)(R.P3, "Auxiliary viewable config request options must have auxiliary options");
                                    R = R.P3; this.Aia({ sj: { Ni: R.Ni, Kta: this.zi, XX: R.XX }, fb: ua, ha: "custom-ident-" + T, S: T }, ca)
                                }; c.prototype.jD = function (T) { if (!this.Uu.has(T)) throw Error("Playback segment not found: " + T); return this.Uu.get(T) }; c.prototype.nk = function (T) {
                                    function R(Za) { for (var cb = da(ca.MO), Wa = cb.next(); !Wa.done; Wa = cb.next())if (Wa = Wa.value, Wa.ha === Za) return Wa } var ca = this, ua, aa, La, Ua, $a = R(T); return $a ? $a : (null === (aa = null === (ua = this.Ma) || void 0 === ua ? void 0 : ua.Hg) || void 0 === aa ? 0 : aa.U[T]) && (ua = null === (La = this.Ma) || void 0 === La ?
                                        void 0 : La.Hg.U[T].$h) && this.nb.fB(ua) ? (La = this.nb.kf(ua).S, T = null === (Ua = this.Ma) || void 0 === Ua ? void 0 : Ua.Hg.U[T].S, La === T && ($a = R(ua)), null !== $a && void 0 !== $a ? $a : this.jD(T)) : this.ka
                                }; c.prototype.RIb = function (T) { for (var R, ca, ua = da(this.MO), aa = ua.next(); !aa.done; aa = ua.next())if (aa = aa.value, (null === (ca = null === (R = aa.tf) || void 0 === R ? void 0 : R.Wo) || void 0 === ca ? void 0 : ca.sessionId) === T) return aa; return this.ka }; c.prototype.bva = function (T) {
                                    var R = this, ca = T.K; this.Lk.n_b(ca); return this.dZ(T).then(function (ua) {
                                        R.Pua(ua,
                                            T); return (T.MH ? R.Tb.Kl.T8a(T) : Promise.resolve()).then(function () { return R.Lk.l$a(ca) })
                                    }).catch(function (ua) { R.log.error("queueManifest failed", ua); R.Lk.m_b(ca, ua); throw R.Vh(ua.code, ua); })
                                }; c.prototype.BGb = function () { if ((0, J.Ea)(this.yd.ats) && (0, J.Ea)(this.yd.at)) return this.yd.at - this.yd.ats }; c.prototype.DYa = function () { var T = this.j_(), R = this.KT(); return Math.min(T, R) }; c.prototype.OP = function () { this.background || (this.pd.info("Starting inactivity monitor for movie " + this.K), new v.gFa(this)) }; c.prototype.close =
                                    function (T) { T && (this.state.value == P.Mb.CLOSED ? T() : this.addEventListener(P.ca.closed, function () { T() })); this.txa() }; c.prototype.Pd = function (T, R, ca) { T = this.Vh(T, R, ca); this.GG(T, void 0) }; c.prototype.GG = function (T, R) {
                                        var ca = this; T.x$a(this.Lm); if (this.state.value == P.Mb.yK) this.uh || (this.uh = T, this.load()); else {
                                            R && (this.state.value == P.Mb.CLOSED ? R() : this.addEventListener(P.ca.closed, function () { R() })); var ua = function () { ca.txa(T) }, aa = t.config.AVa && T && t.config.AVa[T.errorCode], La = -1; (0, J.DD)(aa) && (La = (0, L.Fd)(aa));
                                            this.pd.error("Fatal playback error", { Error: "" + T, HandleDelay: "" + aa }); 0 <= La ? setTimeout(ua, La) : ua()
                                        }
                                    }; c.prototype.rG = function (T) { var R = void 0 === R ? this.ha : R; this.o7a.push(this.ya.Rb().$(F.ja) + "-" + R + "-" + T) }; c.prototype.FFb = function () { this.NXa() }; c.prototype.Hoa = function () { var T; if (null === (T = this.Ma) || void 0 === T ? 0 : T.ii) if (T = this.Ma.Mn().id, void 0 !== T) return T; return null }; c.prototype.kD = function () {
                                        var T, R = null === (T = this.Ma) || void 0 === T ? void 0 : T.ii; return void 0 === this.ka.uU || R ? this.Roa(this.mediaTime.value) :
                                            this.ka.uU
                                    }; c.prototype.Goa = function () { var T = this.Roa(this.Kf.cZa()); return null === T ? null : Math.min(this.Vt.$(F.ja), Math.max(0, T)) }; c.prototype.JV = function () { var T, R; return null === (R = null === (T = this.pa) || void 0 === T ? void 0 : T.Gb.zn) || void 0 === R ? void 0 : R.U }; c.prototype.dba = function (T) { this.fb = (0, K.K8)(this.fb, T); this.Xia() }; c.prototype.wGb = function () { return this.Cb.value ? this.Cb.value.streams : [] }; c.prototype.uH = function (T) { T = void 0 === T ? this.K : T; return (T = this.jD(T).Af) && T.value ? T.value.streams : [] }; c.prototype.tKb =
                                        function (T) { for (var R = da(this.MO), ca = R.next(); !ca.done; ca = R.next())if (ca = (ca = ca.value.uj) && ca.find(function (ua) { return ua.id === T })) return ca }; c.prototype.RVb = function (T) { T = void 0 === T ? this.ka : T; T.Qb.value ? this.ho.OVb(T.Qb.value) : Promise.resolve() }; c.prototype.K_a = function (T) { for (var R = da(this.MO), ca = R.next(); !ca.done; ca = R.next()) { ca = da(ca.value.Gg); for (var ua = ca.next(); !ua.done; ua = ca.next())if (ua = ua.value.streams.find(function (aa) { return aa.Dc === T })) return ua } }; c.prototype.W_a = function (T) {
                                            for (var R =
                                                da(this.MO), ca = R.next(); !ca.done; ca = R.next()) { ca = da(ca.value.rp); for (var ua = ca.next(); !ua.done; ua = ca.next())if (ua = (ua = ua.value) && ua.streams.find(function (aa) { return aa.Dc === T })) return ua }
                                        }; c.prototype.Yt = function () { var T, R, ca; return null !== (ca = null === (R = null === (T = this.oua) || void 0 === T ? void 0 : T.xU) || void 0 === R ? void 0 : R.call(T)) && void 0 !== ca ? ca : this.fAb().cD }; c.prototype.G$a = function (T) {
                                            var R, ca; null !== (R = this.Ma) && void 0 !== R && R.ii && this.Uu.has(T) && ((null === (ca = this.oua) || void 0 === ca ? 0 : ca.xU) ? this.oua.ocb() :
                                                (R = this.pla(T), this.Ma.Tq(R, T)))
                                        }; c.prototype.vNb = function () { return "trailer" === this.Wd }; c.prototype.CMb = function () { return !!this.Wd && 0 <= this.Wd.indexOf("billboard") }; c.prototype.BNb = function () { return !!this.Wd && 0 <= this.Wd.indexOf("video-merch") }; c.prototype.$Mb = function () { return !!this.Wd && 0 <= this.Wd.indexOf("mini-modal") }; c.prototype.TN = function () { return this.vNb() || this.CMb() || this.BNb() || this.$Mb() }; c.prototype.MV = function () {
                                            if (this.rp) {
                                                for (var T, R = 0; R < this.rp.length; R++)for (var ca = this.rp[R], ua =
                                                    0; ua < ca.streams.length; ua++) { var aa = ca.streams[ua]; if ((0, J.Ea)(aa.qla) && (0, J.Ea)(aa.I4) && (0, J.Ea)(aa.H4) && (0, J.Ea)(aa.G4) && (0 < aa.qla || 0 < aa.I4)) { var La = 1, Ua = 1; (0, J.Ea)(aa.V6a) && (0, J.Ea)(aa.W6a) && (La = aa.V6a, Ua = aa.W6a); aa = aa.G4 * Ua / (aa.H4 * La); T = (0, J.Ea)(T) ? Math.min(T, aa) : aa } } return T
                                            }
                                        }; c.prototype.JJb = function () { var T = this.mba() || 0, R = this.J3() || 0; return T + R }; c.prototype.gJb = function () { return { tr: this.gya, rt: this.awa } }; c.prototype.Qz = function (T) { return this.vk[T] }; c.prototype.Wja = function () {
                                            return this.Um ?
                                                this.ya.Rb().$(F.ja) - this.Um : this.Ba.Ie.$(F.ja) - this.lH()
                                        }; c.prototype.hU = function () { if (this.Um) return this.ya.Rb().$(F.ja) - this.Um; var T = this.ya.oA; return this.hY - (this.aj.$(F.ja) + T.$(F.ja)) }; c.prototype.Yja = function () { return this.Um ? this.ya.Rb().$(F.ja) - this.Um : this.hY - this.lH() }; c.prototype.YRb = function (T) { var R = this.loadTime, ca = {}; (0, L.xe)(T, function (ua, aa) { ca[ua] = aa.map(function (La) { return La - R }) }); return ca }; c.prototype.JGb = function () {
                                            var T = this.loadTime, R = {}; (0, L.xe)(this.yja, function (ca, ua) {
                                                R[ca] =
                                                    ua.map(function (aa) { return aa - T })
                                            }); return h.ww ? { level: h.ww.vZa(), charging: h.ww.Tna(), statuses: R } : null
                                        }; c.prototype.M6 = function () { this.MXa(); return this.l_ }; c.prototype.lH = function () { var T = this.fb.sB; T = (0, J.Ea)(T) ? T : this.aj.$(F.ja) + this.ya.oA.$(F.ja); (0, C.gb)((0, J.lA)(T)); return T }; c.prototype.Moa = function () { return this.ya.Rb().$(F.ja) - this.aj.$(F.ja) }; c.prototype.H$a = function (T, R) { this.l_[T] = R }; c.prototype.r5b = function () { this.o0b = !0 }; c.prototype.t9 = function () { this.C8a() }; c.prototype.j_ = function () {
                                            var T =
                                                this.F3(); return T && T.vbuflmsec || 0
                                        }; c.prototype.KT = function () { var T = this.F3(); return T && T.abuflmsec || 0 }; c.prototype.mba = function () { var T = this.F3(); return T && T.vbuflbytes || 0 }; c.prototype.J3 = function () { var T = this.F3(); return T && T.abuflbytes || 0 }; c.prototype.dZ = function (T, R, ca) {
                                            var ua = this; T = void 0 === T ? this.ka : T; ca = void 0 === ca ? !0 : ca; var aa = !!R, La = !aa && T !== this.ka, Ua = t.config.u$.enabled ? O.bn.jlb : La ? O.bn.zF : this.TN() ? O.bn.z1 : O.bn.Fp; aa = this.TN() || aa ? void 0 : this.Tb.Kl.w6(La); return this.wk.sN({
                                                da: T.da, fb: T.fb,
                                                S: T.K, pu: Ua, $f: aa, Uaa: R, sj: T.sj
                                            }, ca).then(function ($a) { $a.z1a && ua.fireEvent(P.ca.XW, { K: T.K }); return $a })
                                        }; c.prototype.Pua = function (T, R, ca) { R = void 0 === R ? this.ka : R; ca = void 0 === ca ? !1 : ca; if (R.fb.vj && !T.Gb.zn) this.Pd(G.N.Ieb); else { var ua = this.eX.create(this), aa = !!(R.sj && R.sj.Ni && R.sj.O9); if (ca) { var La = ua.oLb(R.pa, R.Uc, T); T = La.pa; La = La.Uc } else T = aa ? ua.kZb(T, null === (La = R.sj) || void 0 === La ? void 0 : La.O9) : T, La = ua.C6a(T); R.pa = T; R.Uc = La; ca || (R.Af.set(La.V4), R.Cb.set(La.JU), R.Qb.set(La.LU)) } }; c.prototype.NFb = function (T) {
                                            this.XI(T,
                                                !1)
                                        }; c.prototype.N_a = function (T, R) { if (!this.cj.Wya) return !0; T = this.Wu.$(F.ja) - T; return 0 > T || T > R }; c.prototype.TYb = function () { this.Kf.seek(this.kD() || 0, P.Ce.s0) }; c.prototype.r0a = function (T, R) {
                                            var ca = this, ua = this.ka; ua.b5 = !0; return this.dZ(ua, { Kta: ua.zi, EYb: T, HYb: R }, !1).then(function (aa) { var La; ca.Pua(aa, ua, !0); ca.wk.AZ(ua.K, ua.pa); return null === (La = ca.Ma) || void 0 === La ? void 0 : La.Mx(ca.n7a) }).then(function () {
                                                var aa = ua.Gg.find(function (Ua) { return Ua.trackId === T }), La = ua.cg.find(function (Ua) {
                                                    return Ua.trackId ===
                                                        R
                                                }); if (!(aa && aa.yi && La && La.yi)) throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + R); ca.fireEvent(P.ca.Pbb); return { Cb: aa, KZ: La }
                                            })
                                        }; c.prototype.XI = function (T, R) {
                                            if (this.SO) { if (T === this.oz) { this.SO = T; return } var ca = this.jD(T), ua = ca.pa; ua && (0, J.Mc)(ua.LI) && (0, J.Mc)(ua.lP) && ca.dA({ pr_ats: ua.LI, pr_at: ua.lP }); this.fireEvent(P.ca.Yra, { K: this.oz }); this.oz = T; this.Xia(); R || this.v9a(); this.JH = this.Ba.eZ; this.ka.Um || (this.ka.Um = this.ya.Rb().$(F.ja)) } ("boolean" === typeof this.fb.XM ?
                                                this.fb.XM : t.config.XM) && !R && this.mya.XM(this); R = { K: T, E7: R, SO: this.SO }; this.SO = T; this.fireEvent(P.ca.XH, R)
                                        }; c.prototype.Wzb = function () { try { this.Tb = new l.bHa(this), this.y4 = new U.GBa(this), this.$W = this.aO.create(this, this.ka, !0), t.config.dwb && new Z.tDa(this, this.ag, this.log), t.config.kU && this.kU(this), this.U4b() } catch (T) { this.Jq(G.N.lib, { ma: G.M.ci, yb: (0, L.$d)(T) }) } }; c.prototype.U4b = function () { this.uh ? this.GG(this.uh) : (0, J.Kqa)(this.K) ? this.Fwb() : this.Jq(G.N.bib, { yb: "" + this.K }) }; c.prototype.Fwb = function () {
                                            var T =
                                                m.mJ.d$a; T ? T.ga ? this.Fka() : this.Jq(G.N.cFa, T) : ((0, C.gb)(!t.config.r5), this.nia())
                                        }; c.prototype.Fka = function () { var T = this; !this.background && t.config.Fka ? (0, y.FJa)(function () { T.nia() }, this) : this.nia() }; c.prototype.nia = function () { var T = this; this.state.value == P.Mb.LOADING && (t.config.q5 && !this.TN() ? m.mJ.Qy(y.EJa, function (R) { R.ga ? (T.j8 = R.j8, t.config.Fwa ? T.mja() : T.Ewa()) : T.Jq(G.N.bFa) }, !0) : t.config.Fwa ? this.mja() : this.Ewa()) }; c.prototype.Ewa = function () {
                                            var T = this; this.state.value == P.Mb.LOADING && (this.Ld("ic"),
                                                this.bVb.NZb(function (R) { R.error && T.log.error("Error sending persisted playdata", (0, G.Gv)(R)); try { T.mja() } catch (ca) { T.log.error("playback.authorize threw an exception", ca), T.Jq(G.N.keb, { ma: G.M.ci, yb: (0, L.$d)(ca) }) } }))
                                        }; c.prototype.mja = function () {
                                            var T = this; if (this.state.value == P.Mb.LOADING) {
                                                this.log.info("Authorizing", this); var R = this.ya.Rb().$(F.ja); this.Ld("ats"); (0, C.UG)(this.K); (0, C.UG)(this.Kk); var ca = this.zWb.bind(this, R); Promise.all([this.pa, t.config.QA && this.wk.vpa(this.K) ? this.wk.k6(this.K).catch(function () { }) :
                                                    void 0]).then(function (ua) { var aa = da(ua); ua = aa.next().value; aa = aa.next().value; var La; ua && aa ? La = aa.Gb.expiration > ua.Gb.expiration ? aa : ua : ua ? La = ua : aa && (La = aa); La && 18E5 > La.Gb.expiration - (0, ra.Dka)() && (La = void 0); return La ? (T.BG = La === ua ? "ui" : "videopreparer", La) : T.dZ() }).then(function (ua) { try { T.Pua(ua), ca(p.Yd), T.f7a || (T.f7a = !0, T.Vta.lp(T)) } catch (aa) { T.log.error("Exception processing authorization response", aa), ca({ ga: !1, ma: G.M.Skb }) } }).catch(ca)
                                            }
                                        }; c.prototype.zWb = function (T, R) {
                                            var ca = this; if (this.state.value ==
                                                P.Mb.LOADING) { this.Ld("at"); var ua = this.pa; this.dA({ pr_ats: ua && (0, J.Mc)(ua.LI) ? ua.LI : T, pr_at: ua && (0, J.Mc)(ua.lP) ? ua.lP : this.ya.Rb().$(F.ja) }); R.ga ? 0 < this.Uc.uj.length && this.Uc.JU && this.Uc.V4 && this.Uc.LU ? this.r7a ? (this.log.info("Processing post-authorize", this), this.r7a(this, function (aa) { aa.ga ? ca.scb() : ca.Jq(G.N.qib, aa) })) : this.scb() : this.Jq(G.N.sGa, this.Zra(this.Uc)) : this.Jq(G.N.uK, R) }
                                        }; c.prototype.scb = function () {
                                            var T, R; f.__awaiter(this, void 0, void 0, function ua() {
                                                var aa = this; return Ka(ua, function (La) {
                                                    if (aa.state.value !=
                                                        P.Mb.LOADING) return La.return(); (null === (T = aa.ka.pa) || void 0 === T ? 0 : T.Gb.zn) && aa.nb.reset((0, X.iz)(null === (R = aa.ka.pa) || void 0 === R ? void 0 : R.Gb.zn, { config: t.config })); aa.Ma = aa.aja(aa.nb, aa); aa.Ma.S_b({ Lt: d.Lt, config: t.config, Vc: aa.Vc, pd: aa.pd, Ou: aa.Ou.bind(aa), vh: D.vh, iZ: aa.iZ.bind(aa), XI: aa.XI.bind(aa) }); aa.EVb(); La.nI = 0
                                                })
                                            })
                                        }; c.prototype.VAb = function () {
                                            var T = this; try {
                                                if (this.state.value === P.Mb.LOADING) {
                                                    this.Tb.open(); var R = new Promise(function ($a) { T.Tb.addEventListener(I.Qj.lab, $a) }); this.Kf = new Q.gHa(this);
                                                    var ca = this.Uc.JU.hj === ia.Hp.NONE, ua = { GE: this.Uc.JU.Vo || ca }, aa = { da: this.da, ss: this.Jg, Dz: this.Dz }; try { if (this.state.value !== P.Mb.LOADING) return; var La = this.Ma; La.v7({ flags: ua, Dw: aa, ha: this.n7a, pla: this.pla.bind(this) }); var Ua = this.nb.E6(this); this.NUa(Ua); La.vB(Ua); this.Asb(); La.Mub({ vk: this.vk, loadTime: this.loadTime }) } catch ($a) { throw this.log.error("Failed to initialize ASE streaming", { error: $a, startPts: this.Z, flags: ua }), $a; } R.then(function () {
                                                        var $a; T.state.value !== P.Mb.CLOSING && T.state.value !==
                                                            P.Mb.CLOSED && (null === ($a = T.Ma) || void 0 === $a ? void 0 : $a.open())
                                                    }); this.mediaTime.set(this.Z); this.ho = new n.CMa(this); if ("boolean" === typeof this.fb.eP ? this.fb.eP : t.config.eP) this.NZ = new B.DMa(this); this.OP(); y.Nea.forEach(function ($a) { $a(T) }); this.dSb()
                                                }
                                            } catch ($a) { this.Jq(G.N.nib, { ma: G.M.ci, yb: (0, L.$d)($a) }) }
                                        }; c.prototype.eSb = function () { (0, C.gb)(this.state.value == P.Mb.yK); this.loadTime = this.ya.Rb().$(F.ja); this.state.set(P.Mb.LOADING) }; c.prototype.Jq = function (T, R) {
                                            this.done || (this.done = !0, R instanceof
                                                S.Wc ? this.Pd(R.code, R) : this.Pd(T, R))
                                        }; c.prototype.kU = function (T) { function R() { var aa = h.ww.Tna() + "", La = T.yja[aa]; La || (La = T.yja[aa] = []); La.push(ca.ya.Rb().$(F.ja)); ca.log.trace("charging change event", { level: h.ww.vZa(), charging: h.ww.Tna() }) } var ca = this, ua = h.ww.tfb; h.ww.addEventListener(ua, R); T.addEventListener(P.ca.ng, function () { h.ww.removeEventListener(ua, R) }) }; c.prototype.txa = function (T) {
                                            var R = this, ca; if (this.state.value == P.Mb.yK || this.state.value == P.Mb.LOADING || this.state.value == P.Mb.je) {
                                                this.pd.info("Playback closing",
                                                    this, T ? { ErrorCode: T.UU } : void 0); this.rG("Closing"); x.ye.removeListener(x.Jl, this.I5a); this.uh = T; this.ka.uU = this.kD(); this.MXa(); (null === (ca = this.Ma) || void 0 === ca ? 0 : ca.ii) && this.Ma.flush(); try { this.Zb.Gc(P.ca.ng, { movieId: this.oz }) } catch (ua) { this.pd.error("Unable to fire playback closing event", ua) } this.state.set(P.Mb.CLOSING); this.Ydb(); this.o0b || (0, N.Tc)(function () { return R.C8a() })
                                            }
                                        }; c.prototype.uFb = function () { this.Zb.Gc(P.ca.mcb) }; c.prototype.NXa = function () {
                                            var T = this.mediaTime.value; this.iOb != T &&
                                                (!1, this.iOb = T, this.Zb.Gc(P.ca.Iaa))
                                        }; c.prototype.C8a = function () { var T = this; (0, C.gb)(this.state.value == P.Mb.CLOSING); var R = this.j8; this.j8 = void 0; R ? m.mJ.release(R, function (ca) { (0, C.gb)(ca.ga); T.Nka() }) : this.Nka() }; c.prototype.Ydb = function () { var T; null === (T = this.Ma) || void 0 === T ? void 0 : T.md(); delete this.Ma }; c.prototype.Nka = function () {
                                            this.Nka = p.Sj; (0, C.gb)(this.state.value == P.Mb.CLOSING); var T = y.RB.indexOf(this); (0, C.gb)(0 <= T); y.RB.splice(T, 1); this.state.set(P.Mb.CLOSED); this.Zb.Gc(P.ca.closed, void 0,
                                                !0); this.Zb.Lh(); delete this.tf; this.ka.t9()
                                        }; c.prototype.Xia = function () { this.fb.playbackState && ("number" === typeof this.fb.playbackState.volume && this.volume.set((0, H.Dp)(this.fb.playbackState.volume, 0, 1)), "boolean" === typeof this.fb.playbackState.muted && this.muted.set(this.fb.playbackState.muted), "number" === typeof this.fb.playbackState.playbackRate && this.playbackRate.set(this.fb.playbackState.playbackRate)) }; c.prototype.MXa = function () { this.Zb.Gc(P.ca.V$a, { l_: this.l_ }) }; c.prototype.iZ = function (T, R,
                                            ca) { T = this.nk(T); var ua = T.uj.filter(function (aa) { return aa.id === R })[0]; ua && T.uc[ca].set(ua) }; c.prototype.Ou = function () { return { AudioBufferLength: this.KT(), VideoBufferLength: this.j_() } }; c.prototype.F3 = function () { var T; if (null === (T = this.Ma) || void 0 === T ? 0 : T.ii) return this.Ma.w7(!1) }; c.prototype.dSb = function () { this.state.value == P.Mb.LOADING && this.state.set(P.Mb.je) }; c.prototype.fAb = function () { var T = void 0 === T ? this.K : T, R = this.uH(T), ca = this.jD(T); return (0, ya.Yt)(R, function (ua) { return ca.iO.rv(ua) }) }; c.prototype.pla =
                                                function (T) { T = void 0 === T ? this.K : T; var R = this.uH(T), ca = this.jD(T); return (0, ya.z_a)(R, function (ua) { return ca.iO.rv(ua) }) }; c.prototype.NUa = function (T) { var R = this; Object.keys(T.U).filter(function (ca) { return !R.Uu.has(T.U[ca].S) }).forEach(function (ca) { var ua, aa = T.U[ca], La = aa.S; aa = Object.assign(null !== (ua = R.Lk.EN(La).Nb) && void 0 !== ua ? ua : {}, { Z: aa.Aa, Ka: aa.Da, vj: !1, sB: Date.now(), K7: !0 }); R.Aia({ S: La, ha: ca, fb: aa }) }) }; Ya.Object.defineProperties(c.prototype, {
                                                    MO: { configurable: !0, enumerable: !0, get: function () { return this.Uu.values() } },
                                                    ka: { configurable: !0, enumerable: !0, get: function () { return this.Uu.get(this.oz) } }, Z: { configurable: !0, enumerable: !0, get: function () { var T, R; return void 0 !== this.Qt ? this.Qt : null !== (R = null === (T = this.MO.next()) || void 0 === T ? void 0 : T.value.fb.Z) && void 0 !== R ? R : 0 } }, Uc: { configurable: !0, enumerable: !0, get: function () { return this.ka.Uc }, set: function (T) { this.ka.Uc = T } }, xV: { configurable: !0, enumerable: !0, get: function () { return this.ka.fb.xV } }, zV: { configurable: !0, enumerable: !0, get: function () { return this.ka.fb.zV } }, index: {
                                                        configurable: !0,
                                                        enumerable: !0, get: function () { return this.ka.index }
                                                    }, ha: { configurable: !0, enumerable: !0, get: function () { return this.ka.ha } }, n7a: { configurable: !0, enumerable: !0, get: function () { return this.nb.Xya ? this.nb.Wg : this.ka.ha } }, tf: { configurable: !0, enumerable: !0, get: function () { return this.ka.tf }, set: function (T) { this.ka.tf = T } }, Um: { configurable: !0, enumerable: !0, get: function () { return this.ka.Um }, set: function (T) { this.ka.Um = T } }, BG: {
                                                        configurable: !0, enumerable: !0, get: function () { return this.ka.BG }, set: function (T) {
                                                            this.ka.BG =
                                                                T
                                                        }
                                                    }, AG: { configurable: !0, enumerable: !0, get: function () { return this.ka.AG }, set: function (T) { this.ka.AG = T } }, u7: { configurable: !0, enumerable: !0, get: function () { return this.ka.u7 }, set: function (T) { this.ka.u7 = T } }, pa: { configurable: !0, enumerable: !0, get: function () { return this.ka.pa }, set: function (T) { this.ka.pa = T } }, Qt: { configurable: !0, enumerable: !0, get: function () { return this.ka.Qt }, set: function (T) { this.ka.Qt = T } }, EZ: { configurable: !0, enumerable: !0, get: function () { return this.ka.EZ }, set: function (T) { this.ka.EZ = T } }, fb: {
                                                        configurable: !0,
                                                        enumerable: !0, get: function () { return this.ka.fb }, set: function (T) { this.ka.fb = T }
                                                    }, $W: { configurable: !0, enumerable: !0, get: function () { return this.ka.$W }, set: function (T) { this.ka.$W = T } }, Ol: { configurable: !0, enumerable: !0, get: function () { return this.ka.Ol } }, K: { configurable: !0, enumerable: !0, get: function () { return this.ka.K } }, Wd: { configurable: !0, enumerable: !0, get: function () { return this.ka.Wd } }, Gg: { configurable: !0, enumerable: !0, get: function () { return this.ka.Gg } }, rp: { configurable: !0, enumerable: !0, get: function () { return this.ka.rp } },
                                                    rB: { configurable: !0, enumerable: !0, get: function () { return this.ka.rB } }, cg: { configurable: !0, enumerable: !0, get: function () { return this.ka.cg } }, zi: { configurable: !0, enumerable: !0, get: function () { return this.ka.zi } }, MH: { configurable: !0, enumerable: !0, get: function () { return this.ka.MH } }, ev: { configurable: !0, enumerable: !0, get: function () { return this.ka.ev } }, sm: { configurable: !0, enumerable: !0, get: function () { return this.ka.sm } }, uj: { configurable: !0, enumerable: !0, get: function () { return this.ka.uj } }, Vt: {
                                                        configurable: !0,
                                                        enumerable: !0, get: function () { return this.ka.Vt }, set: function (T) { this.ka.Vt = T }
                                                    }, da: { configurable: !0, enumerable: !0, get: function () { return this.ka.da } }, Kk: { configurable: !0, enumerable: !0, get: function () { return this.ka.Kk } }, aj: { configurable: !0, enumerable: !0, get: function () { return this.ka.aj } }, JH: { configurable: !0, enumerable: !0, get: function () { return this.ka.JH }, set: function (T) { this.ka.JH = T } }, Jg: { configurable: !0, enumerable: !0, get: function () { return this.ka.Jg } }, aJ: { configurable: !0, enumerable: !0, get: function () { return this.ka.aJ } },
                                                    background: { configurable: !0, enumerable: !0, get: function () { return this.ka.background }, set: function (T) { this.ka.background = T } }, CU: { configurable: !0, enumerable: !0, get: function () { return this.ka.CU } }, yd: { configurable: !0, enumerable: !0, get: function () { return this.ka.yd } }, Yp: { configurable: !0, enumerable: !0, get: function () { return this.ka.Yp } }, nma: { configurable: !0, enumerable: !0, get: function () { return this.ka.nma } }, iO: { configurable: !0, enumerable: !0, get: function () { return this.ka.iO } }, Dz: {
                                                        configurable: !0, enumerable: !0,
                                                        get: function () { return 0 !== t.config.g5 && 0 === this.ka.da % t.config.g5 }
                                                    }, b5: { configurable: !0, enumerable: !0, get: function () { return this.ka.b5 } }, Th: { configurable: !0, enumerable: !0, get: function () { return { MovieId: this.K, TrackingId: this.Kk, Xid: this.da } } }, f$: { configurable: !0, enumerable: !0, get: function () { return this.nb.f$ } }
                                                }); b.JJa = c
                    }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.Dab = void 0; var c = a(12), f = a(8), k = a(3); a(24); b.Dab = function (m) {
                            (0, f.vh)("Storage"); var g = {}; m({
                                ga: !0, storage: {
                                    load: function (d,
                                        h) { if (g.hasOwnProperty(d)) { var l = g[d]; !1; h({ ga: !0, data: l, vaa: d }) } else !1, h({ ma: k.M.oy }) }, save: function (d, h, l, n) { l && g.hasOwnProperty(d) ? n({ ga: !1 }) : (g[d] = h, !1, n && n({ ga: !0, vaa: d })) }, remove: function (d, h) { delete g[d]; !1; h && h(c.Yd) }
                                }
                            })
                        }
                    }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Bab = void 0; var c = a(8), f = a(71), k = a(31), m = a(532); b.Bab = function (g) { c.ta.get(f.Rx).create().then(function (d) { g({ ga: !0, storage: new m.Eda(d, c.ta.get(k.oh)) }) }).catch(function (d) { g(d) }) } }, function (r, b) {
                        function a(c,
                            f) { this.uw = c; this.Vc = f } Object.defineProperty(b, "__esModule", { value: !0 }); b.Eda = void 0; a.prototype.load = function (c, f) { var k = this; this.uw.load(c).then(function (m) { f && f(a.Rab(m)) }).catch(function (m) { f && f(k.Gma(c, m)) }) }; a.prototype.save = function (c, f, k, m) { var g = this; this.uw.save(c, f, k).then(function () { m && m(a.Rab({ key: c, value: f })) }).catch(function (d) { m && m(g.Gma(c, d)) }) }; a.prototype.remove = function (c, f) { var k = this; this.uw.remove(c).then(function () { f && f({ ga: !0, vaa: c }) }).catch(function (m) { f && f(k.Gma(c, m)) }) };
                        a.Rab = function (c) { return { ga: !0, data: c.value, vaa: c.key } }; a.prototype.Gma = function (c, f) { return { ga: !1, vaa: c, ma: f.ma, yb: f.cause ? this.Vc.$d(f.cause) : void 0 } }; b.Eda = a
                    }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Cab = void 0; var c = a(532), f = a(8), k = a(464), m = a(31); b.Cab = function (g) { g({ ga: !0, storage: new c.Eda(f.ta.get(k.WFa), f.ta.get(m.oh)) }) } }, function (r, b, a) {
                        function c(v, x) {
                            function y() {
                                function A(B, E) {
                                    return E.Ve && 0 !== E.Ve.length && E.Ve[0].VH ? (0, k.HI)(v, E).then(function () {
                                        z.trace("Successfully released license for session",
                                            JSON.stringify(E)); return B ? B.IY(E) : Promise.resolve()
                                    }).catch(function (D) { z.error("Unable to send stop command for session", JSON.stringify({ dc: E, error: D })); throw D; }) : (z.error("releaseDrmSession exception: missing valid keySessionData"), B ? B.IY(E) : Promise.resolve())
                                } f(z).then(function (B) {
                                    var E = B.i5.filter(function (D) { return !1 === D.active }).map(function (D) { return A(B, D) }); Promise.all(E).then(function () { z.info("release drm session completed for " + E.length + " entries"); x(m.Yd) }).catch(function (D) {
                                        D = D ||
                                            {}; D.DrmCacheSize = E.length; z.error("Unable to release one or more DRM session data", D); x(m.Yd)
                                    })
                                }).catch(function (B) { z.error("Unable to load DRM session data", B); x(m.Yd) })
                            } var z = (0, l.vh)("PlayDataManager"); x = x || m.Sj; g.config.qp ? x(m.Yd) : y()
                        } function f(v) { if (!b.ima) { var x = l.ta.get(n.tca); b.ima = new Promise(function (y, z) { x.e8a().then(function () { y(x) }).catch(function (A) { v.error("Unable to load DRM data for license release", A); z(A) }) }) } return b.ima } Object.defineProperty(b, "__esModule", { value: !0 }); b.Zkb =
                            b.zJa = b.ima = void 0; var k = a(303), m = a(12), g = a(14), d = a(62), h = a(29), l = a(8); r = a(3); var n = a(206), q = a(181), p = a(15), u = a(52), t = a(39), w = a(203); b.zJa = function (v) {
                                function x() { A || (v.Ld("pdsb"), A = l.ta.get(q.m1)().then(function (G) { E = G; v.Ld("pdsc"); return G }).catch(function (G) { z.error("Unable to initialize the playdata services", G); v.Ld("pdse"); throw G; })); return A } function y() { B = !0; E && E.close(); d.ye.removeListener(d.Jl, y) } var z = (0, l.Oh)(v, "PlayDataManager"), A, B = !1, E, D = l.ta.get(h.hy); if (!D.hK || !D.dK) {
                                    var F = l.ta.get(w.Hea)();
                                    D.hK = F.dc; D.dK = F.request
                                } v.Ld("pdctor"); v.addEventListener(p.ca.ng, function () { d.ye.removeListener(d.Jl, y) }); v.addEventListener(p.ca.XW, function () { if (!g.config.qp && v.tf) { var G = v.y4.FUa(); f(z).then(function (C) { return C.KQa(G) }).catch(function () { z.error("Unable to load/add cached DRM data") }) } }); v.addEventListener(p.ca.ng, function () {
                                    if (!B) {
                                        v.r5b(); var G = [function () {
                                            return g.config.qp || !v.tf ? Promise.resolve() : new Promise(function (C) {
                                                z.info("Sending the expedited playdata"); var H = v.y4.FUa(); v.tf.rEb(H).then(function () {
                                                    z.info("Sent the expedited playdata");
                                                    return f(z)
                                                }).then(function (L) { return L ? L.IY(H) : Promise.resolve() }).then(function () { C(void 0) }).catch(function (L) { z.error("Unable to send the expedited playdata", L); C() })
                                            })
                                        }(), function () { return x().then(function (C) { return C.zZ(v.ka) }).then(function () { z.info("Sent the playdata") }).catch(function (C) { z.error("Unable to send the playdata", C) }) }(), function () { return new Promise(function (C) { l.ta.get(u.no).flush(!1).catch(function () { z.error("Unable to send logblob"); C(void 0) }).then(function () { C(void 0) }) }) }()];
                                        Promise.all(G).then(function () { v.t9() }).catch(function () { v.t9() })
                                    }
                                }); d.ye.addListener(d.Jl, y); return { NZb: function (G) { v.Ld("pdpb"); g.config.Fwa || x().then(function (C) { return C.send(v.K) }).then(function () { g.config.qp ? (v.Ld("pdpc"), G(m.Yd)) : c(v, function () { v.Ld("pdpc"); G(m.Yd) }) }).catch(function () { v.Ld("pdpe"); G(m.Yd) }) } }
                            }; b.Zkb = function () { return new Promise(function (v) { c({}, function (x) { v(x) }) }) }; l.ta.get(t.ai).register(r.N.KB, function (v) { v(m.Yd) })
                    }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule",
                            { value: !0 }); b.ww = void 0; var c = a(12), f = a(14); r = a(3); var k = a(8), m = a(28), g = a(11), d = a(39), h = a(18), l = a(64), n = a(4); a = k.ta.get(d.ai); var q = k.ta.get(l.jy); a.register(r.N.JEa, function (p) {
                                function u() { p(c.Yd); u = m.Sj } function t(y) { if (!(y instanceof EventTarget)) throw "batteryManager is not an instaceof EventTarget";["addEventListener", "removeEventListener"].forEach(function (z) { if (!(0, h.fd)(y[z])) throw z + " is not a function"; }) } function w() {
                                    return Promise.resolve().then(function () {
                                        var y = g.ie.getBattery(); if (!(0,
                                            h.fd)(y.then)) throw "getBattery did not return a promise"; return y
                                    })
                                } var v = (0, k.vh)("BatteryManager"), x; b.ww = { tfb: "chargingchange", vZa: function () { return x ? x.level : null }, Tna: function () { return x ? x.charging : null }, addEventListener: function (y, z) { x && x.addEventListener(y, z) }, removeEventListener: function (y, z) { x && x.removeEventListener(y, z) } }; f.config.kU && (0, h.fd)(g.ie.getBattery) ? q.Pq((0, n.Nc)(f.config.IGb), w()).then(function (y) { t(y); x = y }).catch(function (y) { v.error("getBattery failed", y) }).then(u) : u()
                            })
                    }, function (r,
                        b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.QFa = "LicenseBrokerFactorySymbol" }, function (r, b) {
                            function a(c, f) { var k = this; this.JZa = c; this.G5a = f; this.dya = !1; this.DO = function () { k.np = void 0; k.update() } } Object.defineProperty(b, "__esModule", { value: !0 }); b.EMa = void 0; a.prototype.update = function (c) {
                                var f, k, m = this.JZa(); if (this.Hcb !== m) {
                                    var g = null === (k = null === (f = this.$o) || void 0 === f ? void 0 : f.mH(m)) || void 0 === k ? void 0 : k[0]; if (g && "startTime" in g) if (g.startTime <= m && m <= g.endTime) {
                                        var d = g; this.wcb(g.endTime -
                                            m)
                                    } else this.wcb(g.startTime - m); this.Hcb = m; this.pia !== d && (this.pia = d, !c && this.G5a && this.G5a())
                                }
                            }; a.prototype.start = function () { this.dya = !0; this.update() }; a.prototype.s$a = function (c) { this.$o = c; this.pia = this.Hcb = void 0; c || this.stop() }; a.prototype.stop = function () { this.dya = !1; this.Os() }; a.prototype.qGb = function () { this.update(!0); return this.pia }; a.prototype.wcb = function (c) { this.Os(); this.dya && 0 < c && (this.np = setTimeout(this.DO, c + a.Ajb)) }; a.prototype.Os = function () {
                                this.np && (clearTimeout(this.np), this.np =
                                    void 0)
                            }; b.EMa = a; a.Ajb = 10
                        }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.yEa = void 0; var c = a(15), f = a(76); b.yEa = function (k) { function m(g) { k.fireEvent(c.ca.YG, { response: g, K: k.ka.K }) } return { download: function (g, d) { g.j = k; g = f.lf.download(g, d); g.ria(m); return g } } } }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); b.gFa = void 0; var c = a(14), f = a(54), k = a(3), m = a(540), g = a(11), d = a(18), h = a(15), l = a(8), n = a(210); b.gFa = function (q) {
                                function p() {
                                    q.state.value !== h.Mb.je || q.sb.value !==
                                        h.Xa.mh && q.sb.value !== h.Xa.xp ? t.Os() : t.fH()
                                } var u = c.config.DUb; if (!q.TN() && u) { var t = l.ta.get(n.J1)(u, function () { q.fireEvent(h.ca.KN, k.N.h1) }); q.sb.addListener(p); q.state.addListener(p); if (c.config.Ypa) { var w = (0, f.jk)(), v = new m.RKa(c.config.Ypa, function () { var x = (0, f.jk)(), y = x - w; y > u && (q.fireEvent(h.ca.KN, k.N.L0), v.zTa()); y > 2 * c.config.Ypa && (q.Zpa = (0, g.oo)(y, q.Zpa || 0)); w = x }); v.K_b() } q.addEventListener(h.ca.ng, function () { t.Os(); (0, d.Mc)(v) && v.zTa() }) }
                            }
                        }, function (r, b) {
                            Object.defineProperty(b, "__esModule",
                                { value: !0 }); b.RKa = void 0; b.RKa = function (a, c) { var f; this.K_b = function () { f || (f = setInterval(c, a)) }; this.zTa = function () { f && (clearInterval(f), f = void 0) } }
                        }, function (r, b, a) {
                            function c(n) {
                                var q = this; this.j = n; this.xU = void 0; this.yga = (0, m.createElement)("DIV", "position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999", void 0, { "class": "player-streams" }); this.nga = (0, m.createElement)("DIV", "display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");
                                this.cga = (0, m.createElement)("DIV", "width:100%;text-align:center"); this.Pmb = this.pga("Audio Bitrate"); this.hia = this.pga("Video Bitrate"); this.fga = this.pga("CDN"); this.$S = {}; this.iW = g.ta.get(d.Wl); this.yga.appendChild(this.nga); this.nga.appendChild(this.cga); var p = (0, m.createElement)("BUTTON", void 0, "Override"); p.addEventListener("click", this.Jmb.bind(this), !1); this.cga.appendChild(p); p = (0, m.createElement)("BUTTON", void 0, "Reset"); p.addEventListener("click", this.Vqb.bind(this), !1); this.cga.appendChild(p);
                                var u = this.dqb.bind(this); k.ye.addListener(k.pD, u); n.addEventListener(l.ca.XH, function () { q.$S = {} }); n.addEventListener(l.ca.ng, function () { k.ye.removeListener(k.pD, u) }); var t = this.Iqb.bind(this); n.uc.forEach(function (w) { w.addListener(t) }); n.Cb.addListener(t); n.Af.addListener(t)
                            } Object.defineProperty(b, "__esModule", { value: !0 }); b.RJa = void 0; var f = a(43), k = a(62), m = a(28), g = a(8), d = a(34), h = a(134), l = a(15); c.prototype.show = function () { this.vT || (this.SPa(), document.body.appendChild(this.yga), this.vT = !0) }; c.prototype.zu =
                                function () { this.vT && (document.body.removeChild(this.yga), this.vT = !1) }; c.prototype.toggle = function () { this.vT ? this.zu() : this.show() }; c.prototype.ocb = function () {
                                    function n(v, x, y) { var z, A = []; x.filter(function (E) { return E.Ig === v }).forEach(function (E) { 0 <= y.indexOf(E) ? (void 0 === B ? B = E.bitrate : z = E.bitrate, void 0 === z && (z = E.bitrate)) : void 0 !== B && void 0 !== z && (A.push({ min: B, max: z }), B = z = void 0) }); if (void 0 !== B && void 0 !== z) { A.push({ min: B, max: z }); var B = z = void 0 } return A } function q(v, x, y) {
                                        var z = []; x.filter(function (A) {
                                            return A.Ig ===
                                                v
                                        }).forEach(function (A) { -1 === y.indexOf(A) && z.push({ stream: { bitrate: A.bitrate }, disallowedBy: ["manual"] }) }); return z
                                    } var p, u = this.j.Yt(), t = this.j.uH().sort(function (v, x) { return v.bitrate - x.bitrate }), w = t.reduce(function (v, x) { 0 > v.indexOf(x.Ig) && v.push(x.Ig); return v }, []).map(function (v) { return { profile: v, ranges: n(v, t, u), disallowed: q(v, t, u) } }); !1; null === (p = this.j.Ma) || void 0 === p ? void 0 : p.Tq(w, this.j.K)
                                }; c.prototype.Jmb = function () {
                                    this.$S = {}; for (var n = this.hia.options, q = n.length; q--;) {
                                        var p = n[q]; p.selected &&
                                            (this.$S[p.value] = 1)
                                    } this.xU = this.nnb.bind(this); this.ocb(); if (n = this.j.uj) { var u = this.fga.value; n = n.filter(function (t) { return t.id == u })[0]; q = this.j.uc[f.Yb.Wa.Pb].value; n && n != q && (n.eTa = { testreason: "streammanager", selreason: "userselection" }, this.j.uc[f.Yb.Wa.Pb].set(n)) } this.zu()
                                }; c.prototype.Vqb = function () { this.xU = void 0; this.j.G$a(this.j.K); this.zu() }; c.prototype.nnb = function () { var n = this; return this.j.uH().filter(function (q) { return n.$S[q.bitrate] }) }; c.prototype.SPa = function () {
                                    var n = this, q = this.j.Cb.value,
                                        p = this.j.Af.value, u = this.j.uj; q && (u = u.slice(), u.sort(function (t, w) { return t.cc - w.cc }), this.Rha(this.Pmb, q.streams.map(function (t) { return { value: t.bitrate, caption: t.bitrate, selected: t == n.j.rh.value } }))); p && (this.Rha(this.hia, p.streams.map(function (t) { var w = n.j.iO.rv(t); t = t.bitrate; var v = "" + t; w && (v += " (" + w.join("|") + ")"); return { value: t, caption: v, selected: n.xU ? n.$S[t] : !w } })), this.hia.removeAttribute("disabled")); u && (this.Rha(this.fga, u.map(function (t) {
                                            return {
                                                value: t.id, caption: "[" + t.id + "] " + t.name, selected: t ==
                                                    n.j.uc[f.Yb.Wa.Pb].value
                                            }
                                        })), this.fga.removeAttribute("disabled"))
                                }; c.prototype.Iqb = function () { this.vT && this.SPa() }; c.prototype.pga = function (n) { var q = (0, m.createElement)("DIV", "display:inline-block;vertical-align:top;margin:5px;"); n = (0, m.createElement)("DIV", void 0, n); var p = (0, m.createElement)("select", "width:120px;height:180px", void 0, { disabled: "disabled", multiple: "multiple" }); q.appendChild(n); q.appendChild(p); this.nga.appendChild(q); return p }; c.prototype.Rha = function (n, q) {
                                    n.innerHTML = ""; q.forEach(function (p) {
                                        var u =
                                            { title: p.caption }; p.selected && (u.selected = "selected"); u = (0, m.createElement)("option", void 0, p.caption, u); u.value = p.value; n.appendChild(u)
                                    })
                                }; c.prototype.dqb = function (n) { n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.Hv.vlb && this.iW.Sqa && this.toggle() }; b.RJa = c
                        }, function (r, b, a) {
                            function c(h, l) {
                                this.qna = h; this.bH = { position: "absolute", left: "0", top: "0", right: "0", bottom: "0", display: "block" }; this.element = (0, f.createElement)("DIV", void 0, void 0, { "class": "player-timedtext" }); this.element.onselectstart = function () { return !1 };
                                this.m$a(l); this.VXa = this.GHb(this.qna)
                            } Object.defineProperty(b, "__esModule", { value: !0 }); b.BMa = void 0; var f = a(28), k = a(543), m = a(544), g = a(11), d = a(24); c.prototype.Ln = function () { return this.element }; c.prototype.$Zb = function (h) { this.cja = h }; c.prototype.j_b = function (h) { this.entry = h; this.dP() }; c.prototype.r_b = function (h) { this.m$a(h); this.dP() }; c.prototype.dP = function () {
                                var h = this, l = this.Ln(), n = l.parentElement, q = n && n.clientWidth || 0, p = n && n.clientHeight || 0, u = n = 0, t = { width: q, height: p }, w; if (0 < q && 0 < p && this.entry) {
                                    this.cja &&
                                        (t = (0, f.kN)(q, p, this.cja), n = Math.round((q - t.width) / 2), u = Math.round((p - t.height) / 2)); var v = this.Ovb(t), x = (0, f.kN)(v.width, v.height, this.cja); v = (w = this.entry.blocks) && w.map(function (D) { var F = (0, m.Cma)(D, x, h.qna, h.VXa); D = (0, m.XWa)(D) + ";position:absolute"; return (0, f.createElement)("div", D, F, c.zca) })
                                } Object.assign(this.bH, { left: n + "px", right: n + "px", top: u + "px", bottom: u + "px" }); l.style.display = "none"; l.style.direction = this.bH.direction; l.innerHTML = ""; if (v && v.length) {
                                    q = t.width; n = t.height; var y = t; this.$T && (y =
                                        this.Xrb(t, this.$T, p, u)); this.bH.margin = this.qs ? this.f4(t, "top") + "px " + this.f4(t, "right") + "px " + this.f4(t, "bottom") + "px " + this.f4(t, "left") + "px " : void 0; v.forEach(function (D) { return l.appendChild(D) }); p = (0, f.OG)(this.bH); l.style.cssText = p + ";visibility:hidden;z-index:-1"; u = []; for (var z = v.length - 1; 0 <= z; z--) { var A = v[z], B = w[z], E = this.h5a(A, B, q, n); E.width > q && (A.innerHTML = (0, m.Cma)(B, t, this.qna, this.VXa, q / E.width), E = this.h5a(A, B, q, n)); u[z] = E } u = (0, k.ecb)(u, y); if (z = w && w[0] && w[0].textNodes && w[0].textNodes[0] &&
                                            w[0].textNodes[0].style) y = z.windowColor, z = z.windowOpacity, y && 0 < z && (A = Math.round(n / 50), t = (0, m.ZWa)(w, u, A, y, t), t = (0, f.createElement)("div", "position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z, t, c.zca), l.insertBefore(t, l.firstChild)); l.style.display = "none"; for (t = u.length - 1; 0 <= t; t--)z = u[t], y = v[t].style, A = w[t].region, z = (0, m.YWa)(A, z, q, n, 0), Object.assign(y, z); l.style.cssText = p
                                }
                            }; c.prototype.Zwa = function (h) { this.$T = h; this.dP() }; c.prototype.fpa = function () { return this.$T }; c.prototype.$wa = function (h) {
                                this.qs =
                                    h; this.dP()
                            }; c.prototype.gpa = function () { return this.qs }; c.prototype.hpa = function () { return "block" === this.bH.display }; c.prototype.axa = function (h) { var l = h ? "block" : "none"; this.element.style.display = l; this.bH.display = l; h && this.dP() }; c.prototype.GHb = function (h) { var l = this, n = {}; (0, d.xe)(h, function (q, p) { n[q] = l.zQb(p) }); return n }; c.prototype.m$a = function (h) { this.bH.direction = "boolean" === typeof h ? h ? "ltr" : "rtl" : "inherit" }; c.prototype.f4 = function (h, l) {
                                if (this.qs) {
                                    if ("left" === l || "right" === l) return h.width * (this.qs[l] ||
                                        0); if ("top" === l || "bottom" === l) return h.height * (this.qs[l] || 0)
                                } return 0
                            }; c.prototype.Ovb = function (h) { return this.qs ? { height: h.height * (1 - (this.qs.top || 0) - (this.qs.bottom || 0)), width: h.width * (1 - (this.qs.left || 0) - (this.qs.right || 0)) } : h }; c.prototype.zQb = function (h) {
                                h = "display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";"; h = (0, f.createElement)("DIV", h, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz", c.zca); g.Be.body.appendChild(h); var l = {
                                    fontSize: 1E3, height: h.clientHeight,
                                    width: h.clientWidth / 52, lineHeight: h.clientHeight / 1E3
                                }; g.Be.body.removeChild(h); return l
                            }; c.prototype.h5a = function (h, l, n, q) { var p = l.region, u = (p.marginTop || 0) * q, t = (p.marginBottom || 0) * q, w = (p.marginLeft || 0) * n, v = (p.marginRight || 0) * n; l = h.clientWidth || 1; h = h.clientHeight || 1; switch (p.verticalAlignment) { case "top": q = u; break; case "center": q = (u + q - t - h) / 2; break; default: q = q - t - h }switch (p.horizontalAlignment) { case "left": n = w; break; case "right": n = n - v - l; break; default: n = (w + n - v - l) / 2 }return { top: q, left: n, width: l, height: h } };
                            c.prototype.Xrb = function (h, l, n, q) { return { height: n - Math.max(q, l.bottom || 0) - Math.max(q, l.top || 0), width: h.width } }; b.BMa = c; c.zca = { "class": "player-timedtext-text-container" }
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); b.ecb = void 0; var c = a(11); b.ecb = function (f, k) {
                                function m(h, l, n) {
                                    if (h && 1 < h.length) {
                                        for (var q = [], p = [], u = 0; u < h.length; u++)q[u] = 0, p[u] = 0; var t = !1; for (u = 0; u < h.length; u++)for (var w = u + 1; w < h.length; w++) {
                                            var v = h[u], x = h[w]; if (0 > v.width || 0 > x.width || x.left > v.left + v.width || x.left +
                                                x.width < v.left || x.top > v.top + v.height ? 0 : x.top + x.height >= v.top) { var y = (0, c.oo)(v.left, x.left), z = (0, c.oo)(v.top, x.top); y = { width: (0, c.oo)((0, c.Cp)(v.left + v.width, x.left + x.width) - y, 0), height: (0, c.oo)((0, c.Cp)(v.top + v.height, x.top + x.height) - z, 0), x: y, y: z } } else y = void 0; if (y && 1 < y.width && 1 < y.height) if (z = y.width <= y.height, v = g(h[u]), x = g(h[w]), z && l || !z && !l) y = (0, c.oo)(y.width / 2, .25), v.x <= x.x ? (p[u] -= y, p[w] += y) : (p[w] -= y, p[u] += y); else if (z && !l || !z && l) v = (0, c.oo)(y.height / 2, .25), q[u] -= v, q[w] += v
                                        } for (u = 0; u < h.length; u++) {
                                            if (-.25 >
                                                p[u] && 0 <= h[u].left + p[u] || .25 < p[u] && h[u].left + h[u].width + p[u] <= n.width) h[u].left += p[u], t = !0; if (-.25 > q[u] && 0 <= h[u].top + q[u] || .25 < q[u] && h[u].top + h[u].height + q[u] <= n.height) h[u].top += q[u], t = !0
                                        } return t
                                    }
                                } function g(h) { return { x: h.left + h.width / 2, y: h.top + h.height / 2 } } f = f.map(function (h) { return { top: h.top, left: h.left, width: h.width, height: h.height } }); (function (h, l) {
                                    h.forEach(function (n) {
                                        0 > n.left && n.left + n.width < l.width ? n.left += (0, c.Cp)(-n.left, l.width - (n.left + n.width)) : n.left + n.width > l.width && 0 < n.left && (n.left -=
                                            (0, c.Cp)(n.left + n.width - l.width, n.left)); 0 > n.top && n.top + n.height < l.height ? n.top += (0, c.Cp)(-n.top, l.height - (n.top + n.height)) : n.top + n.height > l.height && 0 < n.top && (n.top -= (0, c.Cp)(n.top + n.height - l.height, n.top))
                                    })
                                })(f, k); for (var d = 0; 50 > d && m(f, !0, k); d++); for (d = 0; 50 > d && m(f, !1, k); d++); return f
                            }
                        }, function (r, b, a) {
                            function c(n, q, p, u, t) {
                                var w = {}; "right" == n.horizontalAlignment ? w.right = 100 * (p - q.left - q.width - t) / p + "%" : w.left = 100 * (q.left - t) / p + "%"; "bottom" == n.verticalAlignment ? w.bottom = 100 * (u - q.top - q.height - t) / u + "%" :
                                    w.top = 100 * (q.top - t) / u + "%"; return w
                            } function f(n, q) { if (n && q) { var p; 40 === q.x && 19 === q.y ? p = 4 / 3 / (40 / 19) : 52 === q.x && 19 === q.y && (p = 16 / 9 / (52 / 19)); if (p) return n.width / n.fontSize / p } } function k(n, q, p, u, t) { var w = n.style, v = (0, h.rW)(n.text); for (n = n.lineBreaks; n--;)v = "<br />" + v; return m(v, w, q, p, u, t) } function m(n, q, p, u, t, w) {
                                var v = q.characterStyle; t = t[v]; v = 0 <= v.indexOf("MONOSPACE") ? f(t, q.cellResolution) || t.lineHeight : t.lineHeight; u = q.characterSize * u.height / (v || 1); u = 0 < w ? (0, l.MB)(u * w) : (0, l.lj)(u); w = {
                                    "font-size": u + "px",
                                    "line-height": "normal", "font-weight": "normal"
                                }; q.characterItalic && (w["font-style"] = "italic"); q.characterUnderline && (w["text-decoration"] = "underline"); q.characterColor && (w.color = q.characterColor); q.backgroundColor && 0 !== q.backgroundOpacity && (w["background-color"] = g(q.backgroundColor, q.backgroundOpacity)); u = q.characterEdgeColor || "#000000"; switch (q.characterEdgeAttributes) {
                                    case "DROP_SHADOW": w["text-shadow"] = u + " 0px 0px 7px"; break; case "UNIFORM": w["text-shadow"] = "-1px 0px " + u + ",0px 1px " + u + ",1px 0px " +
                                        u + ",0px -1px " + u; break; case "RAISED": w["text-shadow"] = "-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black"; break; case "DEPRESED": w["text-shadow"] = "1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black"
                                }w = (0, d.OG)(w); (p = p[q.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w += ";" + p); q = q.characterOpacity; 0 < q && 1 > q && (n = '<span style="opacity:' + q + '">' + n + "</span>"); return '<span style="' + w + '">' + n + "</span>"
                            } function g(n, q) {
                                n = n.substring(1);
                                n = parseInt(n, 16); return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== q ? q : 1) + ")"
                            } Object.defineProperty(b, "__esModule", { value: !0 }); b.XWa = b.fEb = b.dEb = b.gEb = b.eEb = b.YWa = b.ZWa = b.Cma = void 0; var d = a(46), h = a(24), l = a(11); b.Cma = function (n, q, p, u, t) { var w = ""; n.textNodes.forEach(function (v) { w += k(v, p, q, u, t) }); return w }; b.ZWa = function (n, q, p, u, t) {
                                var w = "", v = t.width; t = t.height; for (var x = q.length; x--;) {
                                    var y = q[x], z = n[x]; z = z && z.region; var A = "position:absolute;background:" + u + ";width:" + (0, l.lj)(y.width +
                                        2 * p) + "px;height:" + (0, l.lj)(y.height + 2 * p) + "px;"; y = c(z, y, v, t, p); (0, h.xe)(y, function (B, E) { A += B + ":" + E + ";" }); w += '<div style="' + A + '"></div>'
                                } return w
                            }; b.YWa = c; b.eEb = f; b.gEb = k; b.dEb = m; b.fEb = g; b.XWa = function (n) { var q = { display: "block", "white-space": "nowrap" }; switch (n.region.horizontalAlignment) { case "left": q["text-align"] = "left"; break; case "right": q["text-align"] = "right"; break; default: q["text-align"] = "center" }return (0, d.OG)(q) }
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); b.GJa = void 0;
                            var c = a(12), f = a(14), k = a(54), m = a(94), g = a(11), d = a(50), h = a(18), l = a(15); b.GJa = function (n) {
                                function q() { return n.state.value === l.Mb.LOADING || n.state.value === l.Mb.je && n.sb.value === l.Xa.Pe } function p() { q() ? z || (z = setInterval(u, 100)) : z && (clearInterval(z), z = void 0, (0, d.Tc)(u)) } function u() {
                                    var A = (0, k.jk)(), B = t.value, E = B ? B.progress : 0, D = n.state.value == l.Mb.LOADING || q() && A - w > f.config.lvb; if (D && n.state.value == l.Mb.je) {
                                        if (n.Ff.value === l.Bf.lLa) var F = E, G = !0; else {
                                            var C = A; v = v || A; x = x || v + f.config.cRb + 1; (0, h.Ea)(C) &&
                                                (C = (0, g.oo)(C, x), F = (0, g.lj)(1E3 * (0, m.Dp)((A - v) / (C - v), 0, .99)) / 1E3)
                                        } if (F < E) if (E - F < f.config.GWb / 100) F = E, y = void 0; else if (y) if (A - y > f.config.FWb) { var H = !0; y = void 0 } else F = E; else y = A, F = E
                                    } else y = x = v = void 0; A = D ? { Ns: G, progress: F, HWb: H } : null; (!A || !t || !B || (0, h.Ea)(A.progress) && !(0, h.Ea)(B.progress) || (0, h.Ea)(A.progress) && (0, h.Ea)(B.progress) && .01 < (0, g.hF)(A.progress - B.progress) || A.Ns !== B.Ns) && t.set(A)
                                } var t = n.gU, w = 0, v, x, y, z; n.state.addListener(function () { p(); u() }, c.g1); n.sb.addListener(function (A) {
                                    if (A.oldValue !==
                                        l.Xa.Pe || A.newValue !== l.Xa.Pe) w = (0, k.jk)(); p()
                                }); n.Ff.addListener(function () { p() }); n.Kr.addListener(function () { p() }); n.Tm.addListener(function () { p() }); z || (z = setInterval(u, 100))
                            }
                        }, function (r, b, a) {
                            function c(J) {
                                var Q = this; this.j = J; this.Tb = this.j.Tb; this.log = (0, n.Oh)(this.j, "MediaPresenterASE"); this.h9 = this.N4 = 0; this.ba = this.Tb.ba; this.Z6a = this.Q6a = this.M7 = this.mua = !1; this.Y1b = n.ta.get(E.JK)((0, B.Nc)(z.x1)); this.ZL = void 0; this.kp = n.ta.get(F.tLa)(this.j); this.Ox = {}; this.k4a = {}; this.jW = {}; this.sg = new C.TGa(this.j);
                                this.W1b = function () { Q.j.EZ = (0, l.jk)(); if (!Q.pk() && Q.Nn) { var K = Q.Tb.h_a(); K || (Q.NUb(), Q.sg.pya(Q.mediaTime)); Q.j.paused.value || !Q.sg.Ila(Q.mediaTime) || !Q.Nja() || K || Q.kp.Hqa ? Q.gwa() : Q.mua || Q.hwa(); Q.MUb(); if (!Q.Tb.h_a() && !Q.M7) { K = Q.Tb.NV(!0); var I = Q.j.sb.value, M = Q.Fxb(); I !== M && !1; M === x.Xa.xp ? (Q.mediaTime = Q.j.Wu.$(B.ja), Q.gwa()) : M !== x.Xa.Pe && Q.$3b(K); Q.Acb(); Q.sg.kka(Q.mediaTime); Q.j.sb.set(M); M !== x.Xa.Pe || I !== x.Xa.Kc && I !== x.Xa.mh || Q.ATb() } } }; this.Sl = (0, G.Q7a)(this.W1b); this.mediaTime = J.Z; this.j.oi =
                                    !1; this.Tb.addEventListener(A.Qj.kab, function () { Q.log.trace("sourceBuffers have been created. Initialize MediaPresenter."); try { Q.Ab() } catch (K) { Q.log.error("Exception while initializing", K), Q.Pd(q.N.ykb) } })
                            } Object.defineProperty(b, "__esModule", { value: !0 }); b.gHa = void 0; var f = a(43), k = a(12), m = a(14), g = a(68), d = a(62), h = a(46), l = a(54), n = a(8); a(104); var q = a(3), p = a(340), u = a(20), t = a(94), w = a(28), v = a(50), x = a(15), y = a(18), z = a(165), A = a(306), B = a(4), E = a(114), D = a(210), F = a(547), G = a(1207), C = a(1208), H = a(268), L = a(209), N =
                                a(11); c.prototype.cZa = function () { return this.Tb.NV(!1) }; c.prototype.o6 = function () { return this.Tb.o6() }; c.prototype.gD = function () { return this.Tb.gD() }; c.prototype.nH = function () { return this.Tb.nH() }; c.prototype.LV = function () { return this.Tb.LV() }; c.prototype.Ab = function () { var J = this; this.log.trace("Video element initializing"); this.Tb.sourceBuffers.forEach(function (Q) { return J.sg.F_b(Q) }); this.XLb(this.j.MH) }; c.prototype.XLb = function (J) {
                                    var Q = this, K; J ? this.log.trace("Waiting for needkey") : (this.log.warn("Movie is not DRM protected",
                                        { MovieId: this.j.K }), null === (K = this.j.Ma) || void 0 === K ? void 0 : K.Bz(this.j.K)); this.log.trace("Waiting for loadedmetadata"); this.Tb.addEventListener(A.Qj.G2a, function (I) { I = I.S; var M; Q.j.Ld("ld", I); null === (M = Q.j.Ma) || void 0 === M ? void 0 : M.Bz(I); Q.j.fireEvent(x.ca.D2a) }); (0, h.aRa)(this.ba, "loadedmetadata", function () { Q.log.trace("Video element event: loadedmetadata"); Q.j.Ld("md") }); d.ye.addListener(d.Jl, this.jW[d.Jl] = function () { return Q.close() }, k.wF); this.j.addEventListener(x.ca.ng, function () { return Q.close() },
                                            k.wF); this.j.addEventListener(x.ca.E9a, function () { return Q.hwa() }); this.j.addEventListener(x.ca.XH, function () { return Q.nTb() }); this.j.paused.addListener(function () { return Q.Sl() }); this.j.muted.addListener(function () { return Q.Mya() }); this.j.volume.addListener(function () { return Q.Mya() }); this.j.playbackRate.addListener(function () { return Q.eba() }); this.j.Kr.addListener(function () { return Q.Sl() }); this.j.Tm.addListener(function () { return Q.Sl() }); this.Mya(); this.eba(); this.sg.iaa(function () { return Q.D8() });
                                    this.D8(); this.r3b()
                                }; c.prototype.B3 = function (J) { var Q = this; !1; this.sg.qtb(J); this.owb(J).then(function () { Q.D8(); Q.j.fireEvent(x.ca.C8) }).catch(function (K) { Q.Pd(q.N.Dkb, { yb: (0, w.$d)(K) }) }) }; c.prototype.Sia = function (J, Q, K) { K = void 0 === K ? {} : K; Q = this.fDb(J, Q); this.sg.otb(J, Q, K); this.D8(); this.Q6a || J.type !== f.Yb.ul.Pb || (this.kp.Hqa || this.seek(this.j.Z, x.Ce.Zx), this.Q6a = !0) }; c.prototype.r3b = function () {
                                    var J = this; this.Tb.addEventListener(A.Qj.aZ, this.Ox[A.Qj.aZ] = function () { return J.FTb() }); this.Tb.addEventListener(A.Qj.fq,
                                        this.Ox[A.Qj.fq] = function () { return J.z9() }); this.ba.addEventListener("ended", this.Ox.ended = function () { return J.gTb() }); this.ba.addEventListener("play", this.Ox.play = function () { return J.rTb() }); this.ba.addEventListener("pause", this.Ox.pause = function () { return J.pTb() }); this.ba.addEventListener("playing", this.Ox.playing = function () { return J.xTb() }); this.Nn = !0; this.sg.pya(this.mediaTime); this.log.trace("Video element initialization complete"); this.j.Ld("vi"); m.config.BVa ? setTimeout(function () {
                                            J.vta = !0;
                                            J.Sl()
                                        }, m.config.BVa) : this.vta = !0; this.O0b(); (0, v.Tc)(function () { return J.Sl() })
                                }; c.prototype.O0b = function () {
                                    function J() { var I; K.j.sb.value !== x.Xa.Kc || 0 !== (null === (I = K.j.Kf) || void 0 === I ? void 0 : I.o6()) || N.Be.hidden ? (K.g5a.Os(), I = "stopTimer") : (K.g5a.fH(), I = "ensureTimer"); K.log.trace("No render timer update: " + I, { presentingState: x.Xa[K.j.sb.value], hidden: N.Be.hidden }) } function Q(I) {
                                        I = void 0 === I ? !0 : I; var M = K.j.Ma, O = (null === M || void 0 === M ? void 0 : M.ii) && M.W6(); K.j.sb.value == x.Xa.Pe && K.j.state.value == x.Mb.je &&
                                            K.j.Kr.value == x.Bf.je && K.j.Tm.value == x.Bf.je && !K.j.oi && O ? (I && K.P4.Os(), K.P4.fH(), M = "ensureTimer") : (K.P4.Os(), M = "stopTimer"); K.log.trace("Timer update: " + M, { presentingState: x.Xa[K.j.sb.value], playbackState: x.Mb[K.j.state.value], avBufferingState: x.Bf[K.j.Kr.value], textBufferingState: x.Bf[K.j.Tm.value], autoplayWasBlocked: K.j.oi, hasLicense: O, restartTimer: I })
                                    } var K = this; m.config.qVa && ((0, u.gb)(!this.P4), this.P4 = n.ta.get(D.J1)(m.config.qVa, function () { var I = n.ta.get(p.Jca).LVa(K.j); K.Pd(I.code, I) }), this.j.sb.addListener(function () { return Q() }),
                                        this.j.Kr.addListener(function () { return Q() }), this.j.Tm.addListener(function () { return Q() }), this.j.state.addListener(function () { return Q() }), this.j.addEventListener(x.ca.D2a, function () { return Q() }), this.j.addEventListener(x.ca.oi, function () { return Q() }), this.j.addEventListener(x.ca.oja, function () { return Q() }), this.j.addEventListener(x.ca.KI, function () { return Q(!0) }), Q()); m.config.f5a && (this.g5a = n.ta.get(D.J1)(m.config.f5a, function () {
                                            var I; 0 === (null === (I = K.j.Kf) || void 0 === I ? void 0 : I.gD()) && (I = n.ta.get(p.Jca).LVa(K.j),
                                                K.Pd(I.code, I)); K.j.sb.removeListener(J); d.ye.removeListener(d.Xr, K.jW[d.Xr])
                                        }), this.j.sb.addListener(J), d.ye.addListener(d.Xr, this.jW[d.Xr] = J), J())
                                }; c.prototype.fDb = function (J, Q) { var K = this.j.tf; (K = (0, L.wqa)(K) ? K.rN() : void 0) && J.type === f.Yb.ul.Pb && ((J = (new H.rK(this.log, { mediaType: H.Rj.Pb, url: "http://some-url" }, Q)).za(K)) ? Q = J : !1); return Q }; c.prototype.D8 = function () { this.Nn ? this.Sl() : m.config.ptb && this.sg.pya(this.mediaTime); this.sg.lTa() }; c.prototype.U0b = function () {
                                    !1; this.j.sb.set(x.Xa.Pe); this.M7 =
                                        !0; this.Sl()
                                }; c.prototype.Bxb = function () { var J = this; this.M7 && (!1, this.M7 = !1, (0, v.Tc)(function () { return J.pSb() })) }; c.prototype.i6 = function () { return this.sg.i6() }; c.prototype.pSb = function () { var J = this.j.kD() || 0; if (this.j.fb.vj) { if (m.config.Zub) { J = J - (this.Tb.vwa + 1) - m.config.uwa; var Q = this.j.Ma.Mn().od; J = Math.max(J, Q) } } else J -= m.config.xZb, J = Math.max(J, this.kp.kra); this.seek(J, x.Ce.H1) }; c.prototype.u9 = function (J) { var Q = this; this.sg.H_b(J); (0, v.Tc)(function () { return Q.Sl() }) }; c.prototype.XHb = function () {
                                    return {
                                        N4: this.N4,
                                        h9: this.h9
                                    }
                                }; c.prototype.owb = function (J) { var Q = this.Tb && this.Tb.IZa(); this.j.Wu && Q && Infinity !== J.O9a && (J = J.O9a + J.fv, J > this.j.Wu.u7a(B.ja) && (this.j.Wu = (0, B.Nc)(J))); return Promise.resolve() }; c.prototype.MUb = function () { var J = this; this.kp.T9 && (!1, this.Nja() && this.sg.Ila(this.mediaTime) && (this.Tb.seek(this.mediaTime), this.kp.T9 = !1, (0, v.Tc)(function () { return J.Sl() }))) }; c.prototype.$3b = function (J) {
                                    if (J < this.mediaTime) {
                                        var Q = this.mediaTime - J; m.config.OUb && J && Q > z.x1 && (J = {
                                            ElementTime: (0, t.mj)(J), MediaTime: (0,
                                                t.mj)(this.mediaTime)
                                        }, Q > z.NKa ? this.Pd(q.N.Nkb, { yb: Object.assign({ Trace: this.Tb.mD() }, J) }) : this.log.warn("VIDEO.currentTime became smaller", J))
                                    } else this.mediaTime = (0, t.Dp)(J, 0, this.j.Wu.$(B.ja))
                                }; c.prototype.Nja = function () { return this.j.Kr.value === x.Bf.je && this.j.Tm.value === x.Bf.je }; c.prototype.Fxb = function () {
                                    var J = this, Q = this.j.sb.value, K = Q; this.kp.Hqa ? K = x.Xa.Pe : this.ba && this.ba.ended ? Q === x.Xa.Kc && (K = x.Xa.xp) : this.Nja() && this.sg.Ila(this.mediaTime) ? this.Tb.dCb() ? K = this.ba && this.ba.paused ? x.Xa.mh :
                                        x.Xa.Kc : this.Y1b.ol(function () { return J.X1b() }) : K = this.j.Wu ? this.j.N_a(this.mediaTime, this.sg.M4()) ? x.Xa.Pe : x.Xa.xp : x.Xa.Pe; return K
                                }; c.prototype.ATb = function () { if (this.j.sb.value === x.Xa.Pe) { var J = this.sg.H2b() > this.sg.M4(); this.j.Tm.value !== x.Bf.je ? this.j.Mi.value ? (this.j.fireEvent(x.ca.dz, { cause: g.DJa }), this.log.warn("rebuffer due to timed text", this.j.Mi.value.Th)) : this.j.fireEvent(x.ca.YP) : J ? (this.N4++, this.j.fireEvent(x.ca.dz, { cause: g.Iea })) : (this.h9++, this.j.fireEvent(x.ca.dz, { cause: g.Jea })) } };
                            c.prototype.X1b = function () { this.pk() || (m.config.CSb && this.sg.BSb(), this.Sl()) }; c.prototype.FTb = function () { this.Sl() }; c.prototype.z9 = function () { this.Sl(); this.j.fireEvent(x.ca.fq) }; c.prototype.gTb = function () { this.log.trace("Video element event: ended"); this.Sl() }; c.prototype.rTb = function () { this.log.trace("Video element event: play"); this.Sl() }; c.prototype.pTb = function () { this.log.trace("Video element event: pause"); this.Sl() }; c.prototype.xTb = function () {
                                this.log.trace("Video element event: playing");
                                this.Sl()
                            }; c.prototype.Mya = function () { this.pk() || (this.ba && this.ba.volume !== this.j.volume.value && (this.ba.volume = this.j.volume.value), this.ba && this.ba.muted !== this.j.muted.value && (this.ba.muted = this.j.muted.value)) }; c.prototype.eba = function () { !this.pk() && this.ba && (this.ba.playbackRate = this.j.playbackRate.value) }; c.prototype.hwa = function () {
                                var J = this; this.pk() || !(0, y.Mc)(this.ba) || this.ba.ended || !this.vta || !this.jQ && void 0 !== this.jQ || (this.log.trace("Calling play on element"), Promise.resolve(this.ba.play()).then(function () {
                                    J.closed ||
                                        (J.jQ = !1, J.mua = !1, J.ba.style.display = null, J.j.oi = !1, J.j.fireEvent(x.ca.oja))
                                }).catch(function (Q) { "NotAllowedError" === Q.name ? (J.log.warn("Playback is blocked by the browser settings", Q), J.j.oi = !0, J.closed || (J.mua = !0, J.ba.style.display = "none", J.j.fireEvent(x.ca.oi, { player: { play: function () { return J.hwa() } } }))) : J.closed || (J.jQ = !1, J.Z6a || (J.Z6a = !0, J.log.error("Play promise rejected", Q))) }))
                            }; c.prototype.nTb = function () { this.kp.kra = this.j.kD() || 0 }; c.prototype.gwa = function () {
                                this.pk() || !(0, y.Mc)(this.ba) ||
                                    this.ba.ended || !this.vta || this.jQ && void 0 !== this.jQ || (this.log.trace("Calling pause on element"), this.ba.pause(), this.jQ = !0)
                            }; c.prototype.Acb = function (J) { this.j.mediaTime.set(this.mediaTime); J && this.j.FFb() }; c.prototype.seek = function (J, Q, K, I) { K = void 0 === K ? this.j.ha : K; I = void 0 === I ? !1 : I; var M, O = null === (M = this.j.Ma) || void 0 === M ? void 0 : M.ii; !this.pk() && O && (this.j.fireEvent(x.ca.KI, { cause: Q }), this.kp.aY = { time: J, cause: Q, ha: K, LFb: I }, this.j.sb.set(x.Xa.Pe), this.Sl()) }; c.prototype.NUb = function () {
                                if (this.kp.aY) {
                                    var J =
                                        this.kp.aY, Q = J.time, K = J.cause, I = J.ha, M = J.LFb; if (!this.sg.Nh() || K === x.Ce.Zx) {
                                            J = this.j.nk(I).K; var O = this.sg.Nh() ? void 0 : this.sg.NGb(); O = this.kp.vIb(Q, K, I, M, O); I = O.k9; M = O.kk; var P = O.pVb; O = O.Oi; this.sg.kka(this.mediaTime); var S = this.mediaTime; Q = (0, t.mj)(Q); this.j.rG("SEEKING: Requested: (" + J + ":" + K + ":" + Q + ") - Actual: (contentPts: " + M + ",playerPts: " + (P + ", newMediaTime: " + I + ")")); this.log.info("Seeking", { Requested: Q, Actual: (0, t.mj)(I), Cause: K, Skip: O }); K === x.Ce.Zx || O || (this.sg.h9a(), this.sg.B_b()); this.mediaTime =
                                                I; this.kp.kra = M; Q = this.j.nf.value; P = this.j.Td.value; this.j.nf.set(null); this.j.Td.set(null); this.Acb(!0); this.kp.aY = void 0; this.kp.T9 = !0; this.j.fireEvent(x.ca.Ck, { wta: S, k9: I, kk: M, cause: K, skip: O, nf: Q, Td: P, K: J }); O && this.sg.skip(I)
                                        }
                                }
                            }; c.prototype.Pd = function (J, Q, K) { this.closed || this.j.Pd(J, Q, K) }; c.prototype.close = function () {
                                if (!this.closed) {
                                    this.log.info("Closing."); this.sg.close(); this.Tb.removeEventListener(A.Qj.aZ, this.k4a[A.Qj.aZ]); this.Tb.removeEventListener(A.Qj.fq, this.k4a[A.Qj.fq]); this.ba.removeEventListener("ended",
                                        this.Ox.ended); this.ba.removeEventListener("play", this.Ox.play); this.ba.removeEventListener("pause", this.Ox.pause); this.ba.removeEventListener("playing", this.Ox.playing); d.ye.removeListener(d.Jl, this.jW[d.Jl]); d.ye.removeListener(d.Xr, this.jW[d.Xr]); this.closed = !0; try { m.config.HRb && (this.ba.volume = 0, this.ba.muted = !0), this.gwa(), this.Tb.close() } catch (J) { } this.ba = void 0; this.sg.h9a()
                                }
                            }; c.prototype.pk = function () {
                                return this.closed ? !0 : (0, y.Mc)(this.ba) ? !1 : (this.log.error("MediaPresenter not closed and videoElement is not defined"),
                                    !0)
                            }; b.gHa = c
                        }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.tLa = "SeekManagerFactorySymbol" }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); b.tDa = void 0; var c = a(14), f = a(62), k = a(24), m = a(3), g = a(15); b.tDa = function (d, h, l) {
                                function n(p) { var u = p.error || p, t = (0, k.$d)(u); l.error("uncaught exception", u, t); (u = (u = u && u.stack) && c.config.gcb && c.config.E3b ? 0 <= u.indexOf(c.config.gcb) : void 0) && (p && p.stopImmediatePropagation && p.stopImmediatePropagation(), d.Pd(m.N.WMa)) } function q() {
                                    f.ye.removeListener(f.P6,
                                        n); d.removeEventListener(g.ca.ng, q); d.removeEventListener(g.ca.Iq, q)
                                } try { f.ye.addListener(f.P6, n), d.addEventListener(g.ca.ng, q), c.config.ALb && d.addEventListener(g.ca.Iq, q) } catch (p) { l.error("exception in exception handler ", p) }
                            }
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); b.j3a = void 0; var c = a(14), f = a(12), k = a(54); r = a(3); var m = a(11), g = a(18), d = a(8); a = a(39); d.ta.get(a.ai).register(r.N.NEa, function (h) {
                                function l() { return (0, m.MB)((0, k.jk)() / u) } function n() {
                                    var v = l(); if (v != w) {
                                        for (var x =
                                            (0, m.Cp)(v - w, 30); x--;)t.push(0); (x = (0, m.oo)(t.length - 31, 0)) && t.splice(0, x); w = v
                                    } t[t.length - 1]++
                                } var q = c.config.uPb, p = -6 / (q - 2 - 2), u = f.Xl, t = [], w = l(); (0, g.Kqa)(q) && (setInterval(n, 1E3 / q), b.j3a = { PHb: function () { for (var v = [], x = t.length - 1; x--;) { var y = t[x]; v.unshift(0 >= y ? 9 : 1 >= y ? 8 : y >= q - 1 ? 0 : (0, m.lj)((y - 2) * p + 7)) } return v } }); h(f.Yd)
                            })
                        }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Qea = "PlaybackMilestoneStoreSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.YIa = "PboManifestRequestTransformerSymbol" },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.CIa = "PboBindCommandSymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.aJa = "PboPairCommandSymbol" }, function (r, b, a) {
                    function c(h, l) { this.Tb = h; this.j = l; this.TW = [] } Object.defineProperty(b, "__esModule", { value: !0 }); b.GQ = void 0; r = a(1); var f = a(3), k = a(0), m = a(18), g = a(28), d = a(8); c.prototype.O5 = function (h) { this.TW.forEach(function (l) { return l(h) }) }; c.prototype.Pd = function (h, l, n) { this.j.Pd(h, l, n) }; c.prototype.rsb = function (h) {
                        -1 ===
                            this.TW.indexOf(h) && this.TW.push(h)
                    }; c.prototype.ZXb = function (h) { h = this.TW.indexOf(h); 0 <= h && this.TW.splice(h, 1) }; c.prototype.y_a = function (h) { var l = {}; (0, m.Mc)(h.code) ? l.ma = (0, f.qDa)(h.code) : l.ma = f.M.ci; try { var n = h.message.match(/\((\d*)\)/)[1]; l.Te = (0, d.xja)(n, 4) } catch (q) { } l.yb = (0, g.$d)(h); return l }; a = c; a = r.__decorate([(0, k.R)()], a); b.GQ = a
                }, function (r, b, a) {
                    function c(k) { this.na = k; this.mQ = {}; this.lx() } Object.defineProperty(b, "__esModule", { value: !0 }); b.Wea = void 0; var f = a(1259); c.prototype.lx = function () {
                        var k =
                            this; Object.values(this.na.ll.U).forEach(function (m) { m = m.S; k.mQ[m] || k.c1a(m) }); this.cba()
                    }; c.prototype.EN = function (k) { return this.mQ[k] }; c.prototype.n_b = function (k) { this.aW(k).state = f.qy.CDa; this.cba() }; c.prototype.m_b = function (k, m) { k = this.aW(k); k.state = f.qy.Error; k.error = m; k.q9a(!1); this.cba() }; c.prototype.l$a = function (k) { k = this.aW(k); k.state = f.qy.Xgb; k.q9a(!0); this.cba() }; c.prototype.Bsb = function (k, m) { this.aW(k).Nb = m }; c.prototype.VL = function (k, m) { this.aW(k).pa = m }; c.prototype.aW = function (k) {
                        var m;
                        return null !== (m = this.EN(k)) && void 0 !== m ? m : this.c1a(k)
                    }; c.prototype.c1a = function (k) { var m = void 0, g = new Promise(function (d, h) { m = function (l) { (l ? d : h)() } }); return this.mQ[k] = { state: f.qy.PHa, bXb: g, q9a: m } }; c.prototype.cba = function () { for (var k = this.na.Wg; k = this.na.YV(k);) { var m = this.Oo(k); if (this.mQ[m].state === f.qy.Error) break; if (this.mQ[m].state === f.qy.CDa) break; if (this.mQ[m].state === f.qy.PHa) break } }; c.prototype.Oo = function (k) { return this.na.ll.U[k].S }; b.Wea = c
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.lKa = "PlaygraphPlaybackStrategyFactorySymbol"
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.rKa = "PlaygraphVideoPlayerFactorySymbol" }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.MFa = "LegacyPostPlayShimFactorySymbol" }, function (r, b, a) {
                    function c(k, m) {
                        var g = this; this.aj = k; this.Zg = m; this.addEventListener = function (d, h, l) { return g.Zg.addListener(d, g.rVa(d, h), l) }; this.removeEventListener = function (d, h) { return g.Zg.removeListener(d, g.rVa(d, h)) }; this.getReady =
                            function () { return g.Zg.isReady() }; this.getXid = function () { return g.Fb().Vz() }; this.getMovieId = function () { return g.Fb().NZa() }; this.getPlaygraphId = function () { return g.Zg.TIb() }; this.getElement = function () { return g.Zg.Ln() }; this.isPlaying = function () { return g.Fb().xq() }; this.isPaused = function () { return g.Fb().HW() }; this.isMuted = function () { return g.Fb().Dqa() }; this.isReady = function () { return g.Fb().isReady() }; this.isBackground = function () { return g.Fb().m1a() }; this.setBackground = function (d) { return g.Fb().Lwa(d) };
                        this.startInactivityMonitor = function () { return g.Fb().OP() }; this.setTransitionTime = function (d) { return g.Fb().bxa(d) }; this.getDiagnostics = function () { return g.Fb().WYa() }; this.getTextTrackList = function (d) { return g.Fb().J6(d) }; this.getMaxRecommendedTextIndex = function (d) { return g.Fb().soa(d) }; this.getTextTrack = function () { return g.Fb().epa() }; this.setTextTrack = function (d) { return g.Fb().Ywa(d) }; this.getVolume = function () { return g.Fb().B_a() }; this.isEnded = function () { return g.Fb().xqa() }; this.getBusy = function () { return g.Fb().Nh() };
                        this.getError = function () { return g.Fb().getError() }; this.getCurrentTime = function () { return g.Fb().tu() }; this.getBufferedTime = function () { return g.Fb().EYa() }; this.getSegmentTime = function () { return g.Fb().l6() }; this.getDuration = function () { return g.Fb().Wna() }; this.getVideoSize = function () { return g.Fb().A_a() }; this.getAudioTrackList = function () { return g.Fb().Mna() }; this.getMaxRecommendedAudioIndex = function () { return g.Fb().FZa() }; this.getAudioTrack = function () { return g.Fb().vYa() }; this.getTimedTextTrackList =
                            function (d) { return g.Fb().J6(d) }; this.getMaxRecommendedTimedTextIndex = function (d) { return g.Fb().soa(d) }; this.getTimedTextTrack = function () { return g.Fb().epa() }; this.shouldUseProjectSalsaUI = function () { return g.Fb().W$a() }; this.getAdditionalLogInfo = function () { return g.Fb().sYa() }; this.getTrickPlayFrame = function (d) { return g.Fb().x_a(d) }; this.getSessionSummary = function () { return g.Fb().Voa() }; this.getTimedTextSettings = function () { return g.Fb().hW() }; this.setMuted = function (d) { return g.Fb().v$a(d) }; this.setVolume =
                                function (d) { return g.Fb().J$a(d) }; this.getPlaybackRate = function () { return g.Fb().No() }; this.setPlaybackRate = function (d) { return g.Fb().w$a(d) }; this.setAudioTrack = function (d) { return g.Fb().g$a(d) }; this.setTimedTextTrack = function (d) { return g.Fb().Ywa(d) }; this.setTimedTextSettings = function (d) { return g.Fb().FP(d) }; this.prepare = function () { return g.Fb().PO() }; this.load = function () { return g.Fb().load() }; this.close = function (d) { return g.FRa(g.Zg.close(), d) }; this.play = function () { return g.Fb().play() }; this.pause =
                                    function () { return g.Fb().pause() }; this.seek = function () { throw Error("Seek by graph position has not been implemented"); }; this.transition = function () { throw Error("Transition segment has not been implemented"); }; this.engage = function (d, h) { return g.FRa(g.Fb().YM(d), h) }; this.induceError = function (d) { return g.Fb().P0a(d) }; this.loadCustomTimedTextTrack = function (d, h, l, n) { return g.Fb().M2a(d, h, l, n) }; this.tryRecoverFromStall = function () { }; this.getCropAspectRatio = function () { return g.Fb().MV() }; this.getCropAspectRatioXandY =
                                        function () { return g.Fb().PYa() }; this.generateScreenshots = function (d) { return g.Fb().nYa(d) }; this.getCurrentSegmentId = function () { return g.Zg.SYa() }; this.getPlaygraphMap = function () { return g.Zg.Foa() }; this.updatePlaygraphMap = function (d) { return g.Zg.vB(d) }; this.Jma = new Map; this.log = (0, f.vh)("VideoPlayer"); Object.defineProperty(this, "diagnostics", { get: this.getDiagnostics })
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.P1 = void 0; var f = a(8); a(104); c.prototype.Fb = function () { return this.Zg.Fb() }; c.prototype.rVa =
                        function (k, m) { this.Jma.has(k) || this.Jma.set(k, new Map); var g = this.Jma.get(k); g.has(m) || g.set(m, this.zBb(k, m)); return g.get(m) }; c.prototype.zBb = function (k, m) { var g = this; return function (d) { return m(Object.assign({}, d, { type: k, target: g })) } }; c.prototype.FRa = function (k, m) { return m ? k.then(m, m) : k }; b.P1 = c
                }, function (r, b, a) {
                    function c(k, m, g, d, h) { var l = this; this.nb = k; this.Lk = m; this.pv = g; this.Zb = d; this.Mm = h; this.m$ = new Map; this.U_b(); this.Zb.addListener(f.Fa.loaded, function () { return l.z7a() }) } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.mF = void 0; var f = a(15); c.prototype.cRa = function (k) { var m = this, g = Object.keys(this.nb.ll.U).find(function (d) { return m.nb.ll.U[d].S === k.K }); k.id || (k.id = null !== g && void 0 !== g ? g : this.Mm.Vr(k.K)); g || (this.nb.ll = this.Mm.stb(this.nb.ll, k)); g = this.RO(k.id); k.xj && this.nb.f4b(k.id, k.xj); return g }; c.prototype.acb = function () { return Promise.reject(Error("Error isn't recoverable")) }; c.prototype.rpa = function (k, m) {
                            var g = this; m = void 0 === m ? {} : m; return this.pv.transition(k, m).then(function () {
                                g.nb.Wg =
                                    k
                            })
                        }; c.prototype.close = function (k) { return this.pv.close(k) }; c.prototype.isReady = function () { return this.pv.bJb() }; c.prototype.Ln = function () { return this.pv.Ln() }; c.prototype.sH = function () { return this.pv.sH() }; c.prototype.RO = function (k) { this.m$.has(k) || this.m$.set(k, this.pv.Vk(this.kvb(k))); return this.m$.get(k) }; c.prototype.U_b = function () {
                            var k = this; this.pv.addListener(f.BF.bZ, function () { return k.Zb.Gc(f.BF.bZ) }); Object.values(f.Fa).forEach(function (m) {
                                k.pv.addListener(m, function (g) {
                                    return k.Zb.Gc(m,
                                        g)
                                })
                            })
                        }; c.prototype.lx = function () { this.z7a() }; c.prototype.Cta = function (k) { this.pv.d4b({ id: k, K: this.nb.kf(k).S, xj: this.nb.tJb(k) }) }; c.prototype.tI = function () { }; c.prototype.z7a = function () { if (this.isReady()) { var k = this.nb.Wg, m = this.nb.YV(k); m && !this.m$.has(m) && (this.Cta(k), this.RO(m)) } }; c.prototype.kvb = function (k) {
                            var m, g = this.nb.kf(k), d = this.Lk.EN(g.S), h = null === d || void 0 === d ? void 0 : d.Nb; d = null === d || void 0 === d ? void 0 : d.pa; return {
                                id: k, K: g.S, Z: g.Aa, xj: null !== (m = null === h || void 0 === h ? void 0 : h.xj) && void 0 !==
                                    m ? m : g.Da, Nb: h, pa: d
                            }
                        }; b.mF = c
                }, function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.KDa = void 0;
                    b.KDa = function(a) {
                        var k = [], m, g, d;
                        function c() {
                            if (g)
                                for (var h; h = k.pop();) { console.log('h-d', d);  h(d); }
                        }
                
                        function f(h) {
                            g = !0;
                            d = h;
                            console.log('d', d);
                            c()
                        }
                        
                        return function(h) {
                            // debugger;
                            k.push(h);
                            m || (m = !0, a(f));
                            // console.log('k', k);
                            c()
                        }
                    }
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.WHa = "NrdpRegistrationSymbol"
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.O4b = b.Vlb = b.fMa = b.Tlb = b.Ulb = void 0;
                    var c = a(28),
                        f = a(11);
                    b.Ulb = function(k, m, g) {
                        for (g =
                            (g - k.length) / m.length; 0 < g--;) k += m;
                        return k
                    };
                    b.Tlb = function(k, m, g) {
                        g = (0, c.Zf)(g) ? g : "...";
                        return k.length <= m ? k : k.substr(0, k.length - (k.length + g.length - m)) + g
                    };
                    b.fMa = function(k, m) {
                        for (var g = 1; g < arguments.length; ++g);
                        var d = f.slice.call(arguments, 1);
                        return k.replace(/{(\d+)}/g, function(h, l) {
                            return "undefined" != typeof d[l] ? d[l] : h
                        })
                    };
                    b.Vlb = function(k) {
                        for (var m = k.length, g = new Uint16Array(m), d = 0; d < m; d++) g[d] = k.charCodeAt(d);
                        return g.buffer
                    };
                    b.O4b = function(k) {
                        var m = new Uint8Array(k.length);
                        Array.prototype.forEach.call(k,
                            function(g, d) {
                                m[d] = g.charCodeAt(0)
                            });
                        return m
                    }
                }, function (r, b, a) {
                    function c(h) {
                        (0, f.vh)("MediaSourceASE").trace("Inside MediaSourceASE"); var l = h.WV(); this.readyState = d.Xc.CLOSED; this.sourceBuffers = l.sourceBuffers; this.addSourceBuffer = function (n) { return l.addSourceBuffer(n) }; this.u3 = function (n) { return l.u3(n) }; this.removeSourceBuffer = function (n) { return l.removeSourceBuffer(n) }; this.hq = function (n) { return l.hq(n) }; this.sZ = g++; this.duration = void 0; l.ZZb(this.sZ); this.readyState = d.Xc.OPEN; this.Sc = k.ta.get(m.oh).mO(d.Sc,
                            {})
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.lHa = void 0; var f = a(8), k = a(8), m = a(31), g = 0; Object.defineProperty(c.prototype, "duration", { get: function () { return this.Yj }, set: function (h) { this.Yj = h || Infinity; var l = Math.floor(1E3 * h) || Infinity; this.sourceBuffers.forEach(function (n) { n.Yj = l }) } }); var d = { Xc: { CLOSED: 0, OPEN: 1, xp: 2, name: ["CLOSED", "OPEN", "ENDED"] }, Sc: { GTa: !0, Q4a: !0 } }; b.lHa = Object.assign(c, d)
                }, function (r, b, a) {
                    function c(v) {
                        return v.split(",").reduce(function (x, y) {
                            var z = y.split("="); y = z[0];
                            z = z.slice(1).join("="); y && y.length && (x[y] = z || !0); return x
                        }, {})
                    } function f(v) { return v && "object" === typeof v ? JSON.stringify(v) : "string" === typeof v ? '"' + v + '"' : "" + v } function k(v, x, y) {
                        if ("string" === typeof v) return k.call(this, c(v), x, y); var z = 0; Object.keys(v).forEach(function (A) {
                            var B = p[A], E = v[A], D; if (B) {
                                if (D = u[A] || w[typeof h[B]]) try { E = D(E) } catch (F) { y && y.error("Failed to convert value '" + E + "' for config '" + A + "' : " + F.toString()); return } D = q[B]; this[B] = E; q[B] !== D && (y && y.debug("Config changed for '" + A + "' from " +
                                    f(D) + " (" + typeof D + ") to " + f(E) + " (" + typeof E + ")"), ++z)
                            } else x ? (B = (B = t[A]) ? B.filter(function (F) { return F[0] !== this }, this) : [], B.push([this, E]), t[A] = B) : y && y.error("Attempt to change undeclared config option '" + A + "'")
                        }, this); z && q.emit("changed"); return z
                    } function m() { return Object.keys(p).reduce(function (v, x) { var y = p[x], z = v[y]; z ? (z.push(x), v[y] = z.sort(function (A, B) { return B.length - A.length })) : v[y] = [x]; return v }, {}) } function g(v, x) { return v.hasOwnProperty(x) ? f(v[x]) : void 0 } function d(v, x) {
                        return "undefined" ===
                            typeof v ? x : v
                    } b = a(87); a = a(1297).EventEmitter; var h = {}, l = Object.create(h), n = Object.create(l), q = Object.create(n), p = {}, u = {}, t = {}; q.declare = function (v) {
                        Object.keys(v).forEach(function (x) {
                            var y = v[x], z = y[0], A = y[1], B = y[2]; if (h.hasOwnProperty(x)) throw Error("The local configuraion key '" + x + "' is already in use"); "string" === typeof z && (z = [z]); z.forEach(function (E) {
                                var D; if (p.hasOwnProperty(E)) throw Error("The configuration value '" + E + "' has been declared more than once"); h.hasOwnProperty(x) || ("function" === typeof A &&
                                    (A = A()), h[x] = A); p[E] = x; "function" === typeof B && (u[E] = B); if (D = t[E]) D.forEach(function (F) { var G = F[0], C = {}; C[E] = F[1]; k.call(G, C, !1) }), delete t[E]
                            })
                        }); return q
                    }; var w = { object: function (v) { return "object" == typeof v ? v : JSON.parse("" + v) }, "boolean": function (v) { return "boolean" == typeof v ? v : !("0" === "" + v || "false" === ("" + v).toLowerCase()) }, number: function (v) { if ("number" == typeof v) return v; v = parseFloat("" + v); if (isNaN(v)) throw Error("parseFloat returned NaN"); return v } }; q.set = k.bind(l); q.UX = k.bind(n); q.dump = function (v,
                        x) { function y() { E && v && v.log("===========================================") } var z = Object.keys(t).sort(), A = {}, B = m(), E; x = d(x, !0); Object.keys(p).sort().forEach(function (D) { D = p[D]; if (!A[D]) { A[D] = !0; var F = g(l, D), G = g(n, D); if (x || "undefined" !== typeof F || "undefined" !== typeof G) { var C = B[D].join(","); C += " = " + f(q[D]) + " (" + typeof q[D] + ") ["; C += d(G, "<unset>") + ","; C += d(F, "<unset>") + ","; C += g(h, D) + "]"; E || (E = !0, v && v.log("Current config values"), y()); v && v.log(C) } } }); (x || z.length) && v && v.log("<undeclared> :", z); y() };
                    q.Xt = function (v) { var x = {}, y = {}; Object.keys(p).forEach(function (z) { z = p[z]; y[z] || (y[z] = !0, x[z] = q[z]) }); v && k.call(x, v); return x }; q.R6a = function () { var v = m(); return Object.getOwnPropertyNames(l).reduce(function (x, y) { x[v[y][0]] = l[y]; return x }, {}) }; q.reset = function () { Object.keys(l).forEach(function (v) { delete l[v] }) }; q.Bd = {}; b(a, q); r.exports = Object.freeze(q)
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.xca = void 0; var c = a(76), f = a(46), k = a(20), m = a(24), g = a(28); b.xca = function (d, h) {
                        (0, k.gb)(d);
                        (0, k.gb)(h); (0, k.HM)(h.VWa, "endpointURL property is required"); (0, k.gb)(h.ik); this.log = d; this.i7a = h
                    }; b.xca.prototype.Mz = function () {
                        var d = this; d.log.trace("Downloading config data."); var h = { browserInfo: JSON.stringify(d.i7a.ik) }, l = d.i7a.VWa + "?" + (0, f.AO)(h); return new Promise(function (n, q) {
                            function p(x) {
                                try { if (x.ga) { var y = new Uint8Array(x.content), z = String.fromCharCode.apply(null, y); return { ga: !0, config: JSON.parse(z).core.initParams } } return { ga: !1, message: "Unable to download the config. " + x.yb, Uw: x.mk } } catch (A) {
                                    return x =
                                        (0, m.$d)(A), d.log.error("Unable to download the config. Received an exception parsing response", { message: A.message, exception: x, url: l }), { ga: !1, yb: x, message: "Unable to download the config. " + A.message }
                                }
                            } function u(x, y, z) { return y > z ? (d.log.error("Config download failed, retry limit exceeded, giving up", (0, g.Ub)({ Attempts: y - 1, MaxRetries: z }, x)), !1) : !0 } function t(x, y) { x = 1E3 * Math.pow(2, Math.min(x - 1, y)); return (0, m.dva)(1E3, x) } function w(x) { return new Promise(function (y) { setTimeout(function () { y() }, x) }) } function v(x,
                                y, z) { c.lf.download(x, function (A) { A = p(A); if (A.ga) n(A); else { d.log.warn("Config download failed, retrying", (0, g.Ub)({ Attempt: y, WaitTime: B, MaxRetries: z }, A)); if (u(A, y + 1, z)) { var B = t(y, z); return w(B).then(function () { return v(x, y + 1, z) }) } q(A) } }) } return c.lf ? v({ url: l, responseType: 3, withCredentials: !0, UC: "config-download" }, 1, 3) : Promise.reject({ ga: !1, message: "Unable to download Config. There was no HTTP object supplied" })
                        })
                    }
                }, function (r, b, a) {
                    function c(k) { for (var m = "", g = 0; g < k.length; g++)m += k[g].S + "|"; return m }
                    var f = a(311); r.exports = {
                        assert: function (k, m) { if (!k) throw Error("PlayPredictionModel assertion failed" + (m ? " : " + m : "")); }, Xcc: function (k, m, g) { Array.prototype.splice.apply(k, [m, 0].concat(g)) }, cHb: function (k) { for (var m = [], g = 0; g < k.length; g++)if (k[g].context === f.yR.Kfb) { m = k[g].list; break } return m }, KGb: function (k) { for (var m = [], g = 0; g < k.length; g++)if (k[g].context === f.yR.yeb) { m = k[g].list; break } return m }, ZBb: function (k, m) {
                            for (var g = 0, d, h, l, n = 0, q = k.length - 1; n < q; n++) {
                                d = c(k[n].list || []); l = !1; for (var p = 0, u = m.length; p <
                                    u; p++)if (h = c(m[p].list || []), h == d) { l = !0; break } if (!1 === l) { g = n; break }
                            } return g
                        }, SSb: function (k, m, g) { for (var d = [], h, l = 0; l < Math.min(m, k.length); l++)h = k[l].list || [], d = d.concat(h.slice(0, g)); return d }, RSb: function (k, m) { for (var g = [], d, h = 0; h < k.length && (d = k[h].list || [], d = d.slice(0, Math.min(d.length, m)), m -= d.length, g = g.concat(d), 0 !== m); h++); return g }, QSb: function (k, m, g) { var d; m < k.length && 0 <= m && (k = k[m].list || [], g < k.length && (d = k[g])); return d }, GXa: function (k) {
                            for (var m = {}, g = k.length, d, h = 0; h < g; h++) {
                                d = k[h].list ||
                                    []; for (var l = 0; l < d.length; l++)if (d[l].property === f.qK.TR || d[l].property === f.qK.QBa) { m.Dk = h; m.mm = l; break }
                            } void 0 === m.Dk && void 0 === m.mm && (m.Dk = 0, m.mm = 0); return m
                        }
                    }
                }, function (r, b, a) {
                    function c(g, d, h, l, n, q, p) { this.i_ = l; this.Odb = g; this.d5a = d; this.Msa = h; this.DNb = q; this.lE = p; this.split = n } function f() {
                        this.L = {}; this.L["0"] = new c("1", "2", "1", "14", "-0.0000100136", 0, 0); this.L["1"] = new c("3", "4", "3", "20", "-0.0000100136", 0, 0); this.L["3"] = new c("7", "8", "7", "10", "1.5", 0, 0); this.L["7"] = new c("15", "16", "15", "9", "4.5",
                            0, 0); this.L["15"] = new c("31", "32", "31", "2", "5.5", 0, 0); this.L["31"] = new c("63", "64", "63", "29", "-0.0000100136", 0, 0); this.L["63"] = new c("123", "124", "123", "24", "-0.0000100136", 0, 0); this.L["123"] = new c("123", "124", "123", "0", "0", 1, .207298); this.L["124"] = new c("123", "124", "123", "0", "0", 1, .49076); this.L["64"] = new c("125", "126", "125", "4", "40.5", 0, 0); this.L["125"] = new c("125", "126", "125", "0", "0", 1, -.00157835); this.L["126"] = new c("125", "126", "125", "0", "0", 1, .934205); this.L["32"] = new c("65", "66", "65", "135", "5.5",
                                0, 0); this.L["65"] = new c("127", "128", "128", "4", "1272.5", 0, 0); this.L["127"] = new c("127", "128", "128", "0", "0", 1, -.510333); this.L["128"] = new c("127", "128", "128", "0", "0", 1, .18363); this.L["66"] = new c("129", "130", "129", "24", "-0.0000100136", 0, 0); this.L["129"] = new c("129", "130", "129", "0", "0", 1, -.0464542); this.L["130"] = new c("129", "130", "129", "0", "0", 1, .458833); this.L["16"] = new c("33", "34", "34", "10", "2.00001", 0, 0); this.L["33"] = new c("67", "68", "67", "0", "29.5", 0, 0); this.L["67"] = new c("131", "132", "131", "2", "39.5",
                                    0, 0); this.L["131"] = new c("131", "132", "131", "0", "0", 1, -.37577); this.L["132"] = new c("131", "132", "131", "0", "0", 1, .512087); this.L["68"] = new c("133", "134", "134", "140", "1.5", 0, 0); this.L["133"] = new c("133", "134", "134", "0", "0", 1, .321272); this.L["134"] = new c("133", "134", "134", "0", "0", 1, -.675396); this.L["34"] = new c("69", "70", "70", "2", "24.5", 0, 0); this.L["69"] = new c("135", "136", "136", "9", "28.5", 0, 0); this.L["135"] = new c("135", "136", "136", "0", "0", 1, -.0573845); this.L["136"] = new c("135", "136", "136", "0", "0", 1, -.507455);
                        this.L["70"] = new c("137", "138", "137", "45", "-0.0000100136", 0, 0); this.L["137"] = new c("137", "138", "137", "0", "0", 1, -.503909); this.L["138"] = new c("137", "138", "137", "0", "0", 1, .450886); this.L["8"] = new c("17", "18", "17", "4", "44189.5", 0, 0); this.L["17"] = new c("35", "36", "35", "2", "21.5", 0, 0); this.L["35"] = new c("71", "72", "72", "0", "19.5", 0, 0); this.L["71"] = new c("139", "140", "140", "9", "2.5", 0, 0); this.L["139"] = new c("139", "140", "140", "0", "0", 1, .00403497); this.L["140"] = new c("139", "140", "140", "0", "0", 1, -.312656); this.L["72"] =
                            new c("141", "142", "141", "135", "96", 0, 0); this.L["141"] = new c("141", "142", "141", "0", "0", 1, -.465786); this.L["142"] = new c("141", "142", "141", "0", "0", 1, .159633); this.L["36"] = new c("73", "74", "73", "130", "89.5", 0, 0); this.L["73"] = new c("143", "144", "144", "10", "4.5", 0, 0); this.L["143"] = new c("143", "144", "144", "0", "0", 1, -.76265); this.L["144"] = new c("143", "144", "144", "0", "0", 1, -.580804); this.L["74"] = new c("145", "146", "146", "10", "16.5", 0, 0); this.L["145"] = new c("145", "146", "146", "0", "0", 1, .296357); this.L["146"] = new c("145",
                                "146", "146", "0", "0", 1, -.691659); this.L["18"] = new c("37", "38", "38", "9", "1.5", 0, 0); this.L["37"] = new c("37", "38", "38", "0", "0", 1, .993951); this.L["38"] = new c("75", "76", "75", "0", "19", 0, 0); this.L["75"] = new c("147", "148", "147", "39", "-0.0000100136", 0, 0); this.L["147"] = new c("147", "148", "147", "0", "0", 1, -.346535); this.L["148"] = new c("147", "148", "147", "0", "0", 1, -.995745); this.L["76"] = new c("147", "148", "147", "0", "0", 1, -.99978); this.L["4"] = new c("9", "10", "9", "5", "4.5", 0, 0); this.L["9"] = new c("19", "20", "19", "2", "4.5",
                                    0, 0); this.L["19"] = new c("39", "40", "39", "140", "7.5", 0, 0); this.L["39"] = new c("77", "78", "78", "134", "6.5", 0, 0); this.L["77"] = new c("149", "150", "150", "7", "11.5", 0, 0); this.L["149"] = new c("149", "150", "150", "0", "0", 1, .729843); this.L["150"] = new c("149", "150", "150", "0", "0", 1, .383857); this.L["78"] = new c("151", "152", "151", "133", "4.5", 0, 0); this.L["151"] = new c("151", "152", "151", "0", "0", 1, .39017); this.L["152"] = new c("151", "152", "151", "0", "0", 1, .0434342); this.L["40"] = new c("79", "80", "79", "133", "3.5", 0, 0); this.L["79"] =
                                        new c("153", "154", "154", "8", "4.5", 0, 0); this.L["153"] = new c("153", "154", "154", "0", "0", 1, -.99536); this.L["154"] = new c("153", "154", "154", "0", "0", 1, -.00943396); this.L["80"] = new c("155", "156", "155", "125", "-0.0000100136", 0, 0); this.L["155"] = new c("155", "156", "155", "0", "0", 1, .266272); this.L["156"] = new c("155", "156", "155", "0", "0", 1, .959904); this.L["20"] = new c("41", "42", "42", "10", "65.5", 0, 0); this.L["41"] = new c("81", "82", "82", "7", "10.5", 0, 0); this.L["81"] = new c("157", "158", "158", "2", "37.5", 0, 0); this.L["157"] =
                                            new c("157", "158", "158", "0", "0", 1, -.701873); this.L["158"] = new c("157", "158", "158", "0", "0", 1, .224649); this.L["82"] = new c("159", "160", "159", "133", "9.5", 0, 0); this.L["159"] = new c("159", "160", "159", "0", "0", 1, .0955181); this.L["160"] = new c("159", "160", "159", "0", "0", 1, -.58962); this.L["42"] = new c("83", "84", "83", "39", "-0.0000100136", 0, 0); this.L["83"] = new c("161", "162", "161", "135", "31", 0, 0); this.L["161"] = new c("161", "162", "161", "0", "0", 1, -.229692); this.L["162"] = new c("161", "162", "161", "0", "0", 1, .88595); this.L["84"] =
                                                new c("163", "164", "164", "1", "13.5", 0, 0); this.L["163"] = new c("163", "164", "164", "0", "0", 1, -.992157); this.L["164"] = new c("163", "164", "164", "0", "0", 1, .922159); this.L["10"] = new c("21", "22", "22", "4", "486", 0, 0); this.L["21"] = new c("43", "44", "44", "133", "4.5", 0, 0); this.L["43"] = new c("85", "86", "86", "10", "4.5", 0, 0); this.L["85"] = new c("165", "166", "166", "4", "158.5", 0, 0); this.L["165"] = new c("165", "166", "166", "0", "0", 1, -.127778); this.L["166"] = new c("165", "166", "166", "0", "0", 1, .955189); this.L["86"] = new c("165", "166",
                                                    "166", "0", "0", 1, -.994012); this.L["44"] = new c("87", "88", "88", "1", "3.5", 0, 0); this.L["87"] = new c("167", "168", "168", "135", "7", 0, 0); this.L["167"] = new c("167", "168", "168", "0", "0", 1, -.997015); this.L["168"] = new c("167", "168", "168", "0", "0", 1, .400821); this.L["88"] = new c("169", "170", "169", "130", "36", 0, 0); this.L["169"] = new c("169", "170", "169", "0", "0", 1, -.898638); this.L["170"] = new c("169", "170", "169", "0", "0", 1, .56129); this.L["22"] = new c("45", "46", "45", "9", "2.5", 0, 0); this.L["45"] = new c("89", "90", "90", "9", "1.5",
                                                        0, 0); this.L["89"] = new c("171", "172", "171", "10", "10.5", 0, 0); this.L["171"] = new c("171", "172", "171", "0", "0", 1, .573986); this.L["172"] = new c("171", "172", "171", "0", "0", 1, -.627266); this.L["90"] = new c("173", "174", "173", "31", "-0.0000100136", 0, 0); this.L["173"] = new c("173", "174", "173", "0", "0", 1, .925273); this.L["174"] = new c("173", "174", "173", "0", "0", 1, -.994805); this.L["46"] = new c("91", "92", "91", "136", "5.5", 0, 0); this.L["91"] = new c("175", "176", "175", "10", "10.5", 0, 0); this.L["175"] = new c("175", "176", "175", "0", "0",
                                                            1, .548352); this.L["176"] = new c("175", "176", "175", "0", "0", 1, -.879195); this.L["92"] = new c("177", "178", "178", "8", "14.5", 0, 0); this.L["177"] = new c("177", "178", "178", "0", "0", 1, .457305); this.L["178"] = new c("177", "178", "178", "0", "0", 1, -.998992); this.L["2"] = new c("5", "6", "5", "10", "2.5", 0, 0); this.L["5"] = new c("11", "12", "11", "9", "4.5", 0, 0); this.L["11"] = new c("23", "24", "24", "10", "4.00001", 0, 0); this.L["23"] = new c("47", "48", "48", "133", "5.5", 0, 0); this.L["47"] = new c("93", "94", "93", "3", "13.5", 0, 0); this.L["93"] = new c("179",
                                                                "180", "179", "138", "15.5", 0, 0); this.L["179"] = new c("179", "180", "179", "0", "0", 1, .658398); this.L["180"] = new c("179", "180", "179", "0", "0", 1, -.927007); this.L["94"] = new c("181", "182", "182", "3", "15.5", 0, 0); this.L["181"] = new c("181", "182", "182", "0", "0", 1, -.111351); this.L["182"] = new c("181", "182", "182", "0", "0", 1, -.99827); this.L["48"] = new c("95", "96", "95", "7", "167", 0, 0); this.L["95"] = new c("183", "184", "183", "132", "36.5", 0, 0); this.L["183"] = new c("183", "184", "183", "0", "0", 1, .895161); this.L["184"] = new c("183", "184",
                                                                    "183", "0", "0", 1, -.765217); this.L["96"] = new c("185", "186", "186", "137", "6.00001", 0, 0); this.L["185"] = new c("185", "186", "186", "0", "0", 1, -.851095); this.L["186"] = new c("185", "186", "186", "0", "0", 1, .674286); this.L["24"] = new c("49", "50", "49", "137", "5.5", 0, 0); this.L["49"] = new c("97", "98", "97", "5", "23.5", 0, 0); this.L["97"] = new c("187", "188", "187", "3", "28.5", 0, 0); this.L["187"] = new c("187", "188", "187", "0", "0", 1, .951654); this.L["188"] = new c("187", "188", "187", "0", "0", 1, -.993808); this.L["98"] = new c("187", "188", "187",
                                                                        "0", "0", 1, -.99705); this.L["50"] = new c("187", "188", "187", "0", "0", 1, -.997525); this.L["12"] = new c("25", "26", "25", "8", "8.5", 0, 0); this.L["25"] = new c("51", "52", "52", "10", "4.00001", 0, 0); this.L["51"] = new c("99", "100", "100", "133", "5.5", 0, 0); this.L["99"] = new c("189", "190", "190", "7", "40.5", 0, 0); this.L["189"] = new c("189", "190", "190", "0", "0", 1, .151839); this.L["190"] = new c("189", "190", "190", "0", "0", 1, -.855517); this.L["100"] = new c("191", "192", "192", "133", "14.5", 0, 0); this.L["191"] = new c("191", "192", "192", "0", "0",
                                                                            1, .86223); this.L["192"] = new c("191", "192", "192", "0", "0", 1, .544394); this.L["52"] = new c("101", "102", "101", "135", "47.5", 0, 0); this.L["101"] = new c("193", "194", "194", "4", "24.5", 0, 0); this.L["193"] = new c("193", "194", "194", "0", "0", 1, .946185); this.L["194"] = new c("193", "194", "194", "0", "0", 1, .811859); this.L["102"] = new c("193", "194", "194", "0", "0", 1, -.991561); this.L["26"] = new c("53", "54", "54", "132", "6.5", 0, 0); this.L["53"] = new c("103", "104", "103", "131", "85", 0, 0); this.L["103"] = new c("195", "196", "196", "134", "16.5",
                                                                                0, 0); this.L["195"] = new c("195", "196", "196", "0", "0", 1, .0473538); this.L["196"] = new c("195", "196", "196", "0", "0", 1, -.999401); this.L["104"] = new c("197", "198", "198", "8", "15.5", 0, 0); this.L["197"] = new c("197", "198", "198", "0", "0", 1, .816129); this.L["198"] = new c("197", "198", "198", "0", "0", 1, -.99322); this.L["54"] = new c("105", "106", "105", "133", "3.5", 0, 0); this.L["105"] = new c("105", "106", "105", "0", "0", 1, -.998783); this.L["106"] = new c("199", "200", "199", "39", "-0.0000100136", 0, 0); this.L["199"] = new c("199", "200", "199",
                                                                                    "0", "0", 1, .528588); this.L["200"] = new c("199", "200", "199", "0", "0", 1, -.998599); this.L["6"] = new c("13", "14", "14", "10", "7.5", 0, 0); this.L["13"] = new c("27", "28", "28", "133", "7.5", 0, 0); this.L["27"] = new c("55", "56", "56", "10", "4.5", 0, 0); this.L["55"] = new c("107", "108", "107", "3", "3.5", 0, 0); this.L["107"] = new c("201", "202", "201", "4", "17.5", 0, 0); this.L["201"] = new c("201", "202", "201", "0", "0", 1, -.379512); this.L["202"] = new c("201", "202", "201", "0", "0", 1, .15165); this.L["108"] = new c("203", "204", "203", "57", "-0.0000100136",
                                                                                        0, 0); this.L["203"] = new c("203", "204", "203", "0", "0", 1, -.884606); this.L["204"] = new c("203", "204", "203", "0", "0", 1, .265406); this.L["56"] = new c("109", "110", "109", "136", "6.5", 0, 0); this.L["109"] = new c("205", "206", "205", "4", "157.5", 0, 0); this.L["205"] = new c("205", "206", "205", "0", "0", 1, -.0142737); this.L["206"] = new c("205", "206", "205", "0", "0", 1, .691279); this.L["110"] = new c("205", "206", "205", "0", "0", 1, -.998086); this.L["28"] = new c("57", "58", "58", "138", "11.5", 0, 0); this.L["57"] = new c("111", "112", "112", "2", "6.5",
                                                                                            0, 0); this.L["111"] = new c("207", "208", "208", "7", "67.5", 0, 0); this.L["207"] = new c("207", "208", "208", "0", "0", 1, .763925); this.L["208"] = new c("207", "208", "208", "0", "0", 1, -.309645); this.L["112"] = new c("209", "210", "209", "40", "-0.0000100136", 0, 0); this.L["209"] = new c("209", "210", "209", "0", "0", 1, -.306635); this.L["210"] = new c("209", "210", "209", "0", "0", 1, .556696); this.L["58"] = new c("113", "114", "113", "138", "50.5", 0, 0); this.L["113"] = new c("211", "212", "212", "8", "25.5", 0, 0); this.L["211"] = new c("211", "212", "212", "0",
                                                                                                "0", 1, .508234); this.L["212"] = new c("211", "212", "212", "0", "0", 1, .793551); this.L["114"] = new c("211", "212", "212", "0", "0", 1, -.998438); this.L["14"] = new c("29", "30", "29", "134", "27.5", 0, 0); this.L["29"] = new c("59", "60", "60", "7", "17.5", 0, 0); this.L["59"] = new c("115", "116", "115", "135", "5.5", 0, 0); this.L["115"] = new c("213", "214", "214", "137", "5.5", 0, 0); this.L["213"] = new c("213", "214", "214", "0", "0", 1, .401747); this.L["214"] = new c("213", "214", "214", "0", "0", 1, .0367503); this.L["116"] = new c("215", "216", "216", "8", "5.5",
                                                                                                    0, 0); this.L["215"] = new c("215", "216", "216", "0", "0", 1, -.0241984); this.L["216"] = new c("215", "216", "216", "0", "0", 1, -.999046); this.L["60"] = new c("117", "118", "117", "0", "12.5", 0, 0); this.L["117"] = new c("217", "218", "218", "132", "5.5", 0, 0); this.L["217"] = new c("217", "218", "218", "0", "0", 1, -.997294); this.L["218"] = new c("217", "218", "218", "0", "0", 1, .210398); this.L["118"] = new c("219", "220", "219", "137", "1.5", 0, 0); this.L["219"] = new c("219", "220", "219", "0", "0", 1, -.55763); this.L["220"] = new c("219", "220", "219", "0", "0",
                                                                                                        1, .074493); this.L["30"] = new c("61", "62", "62", "133", "42.5", 0, 0); this.L["61"] = new c("119", "120", "119", "135", "5.5", 0, 0); this.L["119"] = new c("221", "222", "222", "4", "473.5", 0, 0); this.L["221"] = new c("221", "222", "222", "0", "0", 1, -.920213); this.L["222"] = new c("221", "222", "222", "0", "0", 1, -.17615); this.L["120"] = new c("223", "224", "224", "5", "144", 0, 0); this.L["223"] = new c("223", "224", "224", "0", "0", 1, -.954295); this.L["224"] = new c("223", "224", "224", "0", "0", 1, -.382538); this.L["62"] = new c("121", "122", "121", "133", "50",
                                                                                                            0, 0); this.L["121"] = new c("225", "226", "226", "10", "18.5", 0, 0); this.L["225"] = new c("225", "226", "226", "0", "0", 1, -.0731343); this.L["226"] = new c("225", "226", "226", "0", "0", 1, .755454); this.L["122"] = new c("227", "228", "228", "0", "30", 0, 0); this.L["227"] = new c("227", "228", "228", "0", "0", 1, .25); this.L["228"] = new c("227", "228", "228", "0", "0", 1, -.997101)
                    } function k(g, d, h, l, n, q) { this.P$ = n; this.s4 = q } b = a(565); var m = a(310); a = {}; a.Utb = new function () {
                        this.$nb = m(); this.G = 0; this.update = function () { this.G = m() - this.$nb }; this.getValue =
                            function () { return this.G }; this.type = "num"
                    }; a.wOb = new function () { this.getValue = function (g, d, h) { return this.G = "becauseYouAdded" === h.eb[g].context || null }; this.type = "cat" }; a.xOb = new function () { this.getValue = function (g, d, h) { return this.G = "becauseYouLiked" === h.eb[g].context || null }; this.type = "cat" }; a.zOb = new function () { this.getValue = function (g, d, h) { return this.G = "billboard" === h.eb[g].context || null }; this.type = "cat" }; a.AOb = new function () {
                        this.getValue = function (g, d, h) {
                            return this.G = "continueWatching" === h.eb[g].context ||
                                null
                        }; this.type = "cat"
                    }; a.yOb = new function () { this.getValue = function (g, d, h) { return this.G = "bigRow" === h.eb[g].context || null }; this.type = "cat" }; a.BOb = new function () { this.getValue = function (g, d, h) { return this.G = "genre" === h.eb[g].context || null }; this.type = "cat" }; a.COb = new function () { this.getValue = function (g, d, h) { return this.G = "netflixOriginals" === h.eb[g].context || null }; this.type = "cat" }; a.DOb = new function () { this.getValue = function (g, d, h) { return this.G = "newRelease" === h.eb[g].context || null }; this.type = "cat" }; a.EOb =
                        new function () { this.getValue = function (g, d, h) { return this.G = "popularTitles" === h.eb[g].context || null }; this.type = "cat" }; a.FOb = new function () { this.getValue = function (g, d, h) { return this.G = "queue" === h.eb[g].context || null }; this.type = "cat" }; a.GOb = new function () { this.getValue = function (g, d, h) { return this.G = "recentlyAdded" === h.eb[g].context || null }; this.type = "cat" }; a.HOb = new function () { this.getValue = function (g, d, h) { return this.G = "similars" === h.eb[g].context || null }; this.type = "cat" }; a.JOb = new function () {
                            this.getValue =
                                function (g, d, h) { return this.G = "trendingNow" === h.eb[g].context || null }; this.type = "cat"
                        }; a.KOb = new function () { this.getValue = function (g, d, h) { return this.G = "ultraHD" === h.eb[g].context || null }; this.type = "cat" }; a.LOb = new function () { this.getValue = function (g, d, h) { return this.G = "watchAgain" === h.eb[g].context || null }; this.type = "cat" }; a.IOb = new function () { this.getValue = function (g, d, h) { return this.G = "topTen" === h.eb[g].context || null }; this.type = "cat" }; a.Fub = new function () {
                            this.update = function (g) {
                                for (var d in g.eb) if ("becauseYouAdded" ===
                                    g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break }
                            }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0
                        }; a.Gub = new function () { this.update = function (g) { for (var d in g.eb) if ("becauseYouLiked" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.Jub = new function () {
                            this.update = function (g) { for (var d in g.eb) if ("billboard" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } };
                            this.getValue = function () { return this.G }; this.type = "num"; this.G = 0
                        }; a.byb = new function () { this.update = function (g) { for (var d in g.eb) if ("continueWatching" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.Iub = new function () { this.update = function (g) { for (var d in g.eb) if ("bigRow" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.nGb =
                            new function () { this.update = function (g) { for (var d in g.eb) if ("genre" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.KRb = new function () { this.update = function (g) { for (var d in g.eb) if ("netflixOriginals" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.MRb = new function () {
                                this.update = function (g) {
                                    for (var d in g.eb) if ("newRelease" ===
                                        g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break }
                                }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0
                            }; a.CVb = new function () { this.update = function (g) { for (var d in g.eb) if ("popularTitles" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.As = new function () {
                                this.update = function (g) { for (var d in g.eb) if ("queue" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue =
                                    function () { return this.G }; this.type = "num"; this.G = 0
                            }; a.jXb = new function () { this.update = function (g) { for (var d in g.eb) if ("recentlyAdded" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.w0b = new function () { this.update = function (g) { for (var d in g.eb) if ("similars" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.i3b = new function () {
                                this.update =
                                    function (g) { for (var d in g.eb) if ("trendingNow" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0
                            }; a.C3b = new function () { this.update = function (g) { for (var d in g.eb) if ("ultraHD" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.w5b = new function () {
                                this.update = function (g) {
                                    for (var d in g.eb) if ("watchAgain" === g.eb[d].context) {
                                        this.G =
                                            Math.max(g.eb[d].list.length, this.G); break
                                    }
                                }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0
                            }; a.S2b = new function () { this.update = function (g) { for (var d in g.eb) if ("topTen" === g.eb[d].context) { this.G = Math.max(g.eb[d].list.length, this.G); break } }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.myb = new function () { this.getValue = function (g, d, h) { return this.G = "AR" === h.ab || null }; this.type = "cat" }; a.nyb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "AT" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.oyb = new function () { this.getValue = function (g, d, h) { return this.G = "AU" === h.ab || null }; this.type = "cat" }; a.pyb = new function () { this.getValue = function (g, d, h) { return this.G = "AZ" === h.ab || null }; this.type = "cat" }; a.qyb = new function () { this.getValue = function (g, d, h) { return this.G = "BB" === h.ab || null }; this.type = "cat" }; a.ryb = new function () { this.getValue = function (g, d, h) { return this.G = "BE" === h.ab || null }; this.type = "cat" }; a.syb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "BO" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.tyb = new function () { this.getValue = function (g, d, h) { return this.G = "BR" === h.ab || null }; this.type = "cat" }; a.uyb = new function () { this.getValue = function (g, d, h) { return this.G = "BS" === h.ab || null }; this.type = "cat" }; a.vyb = new function () { this.getValue = function (g, d, h) { return this.G = "CA" === h.ab || null }; this.type = "cat" }; a.wyb = new function () { this.getValue = function (g, d, h) { return this.G = "CH" === h.ab || null }; this.type = "cat" }; a.xyb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "CL" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.yyb = new function () { this.getValue = function (g, d, h) { return this.G = "CO" === h.ab || null }; this.type = "cat" }; a.zyb = new function () { this.getValue = function (g, d, h) { return this.G = "CR" === h.ab || null }; this.type = "cat" }; a.Ayb = new function () { this.getValue = function (g, d, h) { return this.G = "CW" === h.ab || null }; this.type = "cat" }; a.Byb = new function () { this.getValue = function (g, d, h) { return this.G = "DE" === h.ab || null }; this.type = "cat" }; a.Cyb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "DK" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Dyb = new function () { this.getValue = function (g, d, h) { return this.G = "DM" === h.ab || null }; this.type = "cat" }; a.Eyb = new function () { this.getValue = function (g, d, h) { return this.G = "DO" === h.ab || null }; this.type = "cat" }; a.Fyb = new function () { this.getValue = function (g, d, h) { return this.G = "EC" === h.ab || null }; this.type = "cat" }; a.Gyb = new function () { this.getValue = function (g, d, h) { return this.G = "EE" === h.ab || null }; this.type = "cat" }; a.Hyb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "EG" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Iyb = new function () { this.getValue = function (g, d, h) { return this.G = "ES" === h.ab || null }; this.type = "cat" }; a.Jyb = new function () { this.getValue = function (g, d, h) { return this.G = "FI" === h.ab || null }; this.type = "cat" }; a.Kyb = new function () { this.getValue = function (g, d, h) { return this.G = "FR" === h.ab || null }; this.type = "cat" }; a.Lyb = new function () { this.getValue = function (g, d, h) { return this.G = "GB" === h.ab || null }; this.type = "cat" }; a.Myb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "GF" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Nyb = new function () { this.getValue = function (g, d, h) { return this.G = "GP" === h.ab || null }; this.type = "cat" }; a.Oyb = new function () { this.getValue = function (g, d, h) { return this.G = "GT" === h.ab || null }; this.type = "cat" }; a.Pyb = new function () { this.getValue = function (g, d, h) { return this.G = "HK" === h.ab || null }; this.type = "cat" }; a.Qyb = new function () { this.getValue = function (g, d, h) { return this.G = "HN" === h.ab || null }; this.type = "cat" }; a.Ryb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "HR" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Syb = new function () { this.getValue = function (g, d, h) { return this.G = "HU" === h.ab || null }; this.type = "cat" }; a.Tyb = new function () { this.getValue = function (g, d, h) { return this.G = "ID" === h.ab || null }; this.type = "cat" }; a.Uyb = new function () { this.getValue = function (g, d, h) { return this.G = "IE" === h.ab || null }; this.type = "cat" }; a.Vyb = new function () { this.getValue = function (g, d, h) { return this.G = "IL" === h.ab || null }; this.type = "cat" }; a.Wyb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "IN" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Xyb = new function () { this.getValue = function (g, d, h) { return this.G = "IT" === h.ab || null }; this.type = "cat" }; a.Yyb = new function () { this.getValue = function (g, d, h) { return this.G = "JE" === h.ab || null }; this.type = "cat" }; a.Zyb = new function () { this.getValue = function (g, d, h) { return this.G = "JM" === h.ab || null }; this.type = "cat" }; a.$yb = new function () { this.getValue = function (g, d, h) { return this.G = "JP" === h.ab || null }; this.type = "cat" }; a.azb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "KE" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.bzb = new function () { this.getValue = function (g, d, h) { return this.G = "KN" === h.ab || null }; this.type = "cat" }; a.czb = new function () { this.getValue = function (g, d, h) { return this.G = "KR" === h.ab || null }; this.type = "cat" }; a.dzb = new function () { this.getValue = function (g, d, h) { return this.G = "LU" === h.ab || null }; this.type = "cat" }; a.ezb = new function () { this.getValue = function (g, d, h) { return this.G = "MK" === h.ab || null }; this.type = "cat" }; a.fzb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "MU" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.gzb = new function () { this.getValue = function (g, d, h) { return this.G = "MX" === h.ab || null }; this.type = "cat" }; a.hzb = new function () { this.getValue = function (g, d, h) { return this.G = "MY" === h.ab || null }; this.type = "cat" }; a.izb = new function () { this.getValue = function (g, d, h) { return this.G = "NI" === h.ab || null }; this.type = "cat" }; a.jzb = new function () { this.getValue = function (g, d, h) { return this.G = "NL" === h.ab || null }; this.type = "cat" }; a.kzb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "NO" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.lzb = new function () { this.getValue = function (g, d, h) { return this.G = "NZ" === h.ab || null }; this.type = "cat" }; a.mzb = new function () { this.getValue = function (g, d, h) { return this.G = "OM" === h.ab || null }; this.type = "cat" }; a.nzb = new function () { this.getValue = function (g, d, h) { return this.G = "PA" === h.ab || null }; this.type = "cat" }; a.ozb = new function () { this.getValue = function (g, d, h) { return this.G = "PE" === h.ab || null }; this.type = "cat" }; a.pzb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "PF" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.qzb = new function () { this.getValue = function (g, d, h) { return this.G = "PH" === h.ab || null }; this.type = "cat" }; a.rzb = new function () { this.getValue = function (g, d, h) { return this.G = "PK" === h.ab || null }; this.type = "cat" }; a.szb = new function () { this.getValue = function (g, d, h) { return this.G = "PL" === h.ab || null }; this.type = "cat" }; a.tzb = new function () { this.getValue = function (g, d, h) { return this.G = "PT" === h.ab || null }; this.type = "cat" }; a.uzb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "PY" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.vzb = new function () { this.getValue = function (g, d, h) { return this.G = "QA" === h.ab || null }; this.type = "cat" }; a.wzb = new function () { this.getValue = function (g, d, h) { return this.G = "RO" === h.ab || null }; this.type = "cat" }; a.xzb = new function () { this.getValue = function (g, d, h) { return this.G = "RS" === h.ab || null }; this.type = "cat" }; a.yzb = new function () { this.getValue = function (g, d, h) { return this.G = "RU" === h.ab || null }; this.type = "cat" }; a.zzb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "SA" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Azb = new function () { this.getValue = function (g, d, h) { return this.G = "SE" === h.ab || null }; this.type = "cat" }; a.Bzb = new function () { this.getValue = function (g, d, h) { return this.G = "SG" === h.ab || null }; this.type = "cat" }; a.Czb = new function () { this.getValue = function (g, d, h) { return this.G = "SV" === h.ab || null }; this.type = "cat" }; a.Dzb = new function () { this.getValue = function (g, d, h) { return this.G = "SX" === h.ab || null }; this.type = "cat" }; a.Ezb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "TH" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Fzb = new function () { this.getValue = function (g, d, h) { return this.G = "TR" === h.ab || null }; this.type = "cat" }; a.Gzb = new function () { this.getValue = function (g, d, h) { return this.G = "TT" === h.ab || null }; this.type = "cat" }; a.Hzb = new function () { this.getValue = function (g, d, h) { return this.G = "TW" === h.ab || null }; this.type = "cat" }; a.Izb = new function () { this.getValue = function (g, d, h) { return this.G = "US" === h.ab || null }; this.type = "cat" }; a.Jzb = new function () {
                                this.getValue = function (g, d, h) {
                                    return this.G = "UY" === h.ab ||
                                        null
                                }; this.type = "cat"
                            }; a.Kzb = new function () { this.getValue = function (g, d, h) { return this.G = "VE" === h.ab || null }; this.type = "cat" }; a.Lzb = new function () { this.getValue = function (g, d, h) { return this.G = "ZA" === h.ab || null }; this.type = "cat" }; a.lXb = new function () { this.getValue = function (g, d, h) { return this.G = 1 === h.Bi || null }; this.type = "cat" }; a.mXb = new function () { this.getValue = function (g, d, h) { return this.G = 10 === h.Bi || null }; this.type = "cat" }; a.nXb = new function () {
                                this.getValue = function (g, d, h) { return this.G = 11 === h.Bi || null };
                                this.type = "cat"
                            }; a.oXb = new function () { this.getValue = function (g, d, h) { return this.G = 12 === h.Bi || null }; this.type = "cat" }; a.pXb = new function () { this.getValue = function (g, d, h) { return this.G = 13 === h.Bi || null }; this.type = "cat" }; a.qXb = new function () { this.getValue = function (g, d, h) { return this.G = 14 === h.Bi || null }; this.type = "cat" }; a.rXb = new function () { this.getValue = function (g, d, h) { return this.G = 15 === h.Bi || null }; this.type = "cat" }; a.sXb = new function () {
                                this.getValue = function (g, d, h) { return this.G = 16 === h.Bi || null }; this.type =
                                    "cat"
                            }; a.tXb = new function () { this.getValue = function (g, d, h) { return this.G = 17 === h.Bi || null }; this.type = "cat" }; a.uXb = new function () { this.getValue = function (g, d, h) { return this.G = 18 === h.Bi || null }; this.type = "cat" }; a.vXb = new function () { this.getValue = function (g, d, h) { return this.G = 19 === h.Bi || null }; this.type = "cat" }; a.wXb = new function () { this.getValue = function (g, d, h) { return this.G = 2 === h.Bi || null }; this.type = "cat" }; a.xXb = new function () { this.getValue = function (g, d, h) { return this.G = 20 === h.Bi || null }; this.type = "cat" };
                    a.yXb = new function () { this.getValue = function (g, d, h) { return this.G = 21 === h.Bi || null }; this.type = "cat" }; a.zXb = new function () { this.getValue = function (g, d, h) { return this.G = 22 === h.Bi || null }; this.type = "cat" }; a.AXb = new function () { this.getValue = function (g, d, h) { return this.G = 23 === h.Bi || null }; this.type = "cat" }; a.BXb = new function () { this.getValue = function (g, d, h) { return this.G = 3 === h.Bi || null }; this.type = "cat" }; a.CXb = new function () { this.getValue = function (g, d, h) { return this.G = 4 === h.Bi || null }; this.type = "cat" }; a.DXb = new function () {
                        this.getValue =
                            function (g, d, h) { return this.G = 5 === h.Bi || null }; this.type = "cat"
                    }; a.EXb = new function () { this.getValue = function (g, d, h) { return this.G = 6 === h.Bi || null }; this.type = "cat" }; a.FXb = new function () { this.getValue = function (g, d, h) { return this.G = 7 === h.Bi || null }; this.type = "cat" }; a.GXb = new function () { this.getValue = function (g, d, h) { return this.G = 8 === h.Bi || null }; this.type = "cat" }; a.HXb = new function () { this.getValue = function (g, d, h) { return this.G = 9 === h.Bi || null }; this.type = "cat" }; a.G1b = new function () {
                        this.update = function (g) {
                            "down" ===
                                g.direction && this.G++
                        }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0
                    }; a.I1b = new function () { this.update = function (g) { "right" === g.direction && this.G++ }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.H1b = new function () { this.update = function (g) { "left" === g.direction && this.G++ }; this.getValue = function () { return this.G }; this.type = "num"; this.G = 0 }; a.J1b = new function () {
                        this.update = function (g) { "up" === g.direction && this.G++ }; this.getValue = function () { return this.G }; this.type =
                            "num"; this.G = 0
                    }; a.mQb = new function () { this.G = 0; this.update = function (g) { this.G = Math.max(this.G, g.rowIndex) }; this.getValue = function () { return this.G }; this.type = "num" }; a.nQb = new function () { this.G = 0; this.update = function (g) { this.G = Math.max(this.G, g.Jka) }; this.getValue = function () { return this.G }; this.type = "num" }; a.xQb = new function () { this.yS = this.G = 0; this.update = function (g) { this.yS++; this.G = 1 * (this.G + g.rowIndex) / this.yS }; this.getValue = function () { return this.G }; this.type = "num" }; a.yQb = new function () {
                        this.yS =
                            this.G = 0; this.update = function (g) { this.yS++; return this.G = 1 * (this.G + g.Jka) / this.yS }; this.getValue = function () { return this.G }; this.type = "num"
                    }; a.fWb = new function () { this.getValue = function (g, d, h) { return this.G = h.Jka + d }; this.type = "num" }; a.gWb = new function () { this.getValue = function (g, d, h) { return this.G = h.rowIndex + g }; this.type = "num" }; f.prototype.lE = function (g) { return this.$Pa(this.L["0"].J9a(g), g) }; f.prototype.$Pa = function (g, d) { return "string" == typeof g ? this.$Pa(this.L[g].J9a(d), d) : g }; c.prototype.J9a = function (g) {
                        switch (this.DNb) {
                            case 0: switch (g.features[this.i_].type) {
                                case "cat": return null ===
                                    g.features[this.i_].value ? this.d5a : "missing" == g.features[this.i_].value ? this.Msa : this.Odb; case "num": return null === g.features[this.i_].value ? this.Msa : g.features[this.i_].value < this.split ? this.Odb : this.d5a; default: return this.Msa
                            }case 1: return this.lE; default: return this.lE
                        }
                    }; b.declare({
                        vX: ["modelSelector", "modelone"], sxb: ["colEpisodeList", 5], $Kb: ["holdDuration", 15E3], w9a: ["rowFirst", 2], ITa: ["colFirst", 5], y9a: ["rowScroll", 2], JTa: ["colScroll", 6], bZb: ["rowScrollHorizontal", 6], vZb: ["searchTop", 3], gVa: ["cwFirst",
                            2], qW: ["horizontalItemsFocusedMode", 3], FNb: ["itemsPerRank", 1], dQb: ["maxNumberPayloadsStored", 10], S3a: ["maxNumberTitlesScheduled", 5], Vbc: ["enableDetailedLogging", !0], Pec: ["rowStep", 20], rbc: ["colStep", 15], rec: ["pageRows", 100], qec: ["pageColumns", 75], csa: ["maskParamsList", (new function () {
                                this.csa = []; this.We = {}; this.P$ = 20; this.s4 = 15; var g, d; for (g = 0; 100 > g; g++)for (d = 0; 75 > d; d++)Math.floor(g / this.P$) + "_" + Math.floor(d / this.s4) in this.We || (this.We[Math.floor(g / this.P$) + "_" + Math.floor(d / this.s4)] = 1, this.csa.push(new k("grid",
                                    10, 5, 5, Math.floor(g / this.P$), Math.floor(d / this.s4))))
                            }).csa], L: ["nodes", (new f).L], mapping: ["mapping", {
                                nQb: "0", yQb: "1", mQb: "2", xQb: "3", Utb: "4", J1b: "5", H1b: "6", I1b: "7", G1b: "8", gWb: "9", fWb: "10", wOb: "11", xOb: "12", zOb: "13", AOb: "14", yOb: "15", BOb: "16", COb: "17", DOb: "18", EOb: "19", FOb: "20", GOb: "21", HOb: "22", IOb: "23", JOb: "24", KOb: "25", LOb: "26", lXb: "27", mXb: "28", nXb: "29", oXb: "30", pXb: "31", qXb: "32", rXb: "33", sXb: "34", tXb: "35", uXb: "36", vXb: "37", wXb: "38", xXb: "39", yXb: "40", zXb: "41", AXb: "42", BXb: "43", CXb: "44", DXb: "45",
                                EXb: "46", FXb: "47", GXb: "48", HXb: "49", myb: "50", nyb: "51", oyb: "52", pyb: "53", qyb: "54", ryb: "55", syb: "56", tyb: "57", uyb: "58", vyb: "59", wyb: "60", xyb: "61", yyb: "62", zyb: "63", Ayb: "64", Byb: "65", Cyb: "66", Dyb: "67", Eyb: "68", Fyb: "69", Gyb: "70", Hyb: "71", Iyb: "72", Jyb: "73", Kyb: "74", Lyb: "75", Myb: "76", Nyb: "77", Oyb: "78", Pyb: "79", Qyb: "80", Ryb: "81", Syb: "82", Tyb: "83", Uyb: "84", Vyb: "85", Wyb: "86", Xyb: "87", Yyb: "88", Zyb: "89", $yb: "90", azb: "91", bzb: "92", czb: "93", dzb: "94", ezb: "95", fzb: "96", gzb: "97", hzb: "98", izb: "99", jzb: "100", kzb: "101",
                                lzb: "102", mzb: "103", nzb: "104", ozb: "105", pzb: "106", qzb: "107", rzb: "108", szb: "109", tzb: "110", uzb: "111", vzb: "112", wzb: "113", xzb: "114", yzb: "115", zzb: "116", Azb: "117", Bzb: "118", Czb: "119", Dzb: "120", Ezb: "121", Fzb: "122", Gzb: "123", Hzb: "124", Izb: "125", Jzb: "126", Kzb: "127", Lzb: "128", w5b: "129", jXb: "130", w0b: "131", As: "132", byb: "133", nGb: "134", i3b: "135", S2b: "136", Jub: "137", MRb: "138", C3b: "139", CVb: "140", Fub: "141", Iub: "142", Gub: "143", KRb: "144"
                            }], features: ["features", a], Bac: ["_modelName", "tree"], wac: ["_format", "xgboost"],
                        Aac: ["_itemsToKeep", 5], zac: ["_itemsThreshold", null], ebc: ["cacheLimit", 20]
                    }); r.exports = { config: b, sdc: k, xbc: c }
                }, function (r, b, a) { r.exports = a(570) }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); a(571); ub._cad_global = {}; ub.DEBUG = !1; a(12); a(11); a(18); a(24); a(46); a(94); a(563); a(561); a(50); a(54); a(20); a(74); a(62); a(1284); a(305); a(344); a(1285); a(540); a(1286); a(537); a(544); a(542); a(543); a(309); a(530); a(531); a(533); a(302); a(301); a(1287); a(14); a(549); a(1288); a(196); a(76); a(538); a(157); a(479);
                    a(480); a(285); a(1289); a(1290); a(502); a(1291); a(494); a(303); a(492); a(534); a(529); a(1292); a(304); a(546); a(193); a(564); a(161); a(1293); a(109); a(1300); a(1301); a(1302); a(1303); a(1305); a(1307); a(545); a(68); a(1308); a(541); a(473); a(539); a(548); a(1309); a(566); a(78); a(1310); a(1311); a(1312); a(1313); a(1314); a(1316); a(1317); a(1318); a(1319); a(535); a(1325)
                }, function (r, b, a) {
                    (function (c) {
                        var f; (function (k) {
                            function m(M, O, P) {
                                var S = I.get(M); if (!S) { if (!P) return; S = new Q; I.set(M, S) } M = S.get(O); if (!M) {
                                    if (!P) return; M = new Q;
                                    S.set(O, M)
                                } return M
                            } function g(M, O, P) { if (d(M, O, P)) return !0; O = v(O); return null !== O ? g(M, O, P) : !1 } function d(M, O, P) { O = m(O, P, !1); return void 0 !== O && !!O.has(M) } function h(M, O, P) { if (d(M, O, P)) return l(M, O, P); O = v(O); return null !== O ? h(M, O, P) : void 0 } function l(M, O, P) { O = m(O, P, !1); return void 0 === O ? void 0 : O.get(M) } function n(M, O) {
                                var P = q(M, O); M = v(M); if (null === M) return P; O = n(M, O); if (0 >= O.length) return P; if (0 >= P.length) return O; M = new K; for (var S = 0; S < P.length; S++) { var U = P[S]; M.add(U) } for (P = 0; P < O.length; P++)U = O[P],
                                    M.add(U); return z(M)
                            } function q(M, O) { M = m(M, O, !1); var P = []; M && y(M, function (S, U) { return P.push(U) }); return P } function p(M) { return void 0 === M } function u(M) { return Array.isArray ? Array.isArray(M) : M instanceof Array || "[object Array]" === Object.prototype.toString.call(M) } function t(M) { return "object" === typeof M ? null !== M : "function" === typeof M } function w(M) { return "symbol" === typeof M ? M : String(M) } function v(M) {
                                var O = Object.getPrototypeOf(M); if ("function" !== typeof M || M === J || O !== J) return O; var P = M.prototype; P = P &&
                                    Object.getPrototypeOf(P); if (null == P || P === Object.prototype) return O; P = P.constructor; return "function" !== typeof P || P === M ? O : P
                            } function x(M) { M = M.next(); return M.done ? void 0 : M } function y(M, O, P) { var S = M.entries; if ("function" === typeof S) { S = S.call(M); var U; try { for (; U = x(S);) { var Z = U.value; O.call(P, Z[1], Z[0], M) } } finally { U && (M = S["return"]) && M.call(S) } } else S = M.forEach, "function" === typeof S && S.call(M, O, P) } function z(M) { var O = []; y(M, function (P, S) { O.push(S) }); return O } function A(M, O, P) {
                                var S = 0; return {
                                    next: function () {
                                        if ((M ||
                                            O) && S < (M || O).length) { var U = S++; switch (P) { case "key": return { value: M[U], done: !1 }; case "value": return { value: O[U], done: !1 }; case "key+value": return { value: [M[U], O[U]], done: !1 } } } O = M = void 0; return { value: void 0, done: !0 }
                                    }, "throw": function (U) { if (M || O) O = M = void 0; throw U; }, "return": function (U) { if (M || O) O = M = void 0; return { value: U, done: !0 } }
                                }
                            } function B() {
                                var M = {}; return function () {
                                    function O() { this.cf = []; this.Ef = []; this.Wv = M; this.vt = -2 } Object.defineProperty(O.prototype, "size", {
                                        get: function () { return this.cf.length },
                                        enumerable: !0, configurable: !0
                                    }); O.prototype.has = function (P) { return 0 <= this.zy(P, !1) }; O.prototype.get = function (P) { P = this.zy(P, !1); return 0 <= P ? this.Ef[P] : void 0 }; O.prototype.set = function (P, S) { P = this.zy(P, !0); this.Ef[P] = S; return this }; O.prototype.delete = function (P) { var S = this.zy(P, !1); if (0 <= S) { P = this.cf.length; for (S += 1; S < P; S++)this.cf[S - 1] = this.cf[S], this.Ef[S - 1] = this.Ef[S]; this.cf.length--; this.Ef.length--; this.Wv = M; this.vt = -2; return !0 } return !1 }; O.prototype.clear = function () {
                                        this.cf.length = 0; this.Ef.length =
                                            0; this.Wv = M; this.vt = -2
                                    }; O.prototype.keys = function () { return A(this.cf, void 0, "key") }; O.prototype.values = function () { return A(void 0, this.Ef, "value") }; O.prototype.entries = function () { return A(this.cf, this.Ef, "key+value") }; O.prototype.zy = function (P, S) { if (this.Wv === P) return this.vt; var U = this.cf.indexOf(P); 0 > U && S && (U = this.cf.length, this.cf.push(P), this.Ef.push(void 0)); return this.Wv = P, this.vt = U }; return O
                                }()
                            } function E() {
                                return function () {
                                    function M() { this.Rg = new Q } Object.defineProperty(M.prototype, "size",
                                        { get: function () { return this.Rg.size }, enumerable: !0, configurable: !0 }); M.prototype.has = function (O) { return this.Rg.has(O) }; M.prototype.add = function (O) { return this.Rg.set(O, O), this }; M.prototype.delete = function (O) { return this.Rg.delete(O) }; M.prototype.clear = function () { this.Rg.clear() }; M.prototype.keys = function () { return this.Rg.keys() }; M.prototype.values = function () { return this.Rg.values() }; M.prototype.entries = function () { return this.Rg.entries() }; return M
                                }()
                            } function D() {
                                function M(Z, ia) {
                                    for (var ya = 0; ya <
                                        ia; ++ya)Z[ya] = 255 * Math.random() | 0; return Z
                                } function O() { do { var Z = "function" === typeof Uint8Array ? "undefined" !== typeof crypto ? crypto.getRandomValues(new Uint8Array(16)) : "undefined" !== typeof msCrypto ? msCrypto.getRandomValues(new Uint8Array(16)) : M(new Uint8Array(16), 16) : M(Array(16), 16); Z[6] = Z[6] & 79 | 64; Z[8] = Z[8] & 191 | 128; for (var ia = "", ya = 0; 16 > ya; ++ya) { var na = Z[ya]; if (4 === ya || 6 === ya || 8 === ya) ia += "-"; 16 > na && (ia += "0"); ia += na.toString(16).toLowerCase() } Z = "@@WeakMap@@" + ia } while (N.has(S, Z)); S[Z] = !0; return Z } function P(Z,
                                    ia) { if (!G.call(Z, U)) { if (!ia) return; Object.defineProperty(Z, U, { value: L() }) } return Z[U] } var S = L(), U = O(); return function () {
                                        function Z() { this.Bt = O() } Z.prototype.has = function (ia) { ia = P(ia, !1); return void 0 !== ia ? N.has(ia, this.Bt) : !1 }; Z.prototype.get = function (ia) { ia = P(ia, !1); return void 0 !== ia ? N.get(ia, this.Bt) : void 0 }; Z.prototype.set = function (ia, ya) { P(ia, !0)[this.Bt] = ya; return this }; Z.prototype.delete = function (ia) { ia = P(ia, !1); return void 0 !== ia ? delete ia[this.Bt] : !1 }; Z.prototype.clear = function () {
                                            this.Bt =
                                                O()
                                        }; return Z
                                    }()
                            } function F(M) { M.tac = 1; delete M.uac; return M } var G = Object.prototype.hasOwnProperty, C = "function" === typeof Object.create, H = function () { function M() { } var O = {}; M.prototype = O; return (new M).__proto__ === O }(), L = C ? function () { return F(Object.create(null)) } : H ? function () { return F({ __proto__: null }) } : function () { return F({}) }, N; (function (M) { var O = !C && !H; M.has = O ? function (P, S) { return G.call(P, S) } : function (P, S) { return S in P }; M.get = O ? function (P, S) { return G.call(P, S) ? P[S] : void 0 } : function (P, S) { return P[S] } })(N ||
                                (N = {})); var J = Object.getPrototypeOf(Function), Q = "function" === typeof Map ? Map : B(), K = "function" === typeof Set ? Set : E(), I = new ("function" === typeof WeakMap ? WeakMap : D()); k.Pr = function (M, O, P, S) {
                                    if (p(S)) { if (p(P)) { if (!u(M)) throw new TypeError; if ("function" !== typeof O) throw new TypeError; for (P = M.length - 1; 0 <= P; --P)if (S = (0, M[P])(O), !p(S)) { if ("function" !== typeof S) throw new TypeError; O = S } return O } if (!u(M)) throw new TypeError; if (!t(O)) throw new TypeError; P = w(P); for (S = M.length - 1; 0 <= S; --S)(0, M[S])(O, P) } else {
                                        if (!u(M)) throw new TypeError;
                                        if (!t(O)) throw new TypeError; if (p(P)) throw new TypeError; if (!t(S)) throw new TypeError; P = w(P); for (var U = M.length - 1; 0 <= U; --U) { var Z = (0, M[U])(O, P, S); if (!p(Z)) { if (!t(Z)) throw new TypeError; S = Z } } return S
                                    }
                                }; k.Hc = function (M, O) { return function (P, S) { if (p(S)) { if ("function" !== typeof P) throw new TypeError; m(P, void 0, !0).set(M, O) } else { if (!t(P)) throw new TypeError; S = w(S); m(P, S, !0).set(M, O) } } }; k.W4 = function (M, O, P, S) { if (!t(P)) throw new TypeError; p(S) || (S = w(S)); m(P, S, !0).set(M, O) }; k.BKb = function (M, O) {
                                    var P; if (!t(O)) throw new TypeError;
                                    p(P) || (P = w(P)); return g(M, O, P)
                                }; k.Apa = function (M, O) { var P; if (!t(O)) throw new TypeError; p(P) || (P = w(P)); return d(M, O, P) }; k.getMetadata = function (M, O, P) { if (!t(O)) throw new TypeError; p(P) || (P = w(P)); return h(M, O, P) }; k.SZa = function (M, O, P) { if (!t(O)) throw new TypeError; p(P) || (P = w(P)); return l(M, O, P) }; k.vcc = function (M, O) { if (!t(M)) throw new TypeError; p(O) || (O = w(O)); return n(M, O) }; k.xcc = function (M, O) { if (!t(M)) throw new TypeError; p(O) || (O = w(O)); return q(M, O) }; k.Bbc = function (M, O, P) {
                                    if (!t(O)) throw new TypeError;
                                    p(P) || (P = w(P)); var S = m(O, P, !1); if (p(S) || !S.delete(M)) return !1; if (0 < S.size) return !0; M = I.get(O); M.delete(P); if (0 < M.size) return !0; I.delete(O); return !0
                                }; (function (M) { if ("undefined" !== typeof M.Reflect) { if (M.Reflect !== k) for (var O in k) G.call(k, O) && (M.Reflect[O] = k[O]) } else M.Reflect = k })("undefined" !== typeof ub ? ub : "undefined" !== typeof WorkerGlobalScope ? self : "undefined" !== typeof c ? c : Function("return this;")())
                        })(f || (f = {}))
                    }).call(this, a(197))
                }, function (r, b, a) {
                    var c = this && this.__awaiter || function (t, w, v, x) {
                        return new (v ||
                            (v = Promise))(function (y, z) { function A(D) { try { E(x.next(D)) } catch (F) { z(F) } } function B(D) { try { E(x["throw"](D)) } catch (F) { z(F) } } function E(D) { D.done ? y(D.value) : (new v(function (F) { F(D.value) })).then(A, B) } E((x = x.apply(t, w || [])).next()) })
                    }, f = this && this.__generator || function (t, w) {
                        function v(D) { return function (F) { return x([D, F]) } } function x(D) {
                            if (z) throw new TypeError("Generator is already executing."); for (; y;)try {
                                if (z = 1, A && (B = A[D[0] & 2 ? "return" : D[0] ? "throw" : "next"]) && !(B = B.call(A, D[1])).done) return B; if (A =
                                    0, B) D = [0, B.value]; switch (D[0]) { case 0: case 1: B = D; break; case 4: return y.label++, { value: D[1], done: !1 }; case 5: y.label++; A = D[1]; D = [0]; continue; case 7: D = y.Wn.pop(); y.Vm.pop(); continue; default: if (!(B = y.Vm, B = 0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])) { y = 0; continue } if (3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3])) y.label = D[1]; else if (6 === D[0] && y.label < B[1]) y.label = B[1], B = D; else if (B && y.label < B[2]) y.label = B[2], y.Wn.push(D); else { B[2] && y.Wn.pop(); y.Vm.pop(); continue } }D = w.call(t, y)
                            } catch (F) { D = [6, F], A = 0 } finally {
                                    z =
                                        B = 0
                                } if (D[0] & 5) throw D[1]; return { value: D[0] ? D[1] : void 0, done: !0 }
                        } var y = { label: 0, Ac: function () { if (B[0] & 1) throw B[1]; return B[1] }, Vm: [], Wn: [] }, z, A, B, E; return E = { next: v(0), "throw": v(1), "return": v(2) }, "function" === typeof Symbol && (E[Symbol.iterator] = function () { return this }), E
                    }; Object.defineProperty(b, "__esModule", { value: !0 }); var k = a(573), m = a(58), g = a(79); a(45); var d = a(312), h = a(574), l = a(581), n = a(583), q = a(110), p = a(135); a(586); var u = a(587); r = function () {
                        function t(w) {
                            w = w || {}; if ("object" !== typeof w) throw Error("" +
                                m.Jfb); if (void 0 === w.VG) w.VG = g.et.L1; else if (w.VG !== g.et.sfa && w.VG !== g.et.L1 && w.VG !== g.et.Request) throw Error("" + m.Hfb); if (void 0 === w.UT) w.UT = !1; else if ("boolean" !== typeof w.UT) throw Error("" + m.Gfb); if (void 0 === w.hJ) w.hJ = !1; else if ("boolean" !== typeof w.hJ) throw Error("" + m.Ifb); this.options = { UT: w.UT, VG: w.VG, hJ: w.hJ }; this.id = q.id(); this.YK = new u.Rib; this.mrb = []; this.parent = this.oha = null; this.apb = new d.Zda
                        } t.prototype.load = function () {
                            for (var w = [], v = 0; v < arguments.length; v++)w[v] = arguments[v]; v = this.tOa();
                            for (var x = 0; x < w.length; x++) { var y = w[x], z = v(y.id); y.Ava(z.rSa, z.dcb, z.X1a, z.k8a) }
                        }; t.prototype.$N = function () { for (var w = [], v = 0; v < arguments.length; v++)w[v] = arguments[v]; c(this, void 0, void 0, function () { var x, y, z, A, B; return f(this, function (E) { switch (E.label) { case 0: x = this.tOa(), y = 0, z = w, E.label = 1; case 1: if (!(y < z.length)) return [3, 4]; A = z[y]; B = x(A.id); return [4, A.Ava(B.rSa, B.dcb, B.X1a, B.k8a)]; case 2: E.Ac(), E.label = 3; case 3: return y++, [3, 1]; case 4: return [2] } }) }) }; t.prototype.bind = function (w) {
                            var v = new k.Reb(w,
                                this.options.VG || g.et.L1); this.YK.add(w, v); return new n.Teb(v)
                        }; t.prototype.fXb = function (w) { this.ccb(w); return this.bind(w) }; t.prototype.ccb = function (w) { try { this.YK.remove(w) } catch (v) { throw Error(m.kfb + " " + p.yN(w)); } }; t.prototype.n1a = function (w) { var v = this.YK.O_a(w); !v && this.parent && (v = this.parent.n1a(w)); return v }; t.prototype.restore = function () { var w = this.mrb.pop(); if (void 0 === w) throw Error(m.Hjb); this.YK = w.YT; this.oha = w.XQb }; t.prototype.Szb = function () { var w = new t(this.options); w.parent = this; return w };
                        t.prototype.get = function(w) {
                            return this.sOa(!1, !1, g.py.Hfa, w)
                        };
                        t.prototype.getAll = function(w) {
                            return this.sOa(!0, !0, g.py.Hfa, w)
                        };
                        t.prototype.resolve = function(w) {
                            var v = this.Szb();
                            v.bind(w).Fbb();
                            return v.get(w)
                        };
                        t.prototype.tOa = function() {
                            function w(A) {
                                return function(B) {
                                    B = z.fXb.bind(z)(B);
                                    B.Fc.uRb = A;
                                    return B
                                }
                            }
                        
                            function v() {
                                return function(A) {
                                    return z.n1a.bind(z)(A)
                                }
                            }
                        
                            function x() {
                                return function(A) {
                                    z.ccb.bind(z)(A)
                                }
                            }
                        
                            function y(A) {
                                return function(B) {
                                    B = z.bind.bind(z)(B);
                                    B.Fc.uRb = A;
                                    return B
                                }
                            }
                            var z = this;
                            return function(A) {
                                return {
                                    rSa: y(A),
                                    X1a: v(A),
                                    k8a: w(A),
                                    dcb: x(A)
                                }
                            }
                        };
                        t.prototype.sOa = function(w, v, x, y) {
                            var z = null;
                            w = {
                                tub: w,
                                ayb: function(A) {
                                    return A
                                },
                                aNb: v,
                                key: void 0,
                                Og: y,
                                e2b: x,
                                value: void 0
                            };
                            if (this.oha) {
                                if (z = this.oha(w), void 0 === z || null === z) throw Error(m.xib);
                            } else z = this.pqb()(w);
                            return z
                        };
                        t.prototype.pqb = function() {
                            var w = this;
                            return function(v) {
                                var x = h.LO(w.apb, w, v.aNb, v.e2b, v.Og, v.key, v.value, v.tub);
                                x = v.ayb(x);
                                return l.resolve(x)
                            }
                        };
                        return t
                        }(); b.S_ = r
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule",
                        { value: !0 }); var c = a(79), f = a(110); r = function () { function k(m, g) { this.id = f.id(); this.oia = !1; this.Og = m; this.scope = g; this.type = c.Oj.Jib; this.KG = function () { return !0 }; this.SM = this.kx = this.TA = this.fN = this.cache = this.Bm = null } k.prototype.clone = function () { var m = new k(this.Og, this.scope); m.oia = !1; m.Bm = this.Bm; m.SM = this.SM; m.scope = this.scope; m.type = this.type; m.fN = this.fN; m.TA = this.TA; m.KG = this.KG; m.kx = this.kx; m.cache = this.cache; return m }; return k }(); b.Reb = r
                }, function (r, b, a) {
                    function c(y, z, A, B, E) {
                        var D = m(A.kb,
                            E.Og), F = []; D.length === g.mca.NHa && A.kb.options.UT && "function" === typeof E.Og && y.NYa(E.Og).RTa && (A.kb.bind(E.Og).Fbb(), D = m(A.kb, E.Og)); F = z ? D : D.filter(function (G) { var C = new v.Request(G.Og, A, B, G, E); return G.KG(C) }); f(E.Og, F, E, A.kb); return F
                    } function f(y, z, A, B) {
                        switch (z.length) {
                            case g.mca.NHa:
                                if (A.F1a()) return z;
                                y = q.yN(y);
                                z = d.Fjb;
                                z += q.vOb(y, A);
                                z += q.J2a(B, y, m);
                                throw Error(z);
                            case g.mca.Xjb:
                                if (!A.isArray()) return z;
                            default:
                                if (A.isArray()) return z;
                                y = q.yN(y);
                                z = d.Udb + " " + y;
                                z += q.J2a(B, y, m);
                                throw Error(z);
                        }
                    }
                    
                    function k(y,
                        z, A, B, E, D) {
                        if (null === E) {
                            z = c(y, z, B, null, D);
                            var F = new v.Request(A, B, null, z, D);
                            A = new t.Ykb(B, F);
                            B.zsb(A)
                        } else z = c(y, z, B, E, D), F = E.HQa(D.Og, z, D);
                        z.forEach(function(G) {
                            var C = null;
                            if (D.isArray()) C = F.HQa(G.Og, G, D);
                            else {
                                if (G.cache) return;
                                C = F
                            }
                            if (G.type === h.Oj.Instance && null !== G.Bm) {
                                var H = w.iHb(y, G.Bm);
                                if (!B.kb.options.hJ) {
                                    var L = w.GGb(y, G.Bm);
                                    if (H.length < L) throw G = d.Wdb(w.getFunctionName(G.Bm)), Error(G);
                                }
                                H.forEach(function(N) {
                                    k(y, !1, N.Og, B, C, N)
                                })
                            }
                        })
                    }
                    
                    function m(y, z) {
                        var A = [],
                            B = y.YK;
                        B.O_a(z) ? A = B.get(z) : null !==
                            y.parent && (A = m(y.parent, z));
                        return A
                    }
                    Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        var g = a(575),
                            d = a(58),
                            h = a(79),
                            l = a(45),
                            n = a(313),
                            q = a(135),
                            p = a(576),
                            u = a(65),
                            t = a(577),
                            w = a(578),
                            v = a(580),
                            x = a(315);
                        b.qcc = function(y) {
                            return y.YK
                        };
                        b.LO = function(y, z, A, B, E, D, F, G) {
                            void 0 === G && (G = !1);
                            z = new p.EBa(z);
                            A = new u.Metadata(A ? l.fF : l.vR, E);
                            B = new x.I1(B, "", E, A);
                            void 0 !== D && (D = new u.Metadata(D, F), B.Hc.push(D));
                            try {
                                return k(y, G, E, z, null, B), z
                            } catch (C) {
                                throw n.N1a(C) && z.LO && q.Swb(z.LO.fwa), C;
                            }
                        };
                        b.tbc = function(y, z, A, B) {
                            A =
                                new x.I1(h.py.Hfa, "", z, new u.Metadata(A, B));
                            y = new p.EBa(y);
                            return new v.Request(z, y, null, [], A)
                        }
                }, function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.mca = {
                        T8b: 2,
                        NHa: 0,
                        Xjb: 1
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(110);
                    r = function() {
                        function f(k) {
                            this.id = c.id();
                            this.kb = k
                        }
                        f.prototype.zsb = function(k) {
                            this.LO = k
                        };
                        return f
                    }();
                    b.EBa = r
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Ykb = function() {
                        return function(a, c) {
                            this.GO = a;
                            this.fwa = c
                        }
                    }()
                },
                function(r, b, a) {
                    function c(p, u, t, w) {
                        var v = p.NYa(t),
                            x = v.RTa;
                        if (void 0 === x) throw Error(d.cjb + " " + u + ".");
                        v = v.M4b;
                        var y = Object.keys(v),
                            z = 0 === t.length && 0 < y.length ? y.length : t.length;
                        y = [];
                        for (var A = 0; A < z; A++) {
                            var B = A,
                                E = w,
                                D = u,
                                F = x,
                                G = v[B.toString()] || [],
                                C = m(G),
                                H = !0 !== C.Wm;
                            F = F[B];
                            var L = C.l || C.iI;
                            F = L ? L : F;
                            F instanceof g.Dda && (F = F.M3b());
                            if (H) {
                                H = F === Function;
                                H = F === Object || H || void 0 === F;
                                if (!E && H) throw Error(d.djb + " argument " + B + " in class " + D + ".");
                                B = new q.I1(h.py.ABa, C.IZ, F);
                                B.Hc = G;
                                G = B
                            } else G = null;
                            null !== G && y.push(G)
                        }
                        p =
                            f(p, t);
                        return y.concat(p)
                    }
                
                    function f(p, u) {
                        for (var t = p.XIb(u), w = [], v = 0, x = Object.keys(t); v < x.length; v++) {
                            var y = x[v],
                                z = t[y],
                                A = m(t[y]);
                            y = new q.I1(h.py.sBa, A.IZ || y, A.l || A.iI);
                            y.Hc = z;
                            w.push(y)
                        }
                        u = Object.getPrototypeOf(u.prototype).constructor;
                        u !== Object && (p = f(p, u), w = w.concat(p));
                        return w
                    }
                
                    function k(p, u) {
                        u = Object.getPrototypeOf(u.prototype).constructor;
                        if (u !== Object) {
                            var t = n.getFunctionName(u);
                            t = c(p, t, u, !0);
                            var w = t.map(function(v) {
                                return v.Hc.filter(function(x) {
                                    return x.key === l.hS
                                })
                            });
                            w = [].concat.apply([],
                                w).length;
                            t = t.length - w;
                            return 0 < t ? t : k(p, u)
                        }
                        return 0
                    }
                
                    function m(p) {
                        var u = {};
                        p.forEach(function(t) {
                            u[t.key.toString()] = t.value
                        });
                        return {
                            l: u[l.vR],
                            iI: u[l.fF],
                            IZ: u[l.X0],
                            Wm: u[l.hS]
                        }
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var g = a(314),
                        d = a(58),
                        h = a(79),
                        l = a(45),
                        n = a(135);
                    b.getFunctionName = n.getFunctionName;
                    var q = a(315);
                    b.iHb = function(p, u) {
                        var t = n.getFunctionName(u);
                        return c(p, t, u, !1)
                    };
                    b.GGb = k
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    r = function() {
                        function a(c) {
                            this.RP = c
                        }
                        a.prototype.startsWith =
                            function(c) {
                                return 0 === this.RP.indexOf(c)
                            };
                        a.prototype.endsWith = function(c) {
                            var f = c.split("").reverse().join("");
                            c = this.RP.split("").reverse().join("");
                            return this.startsWith.call({
                                RP: c
                            }, f)
                        };
                        a.prototype.contains = function(c) {
                            return -1 !== this.RP.indexOf(c)
                        };
                        a.prototype.equals = function(c) {
                            return this.RP === c
                        };
                        a.prototype.value = function() {
                            return this.RP
                        };
                        return a
                    }();
                    b.klb = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(110);
                    r = function() {
                        function f(k, m, g, d, h) {
                            this.id = c.id();
                            this.Og =
                                k;
                            this.GO = m;
                            this.LA = g;
                            this.target = h;
                            this.rka = [];
                            this.YT = Array.isArray(d) ? d : [d];
                            this.zYb = null === g ? new Map : null
                        }
                        f.prototype.HQa = function(k, m, g) {
                            k = new f(k, this.GO, this, m, g);
                            this.rka.push(k);
                            return k
                        };
                        return f
                    }();
                    b.Request = r
                },
                function(r, b, a) {
                    function c(l) {
                        return function(n) {
                            var q = n.YT,
                                p = n.rka,
                                u = n.target && n.target.isArray(),
                                t = !n.LA || !n.LA.target || !n.target || !n.LA.target.TPb(n.target.Og);
                            if (u && t) return p.map(function(v) {
                                return c(l)(v)
                            });
                            u = null;
                            if (!n.target.F1a() || 0 !== q.length) {
                                var w = q[0];
                                q = w.scope === m.et.sfa;
                                t = w.scope === m.et.Request;
                                if (q && w.oia) return w.cache;
                                if (t && null !== l && l.has(w.id)) return l.get(w.id);
                                if (w.type === m.Oj.yBa) u = w.cache;
                                else if (w.type === m.Oj.Function) u = w.cache;
                                else if (w.type === m.Oj.zBa) u = w.Bm;
                                else if (w.type === m.Oj.JCa && null !== w.SM) u = f("toDynamicValue", w.Og, function() {
                                    return w.SM(n.GO)
                                });
                                else if (w.type === m.Oj.Zca && null !== w.fN) u = f("toFactory", w.Og, function() {
                                    return w.fN(n.GO)
                                });
                                else if (w.type === m.Oj.IKa && null !== w.TA) u = f("toProvider", w.Og, function() {
                                    return w.TA(n.GO)
                                });
                                else if (w.type === m.Oj.Instance &&
                                    null !== w.Bm) u = h.LYb(w.Bm, p, c(l));
                                else throw p = d.yN(n.Og), Error(k.tib + " " + p);
                                "function" === typeof w.kx && (u = w.kx(n.GO, u));
                                q && (w.cache = u, w.oia = !0);
                                t && null !== l && !l.has(w.id) && l.set(w.id, u);
                                return u
                            }
                        }
                    }
                
                    function f(l, n, q) {
                        try {
                            return q()
                        } catch (p) {
                            if (g.N1a(p)) throw Error(k.vfb(l, n.toString()));
                            throw p;
                        }
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var k = a(58),
                        m = a(79),
                        g = a(313),
                        d = a(135),
                        h = a(582);
                    b.resolve = function(l) {
                        return c(l.LO.fwa.zYb)(l.LO.fwa)
                    }
                },
                function(r, b, a) {
                    function c(d, h, l) {
                        h = h.filter(function(q) {
                            return null !==
                                q.target && q.target.type === m.py.sBa
                        });
                        var n = h.map(l);
                        h.forEach(function(q, p) {
                            q = q.target.name.value();
                            d[q] = n[p]
                        });
                        return d
                    }
                
                    function f(d, h) {
                        if (Reflect.BKb(g.UR, d)) {
                            var l = Reflect.getMetadata(g.UR, d);
                            try {
                                h[l.value]()
                            } catch (n) {
                                throw Error(k.Qkb(d.name, n.message));
                            }
                        }
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var k = a(58),
                        m = a(79),
                        g = a(45);
                    b.LYb = function(d, h, l) {
                        var n = null;
                        0 < h.length ? (n = h.filter(function(q) {
                                return null !== q.target && q.target.type === m.py.ABa
                            }).map(l), n = new(d.bind.apply(d, [void 0].concat(n))),
                            n = c(n, h, l)) : n = new d;
                        f(d, n);
                        return n
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(58),
                        f = a(79),
                        k = a(584),
                        m = a(316);
                    r = function() {
                        function g(d) {
                            this.Fc = d
                        }
                        g.prototype.to = function(d) {
                            this.Fc.type = f.Oj.Instance;
                            this.Fc.Bm = d;
                            return new k.lAa(this.Fc)
                        };
                        g.prototype.Fbb = function() {
                            if ("function" !== typeof this.Fc.Og) throw Error("" + c.zib);
                            this.to(this.Fc.Og)
                        };
                        g.prototype.Lj = function(d) {
                            this.Fc.type = f.Oj.yBa;
                            this.Fc.cache = d;
                            this.Fc.SM = null;
                            this.Fc.Bm = null;
                            new m.NE(this.Fc)
                        };
                        g.prototype.BE =
                            function(d) {
                                this.Fc.type = f.Oj.JCa;
                                this.Fc.cache = null;
                                this.Fc.SM = d;
                                this.Fc.Bm = null;
                                return new k.lAa(this.Fc)
                            };
                        g.prototype.K2b = function(d) {
                            this.Fc.type = f.Oj.zBa;
                            this.Fc.Bm = d;
                            new m.NE(this.Fc)
                        };
                        g.prototype.yf = function(d) {
                            this.Fc.type = f.Oj.Zca;
                            this.Fc.fN = d;
                            new m.NE(this.Fc)
                        };
                        g.prototype.M2b = function(d) {
                            if ("function" !== typeof d) throw Error(c.wib);
                            this.Lj(d);
                            this.Fc.type = f.Oj.Function
                        };
                        g.prototype.Dbb = function(d) {
                            this.Fc.type = f.Oj.Zca;
                            this.Fc.fN = function(h) {
                                return function() {
                                    return h.kb.get(d)
                                }
                            };
                            new m.NE(this.Fc)
                        };
                        g.prototype.RZ = function(d) {
                            this.Fc.type = f.Oj.IKa;
                            this.Fc.TA = d;
                            new m.NE(this.Fc)
                        };
                        g.prototype.O2b = function(d) {
                            this.BE(function(h) {
                                return h.kb.get(d)
                            })
                        };
                        return g
                    }();
                    b.Teb = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(585),
                        f = a(200),
                        k = a(201);
                    r = function() {
                        function m(g) {
                            this.Fc = g;
                            this.pS = new k.nca(this.Fc);
                            this.Zfa = new f.K_(this.Fc);
                            this.HNa = new c.Seb(g)
                        }
                        m.prototype.aa = function() {
                            return this.HNa.aa()
                        };
                        m.prototype.Xpa = function() {
                            return this.HNa.Xpa()
                        };
                        m.prototype.when = function(g) {
                            return this.pS.when(g)
                        };
                        m.prototype.t_ = function() {
                            return this.pS.t_()
                        };
                        m.prototype.kx = function(g) {
                            return this.Zfa.kx(g)
                        };
                        return m
                    }();
                    b.lAa = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(79),
                        f = a(316);
                    r = function() {
                        function k(m) {
                            this.Fc = m
                        }
                        k.prototype.aa = function() {
                            this.Fc.scope = c.et.sfa;
                            return new f.NE(this.Fc)
                        };
                        k.prototype.Xpa = function() {
                            this.Fc.scope = c.et.L1;
                            return new f.NE(this.Fc)
                        };
                        return k
                    }();
                    b.Seb = r
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.R6b = function() {
                        function a() {}
                        a.of = function(c, f) {
                            var k = new a;
                            k.YT = c;
                            k.XQb = f;
                            return k
                        };
                        return a
                    }()
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(58);
                    r = function() {
                        function f() {
                            this.Rg = new Map
                        }
                        f.prototype.add = function(k, m) {
                            if (null === k || void 0 === k) throw Error(c.PR);
                            if (null === m || void 0 === m) throw Error(c.PR);
                            var g = this.Rg.get(k);
                            void 0 !== g ? (g.push(m), this.Rg.set(k, g)) : this.Rg.set(k, [m])
                        };
                        f.prototype.get = function(k) {
                            if (null === k || void 0 === k) throw Error(c.PR);
                            k = this.Rg.get(k);
                            if (void 0 !== k) return k;
                            throw Error(c.wFa);
                        };
                        f.prototype.remove = function(k) {
                            if (null === k || void 0 === k) throw Error(c.PR);
                            if (!this.Rg.delete(k)) throw Error(c.wFa);
                        };
                        f.prototype.O_a = function(k) {
                            if (null === k || void 0 === k) throw Error(c.PR);
                            return this.Rg.has(k)
                        };
                        f.prototype.clone = function() {
                            var k = new f;
                            this.Rg.forEach(function(m, g) {
                                m.forEach(function(d) {
                                    return k.add(g, d.clone())
                                })
                            });
                            return k
                        };
                        return f
                    }();
                    b.Rib = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(110);
                    b.dd = function() {
                        return function(f) {
                            this.id = c.id();
                            this.Ava =
                                f
                        }
                    }();
                    b.$za = function() {
                        return function(f) {
                            this.id = c.id();
                            this.Ava = f
                        }
                    }()
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(58),
                        f = a(45);
                    b.R = function() {
                        return function(k) {
                            if (Reflect.Apa(f.lea, k)) throw Error(c.Qgb);
                            var m = Reflect.getMetadata(f.ogb, k) || [];
                            Reflect.W4(f.lea, m, k);
                            return k
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(65),
                        f = a(95);
                    b.bbb = function(k, m) {
                        return function(g, d, h) {
                            var l = new c.Metadata(k, m);
                            "number" === typeof h ? f.sJ(g, d, h, l) : f.HZ(g,
                                d, l)
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(45),
                        f = a(65),
                        k = a(95);
                    b.T4a = function(m) {
                        return function(g, d, h) {
                            var l = new f.Metadata(c.OB, m);
                            "number" === typeof h ? k.sJ(g, d, h, l) : k.HZ(g, d, l)
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(45),
                        f = a(65),
                        k = a(95);
                    b.optional = function() {
                        return function(m, g, d) {
                            var h = new f.Metadata(c.bIa, !0);
                            "number" === typeof d ? k.sJ(m, g, d, h) : k.HZ(m, g, h)
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(45),
                        f = a(65),
                        k = a(95);
                    b.Wm = function() {
                        return function(m, g, d) {
                            var h = new f.Metadata(c.hS, !0);
                            k.sJ(m, g, d, h)
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(45),
                        f = a(65),
                        k = a(95);
                    b.iI = function(m) {
                        return function(g, d, h) {
                            var l = new f.Metadata(c.fF, m);
                            "number" === typeof h ? k.sJ(g, d, h, l) : k.HZ(g, d, l)
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(45),
                        f = a(65),
                        k = a(95);
                    b.IZ = function(m) {
                        return function(g, d, h) {
                            var l = new f.Metadata(c.X0, m);
                            k.sJ(g, d, h, l)
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(58),
                        f = a(45),
                        k = a(65);
                    b.s7a = function() {
                        return function(m, g) {
                            g = new k.Metadata(f.UR, g);
                            if (Reflect.Apa(f.UR, m.constructor)) throw Error(c.qjb);
                            Reflect.W4(f.UR, g, m.constructor)
                        }
                    }
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.P4a = function(a) {
                        return function(c) {
                            return function() {
                                for (var f = [], k = 0; k < arguments.length; k++) f[k] = arguments[k];
                                return f.forEach(function(m) {
                                    return a.bind(m).O2b(c)
                                })
                            }
                        }
                    }
                },
                function(r, b, a) {
                    function c() {}
                
                    function f(G) {
                        this.Sca = G.hu;
                        this.RBa = !0
                    }
                
                    function k(G) {
                        this.X6a = G
                    }
                
                    function m(G) {
                        var C = q.vca.call(this) || this;
                        C.fM = (0, B.q$)([p.xg.x0, p.xg.y0, p.xg.T_, p.xg.QQ]);
                        C.n_ = (0, B.q$)([p.V.lfb, p.V.Rdb, p.V.Sdb, p.V.sfb, p.V.rfb, p.V.qfb, p.V.nfb, p.V.mfb, p.V.pfb, p.V.ofb]);
                        C.Xo = u.bc.alb;
                        C.YL = (0, l.ea)(44E5);
                        C.cM = (0, l.ea)(396E5);
                        C.i4 = !!G;
                        return C
                    }
                
                    function g() {
                        this.version = "6.0034.519.611";
                        this.wX = !0;
                        this.dN = "R";
                        this.hu = "";
                        this.Z5 = !1;
                        this.PU = "chromecast-cadmium";
                        this.Z4 = "chromecast";
                        this.Lla = ["en-US"];
                        this.lPb = "2012.2-CADC";
                        this.QU = "cast.cadmium.core";
                        this.etb = !0;
                        this.QXb = !1
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.platform = b.Nfb = void 0;
                    r = a(1);
                    var d = a(0),
                        h = a(29),
                        l = a(47),
                        n = a(81),
                        q = a(599),
                        p = a(51),
                        u = a(136),
                        t = a(32),
                        w = a(319),
                        v = a(30),
                        x = a(203),
                        y = a(8),
                        z = a(320),
                        A = a(321),
                        B = a(322);
                    g = r.__decorate([(0, d.R)()], g);
                    qa(m, q.vca);
                    var E = m;
                    E = r.__decorate([(0, d.R)(), r.__param(0, (0, d.l)(t.mHa))], E);
                    b.Nfb = E;
                    k.prototype.apply = function() {
                        return {
                            useBufferSizeLimiter: !0,
                            maxAllowedOutstandingRequests: 3,
                            alwaysRunUnderflowTimer: !1,
                            enableCombinedPlaygraphs: !1,
                            maxTotalBufferLevelPerSession: this.X6a.YL.$(l.hr) + this.X6a.cM.$(l.hr),
                            minPrebufSize: 8E3,
                            enableMediaPrefetch: !1,
                            appendMediaBeforeInit: !0,
                            pauseTimeoutLimitMilliseconds: 36E5,
                            muteVolumeOnPlaybackClose: !1,
                            verbosePlaybackInfoDenominator: 0,
                            minVideoMediaRequestDuration: 0,
                            disgardMediaOnAppend: !0,
                            reserveForSkipbackBufferMs: 0,
                            decoderTimeoutMilliseconds: 2E4,
                            nrdpVolumeControlType: "VOLUME_STREAM",
                            includeNetflixIdUserAuthData: !1,
                            prepareCadmium: !1,
                            enableLdlPrefetch: !1,
                            promiseBasedEme: !0,
                            forceLimitedDurationLicense: !1,
                            setMediaKeysEarly: !0,
                            trackingLogEnabled: !0,
                            trackingLogEvents: {
                                sso: !0,
                                startup: !0,
                                playback: !1,
                                regpair: !0
                            },
                            enableHEVC: !0,
                            enableHDR: !0,
                            enableDV: !0,
                            videoCapabilityDetectorType: v.gn.P_,
                            delayErrorHandling: {
                                7361: "100",
                                7371: "100",
                                7373: "100"
                            },
                            bookmarkIgnoreBeginning: "30000",
                            usePerformanceApi: !1,
                            playerPredictionModelV2: !1,
                            sendPlaydataBackupOnInit: !1,
                            pausePlaybackOnAudioSwitch: !1,
                            nrdpPersistCookiesToIndexDB: !0,
                            useLegacySubs: !0,
                            pboContentPlaygraphTypes: []
                        }
                    };
                    var D = k;
                    D = r.__decorate([(0, d.R)(), r.__param(0, (0, d.l)(n.Nv))],
                        D);
                    f = r.__decorate([(0, d.R)(), r.__param(0, (0, d.l)(h.Tj))], f);
                    c.prototype.apply = function(G) {
                        var C = {};
                        switch (G.hu) {
                            case "GOOGEUR001":
                                C = Object.assign(Object.assign({}, C), {
                                    maxActiveRequestsPerSession: 1,
                                    maxAllowedOutstandingRequests: 1,
                                    enableMilestoneEventList: !1
                                });
                                break;
                            case "GOOGEAR001":
                                C = Object.assign(Object.assign({}, C), {
                                    maxDecoderBufferMilliseconds: 7E3
                                });
                                break;
                            case "GOOGLUT001":
                                C = Object.assign(Object.assign({}, C), {
                                    maxDecoderBufferMilliseconds: 7E3,
                                    useHdcpLevelOnCast: !0,
                                    enablePRK: !0,
                                    maxTotalBufferLevelPerSession: 88E6,
                                    minRequiredBuffer: 0,
                                    enableDDPlusAtmos: !0
                                })
                        }
                        return C
                    };
                    var F = c;
                    F = r.__decorate([(0, d.R)()], F);
                    b.platform = new d.dd(function(G) {
                        G(h.Tj).to(g).aa();
                        G(n.Nv).to(E).aa();
                        G(w.xJa).to(D).aa();
                        G(h.hy).to(f).aa();
                        G(A.cBa).to(F).aa();
                        G(x.Hea).yf(function() {
                            return function() {
                                return {
                                    dc: function(C, H, L) {
                                        return y.ta.get(z.HFa).createSession(C, H, L)
                                    },
                                    request: a(601)
                                }
                            }
                        })
                    })
                },
                function(r, b, a) {
                    function c() {
                        var h = g.Gea.apply(this, arguments) || this;
                        h.gM = m.VJ.ajb;
                        h.daa = !1;
                        h.q5 = !1;
                        h.MD = (0, f.Nc)(7E3);
                        h.O3a = (0, k.ea)(4194304);
                        h.WH =
                            200;
                        h.Naa = b.gBa;
                        h.xJ = (0, k.ea)(5E5);
                        h.vv = [d.Vj.V_, d.Vj.jLa, d.Vj.qF];
                        h.DH = [];
                        h.SZ = (0, f.Nc)(15E3);
                        h.uW = !1;
                        h.EV = !1;
                        h.G8 = !1;
                        h.cH = !1;
                        return h
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.vca = b.gBa = void 0;
                    var f = a(4),
                        k = a(47),
                        m = a(202),
                        g = a(600),
                        d = a(51);
                    b.gBa = {
                        MONOSPACED_SERIF: "font-family:MonoSerif_For_Netflix",
                        MONOSPACED_SANS_SERIF: "font-family:MonoSans_For_Netflix",
                        PROPORTIONAL_SERIF: "font-family:PropSerif_For_Netflix",
                        PROPORTIONAL_SANS_SERIF: "font-family:PropSans_For_Netflix;font-weight:bolder",
                        CASUAL: "font-family:Casual_For_Netflix",
                        CURSIVE: "font-family:Cursive_For_Netflix",
                        SMALL_CAPITALS: "font-family:SmallCaps_For_Netflix"
                    };
                    qa(c, g.Gea);
                    b.vca = c
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Gea = void 0;
                    var c = a(4),
                        f = a(47),
                        k = a(202),
                        m = a(51),
                        g = {
                            MONOSPACED_SERIF: "font-family:Courier New,Arial,Helvetica;font-weight:bolder",
                            MONOSPACED_SANS_SERIF: "font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",
                            PROPORTIONAL_SERIF: "font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",
                            PROPORTIONAL_SANS_SERIF: "font-family:Arial,Helvetica;font-weight:bolder",
                            CASUAL: "font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",
                            CURSIVE: "font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",
                            SMALL_CAPITALS: "font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"
                        };
                    b.Gea = function() {
                        this.jub = this.gM = k.VJ.vFa;
                        this.daa = !0;
                        this.fM = [];
                        this.n_ = [];
                        this.J9 = this.rma = !1;
                        this.vv = [m.Vj.V_, m.Vj.jLa, m.Vj.qF, m.Vj.EEa];
                        this.Xo = void 0;
                        this.q5 = !0;
                        this.r5 = !1;
                        this.YL = (0, f.ea)(288E4);
                        this.cM = (0, f.ea)(335544320);
                        this.MD = (0, c.Nc)(15E3);
                        this.O3a = (0, f.ea)(6291456);
                        this.WH = 1E3;
                        this.i4 = !0;
                        this.Naa = g;
                        this.xJ = (0, f.ea)(0);
                        this.DH = ["ro", "zh-Hans", "zh-Hant"];
                        this.SZ = (0, c.Nc)(0);
                        this.uW = !0;
                        this.Qya = !1;
                        this.G8 = this.EV = !0;
                        this.cH = !1
                    }
                },
                function(r, b, a) {
                    function c(k, m, g, d) {
                        this.log = k;
                        this.TV = m;
                        this.HI = g;
                        this.context = d
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var f =
                        a(3);
                    c.prototype.Rh = function(k) {
                        var m = this;
                        (this.context.qk || this.context.kA) && this.log.trace("Requesting license", {
                            drmType: k.Rr
                        });
                        return this.TV(k).catch(function(g) {
                            m.log.error("Unable to get the Playready license", g);
                            throw {
                                ga: !1,
                                code: f.N.xR,
                                jd: g.jd,
                                Kg: g.Kg,
                                Hw: g.Hw,
                                vm: g.message || g.vm,
                                $M: g.data,
                                message: "Unable to send the Playready license request. " + (g.message || g.vm)
                            };
                        })
                    };
                    c.prototype.release = function(k) {
                        var m = this;
                        this.log.trace("Requesting stop data");
                        return this.HI(k).catch(function(g) {
                            m.log.error("Unable to release the PlayReady license", {
                                code: g.code,
                                subCode: g.jd,
                                extCode: g.Kg,
                                edgeCode: g.Hw,
                                message: g.message || g.vm
                            });
                            throw {
                                ga: !1,
                                code: f.N.KKa,
                                jd: g.jd,
                                Kg: g.Kg,
                                Hw: g.Hw,
                                vm: g.message || g.vm,
                                message: "Unable to release the PlayReady license. " + (g.message || g.vm)
                            };
                        })
                    };
                    r.exports = c
                },
                function(r, b, a) {
                    function c(u, t, w) {
                        var v = this;
                        this.is = u;
                        this.Rl = t;
                        this.config = w;
                        this.Hx = function() {
                            return {
                                version: v.version,
                                drmData: v.i5.map(function(x) {
                                    return x.Hx()
                                })
                            }
                        };
                        this.Dna = function(x) {
                            v.is.un(x) && (x = f(x));
                            1 === x.version && (x = k(v.is, x));
                            var y = {
                                version: 2,
                                data: []
                            };
                            if (2 === x.version) {
                                y.version = x.version;
                                try {
                                    y.data = x.drmData.map(function(z) {
                                        return new p.m0(z)
                                    })
                                } catch (z) {
                                    throw new l.Wc(d.N.pK, d.M.FB, void 0, void 0, void 0, "The format of the DRM data is inconsistent with what is expected.", z);
                                }
                            } else {
                                if (!x.version || !v.is.li(x.version)) throw new l.Wc(d.N.pK, d.M.FB, void 0, void 0, void 0, "The format of the DRM data is inconsistent with what is expected.");
                                if (1 !== x.version) throw new l.Wc(d.N.pK, d.M.EAa, void 0, void 0, void 0, "Version number is not supported. Version: " + x.version);
                            }
                            return y
                        };
                        this.Ks = new n.tda(2, this.config.$U, this.is.un(this.config.$U), this.Rl, this.Hx)
                    }
                
                    function f(u) {
                        u = JSON.parse(u);
                        u = {
                            xid: u.xid,
                            movieId: u.movieId,
                            keySessionIds: u.keySessionIds,
                            licenseContextId: u.licenseContextId
                        };
                        if (!u.licenseContextId || !u.xid || !u.movieId) throw new l.Wc(d.N.pK, d.M.FB);
                        return {
                            version: 1,
                            drmData: [u]
                        }
                    }
                
                    function k(u, t) {
                        if (u.Vy(t.drmData)) return {
                            version: 2,
                            drmData: t.drmData.map(function(w) {
                                var v = w.keySessionIds;
                                return (new p.m0({
                                    keySessionData: (v && 0 < v.length ? v : [void 0]).map(function(x) {
                                        return {
                                            id: x,
                                            licenseContextId: w.licenseContextId,
                                            licenseId: void 0
                                        }
                                    }),
                                    xid: w.xid,
                                    movieId: w.movieId
                                })).Hx()
                            })
                        };
                        throw new l.Wc(d.N.pK, d.M.FB);
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.YAa = void 0;
                    r = a(1);
                    var m = a(0),
                        g = a(70),
                        d = a(3),
                        h = a(25),
                        l = a(40),
                        n = a(324),
                        q = a(71),
                        p = a(205);
                    c.prototype.e8a = function() {
                        return this.S0b()
                    };
                    c.prototype.KQa = function(u) {
                        return this.Ks.add(u)
                    };
                    c.prototype.IY = function(u) {
                        return this.Ks.remove(u, function(t, w) {
                            return t.da === w.da
                        })
                    };
                    c.prototype.toString = function() {
                        return JSON.stringify(this.Hx(),
                            null, "  ")
                    };
                    c.prototype.S0b = function() {
                        var u = this;
                        this.i8a || (this.i8a = new Promise(function(t, w) {
                            u.Ks.load(u.Dna).then(function() {
                                t()
                            }).catch(function(v) {
                                v.ma && v.cause ? w(new l.Wc(d.N.pK, v.ma, void 0, void 0, void 0, "Unable to load persisted playdata.", void 0, v)) : w(v)
                            })
                        }));
                        return this.i8a
                    };
                    Ya.Object.defineProperties(c.prototype, {
                        version: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ks.version
                            }
                        },
                        i5: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ks.xw
                            }
                        }
                    });
                    a = c;
                    a = r.__decorate([(0, m.R)(),
                        r.__param(0, (0, m.l)(h.pf)), r.__param(1, (0, m.l)(q.Rx)), r.__param(2, (0, m.l)(g.Fv))
                    ], a);
                    b.YAa = a
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.R7a = void 0;
                    var c = a(3),
                        f = a(96),
                        k = a(122),
                        m = a(204),
                        g;
                    b.R7a = function(d) {
                        m.TM.parent = d.kb;
                        return function() {
                            g || (g = new Promise(function(h, l) {
                                try {
                                    h(m.TM.get(k.CCa))
                                } catch (n) {
                                    l(new f.jh(c.N.dib, c.M.vib, void 0, "Unable to extract the DRM services from the dependency injector", n))
                                }
                            }));
                            return g
                        }
                    }
                },
                function(r, b) {
                    function a() {}
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.fHa = void 0;
                    a.prototype.Q_a = function() {
                        return void 0 !== this.mediaKeys
                    };
                    a.prototype.RQa = function(c) {
                        this.mediaKeys = c
                    };
                    a.prototype.$Xb = function() {
                        this.Q_a() && (this.mediaKeys = void 0)
                    };
                    b.fHa = a
                },
                function(r, b, a) {
                    function c(q, p, u, t, w) {
                        this.$G = q;
                        this.ic = p;
                        this.hO = t;
                        this.xk = w;
                        this.log = u.lb("CannedChallengeProviderImpl")
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.ZAa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(122),
                        m = a(41),
                        g = a(7),
                        d = a(138),
                        h = a(72),
                        l = a(137),
                        n = a(606);
                    c.prototype.Toa = function(q) {
                        var p = this;
                        return Promise.all([this.$G(), this.moa()]).then(function(u) {
                            var t = da(u);
                            u = t.next().value;
                            t = t.next().value;
                            return u.Y5({
                                type: q,
                                initData: t
                            }, p.hO())
                        }).then(function(u) {
                            var t = da(u);
                            u = t.next().value;
                            t = t.next().value;
                            t = p.ic.encode(t.data[0]);
                            p.log.trace("Challenge generated", t);
                            return {
                                dc: u,
                                hka: t
                            }
                        })
                    };
                    c.prototype.moa = function() {
                        var q = this;
                        return this.xk.ru().then(function(p) {
                            switch (p) {
                                case l.mo.hH:
                                    return n.yhb;
                                case l.mo.eE:
                                    return n.blb;
                                default:
                                    return n.qmb
                            }
                        }).then(function(p) {
                            return p.map(q.ic.decode)
                        })
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.n0)), r.__param(1, (0, f.l)(m.kj)), r.__param(2, (0, f.l)(g.ub)), r.__param(3, (0, f.l)(d.IR)), r.__param(4, (0, f.l)(h.mt))], a);
                    b.ZAa = a
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.qmb = ["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];
                    b.yhb = ["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=", "c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=",
                        "c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=", "c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="
                    ];
                    b.blb = ["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"]
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.config = void 0;
                    r = a(0);
                    var c = a(13),
                        f = a(608),
                        k = a(33),
                        m = a(34),
                        g = a(609),
                        d = a(326),
                        h = a(612),
                        l = a(164),
                        n = a(613),
                        q = a(70),
                        p = a(614);
                    b.config = new r.dd(function(u) {
                        u(c.cd).yf(function() {
                            return function() {
                                return ub._cad_global.config
                            }
                        });
                        u(k.yca).to(f.xBa).aa();
                        u(k.Qk).to(f.dNa).aa();
                        u(k.wR).to(f.mFa).aa();
                        u(m.Wl).to(g.eBa).aa();
                        u(d.JHa).to(h.IHa).aa();
                        u(l.HDa).to(n.GDa).aa();
                        u(q.Fv).to(p.$Ca).aa()
                    })
                },
                function(r, b, a) {
                    function c() {
                        this.qz = {};
                        this.u9a =
                            0
                    }
                
                    function f(n, q, p, u, t) {
                        this.debug = n;
                        this.eA = q;
                        this.HX = p;
                        this.bg = u;
                        this.v$ = t
                    }
                
                    function k(n, q, p) {
                        this.eA = n;
                        this.HX = q;
                        this.v$ = p
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.mFa = b.dNa = b.xBa = void 0;
                    r = a(1);
                    var m = a(0),
                        g = a(97),
                        d = a(7),
                        h = a(139),
                        l = a(325);
                    a = a(33);
                    k = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(a.wR)), r.__param(1, (0, m.l)(h.G1)), r.__param(2, (0, m.l)(l.bfa))], k);
                    b.xBa = k;
                    f = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(g.Dv)), r.__param(1, (0, m.l)(a.wR)), r.__param(2, (0, m.l)(h.G1)), r.__param(3, (0, m.l)(d.ub)),
                        r.__param(4, (0, m.l)(l.bfa))
                    ], f);
                    b.dNa = f;
                    c.prototype.NQb = function(n) {
                        this.qz = Object.assign({}, this.qz, n);
                        this.u9a++
                    };
                    Ya.Object.defineProperties(c.prototype, {
                        data: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.qz
                            }
                        },
                        ewa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.u9a
                            }
                        }
                    });
                    a = c;
                    a = r.__decorate([(0, m.R)()], a);
                    b.mFa = a
                },
                function(r, b, a) {
                    function c(l, n) {
                        return g.$ca.call(this, l, n, "CastGeneralConfigImpl") || this
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.eBa = void 0;
                    r = a(1);
                    var f =
                        a(42),
                        k = a(34),
                        m = a(0),
                        g = a(610),
                        d = a(33);
                    a = a(81);
                    qa(c, g.$ca);
                    Ya.Object.defineProperties(c.prototype, {
                        Jw: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return k.zp.FKa
                            }
                        },
                        Haa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !0
                            }
                        },
                        N$: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !0
                            }
                        },
                        nQ: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        }
                    });
                    var h = c;
                    r.__decorate([f.config(g.Jw, "env")], h.prototype, "Jw", null);
                    r.__decorate([f.config(f.Rc, "testIndexDBForCorruptedDatabase")], h.prototype, "Haa", null);
                    r.__decorate([f.config(f.Rc, "retryAllMslRequestsOnError")], h.prototype, "N$", null);
                    r.__decorate([f.config(f.Rc, "vuiCommandLogging")], h.prototype, "nQ", null);
                    h = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(d.Qk)), r.__param(1, (0, m.l)(a.Nv))], h);
                    b.eBa = h
                },
                function(r, b, a) {
                    function c(q, p, u) {
                        q = g.$e.call(this, q, void 0 === u ? "GeneralConfigImpl" : u) || this;
                        q.Ui = p;
                        return q
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.$ca = b.Jw = void 0;
                    r = a(1);
                    var f = a(4),
                        k = a(0),
                        m = a(42),
                        g = a(48),
                        d = a(34),
                        h = a(33);
                    a = a(81);
                    var l = {
                        test: "Test",
                        stg: "Staging",
                        "int": "Int",
                        prod: "Prod"
                    };
                    b.Jw = function(q, p) {
                        return q.f8a(l[p] || p, d.zp)
                    };
                    qa(c, g.$e);
                    Ya.Object.defineProperties(c.prototype, {
                        Jw: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return d.zp.FKa
                            }
                        },
                        Dxa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, f.vg)(8)
                            }
                        },
                        Zz: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ""
                            }
                        },
                        oM: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ""
                            }
                        },
                        IJ: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ""
                            }
                        },
                        Haa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        C3: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !0
                            }
                        },
                        uW: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ui.uW
                            }
                        },
                        pEb: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        ik: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return {}
                            }
                        },
                        N$: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        Sqa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        nQ: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        Ws: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        gV: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !0
                            }
                        },
                        wE: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return {
                                    __default_rule_key__: ["idb", "mem"]
                                }
                            }
                        },
                        gu: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return 0 <= [d.zp.Bfa, d.zp.vda].indexOf(this.Jw)
                            }
                        }
                    });
                    var n = c;
                    r.__decorate([m.config(b.Jw, "environment")], n.prototype, "Jw", null);
                    r.__decorate([m.config(m.il, "storageTimeout")], n.prototype, "Dxa", null);
                    r.__decorate([m.config(m.string, "groupName")], n.prototype, "Zz", null);
                    r.__decorate([m.config(m.string, "canaryGroupName", !0)],
                        n.prototype, "oM", null);
                    r.__decorate([m.config(m.string, "uiGroupName")], n.prototype, "IJ", null);
                    r.__decorate([m.config(m.Rc, "testIndexDBForCorruptedDatabase")], n.prototype, "Haa", null);
                    r.__decorate([m.config(m.Rc, "applyIndexedDbOpenWorkaround")], n.prototype, "C3", null);
                    r.__decorate([m.config(m.Rc, "ignoreIdbOpenError")], n.prototype, "uW", null);
                    r.__decorate([m.config(m.Rc, "executeStorageMigration")], n.prototype, "pEb", null);
                    r.__decorate([m.config(m.object(), "browserInfo")], n.prototype, "ik", null);
                    r.__decorate([m.config(m.Rc,
                        "retryAllMslRequestsOnError")], n.prototype, "N$", null);
                    r.__decorate([m.config(m.Rc, "isTestAccount")], n.prototype, "Sqa", null);
                    r.__decorate([m.config(m.Rc, "vuiCommandLogging")], n.prototype, "nQ", null);
                    r.__decorate([m.config(m.Rc, "useRangeHeader")], n.prototype, "Ws", null);
                    r.__decorate([m.config(m.Rc, "enableMilestoneEventList")], n.prototype, "gV", null);
                    r.__decorate([m.config(m.object, "storageRules")], n.prototype, "wE", null);
                    n = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(h.Qk)), r.__param(1, (0, k.l)(a.Nv)), r.__param(2,
                        (0, k.l)(h.R_)), r.__param(2, (0, k.optional)())], n);
                    b.$ca = n
                },
                function(r, b) {
                    function a(c) {
                        this.value = c
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.kea = void 0;
                    a.empty = function() {
                        return a.of(void 0)
                    };
                    a.of = function(c) {
                        return new a(c)
                    };
                    a.prototype.or = function(c) {
                        return void 0 === this.value ? c instanceof Function ? c() : c : this.value
                    };
                    a.prototype.map = function(c) {
                        return void 0 === this.value ? a.empty() : a.of(c(this.value))
                    };
                    b.kea = a
                },
                function(r, b, a) {
                    function c(d, h) {
                        return m.$e.call(this, d, void 0 === h ? "NetworkMonitorConfigImpl" :
                            h) || this
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.IHa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(42),
                        m = a(48);
                    a = a(33);
                    qa(c, m.$e);
                    Ya.Object.defineProperties(c.prototype, {
                        Tcb: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !0
                            }
                        }
                    });
                    var g = c;
                    r.__decorate([k.config(k.Rc, "useNetworkMonitor")], g.prototype, "Tcb", null);
                    g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.Qk)), r.__param(1, (0, f.l)(a.R_)), r.__param(1, (0, f.optional)())], g);
                    b.IHa = g
                },
                function(r, b, a) {
                    function c(q, p, u, t) {
                        q = g.$e.call(this, q, "FtlProbeConfigImpl") ||
                            this;
                        q.Jh = p;
                        q.Ba = u;
                        q.Ui = t;
                        return q
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.GDa = void 0;
                    r = a(1);
                    var f = a(35),
                        k = a(0),
                        m = a(4),
                        g = a(48),
                        d = a(98),
                        h = a(42),
                        l = a(33);
                    a = a(81);
                    qa(c, g.$e);
                    Ya.Object.defineProperties(c.prototype, {
                        enabled: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ui.EV
                            }
                        },
                        endpoint: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return "" + this.Fna + (-1 === this.Fna.indexOf("?") ? "?" : "&") + "monotonic=" + this.Ba.L4a + "&device=web"
                            }
                        },
                        pab: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return m.cb
                            }
                        },
                        vna: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ""
                            }
                        },
                        Fna: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Jh.endpoint + "/ftl/probe" + (this.vna ? "?force=" + this.vna : "")
                            }
                        }
                    });
                    var n = c;
                    r.__decorate([h.config(h.Rc, "ftlEnabled")], n.prototype, "enabled", null);
                    r.__decorate([h.config(h.il, "ftlStartDelay")], n.prototype, "pab", null);
                    r.__decorate([h.config(h.string, "ftlEndpointForceParam")], n.prototype, "vna", null);
                    r.__decorate([h.config(h.url, "ftlEndpoint")], n.prototype, "Fna", null);
                    n = r.__decorate([(0,
                        k.R)(), r.__param(0, (0, k.l)(l.Qk)), r.__param(1, (0, k.l)(d.BB)), r.__param(2, (0, k.l)(f.ih)), r.__param(3, (0, k.l)(a.Nv))], n);
                    b.GDa = n
                },
                function(r, b, a) {
                    function c(l, n, q) {
                        l = k.$e.call(this, l, void 0 === q ? "EmeConfigImpl" : q) || this;
                        l.ik = n;
                        return l
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.$Ca = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(48),
                        m = a(33),
                        g = a(4),
                        d = a(42);
                    a = a(327);
                    qa(c, k.$e);
                    Ya.Object.defineProperties(c.prototype, {
                        a1a: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.ik.HMb || this.ik.RMb || this.ik.nNb ? !0 :
                                    !1
                            }
                        },
                        GD: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, g.vg)(5)
                            }
                        },
                        eua: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, g.vg)(10)
                            }
                        },
                        $U: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return "unsentDrmData"
                            }
                        },
                        yV: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        bma: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        },
                        QA: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !0
                            }
                        },
                        wRa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, g.vg)(30)
                            }
                        },
                        xRa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, g.vg)(30)
                            }
                        },
                        ARa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, g.vg)(30)
                            }
                        },
                        yRa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, g.vg)(30)
                            }
                        },
                        BRa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, g.vg)(30)
                            }
                        },
                        Iwa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ""
                            }
                        },
                        e6a: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.ik.MMb ? !1 : !0
                            }
                        },
                        f6a: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        }
                    });
                    var h = c;
                    r.__decorate([d.config(d.Rc, "initializeKeySystemAtStartup")],
                        h.prototype, "a1a", null);
                    r.__decorate([d.config(d.il, "licenseRenewalRequestDelay")], h.prototype, "GD", null);
                    r.__decorate([d.config(d.il, "persistedReleaseDelay")], h.prototype, "eua", null);
                    r.__decorate([d.config(d.string, "drmPersistKey")], h.prototype, "$U", null);
                    r.__decorate([d.config(d.Rc, "forceLimitedDurationLicense")], h.prototype, "yV", null);
                    r.__decorate([d.config(d.Rc, "disableLicenseRenewal")], h.prototype, "bma", null);
                    r.__decorate([d.config(d.Rc, "prepareCadmium")], h.prototype, "QA", null);
                    r.__decorate([d.config(d.il,
                        "apiCloseTimeout")], h.prototype, "wRa", null);
                    r.__decorate([d.config(d.il, "apiCreateMediaKeysTimeout")], h.prototype, "xRa", null);
                    r.__decorate([d.config(d.il, "apiSetServerCertificateTimeout")], h.prototype, "ARa", null);
                    r.__decorate([d.config(d.il, "apiGenerateRequestTimeout")], h.prototype, "yRa", null);
                    r.__decorate([d.config(d.il, "apiUpdateTimeout")], h.prototype, "BRa", null);
                    r.__decorate([d.config(d.string, "serverCertificate")], h.prototype, "Iwa", null);
                    r.__decorate([d.config(d.Rc, "outputRestrictedIsFatal")],
                        h.prototype, "e6a", null);
                    r.__decorate([d.config(d.Rc, "outputRestrictedIsFatalForUhd")], h.prototype, "f6a", null);
                    h = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Qk)), r.__param(1, (0, f.l)(a.BAa)), r.__param(2, (0, f.l)(m.R_)), r.__param(2, (0, f.optional)())], h);
                    b.$Ca = h
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.tWa = void 0;
                    r = a(0);
                    var c = a(122),
                        f = a(616),
                        k = a(72),
                        m = a(617),
                        g = a(329),
                        d = a(625);
                    b.tWa = new r.dd(function(h) {
                        h(c.CCa).to(f.BCa).aa();
                        h(k.mt).to(m.eHa).aa();
                        h(g.bDa).to(d.aDa)
                    })
                },
                function(r,
                    b, a) {
                    function c(x, y, z, A, B, E, D, F, G, C) {
                        var H = this;
                        this.Oc = y;
                        this.TA = z;
                        this.config = A;
                        this.Ur = B;
                        this.iDb = E;
                        this.nM = D;
                        this.xk = F;
                        this.hO = G;
                        this.Km = C;
                        this.x1b = function(L, N) {
                            H.Km.mark(v.La.v0, L.$i.da, "generate-challenge");
                            var J = !1;
                            N.s_b(function(Q) {
                                J || (J = !0, H.Km.mark(v.La.u0, L.$i.da, "generate-challenge"));
                                H.TV(L, N, Q).then(function(K) {
                                    N.OQa(K);
                                    H.tvb(N)
                                }).catch(function(K) {
                                    return N.ssb(K)
                                })
                            })
                        };
                        this.log = x.lb("DrmServices");
                        this.Ur().qp && this.nM.e8a().then(function() {
                            H.MXb()
                        }).catch(function(L) {
                            H.log.error("Unable to load the persisted DRM data",
                                L)
                        });
                        this.config.a1a && this.xk.Qw().then(function(L) {
                            return H.JUa(G(), L, h.ei.Fp).then(function(N) {
                                return N.close()
                            })
                        })
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.BCa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(7),
                        m = a(49),
                        g = a(328),
                        d = a(73),
                        h = a(60),
                        l = a(70),
                        n = a(206),
                        q = a(205),
                        p = a(329),
                        u = a(13),
                        t = a(72),
                        w = a(138),
                        v = a(63);
                    c.prototype.Y5 = function(x, y) {
                        return this.PG(y, x.type, x.context).then(function(z) {
                            return z.kGb(x.initData).then(function(A) {
                                return [z, {
                                    Rr: z.ru(),
                                    data: A.yn
                                }]
                            })
                        })
                    };
                    c.prototype.Rh = function(x, y) {
                        var z =
                            this;
                        this.log.info("Requesting challenges", this.wZa(x, x.type));
                        return this.PG(y, x.type, x.context).then(function(A) {
                            z.J4a(x, A);
                            return A.lGb(x.initData).then(function() {
                                return A
                            })
                        })
                    };
                    c.prototype.J4a = function(x, y) {
                        y.y_b(x.$i);
                        this.x1b(x, y)
                    };
                    c.prototype.release = function(x, y) {
                        var z = this;
                        this.log.info("Releasing server license", this.k_a(x));
                        return this.dJb(x).then(function() {
                            var A = Object.assign({
                                active: !1,
                                Ve: []
                            }, x.$i);
                            z.nM.IY(A);
                            y.$Xb();
                            return x
                        })
                    };
                    c.prototype.wZa = function(x, y) {
                        return {
                            movieId: x.$i.K,
                            xid: x.$i.da,
                            type: (0, h.vra)(y)
                        }
                    };
                    c.prototype.k_a = function(x) {
                        return {
                            movieId: x.$i ? x.$i.K : void 0,
                            xid: x.$i ? x.$i.da : void 0,
                            keySessionId: x.Oz()
                        }
                    };
                    c.prototype.TV = function(x, y, z) {
                        this.log.info("Sending license request", this.wZa(x, z.$f));
                        return this.TA.Rh({
                            da: x.$i.da,
                            zi: x.$i.zi,
                            h5: [x.$i.sm],
                            yn: [{
                                sessionId: y.Oz() || "session",
                                data: z.yn
                            }],
                            $f: z.$f,
                            Rr: y.ru(),
                            gTa: z.gTa,
                            kX: x.$i.kX,
                            uk: x.$i.uk
                        })
                    };
                    c.prototype.dJb = function(x) {
                        this.log.info("Sending release request", this.k_a(x));
                        return this.TA.release({
                            da: x.$i.da,
                            Ve: x.Ve
                        })
                    };
                    c.prototype.PG =
                        function(x, y, z) {
                            var A = this;
                            return this.xk.Qw().then(function(B) {
                                return A.JUa(x, B, y, z)
                            })
                        };
                    c.prototype.JUa = function(x, y, z, A) {
                        return this.iDb.create().then(function(B) {
                            return B.createSession(y, x, z, A).then(function() {
                                return B
                            })
                        })
                    };
                    c.prototype.LXb = function(x) {
                        var y = this;
                        return this.TA.release({
                            da: x.da,
                            Ve: x.Ve
                        }).catch(function(z) {
                            y.log.error("Unable to send release data to the server", z)
                        })
                    };
                    c.prototype.MXb = function() {
                        var x = this;
                        this.Oc.Fk(this.config.eua, function() {
                            x.log.trace("Removing cached sessions", {
                                "count:": x.nM.i5.length
                            });
                            x.nM.i5.filter(function(y) {
                                return !y.active
                            }).reduce(function(y, z) {
                                return y.then(function() {
                                    return x.LXb(z)
                                }).then(function() {
                                    return x.nM.IY(z)
                                })
                            }, Promise.resolve(void 0))
                        })
                    };
                    c.prototype.tvb = function(x) {
                        if (x.Oz() && x.$i) {
                            var y = new q.m0;
                            y.Ve = x.Ve;
                            y.da = x.$i.da;
                            y.K = x.$i.K;
                            this.nM.KQa(y)
                        }
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.Uj)), r.__param(2, (0, f.l)(g.ACa)), r.__param(3, (0, f.l)(l.Fv)), r.__param(4, (0, f.l)(u.cd)), r.__param(5, (0, f.l)(p.bDa)),
                        r.__param(6, (0, f.l)(n.tca)), r.__param(7, (0, f.l)(t.mt)), r.__param(8, (0, f.l)(w.IR)), r.__param(9, (0, f.l)(d.LR))
                    ], a);
                    b.BCa = a
                },
                function(r, b, a) {
                    function c(G, C, H, L, N, J, Q, K, I, M) {
                        this.ns = G;
                        this.Vc = C;
                        this.Zh = H;
                        this.tj = L;
                        this.ic = N;
                        this.is = J;
                        this.xX = Q;
                        this.config = K;
                        this.iq = I;
                        this.Uh = M;
                        this.log = this.ns.lb("MediaKeySystemAccessServices")
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.eHa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(3),
                        m = a(7),
                        g = a(96),
                        d = a(137),
                        h = a(618),
                        l = a(619),
                        n = a(620),
                        q = a(208),
                        p = a(31),
                        u = a(111),
                        t = a(41),
                        w = a(25),
                        v = a(32),
                        x = a(621),
                        y = a(623),
                        z = a(112),
                        A = a(13),
                        B = a(136),
                        E = a(70),
                        D = a(66),
                        F = a(56);
                    c.prototype.Qw = function() {
                        this.promise || (this.promise = this.fZb());
                        return this.promise
                    };
                    c.prototype.lAb = function(G) {
                        var C = this;
                        return new Promise(function(H, L) {
                            var N = B.bc.eoa(G),
                                J = C.dZa(N);
                            N = C.aZa(N);
                            J.uYb(G, N.Noa()).then(function(Q) {
                                C.log.trace("Created the media keys system access", {
                                    keySystem: G,
                                    supportedconfig: Q.getConfiguration ? JSON.stringify(Q.getConfiguration()) : void 0
                                });
                                C.keySystem = (0, F.poa)(Q);
                                H(Q)
                            }).catch(function(Q) {
                                C.log.error("Unable to create the media key system access object", {
                                    keySystem: G,
                                    error: Q.message
                                });
                                L(new g.jh(k.N.Pca, k.M.ci, void 0, "Unable to create media keys system access. " + Q.message, Q))
                            })
                        })
                    };
                    c.prototype.ru = function() {
                        var G = this;
                        return this.Qw().then(function(C) {
                            return G.bZa(C)
                        })
                    };
                    c.prototype.tHb = function() {
                        var G = this,
                            C = this.config().n2a || [this.config().Xo];
                        if (1 < C.length) return this.Qw().then(function(H) {
                            return G.bZa(H)
                        }).then(function(H) {
                            return B.bc.$Ya(H)
                        });
                        C = B.bc.eoa(C[0]);
                        return Promise.resolve(B.bc.$Ya(C))
                    };
                    c.prototype.uHb = function() {
                        var G = this;
                        return this.ru().then(function(C) {
                            return G.aZa(C)
                        })
                    };
                    c.prototype.wHb = function() {
                        var G = this;
                        return this.ru().then(function(C) {
                            return G.dZa(C)
                        })
                    };
                    c.prototype.bZa = function(G) {
                        return B.bc.eoa(G.keySystem)
                    };
                    c.prototype.aZa = function(G) {
                        switch (G) {
                            case d.mo.eE:
                                return new h.YCa(this.tj, this.ic);
                            case d.mo.hH:
                                return new y.qLa(this.tj, this.ic, this.Zh, this.Uh);
                            default:
                                return new n.qBa(this.tj, this.iq, this.config)
                        }
                    };
                    c.prototype.dZa = function(G) {
                        switch (G) {
                            case d.mo.eE:
                                return new l.sKa(this.xX, this.is, this.ic, this.Vc, this.iq, this.Zh);
                            case d.mo.hH:
                                return new x.BDa(this.xX,
                                    this.is, this.ic, this.Vc, this.iq, this.Zh);
                            default:
                                return new q.Qv(this.xX, this.is, this.ic, this.Vc, this.iq, this.Zh)
                        }
                    };
                    c.prototype.fZb = function() {
                        var G = this,
                            C = (this.config().n2a || [this.config().Xo]).map(function(H) {
                                return function() {
                                    return G.lAb(H)
                                }
                            });
                        return this.gZb(C)
                    };
                    c.prototype.gZb = function(G) {
                        return G.reduce(function(C, H) {
                            return C.then(function(L) {
                                return Promise.resolve(L)
                            }).catch(function() {
                                return H()
                            })
                        }, Promise.reject(Error("keySystem missing")))
                    };
                    Ya.Object.defineProperties(c.prototype, {
                        m2a: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.keySystem
                            }
                        }
                    });
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ub)), r.__param(1, (0, f.l)(p.oh)), r.__param(2, (0, f.l)(z.JF)), r.__param(3, (0, f.l)(u.ME)), r.__param(4, (0, f.l)(t.kj)), r.__param(5, (0, f.l)(w.pf)), r.__param(6, (0, f.l)(v.tF)), r.__param(7, (0, f.l)(A.cd)), r.__param(8, (0, f.l)(E.Fv)), r.__param(9, (0, f.l)(D.qt))], a);
                    b.eHa = a
                },
                function(r, b, a) {
                    function c(p, u) {
                        this.tj = p;
                        this.ic = u
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.YCa = void 0;
                    r = a(1);
                    var f = a(0),
                        k =
                        a(3),
                        m = a(111),
                        g = a(41),
                        d = a(207),
                        h = a(96),
                        l = a(64),
                        n = a(40),
                        q = a(56);
                    c.prototype.u4 = function() {
                        return !0
                    };
                    c.prototype.nja = function() {
                        return !1
                    };
                    c.prototype.bka = function() {
                        return !1
                    };
                    c.prototype.SV = function() {
                        return q.Cv
                    };
                    c.prototype.Sna = function() {};
                    c.prototype.Noa = function() {
                        return [{
                            initDataTypes: [this.SV()],
                            audioCapabilities: [{
                                contentType: d.Q0
                            }],
                            videoCapabilities: [{
                                contentType: d.eF
                            }],
                            sessionTypes: ["temporary"]
                        }]
                    };
                    c.prototype.oqa = function() {
                        Promise.reject(new n.Wc(k.N.Qca))
                    };
                    c.prototype.cla = function(p) {
                        var u =
                            new Uint8Array(p.message);
                        u = this.Qma(u, "PlayReadyKeyMessage", "Challenge");
                        u = this.ic.decode(u);
                        return {
                            type: p.type,
                            sessionId: p.target.sessionId,
                            bI: [u],
                            messageType: p.messageType
                        }
                    };
                    c.prototype.mz = function(p) {
                        var u = new h.jh(k.N.j1),
                            t = p.code;
                        null != t && void 0 !== t ? (t = parseInt(t, 10), u.jd = 1 <= t && 9 >= t ? k.M.fK + t : k.M.fK) : u.jd = p instanceof l.xr ? k.M.XQ : k.M.ci;
                        try {
                            var w = /\((\d+)\)/.exec(p.message);
                            u.Kg = this.tj.DV(Number(w && w[1]), 4)
                        } catch (v) {}
                        u.OU(p);
                        return u
                    };
                    c.prototype.Qma = function(p, u) {
                        for (var t = 1; t < arguments.length; ++t);
                        for (t = 1; t < arguments.length; t++);
                        t = "";
                        var w, v = p.length;
                        for (w = 0; w < v; w++) {
                            var x = p[w];
                            0 < x && (t += String.fromCharCode(x))
                        }
                        v = "\\s*(.*)\\s*";
                        for (w = arguments.length - 1; 0 < w; w--) {
                            x = arguments[w];
                            if (0 > t.search(x)) return "";
                            x = "(?:[^:].*:|)" + x;
                            v = "[\\s\\S]*<" + x + "[^>]*>" + v + "</" + x + ">[\\s\\S]*"
                        }
                        return (t = t.match(new RegExp(v))) ? t[1] : ""
                    };
                    c.prototype.rN = function() {};
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ME)), r.__param(1, (0, f.l)(g.kj))], a);
                    b.YCa = a
                },
                function(r, b, a) {
                    function c() {
                        return k.Qv.apply(this, arguments) ||
                            this
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.sKa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(208),
                        m = a(96),
                        g = a(3);
                    qa(c, k.Qv);
                    c.prototype.E4 = function(d, h, l, n, q) {
                        this.I8a(l);
                        this.G8a(n);
                        this.E8a(q);
                        this.Lob = this.xb;
                        this.xb = d.createSession(h);
                        this.TQa(l);
                        this.NQa(n);
                        this.LQa(q);
                        return this.generateRequest(this.initDataType, this.initData)
                    };
                    c.prototype.close = function() {
                        function d(l) {
                            return l && l.sessionId ? l.close().then(function() {
                                return l = void 0
                            }) : Promise.resolve()
                        }
                        var h = this;
                        this.Gka = void 0;
                        return this.xb ?
                            d(this.xb).then(function() {
                                d(h.Lob)
                            }) : Promise.reject(new m.jh(g.N.KCa, g.M.eK, void 0, "Unable to close a key session, key session is not valid"))
                    };
                    c.prototype.generateRequest = function(d, h) {
                        this.initDataType = d;
                        this.initData = h;
                        return k.Qv.prototype.generateRequest.call(this, d, h)
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)()], a);
                    b.sKa = a
                },
                function(r, b, a) {
                    function c(u, t, w) {
                        this.tj = u;
                        this.iq = t;
                        this.config = w
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.qBa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(3),
                        m = a(111),
                        g = a(207),
                        d = a(96),
                        h = a(64),
                        l = a(70),
                        n = a(13),
                        q = a(40),
                        p = a(56);
                    c.prototype.u4 = function() {
                        return !1
                    };
                    c.prototype.nja = function() {
                        return !0
                    };
                    c.prototype.bka = function() {
                        return !0
                    };
                    c.prototype.SV = function() {
                        return p.Cv
                    };
                    c.prototype.Sna = function() {
                        return this.iq.Iwa ? this.iq.Iwa : p.oNa
                    };
                    c.prototype.Noa = function() {
                        var u = [{
                                contentType: g.eF,
                                robustness: p.oK
                            }, {
                                contentType: g.eF,
                                robustness: p.ofa
                            }, {
                                contentType: g.eF,
                                robustness: p.A1
                            }],
                            t = [{
                                contentType: g.eF,
                                robustness: p.A1
                            }];
                        return [{
                            initDataTypes: [this.SV()],
                            persistentState: "required",
                            videoCapabilities: this.config().YXa ?
                                t : u
                        }]
                    };
                    c.prototype.oqa = function() {
                        Promise.reject(new q.Wc(k.N.Qca))
                    };
                    c.prototype.cla = function(u) {
                        var t;
                        return {
                            type: u.type,
                            sessionId: null === (t = u.target) || void 0 === t ? void 0 : t.sessionId,
                            bI: [new Uint8Array(u.message)],
                            messageType: u.messageType
                        }
                    };
                    c.prototype.mz = function(u) {
                        var t = new d.jh(k.N.j1),
                            w = null === u || void 0 === u ? void 0 : u.code;
                        null != w && void 0 !== w ? (w = parseInt(w, 10), t.jd = 1 <= w && 9 >= w ? k.M.fK + w : k.M.fK) : t.jd = u instanceof h.xr ? k.M.XQ : k.M.ci;
                        try {
                            var v = u.message.match(/\((\d*)\)/)[1];
                            t.Kg = this.tj.DV(v, 4)
                        } catch (x) {}
                        t.OU(u);
                        return t
                    };
                    c.prototype.rN = function() {};
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ME)), r.__param(1, (0, f.l)(l.Fv)), r.__param(2, (0, f.l)(n.cd))], a);
                    b.qBa = a
                },
                function(r, b, a) {
                    function c(t, w, v, x, y, z) {
                        t = k.Qv.call(this, t, w, v, x, y, z) || this;
                        t.ic = v;
                        t.ee = x;
                        t.iq = y;
                        t.Zh = z;
                        t.i0a = new m.ADa(t.ic, t.ee, t.Zh);
                        return t
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.BDa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(208),
                        m = a(622),
                        g = a(32),
                        d = a(25),
                        h = a(41),
                        l = a(31),
                        n = a(70),
                        q = a(112),
                        p = a(330),
                        u = a(331);
                    qa(c, k.Qv);
                    c.prototype.generateRequest =
                        function(t, w) {
                            var v = this;
                            try {
                                var x = w.map(function(z) {
                                    return v.i0a.bIb(z)
                                });
                                this.Q0a = x.map(function(z) {
                                    return v.ic.encode(z)
                                });
                                var y = this.i0a.Uxb(x);
                                return k.Qv.prototype.generateRequest.call(this, t, [y])
                            } catch (z) {
                                return Promise.reject(z)
                            }
                        };
                    c.prototype.update = function(t, w, v) {
                        var x = this;
                        if (v) try {
                            var y = this.Zh.encode(t[0]),
                                z = JSON.parse(y).RESPONSES.map(function(E) {
                                    var D = u.B1.Lab(E.ID);
                                    return {
                                        keyID: w === p.IF.SKa ? x.Q0a[x.Q0a.length - 1] : v[D],
                                        payload: E.PAYLOAD
                                    }
                                });
                            if (w === p.IF.Request) {
                                var A = z.map(function(E) {
                                    return E.keyID
                                });
                                v.forEach(function(E) {
                                    -1 === A.indexOf(E) && z.push({
                                        keyID: E,
                                        error: 1
                                    })
                                })
                            }
                            var B = JSON.stringify(z);
                            t = [this.Zh.decode(B)]
                        } catch (E) {
                            return Promise.reject(E)
                        }
                        return k.Qv.prototype.update.call(this, t, w)
                    };
                    c.prototype.fP = function() {
                        return k.Qv.prototype.update.call(this, [this.Zh.decode("renew")], p.IF.Request)
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(g.tF)), r.__param(1, (0, f.l)(d.pf)), r.__param(2, (0, f.l)(h.kj)), r.__param(3, (0, f.l)(l.oh)), r.__param(4, (0, f.l)(n.Fv)), r.__param(5, (0, f.l)(q.JF))], a);
                    b.BDa =
                        a
                },
                function(r, b) {
                    function a(c, f, k) {
                        var m = this;
                        this.ic = c;
                        this.ee = f;
                        this.Zh = k;
                        this.bIb = function(g) {
                            g = g.subarray(14, 30);
                            g = String.fromCharCode.apply(null, g);
                            g = m.ic.decode(g);
                            g = g.subarray(4);
                            var d = new Uint8Array(16);
                            d.set(g);
                            return d
                        };
                        this.zhb = {
                            Cv: 1667591779,
                            J6b: 1667392371
                        }
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.ADa = void 0;
                    a.prototype.Uxb = function(c) {
                        var f = this.zhb.Cv;
                        c = c.map(function(k) {
                            return {
                                fdc: "",
                                TNb: k,
                                eja: k,
                                K0b: k,
                                $4b: [1]
                            }
                        });
                        return this.zPb(f, c)
                    };
                    a.prototype.yPb = function(c) {
                        var f = new Uint8Array(4);
                        (new DataView(f.buffer)).setUint32(0, c);
                        return this.Vra("fpsi", [f])
                    };
                    a.prototype.xPb = function(c, f, k, m) {
                        c = [this.Vra("fkri", [c])];
                        f.byteLength && c.push(this.cX("fkai", [f]));
                        k.byteLength && c.push(this.cX("fkcx", [k]));
                        m.length && c.push(this.cX("fkvl", [new Uint8Array((new Uint32Array(m)).buffer)]));
                        return this.cX("fpsk", c)
                    };
                    a.prototype.zPb = function(c, f) {
                        var k = new Uint8Array([148, 206, 134, 251, 7, 255, 79, 67, 173, 184, 147, 210, 250, 150, 140, 162]);
                        c = [this.yPb(c)];
                        for (var m in f) {
                            var g = f[m];
                            c.push(this.xPb(g.TNb, g.eja,
                                g.K0b, g.$4b))
                        }
                        f = this.cX("fpsd", c);
                        m = new Uint8Array(4);
                        (new DataView(m.buffer)).setUint32(0, f.byteLength);
                        return this.Vra("pssh", [k, m, f])
                    };
                    a.prototype.Vra = function(c, f) {
                        var k = 0;
                        for (g in f) k += f[g].byteLength;
                        k = new Uint8Array(12 + k);
                        var m = new DataView(k.buffer),
                            g = 0;
                        m.setUint32(g, k.byteLength);
                        g += 4;
                        k.set(this.Zh.decode(c), g);
                        g += 4;
                        m.setUint32(g, 0);
                        g += 4;
                        for (var d in f) c = f[d], k.set(c, g), g += c.byteLength;
                        return k
                    };
                    a.prototype.cX = function(c, f) {
                        var k = 0;
                        for (m in f) k += f[m].byteLength;
                        k = new Uint8Array(8 + k);
                        var m =
                            0;
                        (new DataView(k.buffer)).setUint32(m, k.byteLength);
                        m += 4;
                        k.set(this.Zh.decode(c), m);
                        m += 4;
                        for (var g in f) c = f[g], k.set(c, m), m += c.byteLength;
                        return k
                    };
                    b.ADa = a
                },
                function(r, b, a) {
                    function c(w, v, x, y) {
                        this.tj = w;
                        this.ic = v;
                        this.Zh = x;
                        this.Uh = y
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.qLa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(3),
                        m = a(111),
                        g = a(112),
                        d = a(96),
                        h = a(64),
                        l = a(41),
                        n = a(56),
                        q = a(332),
                        p = a(40),
                        u = a(66),
                        t = a(331);
                    c.prototype.u4 = function() {
                        return !1
                    };
                    c.prototype.nja = function() {
                        return !1
                    };
                    c.prototype.bka = function() {
                        return !0
                    };
                    c.prototype.SV = function() {
                        return n.Cv
                    };
                    c.prototype.Sna = function() {
                        return n.Yca
                    };
                    c.prototype.Noa = function() {
                        return [{
                            initDataTypes: [n.Cv],
                            videoCapabilities: [{
                                contentType: "video/mp4;codecs=avc1.42E01E",
                                robustness: ""
                            }],
                            audioCapabilities: [{
                                contentType: "audio/mp4;codecs=mp4a.40.2",
                                robustness: ""
                            }],
                            distinctiveIdentifier: "not-allowed",
                            persistentState: "optional",
                            sessionTypes: ["temporary"]
                        }]
                    };
                    c.prototype.oqa = function(w) {
                        w.fP()
                    };
                    c.prototype.cla = function(w) {
                        var v = [];
                        if (w.messageType === q.Qda || w.messageType === q.HR) {
                            if (w.messageType ===
                                q.Qda) {
                                var x = this.Zh.encode(new Uint8Array(w.message));
                                v = JSON.parse(x);
                                x = v.map(function(y) {
                                    return y.keyID
                                });
                                v = v.map(function(y) {
                                    return y.payload
                                })
                            } else v = [this.ic.encode(new Uint8Array(w.message))];
                            if (0 === v.length || !v.every(function(y) {
                                    return y && y.length
                                })) throw new p.Wc(k.N.QCa);
                            v = this.J2b(v);
                            v = this.Zh.decode(JSON.stringify(v))
                        } else v = new Uint8Array(w.message);
                        return {
                            type: w.type,
                            sessionId: w.target.sessionId,
                            bI: [v],
                            messageType: w.messageType,
                            PH: x
                        }
                    };
                    c.prototype.mz = function(w) {
                        var v, x = null === (v = w.target) ||
                            void 0 === v ? void 0 : v.error;
                        if (x) var y = x.systemCode,
                            z = x.code;
                        v = new d.jh(k.N.j1, w instanceof h.xr ? k.M.XQ : k.M.fK, y ? this.tj.DV(y, 4) : z, "", x);
                        v.OU(w);
                        return v
                    };
                    c.prototype.J2b = function(w) {
                        w = w.map(function(v, x) {
                            return {
                                ID: t.B1.TLb(x),
                                PAYLOAD: v
                            }
                        });
                        return {
                            VERSION: this.Uh.t4 ? 3 : 1,
                            CHALLENGES: w
                        }
                    };
                    c.prototype.rN = function(w, v) {
                        var x = this;
                        if (v && this.Uh.t4) try {
                            var y = this.Zh.encode(v[0]);
                            return JSON.parse(y).RESPONSES.sort(function(z, A) {
                                return z.ID > A.ID ? 1 : -1
                            }).map(function(z) {
                                var A = t.B1.Lab(z.ID);
                                z = x.ic.decode(z.DHB).subarray(4,
                                    12);
                                A = x.ic.decode(w[A]).subarray(0, 8);
                                return {
                                    from: z,
                                    to: A
                                }
                            })
                        } catch (z) {
                            throw new d.jh(k.N.Ekb, void 0, void 0, void 0, z);
                        }
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ME)), r.__param(1, (0, f.l)(l.kj)), r.__param(2, (0, f.l)(g.JF)), r.__param(3, (0, f.l)(u.qt))], a);
                    b.qLa = a
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.n1 = void 0;
                    b.n1 = function() {
                        var a = this;
                        this.promise = new Promise(function(c, f) {
                            a.resolve = c;
                            a.reject = f
                        })
                    }
                },
                function(r, b, a) {
                    function c(q, p, u, t, w, v) {
                        this.ns = q;
                        this.ya = p;
                        this.ic =
                            u;
                        this.config = t;
                        this.hp = w;
                        this.xk = v
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.aDa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(7),
                        m = a(16),
                        g = a(41),
                        d = a(70),
                        h = a(64),
                        l = a(332);
                    a = a(72);
                    c.prototype.create = function() {
                        var q = this;
                        return Promise.all([this.xk.wHb(), this.xk.uHb(), this.xk.ru()]).then(function(p) {
                            var u = da(p);
                            p = u.next().value;
                            var t = u.next().value;
                            u = u.next().value;
                            return new l.cDa(q.ns, q.ya, q.ic, q.config, p, t, u, q.hp)
                        })
                    };
                    var n = c;
                    n = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.bd)),
                        r.__param(2, (0, f.l)(g.kj)), r.__param(3, (0, f.l)(d.Fv)), r.__param(4, (0, f.l)(h.jy)), r.__param(5, (0, f.l)(a.mt))
                    ], n);
                    b.aDa = n
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.eme = void 0;
                    r = a(0);
                    var c = a(320),
                        f = a(627);
                    b.eme = new r.dd(function(k) {
                        k(c.HFa).to(f.pBa).aa()
                    })
                },
                function(r, b, a) {
                    function c(n, q, p, u, t) {
                        this.ya = n;
                        this.eme = q;
                        this.ic = p;
                        this.Vc = u;
                        this.hb = t
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.pBa = void 0;
                    r = a(1);
                    var f = a(32),
                        k = a(0),
                        m = a(628),
                        g = a(25),
                        d = a(16),
                        h = a(31);
                    a = a(41);
                    c.prototype.createSession =
                        function(n, q, p) {
                            return new m.oBa(n, void 0 === q ? function() {} : q, p, this.ya, this.eme, this.ic, this.Vc, this.hb)
                        };
                    var l = c;
                    l = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(d.bd)), r.__param(1, (0, k.l)(f.tF)), r.__param(2, (0, k.l)(a.kj)), r.__param(3, (0, k.l)(h.oh)), r.__param(4, (0, k.l)(g.pf))], l);
                    b.pBa = l
                },
                function(r, b, a) {
                    function c(l, n, q, p, u, t, w, v) {
                        var x = this;
                        this.log = l;
                        this.DA = void 0 === n ? function() {} : n;
                        this.context = q;
                        this.ya = p;
                        this.eme = u;
                        this.ic = t;
                        this.Vc = w;
                        this.hb = v;
                        this.Hu = [];
                        this.zdb = new Promise(function(y, z) {
                            x.MYb =
                                y;
                            x.A8a = z
                        });
                        this.zdb;
                        this.mTb = function() {
                            x.MYb()
                        };
                        this.KUb = void 0
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.oBa = void 0;
                    var f = a(3),
                        k = a(63),
                        m = a(629),
                        g = a(4),
                        d = a(56),
                        h;
                    (function(l) {
                        l[l.oeb = 1] = "AWAITING_CERT_REQUEST";
                        l[l.k$b = 2] = "RECEIVED_CERT_REQUEST";
                        l[l.j$b = 3] = "RECEIVED_CERT";
                        l[l.W5b = 11] = "AWAITING_LICENSE_CHALLENGE";
                        l[l.efa = 12] = "RECEIVED_LICENSE_CHALLENGE";
                        l[l.plb = 13] = "RECEIVED_LICENSE";
                        l[l.X5b = 21] = "AWAITING_RENEWAL_CHALLENGE";
                        l[l.l$b = 22] = "RECEIVED_RENEWAL_CHALLENGE";
                        l[l.m$b = 23] = "RECEIVED_RENEWED_LICENSE";
                        l[l.ft = 30] = "COMPLETE"
                    })(h || (h = {}));
                    c.prototype.pJb = function() {
                        var l = [];
                        this.Hu.forEach(function(n) {
                            (n = n.zN()) && l.push(n)
                        });
                        return l
                    };
                    c.prototype.create = function(l) {
                        function n() {
                            return new Promise(function(p, u) {
                                q.eme.requestMediaKeySystemAccess(l, q.xHb()).then(function(t) {
                                    q.log.trace("Created the media keys system access", {
                                        supportedconfig: JSON.stringify(t.getConfiguration())
                                    });
                                    return t
                                }).catch(function(t) {
                                    q.log.error("Unable to create the media key system access object", {
                                        keySystem: l,
                                        error: t.message
                                    });
                                    return Promise.reject({
                                        ga: !1,
                                        code: f.N.Pca,
                                        jd: f.M.ci,
                                        message: "Unable to create media keys system access. " + t.message,
                                        yb: q.Vc.$d(t),
                                        cause: t
                                    })
                                }).then(function(t) {
                                    return t.createMediaKeys()
                                }).then(function(t) {
                                    q.log.trace("Created media keys");
                                    q.mediaKeys = t;
                                    p({
                                        ga: !0,
                                        mediaKeys: q.mediaKeys
                                    })
                                }).catch(function(t) {
                                    q.A8a(t);
                                    t.code && t.jd ? u(t) : u({
                                        ga: !1,
                                        code: f.N.p0,
                                        jd: f.M.ci,
                                        message: "Unable to create MediaKeys. " + t.message,
                                        yb: q.Vc.$d(t),
                                        cause: t
                                    })
                                })
                            })
                        }
                        var q = this;
                        this.DA("lg");
                        this.log.trace("Creating the media keys", {
                            keySystem: l
                        });
                        this.keySystem = l;
                        return this.context.N7a ? n() : Promise.resolve({
                            ga: !0,
                            mediaKeys: null
                        })
                    };
                    c.prototype.Rh = function(l, n) {
                        return this.IWb(l, n)
                    };
                    c.prototype.IWb = function(l, n) {
                        var q = this,
                            p = h.oeb;
                        this.FW() && this.log.trace("LICENSE: Setting license with promise based EME");
                        return new Promise(function(u, t) {
                            function w(x) {
                                q.Hu.forEach(function(y) {
                                    y.MOb()
                                });
                                x.state = p;
                                x.ga ? u(x) : (q.close(), q.A8a(x), t(x))
                            }
                            var v = [];
                            if (n) try {
                                n.forEach(function(x) {
                                    var y = new m.nBa(q.log, q.context, q.mediaKeys, q.ic, q.FW, q.Vc);
                                    y.p_b(x);
                                    q.Hu.push(y);
                                    v.push(y.Y5())
                                })
                            } catch (x) {
                                w({
                                    ga: !1,
                                    code: f.N.LCa,
                                    jd: f.M.ci,
                                    message: "Unable to create a persisted key session",
                                    yb: q.Vc.$d(x),
                                    cause: x
                                })
                            } else q.Hu.forEach(function(x) {
                                v.push(x.Y5())
                            });
                            Promise.all(v).then(function() {
                                var x = c.Xib;
                                p = h.efa;
                                var y = [];
                                q.Hu.forEach(function(A) {
                                    var B = A.zN();
                                    if (q.hb.tn(B)) y.push({
                                        data: A.challenge,
                                        sessionId: B
                                    });
                                    else return Promise.reject("keySession missing sessionId")
                                });
                                var z = /clearkey/i.test(q.keySystem) ? "clearkey" : "playready";
                                x = {
                                    yn: y,
                                    $f: l,
                                    messageType: x,
                                    Rr: z
                                };
                                p === h.efa && (q.DA("lc"), z = {
                                    data: y[0],
                                    Rr: z
                                }, q.context.Z9 || (q.KUb = z));
                                q.context.$A.Rh(x).then(function(A) {
                                    if (p !== h.efa || (q.DA("lr"), q.mTb(), q.context.Z9)) {
                                        var B = [],
                                            E = q.l2a();
                                        A.Dm.forEach(function(D) {
                                            B.push(E[D.sessionId].cJ(D.data))
                                        });
                                        return Promise.all(B).then(function() {
                                            p = h.ft;
                                            w({
                                                ga: !0,
                                                state: p
                                            })
                                        })
                                    }
                                    q.O6a = A.Dm;
                                    p = h.plb;
                                    w({
                                        ga: !0,
                                        state: p
                                    })
                                }).catch(function(A) {
                                    w(q.Vc.mO(A, {
                                        state: p
                                    }))
                                })
                            }).catch(function(x) {
                                w({
                                    ga: !1,
                                    code: f.N.WQ,
                                    jd: f.M.ci,
                                    state: p,
                                    message: "Unable to generate request.",
                                    yb: q.Vc.$d(x),
                                    cause: x
                                })
                            })
                        })
                    };
                    c.prototype.fP = function() {
                        var l = this;
                        (this.context.qk || this.context.kA) && this.log.trace("LICENSE: Renewing license");
                        var n = this.Hu.slice(0),
                            q = [];
                        n.forEach(function(p) {
                            q.push(p.moa())
                        });
                        return this.Rh(k.yp.CFa.Fp, q).then(function() {
                            n.forEach(function(p) {
                                p.close();
                                l.Hu.splice(l.Hu.indexOf(p), 1)
                            })
                        })
                    };
                    c.prototype.Via = function() {
                        var l = this,
                            n = this.O6a;
                        n && 0 !== n.length || this.log.error("pending license must exist at this point");
                        this.O6a = void 0;
                        this.context.Z9 = !0;
                        var q = [];
                        c.FKb(n) && n.forEach(function(p) {
                            q.push(l.l2a()[p.sessionId].cJ(p.data))
                        });
                        return Promise.all(q).then(function() {
                            return Promise.resolve()
                        })
                    };
                    c.prototype.FW = function() {
                        return this.context.qk || this.context.kA
                    };
                    c.prototype.Pz = function() {
                        return this.keySystem
                    };
                    c.prototype.xHb = function() {
                        var l = {
                            initDataTypes: [d.Cv],
                            persistentState: "required"
                        };
                        this.context.xW && (l.audioCapabilities = [{
                            contentType: this.context.ZRa
                        }], l.videoCapabilities = [{
                            contentType: this.context.jdb
                        }]);
                        return [l]
                    };
                    c.prototype.close = function() {
                        var l = this;
                        if (0 === this.Hu.length || this.qxb) return Promise.resolve();
                        var n = [];
                        this.Hu.forEach(function(q) {
                            n.push(q.close())
                        });
                        this.log.trace("closing keysession", {
                            sessionIds: this.pJb()
                        });
                        this.qxb = !0;
                        return Promise.all(n).then(function() {
                            l.log.trace("keysession closed")
                        }).catch(function(q) {
                            l.log.trace("error occurred while closing keysession", q)
                        })
                    };
                    c.prototype.rEb = function(l) {
                        var n = this,
                            q = this.ya.Rb().$(g.ja),
                            p, u, t = {
                                da: l.da,
                                Ve: l.Ve
                            };
                        this.log.trace("RELEASE: Executing expedite");
                        return Promise.resolve().then(function() {
                            p = n.ya.Rb().$(g.ja);
                            return n.PZb(t).catch(function(w) {
                                n.log.error("RELEASE: Server request failed", {
                                    code: w.code,
                                    subCode: w.jd,
                                    extCode: w.Kg,
                                    edgeCode: w.Hw,
                                    message: w.vm
                                });
                                return n.close().then(function() {
                                    return Promise.reject(w)
                                })
                            })
                        }).then(function() {
                            u = n.ya.Rb().$(g.ja) - p
                        }).then(this.close.bind(this)).then(function() {
                            return Promise.resolve({
                                ga: !0,
                                Ldc: void 0,
                                bfc: u,
                                sbc: n.ya.Rb().$(g.ja) - q
                            })
                        })
                    };
                    c.FKb = function(l) {
                        return !!l && 0 < l.length
                    };
                    c.YZb = function(l) {
                        return !!l
                    };
                    c.prototype.PZb = function(l) {
                        return this.context.$A.release.call(this.context.$A, l)
                    };
                    c.prototype.l2a = function() {
                        var l = {};
                        this.Hu.forEach(function(n) {
                            var q =
                                n.zN();
                            c.YZb(q) && (l[q] = n)
                        });
                        return l
                    };
                    b.oBa = c;
                    c.Xib = "license-request"
                },
                function(r, b, a) {
                    function c(g, d, h, l, n, q) {
                        var p = this;
                        this.log = g;
                        this.context = d;
                        this.mediaKeys = h;
                        this.ic = l;
                        this.FW = n;
                        this.Vc = q;
                        this.NX = function(u) {
                            var t = new Uint8Array(u.message);
                            p.log.debug("Received " + u.type + " event", {
                                sessionId: u.target.sessionId,
                                messageType: u.messageType,
                                message: p.ic.encode(new Uint8Array(u.message))
                            });
                            u.messageType === c.HR && p.context.$A.Rh.call(p.context.$A, {
                                $f: k.yp.CFa.Fp,
                                messageType: u.messageType,
                                Rr: "playready",
                                yn: [{
                                    data: t,
                                    sessionId: u.target.sessionId
                                }]
                            }).then(function(w) {
                                p.cJ(w.response.data)
                            }).catch(function(w) {
                                if (p.context.onerror) p.context.onerror(w.code, w)
                            })
                        };
                        this.open()
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.nBa = void 0;
                    var f = a(3),
                        k = a(63),
                        m = a(56);
                    c.prototype.zN = function() {
                        if (this.Wo && this.Wo.sessionId) return this.Wo.sessionId
                    };
                    c.prototype.Y5 = function() {
                        var g = this;
                        return this.initData ? new Promise(function(d, h) {
                                function l(n) {
                                    var q = new Uint8Array(n.message),
                                        p = 8 == q[0] && 4 == q[1],
                                        u = {
                                            sessionId: n.target.sessionId,
                                            messageType: n.messageType,
                                            isCertRequest: p
                                        };
                                    g.FW() && (u.message = g.ic.encode(q));
                                    g.log.trace("LICENSE: Received event: " + n.type, u);
                                    p || (g.challenge = q, d(q))
                                }
                                g.log.trace("LICENSE: Calling generateRequest", {
                                    initData: g.ic.encode(g.initData)
                                });
                                g.Wo.addEventListener(c.gK, l);
                                g.Wo.generateRequest(m.Cv, g.initData).then(function() {
                                    g.FW() && g.log.trace("LICENSE: Generate succeeded", {
                                        sessionId: g.zN()
                                    })
                                }, function(n) {
                                    g.log.error("LICENSE: Unable to generate a license request", n);
                                    g.Wo.removeEventListener(c.gK, l);
                                    h(n)
                                })
                            }) :
                            Promise.reject("no initData on KeySession")
                    };
                    c.prototype.cJ = function(g) {
                        var d = this;
                        (this.context.qk || this.context.kA) && this.log.debug("LICENSE: Got the response, calling update", {
                            sessionId: this.zN(),
                            license: this.ic.encode(g)
                        });
                        return this.Wo.update(g).then(function() {
                            (d.context.qk || d.context.kA) && d.log.debug("LICENSE: Update succeeded", {
                                sessionId: d.zN()
                            })
                        }).catch(function(h) {
                            d.log.error("LICENSE: Unable to update the EME.", h);
                            throw {
                                ga: !1,
                                code: f.N.sea,
                                message: "Unable to update the EME.",
                                e: h
                            };
                        })
                    };
                    c.prototype.MOb =
                        function() {
                            this.Wo && this.Wo.addEventListener(c.gK, this.NX)
                        };
                    c.prototype.close = function() {
                        return this.Wo.close()
                    };
                    c.prototype.update = function(g) {
                        return this.Wo.update(g)
                    };
                    c.prototype.p_b = function(g) {
                        this.initData = g
                    };
                    c.prototype.moa = function() {
                        return this.initData
                    };
                    c.prototype.kTb = function(g) {
                        var d = this;
                        try {
                            this.Vc.bDb(g, function(h, l) {
                                d.log.trace("key status: " + l);
                                (d.context.qk || d.context.kA) && d.log.trace("Key status change", {
                                    sessionId: g.sessionId,
                                    keyId: d.ic.encode(new Uint8Array(h)),
                                    status: l
                                });
                                if (d.context.onerror) {
                                    if ("expired" ==
                                        l) d.context.onerror(f.N.i1);
                                    if ("internal-error" == l) d.context.onerror(f.N.pIa);
                                    if ("output-not-allowed" == l) d.context.onerror(f.N.pea)
                                }
                            })
                        } catch (h) {
                            this.log.error("Exception in iterating keystatuses", h)
                        }
                    };
                    c.prototype.open = function() {
                        this.log.trace("LICENSE: Creating the key session.");
                        this.Wo = this.mediaKeys.createSession();
                        this.Wo.addEventListener(c.r0, this.kTb.bind(this))
                    };
                    b.nBa = c;
                    c.r0 = "keystatuseschange";
                    c.gK = "message";
                    c.HR = "license-renewal"
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.L2a = void 0;
                    var c = a(631),
                        f = a(656),
                        k = a(665),
                        m = a(668),
                        g = a(973),
                        d = a(1006),
                        h = a(1044),
                        l = a(1047),
                        n = a(1059),
                        q = a(1069),
                        p = a(1073),
                        u = a(1075),
                        t = a(1106),
                        w = a(1108),
                        v = a(1112),
                        x = a(1128),
                        y = a(1136),
                        z = a(1142),
                        A = a(1145),
                        B = a(1152),
                        E = a(204),
                        D = a(1160),
                        F = a(1161),
                        G = a(1168),
                        C = a(1183),
                        H = a(1189),
                        L = a(1191),
                        N = a(1198),
                        J = a(1226),
                        Q = a(1247),
                        K = a(1251),
                        I = a(1255),
                        M = a(1270),
                        O = a(1273);
                    b.L2a = function(P) {
                        P.load(c.kz, h.vJ, f.$2a, l.Cn, k.I4a, m.U, g.ndb, d.m0a, n.storage, q.hM, p.SSa, u.t3a, t.ix, w.Wi, v.Z2a, x.W4a, y.lYa, z.S7a, A.AI, B.pWa, E.eme, D.crypto,
                            F.Vc, G.fe, C.Ma, H.N4a, L.K6a, N.j, J.OTa, Q.transports, K.Kl, I.Zg, M.XRa, O.pa)
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.kz = void 0;
                    r = a(0);
                    var c = a(32),
                        f = a(35),
                        k = a(49),
                        m = a(83),
                        g = a(140),
                        d = a(632),
                        h = a(633),
                        l = a(634),
                        n = a(635),
                        q = a(112),
                        p = a(111),
                        u = a(41),
                        t = a(31),
                        w = a(25),
                        v = a(99),
                        x = a(64),
                        y = a(335),
                        z = a(636),
                        A = a(336),
                        B = a(637),
                        E = a(638),
                        D = a(639),
                        F = a(198),
                        G = a(337),
                        C = a(640),
                        H = a(338),
                        L = a(113),
                        N = a(641),
                        J = a(16),
                        Q = a(339),
                        K = a(642),
                        I = a(643),
                        M = a(97),
                        O = a(644),
                        P = a(7),
                        S = a(334),
                        U = a(645),
                        Z = a(73),
                        ia = a(646),
                        ya =
                        a(340),
                        na = a(647),
                        X = a(648),
                        ra = a(114),
                        T = a(11),
                        R = a(649),
                        ca = a(342),
                        ua = a(343),
                        aa = a(650),
                        La = a(344),
                        Ua = a(13),
                        $a = a(29),
                        Za = a(123),
                        cb = a(345),
                        Wa = a(327),
                        Pa = a(651),
                        ha = a(346),
                        pa = a(347),
                        Fa = a(210),
                        Va = a(652),
                        ab = a(211),
                        wb = a(653),
                        zb = a(212),
                        Fb = a(654),
                        Lb = a(655);
                    b.kz = new r.dd(function(Db) {
                        Db(c.WR).BE(function() {
                            return {}
                        }).aa();
                        Db(c.$E).Lj(JSON);
                        Db(c.qNa).Lj(ub);
                        Db(g.kMa).Lj(Math);
                        Db(c.XFa).Lj(T.$0);
                        Db(c.Cea).Lj(T.Lv);
                        Db(c.ZMa).Lj(T.PB);
                        Db(c.ZBa).Lj(Date);
                        Db(c.tF).Lj(T.ie);
                        Db(c.mHa).Lj(T.rF);
                        Db(S.uBa).to(U.tBa).aa();
                        Db(J.bd).to(N.Eza).aa();
                        Db(f.ih).to(n.vBa).aa();
                        Db(k.Uj).to(d.rLa).aa();
                        Db(m.$x).to(h.fFa).aa();
                        Db(x.jy).to(D.HKa).aa();
                        Db(g.u1).to(l.PKa).aa();
                        Db(cb.Wda).to(Lb.aHa).aa();
                        Db(M.Dv).to(I.dCa).aa();
                        Db(M.bCa).to(O.aCa).aa();
                        Db(q.JF).to(z.$Ma).aa();
                        Db(p.ME).to(A.lca).aa();
                        Db(u.kj).to(B.kAa).aa();
                        Db(t.oh).to(E.aNa).aa();
                        Db(w.pf).Lj(F.ZE);
                        Db(ha.ZQ).to(pa.sDa).aa();
                        Db(v.Wca).to(G.Nk).Xpa();
                        Db(v.j0).to(G.Nk).aa();
                        Db(v.nCa).to(G.Nk).aa();
                        Db(v.ada).to(G.Nk).aa();
                        Db(H.iMa).to(L.UB).aa();
                        Db(Q.NBa).to(K.MBa).aa();
                        Db(Z.FF).to(ia.Cfa).aa();
                        Db(Z.LR).to(ia.Cfa).aa();
                        Db("Factory<LoggerFactory>").Dbb(P.ub);
                        Db(ya.Jca).to(na.eCa).aa();
                        Db(ra.JK).yf(function(Jb) {
                            return function(Sb) {
                                return new X.uMa(Jb.kb.get(J.bd), Jb.kb.get(k.Uj), Sb)
                            }
                        });
                        Db(ab.Gca).yf(function(Jb) {
                            return function(Sb) {
                                return new wb.$Ba(Jb.kb.get(k.Uj), Sb)
                            }
                        });
                        Db(R.$ea).K2b(ca.Zea);
                        Db(R.hlb).yf(function(Jb) {
                            var Sb = Jb.kb.get(R.$ea);
                            return function() {
                                return new Sb(!1)
                            }
                        });
                        Db(R.ilb).yf(function(Jb) {
                            var Sb = Jb.kb.get(R.$ea);
                            return function() {
                                return new Sb(!0)
                            }
                        });
                        Db(ua.XMa).yf(function() {
                            return function(Jb) {
                                return new aa.YMa(Jb)
                            }
                        });
                        Db(Za.BK).yf(function(Jb) {
                            return function(Sb, mc, Ec) {
                                return new La.WJa(Jb.kb.get(M.Dv), Jb.kb.get(Ua.cd), Jb.kb.get($a.Tj), Jb.kb.get(cb.Wda), Sb, mc, Ec)
                            }
                        });
                        Db(y.dIa).yf(function() {
                            return function(Jb) {
                                return new C.eIa(Jb)
                            }
                        });
                        Db(Wa.BAa).to(Pa.AAa);
                        Db(Fa.J1).yf(function(Jb) {
                            return function(Sb, mc) {
                                return new Va.FMa(Jb.kb.get(k.Uj), Sb, mc)
                            }
                        });
                        Db(zb.jDa).to(Fb.iDa).aa()
                    })
                },
                function(r, b, a) {
                    function c(h) {
                        this.$P = h;
                        (0, m.Zo)(this, "timers")
                    }
                
                    function f(h, l) {
                        this.$P = h;
                        this.awb = l
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.rLa = void 0;
                    r = a(1);
                    var k = a(0),
                        m = a(59),
                        g = a(32),
                        d = a(4);
                    f.prototype.cancel = function() {
                        this.awb(this.$P)
                    };
                    c.prototype.ol = function(h) {
                        return this.Fk(d.cb, h)
                    };
                    c.prototype.Fk = function(h, l) {
                        var n = this.$P.setTimeout(l, h.$(d.ja));
                        return new f(this.$P, function(q) {
                            q.clearTimeout(n)
                        })
                    };
                    c.prototype.U$ = function(h, l) {
                        var n = this.$P.setInterval(l, h.$(d.ja));
                        return new f(this.$P, function(q) {
                            q.clearInterval(n)
                        })
                    };
                    a = c;
                    a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(g.qNa))], a);
                    b.rLa = a
                },
                function(r, b, a) {
                    function c(h,
                        l) {
                        this.Ba = h;
                        this.random = l
                    }
                    var f;
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.fFa = void 0;
                    r = a(1);
                    var k = a(0),
                        m = a(4),
                        g = a(35);
                    a = a(140);
                    c.prototype.nz = function() {
                        return this.Ba.Ie.$(m.Zl) * f.RAa + Math.floor(this.random.random() * f.RAa)
                    };
                    var d = f = c;
                    d.RAa = 1E8;
                    d = f = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(g.ih)), r.__param(1, (0, k.l)(a.u1))], d);
                    b.fFa = d
                },
                function(r, b, a) {
                    function c(m) {
                        this.$1b = m
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.PKa = void 0;
                    r = a(1);
                    var f = a(0);
                    a = a(140);
                    c.prototype.random = function() {
                        return this.$1b.random()
                    };
                    c.prototype.a8a = function(m, g) {
                        if ("number" !== typeof m) g = m.end, m = m.start;
                        else if ("undefined" === typeof g) throw Error("max must be provided for randomInteger API");
                        return Math.round(m + this.random() * (g - m))
                    };
                    var k = c;
                    k = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.kMa))], k);
                    b.PKa = k
                },
                function(r, b, a) {
                    function c(n, q, p, u) {
                        var t = this;
                        this.config = n;
                        this.fBb = q;
                        this.Zb = p;
                        this.performance = u;
                        this.HTb = function(w) {
                            t.X9a = w.Ja(t.Ie)
                        };
                        (0, f.Zo)(this, "date");
                        (0, f.Zo)(this, "performance");
                        this.ltb = void 0 !== this.performance &&
                            void 0 !== this.performance.timing && void 0 !== this.performance.now;
                        this.X9a = k.cb;
                        this.Zb.addListener(l.wda.$9a, this.HTb)
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.vBa = void 0;
                    r = a(1);
                    var f = a(59),
                        k = a(4),
                        m = a(0),
                        g = a(32),
                        d = a(334),
                        h = a(99),
                        l = a(15);
                    Ya.Object.defineProperties(c.prototype, {
                        Ie: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.L4a ? (0, k.timestamp)(this.performance.timing.navigationStart + this.performance.now()) : (0, k.Nc)(this.fBb.now())
                            }
                        },
                        eZ: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ie.add(this.X9a)
                            }
                        },
                        L4a: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.config.Vcb && this.ltb
                            }
                        }
                    });
                    a = c;
                    a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(d.uBa)), r.__param(1, (0, m.l)(g.ZBa)), r.__param(2, (0, m.l)(h.ada)), r.__param(3, (0, m.l)(g.Cea)), r.__param(3, (0, m.optional)())], a);
                    b.vBa = a
                },
                function(r, b, a) {
                    function c() {}
                    var f;
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.$Ma = void 0;
                    r = a(1);
                    a = a(0);
                    c.prototype.encode = function(m) {
                        return f.xma(m)
                    };
                    c.prototype.decode = function(m) {
                        return f.Hla(m)
                    };
                    c.xma = function(m) {
                        if (!m) throw new TypeError("Invalid byte array");
                        for (var g = 0, d, h = m.length, l = ""; g < h;) {
                            d = m[g++];
                            if (!(0 <= d && 255 >= d)) throw Error("bad utf8");
                            if (d & 128)
                                if (192 === (d & 224)) d = ((d & 31) << 6) + (m[g++] & 63);
                                else if (224 === (d & 240)) d = ((d & 15) << 12) + ((m[g++] & 63) << 6) + (m[g++] & 63);
                            else throw Error("unsupported utf8 character");
                            l += String.fromCharCode(d)
                        }
                        return l
                    };
                    c.Hla = function(m) {
                        var g = m.length,
                            d = 0,
                            h, l = 0;
                        if (!(0 <= g)) throw Error("bad string");
                        for (h = g; h--;) {
                            var n = m.charCodeAt(h);
                            128 > n ? d++ : d = 2048 > n ? d + 2 : d + 3
                        }
                        d = new Uint8Array(d);
                        for (h = 0; h < g; h++) n = m.charCodeAt(h), 128 > n ? d[l++] = n :
                            (2048 > n ? d[l++] = 192 | n >>> 6 : (d[l++] = 224 | n >>> 12, d[l++] = 128 | n >>> 6 & 63), d[l++] = 128 | n & 63);
                        return d
                    };
                    var k = f = c;
                    k = f = r.__decorate([(0, a.R)()], k);
                    b.$Ma = k
                },
                function(r, b, a) {
                    function c() {}
                    var f;
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.kAa = void 0;
                    r = a(1);
                    a = a(0);
                    var k = Array.prototype.slice,
                        m = k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");
                    k = k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");
                    var g = {},
                        d = {},
                        h = {},
                        l = {},
                        n = /\s+/g;
                    [m, k].forEach(function(q) {
                        for (var p =
                                q.length; p--;) {
                            var u = q[p];
                            g[u] = p << 18;
                            d[u] = p << 12;
                            h[u] = p << 6;
                            l[u] = p
                        }
                    });
                    c.prototype.encode = function(q) {
                        return f.xma(q, m, "=")
                    };
                    c.prototype.decode = function(q) {
                        return f.Hla(q)
                    };
                    c.Hla = function(q) {
                        q = q.replace(n, "");
                        var p = q.length,
                            u = q.charAt(p - 1);
                        "=" !== u && "." !== u || p--;
                        u = q.charAt(p - 1);
                        "=" !== u && "." !== u || p--;
                        u = 3 * (p >> 2);
                        var t = 0;
                        switch (p % 4) {
                            case 2:
                                t = 1;
                                break;
                            case 3:
                                t = 2;
                                break;
                            case 1:
                                throw Error("bad base64");
                        }
                        p = new Uint8Array(u + t);
                        for (var w = 0, v = 0, x; v < u;) {
                            x = g[q[w++]] + d[q[w++]] + h[q[w++]] + l[q[w++]];
                            if (!(0 <= x && 16777215 >=
                                    x)) throw Error("bad base64");
                            p[v++] = x >>> 16;
                            p[v++] = x >>> 8 & 255;
                            p[v++] = x & 255
                        }
                        if (0 < t && (x = g[q[w++]] + d[q[w++]], p[v++] = x >>> 16, 1 < t && (x += h[q[w++]], p[v++] = x >>> 8 & 255), !(0 <= x && 16776960 >= x && 0 === (x & (1 < t ? 255 : 65535))))) throw Error("bad base64");
                        return p
                    };
                    c.xma = function(q, p, u) {
                        for (var t = "", w = 0, v = q.length, x = v - 2, y; w < x;) {
                            y = (q[w++] << 16) + (q[w++] << 8) + q[w++];
                            if (!(0 <= y && 16777215 >= y)) throw Error("not bytes");
                            t += p[y >>> 18] + p[y >>> 12 & 63] + p[y >>> 6 & 63] + p[y & 63]
                        }
                        if (w == x) {
                            y = (q[w++] << 8) + q[w++];
                            if (!(0 <= y && 65535 >= y)) throw Error("not bytes");
                            t += p[y >>> 10] + p[y >>> 4 & 63] + p[y << 2 & 63] + u
                        } else if (w == v - 1) {
                            y = q[w++];
                            if (!(0 <= y && 255 >= y)) throw Error("not bytes");
                            t += p[y >>> 2] + p[y << 4 & 63] + u + u
                        }
                        return t
                    };
                    k = f = c;
                    k = f = r.__decorate([(0, a.R)()], k);
                    b.kAa = k
                },
                function(r, b, a) {
                    function c(d, h) {
                        this.is = d;
                        this.tj = h
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.aNa = void 0;
                    r = a(1);
                    var f = a(0);
                    a(3);
                    var k = a(25),
                        m = a(111),
                        g = a(11);
                    c.prototype.mO = function(d, h, l) {
                        var n = this;
                        if (h)
                            if (l) {
                                var q = l.bO,
                                    p = l.prefix,
                                    u = l.JA;
                                this.aD(h, function(t, w) {
                                    if (!u || n.is.Vi(w)) d[(p || "") + (q ? t.toLowerCase() :
                                        t)] = w
                                })
                            } else this.aD(h, function(t, w) {
                                d[t] = w
                            });
                        return d
                    };
                    c.prototype.aD = function(d, h) {
                        for (var l in d) d.hasOwnProperty(l) && h(l, d[l])
                    };
                    c.prototype.MC = function(d, h) {
                        if (d.length == h.length) {
                            for (var l = d.length; l--;)
                                if (d[l] != h[l]) return !1;
                            return !0
                        }
                        return !1
                    };
                    c.prototype.jUa = function(d, h) {
                        if (d.length != h.length) return !1;
                        d.sort();
                        h.sort();
                        for (var l = d.length; l--;)
                            if (d[l] !== h[l]) return !1;
                        return !0
                    };
                    c.prototype.$d = function(d) {
                        if (d) {
                            var h = d.stack,
                                l = d.number,
                                n = d.message;
                            n || (n = "" + d);
                            h ? (d = "" + h, 0 !== d.indexOf(n) && (d = n +
                                "\n" + d)) : d = n;
                            l && (d += "\nnumber:" + l);
                            return d
                        }
                    };
                    c.prototype.bDb = function(d, h) {
                        var l;
                        d = d.target.keyStatuses.entries();
                        for (l = d.next(); !l.done;) {
                            var n = l.value[0];
                            l = l.value[1];
                            h && h(n, l);
                            l = d.next()
                        }
                    };
                    c.prototype.getFunctionName = function(d) {
                        return (d = /function (.{1,})\(/.exec(d.toString())) && 1 < d.length ? d[1] : ""
                    };
                    c.prototype.Vna = function(d) {
                        return this.getFunctionName(d.constructor)
                    };
                    c.prototype.ota = function(d) {
                        var h = this,
                            l = "";
                        this.is.Vy(d) || this.is.sRa(d) ? l = Array.prototype.reduce.call(d, function(n, q) {
                            return n +
                                (32 <= q && 128 > q ? String.fromCharCode(q) : ".")
                        }, "") : this.is.tn(d) ? l = d : this.aD(d, function(n, q) {
                            l += (l ? ", " : "") + "{" + n + ": " + (h.is.r3(q) ? h.getFunctionName(q) || "function" : q) + "}"
                        });
                        return "[" + this.Vna(d) + " " + l + "]"
                    };
                    c.prototype.createElement = function(d, h, l, n) {
                        var q = g.Be.createElement(d);
                        h && (q.style.cssText = h);
                        l && (q.innerHTML = l);
                        n && this.aD(n, function(p, u) {
                            q.setAttribute(p, u)
                        });
                        return q
                    };
                    c.prototype.XEb = function(d, h) {
                        return function(l) {
                            return l[d] === h
                        }
                    };
                    c.prototype.YX = function(d) {
                        var h = {};
                        (d || "").split("&").forEach(function(l) {
                            l =
                                l.trim();
                            var n = l.indexOf("=");
                            if (0 <= n) {
                                var q = decodeURIComponent(l.substr(0, n)).toLowerCase();
                                h[q] = decodeURIComponent(l.substr(n + 1))
                            } else h[l.toLowerCase()] = void 0
                        });
                        return h
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.pf)), r.__param(1, (0, f.l)(m.ME))], a);
                    b.aNa = a
                },
                function(r, b, a) {
                    function c(g) {
                        this.Oc = g
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.HKa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(49),
                        m = a(64);
                    c.prototype.Pq = function(g, d) {
                        var h = this;
                        return new Promise(function(l, n) {
                            var q = h.Oc.Fk(g, function() {
                                n(new m.xr(g))
                            });
                            d.then(function(p) {
                                l(p);
                                q.cancel()
                            }).catch(function(p) {
                                n(p);
                                q.cancel()
                            })
                        })
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.Uj))], a);
                    b.HKa = a
                },
                function(r, b, a) {
                    function c(k) {
                        this.rGb = k;
                        this.S6 = !1;
                        this.i7 = this.eg = this.WP = 0;
                        this.vW = !1;
                        this.j7 = 0
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.eIa = void 0;
                    var f = a(18);
                    c.prototype.xsb = function(k) {
                        k < this.WP && (this.eg += this.WP);
                        this.WP = k;
                        this.S6 = !0
                    };
                    c.prototype.dHb = function() {
                        if (this.S6) return this.vW ? this.j7 - this.i7 : this.eg + this.WP - this.i7
                    };
                    c.prototype.refresh =
                        function() {
                            var k = this.rGb();
                            (0, f.Ea)(k) && this.xsb(k)
                        };
                    c.prototype.M0b = function() {
                        this.vW || (this.S6 && (this.j7 = this.eg + this.WP), this.vW = !0)
                    };
                    c.prototype.Z0b = function() {
                        this.vW && (this.S6 && (this.i7 += this.eg + this.WP - this.j7), this.j7 = 0, this.vW = !1)
                    };
                    b.eIa = c
                },
                function(r, b, a) {
                    function c(d, h) {
                        this.Ba = d;
                        this.a6 = this.Ba.Ie.$(m.ja) - 1;
                        this.iPb = this.a8 = 0;
                        this.id = "" + h.nz()
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Eza = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(35),
                        m = a(4);
                    a = a(83);
                    c.prototype.Rb = function() {
                        var d = this.Ba.Ie.$(m.ja) -
                            this.a6;
                        if (d < this.a8) {
                            var h = this.a8 + 1;
                            this.a6 -= h - d;
                            d = h
                        }
                        this.a8 = d;
                        return (0, m.Nc)(this.a8)
                    };
                    c.prototype.kIb = function() {
                        return this.iPb++
                    };
                    Ya.Object.defineProperties(c.prototype, {
                        oA: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return (0, m.Nc)(this.a6)
                            }
                        }
                    });
                    var g = c;
                    g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ih)), r.__param(1, (0, f.l)(a.$x))], g);
                    b.Eza = g
                },
                function(r, b, a) {
                    function c(d, h) {
                        this.is = d;
                        this.Vc = h
                    }
                    var f;
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.MBa = void 0;
                    r = a(1);
                    var k = a(0),
                        m = a(25);
                    a =
                        a(31);
                    c.prototype.encode = function(d) {
                        var h = this,
                            l = "";
                        this.Vc.aD(d, function(n, q) {
                            n = h.OWa(n) + "=" + h.OWa(q);
                            l = l ? l + ("," + n) : n
                        });
                        return l
                    };
                    c.prototype.OWa = function(d) {
                        return this.is.SC(d) ? this.is.li(d) ? "" + d : this.is.tn(d) ? (d = d.replace(f.xva, this.$ra.bind(this)), !f.WWb.test(d) && f.IRb.test(d) && (d = '"' + d + '"'), d) : this.is.wT(d) ? "" + d : this.is.jia(d) ? "NaN" : "" : ""
                    };
                    c.prototype.$ra = function(d) {
                        return f.map[d]
                    };
                    var g = f = c;
                    g.map = {
                        '"': '""',
                        "\r": "",
                        "\n": " "
                    };
                    g.xva = /(?!^.+)["\r\n](?=.+$)/g;
                    g.WWb = /["].*["]/g;
                    g.IRb = /[", ]/;
                    g = f = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(m.pf)), r.__param(1, (0, k.l)(a.oh))], g);
                    b.MBa = g
                },
                function(r, b, a) {
                    function c(d, h, l) {
                        this.config = d;
                        this.hb = h;
                        this.wa = l.lb("General")
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.dCa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(25),
                        m = a(97);
                    a = a(7);
                    c.prototype.assert = function() {};
                    c.prototype.Etb = function(d, h) {
                        this.assert(this.hb.SC(d), h)
                    };
                    c.prototype.Ftb = function(d, h) {
                        this.assert(this.hb.Vi(d), h)
                    };
                    c.prototype.G3 = function(d, h) {
                        this.assert(this.hb.tn(d), h)
                    };
                    c.prototype.Ltb =
                        function(d, h) {
                            this.assert(this.hb.un(d), h)
                        };
                    c.prototype.Jtb = function(d, h) {
                        this.assert(this.hb.tn(d) || null === d || void 0 === d, h)
                    };
                    c.prototype.dja = function(d, h) {
                        this.assert(this.hb.li(d), h)
                    };
                    c.prototype.Htb = function(d, h) {
                        this.assert(this.hb.Pia(d), h)
                    };
                    c.prototype.Ktb = function(d, h) {
                        this.assert(this.hb.FT(d), h)
                    };
                    c.prototype.Itb = function(d, h) {
                        this.assert(this.hb.xT(d), h)
                    };
                    c.prototype.Dtb = function(d, h) {
                        this.assert(this.hb.wT(d), h)
                    };
                    c.prototype.Gtb = function(d, h) {
                        this.assert(this.hb.r3(d), h)
                    };
                    c.prototype.sMb =
                        function() {
                            this.assert(!1, "invalid operation, this method should not be called")
                        };
                    var g = c;
                    g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.bCa)), r.__param(1, (0, f.l)(k.pf)), r.__param(2, (0, f.l)(a.ub))], g);
                    b.dCa = g
                },
                function(r, b, a) {
                    function c(d) {
                        d = k.FQ.call(this, d, "DebugConfigImpl") || this;
                        d.zbc = function() {
                            debugger
                        };
                        return d
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.aCa = void 0;
                    r = a(1);
                    var f = a(42),
                        k = a(48),
                        m = a(0);
                    a = a(33);
                    qa(c, k.FQ);
                    Ya.Object.defineProperties(c.prototype, {
                        $ub: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        }
                    });
                    var g = c;
                    r.__decorate([f.config(f.Rc, "breakOnError")], g.prototype, "$ub", null);
                    g = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(a.yca))], g);
                    b.aCa = g
                },
                function(r, b, a) {
                    function c(d) {
                        return k.FQ.call(this, d, "ClockConfigImpl") || this
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.tBa = void 0;
                    r = a(1);
                    var f = a(42),
                        k = a(48),
                        m = a(0);
                    a = a(33);
                    qa(c, k.FQ);
                    Ya.Object.defineProperties(c.prototype, {
                        Vcb: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !1
                            }
                        }
                    });
                    var g = c;
                    r.__decorate([f.config(f.Rc,
                        "usePerformanceApi")], g.prototype, "Vcb", null);
                    g = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(a.yca))], g);
                    b.tBa = g
                },
                function(r, b, a) {
                    function c(d, h) {
                        this.ya = d;
                        this.entries = new Set;
                        this.wa = h.lb("TimingApi")
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Cfa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(16),
                        m = a(4);
                    a = a(7);
                    c.prototype.mark = function(d, h, l) {
                        d = {
                            name: d,
                            Qs: this.ya.Rb()
                        };
                        h && (d.da = h);
                        l && (d.Jg = l);
                        this.entries.add(d);
                        return d
                    };
                    c.prototype.roa = function() {
                        var d = [];
                        this.entries.forEach(function(h) {
                            return d.push(h)
                        });
                        return d
                    };
                    c.prototype.CZa = function(d) {
                        return this.roa().filter(function(h) {
                            return h.da === d
                        })
                    };
                    c.prototype.zZa = function() {
                        var d = {};
                        try {
                            console.log('this.roa()', JSON.stringify(this.roa()));
                            d = this.roa().filter(function(h) {
                                return !h.da
                            }).reduce(function(h, l) {
                                h[l.name] = l.Qs.$(m.ja);
                                return h
                            }, {})
                        } catch (h) {
                            this.wa.error(" getMapOfCommonMarks exception", h)
                        }
                        return d
                    };
                    c.prototype.H8a = function(d) {
                        var h = this;
                        this.roa().forEach(function(l) {
                            l.da === d && h.entries.delete(l)
                        })
                    };
                    var g = c;
                    g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.bd)), r.__param(1, (0, f.l)(a.ub))], g);
                    b.Cfa = g
                },
                function(r, b, a) {
                    function c(p, u) {
                        this.ya = p;
                        this.config = u
                    }
                    var f;
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.eCa = void 0;
                    r = a(1);
                    var k = a(0),
                        m = a(16),
                        g = a(40),
                        d = a(3),
                        h = a(15),
                        l = a(4),
                        n = a(11);
                    a = a(341);
                    c.prototype.LVa = function(p) {
                        var u = this,
                            t, w, v = p.mediaTime.value,
                            x = p.Kr.value,
                            y = p.sb.value,
                            z = p.state.value,
                            A = {
                                segmentId: p.Hoa(),
                                mediaTime: v,
                                segmentTime: p.kD(),
                                bufferingState: f.fvb[x],
                                presentingState: f.iWb[y],
                                playbackState: f.iVb[z],
                                mseBuffersBusy: this.uJb(p),
                                intBuffersBusy: this.WHb(p),
                                tabVisible: this.a2b(),
                                decodedFrameCount: this.yBb(p),
                                videoElementInDom: this.i5b(p),
                                lastVideoSync: this.ya.Rb().Ja((0, l.Nc)(p.EZ)).$(l.ja)
                            },
                            B = y === h.Xa.Pe ? p.fb.vj ? this.config.Z5a : this.config.Y5a : this.config.F4a;
                        if (x !== h.Bf.je) {
                            if (x = d.M.Yfb, this.BSa(A.mseBuffersBusy, A.intBuffersBusy)) var E = f.hAa
                        } else y !== h.Xa.Kc ? x = d.M.$fb : (x = d.M.Zfb, (y = p.Kf) && 0 === y.o6() && (E = f.umb)), (y = p.Kf) && y.Tb.sourceBuffers.forEach(function(D) {
                            var F = f.Dd[D.mediaType];
                            A[F + "Ranges"] = D.j6();
                            try {
                                var G = D.buffered()
                            } catch (C) {
                                G = void 0
                            }
                            G && 0 !== G.length ? (D = 1E3 * G.end(0) -
                                v, A[F + "Undecoded"] = D, 1 < G.length && (E = f.Keb), v < 1E3 * G.start(0) || v > 1E3 * G.end(0) ? E = f.Leb : D < B.$(l.ja) ? E = f.Meb : u.BSa(A.mseBuffersBusy, A.intBuffersBusy) && (E = f.hAa)) : (A[F + "Undecoded"] = 0, E = f.Jeb)
                        });
                        y = p.S8a.r_a();
                        z = v === (null === (t = y.repositionTrace) || void 0 === t ? void 0 : t[0].newMediaTime);
                        A.lastRepositionCausedTimeout = z;
                        A.trackChangeInProgress = null === (w = p.Ma) || void 0 === w ? void 0 : w.EJ;
                        Object.assign(A, y);
                        p = "";
                        try {
                            p = JSON.stringify(A)
                        } catch (D) {
                            p = "Cannot stringify details: " + D
                        }
                        return new g.Wc(d.N.oIa, x, E, void 0, void 0,
                            void 0, p, void 0)
                    };
                    c.prototype.uJb = function(p) {
                        if (p.Tb) {
                            var u = {};
                            p.Tb.sourceBuffers.forEach(function(t) {
                                u[0 === t.type ? "audio" : "video"] = {
                                    updating: t.updating()
                                }
                            });
                            return u
                        }
                    };
                    c.prototype.WHb = function(p) {
                        if (p.Tb) {
                            var u = {};
                            p.Tb.sourceBuffers.forEach(function(t) {
                                u[0 === t.type ? "audio" : "video"] = {
                                    updating: t.Nh()
                                }
                            });
                            return u
                        }
                    };
                    c.prototype.a2b = function() {
                        return !n.Be.hidden
                    };
                    c.prototype.yBb = function(p) {
                        return (p = p.Kf) && (p = p.Tb.ba) && void 0 !== p.webkitDecodedFrameCount ? p.webkitDecodedFrameCount : NaN
                    };
                    c.prototype.i5b =
                        function(p) {
                            if (p = p.Kf)
                                if (p = p.Tb.ba) return n.Be.body.contains(p);
                            return !1
                        };
                    c.prototype.BSa = function(p, u) {
                        var t, w, v, x;
                        return !((null === (t = p.audio) || void 0 === t ? void 0 : t.updating) === (null === (w = u.audio) || void 0 === w ? void 0 : w.updating) && (null === (v = p.video) || void 0 === v ? void 0 : v.updating) === (null === (x = u.video) || void 0 === x ? void 0 : x.updating))
                    };
                    var q = f = c;
                    q.Jeb = "1";
                    q.Keb = "2";
                    q.Leb = "3";
                    q.hAa = "4";
                    q.Meb = "5";
                    q.umb = "6";
                    q.Dd = ["Audio", "Video"];
                    q.fvb = ["", "NORMAL", "BUFFERING", "STALLED"];
                    q.iWb = ["", "WAITING", "PLAYING ",
                        "PAUSED", "ENDED"
                    ];
                    q.iVb = ["STATE_NOTLOADED", "STATE_LOADING", "STATE_NORMAL", "STATE_CLOSING", "STATE_CLOSED"];
                    q = f = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(m.bd)), r.__param(1, (0, k.l)(a.bea))], q);
                    b.eCa = q
                },
                function(r, b, a) {
                    function c(d, h, l) {
                        var n = this;
                        this.kg = d;
                        this.Oc = h;
                        this.z4 = l;
                        this.DO = function(q) {
                            n.Gj = void 0;
                            n.t3b(q || n.z4)
                        };
                        this.p2a = (0, m.Nc)(-this.z4.$(m.ja))
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.uMa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(16),
                        m = a(4);
                    a = a(49);
                    c.prototype.ol = function(d) {
                        this.pwa = d;
                        this.Gj = this.Gj || this.Tc(this.DO)
                    };
                    c.prototype.Lh = function() {
                        this.Gj && this.Gj.cancel();
                        this.Gj = void 0
                    };
                    c.prototype.t3b = function(d) {
                        var h = this.kg.Rb();
                        if (this.pwa) {
                            var l = d.Ja(h.Ja(this.p2a));
                            0 >= l.El(m.cb) ? (d = this.pwa, this.pwa = void 0, this.p2a = h, d()) : this.Gj = this.Gj || this.Oc.Fk(l, this.DO.bind(this, d))
                        }
                    };
                    c.prototype.Tc = function(d) {
                        return this.Oc.Fk(m.cb, d)
                    };
                    var g = c;
                    g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.bd)), r.__param(1, (0, f.l)(a.Uj))], g);
                    b.uMa = g
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.$ea = "PrioritizedSetOfListsSymbol";
                    b.hlb = "PrioritizedSetOfListsFactorySymbol";
                    b.ilb = "PrioritizedSetOfSetsFactorySymbol"
                },
                function(r, b) {
                    function a() {
                        this.searchParams = {}
                    }
                
                    function c(f) {
                        this.Bl = f;
                        this.searchParams = new a
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.YMa = void 0;
                    c.prototype.toString = function() {
                        return this.href
                    };
                    Ya.Object.defineProperties(c.prototype, {
                        href: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return "" + this.Bl + this.searchParams.toString()
                            }
                        }
                    });
                    b.YMa = c;
                    a.prototype.get =
                        function(f) {
                            return this.searchParams[f]
                        };
                    a.prototype.set = function(f, k) {
                        this.searchParams[f] = k
                    };
                    a.prototype.toString = function() {
                        return Object.entries(this.searchParams).reduce(function(f, k, m) {
                            var g = da(k);
                            k = g.next().value;
                            g = g.next().value;
                            return "" + f + (0 == m ? "?" : "&") + k + "=" + g
                        }, "")
                    }
                },
                function(r, b, a) {
                    function c(d, h) {
                        this.ik = this.AEb(d, h.data.browserInfo)
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.eNa = b.AAa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(13),
                        m = a(33);
                    a = a(32);
                    c.prototype.A7 = function(d) {
                        return this.ik.name ===
                            d
                    };
                    c.prototype.AEb = function(d, h) {
                        return Object.assign(Object.assign({
                            Dcc: this.CEb(d, h)
                        }, this.zEb(d, h)), {
                            nec: this.DEb(d, h)
                        })
                    };
                    c.prototype.CEb = function(d, h) {
                        return h && h.hardware ? h.hardware : /Mobile|iPhone/.test(d) ? k.mda.phone : /Android/.test(d) ? k.mda.b2b : k.mda.Hxb
                    };
                    c.prototype.zEb = function(d, h) {
                        return h && h.name && h.version ? {
                            name: h.name,
                            version: h.version
                        } : /OPR/.test(d) ? {
                            name: k.gr.opera,
                            version: ""
                        } : /Tesla/.test(d) ? {
                            name: k.gr.m2b,
                            version: ""
                        } : (h = d.match(/Edge\/(\d*)\./)) ? {
                            name: k.gr.En,
                            version: h[1]
                        } : (h = d.match(/Edg\/(\d*)\./)) ? {
                            name: k.gr.qWa,
                            version: h[1]
                        } : (h = d.match(/Chrome\/(\d*)\./)) ? {
                            name: k.gr.tka,
                            version: h[1]
                        } : (h = d.match(/Firefox\/(\d*)\./)) ? {
                            name: k.gr.QXa,
                            version: h[1]
                        } : (d = d.match(/(\d*)\.(\d*)\.?(\d*)? Safari/)) ? {
                            name: k.gr.C9a,
                            version: d[1]
                        } : {
                            name: k.gr.tka,
                            version: ""
                        }
                    };
                    c.prototype.DEb = function(d, h) {
                        return h && h.os && h.os.name && h.os.version ? {
                            name: h.os.name,
                            version: h.os.version
                        } : /CrOS/.test(d) ? {
                            name: k.yF.Owb,
                            version: ""
                        } : (h = d.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/)) ? {
                            name: k.yF.tPb,
                            version: h[1] + "." + h[2] + "." + h[3]
                        } : /Windows NT/.test(d) ? {
                            name: k.yF.Ddb,
                            version: ""
                        } : /Android.*Chrome\/[.0-9]* Mobile/.test(d) || /Android.*Chrome\/[.0-9]* /.test(d) ? {
                            name: k.yF.uRa,
                            version: ""
                        } : /Linux/.test(d) ? {
                            name: k.yF.uOb,
                            version: ""
                        } : /iPhone/.test(d) ? {
                            name: k.yF.uMb,
                            version: ""
                        } : {
                            name: k.yF.Ddb,
                            version: ""
                        }
                    };
                    Ya.Object.defineProperties(c.prototype, {
                        HMb: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.A7(k.gr.tka)
                            }
                        },
                        MMb: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.A7(k.gr.qWa)
                            }
                        },
                        RMb: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.A7(k.gr.QXa)
                            }
                        },
                        nNb: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.A7(k.gr.C9a)
                            }
                        }
                    });
                    var g = c;
                    g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.ZMa)), r.__param(1, (0, f.l)(m.wR))], g);
                    b.AAa = g;
                    (function(d) {
                        d[d.vPb = 0] = "major";
                        d[d.rRb = 1] = "minor";
                        d[d.AUb = 2] = "patch";
                        d[d.ewa = 3] = "revision"
                    })(b.eNa || (b.eNa = {}))
                },
                function(r, b, a) {
                    function c(g, d, h) {
                        this.Oc = g;
                        this.E2b = d;
                        this.xH = h
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.FMa = void 0;
                    r = a(1);
                    var f = a(49),
                        k = a(0),
                        m = a(4);
                    c.prototype.fH = function() {
                        this.Gj || (this.Gj = this.Oc.Fk((0,
                            m.Nc)(this.E2b), this.xH))
                    };
                    c.prototype.Os = function() {
                        this.Gj && this.Gj.cancel();
                        this.Gj = void 0
                    };
                    a = c;
                    a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(f.Uj))], a);
                    b.FMa = a
                },
                function(r, b, a) {
                    function c(m, g) {
                        this.Oc = m;
                        this.z4 = g
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.$Ba = void 0;
                    r = a(1);
                    var f = a(0);
                    a = a(49);
                    c.prototype.ol = function(m) {
                        this.Lh();
                        this.Gj = this.Oc.Fk(this.z4, m)
                    };
                    c.prototype.Lh = function() {
                        this.Gj && this.Gj.cancel();
                        this.Gj = void 0
                    };
                    var k = c;
                    k = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.Uj))],
                        k);
                    b.$Ba = k
                },
                function(r, b, a) {
                    function c() {}
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.iDa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(212);
                    c.prototype.ZM = function(m, g) {
                        var d = this;
                        m && Object.entries(g).forEach(function(h) {
                            var l = da(h);
                            h = l.next().value;
                            l = l.next().value;
                            if (d.JMb(l)) {
                                var n = da(l);
                                l = n.next().value;
                                var q = n.next().value;
                                n = m[l];
                                Array.isArray(n) ? (d.Sla(m, h, l), n.forEach(function(p) {
                                    d.ZM(p, q)
                                })) : l === k.hn ? Object.values(m).forEach(function(p) {
                                    d.ZM(p, q)
                                }) : (d.Sla(m, h, l), "object" === typeof n && d.ZM(n, q))
                            } else d.Sla(m,
                                h, l)
                        })
                    };
                    c.prototype.JMb = function(m) {
                        return Array.isArray(m)
                    };
                    c.prototype.Sla = function(m, g, d) {
                        m.hasOwnProperty(g) || g === d || Object.defineProperty(m, g, {
                            get: function() {
                                return m[d]
                            },
                            set: function(h) {
                                return m[d] = h
                            },
                            enumerable: !0
                        })
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)()], a);
                    b.iDa = a
                },
                function(r, b, a) {
                    function c(g) {
                        this.config = g
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.aHa = void 0;
                    r = a(1);
                    var f = a(13),
                        k = a(12);
                    a = a(0);
                    c.prototype.ru = function() {
                        return this.IMb() ? k.DCa : /widevine/i.test(this.config().Xo) ? k.Nca : /fps/i.test(this.config().Xo) ?
                            "fairplay" : k.o0
                    };
                    c.prototype.IMb = function() {
                        return /clearkey/i.test(this.config().Xo)
                    };
                    var m = c;
                    m = r.__decorate([(0, a.R)(), r.__param(0, (0, a.l)(f.cd))], m);
                    b.aHa = m
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.$2a = void 0;
                    var c = a(657),
                        f = a(658);
                    r = a(0);
                    var k = a(115),
                        m = a(7),
                        g = a(663);
                    b.$2a = new r.dd(function(d) {
                        d(m.ub).to(f.oGa).aa();
                        d(k.tK).to(c.pGa).aa();
                        d(m.Ida).to(g.dGa).aa()
                    })
                },
                function(r, b, a) {
                    function c() {
                        this.bab = {};
                        this.co = []
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.pGa =
                        void 0;
                    r = a(1);
                    a = a(0);
                    c.prototype.C$ = function(k, m) {
                        m && (this.bab[k] = m, this.co = Object.values(this.bab))
                    };
                    var f = c;
                    f = r.__decorate([(0, a.R)()], f);
                    b.pGa = f
                },
                function(r, b, a) {
                    function c(n, q, p) {
                        this.ya = n;
                        this.co = q;
                        this.Era = p
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.oGa = void 0;
                    r = a(1);
                    var f = a(213),
                        k = a(0),
                        m = a(660),
                        g = a(16),
                        d = a(115),
                        h = a(7),
                        l = a(661);
                    c.prototype.lb = function(n, q, p, u, t) {
                        p = void 0 === p ? this.co : p;
                        return q ? new m.MJa(this.ya, this.Era, p, q, n) : t ? new l.Nza(this.ya, this.Era, p, n, u || "", t) : new f.sK(this.ya,
                            this.Era, p, n)
                    };
                    a = c;
                    a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(g.bd)), r.__param(1, (0, k.l)(d.tK)), r.__param(2, (0, k.l)(h.Ida))], a);
                    b.oGa = a
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.MSa = void 0;
                    b.MSa = function(a, c) {
                        a = a.iIb();
                        for (var f = 0; f < c.length; ++f) {
                            var k = c[f];
                            void 0 != k && null != k && (k.Th && (k = k.Th), k.constructor === Uint8Array ? a.Jsb(k) : "MediaRequest" === k.constructor.name ? a.usb(k) : "string" === typeof k ? a.Hsb(k) : "function" === typeof k ? a.osb(k) : k instanceof Error ? a.lsb(k) : k instanceof Object ? a.wsb(k) : a.Ksb(k))
                        }
                        return a.ri()
                    }
                },
                function(r, b, a) {
                    function c(g, d, h, l, n) {
                        g = m.sK.call(this, g, d, h, n) || this;
                        g.j = l;
                        (0, f.Zo)(g, "playback");
                        return g
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.MJa = void 0;
                    var f = a(59),
                        k = a(348),
                        m = a(213);
                    qa(c, m.sK);
                    c.prototype.jla = function(g) {
                        return new c(this.ya, this.b4, this.co, this.j, g)
                    };
                    c.prototype.wC = function(g, d, h) {
                        g = new k.Hda(g, this.Go, this.ya.Rb(), d, h, this.j.index);
                        d = da(this.co.co);
                        for (h = d.next(); !h.done; h = d.next()) h = h.value, h(g, this.j)
                    };
                    b.MJa = c
                },
                function(r,
                    b, a) {
                    function c(m, g, d, h, l, n) {
                        m = f.sK.call(this, m, g, d, h) || this;
                        m.groups = l;
                        Array.isArray(n) ? m.prefix = n : n && "string" === typeof n && (m.prefix = [], m.prefix.push(n));
                        return m
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Nza = void 0;
                    var f = a(213),
                        k = a(662);
                    qa(c, f.sK);
                    c.prototype.wC = function(m, g, d) {
                        m = new k.Mza(m, this.Go, this.ya.Rb(), g, d, this.prefix);
                        g = da(this.co.co);
                        for (d = g.next(); !d.done; d = g.next()) d = d.value, d(m)
                    };
                    c.prototype.jla = function(m) {
                        return new c(this.ya, this.b4, this.co, m, this.groups, this.prefix)
                    };
                    b.Nza = c
                },
                function(r, b, a) {
                    function c(m, g, d, h, l, n, q) {
                        this.level = m;
                        this.Go = g;
                        this.timestamp = d;
                        this.message = h;
                        this.kc = l;
                        this.prefix = n;
                        this.index = void 0 === q ? 0 : q
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Mza = void 0;
                    var f = a(4),
                        k = {
                            0: "F",
                            1: "E",
                            2: "W",
                            3: "I",
                            4: "T",
                            5: "D"
                        };
                    c.prototype.Qaa = function(m, g) {
                        m = (this.prefix.length ? "" + this.prefix.join(" ") + " " : "") + this.message + (g ? "" : " " + this.u1b(!!m));
                        return (this.timestamp.$(f.ja) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Go + "| " +
                            m
                    };
                    c.prototype.u1b = function(m) {
                        for (var g = this.kc.length, d = "", h = 0; h < g; ++h) {
                            var l = this.kc[h].gv;
                            h && d.length && (d += " ");
                            if ("object" === typeof l)
                                if (null === l) d += "null";
                                else if (l instanceof Error) d += this.t1b(l, m);
                            else try {
                                d += JSON.stringify(l)
                            } catch (n) {
                                d += this.s1b(l)
                            } else d += l
                        }
                        return d
                    };
                    c.prototype.t1b = function(m, g) {
                        return m.toString() + (m.stack && !g ? "\n" + m.stack : "") + "\n"
                    };
                    c.prototype.s1b = function(m) {
                        var g = [];
                        return JSON.stringify(m, function(d, h) {
                            if ("object" === typeof h && null !== h) {
                                if (-1 !== g.indexOf(h)) return "<cycle>";
                                g.push(h)
                            }
                            return h
                        })
                    };
                    b.Mza = c
                },
                function(r, b, a) {
                    function c(d, h) {
                        this.ic = d;
                        this.Vc = h
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.dGa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(664),
                        m = a(41);
                    a = a(31);
                    c.prototype.iIb = function() {
                        return new k.eGa(this.ic, this.Vc)
                    };
                    var g = c;
                    g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.kj)), r.__param(1, (0, f.l)(a.oh))], g);
                    b.dGa = g
                },
                function(r, b, a) {
                    function c(t, w) {
                        this.ic = t;
                        this.Vc = w;
                        this.kc = []
                    }
                
                    function f(t) {
                        return n.call(this, t, function(w) {
                            return {
                                Details: w
                            }
                        }) || this
                    }
                
                    function k(t) {
                        return n.call(this,
                            t,
                            function(w) {
                                return JSON.parse(w.toJSON())
                            }) || this
                    }
                
                    function m(t, w) {
                        w = n.call(this, w, function(v) {
                            return {
                                Base64: t.encode(v)
                            }
                        }) || this;
                        w.ic = t;
                        return w
                    }
                
                    function g(t, w) {
                        w = n.call(this, w, function(v) {
                            return v()
                        }) || this;
                        w.Vc = t;
                        return w
                    }
                
                    function d(t) {
                        return n.call(this, t, function(w) {
                            return {
                                Exception: w.message || "" + w,
                                StackTrace: w.stack || "nostack"
                            }
                        }) || this
                    }
                
                    function h(t, w, v) {
                        w = n.call(this, w, v) || this;
                        w.Vc = t;
                        return w
                    }
                
                    function l(t) {
                        return n.call(this, t, function(w) {
                            return {
                                Details: w
                            }
                        }) || this
                    }
                
                    function n(t, w) {
                        this.gv =
                            t;
                        this.value = w ? w(t) : t
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.eGa = void 0;
                    r = a(1);
                    var q = a(0),
                        p = a(31);
                    a = a(41);
                    n.prototype.jV = function(t) {
                        return this.gv === t
                    };
                    qa(l, n);
                    l.prototype.AJ = function(t, w) {
                        return w ? "" : "\r\n" + this.gv
                    };
                    qa(h, n);
                    h.prototype.AJ = function() {
                        var t = "";
                        this.Vc.aD(this.value, function(w, v) {
                            try {
                                t += ", " + w + ": " + v
                            } catch (x) {
                                try {
                                    t += ", " + w + ": " + JSON.stringify(v)
                                } catch (y) {
                                    t += ", error stringifying " + w
                                }
                            }
                        });
                        return t.replace(/[\r\n]+ */g, " ")
                    };
                    qa(d, n);
                    d.prototype.AJ = function(t) {
                        var w = "\r\n" +
                            this.gv.message;
                        t || (w += "\r\n" + this.gv.stack);
                        return w
                    };
                    qa(g, n);
                    g.prototype.AJ = function() {
                        var t = "";
                        this.Vc.aD(this.value, function(w, v) {
                            t += ", " + w + ": " + v
                        });
                        return t.replace(/[\r\n]+ */g, " ")
                    };
                    qa(m, n);
                    m.prototype.AJ = function(t, w) {
                        return this.gv && !w ? "\r\n" + this.ic.encode(this.gv) : ""
                    };
                    qa(k, n);
                    k.prototype.AJ = function() {
                        return this.gv ? this.gv.toJSON() : ""
                    };
                    qa(f, n);
                    f.prototype.AJ = function() {
                        return ", " + (this.gv.toString ? "" + this.gv.toString() : "")
                    };
                    c.prototype.Hsb = function(t) {
                        this.kc.push(new l(t))
                    };
                    c.prototype.wsb =
                        function(t) {
                            this.kc.push(new h(this.Vc, t))
                        };
                    c.prototype.lsb = function(t) {
                        this.kc.push(new d(t))
                    };
                    c.prototype.osb = function(t) {
                        this.kc.push(new g(this.Vc, t))
                    };
                    c.prototype.Jsb = function(t) {
                        this.kc.push(new m(this.ic, t))
                    };
                    c.prototype.usb = function(t) {
                        this.kc.push(new k(t))
                    };
                    c.prototype.Ksb = function(t) {
                        this.kc.push(new f(t))
                    };
                    c.prototype.ri = function() {
                        return this.kc
                    };
                    var u = c;
                    u = r.__decorate([(0, q.R)(), r.__param(0, (0, q.l)(a.kj)), r.__param(1, (0, q.l)(p.oh))], u);
                    b.eGa = u
                },
                function(r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", {
                            value: !0
                        });
                    b.I4a = void 0;
                    r = a(0);
                    var c = a(349),
                        f = a(666);
                    b.I4a = new r.dd(function(k) {
                        k(c.yHa).to(f.xHa).aa()
                    })
                },
                function(r, b, a) {
                    function c(g) {
                        this.Oc = g
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.xHa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(667);
                    a = a(49);
                    c.prototype.KUa = function(g, d) {
                        return new k.zHa(this.Oc, g, d)
                    };
                    var m = c;
                    m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.Uj))], m);
                    b.xHa = m
                },
                function(r, b) {
                    function a(c, f, k) {
                        this.Oc = c;
                        this.config = f;
                        this.getTime = k
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.zHa = void 0;
                    a.prototype.observe = function(c, f) {
                        var k = this;
                        this.cancel();
                        this.Gj = this.Oc.U$(this.config.$Za(), function() {
                            k.getTime() >= c && (k.cancel(), f())
                        })
                    };
                    a.prototype.cancel = function() {
                        this.Gj && (this.Gj.cancel(), this.Gj = void 0)
                    };
                    b.zHa = a
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.U = void 0;
                    r = a(0);
                    var c = a(214),
                        f = a(350),
                        k = a(669),
                        m = a(971),
                        g = a(422),
                        d = a(972);
                    b.U = new r.dd(function(h) {
                        h(c.qfa).to(k.ALa).aa();
                        h(f.yLa).to(m.xLa).aa();
                        h(g.IMa).to(d.HMa).aa()
                    })
                },
                function(r,
                    b, a) {
                    function c(v, x, y, z, A, B, E, D, F, G) {
                        this.ya = v;
                        this.bg = x;
                        this.nO = y;
                        this.odb = z;
                        this.fY = A;
                        this.Oc = B;
                        this.ZL = E;
                        this.Vh = D;
                        this.Lma = F;
                        this.ee = G
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.ALa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(16),
                        m = a(7),
                        g = a(349),
                        d = a(123),
                        h = a(215),
                        l = a(351),
                        n = a(670),
                        q = a(671),
                        p = a(104),
                        u = a(49),
                        t = a(347);
                    a = a(31);
                    c.prototype.pAb = function(v, x, y) {
                        return new n.BLa(this.ya, this.bg, this.nO, this.odb, x, v, this.Vh, this.fY, this.ee, this.Lma, y)
                    };
                    c.prototype.Ozb = function(v, x) {
                        return new q.zAa(this.bg, v,
                            x, this.nO, this.Oc, this.ZL)
                    };
                    var w = c;
                    w = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.bd)), r.__param(1, (0, f.l)(m.ub)), r.__param(2, (0, f.l)(g.yHa)), r.__param(3, (0, f.l)(l.hNa)), r.__param(4, (0, f.l)(h.Pea)), r.__param(5, (0, f.l)(u.Uj)), r.__param(6, (0, f.l)(p.zQ)), r.__param(7, (0, f.l)(d.BK)), r.__param(8, (0, f.l)(t.ZQ)), r.__param(9, (0, f.l)(a.oh))], w);
                    b.ALa = w
                },
                function(r, b, a) {
                    function c(l, n, q, p, u, t, w, v, x, y, z) {
                        var A = this;
                        this.ya = l;
                        this.nO = q;
                        this.qua = p;
                        this.config = u;
                        this.nb = t;
                        this.Vh = w;
                        this.fY = v;
                        this.ee = x;
                        this.Lk =
                            z;
                        this.lEb = Object.values(g.Fa).map(function(B) {
                            return {
                                event: B,
                                xH: function(E) {
                                    return A.Zb.Gc(B, E)
                                }
                            }
                        });
                        this.Zb = y.create();
                        this.iE = [];
                        this.log = n.lb("SegmentManager");
                        this.nna = !0;
                        this.bh = this.ee.createElement("div", h.ffa)
                    }
                
                    function f(l, n, q, p, u, t, w, v, x, y, z) {
                        var A = this;
                        this.log = l;
                        this.config = n;
                        this.PSb = q;
                        this.qua = p;
                        this.Vh = u;
                        this.fY = t;
                        this.pv = w;
                        this.H = v;
                        this.bh = x;
                        this.nb = y;
                        this.Lk = z;
                        this.pM = function() {
                            A.UD && (A.UD.cancel(), A.UD = void 0)
                        };
                        this.upa = function(B) {
                            A.log.trace("Received the transition event", {
                                movieId: B.K
                            });
                            A.cXb()
                        };
                        this.xra = function() {};
                        this.log.debug("Constructing session data", k(v));
                        this.G2b = new Promise(function(B) {
                            A.cXb = B
                        })
                    }
                
                    function k(l) {
                        return {
                            movieId: l.K
                        }
                    }
                
                    function m(l) {
                        return JSON.stringify({
                            movieId: l.K,
                            startPts: l.Z,
                            logicalEnd: l.xj,
                            params: l.Nb ? {
                                trackingId: l.Nb.Kk,
                                authParams: l.Nb.N3,
                                sessionParams: l.Nb.ao,
                                disableTrackStickiness: l.Nb.cma,
                                uiPlayStartTime: l.Nb.sB,
                                loadImmediately: l.Nb.g8,
                                playbackState: l.Nb.playbackState ? {
                                    currentTime: l.Nb.playbackState.currentTime,
                                    volume: l.Nb.playbackState.volume,
                                    muted: l.Nb.playbackState.muted,
                                    playbackRate: l.Nb.playbackState.playbackRate
                                } : void 0,
                                pin: l.Nb.bY,
                                heartbeatCooldown: l.Nb.Fpa,
                                uiLabel: l.Nb.Wd,
                                uxLabels: l.Nb.jba
                            } : void 0
                        })
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.BLa = void 0;
                    var g = a(15),
                        d = a(4),
                        h = a(12);
                    f.prototype.load = function(l) {
                        var n = this;
                        this.log.trace("Loading new segment", k(this.H));
                        this.X = this.qua.kla(this.config, this.fY, this.Vh, this.H, this.nb, this.Lk);
                        this.X.addEventListener(g.Fa.KN, function(p) {
                            n.log.trace("Segment is inactive", k(n.H));
                            n.pv.close(n.Vh(p.errorCode))
                        });
                        this.X.addEventListener(g.Fa.closed, this.pM);
                        if (l) this.log.debug("Pausing background segment", k(this.H)), this.X.addEventListener(g.Fa.Oqa, this.upa), this.X.pause();
                        else {
                            this.bh.appendChild(this.X.Ln());
                            var q = function(p) {
                                n.upa(p);
                                n.X.removeEventListener(g.Fa.loaded, q)
                            };
                            this.X.addEventListener(g.Fa.loaded, q)
                        }
                    };
                    f.prototype.observe = function() {
                        var l = this;
                        this.log.trace("Observing segment", m(this.H));
                        if (this.UD) this.log.trace("Segment is currently observing", k(this.H));
                        else if (this.H.Nb && this.H.Nb.g8) this.xra(this);
                        else {
                            var n = this.PSb.KUa(this.config, function() {
                                    if (l.X) {
                                        var p = l.X.tu();
                                        if (p) return p
                                    }
                                    return 0
                                }),
                                q = this.Evb(this.H);
                            this.log.trace("Adding a moment to watch", {
                                time: q
                            });
                            n.observe(q, function() {
                                l.log.trace("Segment has reached its loading point", k(l.H));
                                l.xra(l);
                                l.pM()
                            })
                        }
                    };
                    f.prototype.close = function(l) {
                        this.log.info("Closing segment", {
                            segment: m(this.H),
                            error: l
                        });
                        return this.X ? (this.X.removeEventListener(g.Fa.Oqa, this.upa), this.X.close(l)) : Promise.resolve()
                    };
                    f.prototype.KTb = function(l) {
                        this.xra = l
                    };
                    f.prototype.Evb =
                        function(l) {
                            var n = l.xj;
                            l = l.Nb ? l.Nb.g8 : !1;
                            var q = 0;
                            n && !l && (q = n - this.config.yZa(), q < this.config.BZa() && (l = n - this.config.BZa(), q = n - l / 2));
                            return q
                        };
                    c.prototype.bJb = function() {
                        return this.sh && this.sh.X ? this.sh.X.isReady() : !1
                    };
                    c.prototype.Ln = function() {
                        return this.bh
                    };
                    c.prototype.sH = function() {
                        if (!this.sh || !this.sh.X) throw Error("Player not ready");
                        return this.sh.X
                    };
                    c.prototype.d4b = function(l) {
                        var n, q = this.cna(l);
                        q ? this.Bcb(q, l) : this.nb.kf(l.id) || this.log.error("Tried to update a non-existent segment", {
                            segment: m(l),
                            currentMovieId: this.sh.H.K,
                            queuedMovieIds: this.iE.map(function(p) {
                                return p.H.K
                            }),
                            xid: null === (n = this.sh.X) || void 0 === n ? void 0 : n.Vz()
                        })
                    };
                    c.prototype.Vk = function(l) {
                        this.log.info("Adding segment", m(l));
                        if (this.nna) {
                            this.log.trace("First segment, loading", k(l));
                            var n = this.O2a(l);
                            this.nna = !1
                        } else this.log.trace("Subsequent segment, caching", k(l)), (n = this.cna(l)) ? this.Bcb(n, l) : (n = this.createSession(l), this.iE.push(n), this.sh.observe());
                        return n ? n.G2b : null
                    };
                    c.prototype.transition = function(l, n) {
                        var q, p = this.oI,
                            u = null === p || void 0 === p ? void 0 : p.X;
                        if (p && u) return this.oI = void 0, this.log.info("Transitioning segment", m(p.H)), u.bxa(this.ya.Rb().$(d.ja)), this.Tbb(p, n);
                        n = null === p || void 0 === p ? void 0 : p.H;
                        this.log.error("Transitioning to next segment failed. Session or player not available.", {
                            mid: this.sh.H.K,
                            xid: null === (q = this.sh.X) || void 0 === q ? void 0 : q.Vz(),
                            nextSegmentId: l,
                            currentSegment: m(this.sh.H),
                            nextSegment: n ? m(n) : void 0,
                            queuedMovieIds: this.iE.map(function(t) {
                                return t.H.K
                            })
                        });
                        return Promise.reject()
                    };
                    c.prototype.close =
                        function(l) {
                            var n = this;
                            this.log.trace("Closing all segments", {
                                currSession: JSON.stringify(k(this.sh.H)),
                                nextSession: this.oI ? JSON.stringify(k(this.oI.H)) : void 0
                            });
                            l = [this.sh.close(l)];
                            this.oI && l.push(this.oI.close());
                            return Promise.all(l).then(function() {
                                n.oI = void 0;
                                n.iE = [];
                                n.nna = !0
                            })
                        };
                    c.prototype.addListener = function(l, n, q) {
                        this.Zb.addListener(l, n, q)
                    };
                    c.prototype.removeListener = function(l, n) {
                        this.Zb.removeListener(l, n)
                    };
                    c.prototype.Bcb = function(l, n) {
                        this.gUb(l.H, n);
                        this.log.trace("Overwrote existing segment data",
                            m(l.H))
                    };
                    c.prototype.O2a = function(l) {
                        var n = this;
                        this.log.info("Loading the next episode", k(l));
                        if (this.sh) {
                            this.config.Pna()[l.K] = l.Z;
                            var q = this.cna(l)
                        } else q = this.createSession(l);
                        if (q) return this.log.trace("Found the next session", k(l)), q.KTb(function(p) {
                            n.sbb(p)
                        }), this.sh ? (this.log.trace("Subsequent playback, caching player and pausing", k(l)), this.oI = q, q.load(!0)) : (this.log.trace("First playback transitioning immediately", k(l)), q.load(!1), this.Tbb(q)), q;
                        this.log.warn("Unable to find the session, make sure to add it before loading",
                            k(l))
                    };
                    c.prototype.Tbb = function(l, n) {
                        n = void 0 === n ? {} : n;
                        var q, p, u, t = l.X ? null === (q = l.X) || void 0 === q ? void 0 : q.getError() : "missing player";
                        if (t) return null === (p = l.X) || void 0 === p ? void 0 : p.close(), this.log.error("Transitioning to next segment failed. Session is in the error state.", {
                            srcmid: this.sh.H.K,
                            mid: l.H.K,
                            error: t,
                            xid: null === (u = l.X) || void 0 === u ? void 0 : u.Vz()
                        }), Promise.reject();
                        this.log.trace("Playing episode", k(l.H));
                        q = this.sh;
                        this.sh = l;
                        l = this.sh.X;
                        l.Lwa(!1);
                        this.PJ(l, q ? q.X : void 0);
                        if (q && q.X) {
                            var w =
                                q.X.Ln();
                            p = l.Ln();
                            w.style.display = "none";
                            q = q.close();
                            this.bh.appendChild(p);
                            q.then(function() {
                                w.parentElement && w.parentElement.removeChild(w)
                            });
                            p.style.display = "block";
                            l.dba(n);
                            l.OP();
                            l.play()
                        }
                        return Promise.resolve()
                    };
                    c.prototype.sbb = function(l) {
                        if (this.iE.length && l.X) {
                            var n = l.X.tu(),
                                q = this.iE[0],
                                p = this.sh.H.xj,
                                u = this.sh.H.Nb ? this.sh.H.Nb.g8 : !1;
                            if (p || u) {
                                var t;
                                u ? t = 0 : p && (t = p - this.config.yZa());
                                null !== n && n >= t && (this.log.info("Got a time change, loading the next player", k(q.H)), this.O2a(q.H), this.iE.splice(0,
                                    1), this.sbb(l))
                            }
                        }
                    };
                    c.prototype.cna = function(l) {
                        return this.sh.H.K === l.K ? this.sh : this.iE.find(function(n) {
                            return n.H.K === l.K
                        })
                    };
                    c.prototype.gUb = function(l, n) {
                        l.Z = n.Z || l.Z;
                        l.xj = n.xj || l.xj;
                        l.Nb = n.Nb || l.Nb;
                        l.pa = n.pa || l.pa
                    };
                    c.prototype.createSession = function(l) {
                        return new f(this.log, this.config, this.nO, this.qua, this.Vh, this.fY, this, l, this.bh, this.nb, this.Lk)
                    };
                    c.prototype.PJ = function(l, n) {
                        this.lEb.forEach(function(q) {
                            n && n.removeEventListener(q.event, q.xH);
                            l.addEventListener(q.event, q.xH)
                        });
                        this.Zb.Gc(g.BF.bZ)
                    };
                    b.BLa = c
                },
                function(r, b, a) {
                    function c(n, q, p, u, t, w) {
                        var v = this;
                        this.X = q;
                        this.j = p;
                        this.nO = u;
                        this.Oc = t;
                        this.ZL = w;
                        this.pM = function() {
                            v.UD && (v.UD.cancel(), v.UD = void 0)
                        };
                        this.log = n.lb("SegmentManager", this.j);
                        this.U = new Map;
                        this.j.fb.vj && (this.j.addEventListener(d.ca.WI, function(x) {
                            return v.VD(x)
                        }), this.j.addEventListener(d.ca.closed, this.pM))
                    }
                
                    function f(n, q) {
                        this.id = n;
                        this.ska = q
                    }
                
                    function k(n, q, p, u) {
                        return g.Wc.call(this, n, p, void 0, void 0, void 0, q, void 0, u) || this
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.zAa = void 0;
                    var m = a(3),
                        g = a(40),
                        d = a(15),
                        h = a(4),
                        l = a(14);
                    qa(k, g.Wc);
                    k.prototype.toString = function() {
                        return this.code + "-" + this.jd + " : " + this.message + "\n" + JSON.stringify(this.data)
                    };
                    f.prototype.toJSON = function() {
                        return {
                            id: this.id,
                            contentStartPts: this.Aa,
                            contentEndPts: this.Da
                        }
                    };
                    Ya.Object.defineProperties(f.prototype, {
                        Aa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.ska.startTimeMs
                            }
                        },
                        Da: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.ska.endTimeMs
                            }
                        },
                        HA: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return Object.keys(this.ska.next)
                            }
                        }
                    });
                    c.prototype.VD = function(n) {
                        var q = this;
                        !1;
                        n = n.position.segmentId;
                        0 === this.U.size && Object.entries(this.j.JV()).forEach(function(p) {
                            var u = da(p);
                            p = u.next().value;
                            u = u.next().value;
                            q.U.set(p, new f(p, u))
                        });
                        this.ka = this.U.get(n)
                    };
                    c.prototype.play = function(n) {
                        this.vx && (this.vx = void 0);
                        this.pM();
                        this.log.trace("Playing segment", n);
                        return this.D1a(n) ? this.eVb(n) : this.dY(n)
                    };
                    c.prototype.As = function(n) {
                        this.log.trace("Queueing segment", n);
                        return this.D1a(n) ?
                            this.TWb(n) : this.UWb(n)
                    };
                    c.prototype.Fi = function(n, q) {
                        var p = this,
                            u = this.j.Ma;
                        if (null === u || void 0 === u || !u.ii) return Promise.reject(this.getError(m.N.gAa, "ASE session manager is not yet initialized", m.M.kca, {
                            segmentId: n,
                            updates: q
                        }));
                        this.log.trace("Updating next segment weights", n, q);
                        return new Promise(function(t, w) {
                            try {
                                u.eQ(n, q), p.j.fireEvent(d.ca.Hya, {
                                    ha: n,
                                    p4b: q
                                }), t()
                            } catch (v) {
                                w(p.getError(m.N.gAa, "updateNextSegmentWeights threw an exception", m.M.Heb, {
                                    segmentId: n,
                                    updates: q,
                                    error: v
                                }))
                            }
                        })
                    };
                    c.prototype.D1a =
                        function(n) {
                            return this.ka ? void 0 !== this.j.JV()[this.ka.id].next[n] : !1
                        };
                    c.prototype.Koa = function() {
                        var n = this.j.Ma;
                        if (null === n || void 0 === n ? 0 : n.ii) return n.Mn().we
                    };
                    c.prototype.UIb = function() {
                        var n = this.j.Ma;
                        if (null === n || void 0 === n ? 0 : n.ii) return n.Mn().id
                    };
                    c.prototype.YGb = function(n) {
                        var q = this.j.Ma;
                        if (null === q || void 0 === q ? 0 : q.ii) return (n = q.Una(n)) && n.Fe
                    };
                    c.prototype.eVb = function(n) {
                        var q = this,
                            p = this.j.Ma;
                        return null !== p && void 0 !== p && p.ii ? this.ka && 1 === this.ka.HA.length ? this.dY(n) : this.j.Kf ? void 0 ===
                            this.YGb(n) ? (this.log.error("playNextSegment: branchOffset missing", {
                                segment: n
                            }), this.dY(n)) : new Promise(function(u, t) {
                                function w() {
                                    !B && A && z && (F.cancel(), B = !0, q.log.trace("Telling ASE to choose the next segment", {
                                        id: n,
                                        stopped: A,
                                        repositioned: z,
                                        completed: B
                                    }), p.Mr(n, !1, !0) ? (u(), B = !0) : (B = !0, q.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.", {
                                        segment: n
                                    }), q.dY(n).then(u).catch(t)))
                                }
                
                                function v() {
                                    z = !0;
                                    q.log.trace("Player is repositioned", {
                                        id: n,
                                        stopped: A,
                                        repositioned: z,
                                        completed: B
                                    });
                                    q.j.removeEventListener(d.ca.Ck, v);
                                    w()
                                }
                
                                function x() {
                                    q.j.removeEventListener(d.ca.KI, x);
                                    p.stop()
                                }
                
                                function y() {
                                    A = !0;
                                    q.log.trace("ASE is stopped", {
                                        id: n,
                                        stopped: A,
                                        repositioned: z,
                                        completed: B
                                    });
                                    p.removeEventListener("stop", y);
                                    w()
                                }
                                var z = !1,
                                    A = !1,
                                    B = !1,
                                    E = q.U.get(n),
                                    D = q.Koa();
                                if (void 0 === D) return q.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.", {
                                    segment: n
                                }), q.dY(n);
                                q.log.trace("Seeking to next segment", JSON.stringify({
                                    segmentId: n,
                                    seekTo: D,
                                    currentSegment: q.ka,
                                    nextSegment: E
                                }, null, "  "));
                                q.j.fireEvent(d.ca.l9, {
                                    Wg: q.ka && q.ka.id,
                                    tO: n
                                });
                                p.addEventListener("stop", y);
                                q.j.addEventListener(d.ca.KI, x);
                                q.j.addEventListener(d.ca.Ck, v);
                                var F = q.Oc.Fk((0, h.vg)(10), function() {
                                    B = !0;
                                    F.cancel();
                                    t(q.getError(m.N.DQ, "Timed out waiting for the player to be repositioned and ASE to be stopped", m.M.Deb, {
                                        id: n,
                                        stopped: A,
                                        repositioned: z,
                                        completed: B
                                    }))
                                });
                                q.X.seek(D, d.Ce.HK)
                            }) : (this.log.warn("MediaPresenter is not initialized", n), Promise.reject(this.getError(m.N.DQ, "MediaPresenter is not initialized",
                                m.M.Eeb, {
                                    id: n
                                }))) : Promise.reject(this.getError(m.N.DQ, "ASE session manager is not yet initialized", m.M.kca, {
                                id: n
                            }))
                    };
                    c.prototype.dY = function(n) {
                        var q = this.U.get(n);
                        return q ? this.$Y(q, m.N.DQ) : Promise.reject(this.getError(m.N.DQ, "Unable to find the separated segment", m.M.fAa, {
                            id: n
                        }))
                    };
                    c.prototype.TWb = function(n) {
                        var q = this.j.Ma;
                        if (null === q || void 0 === q || !q.ii) return Promise.reject(this.getError(m.N.EQ, "ASE session manager is not yet initialized", m.M.kca, {
                            id: n
                        }));
                        this.j.fireEvent(d.ca.l9, {
                            Wg: this.ka &&
                                this.ka.id,
                            tO: n
                        });
                        if (q.Mr(n, !0, !0)) return Promise.resolve();
                        this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment", {
                            segment: n
                        });
                        return this.CVa(n)
                    };
                    c.prototype.UWb = function(n) {
                        this.log.error("calls to queueSeparatedSegment are deprecated", {
                            segment: n,
                            mid: this.j.K,
                            srcsegment: this.UIb()
                        });
                        return this.CVa(n)
                    };
                    c.prototype.CVa = function(n) {
                        var q = this;
                        if (this.vx) return Promise.reject(this.getError(m.N.EQ, "Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",
                            m.M.Geb, {
                                currentSegment: this.ka ? this.ka.id : void 0,
                                queuedSegment: this.vx.id,
                                failedSegment: n
                            }));
                        if (!this.ka) return Promise.reject(this.getError(m.N.EQ, "Unable to queue segment for delayed seek because there is no currently playing segment", m.M.Ceb, {
                            nextSegmentid: n
                        }));
                        var p = this.U.get(n);
                        if (!p) return Promise.reject(this.getError(m.N.EQ, "Unable to find the separated segment", m.M.fAa, {
                            nextSegmentid: n,
                            currentSegmentId: this.ka.id
                        }));
                        this.vx = {
                            id: n,
                            promise: new Promise(function(u, t) {
                                q.UD = q.nO.KUa({
                                    $Za: function() {
                                        return (0,
                                            h.Nc)(100)
                                    }
                                }, function() {
                                    return q.X.tu() || 0
                                });
                                var w = q.Koa() - l.config.G4a;
                                q.log.trace("Adding moment for queued segment for delayed seek", {
                                    segment: n,
                                    pts: w
                                });
                                q.UD.observe(w, function() {
                                    q.log.trace("Moment has arrived, seek to segment", {
                                        segment: n,
                                        currentSegment: q.ka.id,
                                        playerEndPts: q.Koa(),
                                        pts: w
                                    });
                                    q.vx = void 0;
                                    q.pM();
                                    q.$Y(p, m.N.EQ).then(u).catch(t)
                                })
                            })
                        };
                        this.vx.promise.catch(function(u) {
                            q.j.Pd(u.code, u)
                        });
                        return Promise.resolve()
                    };
                    c.prototype.$Y = function(n, q) {
                        var p = this;
                        return new Promise(function(u, t) {
                            try {
                                var w =
                                    n.Aa;
                                !1;
                                p.X.seek(w, d.Ce.ly);
                                u()
                            } catch (v) {
                                t(p.getError(q, "Seek threw an exception", m.M.Feb, {
                                    id: n.id,
                                    error: v
                                }))
                            }
                        })
                    };
                    c.prototype.getError = function(n, q, p, u) {
                        this.log.warn(q, u);
                        return new k(n, q, p, u)
                    };
                    b.zAa = c
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Jc = b.So = void 0;
                    var a;
                    (function(c) {
                        c[c.nj = 0] = "STOPPED";
                        c[c.wd = 1] = "BUFFERING";
                        c[c.Tf = 2] = "REBUFFERING";
                        c[c.oj = 3] = "STREAMING";
                        c[c.dS = 4] = "TRACK_SWITCH"
                    })(a || (a = {}));
                    b.Jc = a;
                    b.So = function(c) {
                        return c === a.wd || c === a.Tf || c === a.dS
                    }
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    r = a(2);
                    r.__exportStar(a(684), b);
                    r.__exportStar(a(685), b);
                    r.__exportStar(a(686), b)
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.dea = void 0;
                    r = b.dea || (b.dea = {});
                    r[r.HAVE_NOTHING = 0] = "HAVE_NOTHING";
                    r[r.IB = 1] = "HAVE_SOMETHING";
                    r[r.Yx = 2] = "HAVE_MINIMUM";
                    r[r.kK = 3] = "HAVE_ENOUGH"
                },
                function(r,
                    b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.sa = void 0;
                    var a;
                    r = a || (a = {});
                    r[r.Fh = 0] = "STARTING";
                    r[r.wd = 1] = "BUFFERING";
                    r[r.Tf = 2] = "REBUFFERING";
                    r[r.Kc = 3] = "PLAYING";
                    r[r.wr = 4] = "STOPPING";
                    r[r.nj = 5] = "STOPPED";
                    r[r.mh = 6] = "PAUSED";
                    b.sa = a
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    r = a(2);
                    r.__exportStar(a(707), b);
                    r.__exportStar(a(708), b);
                    r.__exportStar(a(709), b);
                    r.__exportStar(a(710), b);
                    r.__exportStar(a(711), b);
                    r.__exportStar(a(712), b);
                    r.__exportStar(a(713), b);
                    r.__exportStar(a(714), b)
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r,
                    b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    r = a(2);
                    r.__exportStar(a(716), b);
                    r.__exportStar(a(717), b)
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Uv = void 0;
                    r = b.Uv || (b.Uv = {});
                    r[r.wkb = 0] = "PLAYGRAPH_CHANGED";
                    r[r.xkb = 1] = "PLAYGRAPH_UNCHANGED";
                    r[r.Gjb = 2] = "NO_MATCHING_SEGMENT_FOUND";
                    r[r.zlb = 3] = "SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";
                    r[r.qhb = 4] = "EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";
                    r[r.phb = 5] = "EXISTING_SEGMENT_START_TIME_MISMATCHED";
                    r[r.Alb =
                        6] = "SEGMENT_EXTENSION_NOT_SUPPORTED";
                    r[r.Vdb = 7] = "APPENDED_PAST_TRUNCATION_POINT"
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Xza = void 0;
                    var c = a(17);
                    r = function() {
                        function f(k) {
                            this.config = k
                        }
                        f.prototype.xm = function(k,
                            m) {
                            return this.config.BZ || m !== c.Jc.oj ? k.filter(function(g) {
                                return g.ou
                            }) : k
                        };
                        return f
                    }();
                    b.Xza = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.KF = void 0;
                    r = a(2);
                    var c = a(21),
                        f = r.__importDefault(a(6)),
                        k = a(353);
                    a = function() {
                        function m(g) {
                            this.console = g;
                            this.uVa = [];
                            this.tSa = {};
                            this.MVa = !1
                        }
                        m.prototype.Tq = function(g, d) {
                            this.uVa = g;
                            void 0 !== d ? this.tSa[d] = g : this.MVa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"), this.MVa = !0)
                        };
                        m.prototype.xm =
                            function(g) {
                                var d = this,
                                    h, l;
                                if (0 === g.length) return g;
                                var n = g[0].S;
                                if (void 0 === n) return this.console.error("StreamFilters: Stream has undefined viewable id"), g;
                                try {
                                    null === (h = f.default.Yt) || void 0 === h ? void 0 : h.call(f.default, n)
                                } catch (p) {
                                    return this.console.error("StreamFilters: createFilteredVideoStreamList: " + p), g
                                }
                                var q = null !== (l = this.tSa[n]) && void 0 !== l ? l : this.uVa;
                                c.ia && this.console.trace("VideoBitrateRangesFilter: filtering " + g.length + " streams with " + JSON.stringify(q));
                                g = g.filter(function(p) {
                                    return k.Uia(p.profile,
                                        p.bitrate, q, d.console).inRange
                                });
                                c.ia && this.console.trace("VideoBitrateRangesFilter: ... " + g.length + " streams in range");
                                return g
                            };
                        return m
                    }();
                    b.KF = a
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Yza = void 0;
                    r = function() {
                        function a(c) {
                            var f = this;
                            c.SP && c.SP.enabled && c.SP.profiles && c.SP.profiles.length && "keepLowest" === c.SP.action && (this.j2a = {}, c.SP.profiles.forEach(function(k) {
                                return f.j2a[k] = !0
                            }))
                        }
                        a.prototype.xm = function(c) {
                            var f = {},
                                k = this.j2a;
                            return void 0 === k ? c : c.filter(function(m) {
                                return !k[m.profile] ||
                                    (f[m.profile] ? !1 : f[m.profile] = !0)
                            })
                        };
                        return a
                    }();
                    b.Yza = r
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Vza = void 0;
                    r = function() {
                        function a(c) {
                            this.config = c
                        }
                        a.prototype.xm = function(c) {
                            var f = this.config;
                            return c.filter(function(k) {
                                return !(void 0 !== k.zb && (k.zb < f.eI || k.zb > f.G3a) || (void 0 === k.zb || 0 >= f.eI) && k.bitrate < f.Fsa || (void 0 === k.zb || Infinity === f.G3a) && k.bitrate > f.UPb)
                            })
                        };
                        return a
                    }();
                    b.Vza = r
                },
                function(r, b, a) {
                    function c(k, m) {
                        m = Math.max(k, m);
                        return isNaN(m) ? k || -Infinity : m
                    }
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Iza = void 0;
                    var f = a(17);
                    r = function() {
                        function k(m) {
                            this.config = m;
                            this.z$ = 0;
                            this.state = f.Jc.nj;
                            this.H4a = c(m.Fsa, m.M8);
                            this.Lsa = c(m.eI, m.pX)
                        }
                        k.prototype.xm = function(m, g) {
                            var d = this;
                            if (g !== this.state) {
                                this.state = g;
                                if (g === f.Jc.wd || g === f.Jc.dS) return m;
                                g === f.Jc.Tf && this.l8a()
                            }
                            return m.filter(function(h) {
                                return !(void 0 !== h.zb && h.zb < d.Lsa || (void 0 === h.zb || 0 > d.Lsa) && h.bitrate < d.H4a)
                            })
                        };
                        k.prototype.l8a = function() {
                            ++this.z$;
                            this.Lsa = c(this.config.eI, this.config.pX - this.config.ZQb *
                                this.z$);
                            this.H4a = this.config.Fsa || -Infinity
                        };
                        return k
                    }();
                    b.Iza = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Uza = void 0;
                    var c = a(26);
                    r = function() {
                        function f(k) {
                            this.config = k
                        }
                        f.prototype.b0b = function(k) {
                            return k % 100 + 1 <= this.config.bua
                        };
                        f.prototype.xm = function(k) {
                            var m, g, d, h, l, n, q = Number(null === (m = k[0]) || void 0 === m ? void 0 : m.K);
                            if (!(this.config.p5 && this.b0b(q) && 0 < this.config.M$.length)) return k;
                            m = k.length;
                            var p = null !== (g = k[m - 1].L$) && void 0 !== g ? g : 0;
                            if (g = c.re(this.config.M$, function(v) {
                                    return v.Kec >=
                                        p && v.o9a <= p
                                })) {
                                for (q = 0; q < m; q++) {
                                    var u = k[Math.max(q - 1, 0)],
                                        t = k[q];
                                    if (!((null !== (d = t.L$) && void 0 !== d ? d : 0) < g.o9a || (null !== (h = u.L$) && void 0 !== h ? h : 0) < g.o9a)) {
                                        var w = null !== (l = t.zb) && void 0 !== l ? l : Infinity;
                                        u = null !== (n = u.zb) && void 0 !== n ? n : Infinity;
                                        if (!(u < g.Vdc || u < g.Udc && t.bitrate < g.maxBitrate || !w && t.bitrate < g.tdc)) break
                                    }
                                }
                                return k.slice(0, q)
                            }
                            return k
                        };
                        return f
                    }();
                    b.Uza = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Lda = b.fca = void 0;
                    var c = a(26);
                    b.fca = {
                        xm: function(f) {
                            return f.filter(function(k) {
                                return k.Eu &&
                                    !k.aA
                            })
                        }
                    };
                    b.Lda = {
                        xm: function(f) {
                            return (f = c.re(f, function(k) {
                                return !!k.Eu && !k.aA
                            })) ? [f] : []
                        }
                    }
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Mda = void 0;
                    b.Mda = {
                        xm: function(a) {
                            return [a[0]]
                        }
                    }
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.QC = b.PC = void 0;
                    var c = a(355),
                        f = a(100);
                    b.PC = function(k, m) {
                        m && (null === k || void 0 === k ? 0 : k.x0a) && (m = (new f.tt(m)).or(f.uF));
                        return (new f.tt(f.fca)).and(null !== m && void 0 !== m ? m : f.uF).or(f.Lda, c.IK.iH).or(f.Mda, c.IK.iH)
                    };
                    b.QC = function(k,
                        m) {
                        m && k.x0a && (m = (new f.tt(m)).or(f.uF));
                        return (new f.tt(f.fca)).and(new f.Xza(k)).and(new f.Vza(k)).and(new f.Iza(k)).and(new f.Yza(k)).and(k.p5 ? new f.Uza(k) : f.uF).and(null !== m && void 0 !== m ? m : f.uF).or(f.Lda, c.IK.iH).or(f.Mda, c.IK.iH)
                    }
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r,
                    b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    r = a(2);
                    r.__exportStar(a(738), b);
                    r.__exportStar(a(360), b)
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    })
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Aza = void 0;
                    var c = a(2);
                    r = function(f) {
                        function k(m, g) {
                            m = f.call(this, k.iGb(m, g)) || this;
                            m.Onb = g;
                            m.name = "AggregateError";
                            return m
                        }
                        c.__extends(k, f);
                        k.iGb = function(m, g) {
                            return g.reduce(function(d,
                                h) {
                                return d + "\n" + h
                            }, m)
                        };
                        Object.defineProperties(k.prototype, {
                            w5: {
                                get: function() {
                                    return this.Onb
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        return k
                    }(Error);
                    b.Aza = r
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    })
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.elb = void 0;
                    b.elb = function() {
                        function a() {}
                        a.decode = function(c) {
                            return Object.assign({
                                initialSegment: c.ue,
                                segments: a.xBb(c.U)
                            }, void 0 !== c.de ? {
                                transitionType: c.de
                            } : {})
                        };
                        a.encode = function(c) {
                            return Object.assign({
                                ue: c.initialSegment,
                                U: a.ZDb(c.segments)
                            }, void 0 !== c.transitionType ? {
                                de: c.transitionType
                            } : {})
                        };
                        a.ZDb = function(c) {
                            return Object.keys(c).reduce(function(f, k) {
                                f[k] = a.YDb(c[k]);
                                return f
                            }, {})
                        };
                        a.YDb = function(c) {
                            return Object.assign({
                                S: c.viewableId,
                                Aa: c.startTimeMs
                            }, c.endTimeMs ? {
                                Da: c.endTimeMs
                            } : {}, c.defaultNext ? {
                                Jd: c.defaultNext
                            } : {}, c.weight ? {
                                weight: c.weight
                            } : {}, c.transitionType ? {
                                de: c.transitionType
                            } : {}, c.next ? {
                                next: a.WDb(c.next)
                            } : {}, c.exitZones ? {
                                oq: c.exitZones
                            } : {}, c.playbackRate ? {
                                playbackRate: c.playbackRate
                            } : {}, c.uxSegment ? {
                                $h: c.uxSegment
                            } : {})
                        };
                        a.WDb = function(c) {
                            return Object.keys(c).reduce(function(f, k) {
                                f[k] = a.XDb(c[k]);
                                return f
                            }, {})
                        };
                        a.XDb = function(c) {
                            return Object.assign({}, void 0 !== c.weight ? {
                                weight: c.weight
                            } : {}, c.transitionType ? {
                                de: c.transitionType
                            } : {})
                        };
                        a.xBb = function(c) {
                            return Object.keys(c).reduce(function(f, k) {
                                f[k] = a.wBb(c[k]);
                                return f
                            }, {})
                        };
                        a.wBb = function(c) {
                            return Object.assign({
                                viewableId: c.S,
                                startTimeMs: c.Aa
                            }, c.Da ? {
                                endTimeMs: c.Da
                            } : {}, c.Jd ? {
                                defaultNext: c.Jd
                            } : {}, c.weight ? {
                                weight: c.weight
                            } : {}, c.de ? {
                                transitionType: c.de
                            } : {}, c.next ? {
                                next: a.uBb(c.next)
                            } : {}, c.oq ? {
                                exitZones: c.oq
                            } : {}, c.playbackRate ? {
                                playbackRate: c.playbackRate
                            } : {}, c.$h ? {
                                uxSegment: c.$h
                            } : {})
                        };
                        a.uBb = function(c) {
                            return Object.keys(c).reduce(function(f, k) {
                                f[k] = a.vBb(c[k]);
                                return f
                            }, {})
                        };
                        a.vBb = function(c) {
                            return Object.assign({}, void 0 !== c.weight ? {
                                weight: c.weight
                            } : {}, c.de ? {
                                transitionType: c.de
                            } : {})
                        };
                        return a
                    }()
                },
                function(r, b, a) {
                    function c(h) {
                        return Object.keys(h.segments).some(function(l) {
                            return void 0 !== g(h.segments[l])
                        })
                    }
                
                    function f(h) {
                        return "delayedSeamless" ===
                            h ? "lazy" : h
                    }
                
                    function k(h) {
                        return Object.keys(h).reduce(function(l, n) {
                            var q = h[n],
                                p = q.weight;
                            q = q.transitionType || q.transitionHint;
                            n = l[n] = {};
                            void 0 !== p && (n.weight = p);
                            q && (n.de = f(q));
                            return l
                        }, {})
                    }
                
                    function m(h) {
                        var l = Object.keys(h),
                            n = l.length;
                        return n ? l.reduce(function(q, p) {
                            return q + (h[p].weight || 0)
                        }, 0) / n : void 0
                    }
                
                    function g(h) {
                        if (h.ui) {
                            var l = h.ui.interactionZones;
                            if ((null === l || void 0 === l ? 0 : l.length) && l[0].length) return l[0][0] - h.startTimeMs;
                            h = h.ui.interactionZonesV2;
                            if ((null === h || void 0 === h ? 0 : h.length) &&
                                h[0].length) return h[0][0]
                        } else if (void 0 !== h.earliestSkipRequestOffset) return h.earliestSkipRequestOffset
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.iz = void 0;
                    var d = a(167);
                    b.iz = function(h, l) {
                        var n = void 0 === l ? {} : l;
                        l = n.Dd;
                        var q = n.ue,
                            p = n.U;
                        n = n.config;
                        var u = !(!n || -1 === n.una.indexOf(h.viewableId)),
                            t = c(h) ? 0 : (null === n || void 0 === n ? void 0 : n.tna) || 0;
                        n = new d.iy;
                        var w = p || h.segments;
                        n.bJ(null !== q && void 0 !== q ? q : h.initialSegment).u$a(null !== l && void 0 !== l ? l : h.mediaTypes).cxa(u ? "immediate" : f(h.transitionType)).Xwa(Object.keys(w).reduce(function(v,
                            x) {
                            var y = w[x],
                                z, A;
                            if (null === (z = y.weight) || void 0 === z) {
                                var B;
                                z = y.next && (u || (null === (B = y.exitZones) || void 0 === B ? 0 : B.length)) ? m(y.next) : void 0
                            }
                            B = z;
                            if (z = y.exitZones) var E = void 0;
                            else a: {
                                if (u && y.endTimeMs) {
                                    E = y.endTimeMs - y.startTimeMs;
                                    var D = g(y);
                                    if (D && D < E) {
                                        E = [
                                            [D, E]
                                        ];
                                        break a
                                    }
                                    if (t && E > t) {
                                        E = [
                                            [E - t, E]
                                        ];
                                        break a
                                    }
                                }
                                E = void 0
                            }
                            D = u ? E ? void 0 : y.transitionHint || "lazy" : y.transitionHint;
                            B = {
                                S: h.viewableId,
                                Aa: y.startTimeMs,
                                Da: null !== (A = y.endTimeMs) && void 0 !== A ? A : Infinity,
                                de: f(D),
                                oq: z || E,
                                weight: B
                            };
                            y.defaultNext && (B.Jd = y.defaultNext);
                            y.next && (B.next = k(y.next));
                            v[x] = B;
                            return v
                        }, {}));
                        return n.ri()
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.qE = void 0;
                    var c = a(167);
                    b.qE = function(f, k, m) {
                        var g = new c.iy;
                        g.bJ(k).cxa("lazy").u$a(m).Vk(k, {
                            S: f,
                            Aa: 0,
                            Da: Infinity
                        });
                        return g.ri()
                    }
                },
                function(r, b, a) {
                    function c(g, d, h) {
                        var l = {};
                        Object.keys(g).forEach(function(n) {
                            n !== d ? l[n] = g[n] : l[h] = g[n]
                        });
                        return l
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.q4a = void 0;
                    var f = a(1),
                        k = a(167),
                        m = a(361);
                    b.q4a = function(g, d) {
                        var h, l = Object.keys(d.U);
                        m.assert(2 === l.length, "Unsupported content playgraph: must have 2 segments");
                        var n = d.ue,
                            q = l[0] === n ? l[1] : l[0];
                        l = d.U[n];
                        var p = d.U[q],
                            u = p.S;
                        m.assert(l.S !== u, "Unsupported content playgraph: must have different viewableIds");
                        var t = new k.iy;
                        t.Xwa(g.U, function(y) {
                            return y.S !== u
                        });
                        t.$Qa(g.U, function(y) {
                            return y.S === u && y.Aa >= p.Aa && (!p.Da || !!y.Da && (Infinity === y.Da || y.Da <= p.Da))
                        });
                        d = Object.keys(g.U).filter(function(y) {
                            return !t.IKb(y)
                        });
                        m.assert(1 >= d.length, "Unsupported content playgraph: more than one source playgraph segment not contained in content playgraph main segment");
                        if (0 < d.length) {
                            var w = d[0];
                            d = g.U[w];
                            var v = w + ":" + n;
                            if (!d.Da || d.Da > p.Aa) {
                                var x = w + ":" + q;
                                t.Vk(v, f.__assign(f.__assign({}, l), {
                                    $h: w,
                                    Jd: x,
                                    next: (h = {}, h[x] = {}, h)
                                }));
                                t.Vk(x, f.__assign(f.__assign({}, d), {
                                    $h: w,
                                    Aa: p.Aa
                                }))
                            } else t.Vk(v, f.__assign(f.__assign({}, l), {
                                $h: w,
                                Jd: d.Jd,
                                next: (x = {}, x[d.Jd] = {}, x)
                            }));
                            Object.keys(g.U).forEach(function(y) {
                                var z, A = g.U[y];
                                void 0 !== (null === (z = A.next) || void 0 === z ? void 0 : z[w]) && t.Vk(y, f.__assign(f.__assign({}, A), {
                                    Jd: A.Jd === w ? v : A.Jd,
                                    next: c(A.next, w, v)
                                }))
                            });
                            t.bJ(g.ue === w ? v : g.ue)
                        } else t.bJ(g.ue);
                        return t.ri()
                    }
                },
                function(r, b, a) {
                    function c(n, q, p) {
                        var u = f(n, q, p);
                        if (u) return u;
                        var t = n.U[p.H];
                        u = p.offset;
                        var w = Object.keys(q.U).filter(function(H) {
                                return q.U[H].$h === p.H
                            }),
                            v = [];
                        w.forEach(function(H) {
                            function L(Q) {
                                Q = g.K5(q, Q);
                                null === Q || void 0 === Q ? void 0 : Q.forEach(function(K) {
                                    if (q.U[K].$h !== p.H) {
                                        var I = q.U[K],
                                            M = I.Aa;
                                        (M = (I = I.Da) ? k(n, q, {
                                            H: K,
                                            offset: I - M
                                        }) : void 0) && v.push(M);
                                        M || (M = k(n, q, {
                                            H: K,
                                            offset: 0
                                        })) && v.push(M);
                                        L(K)
                                    }
                                })
                            }
                            var N = q.U[H],
                                J = N.Aa;
                            (J = (N = N.Da) ? k(n, q, {
                                H: H,
                                offset: N - J
                            }) : void 0) && v.push(J);
                            (N = k(n, q, {
                                H: H,
                                offset: 0
                            })) && v.push(N);
                            N || J || L(H)
                        });
                        h.assert(0 < v.length, "No point before the content position that can be directly mapped from combined to ux playgraph founc");
                        var x = t.Aa + u,
                            y, z = Infinity;
                        v.forEach(function(H) {
                            var L = x - (n.U[H.H].Aa + H.offset);
                            0 < L && L < z && (z = L, y = H)
                        });
                        var A = [];
                        w.forEach(function(H) {
                            function L(K) {
                                Object.keys(q.U[K].next || {}).forEach(function(I) {
                                    if (q.U[I].$h !== p.H) {
                                        var M = q.U[I],
                                            O = M.Aa;
                                        M = M.Da;
                                        var P = k(n, q, {
                                            H: I,
                                            offset: 0
                                        });
                                        P && A.push(P);
                                        P || (I = M ? k(n, q, {
                                            H: I,
                                            offset: M - O
                                        }) : void 0) && A.push(I)
                                    }
                                    L(K)
                                })
                            }
                            var N = q.U[H],
                                J = N.Aa,
                                Q = N.Da;
                            (N = k(n, q, {
                                H: H,
                                offset: 0
                            })) && A.push(N);
                            (J = Q ? k(n, q, {
                                H: H,
                                offset: Q - J
                            }) : void 0) && A.push(J);
                            N || J || L(H)
                        });
                        h.assert(0 < A.length, "No point after the content position that can be directly mapped from combined to ux playgraph found");
                        var B, E = Infinity;
                        A.forEach(function(H) {
                            var L = n.U[H.H].Aa + H.offset - x;
                            0 < L && L < E && (E = L, B = H)
                        });
                        h.assert(y);
                        h.assert(B);
                        u = f(n, q, y);
                        h.assert(u, "Segment not found in the combined playgraph");
                        var D = q.U[u.H];
                        h.assert(D.Da, "Segment of nearest point before the content position in combined playgraph must have endTimeMs");
                        u.offset === D.Da - D.Aa && (u = {
                            H: D.Jd,
                            offset: 0
                        }, D = q.U[u.H]);
                        var F = f(n, q, B);
                        h.assert(F, "Segment not found in the combined playgraph");
                        w = q.U[F.H];
                        0 === F.offset && (F = g.IXa(q, F.H), h.assert(F, "Segment of nearest point after the content position in combined playgraph must have a predecessor"), w = q.U[F], h.assert(w.Da, "Predecessor of the segment of nearest point after the content position in combined playgraph must have endTimeMs"), F = {
                            H: F,
                            offset: w.Da - w.Aa
                        });
                        var G = n.U[y.H].Aa + y.offset;
                        D = D.Aa + u.offset;
                        var C = D + (x - G) /
                            (n.U[B.H].Aa + B.offset - G) * (w.Aa + F.offset - D);
                        u = u.H === F.H ? u.H : d.re(Object.keys(q.U).filter(function(H) {
                            return q.U[H].S !== t.S
                        }), function(H) {
                            H = q.U[H];
                            var L = H.Da;
                            return C >= H.Aa && L && C <= L
                        });
                        h.assert(u, "Segment not found in the combined playgraph");
                        return {
                            H: u,
                            offset: C - q.U[u].Aa
                        }
                    }
                
                    function f(n, q, p) {
                        var u, t = n.U[p.H];
                        h.assert(t, "Graph position " + p.H + " does not exist in UX playgraph");
                        var w = p.offset;
                        h.assert(0 <= w, "Graph position offset " + w + " cannot be negative");
                        h.assert(!t.Da || w <= t.Da - t.Aa, "Graph position " + w +
                            " offset outside segment");
                        if (q.U[p.H]) return p;
                        var v = Object.keys(q.U).filter(function(A) {
                            return q.U[A].$h === p.H
                        });
                        h.assert(0 < v.length, "No segments found in combined playgraph that point back to the ux segment");
                        var x = t.Aa + w,
                            y = v.filter(function(A) {
                                return q.U[A].S === t.S
                            }).map(function(A) {
                                return [A, q.U[A]]
                            }).filter(function(A) {
                                A = m.__read(A, 2)[1];
                                return x >= A.Aa
                            });
                        if (y = d.re(y, function(A) {
                                A = m.__read(A, 2)[1];
                                return !A.Da || !!A.Da && x <= A.Da
                            })) {
                            var z = m.__read(y, 2);
                            n = z[0];
                            v = z[1];
                            w = isFinite(x) ? x : null !== (u = v.Da) &&
                                void 0 !== u ? u : Infinity;
                            z = w - v.Aa;
                            h.assert(0 <= z, "Content playgrah graph position offset cannot be negative");
                            return {
                                H: n,
                                offset: z
                            }
                        }
                        y = v.filter(function(A) {
                            return q.U[A].S !== t.S
                        });
                        if (0 === w && !l.bna(n, p.H) && (u = d.re(y, function(A) {
                                return 0 === g.K5(q, A).length
                            }), void 0 !== u)) return {
                            H: u,
                            offset: 0
                        };
                        if (t.Da) {
                            if (!(t.Da - t.Aa !== p.offset || t.Jd && n.U[t.Jd]) && (u = d.re(y, function(A) {
                                    return !q.U[A].next || 0 === Object.keys(q.U[A].next).length
                                }), void 0 !== u)) return n = q.U[u], z = n.Aa, n = n.Da, h.assert(n, "Content playgraph segments from other viewables must have end time"), {
                                H: u,
                                offset: n - z
                            }
                        } else if (u = m.__read(v.map(function(A) {
                                return [A, q.U[A]]
                            }).sort(function(A, B) {
                                A = m.__read(A, 2)[1];
                                B = m.__read(B, 2)[1];
                                return B.Da ? A.Da ? B.Da - A.Da : -1 : A.Da ? 1 : 0
                            }), 1), y = u[0]) return u = m.__read(y, 2), n = u[0], v = u[1], w = isFinite(x) ? x : null !== (z = v.Da) && void 0 !== z ? z : Infinity, z = w - v.Aa, h.assert(0 <= z, "Content playgrah graph position offset cannot be negative"), {
                            H: n,
                            offset: z
                        }
                    }
                
                    function k(n, q, p) {
                        var u = q.U[p.H];
                        h.assert(u, "Graph position does not exist in combined playgraph");
                        var t = p.offset;
                        h.assert(0 <= t, "Graph position offset cannot be negative");
                        h.assert(!u.Da || t <= u.Da - u.Aa, "Graph position offset outside segment");
                        if (void 0 === u.$h) return p;
                        n = n.U[u.$h];
                        h.assert(n, "Referenced ux playgraph segment must exist");
                        if (u.S === n.S) return {
                            H: u.$h,
                            offset: u.Aa + t - n.Aa
                        };
                        if (0 === t && (p = g.K5(q, p.H), 0 === t && 0 === p.length)) return {
                            H: u.$h,
                            offset: 0
                        };
                        if (!u.Jd || !q.U[u.Jd]) return {
                            H: u.$h,
                            offset: n.Da ? n.Da - n.Aa : Infinity
                        }
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.LYa = b.cdb = b.NTa = void 0;
                    var m = a(1),
                        g = a(61),
                        d = a(363),
                        h = a(361),
                        l = a(362);
                    b.NTa = function(n, q, p) {
                        var u = q.U[p.H],
                            t = k(n, q, p);
                        if (t) return t;
                        h.assert(u.$h, "Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");
                        n = n.U[u.$h];
                        h.assert(n, "Referenced ux playgraph segment must exist");
                        h.assert(u.Da, "Content playgraph segments from other viewables must have end time");
                        t = u.Jd && q.U[u.Jd];
                        if (!t) return h.assert(n.Da, "Must have definite end time to add terminal content playgraph segment"), {
                            H: u.$h,
                            offset: n.Da - n.Aa
                        };
                        q = (q = l.bna(q, p.H)) ? q.S !== n.S ? n.Aa : q.Da : 0;
                        if (null === q || void 0 === q) return h.assert(n.Da,
                            "Experience playgraph segment must have end time"), {
                            H: u.$h,
                            offset: n.Da - n.Aa
                        };
                        n = t.S !== n.S ? n.Da : t.Aa;
                        null !== n && void 0 !== n || h.assert(n, "Experience playgraph segment must have end time");
                        return {
                            H: u.$h,
                            offset: q + p.offset / (u.Da - u.Aa) * (n - q)
                        }
                    };
                    b.cdb = c;
                    b.LYa = function(n, q, p) {
                        var u, t, w;
                        return m.__generator(this, function(v) {
                            switch (v.label) {
                                case 0:
                                    u = c(n, q, p), t = q.U[u.H], w = u.H, v.label = 1;
                                case 1:
                                    return [4, w];
                                case 2:
                                    v.Ac(), w = t.Jd, t = q.U[w], v.label = 3;
                                case 3:
                                    if ((null === t || void 0 === t ? void 0 : t.$h) === p.H && w !== u.H) return [3,
                                        1
                                    ];
                                    v.label = 4;
                                case 4:
                                    return [2]
                            }
                        })
                    }
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.FGa = void 0;
                    var c = a(2),
                        f = a(19),
                        k = a(223),
                        m = a(358);
                    r = c.__importDefault(a(6));
                    var g = a(772);
                    r = new r.default.Console("ASEJS", "media|asejs");
                    r.trace.bind(r);
                    var d = ["prebuffstats", "discardedBytes", "flushedBytes", "cacheEvict", "mediacache"];
                    r = function(h) {
                        function l(n, q) {
                            var p = h.call(this) || this;
                            p.J = n;
                            p.Qh = new g.KFa(n, q);
                            n.WM && p.iUa(q);
                            p.Yg = new f.di;
                            d.forEach(function(u) {
                                p.Yg.on(p.Qh, u, function(t) {
                                    return p.emit(u,
                                        t)
                                });
                                p.Rm && p.Yg.on(p.Rm, u, function(t) {
                                    return p.emit(u, t)
                                })
                            });
                            return p
                        }
                        c.__extends(l, h);
                        Object.defineProperties(l.prototype, {
                            Vb: {
                                get: function() {
                                    return this.Qh.Vb
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Sn: {
                                get: function() {
                                    return this.Qh.Sn
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            qv: {
                                get: function() {
                                    return this.Qh.qv
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            iB: {
                                get: function() {
                                    return this.Qh.iB
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Uqa: {
                                get: function() {
                                    return this.Qh.Uqa
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            rE: {
                                get: function() {
                                    return this.Qh.rE
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            If: {
                                get: function() {
                                    return this.Qh.If
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Sh: {
                                get: function() {
                                    return this.Qh.Sh
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Tpa: {
                                get: function() {
                                    return this.Qh.Tpa
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            aX: {
                                get: function() {
                                    return this.Qh.aX.bind(this.Qh)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            d6: {
                                get: function() {
                                    return this.Qh.d6.bind(this.Qh)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Vja: {
                                get: function() {
                                    var n = this;
                                    return function() {
                                        n.m9a();
                                        n.Qh.Vja()
                                    }
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            EC: {
                                get: function() {
                                    var n = this;
                                    return function() {
                                        n.m9a();
                                        n.Qh.EC()
                                    }
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Wp: {
                                get: function() {
                                    var n = this;
                                    return function(q, p, u) {
                                        var t;
                                        null === (t = n.If) || void 0 === t ? void 0 : t.Wp(q, p, u)
                                    }
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        l.prototype.iUa = function(n) {
                            return this.Rm = new(a(895).FLa)(this.J, this.EC, this.Wp, n)
                        };
                        l.prototype.Ab = function(n, q, p, u, t, w, v, x) {
                            void 0 === v && (v = 262144);
                            void 0 === x && (x = 1048576);
                            this.Qh.Ab(n, q, p, u, t, w);
                            this.Rm ? this.Rm.Ab(n, q, p, u, t, w, v, x) : this.s2a = {
                                Wtb: n,
                                f5b: q,
                                Dw: p,
                                iB: u,
                                rE: t,
                                BQb: w,
                                ija: v,
                                cza: x
                            }
                        };
                        l.prototype.nZ = function(n, q, p) {
                            this.Qh.nZ(n, q, p);
                            this.Rm ? this.Rm.nZ(n, q, p) : this.y2a = {
                                n1b: n,
                                iB: q,
                                rE: p
                            }
                        };
                        l.prototype.createSession = function(n, q, p, u, t, w, v, x, y, z) {
                            var A = this;
                            x || (x = this.Qh.config);
                            if (x.WM && !this.Rm) {
                                var B = this.iUa(this.Qh.AE);
                                d.forEach(function(G) {
                                    A.Yg.on(A.Rm, G, function(C) {
                                        return A.emit(G, C)
                                    })
                                });
                                if (this.s2a) {
                                    var E = this.s2a,
                                        D = E.iB,
                                        F = E.rE;
                                    B.Ab(E.Wtb, E.f5b, E.Dw, D, F, E.BQb, E.ija, E.cza)
                                }
                                this.y2a && (F = this.y2a, E = F.n1b, D = F.iB, F = F.rE, B.nZ(E, D, F))
                            }
                            return this.Rm && x && x.h_ ? (x.Ir || x.mI ||
                                this.Qh.EC(), this.Rm.createSession(n, q, p, u, t, w, v, x, y, z)) : this.Qh.createSession(n, q, p, u, t, w, v, x, y, z)
                        };
                        l.prototype.Mx = function(n, q, p) {
                            if (this.Rm) return this.Rm.Mx(n, q, p);
                            throw Error("Update viewable not supported in legacy.");
                        };
                        l.prototype.addEventListener = function(n, q) {
                            this.addListener(n, q);
                            return !0
                        };
                        l.prototype.removeEventListener = function(n, q) {
                            this.removeListener(n, q);
                            return !0
                        };
                        l.prototype.Jb = function() {
                            var n;
                            this.Yg.clear();
                            this.Qh.Jb();
                            null === (n = this.Rm) || void 0 === n ? void 0 : n.Jb();
                            k.ZJ.reset()
                        };
                        l.prototype.m9a = function() {
                            var n, q;
                            this.J.Ir || this.J.mI || (null === (n = this.Rm) || void 0 === n ? void 0 : n.Ma.state) !== m.ko.OPEN || (null === (q = this.Rm) || void 0 === q ? void 0 : q.Ma.$u.reset())
                        };
                        return l
                    }(f.EventEmitter);
                    b.FGa = r
                },
                function(r) {
                    function b(c, f, k, m) {
                        c.trace(":", k, ":", m);
                        f(m)
                    }
                
                    function a(c) {
                        this.listeners = [];
                        this.console = c
                    }
                    a.prototype.constructor = a;
                    a.prototype.addListener = function(c, f, k, m) {
                        k = m ? k.bind(m) : k;
                        if (c) {
                            this.console && (k = b.bind(null, this.console, k, f));
                            if ("function" === typeof c.addListener) c.addListener(f,
                                k);
                            else if ("function" === typeof c.addEventListener) c.addEventListener(f, k);
                            else throw Error("Emitter does not have a function to add listeners for '" + f + "'");
                            this.listeners.push([c, f, k])
                        }
                        return this
                    };
                    a.prototype.on = a.prototype.addListener;
                    a.prototype.clear = function() {
                        var c = this.listeners.length;
                        this.listeners.forEach(function(f) {
                            var k = f[0],
                                m = f[1];
                            f = f[2];
                            "function" === typeof k.removeEventListener ? k.removeEventListener(m, f) : "function" === typeof k.removeListener && k.removeListener(m, f)
                        });
                        this.listeners = [];
                        this.console && this.console.trace("removed", c, "listener(s)")
                    };
                    r.exports = a
                },
                function(r, b, a) {
                    r.exports = {
                        mlb: a(750),
                        x6b: a(751)
                    }
                },
                function(r, b, a) {
                    function c(d) {
                        this.data = d;
                        this.right = this.left = null;
                        this.red = !0
                    }
                
                    function f(d) {
                        this.df = null;
                        this.kn = d;
                        this.size = 0
                    }
                
                    function k(d) {
                        return null !== d && d.red
                    }
                
                    function m(d, h) {
                        var l = d.xh(!h);
                        d.Uq(!h, l.xh(h));
                        l.Uq(h, d);
                        d.red = !0;
                        l.red = !1;
                        return l
                    }
                
                    function g(d, h) {
                        d.Uq(!h, m(d.xh(!h), !h));
                        return m(d, h)
                    }
                    b = a(364);
                    c.prototype.xh = function(d) {
                        return d ? this.right : this.left
                    };
                    c.prototype.Uq =
                        function(d, h) {
                            d ? this.right = h : this.left = h
                        };
                    f.prototype = new b;
                    f.prototype.wq = function(d) {
                        var h = !1;
                        if (null === this.df) this.df = new c(d), h = !0, this.size++;
                        else {
                            var l = new c(void 0),
                                n = 0,
                                q = 0,
                                p = null,
                                u = l,
                                t = null,
                                w = this.df;
                            for (u.right = this.df;;) {
                                null === w ? (w = new c(d), t.Uq(n, w), h = !0, this.size++) : k(w.left) && k(w.right) && (w.red = !0, w.left.red = !1, w.right.red = !1);
                                if (k(w) && k(t)) {
                                    var v = u.right === p;
                                    w === t.xh(q) ? u.Uq(v, m(p, !q)) : u.Uq(v, g(p, !q))
                                }
                                v = this.kn(w.data, d);
                                if (0 === v) break;
                                q = n;
                                n = 0 > v;
                                null !== p && (u = p);
                                p = t;
                                t = w;
                                w = w.xh(n)
                            }
                            this.df =
                                l.right
                        }
                        this.df.red = !1;
                        return h
                    };
                    f.prototype.remove = function(d) {
                        if (null === this.df) return !1;
                        var h = new c(void 0),
                            l = h;
                        l.right = this.df;
                        for (var n = null, q, p = null, u = 1; null !== l.xh(u);) {
                            var t = u;
                            q = n;
                            n = l;
                            l = l.xh(u);
                            var w = this.kn(d, l.data);
                            u = 0 < w;
                            0 === w && (p = l);
                            if (!k(l) && !k(l.xh(u)))
                                if (k(l.xh(!u))) q = m(l, u), n.Uq(t, q), n = q;
                                else if (!k(l.xh(!u)) && (w = n.xh(!t), null !== w))
                                if (k(w.xh(!t)) || k(w.xh(t))) {
                                    var v = q.right === n;
                                    k(w.xh(t)) ? q.Uq(v, g(n, t)) : k(w.xh(!t)) && q.Uq(v, m(n, t));
                                    t = q.xh(v);
                                    t.red = !0;
                                    l.red = !0;
                                    t.left.red = !1;
                                    t.right.red = !1
                                } else n.red = !1, w.red = !0, l.red = !0
                        }
                        null !== p && (p.data = l.data, n.Uq(n.right === l, l.xh(null === l.left)), this.size--);
                        this.df = h.right;
                        null !== this.df && (this.df.red = !1);
                        return null !== p
                    };
                    r.exports = f
                },
                function(r, b, a) {
                    function c(k) {
                        this.data = k;
                        this.right = this.left = null
                    }
                
                    function f(k) {
                        this.df = null;
                        this.kn = k;
                        this.size = 0
                    }
                    b = a(364);
                    c.prototype.xh = function(k) {
                        return k ? this.right : this.left
                    };
                    c.prototype.Uq = function(k, m) {
                        k ? this.right = m : this.left = m
                    };
                    f.prototype = new b;
                    f.prototype.wq = function(k) {
                        if (null === this.df) return this.df =
                            new c(k), this.size++, !0;
                        for (var m = 0, g = null, d = this.df;;) {
                            if (null === d) return d = new c(k), g.Uq(m, d), ret = !0, this.size++, !0;
                            if (0 === this.kn(d.data, k)) return !1;
                            m = 0 > this.kn(d.data, k);
                            g = d;
                            d = d.xh(m)
                        }
                    };
                    f.prototype.remove = function(k) {
                        if (null === this.df) return !1;
                        var m = new c(void 0),
                            g = m;
                        g.right = this.df;
                        for (var d = null, h = null, l = 1; null !== g.xh(l);) {
                            d = g;
                            g = g.xh(l);
                            var n = this.kn(k, g.data);
                            l = 0 < n;
                            0 === n && (h = g)
                        }
                        return null !== h ? (h.data = g.data, d.Uq(d.right === g, g.xh(null === g.left)), this.df = m.right, this.size--, !0) : !1
                    };
                    r.exports =
                        f
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.EHa = void 0;
                    var c = a(26),
                        f = a(5);
                    r = function() {
                        function k() {
                            this.data = {}
                        }
                        Object.defineProperties(k.prototype, {
                            empty: {
                                get: function() {
                                    return 0 === Object.keys(this.data).length
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(k.prototype, {
                            size: {
                                get: function() {
                                    var m = this;
                                    return Object.keys(this.data).reduce(function(g, d) {
                                        return g + m.data[d].length
                                    }, 0)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        k.prototype.get = function(m) {
                            var g;
                            return null !==
                                (g = this.data[m]) && void 0 !== g ? g : []
                        };
                        k.prototype.has = function(m, g) {
                            return (m = this.data[m]) ? void 0 === g ? !0 : -1 !== m.indexOf(g) : !1
                        };
                        k.prototype.count = function(m) {
                            return (m = this.data[m]) ? m.length : 0
                        };
                        k.prototype.keys = function() {
                            return Object.keys(this.data)
                        };
                        k.prototype.values = function() {
                            var m = this;
                            return c.flatten(this.keys().map(function(g) {
                                return m.data[g]
                            }))
                        };
                        k.prototype.set = function(m, g) {
                            (this.data[m] || (this.data[m] = [])).push(g);
                            return this
                        };
                        k.prototype.clear = function() {
                            this.data = {}
                        };
                        k.prototype.delete =
                            function(m, g) {
                                var d = this.data[m];
                                if (void 0 === d) return !1;
                                if (void 0 === g) return f.assert(1 === arguments.length), delete this.data[m], !0;
                                var h = d.indexOf(g);
                                if (-1 === h) return !1;
                                1 === d.length ? delete this.data[m] : d.splice(h, 1);
                                return !0
                            };
                        k.prototype.forEach = function(m, g) {
                            var d = this;
                            m = void 0 !== g ? m.bind(g) : m;
                            this.keys().forEach(function(h) {
                                return d.data[h].forEach(function(l) {
                                    return m(l, h, d)
                                })
                            })
                        };
                        k.prototype.reduce = function(m, g, d) {
                            var h = this;
                            m = void 0 !== d ? m.bind(d) : m;
                            var l = g;
                            this.forEach(function(n, q) {
                                l = m(l, n, q,
                                    h)
                            });
                            return l
                        };
                        k.prototype.map = function(m, g) {
                            var d = this;
                            m = void 0 !== g ? m.bind(g) : m;
                            return c.flatten(this.keys().map(function(h) {
                                return d.data[h].map(function(l) {
                                    return m(l, h, d)
                                })
                            }))
                        };
                        k.prototype.filter = function(m, g) {
                            var d = this;
                            m = void 0 !== g ? m.bind(g) : m;
                            return c.flatten(this.keys().map(function(h) {
                                return d.data[h].filter(function(l) {
                                    return m(l, h, d)
                                })
                            }))
                        };
                        return k
                    }();
                    b.EHa = r
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.LXa = void 0;
                    b.LXa = function(a, c) {
                        return a.filter(function(f) {
                            var k,
                                m;
                            f = null !== (m = null !== (k = f.Mg) && void 0 !== k ? k : f.gs) && void 0 !== m ? m : f.Nf;
                            return !!f && f.XN(c)
                        }).pop()
                    }
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.JLa = b.ILa = void 0;
                    var c = a(26);
                    r = function() {
                        function f(k) {
                            this.G = k;
                            this.listeners = [];
                            this.QX = []
                        }
                        Object.defineProperties(f.prototype, {
                            value: {
                                get: function() {
                                    return this.G
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        f.prototype.set = function(k) {
                            this.G = k;
                            var m = this.QX;
                            this.QX = [];
                            this.listeners.forEach(function(g) {
                                return g(k)
                            });
                            m.forEach(function(g) {
                                return g(k)
                            })
                        };
                        f.prototype.n9a = function() {
                            this.G = void 0
                        };
                        f.prototype.on = function(k) {
                            this.listeners = this.listeners.concat([k]);
                            void 0 !== this.G && k(this.G)
                        };
                        f.prototype.once = function(k) {
                            void 0 !== this.G ? k(this.G) : this.QX.push(k)
                        };
                        f.prototype.IA = function(k) {
                            this.listeners = this.listeners.filter(function(m) {
                                return m !== k
                            });
                            this.QX = this.QX.filter(function(m) {
                                return m !== k
                            })
                        };
                        return f
                    }();
                    b.ILa = r;
                    r = function() {
                        function f() {
                            this.listeners = []
                        }
                        f.prototype.on = function(k, m) {
                            this.listeners.push({
                                signal: k,
                                listener: m
                            });
                            k.on(m)
                        };
                        f.prototype.once =
                            function(k, m) {
                                var g = this;
                                if (void 0 === k.value) {
                                    var d = function(h) {
                                        g.remove(k, m);
                                        m(h)
                                    };
                                    this.listeners.push({
                                        signal: k,
                                        listener: m,
                                        Gdb: d
                                    });
                                    k.once(d)
                                } else k.once(m)
                            };
                        f.prototype.IA = function(k, m) {
                            var g, d = c.re(this.listeners, function(h) {
                                return h.signal === k && h.listener === m
                            });
                            void 0 !== d && k.IA(null !== (g = d.Gdb) && void 0 !== g ? g : d.listener);
                            this.remove(k, m)
                        };
                        f.prototype.removeAllListeners = function() {
                            this.listeners.forEach(function(k) {
                                var m = k.listener,
                                    g = k.Gdb;
                                return k.signal.IA(null !== g && void 0 !== g ? g : m)
                            });
                            this.listeners = []
                        };
                        f.prototype.remove = function(k, m) {
                            this.listeners = this.listeners.filter(function(g) {
                                return g.signal !== k || g.listener !== m
                            })
                        };
                        return f
                    }();
                    b.JLa = r
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.UQ = b.Nqa = void 0;
                    b.Nqa = function(a) {
                        return "function" === typeof(null === a || void 0 === a ? void 0 : a.then)
                    };
                    r = function() {
                        function a() {
                            var c = this;
                            this.WPa = !1;
                            this.promise = new Promise(function(f) {
                                c.Yqb = f
                            })
                        }
                        Object.defineProperties(a.prototype, {
                            then: {
                                get: function() {
                                    return this.promise.then.bind(this.promise)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(a.prototype, {
                            r9a: {
                                get: function() {
                                    return this.WPa
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        a.prototype.resolve = function(c) {
                            this.WPa = !0;
                            this.Yqb(c)
                        };
                        return a
                    }();
                    b.UQ = r
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.sVa = void 0;
                    b.sVa = function(a) {
                        return JSON.parse(JSON.stringify(a))
                    }
                },
                function(r, b, a) {
                    function c(k, m, g) {
                        var d;
                        if (k === m || !g.fo && k == m) return !0;
                        if (typeof k !== typeof m) return !1;
                        if (k && "object" === typeof k) {
                            for (var h in k)
                                if (!c(k[h],
                                        m[h], g)) return !1;
                            if (!g.Awb) {
                                var l = Object.keys(k),
                                    n = Object.keys(m).filter(function(t) {
                                        return 0 > l.indexOf(t)
                                    });
                                try {
                                    for (var q = f.__values(n), p = q.next(); !p.done; p = q.next())
                                        if (h = p.value, !c(k[h], m[h], g)) return !1
                                } catch (t) {
                                    var u = {
                                        error: t
                                    }
                                } finally {
                                    try {
                                        p && !p.done && (d = q.return) && d.call(q)
                                    } finally {
                                        if (u) throw u.error;
                                    }
                                }
                            }
                            return !0
                        }
                        return !1
                    }
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Q4 = void 0;
                    var f = a(2);
                    b.Q4 = function(k, m, g) {
                        void 0 === g && (g = {});
                        g = f.__assign({
                            fo: !1,
                            Awb: !1
                        }, g);
                        return c(k, m, g)
                    }
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.E1 = void 0;
                    r = function() {
                        function a() {
                            this.count = 0;
                            this.max = this.min = this.Ha = NaN
                        }
                        Object.defineProperties(a.prototype, {
                            Bs: {
                                get: function() {
                                    return this.max - this.min
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        a.prototype.push = function(c) {
                            this.count++;
                            1 === this.count ? this.Ha = this.min = this.max = c : (this.min = Math.min(c, this.min), this.max = Math.max(c, this.max), this.Ha += (c - this.Ha) / this.count)
                        };
                        a.prototype.toJSON = function() {
                            return {
                                min: this.min,
                                max: this.max,
                                average: this.Ha
                            }
                        };
                        return a
                    }();
                    b.E1 = r
                },
                function(r, b, a) {
                    function c(k) {
                        this.sP = new Uint16Array(k.length);
                        for (var m = 0; m < k.length; ++m) this.sP[m] = k.charCodeAt(m)
                    }
                    var f = new(a(6).default.Console)("ASEJS_XORCiper", "media|asejs");
                    c.prototype.constructor = c;
                    c.prototype.encrypt = function(k) {
                        var m = this.sP.length;
                        if (void 0 === this.sP) f.warn("XORCiper.encrypt is called with undefined secret!");
                        else {
                            for (var g = "", d = 0; d < k.length; ++d) g += String.fromCharCode(this.sP[d % m] ^ k.charCodeAt(d));
                            return encodeURIComponent(g)
                        }
                    };
                    c.prototype.decrypt = function(k) {
                        var m =
                            "",
                            g = this.sP.length;
                        k = decodeURIComponent(k);
                        for (var d = 0; d < k.length; d++) m += String.fromCharCode(this.sP[d % g] ^ k.charCodeAt(d));
                        return m
                    };
                    r.exports = c
                },
                function(r) {
                    function b(a, c) {
                        this.Ha = a;
                        this.ij = c
                    }
                    b.prototype.zua = function(a) {
                        var c = this.Ha,
                            f = Math.sqrt(2 * this.ij);
                        a *= 2;
                        if (2 <= a) a = -100;
                        else if (0 >= a) a = 100;
                        else {
                            var k = 1 > a ? a : 2 - a,
                                m = Math.sqrt(-2 * Math.log(k / 2));
                            m = -.70711 * ((2.30753 + .27061 * m) / (1 + m * (.99229 + .04481 * m)) - m);
                            for (var g = 0; 2 > g; g++) {
                                var d = Math.abs(m),
                                    h = 1 / (1 + d / 2);
                                d = h * Math.exp(-d * d - 1.26551223 + h * (1.00002368 +
                                    h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));
                                d = (0 <= m ? d : 2 - d) - k;
                                m += d / (1.1283791670955126 * Math.exp(-(m * m)) - m * d)
                            }
                            a = 1 > a ? m : -m
                        }
                        return c - f * a
                    };
                    r.exports = b
                },
                function(r, b, a) {
                    function c(h, l, n) {
                        k.call(this, h, l, n)
                    }
                
                    function f(h, l) {
                        m.call(this, new c(h, l, !1))
                    }
                    var k = a(762),
                        m = a(763),
                        g = a(117).DGb,
                        d = a(117).RJb;
                    c.prototype = Object.create(k.prototype);
                    c.prototype.Ha = function() {
                        return Math.floor(8 * g(this.Od) / this.Gd)
                    };
                    c.prototype.ij = function() {
                        return Math.floor(64 *
                            d(this.Od) / (this.Gd * this.Gd))
                    };
                    c.prototype.get = function() {
                        return {
                            Ha: this.Ha(),
                            ij: this.ij(),
                            dbc: this.Od.length
                        }
                    };
                    c.prototype.toString = function() {
                        return "bsw(" + this.RL + "," + this.Gd + "," + this.gk + ")"
                    };
                    f.prototype = Object.create(m.prototype);
                    f.prototype.setInterval = function(h) {
                        this.eL.setInterval(h)
                    };
                    r.exports = f
                },
                function(r) {
                    function b(a, c, f) {
                        this.RL = a;
                        this.gk = Math.floor((a + c - 1) / c);
                        this.Gd = c;
                        this.Fqb = f;
                        this.reset()
                    }
                    b.prototype.shift = function() {
                        this.Od.shift();
                        this.ki.shift()
                    };
                    b.prototype.update = function(a,
                        c) {
                        this.Od[a] += c
                    };
                    b.prototype.push = function(a) {
                        this.Od.push(0);
                        this.ki.push(a ? a : 0);
                        this.Eb += this.Gd
                    };
                    b.prototype.add = function(a, c, f, k) {
                        if (null === this.Eb) {
                            var m = Math.max(Math.floor((f - c + this.Gd - 1) / this.Gd), 1);
                            for (this.Eb = c; this.Od.length < m;) this.push(k)
                        }
                        for (; this.Eb < f;)
                            if (this.push(k), this.Fqb)
                                for (; 1 < this.Od.length && f + k - (this.Eb - this.Gd * this.Od.length + this.ki[0]) > this.RL;) this.shift();
                            else this.Od.length > this.gk && this.shift();
                        if (c > this.Eb - this.Gd) this.update(this.Od.length - 1, a);
                        else if (c == f) k = this.Od.length -
                            Math.max(Math.ceil((this.Eb - f) / this.Gd), 1), 0 <= k && this.update(k, a);
                        else
                            for (k = 1; k <= this.Od.length; ++k) {
                                m = this.Eb - k * this.Gd;
                                var g = m + this.Gd;
                                if (!(m > f)) {
                                    if (g < c) break;
                                    this.update(this.Od.length - k, Math.round(a * (Math.min(g, f) - Math.max(m, c)) / (f - c)))
                                }
                            }
                        for (; this.Od.length > this.gk;) this.shift()
                    };
                    b.prototype.reset = function() {
                        this.Od = [];
                        this.ki = [];
                        this.Eb = null
                    };
                    b.prototype.setInterval = function(a) {
                        this.gk = Math.floor((a + this.Gd - 1) / this.Gd)
                    };
                    r.exports = b
                },
                function(r) {
                    function b(a) {
                        this.eL = a;
                        this.Re = 0;
                        this.LL = null
                    }
                    b.prototype.add = function(a, c, f) {
                        null !== this.LL && c > this.LL && (this.Re += c - this.LL, this.LL = null);
                        this.eL.add(a, c - this.Re, f - this.Re, this.Re)
                    };
                    b.prototype.stop = function(a) {
                        null === this.LL && (this.LL = a)
                    };
                    b.prototype.Bua = function(a, c) {
                        return this.eL.Bua(a, c)
                    };
                    b.prototype.get = function() {
                        return this.eL.get()
                    };
                    b.prototype.reset = function() {
                        this.eL.reset()
                    };
                    b.prototype.toString = function() {
                        return this.eL.toString()
                    };
                    r.exports = b
                },
                function(r, b, a) {
                    function c(u) {
                        this.Anb = u
                    }
                    b = a(367);
                    var f = b.Wgb,
                        k = b.Ugb,
                        m = a(226).Vgb,
                        g =
                        a(226).pmb,
                        d = a(368),
                        h = a(369),
                        l = a(370).sMa,
                        n = a(765),
                        q = a(766),
                        p = a(169);
                    c.prototype.constructor = c;
                    c.prototype.create = function(u, t) {
                        var w = this.Anb[u],
                            v = t[u],
                            x = {};
                        w && Object.keys(w).forEach(function(z) {
                            x[z] = w[z]
                        });
                        v && Object.keys(v).forEach(function(z) {
                            x[z] = v[z]
                        });
                        switch (x.type) {
                            case "slidingwindow":
                                var y = new m(x.mw);
                                break;
                            case "discontiguous-ewma":
                                y = new k(x.mw);
                                break;
                            case "wssl":
                                y = new g(x.mw, x.max_n);
                                break;
                            case "iqr":
                                y = new d(x.mx, x.mn, x.bw, x.iv);
                                break;
                            case "tdigest":
                                y = new h(x);
                                break;
                            case "discrete-ewma":
                                y =
                                    new f(x.hl);
                                break;
                            case "tdigest-history":
                                y = new l(x);
                                break;
                            case "iqr-history":
                                y = new n(x);
                                break;
                            case "avtp":
                                y = new p;
                                break;
                            case "entropy":
                                y = new q(x)
                        }
                        y && (y.type = x.type);
                        return y
                    };
                    r.exports = c
                },
                function(r, b, a) {
                    function c() {
                        this.ck = void 0;
                        this.oC = 0
                    }
                    var f = a(10);
                    c.prototype.getState = function() {
                        return 0 !== this.oC && this.ck ? {
                            p25: this.ck.Ml,
                            p50: this.ck.Bk,
                            p75: this.ck.Nl,
                            c: this.oC
                        } : null
                    };
                    c.prototype.Ye = function(k) {
                        if (!(!f.Lb(k) && f.has(k, "p25") && f.has(k, "p50") && f.has(k, "p75") && f.has(k, "c") && f.isFinite(k.p25) && f.isFinite(k.p50) &&
                                f.isFinite(k.p75) && f.isFinite(k.c))) return this.ck = void 0, this.oC = 0, !1;
                        this.ck = {
                            Ml: k.p25,
                            Bk: k.p50,
                            Nl: k.p75
                        };
                        this.oC = k.c
                    };
                    c.prototype.get = function() {
                        return {
                            U9: this.ck,
                            kwa: this.oC
                        }
                    };
                    c.prototype.set = function(k, m) {
                        this.ck = k;
                        this.oC = m
                    };
                    c.prototype.reset = function() {
                        this.ck = void 0;
                        this.oC = 0
                    };
                    c.prototype.toString = function() {
                        return "IQRHist(" + this.ck + "," + this.oC + ")"
                    };
                    r.exports = c
                },
                function(r, b, a) {
                    function c(k) {
                        var m = k.sw,
                            g = k.mw;
                        this.QL = m;
                        this.$fa = {
                            uhd: k.uhdl,
                            hd: k.hdl
                        };
                        this.gk = Math.max(Math.ceil(1 * m / g), 1);
                        this.gpb =
                            k.mins || 1;
                        f.call(this, m, g);
                        this.reset()
                    }
                    var f = a(142);
                    new(a(6).default.Console)("ASEJS_NETWORK_ENTROPY", "media|asejs");
                    c.prototype = Object.create(f.prototype);
                    c.prototype.flush = function() {
                        this.Od.map(function(k, m) {
                            this.bRa(k, this.Hna(m))
                        }, this)
                    };
                    c.prototype.xvb = function() {
                        var k = this.$fa,
                            m;
                        for (m in k)
                            if (k.hasOwnProperty(m)) {
                                var g = k[m],
                                    d = this.bia[m],
                                    h = this.$ha[m];
                                if (d.first) {
                                    var l = d.first,
                                        n = d.DI;
                                    void 0 !== n && (h[l][n] += 1);
                                    d.first = void 0
                                }
                                d = [];
                                l = 0;
                                g = n = g.length + 1;
                                for (var q = 0; q < n; q++) {
                                    for (var p = 0, u = 0; u < g; u++) p +=
                                        h[u][q];
                                    l += p;
                                    d.push(p)
                                }
                                p = -1;
                                if (l > this.gpb) {
                                    for (q = p = 0; q < n; q++)
                                        if (0 < d[q])
                                            for (u = 0; u < g; u++) {
                                                var t = h[u][q];
                                                0 < t && (p -= t * Math.log(1 * t / d[q]))
                                            }
                                    p /= l * Math.log(2)
                                }
                                this.zga[m] = p
                            } return this.zga
                    };
                    c.prototype.bRa = function(k, m) {
                        for (var g = this.gk, d = this.$fa; this.n2.length >= g;) this.n2.shift();
                        for (; this.o2.length >= g;) this.o2.shift();
                        this.n2.push(k);
                        this.o2.push(m);
                        k = this.n2.reduce(function(q, p) {
                            return q + p
                        }, 0);
                        m = this.o2.reduce(function(q, p) {
                            return q + p
                        }, 0);
                        if (0 < m) {
                            k = 8 * k / m;
                            for (var h in d)
                                if (d.hasOwnProperty(h)) {
                                    m = this.bia[h];
                                    g = this.$ha[h];
                                    var l = this.QWb(k, d[h]),
                                        n = m.DI;
                                    void 0 !== n ? g[l][n] += 1 : m.first = l;
                                    m.DI = l
                                }
                        }
                    };
                    c.prototype.QWb = function(k, m) {
                        for (var g = 0; g < m.length && k > m[g];) g += 1;
                        return g
                    };
                    c.prototype.shift = function() {
                        this.bRa(this.Od[0], this.Hna(0));
                        f.prototype.shift.call(this)
                    };
                    c.prototype.reset = function() {
                        this.bia = {};
                        this.n2 = [];
                        this.o2 = [];
                        this.$ha = {};
                        this.zga = {};
                        var k = this.$fa,
                            m;
                        for (m in k)
                            if (k.hasOwnProperty(m)) {
                                var g = this.$ha,
                                    d = m,
                                    h, l = void 0,
                                    n = Array(l);
                                l = h = k[m].length + 1;
                                for (var q = 0; q < l; q++) {
                                    n[q] = Array(h);
                                    for (var p = 0; p <
                                        h; p++) n[q][p] = 0
                                }
                                g[d] = n;
                                this.bia[m] = {
                                    first: void 0,
                                    DI: void 0
                                };
                                this.zga[m] = 0
                            } f.prototype.reset.call(this)
                    };
                    r.exports = c
                },
                function(r, b, a) {
                    function c(m) {
                        this.J = m;
                        this.TS()
                    }
                    var f = a(10),
                        k = a(6).default;
                    new k.Console("ASEJS_NETWORK_HISTORY", "media|asejs");
                    c.prototype.save = function() {
                        var m = this.getState();
                        k.storage.set("nh", m)
                    };
                    c.prototype.T0b = function() {
                        this.lG || (this.lG = !0, this.Hy = k.time.fa())
                    };
                    c.prototype.$0b = function() {
                        if (this.lG) {
                            var m = k.time.fa();
                            this.Ny += m - this.Hy;
                            this.Hy = m;
                            this.lG = !1;
                            this.SS = null
                        }
                    };
                    c.prototype.k1a = function(m, g) {
                        this.lG && (g > this.Hy && (this.Ny += g - this.Hy, this.Hy = g), null === this.SS || m > this.SS) && (m = g - m, this.sL.push([this.Ny - m, m]), this.Arb(), this.SS = g)
                    };
                    c.prototype.Arb = function() {
                        var m = this.Ny - this.J.LRb;
                        this.sL = this.sL.filter(function(g) {
                            return g[0] > m
                        })
                    };
                    c.prototype.TS = function() {
                        var m = k.storage.get("nh");
                        this.Sha(m) || (this.Hy = k.time.fa(), this.Ny = 0, this.lG = !1, this.SS = null, this.sL = [])
                    };
                    c.prototype.Sha = function(m) {
                        if (!(m && f.has(m, "t") && f.has(m, "s") && f.has(m, "i") && f.Ea(m.t) && f.Ea(m.s) &&
                                f.isArray(m.i))) return !1;
                        this.Hy = k.time.jta(1E3 * m.t);
                        this.Ny = 1E3 * m.s;
                        this.lG = !1;
                        this.sL = m.i.map(function(g) {
                            return [1E3 * g[0], g[1]]
                        });
                        this.SS = null;
                        return !0
                    };
                    c.prototype.getState = function() {
                        return this.lG ? {
                            t: k.time.now() / 1E3 | 0,
                            s: (this.Ny + (k.time.fa() - this.Hy)) / 1E3 | 0,
                            i: this.sL.map(function(m) {
                                return [m[0] / 1E3 | 0, m[1]]
                            })
                        } : {
                            t: k.time.Nsa(this.Hy) / 1E3 | 0,
                            s: this.Ny / 1E3 | 0,
                            i: this.sL.map(function(m) {
                                return [m[0] / 1E3 | 0, m[1]]
                            })
                        }
                    };
                    r.exports = c
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.eDa =
                        void 0;
                    r = a(2);
                    var c = a(769);
                    new(r.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY", "media|asejs");
                    !1;
                    a = function() {
                        function f(k) {
                            this.aqa = k;
                            this.Fz = {};
                            !1
                        }
                        f.prototype.reset = function() {
                            this.zE = new c.hBa
                        };
                        f.prototype.kP = function(k, m) {
                            m.vi && (this.aqa ? this.zE.start(k, m.vi) : 1 === m.type && (this.Fz[m.vi] ? this.Fz[m.vi].o_ += 1 : this.Fz[m.vi] = {
                                vi: m.vi,
                                o_: 1,
                                J5: !1
                            }, this.pcb(k)))
                        };
                        f.prototype.NY = function(k, m) {
                            if (m.vi)
                                if (this.aqa) this.zE.stop(k, m.vi);
                                else {
                                    var g = this.Fz[m.vi];
                                    1 === m.type && g && (--g.o_, 0 ===
                                        g.o_ && (g.J5 && this.zE.stop(k, m.vi), g.J5 = !1, delete this.Fz[m.vi]), this.pcb(k))
                                }
                        };
                        f.prototype.rw = function(k, m, g, d) {
                            d.vi && (this.aqa ? this.zE.add(k, m, g, d.vi) : this.CT === d.vi && this.zE.add(k, m, g, d.vi))
                        };
                        f.prototype.Sw = function() {
                            return this.zE.get()
                        };
                        f.prototype.pcb = function(k) {
                            var m = Object.keys(this.Fz),
                                g = this.Fz[m[0]];
                            1 === m.length && !1 === g.J5 ? (this.zE.start(k, g.vi), this.CT = g.vi) : 1 < m.length && this.CT && (m = this.Fz[this.CT], this.zE.stop(k, this.CT), m.J5 = !1, this.CT = void 0)
                        };
                        return f
                    }();
                    b.eDa = a
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.hBa = void 0;
                    var c = a(2).__importDefault(a(169));
                    !1;
                    r = function() {
                        function f() {
                            this.Q2 = {};
                            !1
                        }
                        f.prototype.add = function(k, m, g, d) {
                            var h = this.Q2;
                            void 0 === h[d] && (h[d] = new c.default);
                            h[d].add(k, m, g)
                        };
                        f.prototype.start = function(k, m) {
                            var g = this.Q2;
                            void 0 === g[m] && (g[m] = new c.default);
                            g[m].start(k)
                        };
                        f.prototype.stop = function(k, m) {
                            var g = this.Q2;
                            void 0 !== g[m] && g[m].stop(k)
                        };
                        f.prototype.get = function() {
                            for (var k = this.Q2, m = Object.keys(k), g = [], d = 0; d < m.length; d++) {
                                var h = m[d],
                                    l = k[h].get();
                                l &&
                                    g.push({
                                        cdnid: h,
                                        avtp: l.Ha,
                                        tm: l.XC
                                    })
                            }
                            return g
                        };
                        return f
                    }();
                    b.hBa = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.vIa = void 0;
                    var c = a(2).__importDefault(a(169));
                    !1;
                    r = function() {
                        function f(k) {
                            this.RY = [0, 0];
                            this.eh = [0, 0];
                            this.WX = [0, 0];
                            !1;
                            this.M9 = k.M9;
                            this.Lta = [new c.default, new c.default];
                            this.n6a = new c.default
                        }
                        f.prototype.reset = function() {
                            this.RY = [0, 0];
                            this.eh = [0, 0];
                            this.WX = [0, 0]
                        };
                        f.prototype.rw = function(k, m, g, d) {
                            var h, l;
                            this.eh[d.type] += k;
                            if (null === (h = d.NI) || void 0 === h ? 0 : h.J7()) this.RY[d.type] +=
                                k, this.n6a.add(k, m, g), this.Lta[d.type].add(k, m, g);
                            if (null === (l = d.NI) || void 0 === l ? 0 : l.F3a(k, m, g, this.M9)) this.WX[d.type] += k
                        };
                        f.prototype.C6 = function() {
                            return {
                                bytesRequestedPacingVideo: this.RY[1],
                                bytesRequestedPacingAudio: this.RY[0],
                                estimatedBytesPacedVideo: this.WX[1],
                                estimatedBytesPacedAudio: this.WX[0],
                                bytestotalVideo: this.eh[1],
                                bytestotalAudio: this.eh[0],
                                pacedAvtpVideo: this.Lta[1].get().Ha,
                                pacedAvtpAudio: this.Lta[0].get().Ha,
                                pacedAvtp: this.n6a.get().Ha
                            }
                        };
                        return f
                    }();
                    b.vIa = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.oFa = void 0;
                    var c = a(2).__importDefault(a(169));
                    !1;
                    r = function() {
                        function f(k) {
                            this.TZ = [0, 0];
                            this.IH = new c.default;
                            this.w$ = !1;
                            this.xO = this.zO = 0;
                            !1;
                            this.gQb = k ? k : 3
                        }
                        f.prototype.reset = function() {
                            this.TZ = [0, 0];
                            this.w$ = !1;
                            this.IH = new c.default;
                            this.xO = this.zO = 0
                        };
                        f.prototype.rw = function(k, m, g) {
                            this.w$ || (this.IH.add(k, m, g), this.zO++, 1 === g - m && this.xO++)
                        };
                        f.prototype.PLb = function(k) {
                            this.w$ || (++this.TZ[k], this.TZ[1] >= this.gQb && (this.w$ = !0))
                        };
                        f.prototype.u6 = function() {
                            return {
                                IH: this.IH.get().Ha,
                                XC: this.IH.get().XC,
                                X0a: this.TZ[0],
                                Y0a: this.TZ[1],
                                zO: this.zO,
                                xO: this.xO
                            }
                        };
                        return f
                    }();
                    b.oFa = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.KFa = void 0;
                    var c = a(2),
                        f = c.__importStar(a(10));
                    r = a(19);
                    var k = c.__importDefault(a(27)),
                        m = c.__importDefault(a(773)),
                        g = c.__importDefault(a(6)),
                        d = a(166),
                        h = a(223);
                    c.__importDefault(a(225));
                    var l = c.__importDefault(a(774));
                    a(371);
                    var n = a(5),
                        q = a(777),
                        p = a(880),
                        u = new g.default.Console("ASEJS", "media|asejs"),
                        t = u.trace.bind(u),
                        w = u.warn.bind(u);
                    !1;
                    r =
                        function(v) {
                            function x(y, z) {
                                var A = v.call(this) || this;
                                A.config = y;
                                A.AE = z;
                                y = a(408);
                                t("nf-ase version:", y, "DEBUG:", !1);
                                A.Wga = !1;
                                A.oqb = !1;
                                A.gG = [];
                                !1;
                                return A
                            }
                            c.__extends(x, v);
                            Object.defineProperties(x.prototype, {
                                Vb: {
                                    get: function() {
                                        return this.c2.Vb
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                Sn: {
                                    get: function() {
                                        return this.c2.Sn
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                qv: {
                                    get: function() {
                                        return this.Pha
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                iB: {
                                    get: function() {
                                        return this.Z2
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                Uqa: {
                                    get: function() {
                                        return !f.la(this.iQa)
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                rE: {
                                    get: function() {
                                        return this.fQa
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                If: {
                                    get: function() {
                                        return this.Ay
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                Sh: {
                                    get: function() {
                                        return this.c2.Sh
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            Object.defineProperties(x.prototype, {
                                Tpa: {
                                    get: function() {
                                        return this.oqb
                                    },
                                    enumerable: !1,
                                    configurable: !0
                                }
                            });
                            x.prototype.Ab = function(y, z, A, B, E, D) {
                                var F = this,
                                    G = this.config;
                                h.ZJ.reset();
                                0 < G.Lu && (!f.la(y) && y > G.Lu && (y = G.Lu), z > G.Lu && (z = G.Lu));
                                f.la(y) && (this.iQa = z);
                                this.Z2 = B;
                                this.fQa = E;
                                m.default(G);
                                this.c2 = h.ZJ.RZa(G, this.AE);
                                this.Pha = new l.default(G);
                                if (G.Rcb || G.Rya) z = new p.lEa(this, G, A, D), y = function(C) {
                                    F.emit(C.type, C)
                                }, z.addListener("prebuffstats", y), z.addListener("discardedBytes", y), z.addListener("flushedBytes",
                                    y), z.addListener("cacheEvict", y), (G.Vya || G.Uya) && z.addListener("mediacache", function(C) {
                                    F.emit("mediacache", C)
                                }), this.Ay = z;
                                this.Wga = !0
                            };
                            x.prototype.nZ = function(y, z, A) {
                                this.iQa = y;
                                this.Z2 = z || 0;
                                this.fQa = A || 0
                            };
                            x.prototype.createSession = function(y, z, A, B, E, D, F, G, C, H) {
                                if (this.Wga) return G = G || this.config, this.Vb.reset(), this.Sn.T0b(), this.Pha.reset(), void 0 === D && (D = this.d6(y, z)), f.la(this.Z2) && (this.Z2 = g.default.Mo()[k.default.Wa.Pb] <= G.fRb ? 0 : G.SY), y = new q.ELa(this, y, H, z, A, B, E, D, F, G, C), this.gG.push(y), y;
                                w("open: streamingManager not initted")
                            };
                            x.prototype.aX = function(y, z) {
                                return this.Ay && (y = this.Ay.aX(y, z)) ? y : !1
                            };
                            x.prototype.Jqb = function(y) {
                                this.Vb.CP(null);
                                var z = this.gG.indexOf(y);
                                f.la(z) ? w("can't find session in array, movieId:", y.He.P.K) : (this.gG.splice(z, 1), 0 === this.gG.length && this.Sn.$0b(), this.Sn.save(), this.Sh.save())
                            };
                            x.prototype.d6 = function(y, z, A) {
                                return d.GZa(y, z, A)
                            };
                            x.prototype.Vja = function() {
                                var y;
                                null === (y = this.Ay) || void 0 === y ? void 0 : y.UXa()
                            };
                            x.prototype.EC = function() {
                                var y;
                                null === (y =
                                    this.Ay) || void 0 === y ? void 0 : y.YBb()
                            };
                            x.prototype.Jb = function() {
                                n.assert(0 === this.gG.length, "Attempted to destruct Manager before all Sessions removed");
                                this.Wga = !1;
                                delete this.c2;
                                delete this.Pha;
                                delete this.AE;
                                this.EC();
                                delete this.Ay;
                                h.ZJ.reset()
                            };
                            return x
                        }(r.EventEmitter);
                    b.KFa = r
                },
                function(r, b, a) {
                    function c(d) {
                        var h = nrdp.Wi.jfc.match(/android-(\d*)/);
                        h ? 23 < h[1] ? d.Qxa = !1 : (h = nrdp.Wi.t$b.Ut.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/), d.Qxa = h ? 6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3] ?
                            !0 : !1 : !1) : d.Qxa = !1;
                        d.K1b = !1
                    }
                    var f = a(5).assert;
                    a(124);
                    var k = a(6).default,
                        m = k.pr,
                        g = k.sjb;
                    r.exports = function() {
                        var d = new k.Console("ASEJSMONKEY", "media|asejs");
                        if (!k.pr.Sc) {
                            var h = function(q) {
                                    this.Zob = q
                                },
                                l = g.prototype.appendBuffer;
                            k.MediaSource.Sc || (k.MediaSource.Sc = {});
                            "undefined" !== typeof nrdp && nrdp.uRa && (c(k.MediaSource.Sc, d), k.MediaSource.Sc.GTa = !1, k.MediaSource.Sc.Q4a = !1);
                            k.pr.Sc = {
                                UY: {
                                    Xdb: !0,
                                    bS: !0,
                                    Ejb: !0
                                }
                            };
                            Object.defineProperty(m.prototype, "_response", {
                                get: function() {
                                    return this.srb || this.ynb
                                },
                                set: function(q) {
                                    this.ynb =
                                        q
                                }
                            });
                            var n = m.prototype.open;
                            m.prototype.open = function(q, p, u, t, w, v, x) {
                                1 === u && (this.srb = new h(this));
                                return n.call(this, q, p, u, t, w, v, x)
                            };
                            m.prototype.GY = function() {
                                this.GL = void 0
                            };
                            g.prototype.appendBuffer = function(q) {
                                if (q instanceof ArrayBuffer) return l.call(this, q);
                                if (q instanceof h) return this.B3(q.Zob);
                                f(!1)
                            }
                        }
                    }
                },
                function(r, b, a) {
                    function c() {
                        this.Dy = this.CS = this.u2 = this.H2 = this.q2 = null
                    }
                
                    function f(g) {
                        this.J = g;
                        this.qC = [];
                        this.zr = new c;
                        this.TS()
                    }
                    var k = a(10);
                    a(27);
                    a(9);
                    var m = a(6).default;
                    new m.Console("ASEJS_SESSION_HISTORY",
                        "media|asejs");
                    c.prototype.Ye = function(g) {
                        var d = !1;
                        g && k.has(g, "ens") && k.has(g, "lns") && k.has(g, "fns") && k.has(g, "d") && k.has(g, "t") && (this.q2 = g.ens, this.H2 = g.lns, this.u2 = g.fns, this.CS = g.d, this.Dy = g.t, d = !0);
                        return d
                    };
                    c.prototype.getState = function() {
                        if (k.Lb(this.q2) || k.Lb(this.H2) || k.Lb(this.u2) || k.Lb(this.CS) || k.Lb(this.Dy)) return null;
                        var g = {
                            d: this.CS,
                            t: this.Dy
                        };
                        g.ens = this.q2;
                        g.lns = this.H2;
                        g.fns = this.u2;
                        return g
                    };
                    c.prototype.get = function() {
                        var g = this.getState();
                        if (g) {
                            var d = new Date(this.Dy);
                            g.dateint =
                                1E4 * d.getFullYear() + 100 * (d.getMonth() + 1) + d.getDate();
                            g.hour = d.getHours()
                        }
                        return g
                    };
                    f.prototype.TS = function() {
                        var g = m.storage.get("sth");
                        g && this.Ye(g)
                    };
                    f.prototype.Ye = function(g) {
                        var d = null,
                            h = this.J;
                        g.forEach(function(l) {
                            var n = new c;
                            n.Ye(l) ? (d = !0, this.qC.push(n)) : k.Lb(d) && (d = !1)
                        }, this);
                        this.qC = this.qC.filter(function(l) {
                            return l.CS >= h.W8
                        });
                        this.qC.sort(function(l, n) {
                            return l.Dy - n.Dy
                        });
                        return k.Lb(d) ? !0 : d
                    };
                    f.prototype.Pga = function() {
                        var g = [];
                        this.qC.forEach(function(d) {
                            g.push(d.getState())
                        }, this);
                        return g
                    };
                    f.prototype.save = function() {
                        var g = this.Pga(),
                            d = this.J,
                            h = this.zr.getState();
                        h && h.d >= d.W8 && (g.push(h), this.qC.push(this.zr));
                        g.length > d.u8 && (g = g.slice(g.length - d.u8, g.length));
                        this.zr = new c;
                        g && m.storage.set("sth", g)
                    };
                    f.prototype.reset = function() {
                        this.zr = new c
                    };
                    f.prototype.fHb = function() {
                        return this.zr.get()
                    };
                    f.prototype.oJb = function() {
                        return this.qC.length + 1
                    };
                    f.prototype.jsb = function(g) {
                        this.zr.q2 = g;
                        this.zr.Dy = m.time.fa()
                    };
                    f.prototype.tsb = function(g) {
                        this.zr.H2 = g;
                        this.zr.Dy = m.time.fa()
                    };
                    f.prototype.nsb =
                        function(g, d) {
                            this.zr.u2 = g;
                            this.zr.Dy = m.time.fa();
                            this.zr.CS = d
                        };
                    r.exports = f
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.qGa = void 0;
                    r = function() {
                        function a(c, f, k) {
                            this.wrb = f;
                            this.Umb = k;
                            this.I = c
                        }
                        a.prototype.Bua = function(c) {
                            c = this.gMb(c, this.wrb) + this.Umb;
                            return this.Eha = isNaN(c) ? NaN : this.hxa(c)
                        };
                        a.prototype.Ywb = function(c) {
                            return isNaN(this.Eha) ? 0 : this.Eha > c ? 1 : 0
                        };
                        a.prototype.gMb = function(c, f) {
                            var k = 0;
                            if (c.length !== f.length) k = NaN;
                            else
                                for (var m = 0; m < c.length; m++) k += c[m] * f[m];
                            return k
                        };
                        a.prototype.hxa = function(c) {
                            return 1 / (1 + Math.exp(-c))
                        };
                        return a
                    }();
                    b.qGa = r
                },
                function(r, b) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.VR = void 0;
                    r = function() {
                        function a(c) {
                            this.ck = {};
                            this.lha = c;
                            this.jg = [];
                            this.Gr = !1;
                            this.hG = void 0
                        }
                        a.prototype.t3 = function(c) {
                            this.jg.length === this.lha && this.jg.shift();
                            Array.isArray(c) ? this.jg = this.jg.concat(c) : this.jg.push(c);
                            this.Gr = !0
                        };
                        a.prototype.xN = function() {
                            return this.jg.length
                        };
                        a.prototype.Xja = function() {
                            var c = this.jg;
                            return 0 < c.length ? c.reduce(function(f,
                                k) {
                                return f + k
                            }, 0) / this.jg.length : void 0
                        };
                        a.prototype.h4 = function() {
                            var c = this.jg,
                                f = this.Xja();
                            if (0 < c.length && "undefined" !== typeof f) return c = c.reduce(function(k, m) {
                                return k + m * m
                            }, 0) / c.length, Math.sqrt(c - f * f)
                        };
                        a.prototype.St = function(c) {
                            if (this.Gr || void 0 === this.hG) this.hG = this.jg.slice(0).sort(function(g, d) {
                                return g - d
                            }), this.Gr = !1;
                            if (void 0 === this.ck[c]) {
                                var f = this.hG,
                                    k = Math.floor(c / 100 * (f.length - 1) + 1) - 1,
                                    m = (c / 100 * (f.length - 1) + 1) % 1;
                                this.ck[c] = k === f.length - 1 ? f[k] : f[k] + m * (f[k + 1] - f[k])
                            }
                            return this.ck[c]
                        };
                        return a
                    }();
                    b.VR = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.ELa = void 0;
                    r = a(2);
                    var c = a(19),
                        f = r.__importStar(a(10)),
                        k = a(141),
                        m = a(778),
                        g = a(166),
                        d = a(17),
                        h = a(217),
                        l = a(241),
                        n = a(242),
                        q = a(824),
                        p = a(825),
                        u = r.__importDefault(a(6)),
                        t = u.default.MediaSource,
                        w = a(9),
                        v = a(5),
                        x = a(168),
                        y = a(389),
                        z = a(827),
                        A = a(828),
                        B = a(238);
                    r = a(44);
                    var E = a(829),
                        D = a(830),
                        F = a(390),
                        G = a(862),
                        C = a(400),
                        H = a(870),
                        L = a(404),
                        N = a(876),
                        J = a(877),
                        Q = a(878),
                        K = a(879);
                    !1;
                    a = function() {
                        function I(M, O, P, S, U, Z, ia, ya, na, X, ra) {
                            var T =
                                this;
                            this.ry = new B.hfa;
                            this.INa = [];
                            this.sD = {
                                ew: [Object.create(null), Object.create(null)]
                            };
                            !1;
                            this.I = new u.default.Console("ASEJS", "media|asejs", "(" + ia.sessionId + ")");
                            this.Sk = this.I.error.bind(this.I);
                            this.Xb = this.I.warn.bind(this.I);
                            this.sn = this.I.trace.bind(this.I);
                            var R = new K.SHa(this, this.I);
                            this.Hb = R;
                            this.oUa = new y.FBa(this.I);
                            var ca = !(!O || !O.choiceMap || "branching" !== O.choiceMap.type),
                                ua = ca ? {
                                    eV: !1,
                                    Tr: !1
                                } : p.pZa(X);
                            this.eV = ua.eV;
                            this.Tr = ua.Tr;
                            this.Ax = X.Ax;
                            this.Zi = new Q.UFa(this, this.I, this.pc.bind(this),
                                ua);
                            this.urb = [!Z.GE, !Z.NT];
                            this.pc(0) && this.pc(1);
                            this.tc = M;
                            this.am = ia;
                            this.J = X = this.oUa.Kmb(O, X);
                            this.O2 = Z.jY;
                            this.xQa = !!Z.Rcb;
                            this.Hrb = !!Z.Rya;
                            this.yL = Z.m8;
                            this.T2 = void 0;
                            this.X = new A.Lza(na);
                            this.sC = U || 0;
                            this.zL = 0;
                            this.Wfa = ya;
                            this.f3 = !1;
                            this.MS = void 0;
                            this.F2 = -1;
                            this.Gha = 0;
                            this.Ki = new c.di;
                            this.$n = new N.vLa(this, this.I, this.pc.bind(this), R);
                            this.og = new J.wCa(this, this.I, this.pc.bind(this));
                            this.YU = new z.vCa(this, this.I, R);
                            if (X.ti && this.tc.If) this.Ki.on(this.tc.If, "managerdebugevent", function(Ua) {
                                w.Za(T,
                                    Ua.type, Ua)
                            });
                            if ((X.Vya || X.Uya) && this.tc.If) this.Ki.on(this.tc.If, "mediacache", function(Ua) {
                                w.Za(T, "mediacache", Ua)
                            });
                            ca && X.VM && !X.oDb && (X.set ? X.set({
                                enableAdaptiveParallelStreaming: !1
                            }) : X.VM = !1);
                            0 === Math.floor(1E6 * Math.random()) % X.aM && (this.Rqb = new q.XKa(X));
                            this.iw = [];
                            this.Pg = [];
                            this.c$a = new l.Fda(O, this.tc.Vb, this.tc.Sh, this.J, void 0);
                            M = this.c$a.xJb();
                            U = null;
                            X.hV && (U = this.tc.qv.qC);
                            x.Tx.instance().reset();
                            O = m.Uda.create({
                                Sb: 0,
                                pa: O,
                                gp: P,
                                S9a: S,
                                Je: !!Z.Je,
                                B1a: !1,
                                Ri: !!Z.Ri,
                                Dd: h.I8(!!Z.NT, !!Z.GE),
                                Z: 0,
                                Ka: Z.Ka,
                                Hb: this.Hb,
                                $r: this.COa.bind(this),
                                dc: this,
                                config: this.J,
                                I: this.I,
                                og: this.og,
                                $n: this.$n,
                                If: this.xQa ? this.tc.If : void 0,
                                sD: this.sD
                            });
                            O.HT = !0;
                            this.Hd = [O];
                            this.zg = new H.Bza(this, this.I, M, this.tc.Vb, X, this.dO(), U, this.pc.bind(this), ua);
                            if (X.vma && this.zg.G7) {
                                X = X.TKb;
                                for (var aa in X) P = X[aa], X.hasOwnProperty(aa) && P && (this.J[aa] = P);
                                this.zg.Cya(this.J)
                            }
                            aa = O.P;
                            this.Pa = new C.oca(this, this.Hb, this.I, this.Tha.bind(this), aa, this.sC, this.J, this.og, this.X, this.IV.bind(this));
                            X = {
                                m8: this.m8,
                                Ds: this.Ds,
                                Ym: this.Ym,
                                jY: this.jY
                            };
                            this.Db = new L.XLa(this.I, this.zg, this.J, this.pc.bind(this), this.X, X, this.tc.Vb, this.Hb, this.og, this.Pa, ua);
                            if (this.Tr) {
                                var La = this;
                                this.X.addListener(function(Ua) {
                                    try {
                                        La.Db.a4b.bind(La.Db)(Ua)
                                    } catch ($a) {
                                        La.Hb.Un("Hindsight: Error when adding updatePlaySegment Listener: " + $a)
                                    }
                                })
                            }
                            ra && this.Db.Tq(ra, aa.S)
                        }
                        Object.defineProperties(I.prototype, {
                            addEventListener: {
                                get: function() {
                                    return this.addListener.bind(this)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            removeEventListener: {
                                get: function() {
                                    return this.removeListener.bind(this)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            GQb: {
                                get: function() {
                                    return this.hg.Sc
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            mediaSourceId: {
                                get: function() {
                                    return this.hg ? this.hg.sZ : void 0
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            Jr: {
                                get: function() {
                                    return this.pc(0)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            Ym: {
                                get: function() {
                                    return this.pc(1)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            attributes: {
                                get: function() {
                                    return this.Wfa
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            Yg: {
                                get: function() {
                                    return this.Ki
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            oY: {
                                get: function() {
                                    return 0 <= this.F2 ? this.F2 : 0
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            He: {
                                get: function() {
                                    return this.Hd[this.zL]
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            qv: {
                                get: function() {
                                    return this.tc.qv
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            Ds: {
                                get: function() {
                                    return this.Rqb
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            m8: {
                                get: function() {
                                    return this.yL
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(I.prototype, {
                            jY: {
                                get: function() {
                                    return this.O2
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        I.prototype.pc = function(M) {
                            return this.urb[M]
                        };
                        I.prototype.IV = function() {
                            return u.default.time.fa() - this.bga
                        };
                        I.prototype.DZa = function() {
                            return (this.Hd || []).reduce(function(M,
                                O) {
                                var P = O.P;
                                h.Cf.forEach(function(S) {
                                    P.cx[S] > M[S] && (M[S] = P.cx[S])
                                });
                                return M
                            }, [0, 0])
                        };
                        I.prototype.dO = function() {
                            var M = 0;
                            f.forEach(this.He.P.pa.audio_tracks, function(O) {
                                f.forEach(O.streams, function(P) {
                                    M = Math.max(M, P.bitrate)
                                })
                            });
                            return M
                        };
                        I.prototype.wh = function(M) {
                            return this.Hd[M]
                        };
                        I.prototype.SHb = function() {
                            var M = this.Hd[0];
                            return M.P.mf.Je ? this.Hd[1] : M
                        };
                        I.prototype.tN = function() {
                            return this.Hd.length
                        };
                        I.prototype.yqa = function(M, O) {
                            if (M === O) return !0;
                            M = this.Hd[M];
                            O = this.Hd[O];
                            return M.P.mf.Je &&
                                O.P.mf.jX || O.P.mf.Je && M.P.mf.jX
                        };
                        I.prototype.Una = function(M) {
                            if (M = this.Pa.Ai.children[M]) return {
                                id: M.H.id,
                                Fe: M.Fe,
                                Ad: M.sua,
                                we: M.we,
                                od: M.Z$,
                                Lc: M.Lc
                            }
                        };
                        I.prototype.Mn = function() {
                            var M = this.Pa.Ai;
                            return {
                                id: M.H.id,
                                Fe: M.Fe,
                                Ad: M.sua,
                                we: M.we,
                                od: M.Z$,
                                Lc: M.Lc
                            }
                        };
                        I.prototype.eQ = function(M, O) {
                            return this.Pa.eQ(M, O)
                        };
                        I.prototype.open = function() {
                            var M = this;
                            if (!f.Ea(this.sC) || 0 > this.sC) this.Qp("startPts must be a positive number, not " + this.sC, void 0, "NFErr_MC_StreamingInitFailure");
                            else {
                                var O = this.J,
                                    P = this.He.P,
                                    S = P.K,
                                    U = [],
                                    Z = ["headers"];
                                this.Ym && (U.push(1), Z.push(1));
                                this.Jr && (U.push(0), Z.push(0));
                                this.YU.zob();
                                var ia = O.Ir;
                                this.tc.If && this.tc.If.Wp(ia, this.am.sessionId);
                                var ya = this.YU.qnb(Z, P);
                                Z.forEach(function(ra, T) {
                                    "headers" === ra ? M.MS = ya[T] : M.Db.Of[ra].Lf = ya[T]
                                });
                                this.Hb.dm("createMediaSourceStart");
                                var na = new t(this.X.FG);
                                if (1 === na.readyState) {
                                    this.Hb.dm("createMediaSourceEnd");
                                    na.Sc || (na.Sc = t.Sc);
                                    this.hg = na;
                                    if (!na.u3(U)) throw this.sn("Error:", na.error), na.error;
                                    na.sourceBuffers.forEach(function(ra) {
                                        var T =
                                            ra.mediaType,
                                            R = M.Db.Of[T];
                                        ra = new n.pca(R.I, T, na, ra, O, !1, M.X, void 0, M.wh.bind(M));
                                        R = new G.EFa(ra, T, M.Pa, M.J, R.I);
                                        ra.addListener("headerAppended", M.lob.bind(M));
                                        ra.addListener("requestAppended", M.oob.bind(M));
                                        ra.addListener("error", function(ca) {
                                            M.Qp(ca.errorstr, void 0, "NFErr_MC_StreamingFailure")
                                        });
                                        ra.addListener("logdata", function(ca) {
                                            w.Za(M, ca.type, ca)
                                        });
                                        O.ti && ra.addListener("managerdebugevent", function(ca) {
                                            w.Za(M, ca.type, ca)
                                        });
                                        M.Pg[T] = ra;
                                        M.iw[T] = R
                                    });
                                    this.ty = new E.UJa(this.iw, this.IL.bind(this), this.X.Ue.bind(this.X));
                                    this.Ds && this.Hb.rpb();
                                    P = this.DZa();
                                    this.Hb.rPa(P);
                                    var X = function() {
                                        M.Hb.Jpb();
                                        M.nn() ? M.Xb("shutdown detected before startRequests") : M.prb()
                                    };
                                    O.MBb ? setTimeout(function() {
                                        M.PNa(S).then(X)
                                    }, 0) : this.PNa(S).then(function() {
                                        setTimeout(X, 0)
                                    });
                                    P = {
                                        type: "logdata",
                                        target: "startplay",
                                        fields: {
                                            audiogapconfig: O.kO,
                                            audiogapdpi: this.hg.Sc && this.hg.Sc.kO,
                                            aseApiVersion: this.uG
                                        }
                                    };
                                    this.emit(P.type, P)
                                } else this.sn("Error:", na.error), this.Qp("exception in init", void 0, "NFErr_MC_StreamingInitFailure")
                            }
                        };
                        Object.defineProperties(I.prototype, {
                            uG: {
                                get: function() {
                                    return "1.0"
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        I.prototype.Loa = function() {};
                        I.prototype.flush = function() {
                            this.Zi.flush()
                        };
                        I.prototype.paused = function() {
                            this.X.paused()
                        };
                        I.prototype.nua = function() {};
                        I.prototype.close = function() {
                            this.c$a.Jb();
                            this.Hd.forEach(function(M) {
                                M.close()
                            });
                            this.Zi.close()
                        };
                        I.prototype.K8a = function() {
                            this.tc.Jqb(this)
                        };
                        I.prototype.md = function() {
                            var M;
                            this.zg.aTb();
                            this.Z1();
                            this.Pa.Jb();
                            this.YU.Cnb();
                            null === (M = this.ty) || void 0 === M ? void 0 : M.reset();
                            this.iw.forEach(function(O) {
                                O.reset()
                            });
                            this.X.Ye(d.sa.nj);
                            this.Hd.forEach(function(O) {
                                O.md()
                            });
                            this.Hd = [];
                            this.Ki.clear();
                            M = this.hg;
                            this.hg = void 0;
                            f.la(M) || M.hq() || this.Xb("Error on MediaSource destroy: ", M.error)
                        };
                        I.prototype.suspend = function() {
                            this.Zi.suspend()
                        };
                        I.prototype.resume = function() {
                            this.Zi.resume()
                        };
                        I.prototype.nn = function() {
                            return this.Zi.nn()
                        };
                        I.prototype.krb = function() {
                            var M = this.J;
                            this.uC && clearTimeout(this.uC);
                            this.uC = setTimeout(this.uT.bind(this), M.fba);
                            this.sy || (this.sy = setInterval(this.Hb.pPa.bind(this.Hb), M.jM));
                            this.g3 ||
                                (this.g3 = setInterval(this.Hb.Spb.bind(this.Hb), M.Kxa));
                            this.Ds && !this.V1 && (this.V1 = setInterval(this.Hb.oPa.bind(this.Hb), M.E3))
                        };
                        I.prototype.Z1 = function() {
                            this.uC && (clearTimeout(this.uC), this.uC = void 0);
                            this.sy && (clearInterval(this.sy), this.sy = void 0);
                            this.g3 && (clearInterval(this.g3), this.g3 = void 0);
                            this.V1 && (clearInterval(this.V1), this.V1 = void 0);
                            this.ZK && (clearTimeout(this.ZK), this.ZK = void 0);
                            this.xga && (clearTimeout(this.xga), this.xga = void 0);
                            this.og.Z1()
                        };
                        I.prototype.play = function() {
                            this.Zi.play()
                        };
                        I.prototype.stop = function() {
                            this.Zi.stop()
                        };
                        I.prototype.Hs = function(M, O) {
                            return this.$n.Hs(M, O)
                        };
                        I.prototype.seek = function(M, O) {
                            return this.$n.seek(M, O)
                        };
                        I.prototype.io = function(M) {
                            var O = this,
                                P = this.J,
                                S = this.Wt(this.oY, M);
                            this.Xb("underflow: going to BUFFERING at player pts:", M, "contentPts:", S, "entry.manifestOffset:", this.He.$w, "branchOffset:", this.Pa.Fe);
                            var U = P.xA;
                            this.Pg.forEach(function(ia) {
                                U = Math.max(0, Math.min(U, ia.qoa - M))
                            });
                            this.Gha += 1;
                            var Z = this.Pa.$c;
                            h.Cf.forEach(function(ia) {
                                var ya, na = Z.Rd(ia);
                                if (na) {
                                    if (P.ti) {
                                        var X = O.Pg[ia],
                                            ra = O.Pa.CG(Z, ia);
                                        X = "underflow: " + M + ", mediaType: " + ia + ", completedMs: " + na.uM + ", completedBytes: " + ra + ", partials: " + na.Ua.WD + ", streamingPts: " + na.Bc + ", completeStreamingPts: " + na.cq + ", fragments: " + JSON.stringify(na.Ua.Y) + ", toAppend: " + (X && X.faa())
                                    }
                                    P.ti && O.Hb.Im(X);
                                    na.wka();
                                    null === (ya = na.dh) || void 0 === ya ? void 0 : ya.rYb()
                                }
                            });
                            this.He.P.zk();
                            this.emit("underflow");
                            this.b3(2);
                            this.og.dk();
                            if (this.Tr) try {
                                this.y5(d.sa.wd)
                            } catch (ia) {
                                this.Hb.Un("Hindsight: Error when evaluating QoE at Buffering: " +
                                    ia)
                            }
                            S = this.tc.Vb.get();
                            S = S.confidence ? S.Sa.Ha : 0;
                            U > P.JEb && S > P.IEb && this.Tha()
                        };
                        I.prototype.eo = function(M) {
                            return this.$n.eo(M)
                        };
                        I.prototype.Mr = function(M, O, P) {
                            return this.$n.Mr(M, O, P)
                        };
                        I.prototype.$Oa = function(M) {
                            this.zL = M;
                            var O = this.Hd[M];
                            this.Hb.Gpb(M, O);
                            this.Hb.rPa(O.P.cx)
                        };
                        I.prototype.VL = function(M, O) {
                            var P = this,
                                S = this.J;
                            if (this.nn()) this.Xb("addManifest: pipelines already shutdown");
                            else {
                                O || (O = {});
                                var U = this.Pa.$c.Rd(0),
                                    Z = this.Pa.$c.Rd(1);
                                if (!O.Scc && (this.Jr && U.kr || this.Ym && Z.kr)) this.Xb("addManifest ignored, pipelines already set EOS:",
                                    U.kr, Z.kr);
                                else {
                                    O.jY && (this.O2 = !0);
                                    U = this.Hd.length;
                                    O.replace && 1 !== U ? U = 1 : this.He.P.mf.Je && !O.replace && 1 === U && (this.Xb("addManifest in fastplay but not drm manifest, leaving space for it"), U = this.Hd[0].clone(), this.Hd.push(U), U = this.Hd.length);
                                    Z = O.Z || 0;
                                    var ia = O.Ka;
                                    M = m.Uda.create({
                                        Sb: U,
                                        pa: M,
                                        gp: void 0,
                                        S9a: O.aQ || [this.He.n6(0), this.He.n6(1)],
                                        Je: !1,
                                        B1a: !!O.replace,
                                        Ri: !!O.Ri,
                                        Dd: h.I8(!!O.NT, !!O.GE),
                                        Z: Z,
                                        Ka: ia,
                                        Hb: this.Hb,
                                        $r: this.COa.bind(this),
                                        dc: this,
                                        config: this.J,
                                        I: this.I,
                                        og: this.og,
                                        $n: this.$n,
                                        If: this.xQa ?
                                            this.tc.If : void 0,
                                        sD: this.sD
                                    });
                                    var ya = M.P;
                                    (O.Nub || this.INa) && this.Db.Tq(O.Nub || this.INa, ya.S);
                                    var na = ["audio_tracks", "video_tracks"],
                                        X = this.DZa();
                                    O.replace && na.forEach(function(ra, T) {
                                        var R = ya.lD(T);
                                        if (R) {
                                            var ca = P.Hd[0].P;
                                            Object.keys(R).forEach(function(ua) {
                                                var aa = ca.Rw(T, ua);
                                                aa && aa.te && (R[ua].A4(aa), ua = ya.cx, ua[T] > X[T] && (X[T] = ua[T]))
                                            })
                                        }
                                    });
                                    na.forEach(function(ra, T) {
                                        var R = ya.lD(T);
                                        R && Object.keys(R).forEach(function(ca) {
                                            R[ca].rcb(u.default.Mo()[T], ya.Ww() ? S.M3a : 0)
                                        })
                                    });
                                    M.HT = "boolean" === typeof O.lub ? O.lub :
                                        !0;
                                    this.Hd[U] && this.Hd[U].md();
                                    this.Hd[U] = M;
                                    M.VSa();
                                    O.replace || this.Pa.Esb(ya, Z, ia);
                                    O = this.Db.fx[0].UH;
                                    U = this.Db.fx[1].UH;
                                    S.ti && this.Hb.Im("addManifest, currentPts: " + this.X.Ue() + " playerState: " + this.X.getState() + " streamCount: (" + M.qq(0).ce.length + ", " + M.qq(1).ce.length + ") lastStreamAppended: (" + O + ", " + U + ")");
                                    this.Jr && f.la(O) || this.Ym && f.la(U) || (M.P.mP([M.qq(0), M.qq(1)]), this.n3())
                                }
                            }
                        };
                        I.prototype.AT = function(M) {
                            return this.$n.AT(M)
                        };
                        I.prototype.Bz = function(M) {
                            var O, P, S = this.J;
                            if (!this.nn()) {
                                f.la(O) &&
                                    (O = !0);
                                var U = this.Pa.$c.Rd(0),
                                    Z = this.Pa.$c.Rd(1);
                                S.ti && this.Hb.Im("drmReady at streaming pts: " + (U ? U.Bc : null) + ", " + (Z ? Z.Bc : null) + " for movieId: " + M + " readyState: " + O);
                                this.X.kZ(M + "", O);
                                O && (this.Pg.forEach(function(ia) {
                                    S.S5 && ia.XXa();
                                    ia.Bz()
                                }), S.tba && this.lT(), this.He.P.mf.Je && this.m3(this.$n.jC ? this.$n.jC.Sb : this.zL + 1), S.Ir || (null === (P = this.Gh) || void 0 === P ? 0 : P.qD()) || this.ry.Wy || this.tT("drmReady"), this.$n.Fga())
                            }
                        };
                        I.prototype.W6 = function() {
                            return this.X.Uo(this.He.P)
                        };
                        I.prototype.QNa = function(M) {
                            if (M >=
                                this.Hd.length) return !1;
                            var O = this.Pa.$c.Rd(0),
                                P = this.Pa.$c.Rd(1);
                            O = !O || O.bi;
                            var S = !P || P.bi;
                            P = this.Hd[M].P;
                            if (!(M === this.zL + 1 && P.mf.replace || O && S) || !this.X.Uo(P)) return !1;
                            M = P.yh[0];
                            O = P.yh[1];
                            O = !this.Ym || O && O.stream.te;
                            return (!this.Jr || M && M.stream.te) && O ? !0 : !1
                        };
                        I.prototype.n3 = function() {
                            this.m3(this.zL + 1)
                        };
                        I.prototype.m3 = function(M) {
                            if (!this.QNa(M)) return !1;
                            var O = this.Hd[M];
                            if (O.GEb || !O.P.mf.replace) return !1;
                            this.vrb(M);
                            this.og.dk();
                            return !0
                        };
                        I.prototype.vrb = function(M) {
                            var O = this.Hd[M],
                                P = this.J,
                                S =
                                this.Pa.$c,
                                U = S.mb(0);
                            U = U ? U.Bc : void 0;
                            var Z = S.mb(1);
                            Z = Z ? Z.Bc : void 0;
                            P.ti && this.Hb.Im("switchManifest manifestIndex: " + M + ", streamingPts: " + U + ", " + Z);
                            P = this.He;
                            U = P.P.mf.Je;
                            var ia = [];
                            [1, 0].forEach(function(ya) {
                                O.P.pc(ya) && (ia[ya] = O.qq(ya))
                            });
                            U ? this.Pa.jYb(P.P, O.P, ia) : S.I$a(O.P, ia);
                            this.$Oa(M);
                            O.cta();
                            this.$n.Fga();
                            this.og.dk()
                        };
                        I.prototype.H5a = function() {
                            var M = this.Pa.$c,
                                O = M.mb(0);
                            if (O) {
                                var P = this.X.Ue(),
                                    S = this.Db.Of[O.mediaType];
                                (M = this.Pa.lu(P, M, 0)) ? O = M.Ua: (this.Xb("onAudioTrackSwitchStarted but current playing request not found"),
                                    O = O.Ua);
                                this.wqb(O);
                                S.pQ = !1;
                                this.og.dk()
                            } else this.Xb("onAudioTrackSwitchStarted ignored, no audio pipeline")
                        };
                        I.prototype.Gaa = function(M) {
                            var O = this.J;
                            if (!this.Jr) return this.Xb("switchTracks rejected, audio disabled"), !1;
                            if (this.Db.Zy) return this.Xb("switchTracks rejected, previous switch still in progress: " + JSON.stringify(this.Db.Zy)), !1;
                            if (this.X.qg()) return this.Xb("switchTracks rejected, buffering"), !1;
                            var P = this.Db.Of[0];
                            if (P.pQ) return this.Xb("switchTracks rejected, previous switch still waiting to start"),
                                !1;
                            var S = this.Pa.$c;
                            if (this.X.getState() === d.sa.Kc) {
                                var U = this.Pa.yw(S, 1);
                                if (U < O.P8) return this.Xb("switchTracks rejected, bufferLevelMs", U, "<", O.P8), !1
                            }
                            M = M.wn;
                            U = this.He.P.getTrackById(M);
                            if (!U) return this.Xb("switchTracks can't find trackId:", M), !1;
                            var Z = this.He.qq(0).trackId;
                            if (Z === U.trackId) return !1;
                            O.ti && this.Hb.Im("switchTracks current: " + Z + " to: " + U.trackId);
                            P.j9 = {
                                trackId: M
                            };
                            O = S.mb(0);
                            this.orb(O);
                            return !0
                        };
                        I.prototype.Tq = function(M, O) {
                            this.Db.Tq(M, O)
                        };
                        I.prototype.lu = function(M, O, P) {
                            return this.Pa.lu(M,
                                this.Pa.Ai, O, P)
                        };
                        I.prototype.Oi = function(M) {
                            return this.$n.Oi(M)
                        };
                        I.prototype.y5 = function(M, O) {
                            var P = this.Db;
                            M = P.Vma(M, O);
                            var S = this.zg.ava;
                            M && !M.XL && S.Ima(M);
                            if (O) P.Xva();
                            else {
                                O = S.RGb();
                                try {
                                    this.Hb.Bpb(O)
                                } catch (U) {
                                    this.I.error("exception: [" + U.message + "] [" + U.lfc + "]")
                                }
                            }
                        };
                        I.prototype.aka = function(M, O) {
                            v.assert(void 0 !== O);
                            return this.Hd[O].Pvb(M)
                        };
                        I.prototype.Wt = function(M, O) {
                            void 0 === M && (M = this.oY);
                            var P = this.Pa.fFb(O, M);
                            if (P) var S = P.Fe;
                            else P = this.Pa.Wma(M), 0 < P.length && (P = P[0], S = P.Fe);
                            f.Ea(S) ||
                                (S = this.Hd[M].$w);
                            return O - S
                        };
                        I.prototype.AM = function(M, O) {
                            void 0 === M && (M = this.oY);
                            var P = this.Pa.eFb(O, M);
                            if (P) var S = P.Fe;
                            else P = this.Pa.Wma(M), 0 < P.length && (P = P[0], S = P.Fe);
                            f.Ea(S) || (S = this.Hd[M].$w);
                            return O + S
                        };
                        I.prototype.IL = function() {
                            var M = this.X.qg();
                            if (M || this.Db.Zy) M && this.Hb.qha(), this.uT(), this.X.Ye(d.sa.Kc), this.og.dk()
                        };
                        I.prototype.Tha = function() {
                            var M = this,
                                O = this.X.qg();
                            this.Pa.$c.haa(O, function(P) {
                                return M.Pg[P] ? M.Pg[P].faa() : ""
                            });
                            this.ZK && (clearTimeout(this.ZK), this.ZK = void 0);
                            this.ty.RPb()
                        };
                        I.prototype.aQa = function(M) {
                            M.bi = !0;
                            M.kr = !1;
                            var O = this.X.Ue() || 0;
                            M.rM(O);
                            this.Db.vy();
                            if (this.Tr && 1 === M.mediaType) try {
                                this.y5(d.sa.wr, {
                                    Ka: M.Lc
                                })
                            } catch (P) {
                                this.Hb.Un("Hindsight: Error evaluating QoE at endOfStream: " + P)
                            }
                        };
                        I.prototype.Nqb = function() {
                            var M = this.tc.Vb;
                            M && (M = M.get()) && M.avtp && this.qv.jsb({
                                avtp: M.avtp.Ha
                            })
                        };
                        I.prototype.prb = function() {
                            this.X.Ye(d.sa.Fh);
                            var M = this.Pa.$c,
                                O = M.Rd(0),
                                P = M.Rd(1);
                            this.Ym && !this.gQa(P) ? this.Xb("failed to start video pipeline") : this.Jr && !this.gQa(O) ? this.Xb("failed to start audio pipeline") :
                                (this.BPa = !0, this.Hd[0].P.Z6 = !0, O = this.Db.Of[1], P = this.Db.Of[0], (O && 0 < O.Yu || P && 0 < P.Yu) && this.Hb.zpb(String(M.P.K), P ? P.Yu : 0, O ? O.Yu : 0, P ? P.kY : 0, O ? O.kY : 0), this.X.O1a() ? (this.b3(0), this.Jr && (M = this.He.n6(0), O = this.He.qq(0).trackId, this.Hb.Cpb(M, O))) : this.Xb("startup, playerState no longer STARTING:", this.X.getState()))
                        };
                        I.prototype.gQa = function(M) {
                            var O = M.mediaType,
                                P = this.Db.nJb(M);
                            if (f.la(P)) return this.nn() || this.Qp("startPipeline failed", M.jb.P.Sb, "NFErr_MC_StreamingInitFailure"), !1;
                            M = M.track.ce[P];
                            if (M.fl()) return !0;
                            P = this.He.P;
                            M.P.HUa(M, {
                                offset: 0,
                                ZC: !P.mf.Je && !P.Ri && 1 === O,
                                Mw: !this.Db.Of[O].AFb
                            });
                            return !0
                        };
                        I.prototype.b3 = function(M, O) {
                            var P = this,
                                S = this.J,
                                U = this.Db.Of[0] || {},
                                Z = this.Db.Of[1] || {},
                                ia = this.Db.lB[1] || {};
                            (this.Db.lB[0] || {}).fU = void 0;
                            ia.fU = void 0;
                            this.X.Ye(2 === M ? d.sa.Tf : d.sa.wd);
                            this.Hb.wpb(O);
                            this.ty.reset();
                            this.He.P.xta();
                            this.emit("startBuffering");
                            h.Cf.forEach(function(ya) {
                                if (ya = P.Pa.$c.Rd(ya)) ya.Lja = 0, ya.seeking = 0 === M || 1 === M, ya.wka()
                            });
                            this.bga = u.default.time.fa();
                            U.Cl = Z.Cl =
                                this.bga;
                            0 === M && (!this.Ym || 0 < Z.Yu) && (!this.Jr || 0 < U.Yu) && this.Db.vy();
                            S.hV && (this.xga = setTimeout(function() {
                                P.Nqb()
                            }, S.pma));
                            this.X.qg() && (this.ZK = setTimeout(function() {
                                P.Db.vy()
                            }, S.OA));
                            this.og.dk()
                        };
                        I.prototype.tT = function(M) {
                            M = "wipeHeaderCache:" + M;
                            this.ry.Wy && this.Sk("AdoptingData still has lock:" + M);
                            var O = this.J;
                            O.mI || (O.ti && this.Hb.Im(M), this.tc.EC(), this.Gh && (this.Gh = void 0))
                        };
                        I.prototype.PNa = function(M) {
                            function O(ia, ya) {
                                var na = ia.mediaType,
                                    X = ya[na],
                                    ra = Promise.resolve(void 0);
                                if (X) {
                                    var T = X.Ta,
                                        R = X.header.stream,
                                        ca = P.Db.Of[na],
                                        ua = P.Db.lB[na];
                                    f.la(ya.tD) || P.zg.p$a(ya.tD, ya.Qo, ya.Ro);
                                    ua.gA = ya.gA;
                                    ua.Nw = ya.Nw;
                                    if (!ia.Z4b(T)) return ra;
                                    if (!X.header) return ia.Sk("adoptPipeline no header for streamId:", T), ra;
                                    ya = P.He.P;
                                    ya.s3(X.header, !ya.mf.Je && !ya.Ri && 1 === na, !0) && (void 0 !== ia.yI && ia.dJ(ia.yI), ra = ya.fl(na, T).stream.Y.Hn(ia.Bc, void 0, !0), ya = R.el(ra), R = ya.Z, (ya = ya.ena(ia.Bc)) && 0 < ya.Ud && (R = ya.Ud), ia.Bc !== R && (ia.DP(R, ra), P.Qha(na, R)), ra = P.Emb(ia, X.data).then(function() {
                                        return T
                                    }), ca.AFb = !0, 0 === na && P.zg.AP(X.header.bitrate))
                                }
                                return ra
                            }
                            var P = this,
                                S;
                            (null === (S = this.Gh) || void 0 === S ? 0 : S.qD()) && this.Sk("Previously adopted request list still retained was unexpected");
                            this.Gh = void 0;
                            var U = this.J;
                            if (!this.Hrb || !this.tc.If) return this.tc.Vja(), Promise.resolve();
                            this.Hb.dm("checkForHcdStart");
                            var Z;
                            this.Hd.forEach(function(ia) {
                                ia.P.K === M && (Z = ia)
                            });
                            return this.tc.If.qPb(M, Z ? Z.P : void 0).then(function(ia) {
                                P.Hb.dm("checkForHcdEnd");
                                if (f.la(ia)) return U.Ir || P.ry.Wy || P.tT("headerCacheDataNotFound"), Promise.resolve();
                                var ya = P.Pa.$c.Rd(0),
                                    na = P.Pa.$c.Rd(1);
                                P.Hb.dm("adoptHcdStart");
                                return P.ry.lza(function() {
                                    var X = Promise.resolve();
                                    P.Ym && (X = O(na, ia));
                                    var ra = Promise.resolve();
                                    !P.Jr || U.d0a && !X || (ra = U.d0a ? X.then(function(T) {
                                        return T ? O(ya, ia) : Promise.resolve()
                                    }) : O(ya, ia));
                                    P.FOa = ia;
                                    P.Hb.dm("adoptHcdEnd");
                                    return Promise.all([X, ra])
                                })
                            }).then(function() {
                                var ia;
                                U.Ir || (null === (ia = P.Gh) || void 0 === ia ? 0 : ia.qD()) || P.ry.Wy || !P.X.Uo(P.He.P) || P.tT("adoptedCompletedRequests")
                            }).catch(function(ia) {
                                P.Xb("headerCache:lookupDataPromise caught error:", ia)
                            })
                        };
                        I.prototype.Emb =
                            function(M, O) {
                                var P = this;
                                if (0 === O.length) return Promise.resolve();
                                var S = M.f8,
                                    U = S.H,
                                    Z = Math.min(this.Hd[0].Ka || Infinity, S.Lc || Infinity),
                                    ia = M.mediaType,
                                    ya = this.Db.Of[ia],
                                    na;
                                return this.ry.lza(function() {
                                    function X() {
                                        var T = O.shift();
                                        7 === T.readyState ? M.Xb("adoptData, not adopting aborted mediaRequest:", T.toString()) : 6 === T.readyState ? (M.Xb("adoptData, not adopting failed mediaRequest:", T.toString()), P.pG(T, !1)) : M.Bc >= T.od && M.Bc < T.Lc && (M.Bc < Z || !f.Ea(Z)) ? (ra.push(P.Fmb(M, T).then(function() {
                                                T.complete && P.H_a(T)
                                            })),
                                            M.u_b(T.Lc), f.Ea(Z) && M.Bc >= Z && P.Hb.rha(U, T.Lc), 0 === ia && P.zg.AP(T.bitrate), T.complete ? (ya.Yu += T.duration, T.YOb && (ya.kY += T.duration), na = T) : (P.Gh || (P.Gh = new D.zza(P.I)), P.Gh.push(T))) : P.pG(T, !1)
                                    }
                                    for (var ra = []; 0 < O.length;) X();
                                    return Promise.all(ra)
                                }).then(function() {
                                    var X;
                                    na && M.I_a(na);
                                    if (na || (null === (X = P.Gh) || void 0 === X ? 0 : X.qD())) {
                                        X = P.Hd[S.P.Sb];
                                        var ra = M.Yma(M.Bc);
                                        void 0 !== ra ? (M.Tn = ra, M.se = X.P.yh[ia].stream.el(M.Tn)) : M.Tn = M.Jf ? M.Jf.index + 1 : M.Tn + 1
                                    }
                                })
                            };
                        I.prototype.Fmb = function(M, O) {
                            var P = this,
                                S = M.mediaType;
                            this.J.ti && this.Hb.Im("adoptMediaRequest: type: " + S + ", state: " + O.readyState + ", pts: " + O.od);
                            this.Qha(S, O.od);
                            return M.Ua.Zsb(O).catch(function(U) {
                                P.Sk("Error adopting requests", U)
                            })
                        };
                        I.prototype.Mha = function(M, O, P) {
                            var S = this;
                            void 0 === O && (O = F.$R.tja);
                            (P || this.Pa.$c).Yva(M, O);
                            this.ty.reset();
                            (void 0 === M ? h.Cf : [M]).forEach(function(U) {
                                S.pc(U) && (S.iw[U].reset(), S.Wqb(U), S.zg.qTb(U))
                            })
                        };
                        I.prototype.Cxa = function() {
                            var M = this;
                            h.Cf.forEach(function(O) {
                                var P;
                                null === (P = M.iw[O]) || void 0 === P ? void 0 : P.stop()
                            })
                        };
                        I.prototype.kJ = function(M) {
                            var O = this;
                            (void 0 === M ? h.Cf : [M]).forEach(function(P) {
                                var S;
                                null === (S = O.iw[P]) || void 0 === S ? void 0 : S.resume()
                            });
                            return Promise.resolve()
                        };
                        I.prototype.lT = function(M) {
                            var O = this,
                                P;
                            M = void 0 === M ? h.Cf : [M];
                            null === (P = this.ty) || void 0 === P ? void 0 : P.reset();
                            M.forEach(function(S) {
                                var U;
                                null === (U = O.iw[S]) || void 0 === U ? void 0 : U.resume()
                            })
                        };
                        I.prototype.Wqb = function(M) {
                            var O = this.Db.Of[M];
                            this.Db.fx[M].nra = void 0;
                            O.Yu = 0;
                            O.kY = 0
                        };
                        I.prototype.Qha = function(M, O) {
                            var P = this.Pa.$c;
                            if (P.mb(M)) {
                                var S =
                                    this.Db.Of[M],
                                    U = this.Db.lB[M];
                                f.la(S.Co) && (S.Co = O, 1 === M && this.Jr && (M = this.Db.Of[0], f.la(M.Co) && (P = P.mb(0), P.dJ(O)), this.emit("ptschanged", O)));
                                f.la(U.fU) && (U.fU = O)
                            }
                        };
                        I.prototype.H_a = function(M) {
                            this.Gh && (this.Gh.PPb(M), this.iTa())
                        };
                        I.prototype.R6 = function(M) {
                            this.Gh && (this.Gh.OPb(M), this.iTa())
                        };
                        I.prototype.iTa = function() {
                            if (this.Gh) {
                                var M = this.J;
                                this.Gh.qD() || (this.Gh = void 0, M.Ir || this.ry.Wy || this.tT("allCompleted"))
                            }
                        };
                        I.prototype.uT = function() {
                            var M = this,
                                O = this.J,
                                P = this.oY,
                                S = this.Hd[P],
                                U = this.Pa.$c,
                                Z = this.X.Ue() || 0,
                                ia = this.Wt(P, Z),
                                ya = O.fba;
                            this.tc.If && void 0 !== S.pI && S.pI - Z <= O.y4a && this.tc.If.Wp(!0, this.am.sessionId);
                            this.X.getState() === d.sa.Kc && ([1, 0].forEach(function(na) {
                                if (M.pc(na)) {
                                    var X = U.mb(na);
                                    if (X) {
                                        var ra = X.Ua;
                                        X.rM(Z);
                                        var T;
                                        (T = M.Pa.lu(Z, U, na)) && !T.ff && (T = M.Pg[na].YNb);
                                        if (T) {
                                            ra = T.we - Z;
                                            ra < ya && (ya = ra);
                                            var R = M.Db.fx[na],
                                                ca = T.P,
                                                ua = ca.Sb;
                                            ra = T.Ua;
                                            if (!M.Ym || 1 === na)
                                                if (M.Pa.mSb(T, T.fv), ua > M.F2) {
                                                    M.F2 = ua;
                                                    var aa = 0 < ua ? ua - 1 : null;
                                                    M.Hb.Epb(ca, Z, T.fv, null !== aa ? M.Hd[aa].P.K : null, aa);
                                                    ia = M.Wt(ua, Z)
                                                } else M.yL &&
                                                    T.fv != R.fOb && M.Hb.Tpb(T.fv);
                                            R.fOb = T.fv;
                                            ca = T.Ta;
                                            ca != R.nra && (R.nra = ca, na = M.Hd[ua].P.Rw(na, ca), ua = M.Wt(ua, T.Ad), M.Hb.Opb(na, T.Ad, ua, na.P.Sb));
                                            T = T.bitrate;
                                            f.la(T) || T == X.b7a || (X.b7a = T)
                                        } else X.Xb("Unable to find request presenting at playerPts:", Z);
                                        M.Cqb(ra, Z);
                                        M.Pa.LWb()
                                    }
                                }
                            }), this.Pa.Vs(Z, ia));
                            this.og.dk();
                            ya = Math.max(ya, 1);
                            this.uC && clearTimeout(this.uC);
                            this.uC = setTimeout(this.uT.bind(this), ya)
                        };
                        I.prototype.d2 = function(M) {
                            return this.og.d2(M)
                        };
                        I.prototype.dk = function() {
                            return this.og.dk()
                        };
                        I.prototype.pG =
                            function(M, O) {
                                var P = M.Ua;
                                if (P) {
                                    var S = M.mediaType;
                                    M.abort();
                                    M.md();
                                    M.Ki && M.Ki.clear();
                                    P.F$(M);
                                    this.Pg[S].F$(M);
                                    !0 === O && this.og.dk()
                                } else this.Xb("abortRequest with no requestManagaer:", M)
                            };
                        I.prototype.orb = function(M) {
                            var O = M.mediaType,
                                P = this.Db.Of[O];
                            f.la(P.j9) ? M.Xb("no newAudioTrack set") : (this.Pg[O].pause(), P.pQ = !0, M = this.He.qq(0), P = this.He.P.getTrackById(P.j9.trackId), this.Hb.tpb(M, P))
                        };
                        I.prototype.wqb = function(M) {
                            var O = this,
                                P, S = this.J;
                            M = M.jb;
                            var U = this.Db.Of[0];
                            this.Db.Zy = U.j9;
                            var Z = this.He,
                                ia =
                                Z.P.getTrackById(this.Db.Zy.trackId),
                                ya = ia.CE,
                                na = this.X.Ue() - M.Fe;
                            if (null === (P = this.Gh) || void 0 === P ? 0 : P.qD()) this.Gh.fYb(function(X) {
                                if (0 === X.mediaType) return O.pG(X, !1), !0
                            }), this.Gh.qD() || (this.Gh = void 0, S.Ir || this.ry.Wy || this.tT("audioSwitch"));
                            P = this.tc.d6(Z.P.pa, [ya], 0);
                            this.Wfa[0] = P[0];
                            this.YU.OPa(0, M.P);
                            U.j9 = void 0;
                            this.zg.AP(null);
                            this.Mha(0, F.$R.cYa, M);
                            this.Pa.k$a(M, !0);
                            for (P = this.zL; P < this.Hd.length; ++P) this.vWb(P, ya, na);
                            M.x8a(ia, na);
                            this.kJ(0)
                        };
                        I.prototype.vWb = function(M, O, P) {
                            k.Zm.rq(0);
                            M = this.Hd[M];
                            M.Bya(O);
                            if (M.P.Z6) {
                                var S;
                                M.qq(0).ce.some(function(U) {
                                    S = U.fl();
                                    if (!(S && S.stream && S.stream.Y && P < S.stream.Y.Hj(0))) return !!S
                                });
                                S ? (M.P.yh[0] = S, M.xY = !1, S.stream.te && M.e4()) : (M.P.yh[0] = void 0, M.xY = !1, M.P.mP([M.qq(0)], !0, 0))
                            }
                            this.lT(0)
                        };
                        I.prototype.Cqb = function(M, O) {
                            var P = this.Pg[M.mediaType];
                            M = this.Pa.tY(M.jb, M.mediaType, O, this.tc.iB || 0, function(S) {
                                P.F$(S)
                            });
                            f.la(M) || this.og.dk()
                        };
                        I.prototype.lob = function(M) {
                            var O = M.mediaType,
                                P = M.manifestIndex,
                                S = M.streamId;
                            M = this.Pa.$c.mb(O);
                            O = this.Hd[P].P.Rw(O,
                                S);
                            this.irb(M, O);
                            this.J = this.oUa.Lmb(O.Ig, this.J);
                            this.Hd.forEach(function(U, Z) {
                                var ia = U.P;
                                ia.Z6 || 0 === Z || ia.mP([U.qq(0), U.qq(1)])
                            })
                        };
                        I.prototype.oob = function(M) {
                            var O = M.request;
                            M = M.mediaType;
                            var P = O.Ua.jb;
                            P.MPb(M);
                            O.Q5 && this.Hb.ypb(O);
                            O.zq && this.Hb.Mpb(M, O.P.Sb, P.H)
                        };
                        I.prototype.irb = function(M, O) {
                            this.Db.fx[M.mediaType].UH = {
                                id: O.Ta,
                                index: O.Pf,
                                bitrate: O.bitrate,
                                Sa: O.Bb && O.Bb.confidence && O.Bb.Sa ? O.Bb.Sa.Ha : 0,
                                location: O.location
                            }
                        };
                        I.prototype.w7 = function(M) {
                            var O, P, S, U, Z = {},
                                ia = this.Pg,
                                ya = this.Pa;
                            if (!ya.$c.Kh) {
                                var na =
                                    ya.$c,
                                    X = na.Rd(0),
                                    ra = na.Rd(1);
                                Z.vspts = null !== (O = null === ra || void 0 === ra ? void 0 : ra.Bc) && void 0 !== O ? O : 0;
                                Z.aspts = null !== (P = null === X || void 0 === X ? void 0 : X.Bc) && void 0 !== P ? P : 0;
                                Z.vbuflbytes = null !== (S = null === ra || void 0 === ra ? void 0 : ra.Bn.ea) && void 0 !== S ? S : 0;
                                Z.abuflbytes = null !== (U = null === X || void 0 === X ? void 0 : X.Bn.ea) && void 0 !== U ? U : 0;
                                Z.vbuflmsec = ya.yw(na, 1);
                                Z.abuflmsec = ya.yw(na, 0);
                                M && (Z.a = null === X || void 0 === X ? void 0 : X.Ua.Y.toJSON(), Z.v = null === ra || void 0 === ra ? void 0 : ra.Ua.Y.toJSON());
                                M && ia && (M = ia[1], ia = ia[0], Z.atoappend =
                                    null === M || void 0 === M ? void 0 : M.faa(), Z.vtoappend = null === ia || void 0 === ia ? void 0 : ia.faa())
                            }
                            return Z
                        };
                        I.prototype.n_a = function(M) {
                            var O = this.Pa.$c,
                                P = O.mb(M);
                            if (P) {
                                var S = this.Db.fx[M],
                                    U = this.Pa.CG(O, M);
                                S = S.UH ? S.UH.bitrate : 0;
                                var Z = P.Ua.Rta,
                                    ia = this.Pa.Fe;
                                return {
                                    type: M,
                                    availableMediaBuffer: u.default.Mo()[M] - U,
                                    completeBuffer: O.Mh(M),
                                    incompleteBuffer: Z,
                                    playbackBitrate: P.b7a,
                                    streamingBitrate: S,
                                    streamingTime: P.Bc + ia,
                                    usedMediaBuffer: U,
                                    toappend: P.u5b
                                }
                            }
                        };
                        I.prototype.wYb = function() {
                            var M = {
                                type: "requestGarbageCollection",
                                time: u.default.time.fa()
                            };
                            w.Za(this, M.type, M)
                        };
                        I.prototype.Qp = function(M, O, P, S, U, Z, ia) {
                            void 0 === ia && (ia = !1);
                            this.f3 || (f.la(P) && (P = "NFErr_MC_StreamingFailure"), this.f3 = !0, this.Hb.Qpb(P, M, S, U, Z, void 0 !== O ? O : this.oY, ia))
                        };
                        I.prototype.COa = function() {
                            this.Xb("Network failures reset!");
                            this.og.dk()
                        };
                        I.prototype.pob = function(M, O) {
                            O = g.HZa(O);
                            this.Wfa[M.mediaType] = O
                        };
                        Object.defineProperties(I.prototype, {
                            Zy: {
                                set: function(M) {
                                    this.Db.Zy = M
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        return I
                    }();
                    b.ELa = a;
                    r.zf(c.EventEmitter,
                        a)
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.Uda = void 0;
                    var c = a(19),
                        f = a(9),
                        k = a(227);
                    r = function() {
                        function m(g, d, h, l, n, q, p, u, t, w, v, x) {
                            void 0 === h && (h = 0);
                            this.pe = g;
                            this.X2 = d;
                            this.Z = h;
                            this.Ka = l;
                            this.g6 = n;
                            this.wh = q;
                            this.tN = p;
                            this.config = u;
                            this.I = t;
                            this.Hb = w;
                            this.GEb = v;
                            this.Yg = x;
                            this.$w = 0
                        }
                        m.create = function(g) {
                            function d(D) {
                                f.Za(w, D.type, D)
                            }
                            var h = g.Sb,
                                l = g.pa,
                                n = g.S9a,
                                q = g.Z,
                                p = g.Ka,
                                u = g.$r,
                                t = g.Hb,
                                w = g.dc,
                                v = g.config,
                                x = g.I,
                                y = g.og,
                                z = g.$n,
                                A = g.If,
                                B = g.sD,
                                E = new k.eca(Number(l.movieId), {
                                    Sb: h,
                                    pa: l,
                                    gp: g.gp,
                                    e4a: {
                                        zqa: g.Je,
                                        L1a: !!g.B1a
                                    },
                                    Ri: g.Ri,
                                    Dd: g.Dd,
                                    config: v,
                                    e0a: {
                                        ol: y.dk.bind(y),
                                        If: A,
                                        sD: B,
                                        Vn: d,
                                        B7: function(D) {
                                            return D === w.Pa.$c.P
                                        },
                                        eW: function(D, F, G, C, H) {
                                            D = w.Db.Of[D];
                                            return !F || G || C || H ? w.MS : D.Lf
                                        },
                                        iD: function(D) {
                                            return w.Db.fx[D]
                                        },
                                        wh: w.wh.bind(w)
                                    },
                                    FX: function(D) {
                                        w.emit("requestComplete", {
                                            type: "requestComplete",
                                            timestamp: D.uf,
                                            mediaRequest: D
                                        })
                                    },
                                    c6: function() {
                                        return w.zg
                                    },
                                    Vb: w.tc.Vb,
                                    Sh: w.tc.Sh,
                                    bXa: {
                                        $r: u,
                                        ah: function(D, F, G, C, H, L) {
                                            void 0 === L && (L = !1);
                                            return !L || w.X.qg() ? (w.Qp(D, h, F, G, C, H, L), !0) : !1
                                        },
                                        Pn: function() {
                                            return w.f3
                                        },
                                        Vn: d
                                    },
                                    nP: void 0,
                                    iJ: {
                                        T: w.tc.iB,
                                        ea: w.tc.rE
                                    }
                                });
                            v.Ez && E.mE({
                                ss: w.am.ss,
                                da: w.am.da,
                                YC: w.am.YC,
                                Un: t.Un.bind(t)
                            });
                            g = new c.di;
                            g.addListener(E.yu, "onHeaderFragments", function(D) {
                                var F = D.mediaType,
                                    G = D.Ta,
                                    C = D.stream.Y,
                                    H = w.wh(h);
                                if (H) {
                                    if (E.yh[F] && D !== E.yh[F]) D.Mw && (H = E.yh[F], D = D.stream, L = H && H.stream, x.warn("first header received for non-current track (trackId " + D.trackId + "streamId " + D.Ta + "), expected track " + (L && L.trackId) + ", stream " + (L && L.Ta) + ", " + H));
                                    else {
                                        E.yh[F] = D;
                                        D = w.Pa.$c;
                                        if (0 ===
                                            h) {
                                            var L = E.pc(1) ? D.mb(1).Bc : D.mb(0).Bc;
                                            D.g4(L, E)
                                        }
                                        H.xY = !1;
                                        H.e4();
                                        w.n3()
                                    }
                                    z.Fga();
                                    t.Kpb(h, F, G, E.K, C);
                                    y.dk()
                                } else x.warn("addFragments for stale manifestIndex:", h)
                            });
                            g.addListener(E.yu, "onHeaderRequestComplete", function(D) {
                                D.cl ? w.n3() : D.ZC && (x.warn("drm header header:", D.toString(), "but no headers seen, marking pipeline drmReady"), w.Bz(D.K));
                                var F = D.mediaType,
                                    G = Object.getOwnPropertyNames(B.ew[F]);
                                w.Pg[F].p5a(D.stream, 1 === G.length && G[0] === D.Ta);
                                y.fOa();
                                w.wYb()
                            });
                            g.addListener(E.yu, "onHeaderFromCache",
                                function(D) {
                                    var F = D.header;
                                    D = D.BFb;
                                    F.cl && w.n3();
                                    D && t.Apb(F.K, F.Ta)
                                });
                            return new m(E, n, q, p, function() {
                                return w.Pa
                            }, w.wh.bind(w), w.tN.bind(w), v, x, t, !1, g)
                        };
                        Object.defineProperties(m.prototype, {
                            P: {
                                get: function() {
                                    return this.pe
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(m.prototype, {
                            Sb: {
                                get: function() {
                                    return this.P.Sb
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        m.prototype.qq = function(g) {
                            return this.pe.KJb(g, this.n6(g))
                        };
                        m.prototype.n6 = function(g) {
                            return this.X2[g]
                        };
                        m.prototype.close = function() {
                            this.Yg.clear();
                            this.P.close()
                        };
                        m.prototype.md = function() {
                            this.pe.md();
                            delete this.pe
                        };
                        m.prototype.clone = function() {
                            return new m(this.P, this.X2, this.Z, this.Ka, this.g6, this.wh, this.tN, this.config, this.I, this.Hb, !0, this.Yg)
                        };
                        m.prototype.Bya = function(g) {
                            this.I.trace("updateAudioTrack:", this.X2[0], "->", g);
                            this.X2[0] = g
                        };
                        m.prototype.tZa = function() {
                            return void 0 !== this.pI ? this.pI : this.Ka ? this.Ka : this.pe.duration
                        };
                        m.prototype.Pvb = function(g) {
                            var d = this.pe.yh[1];
                            if (d && d.stream.te) {
                                if (this.Iz && this.Iz[1] && this.Iz[1].Z <= g &&
                                    this.Iz[1].Ka > g) return this.Iz[1].Ad;
                                d = d.stream.Y;
                                g = d.Hn(g, void 0, !0);
                                var h = void 0;
                                void 0 === h && (h = d.Hj(g));
                                return h
                            }
                        };
                        m.prototype.e4 = function() {
                            if (!this.xY && this.T_a()) {
                                this.cta();
                                var g = [0, 0];
                                if (0 !== this.Sb && !this.pe.mf.jX && !this.pe.mf.replace) {
                                    var d = this.wh(this.Sb - 1);
                                    d = this.pe.K === d.pe.K;
                                    g = this.g6().$c;
                                    d = g.g4(this.Z, this.P, g, d);
                                    g = d.VO
                                }
                                this.Z = g[1];
                                this.VO = g;
                                this.Iz = d && d.Iz;
                                this.VSa();
                                d = this.pe.pc(1) ? this.pe.yh[1].stream.Y.Ka : this.pe.yh[0].stream.Y.Ka;
                                this.Hb.Fpb(this.Sb, this.$w, this.Z, this.pI, d);
                                this.xY = !0;
                                for (d = this.Sb + 1; d < this.tN(); ++d) g = this.wh(d), g.xY = !1, g.e4()
                            }
                        };
                        m.prototype.VSa = function() {
                            if (0 === this.Sb || this.pe.mf.replace) this.$w = 0;
                            else {
                                var g = this.wh(this.Sb - 1);
                                this.$w = g.$w + g.tZa() - this.Z
                            }
                        };
                        m.prototype.cta = function() {
                            var g, d, h, l;
                            if (this.T_a()) {
                                var n = this.g6().$c,
                                    q = this.Ka || Infinity,
                                    p = this.pe.pc(1),
                                    u = n.pV(q, this.P);
                                this.pI = p ? u[1].Ka : u[0].Ka;
                                n = p ? this.pe.yh[1].stream.Y.Ka : this.pe.yh[0].stream.Y.Ka;
                                p = Math.min(null !== (d = null === (g = u[1]) || void 0 === g ? void 0 : g.Ka) && void 0 !== d ? d : Infinity, null !==
                                    (l = null === (h = u[0]) || void 0 === h ? void 0 : h.Ka) && void 0 !== l ? l : Infinity);
                                this.Hb.Hpb(this.Sb, this.pI, n, p);
                                g = this.g6().Wma(this.Sb);
                                0 < g.length && g.forEach(function(t) {
                                    t.V3b(u, q)
                                })
                            }
                        };
                        m.prototype.T_a = function() {
                            var g = this.pe.pc(0),
                                d = this.pe.pc(1),
                                h = this.pe.yh[0],
                                l = this.pe.yh[1];
                            h = h && h.stream.te;
                            l = l && l.stream.te;
                            return (!g || h) && (!d || l)
                        };
                        return m
                    }();
                    b.Uda = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.HLa = void 0;
                    r = a(2);
                    var c = a(9);
                    a = r.__importDefault(a(6));
                    var f = a.default.pr;
                    new a.default.Console("ASEJS_SIDECHANNEL",
                        "media|asejs");
                    a = function() {
                        function k(m, g, d) {
                            this.Un = d;
                            this.Qrb = new c.sNa(m);
                            this.da = g.da;
                            this.Xmb = 1E3 * g.oQb / g.avb;
                            this.xCb = g.YC;
                            this.KRa = !1
                        }
                        k.prototype.Zt = function(m) {
                            var g = {
                                s_xid: this.da,
                                dl: this.xCb ? 1 : 0
                            };
                            m.$p && (g.bs = c.l4(Math.floor(m.$p / this.Xmb) + 1, 1, 5));
                            m.n9 && (g.limit_rate = m.n9);
                            m.vSa && (g.bb_reason = m.vSa);
                            m.Bbb && (g.tm = m.Bbb);
                            if (m.wU) {
                                var d = m.wU.J7();
                                if (d || !d && this.KRa) g.cpr_ss = m.wU.IP, g.cpr_ca = m.wU.xM, g.cpr_rec = m.wU.aP, this.KRa = d
                            }
                            m.Bja && (g.br = "" + m.Bja.start + "+" + m.Bja.size);
                            return this.Upb(g)
                        };
                        k.prototype.Bwa = function(m, g) {
                            try {
                                var d = new f(void 0, "notification"),
                                    h = this.Zt({
                                        vSa: m
                                    });
                                g && h && d.open(g, void 0, 2, void 0, void 0, void 0, h)
                            } catch (l) {
                                this.Un("SideChannel: Error when sending sendBlackBoxNotification. Error: " + l)
                            }
                        };
                        k.prototype.Upb = function(m) {
                            try {
                                var g = this.frb(m);
                                return this.Qrb.encrypt(g)
                            } catch (d) {
                                this.Un("SideChannel: Error when obfuscating msg. Error: " + d)
                            }
                        };
                        k.prototype.frb = function(m) {
                            return Object.keys(m).map(function(g) {
                                return encodeURIComponent(g) + "=" + encodeURIComponent(JSON.stringify(m[g]))
                            }).join("&")
                        };
                        return k
                    }();
                    b.HLa = a
                },
                function(r, b, a) {
                    function c(l, n) {
                        var q = Math.floor(1E3 * l / n),
                            p = 1E3 * Math.round(q / 1E3);
                        return new k.O(p, Math.abs(Math.floor(1001 * l / n) - p) > Math.abs(q - p) ? 1E3 : 1001)
                    }
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.dca = void 0;
                    var f = a(372),
                        k = a(22),
                        m = a(5),
                        g = a(9),
                        d = a(373),
                        h = a(374);
                    r = function() {
                        function l(n, q, p) {
                            this.J = q;
                            this.I = p;
                            this.$B = new g.ILa;
                            this.L2 = 0;
                            this.Ju = n.Ju;
                            this.P = n.P;
                            this.mediaType = n.mediaType;
                            this.CE = n.CE;
                            this.xC = n.xC;
                            1 === this.mediaType && (q = this.Ju.streams[0], void 0 !== q.framerate_value &&
                                void 0 !== q.framerate_scale && (this.jha = c(q.framerate_value, q.framerate_scale).tva()));
                            this.ob = (this.nL = this.jha) && this.nL.W;
                            this.Qga = this.FPa = !1;
                            this.Kpa = -Infinity;
                            this.g3a = Infinity;
                            n = l.snb(this, n.Je);
                            q = n.maxBitrate;
                            p = n.ce;
                            this.Tw = n.Tw;
                            this.maxBitrate = q;
                            this.ce = p;
                            this.rrb = p.reduce(function(u, t) {
                                u[t.Ta] = t;
                                return u
                            }, {});
                            !1
                        }
                        l.snb = function(n, q) {
                            var p = n.J,
                                u = 1 === n.mediaType,
                                t = !1,
                                w = 0,
                                v = n.Ju.streams.some(function(y) {
                                    return y.gl
                                }),
                                x = [];
                            n.Ju.streams.forEach(function(y, z) {
                                var A = y.bitrate,
                                    B = !0;
                                if (u) {
                                    var E = y.gl;
                                    B = p.WM && p.h_ ? q ? !0 : E === v : q && !E || !q && (E || !v);
                                    t = t || E
                                }
                                B && A > w && (w = A);
                                y = new h.Wza({
                                    ps: y,
                                    Pf: z,
                                    track: n,
                                    Eu: B
                                }, p, n.I);
                                x.push(y)
                            });
                            return {
                                Tw: t,
                                maxBitrate: w,
                                ce: x
                            }
                        };
                        Object.defineProperties(l.prototype, {
                            e9: {
                                get: function() {
                                    return !this.te && 0 === this.L2
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            te: {
                                get: function() {
                                    return !!this.pp && !!this.$B.value
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Jua: {
                                get: function() {
                                    return this.FPa
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            K: {
                                get: function() {
                                    return String(this.P.K)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            trackId: {
                                get: function() {
                                    return this.Ju.track_id
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            va: {
                                get: function() {
                                    return this.nL
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            W: {
                                get: function() {
                                    return this.ob
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            oO: {
                                get: function() {
                                    return this.jpb
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            pp: {
                                get: function() {
                                    return this.rd
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            NN: {
                                get: function() {
                                    return this.$B.value
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Ana: {
                                get: function() {
                                    return this.va.W
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            zna: {
                                get: function() {
                                    return this.va.qc
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Z: {
                                get: function() {
                                    return 0
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            lna: {
                                get: function() {
                                    return this.$B
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            iX: {
                                get: function() {
                                    return this.ce.some(function(n) {
                                        var q;
                                        return 1 < ((null === (q = n.Xg) || void 0 === q ? void 0 : q.length) || 0)
                                    })
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        l.prototype.Rw = function(n) {
                            return this.lD()[n]
                        };
                        l.prototype.lD = function() {
                            return this.rrb
                        };
                        l.prototype.equals = function(n) {
                            return !!n && this.K === n.K && this.mediaType === n.mediaType && this.trackId ===
                                n.trackId
                        };
                        l.prototype.C9 = function() {
                            this.L2++
                        };
                        l.prototype.B9 = function() {
                            0 < this.L2 && this.L2--
                        };
                        l.prototype.A9 = function(n, q, p, u, t) {
                            if (u && void 0 !== u.ql && (this.te || void 0 !== u.vd && u.vd.length)) {
                                if (n.gl || !n.track.Tw) this.FPa = !0;
                                if (this.te) !this.Qga && u.vd && u.vd.length > this.pp.length && (this.rd = new f.Dfa(this.mediaType, this.va, u, t), this.$B.n9a(), this.Kpa = -Infinity, this.Qga = !0);
                                else {
                                    this.cQa(q);
                                    if (p = p || this.jha) this.bQa(p || this.jha), void 0 === this.W && this.dQa(p.W);
                                    this.rd = new f.Dfa(this.mediaType, this.va,
                                        u, t);
                                    if (n.gl || !n.track.Tw) this.Qga = !0
                                }
                            } else this.I && this.I.error("AseTrack.onHeaderReceived with missing fragments data")
                        };
                        l.prototype.iTb = function(n) {
                            void 0 === this.$B.value && this.$B.set(n)
                        };
                        l.prototype.hyb = function(n) {
                            this.te || (this.dQa(n.W), this.cQa(n.oO), this.bQa(n.va), this.rd = n.pp, n.lna.value ? this.$B.set(n.lna.value) : this.$B.n9a())
                        };
                        l.prototype.ym = function(n, q, p, u) {
                            m.assert(this.NN);
                            return d.ym(this.mediaType, n, this.NN, q, p, u)
                        };
                        l.prototype.Hz = function(n, q, p) {
                            m.assert(this.NN);
                            return d.Hz(this.mediaType,
                                n, this.NN, q, p)
                        };
                        l.prototype.toJSON = function() {
                            return {
                                movieId: this.K,
                                mediaType: this.mediaType,
                                trackId: this.trackId
                            }
                        };
                        l.prototype.toString = function() {
                            return (0 === this.mediaType ? "a" : "v") + ":" + this.trackId
                        };
                        l.prototype.dQa = function(n) {
                            this.ob = n
                        };
                        l.prototype.cQa = function(n) {
                            this.jpb = n
                        };
                        l.prototype.bQa = function(n) {
                            this.nL = n
                        };
                        return l
                    }();
                    b.dca = r
                },
                function(r, b, a) {
                    Object.defineProperties(b, {
                        __esModule: {
                            value: !0
                        }
                    });
                    b.bMa = b.Rlb = void 0;
                    var c = a(2);
                    a(118);
                    var f = a(5);
                    r = c.__importDefault(a(6));
                    var k = a(382);
                    a = a(372);
                    var m = new r.default.Console("FRAGMENTS", "media|asejs");
                    try {
                        new Float64Array(8);
                        var g = !0
                    } catch (h) {
                        g = !1
                    }
                    var d = function(h) {
                        function l(n, q) {
                            q = h.call(this, n.pp, q) || this;
                            q.jG = n;
                            return q
                        }
                        c.__extends(l, h);
                        Object.defineProperties(l.prototype, {
                            ea: {
                                get: function() {
                                    return this.jG.cab(this.Qe)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            offset: {
                                get: function() {
                                    return this.jG.Sd(this.Qe)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            Psa: {
                                get: function() {
                                    return this.jG.hI &&
                                        this.jG.hI[this.Qe]
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            mi: {
                                get: function() {
                                    return this.jG.sGb(this.Qe)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            zb: {
                                get: function() {
                                    return this.jG.Gi && this.jG.Gi[this.Qe]
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(l.prototype, {
                            uSa: {
                                get: function() {
                                    return 8 * this.ea / (1E3 * this.du / this.W)
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        l.prototype.toJSON = function() {
                            return {
                                index: this.index,
                                contentStartTicks: this.$a,
                                contentEndTicks: this.wb,
                                durationTicks: this.du,
                                timescale: this.W,
                                startPts: this.Z,
                                endPts: this.Ka,
                                duration: this.duration,
                                additionalSAPs: this.mi
                            }
                        };
                        return l
                    }(a.GMa);
                    b.Rlb = d;
                    r = function() {
                        function h(l, n, q, p, u, t, w) {
                            this.DL = 128;
                            this.rd = n;
                            this.Re = q.offset;
                            this.ek = q.sizes;
                            this.NL = l;
                            this.aL = this.tS = this.ki = this.qQa = this.Uha = void 0;
                            this.ipb = p;
                            this.Ufa = u && u.Sd;
                            this.Ht = t;
                            this.qf = Math.min(this.rd.length, this.ek.length);
                            this.Vob = this.Fvb();
                            this.pp.Ar.length !== this.ek.length && m.trace("Mis-matched stream duration (" +
                                this.pp.Ar.length + "," + this.ek.length + ") for movie id " + w);
                            this.pp.v3 && !this.Ufa && m.error("Mis-matched additional SAPs information for movie id " + w)
                        }
                        Object.defineProperties(h.prototype, {
                            mediaType: {
                                get: function() {
                                    return this.rd.mediaType
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            length: {
                                get: function() {
                                    return this.qf
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            ql: {
                                get: function() {
                                    return this.rd.ql
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            Ama: {
                                get: function() {
                                    return this.rd.Ama
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            Z: {
                                get: function() {
                                    return this.rd.Z
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            Ka: {
                                get: function() {
                                    return this.rd.Ka
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            hsa: {
                                get: function() {
                                    return this.rd.hsa
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            zA: {
                                get: function() {
                                    return this.Vob
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            va: {
                                get: function() {
                                    return this.rd.va
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            W: {
                                get: function() {
                                    return this.rd.W
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            eh: {
                                get: function() {
                                    return this.qQa || this.dga()
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            hI: {
                                get: function() {
                                    return this.ipb
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            Jia: {
                                get: function() {
                                    return this.Ufa
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            Gi: {
                                get: function() {
                                    return this.Ht
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            pp: {
                                get: function() {
                                    return this.rd
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        Object.defineProperties(h.prototype, {
                            Dx: {
                                get: function() {
                                    return this.Uha || this.rnb()
                                },
                                enumerable: !1,
                                configurable: !0
                            }
                        });
                        h.prototype.cab = function(l) {
                            if (this.ek) return this.ek[l];
                            m.error("sizesByIndex _sizes is undefined");
                            return -1
                        };
                        h.prototype.Hj = function(l) {
                            return this.rd.Hj(l)
                        };
                        h.prototype.iV = function(l) {
                            return this.rd.Hj(l) + this.rd.vd(l)
                        };
                        h.prototype.Sd = function(l) {
                            if (this.tS !== l || void 0 === this.aL) {
                                if (0 === l) return this.Re;
                                if (this.tS === l - 1 && void 0 !== this.aL) this.aL += this.ek[this.tS], ++this.tS;
                                else {
                                    var n = this.ki || this.cnb(),
                                        q = Math.floor(l / this.DL),
                                        p = q * this.DL;
                                    for (n = n[q]; p < l; ++p) n += this.ek[p];
                                    this.tS = l;
                                    this.aL = n
                                }
                            }
                            return this.aL
                        };
                        h.prototype.vd = function(l) {
                            return this.rd.vd(l)
                        };
                        h.prototype.get = function(l) {
                            return new d(this, l)
                        };
                        h.prototype.sGb = function(l) {
                            f.assert(0 <= l);
                            var n =
                                this.pp.v3,
                                q = this.pp.fRa,
                                p = this.Ufa;
                            if (!p || !n || !q || l >= n.length) return [];
                            var u = [],
                                t = l === n.length - 1 ? q.length : n[l + 1];
                            for (n = n[l]; n < t; ++n) u.push({
                                nl: q[n],
                                Ud: this.Hj(l) + this.va.jI(q[n]).T,
                                offset: p[n]
                            });
                            return u
                        };
                        h.prototype.Hn = function(l, n, q) {
                            return this.rd.Hn(l, n, q)
                        };
                        h.prototype.L5 = function(l, n, q) {
                            return this.rd.L5(l, n, q)
                        };
                        h.prototype.ela = function(l, n) {
                            return this.rd.ela(l, n)
                        };
                        h.prototype.Cvb = function(l, n, q, p, u) {
                            var t = !0,
                                w = 0,
                                v = this.rd.Ar,
                                x = this.ek;
                            l = Math.floor(l * this.W / 1E3);
                            var y = Math.floor(q * this.W / 1E3),
                                z = 0,
                                A = 0,
                                B = 0;
                            if (this.rd.yya && this.rd.xya)
                                for (w = this.rd.yya; w <= this.rd.xya; ++w) z += v[w], A += x[w];
                            if (A > n) t = !1;
                            else
                                for (; w < this.length && (!u || w < u);) {
                                    var E = x[w];
                                    q = v[w];
                                    if (A + E > n) {
                                        for (; 1 < w - B && A + E > n && (z - v[B] >= y || A - x[B] > p);) z -= v[B], A -= x[B], ++B;
                                        if (z < l || A + E > n) {
                                            t = !1;
                                            this.rd.yya = B;
                                            this.rd.xya = w;
                                            break
                                        }
                                    }
                                    z += q;
                                    A += E;
                                    ++w
                                }
                            return t
                        };
                        h.prototype.subarray = function(l, n) {
                            f.assert(void 0 === l || 0 <= l && l < this.length);
                            f.assert(void 0 === n || n > l && n <= this.length);
                            return new h(this.NL, this.rd.subarray(l, n), {
                                offset: this.Sd(l),
                                sizes: this.ek.subarray(l,
                                    n)
                            }, this.hI && this.hI.subarray(l, n), this.Jia && {
                                Sd: this.Jia
                            }, this.Ht && this.Ht.subarray(l, n))
                        };
                        h.prototype.forEach = function(l) {
                            for (var n = 0; n < this.length; ++n) l(this.get(n), n, this)
                        };
                        h.prototype.map = function(l) {
                            for (var n = [], q = 0; q < this.length; ++q) n.push(l(this.get(q), q, this));
                            return n
                        };
                        h.prototype.reduce = function(l, n) {
                            for (var q = 0; q < this.length; ++q) n = l(n, this.get(q), q, this);
                            return n
                        };
                        h.prototype.toJSON = function() {
                            return {
                                length: this.length
                            }
                        };
                        h.prototype.dump = function() {
                            m.trace("StreamFragments: " + this.length);
                            for (var l = 0; l < this.length; ++l) {
                                var n = this.get(l);
                                m.trace("StreamFragments: " + l + ": [" + n.Z + "-" + n.Ka + "] @ " + n.offset + ", " + n.ea + " bytes")
                            }
                        };
                        h.prototype.Fvb = function() {
                            var l = 0,
                                n = this.rd.L3a,
                                q = this.rd.Ar,
                                p = this.ek;
                            if (void 0 === n || n >= this.length) {
                                for (var u = 0; u < this.length; ++u) {
                                    var t = p[u] / q[u];
                                    t > l && (l = t, n = u)
                                }
                                void 0 === this.rd.L3a && (this.rd.L3a = n)
                            } else l = p[n] / q[n];
                            return Math.floor(l * this.W / 125)
                        };
                        h.prototype.dga = function() {
                            for (var l = 0, n = 0; n < this.length; ++n) l += this.ek[n];
                            return this.qQa = l
                        };
                        h.prototype.rnb = function() {
                            var l =
                                new Uint8Array(this.ek.length);
                            f.assert(void 0 !== l, "invalid streamIndices");
                            if (l) {
                                f.assert(void 0 !== this.NL, "invalid _streamIndex");
                                for (var n = 0; n < l.length; n++) l[n] = this.NL
                            }
                            n = this.Ht || new Uint8Array(this.ek.length);
                            return this.Uha = new k.rfa(this.rd.Ar, this.ek, l, n, this.rd.W)
                        };
                        h.prototype.cnb = function() {
                            if (!this.ki) {
                                for (var l = g ? new Float64Array(Math.ceil(this.length / this.DL)) : Array(Math.ceil(this.length / this.DL)), n = this.Re, q = 0; q < l.length; ++q) {
                                    l[q] = n;
                                    for (var p = 0; p < this.DL; ++p) n += this.ek[q * this.DL + p]
                                }
                                this.ki =
                                    l
                            }
                            return this.ki
                        };
                        return h
                    }();
                    b.bMa = r;
                    r.prototype.uab = a.Zw(r.prototype.Hj);
                    a.Zw(r.prototype.iV);
                    a.Zw(r.prototype.vd);
                    a.Zw(r.prototype.Sd);
                    a.Zw(r.prototype.cab);
                    a.Zw(r.prototype.get)
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.zc();
                            this.kc = 1 === this.version ? this.ej([{
                                    creationTime: "int64"
                                }, {
                                    modificationTime: "int64"
                                }, {
                                    W: "int32"
                                }, {
                                    duration: "int64"
                                }]) :
                                this.ej([{
                                    creationTime: "int32"
                                }, {
                                    modificationTime: "int32"
                                }, {
                                    W: "int32"
                                }, {
                                    duration: "int32"
                                }]);
                            return !0
                        };
                        k.ac = "mvhd";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.ac = "trak";
                        k.Ra = !0;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this,
                                arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.zc();
                            var m = 1 === this.version ? [{
                                creationTime: "int64"
                            }, {
                                modificationTime: "int64"
                            }, {
                                trackId: "int32"
                            }, {
                                offset: 32,
                                type: "offset"
                            }, {
                                duration: "int64"
                            }] : [{
                                creationTime: "int32"
                            }, {
                                modificationTime: "int32"
                            }, {
                                trackId: "int32"
                            }, {
                                offset: 32,
                                type: "offset"
                            }, {
                                duration: "int32"
                            }];
                            m = m.concat({
                                offset: 64,
                                type: "offset"
                            }, {
                                mOb: "int16"
                            }, {
                                jtb: "int16"
                            }, {
                                volume: "int16"
                            }, {
                                offset: 16,
                                type: "offset"
                            }, {
                                offset: 288,
                                type: "offset"
                            }, {
                                width: "int32"
                            }, {
                                height: "int32"
                            });
                            this.kc =
                                this.ej(m);
                            this.kc.W2b = !!(this.flags & 1);
                            this.kc.X2b = !!(this.flags & 2);
                            this.kc.Y2b = !!(this.flags & 4);
                            this.kc.Z2b = !!(this.flags & 8);
                            this.u.console.trace("Finished parsing track box");
                            return !0
                        };
                        k.ac = "tkhd";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.zc();
                            this.kc = this.ej(1 === this.version ? [{
                                W5: "int64"
                            }] : [{
                                W5: "int32"
                            }]);
                            return !0
                        };
                        k.ac = "mehd";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.kc = this.ej([{
                                bLb: "int32"
                            }, {
                                c5b: "int32"
                            }]);
                            return !0
                        };
                        k.ac = "pasp";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this,
                                arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.kc = this.ej([{
                                cvb: "int32"
                            }, {
                                maxBitrate: "int32"
                            }, {
                                rja: "int32"
                            }]);
                            return !0
                        };
                        k.ac = "btrt";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.u.Pl();
                            this.u.Pl();
                            for (this.HG = []; this.u.offset <= this.byteOffset + this.byteLength - 4;) this.HG.push(this.u.Pl());
                            return !0
                        };
                        k.ac = "ftyp";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2),
                        f = a(85);
                    r = function(k) {
                        function m() {
                            return null !== k && k.apply(this, arguments) || this
                        }
                        c.__extends(m, k);
                        m.prototype.parse = function() {
                            this.zc();
                            this.kc = this.ej([{
                                JVb: "int32"
                            }, {
                                nW: "int32"
                            }, {
                                offset: 96,
                                type: "offset"
                            }, {
                                name: "string"
                            }]);
                            this.kc.nW = f.qo(this.kc.nW);
                            return !0
                        };
                        m.ac = "hdlr";
                        m.Ra = !1;
                        return m
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2),
                        f = a(101),
                        k = a(229),
                        m = a(170);
                    r = a(36);
                    var g = a(86);
                    a = function(d) {
                        function h() {
                            return null !== d && d.apply(this, arguments) || this
                        }
                        c.__extends(h, d);
                        h.prototype.parse = function() {
                            this.zc();
                            this.um = this.u.Ca();
                            return !0
                        };
                        h.prototype.ku = function(l) {
                            var n = Object.keys(this.Ya);
                            n.length && (n = n[0], this.Ya[n].length && (n = this.Ya[n][0], n instanceof m.default ? this.va = new k.O(n.Kz, n.samplerate) : n instanceof g.default && (n = n.Ya[f.nF]) && n.length && (n = n[0].kc, 1E3 !== n.xz && 1001 !== n.xz || 0 !== n.rI % 1E3 ? this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " +
                                n.rI + "/" + n.xz) : this.va = new k.O(n.xz, n.rI)), this.va && (l.va = this.va)));
                            return !0
                        };
                        h.prototype.JY = function(l) {
                            void 0 !== this.Ya[l] && 0 !== this.Ya[l].length && (this.oa.fh(this.um - 1, this.byteOffset + 12), l = this.Ya[l][0], this.Ke(l.byteLength, l.byteOffset))
                        };
                        h.ac = "stsd";
                        h.Ra = !0;
                        return h
                    }(r.Ec);
                    b.default = a
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.Ena = this.u.yc(2);
                            this.Dja = this.u.yc(5);
                            this.Eja = this.u.yc(3);
                            this.mia = this.u.yc(3);
                            this.u.yc(1);
                            this.u.yc(5);
                            this.u.yc(5);
                            return !0
                        };
                        k.ac = "dac3";
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.nta = this.u.ad() & 7;
                            this.Nxa = [];
                            for (var m = 0; m < this.nta; m++) {
                                var g = {
                                    Ena: this.u.yc(2),
                                    Dja: this.u.yc(5),
                                    Eja: this.u.yc(5),
                                    mia: this.u.yc(3),
                                    oOb: this.u.yc(1),
                                    mta: this.u.yc(4)
                                };
                                0 < g.mta ? g.nwb = this.u.yc(9) : this.u.yc(1);
                                this.Nxa.push(g)
                            }
                            return !0
                        };
                        k.ac = "dec3";
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2),
                        f = a(36);
                    r = function(k) {
                        function m() {
                            return null !== k && k.apply(this, arguments) || this
                        }
                        c.__extends(m, k);
                        m.prototype.parse = function() {
                            this.zc();
                            this.YY = this.u.Pl();
                            f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.YY);
                            "cenc" === this.YY && (this.u.offset -= 4, f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " +
                                this.u.offset), this.oa.v_("piff"));
                            this.u.Ca();
                            return !0
                        };
                        m.ac = "schm";
                        m.Ra = !1;
                        return m
                    }(f.Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.u.tb();
                            this.Vba = this.u.tb();
                            this.u.tb();
                            this.u.tb();
                            this.u.tb();
                            this.uZ = this.aG(this.u.tb() & 31);
                            this.aG(this.u.tb());
                            this.SA = this.uZ.length ? this.uZ[0][0] : this.Vba;
                            this.dT = this.u.offset;
                            this.startOffset +
                                this.length < this.u.offset && (100 === this.SA || 110 === this.SA || 122 === this.SA || 144 === this.SA) && (this.u.tb(), this.u.tb(), this.aG(this.u.tb()));
                            var m = this.startOffset + this.length - this.dT;
                            0 < m && this.Ke(m, this.dT);
                            return !0
                        };
                        k.prototype.aG = function(m) {
                            for (var g = [], d = 0; d < m; ++d) {
                                var h = this.u.ad();
                                g.push(this.u.WA(h))
                            }
                            return g
                        };
                        k.ac = "avcC";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this,
                                arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.ku = function() {
                            var m = this.Il("esds");
                            if (m = m && m.Rca.Il(5)) this.Kz = m.Kz;
                            return !0
                        };
                        k.ac = "mp4a";
                        k.Ra = !0;
                        return k
                    }(a(170).default);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2),
                        f = a(231);
                    r = function(k) {
                        function m() {
                            return null !== k && k.apply(this, arguments) || this
                        }
                        c.__extends(m, k);
                        m.prototype.parse = function() {
                            this.zc();
                            this.Rca = f.YQ.zY(this.u);
                            return !0
                        };
                        m.ac = "esds";
                        m.Ra = !1;
                        return m
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", {
                            value: !0
                        });
                    var c = a(2);
                    r = a(101);
                    a = a(36);
                    var f = r.nF;
                    a = function(k) {
                        function m() {
                            return null !== k && k.apply(this, arguments) || this
                        }
                        c.__extends(m, k);
                        m.prototype.parse = function() {
                            this.zc();
                            this.kc = this.ej([{
                                rI: "int32"
                            }, {
                                xz: "int16"
                            }]);
                            return !0
                        };
                        m.ac = f;
                        m.Ra = !1;
                        return m
                    }(a.Ec);
                    b.default = a
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2);
                    r = function(f) {
                        function k() {
                            return null !== f && f.apply(this, arguments) || this
                        }
                        c.__extends(k, f);
                        k.prototype.parse = function() {
                            this.zc();
                            var m =
                                this.ej([{
                                    GJ: "int32"
                                }, {
                                    NU: "int32"
                                }, {
                                    uz: "int32"
                                }, {
                                    wz: "int32"
                                }, {
                                    vz: "int32"
                                }]),
                                g = m.GJ,
                                d = m.NU,
                                h = m.uz,
                                l = m.vz;
                            m = m.wz;
                            this.kc = {
                                trackId: g,
                                GBb: d,
                                rz: h,
                                HBb: l,
                                IBb: m
                            };
                            this.GJ = g;
                            this.NU = d;
                            this.uz = h;
                            this.wz = m;
                            this.vz = l;
                            return !0
                        };
                        k.ac = "trex";
                        k.Ra = !1;
                        return k
                    }(a(36).Ec);
                    b.default = r
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2),
                        f = a(800),
                        k = a(235),
                        m = a(144),
                        g = a(229),
                        d = a(36);
                    r = a(377);
                    var h = a(378),
                        l = a(380),
                        n = a(145),
                        q = a(228),
                        p = a(101),
                        u = a(381);
                    a = function() {
                        function t(w, v, x, y, z, A) {
                            this.console =
                                w;
                            this.stream = v;
                            this.Wh = y;
                            this.Fia = z;
                            this.view = x instanceof ArrayBuffer ? new DataView(x) : new DataView(x.data, x.offset, x.length);
                            this.config = A || {};
                            this.S_a = n.boa()
                        }
                        t.path = function(w, v) {
                            return v.reduce(function(x, y) {
                                return x && x.Ya[y] && x.Ya[y][0]
                            }, w)
                        };
                        t.uoa = function(w) {
                            return w && w.HG && -1 !== w.HG.indexOf("mcl0") ? "mcl0" : void 0
                        };
                        t.$ma = function(w, v) {
                            m.assert("mcl0" === w, "Unsupported McClearen brand");
                            var x = v.Y;
                            w = x.vd;
                            v = (new g.O(120, 1)).dg(x.W).qc;
                            var y = 0;
                            for (x = x.ql; y < w.length && x < v;) x += w[y++];
                            return y
                        };
                        t.prototype.parse =
                            function(w) {
                                var v = this.mwa();
                                if (!v.done) {
                                    if (v.zX) return {
                                        Jm: !1,
                                        eRa: v.zX
                                    };
                                    this.console.error("Scan error: " + v.error);
                                    return {
                                        Jm: !1,
                                        parseError: v.error || "unknown mp4 scan error"
                                    }
                                }
                                v = this.view.buffer.slice(this.view.byteOffset, this.view.byteOffset + v.offset);
                                this.view = new DataView(v);
                                w = this.Nta(w);
                                return w.done ? this.Zka() : (this.console.error("Parse error: " + w.error), {
                                    Jm: !1,
                                    parseError: w.error || "unknown mp4 parse error"
                                })
                            };
                        t.prototype.Gn = function(w) {
                            return d.Ec.Gn(this, w)
                        };
                        t.prototype.Il = function(w) {
                            return d.Ec.Il(this,
                                w)
                        };
                        t.prototype.mwa = function() {
                            var w = new u.nda(this.Wh, this.Fia ? [p.ey, p.dy] : [], this.config && this.config.l2b || ["moof", p.NR], this.config && this.config.ZX),
                                v = c.__assign(c.__assign({}, this.config), {
                                    xI: !1
                                });
                            return (new l.PE(t.VI, w, this.view, this.console, v)).parse()
                        };
                        t.prototype.Nta = function(w) {
                            var v = new u.TQ(this.view.byteLength),
                                x = Object.create(q.Cq.Ya);
                            this.config && ((this.config.Q9 || this.config.Xaa || this.config.sE) && f(q.Cq.TI, x), this.config.Yaa && f(q.Cq.kya, x), this.config.Xaa && f(q.Cq.XZ, x));
                            var y = c.__assign(c.__assign({},
                                this.config), {
                                xI: !0
                            });
                            this.wc = new l.PE(x, v, this.view, this.console, y);
                            w = this.wc.parse(w);
                            w.done && (this.Ya = this.wc.Ya);
                            return w
                        };
                        t.prototype.Zka = function() {
                            var w = {
                                    Jm: !0
                                },
                                v = t.path(this, ["moov"]),
                                x = t.path(v, ["trak", "mdia", "minf", "stbl", "stsd"]);
                            if (this.config.Q9)
                                if (x) w.va = x.va, w.iZb = x.Ya;
                                else return {
                                    Jm: !1,
                                    parseError: "Missing sample descriptions"
                                };
                            var y = t.path(x, ["encv", "sinf", "schi"]);
                            y && (y = t.path(y, ["tenc"]) || t.path(y, [p.SR])) && (w.PWa = {
                                Xxb: y.Qn,
                                OH: y.OH,
                                PNb: !1
                            });
                            if (y = t.path(v, ["trak", "mdia", "mdhd"])) w.W =
                                y.W;
                            if (y = t.path(v, ["mvex", "trex"])) w.rz = y && y.kc.rz;
                            w.rz && w.W && (w.va = new g.O(w.rz, w.W));
                            if (y = t.path(this, ["sidx"])) {
                                var z = t.path(this, [p.ey]);
                                z = z && z.osa;
                                var A = t.path(this, [p.dy]);
                                A = A && A.mi;
                                w.Y = y.Y;
                                w.hI = z;
                                w.mi = A
                            }
                            if (z = this.Ya.vmaf && this.Ya.vmaf[0]) w.Gi = z.Gi;
                            if (this.config.t9a)
                                if (v) this.trim(v.byteOffset + v.byteLength), this.config.sE && x && 1 < x.um && y && (w.Xg = this.sE(x, y)), void 0 === w.Xg && (v = this.wc.Cz ? k.concat(this.wc.za()) : this.view.buffer, w.Xg = [{
                                    Cd: 0,
                                    data: v
                                }]);
                                else return {
                                    Jm: !1,
                                    parseError: "Missing movie box"
                                };
                            w.Jm = !0;
                            w.$X = this.wc.offset;
                            return w
                        };
                        t.prototype.trim = function(w) {
                            var v = this.view.buffer.slice(this.view.byteOffset, this.view.byteOffset + Math.min(w, this.view.byteLength));
                            this.wc.trim(w);
                            this.view = new DataView(v)
                        };
                        t.prototype.sE = function(w, v) {
                            var x = Object.keys(w.Ya),
                                y = x.filter(function(A) {
                                    return "encv" !== A
                                });
                            if (!(2 > x.length || y.length === x.length || 0 === y.length)) {
                                x = t.path(this, ["ftyp"]);
                                var z = t.uoa(x);
                                if (z) return x = [], this.wc.Zua(), w.JY("encv"), x.push({
                                        Cd: 0,
                                        cl: !1,
                                        data: k.concat(this.wc.za())
                                    }), this.wc.xua(),
                                    w.JY(y[0]), w = t.$ma(z, v), x.push({
                                        Cd: w,
                                        cl: !0,
                                        data: k.concat(this.wc.za())
                                    }), x
                            }
                        };
                        t.VI = {};
                        return t
                    }();
                    b.ur = a;
                    a.VI[p.oF] = r.default;
                    a.VI[p.pF] = h.default
                },
                function(r) {
                    r.exports = function f(a, c) {
                        a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__, c);
                        var k;
                        Object.getOwnPropertyNames(a).forEach(function(m) {
                            k = Object.getOwnPropertyDescriptor(a, m);
                            void 0 !== k && Object.defineProperty(c, m, k)
                        })
                    }
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(2),
                        f = a(144),
                        k = a(235),
                        m = a(85);
                    r = a(802);
                    var g =
                        function() {
                            function d(h) {
                                h ? (this.Mf = h.Mf.slice(), this.hh = h.hh.slice(), this.Sd = h.Sd.slice(), this.trim = h.trim) : (this.Mf = [], this.hh = [], this.Sd = [])
                            }
                            Object.defineProperties(d.prototype, {
                                empty: {
                                    get: function() {
                                        return 0 === this.Mf.length && 0 === this.hh.length && 0 === this.Sd.length
                                    },
                                    enumerable: !0,
                                    configurable: !0
                                }
                            });
                            return d
                        }();
                    r = function(d) {
                        function h(l, n, q) {
                            l = d.call(this, l, n, q) || this;
                            l.cV = [];
                            l.rb = new g;
                            return l
                        }
                        c.__extends(h, d);
                        h.Yia = function(l, n) {
                            if (n.offset + n.size <= l.byteLength) switch (n.size) {
                                case 1:
                                    l.setUint8(n.offset,
                                        n.value);
                                    break;
                                case 2:
                                    n.sv ? l.setInt16(n.offset, n.value) : l.setUint16(n.offset, n.value);
                                    break;
                                case 4:
                                    n.sv ? l.setInt32(n.offset, n.value) : l.setUint32(n.offset, n.value);
                                    break;
                                case 8:
                                    f.assert(!n.sv);
                                    l.setUint32(n.offset, Math.floor(n.value / 4294967296));
                                    l.setUint32(n.offset + 4, n.value & 4294967295);
                                    break;
                                default:
                                    f.assert(!1)
                            }
                        };
                        Object.defineProperties(h.prototype, {
                            Cz: {
                                get: function() {
                                    return !this.rb.empty
                                },
                                enumerable: !0,
                                configurable: !0
                            }
                        });
                        h.prototype.zB = function(l, n) {
                            this.rb.hh.push({
                                offset: void 0 !== n ? n : this.offset,
                                value: l,
                                size: 1
                            });
                            void 0 === n && (this.offset += 1)
                        };
                        h.prototype.nza = function(l, n) {
                            this.rb.hh.push({
                                offset: void 0 !== n ? n : this.offset,
                                value: l,
                                size: 2,
                                sv: !1
                            });
                            void 0 === n && (this.offset += 2)
                        };
                        h.prototype.fh = function(l, n) {
                            this.rb.hh.push({
                                offset: void 0 !== n ? n : this.offset,
                                value: l,
                                size: 4,
                                sv: !1
                            });
                            void 0 === n && (this.offset += 4)
                        };
                        h.prototype.oza = function(l, n) {
                            this.rb.hh.push({
                                offset: void 0 !== n ? n : this.offset,
                                value: l,
                                size: 8,
                                sv: !1
                            });
                            void 0 === n && (this.offset += 8)
                        };
                        h.prototype.v_ = function(l) {
                            this.fh(m.xS(l))
                        };
                        h.prototype.QJ =
                            function(l, n) {
                                this.rb.Sd.push({
                                    offset: this.offset,
                                    Bl: l,
                                    value: n
                                });
                                this.offset += 4
                            };
                        h.prototype.Ke = function(l, n, q) {
                            this.rb.Mf.push({
                                offset: n,
                                remove: l,
                                kb: q
                            })
                        };
                        h.prototype.jv = function(l, n, q, p) {
                            this.rb.Mf.push({
                                offset: q,
                                remove: l,
                                replace: n,
                                kb: p
                            })
                        };
                        h.prototype.trim = function(l) {
                            this.rb.trim = l
                        };
                        h.prototype.Zua = function() {
                            this.cV.push(new g(this.rb))
                        };
                        h.prototype.xua = function() {
                            this.rb = this.cV.pop() || new g
                        };
                        h.prototype.za = function() {
                            var l = this;
                            if (0 === this.rb.Mf.length && 0 === this.rb.hh.length && 0 === this.rb.Sd.length) return [void 0 ===
                                this.rb.trim ? this.view.buffer : this.view.buffer.slice(0, this.rb.trim)
                            ];
                            this.rb.Mf.sort(function(v, x) {
                                return v.offset - x.offset
                            });
                            this.rb.hh.sort(function(v, x) {
                                return v.offset - x.offset
                            });
                            this.Zva();
                            var n = this.Xma(),
                                q = this.view.buffer.slice(0, n),
                                p = new DataView(q);
                            this.rb.hh.forEach(h.Yia.bind(void 0, p));
                            this.Fya(p);
                            this.Dya(p);
                            var u = [],
                                t = void 0 !== this.rb.trim ? Math.min(this.rb.trim, this.view.byteLength) : this.view.byteLength,
                                w = 0;
                            this.rb.Mf.filter(function(v) {
                                return v.offset <= t
                            }).forEach(function(v) {
                                v.offset >
                                    w && (u.push(p.buffer.slice(w, v.offset)), v.offset > p.byteLength && p !== l.view && (p = l.view, u.push(p.buffer.slice(n, v.offset))));
                                v.replace && u.push(v.replace);
                                w = v.offset + v.remove
                            });
                            w < n && u.push(q.slice(w));
                            w < t && u.push(this.view.buffer.slice(Math.max(q.byteLength, w), t));
                            return u
                        };
                        h.prototype.Xma = function() {
                            var l = [],
                                n = this.rb.hh[this.rb.hh.length - 1],
                                q = this.rb.Sd[this.rb.Sd.length - 1];
                            n && l.push(n.offset + n.size);
                            q && l.push(q.offset + 4);
                            this.rb.Mf.filter(function(p) {
                                return p.kb
                            }).forEach(function(p) {
                                return l.push(p.kb.byteOffset +
                                    4)
                            });
                            n = Math.max.apply(void 0, l);
                            return void 0 !== this.rb.trim ? Math.min(n, this.rb.trim) : n
                        };
                        h.prototype.Zva = function() {
                            this.rb.Mf = this.rb.Mf.reduce(function(l, n) {
                                if (0 === l.length) return l.push(n), l;
                                var q = l[l.length - 1],
                                    p = q.offset + q.remove;
                                n.offset >= p ? l.push(n) : n.offset + n.remove > p && (f.assert(q.kb === n.kb), q.remove += n.offset + n.remove - p, n.replace && (q.replace = q.replace ? k.concat(q.replace, n.replace) : n.replace));
                                return l
                            }, [])
                        };
                        h.prototype.Fya = function(l) {
                            var n = this;
                            this.rb.Sd.forEach(function(q) {
                                var p = l,
                                    u = q.offset;
                                n.rb.Mf.some(function(v) {
                                    return v.offset <= q.offset && v.replace && v.offset + v.replace.byteLength >= q.offset + 4 ? (p = new DataView(v.replace), u = q.offset - v.offset, !0) : !1
                                });
                                var t = q.Bl + (void 0 !== q.value ? q.value : p.getInt32(u)),
                                    w = n.rb.Mf.reduce(function(v, x) {
                                        return x.offset > q.Bl && x.offset < t ? v + (x.remove - (x.replace ? x.replace.byteLength : 0)) : v
                                    }, 0);
                                p.setInt32(u, t - q.Bl - w)
                            })
                        };
                        h.prototype.Dya = function(l) {
                            this.rb.Mf.forEach(function(n) {
                                var q = (n.remove || 0) - (n.replace ? n.replace.byteLength : 0);
                                if (0 !== q)
                                    for (n = n.kb; n;) l.setUint32(n.byteOffset,
                                        l.getUint32(n.byteOffset) - q), n = n.parent
                            })
                        };
                        return h
                    }(r.Jfa);
                    b.Ifa = r
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(145); a(145); var f = a(85); r = function () {
                        function k(m, g, d) { this.view = m; this.console = g; this.config = d; this.view = m; this.console = g; this.Rn = this.bz = this.offset = 0 } k.prototype.Yna = function (m) { return new DataView(this.view.buffer, this.view.byteOffset + this.offset, m) }; k.prototype.yc = function (m) {
                            for (; this.Rn < m;)this.bz = (this.bz << 8) + this.tb(), this.Rn += 8; this.Rn -= m; return this.bz >>>
                                this.Rn & (1 << m) - 1
                        }; k.prototype.tb = function () { var m = this.view.getUint8(this.offset); this.offset += 1; return m }; k.prototype.ad = function (m) { m = this.view.getUint16(this.offset, m); this.offset += 2; return m }; k.prototype.Ca = function (m) { m = this.view.getUint32(this.offset, m); this.offset += 4; return m }; k.prototype.GI = function () { var m = this.view.getInt32(this.offset, void 0); this.offset += 4; return m }; k.prototype.Yta = function (m, g) {
                            var d = this.view.getUint32(this.offset + (m ? 4 : 0), m); m = this.view.getUint32(this.offset + (m ? 0 : 4),
                                m); g || 0 === (d & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits"); return 4294967296 * d + m
                        }; k.prototype.Vd = function (m, g) { m = this.Yta(m, g); this.offset += 8; return m }; k.prototype.Zta = function (m, g) { var d = this.view.getInt32(this.offset + (m ? 4 : 0), m); m = this.view.getUint32(this.offset + (m ? 0 : 4), m); g || 0 === ((0 < d ? d : -d) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits"); return 4294967296 * d + m }; k.prototype.nva = function () { var m = this.Zta(void 0, void 0); this.offset += 8; return m }; k.prototype.Pl =
                            function () { return f.qo(this.Ca()) }; k.prototype.XA = function () { function m(p, u) { return ("000000" + p.toString(16)).slice(2 * -u) } var g = this.Ca(!0), d = this.ad(!0), h = this.ad(!0), l = this.ad(), n = this.ad(), q = this.Ca(); return [m(g, 4), m(d, 2), m(h, 2), m(l, 2), m(n, 2) + m(q, 4)].join("-") }; k.prototype.kva = function (m) { var g = this.view.byteOffset + this.offset; return this.view.buffer.slice(g, g + m) }; k.prototype.hva = function (m) {
                                var g = []; if (0 === m) return ""; m = m || Number.MAX_SAFE_INTEGER; for (var d = this.tb(); 0 !== d && 0 <= --m;)g.push(d), d = this.tb();
                                return String.fromCharCode.apply(null, g)
                            }; k.prototype.WA = function (m) { var g, d; void 0 === g && (g = 1); void 0 === d && (d = !0); return this.dj(this.config.wB && c.npa || c.uq, 1, m, g, d) }; k.prototype.fva = function (m, g, d) { var h; void 0 === g && (g = 2); void 0 === d && (d = !0); void 0 === h && (h = !1); return this.dj(this.config.wB && c.lpa || c.Tz, 2, m, g, d, h) }; k.prototype.VA = function (m, g, d) { var h; void 0 === g && (g = 4); void 0 === d && (d = !0); void 0 === h && (h = !1); return this.dj(this.config.wB && c.mpa || c.uu, 4, m, g, d, h) }; k.prototype.lva = function () {
                                for (var m =
                                    this.tb(), g = m & 127; m & 128;)m = this.tb(), g = g << 7 | m & 127; return g
                            }; k.prototype.dj = function (m, g, d, h, l, n) { void 0 === l && (l = !0); void 0 === n && (n = !1); m = m(this.view, this.offset, d, h, n); this.offset = l || !h || h === g ? this.offset + d * (h || g) : this.offset + g; return m }; return k
                    }(); b.Jfa = r
                }, function (r, b, a) {
                    function c(h, l, n, q) { m.call(this, h, l, n, q) } function f(h, l, n) { m.call(this, h, l, n, void 0) } var k = a(101), m = a(236).qr, g = a(379), d = a(85).xS; c.prototype = Object.create(m.prototype); f.prototype = Object.create(c.prototype); f.prototype.Oga = function (h,
                        l) { return "string" === typeof l ? g[l] : l ? g.reset[h] || g.sxa[h] : g.sxa[h] }; f.prototype.Fva = function (h, l, n) { return this.za(h, l, !1, n, void 0) }; f.prototype.Jva = function (h, l, n) { return this.za(h, l, !0, n, void 0) }; f.prototype.za = function (h, l, n, q, p) {
                            function u(L) { w = t[L]; v = w.Yh("traf"); if (void 0 === v || void 0 === v.hk) return !1; A = v.Yh("tfdt"); if (void 0 === A) return !1; x = v.Yh("trun"); return void 0 === x ? !1 : !0 } if (!this.parse().done) return !1; var t = this.Ya.moof; if (!t || 0 === t.length) return !1; var w, v, x; if (void 0 !== h) {
                                var y = h; for (h =
                                    0; h < t.length; ++h) { if (!u(h, this.wc.console.trace)) return !1; if (x.Ob > y || n && x.Ob === y) break; y -= x.Ob }
                            } else if (h = n ? t.length - 1 : 0, !u(h, this.wc.console.trace)) return !1; if (n && h < t.length - 1) { var z = t[h + 1]; this.wc.Ke(this.eBb - z.startOffset, z.startOffset) } else !n && 0 < h && this.wc.Ke(w.startOffset, 0); z = v.Yh("tfhd"); if (void 0 === z) return !1; var A = v.Yh("tfdt"), B = x.Ob, E = v.Yh("saiz"), D = v.Yh("saio"), F = v.Yh(k.RR), G = v.Yh("sbgp"); if (!(!E && !D || E && D)) return !1; var C = v.Yh("sdtp"); if (this.Ya.mdat && h < this.Ya.mdat.length) var H = this.Ya.mdat[h];
                            else if (h !== t.length - 1) return !1; void 0 === y && (y = n ? x.Ob : 0); if (x.za(v, z, H || this.wc, l, y, v.hk, n)) x.Cz && (!n && A && A.za(x.qxa), E && D && (E.za(x.Vq, n), D.za(F ? 0 : E.SI, v.hk, n)), F && F.za(x.Vq, n), C && C.za(x.Vq, B, n), G && G.za(x.Vq, n)); else if (!n) { if (h === t.length - 1) return !1; this.wc.Ke(t[h + 1].startOffset - w.startOffset, w.startOffset) } else if (0 === x.Vq) return !1; q && (l = this.Oga(this.stream.profile, p)) && x.Nva(v, z, H, n, q, l); n = this.wc.za(); q = n.reduce(function (L, N) { return L + N.byteLength }, 0); n = { Kd: n, length: q, Yn: this.wc.view.byteLength };
                            x.Cz && !H && (n.Nq = v.hk + x.Nq, n.fj = x.fj); return n
                        }; r.exports = { sr: f, uA: function (h) { var l = new ArrayBuffer(8), n = new DataView(l); n.setUint32(0, h + 8); n.setUint32(4, d("mdat")); return l } }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(2); r = a(236); var f = a(235); a = function (k) {
                        function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.za = function (g) {
                            var d = this; if (!this.parse().done) return !1; var h = this.Ya.moov; if (!h || 0 === h.length) return !1; var l = h[0].Il("tenc");
                            if (!l) return !1; var n = new Uint8Array(l.Qn); g.forEach(function (q) { for (var p = q.from, u = !0, t = 0; t < p.length; t++)if (n[t] !== p[t]) { u = !1; break } u && d.wc.jv(q.from.length, q.to, l.OH) }); return f.concat(this.wc.za())
                        }; return m
                    }(r.qr); b.rK = a
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); r = b.Rj || (b.Rj = {}); r[r.$b = 0] = "AUDIO"; r[r.Pb = 1] = "VIDEO" }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.lDa = void 0; r = a(2); var c = a(19), f = r.__importStar(a(10)), k = r.__importDefault(a(6)), m = new k.default.Console("ASEJS_ERROR_DIRECTOR",
                        "asejs"), g = r.__importDefault(a(27)), d = r.__importDefault(a(807)), h = a(238), l = k.default.pr, n = l.q0, q = {}, p = {}; a = [g.default.Eh.fy, !1]; r = [g.default.Eh.fy, !0]; var u = [g.default.Eh.DF, !1], t = [g.default.Eh.DF, !0], w = [g.default.Eh.URL, !0], v = [-1, !1], x = [g.default.Eh.DF, !1]; q[n.Q5b] = u; q[n.UNKNOWN_ERROR] = u; q[n.k9b] = u; q[n.zgb] = u; q[n.VBa] = u; q[n.Lgb] = u; q[n.Dgb] = t; q[n.Bfb] = t; q[n.QAa] = x; q[n.OAa] = x; q[n.Cfb] = v; q[n.Dfb] = x; q[n.Efb] = x; q[n.yfb] = u; q[n.Afb] = u; q[n.PAa] = a; q[n.zfb] = u; q[n.xfb] = x; q[n.L6b] = t; q[n.Hhb] = x; q[n.hEa] = x; q[n.gEa] =
                            x; q[n.dEa] = x; q[n.eEa] = x; q[n.Ghb] = w; q[n.hda] = t; q[n.jda] = w; q[n.ida] = r; q[n.kEa] = t; q[n.Jhb] = w; q[n.J0] = x; q[n.iEa] = t; q[n.Ihb] = t; q[n.Ggb] = t; q[n.Agb] = u; q[n.Glb] = u; q[n.qgb] = u; q[n.rgb] = u; q[n.sgb] = u; q[n.tgb] = u; q[n.ugb] = u; q[n.vgb] = u; q[n.wgb] = u; q[n.xgb] = u; q[n.ygb] = u; q[n.Bgb] = u; q[n.Cgb] = u; q[n.Egb] = u; q[n.Fgb] = u; q[n.Hgb] = u; q[n.Igb] = u; q[n.Jgb] = u; q[n.Kgb] = u; q[n.Mgb] = u; q[n.Ngb] = u; q[n.Flb] = x; q[n.TIMEOUT] = a; p[n.QAa] = !0; p[n.hEa] = !0; p[n.gEa] = !0; p[n.eEa] = !0; p[n.VBa] = !0; !1; a = function () {
                                function y(z, A, B, E) {
                                    this.Em = z; this.config =
                                        A; this.rKb = B; this.$r = E; this.events = new c.EventEmitter; this.Yg = new c.di; !1; this.rTa = new h.hfa; q[n.dEa] = A.jLb ? t : x; this.Yg.addListener(this.Em, "networkFailed", this.kKb.bind(this)); this.WN = k.default.time.fa(); this.au = 0; this.$xa = {}; this.Lua = new d.default(z, E, A)
                                } y.prototype.Jb = function () { this.Yg.clear() }; y.prototype.mE = function (z) { this.qaa = z }; y.prototype.Cs = function (z, A, B, E) {
                                    var D = this, F = l.q0.name, G = B ? F[B] : void 0; F = {}; var C = this.config, H = this.Em; m.warn("Failure " + G + " on " + JSON.stringify(z) + " : critical error count = " +
                                        this.au); if (B && f.isArray(q[B])) {
                                            var L = q[B]; this.nA = { Uw: A, th: B, rXa: G, zj: E }; p[B] && (++this.au, this.events.emit("criticalNetworkError", { type: "criticalNetworkError", th: B })); if (L !== v) {
                                                if (void 0 !== z.url) { var N = H.Y9a(z.url); N && (F[N] = [z.url]) } else if (void 0 !== z.host && void 0 !== z.port) F = H.VZb(z.host, z.port); else { m.error("Invalid affected for network failure"); return } var J = L[0], Q = L[1]; C.cv ? f.forEach(F, function (K, I) {
                                                    L === x || L === u ? D.Lua.qWb({ url: void 0 !== z.url ? z.url : K[0], Md: I }, { jRa: I, b_: L, Uw: A, th: B, rXa: G, zj: E }) :
                                                        K.some(function (M) { H.Cs(J, Q, M); return J === g.default.Eh.DF }); !D.qaa || 0 !== A && void 0 !== A || (K = void 0 !== z.url ? z.url : K[0]) && D.qaa.Bwa("error", K)
                                                }) : f.forEach(F, function (K, I) { if (L !== x || D.oYb(I)) K.some(function (M) { H.Cs(J, Q, M); return J === g.default.Eh.DF }), !D.qaa || 0 !== A && void 0 !== A || (K = void 0 !== z.url ? z.url : K[0]) && D.qaa.Bwa("error", K) })
                                            }
                                        } else m.error("Unmapped failure code in JSASE error director : " + B)
                                }; y.prototype.oYb = function (z) {
                                    var A = k.default.time.fa(), B = this.config, E = this.$xa[z]; if (E) if (E.Yo < this.WN) E.Yo =
                                        A, E.count = 1; else { if (!(E.Yo >= A - B.Jaa || E.YA || (E.Yo = A, ++E.count, E.count < B.w8))) return E.YA = !0 } else this.$xa[z] = { Yo: A, count: 1 }
                                }; y.prototype.kKb = function (z) {
                                    var A = this, B = k.default.time.fa() - this.WN, E = z, D = this.config; m.warn("Network has failed " + (z ? "permanently" : "temporarily") + " last success was " + B + " ms ago"); !z && B > D.Tsa && (E = !0); if (this.nA) var F = this.nA.th, G = this.nA.Uw, C = this.nA.zj; z || this.events.emit("temporaryNetworkError", { type: "temporaryNetworkError", errorCode: F, httpCode: G, nativeCode: C }); E ? (this.oP &&
                                        (clearTimeout(this.oP), this.oP = void 0), this.ATa(), this.Lua.reset(), this.rKb({ fNb: z, YTb: F, ZTb: G, $Tb: C })) : this.oP || (this.oP = setTimeout(function () { A.oP = void 0; A.J$() }, D.Usa))
                                }; y.prototype.J$ = function () { var z = this; this.rTa.Wy || this.rTa.lza(function () { z.oP || (z.Em.J$(), z.$xa = {}, z.$r()) }) }; y.prototype.bba = function (z) { var A = this.config; this.WN = Math.max(z.timestamp || k.default.time.fa(), this.WN); this.ATa(); A.cv && this.Lua.bba(z); this.events.emit("updatingLastSuccessEvent", { type: "updatingLastSuccessEvent" }) };
                                y.prototype.xta = function () { this.au = 0 }; y.prototype.zk = function () { var z = this, A = this.config, B = A.q8; this.WN = Math.max(k.default.time.fa(), this.WN); !A.Mcb || this.c_ || A.h_ && A.WM && A.URb || (m.info("Setting underflow timeout in " + B + "ms"), this.c_ = setTimeout(function () { m.info("Forcing permanent network failure after " + B + "ms, since underflow with no success"); z.c_ = void 0; z.Em.Cs(g.default.Eh.fy, !0) }, B)) }; y.prototype.ATa = function () { this.c_ && (clearTimeout(this.c_), this.c_ = void 0, m.info("Cleared underflow timeout")) };
                                return y
                            }(); b.lDa = a
                }, function (r, b, a) {
                    function c(g, d, h) { this.US = g; this.TF = 0 === Math.floor(1E6 * Math.random()) % h.EI; this.groupId = 1; this.config = h; this.Gz = {}; this.gE = {}; this.$r = d } var f = a(10), k = a(6).default; new k.Console("ASEJS_PROBE_MANAGER", "asejs"); var m = a(808).Sza; c.prototype.constructor = c; c.prototype.qWb = function (g, d) {
                        var h = this.US, l = g.Md, n = h.Gab(g.url), q = h.h8(g.url), p = this.config, u = k.time.fa(), t = d, w = [], v = n.wj[0], x = !1, y = this.Gz[l]; if (!y) y = this.Gz[l] = { count: 0, Yo: u, YA: !1, error: d, Kwa: [], Nua: {} }; else if (y.Yo >=
                            u - p.Jaa) return; y.YA || (v && q.id === v.id && (g.isPrimary = !0), y.Yo = u, y.YA = !1, y.error = d, ++y.count, n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls, function (z) { var A = z.Pc.id, B = A + "-" + l, E = this.gE[B]; if (void 0 === E || void 0 === E.o$) E && E.np && clearTimeout(E.np), z = this.OUa(z.url, g, A), this.gE[B] = { ga: !1, count: 0, o$: z.wi() }, w.push(z.wi()), x = !0; -1 === y.Kwa.indexOf(A) && y.Kwa.push(A) }, this), this.TF && 0 < w.length && (n = { type: "logdata", target: "endplay", fields: {} }, d = t, t = { ts: k.time.fa(), es: d.jRa, fc: d.th, fn: d.rXa, nc: d.zj, pb: w, gid: this.groupId },
                                d.Uw && (t.hc = d.Uw), n.fields.errpb = { type: "array", value: t, adjust: ["ts"] }, h.Vn(n)), x && this.groupId++))
                    }; c.prototype.OUa = function (g, d, h) { var l = this.US.h8(d.url); l && l.Bb && l.Bb.Bu && l.Bb.Bu.Ha || Math.random(0, 1); l = new m(this); var n = g.split("?"), q = "random=" + parseInt(1E7 * Math.random(), 10); l.TTb(1 < n.length ? g + "&" + q : g + "?" + q, d, h); return l }; c.prototype.rWb = function (g, d) {
                        var h = this.US, l = this.config, n = d.Md, q = this.Gz[n], p = g.url, u = this.gE[g.Md + "-" + n]; if (q) {
                            var t = q.error; if (u) {
                                u && u.np && clearTimeout(u.np); u.ga = !0; u.count =
                                    0; u.o$ = void 0; q.Nua[g.Md] = !0; (u = this.Gz[g.Md]) && !0 === u.YA && l.Uy && (h.l9a(g.Md, u.error.b_[1]), this.TF && (u = { type: "logdata", target: "endplay", fields: {} }, u.fields.errst = { type: "array", value: { ts: k.time.fa(), id: g.requestId, servid: d.Md, gid: g.groupId ? g.groupId : -1 }, adjust: ["ts"] }, h.Vn(u)), this.Gz[g.Md] = void 0, this.$r()); if (p !== d.url) {
                                        var w = this.gE[n + "-" + n]; w && w.ga || (n = (n = h.h8(p)) && n.Bb && n.Bb.Bu && n.Bb.Bu.Ha || Math.random(0, 1) * l.r8, n = Math.min(n, l.r8), setTimeout(function () {
                                            if (!(!1 !== q.YA || w && w.ga) && (q.YA = !0, h.Cs(t.b_[0],
                                                t.b_[1], d.url, t), this.TF)) { var v = { type: "logdata", target: "endplay", fields: {} }; v.fields.erep = { type: "array", value: { ts: k.time.fa(), id: g.requestId, servid: d.Md, gid: g.groupId ? g.groupId : -1 }, adjust: ["ts"] }; h.Vn(v) }
                                        }.bind(this), n))
                                    } this.TF && (u = { type: "logdata", target: "endplay", fields: {} }, u.fields.pbres = { type: "array", value: { ts: k.time.fa(), id: g.requestId, result: 1, servid: g.Md, gid: g.groupId ? g.groupId : -1 }, adjust: ["ts"] }, h.Vn(u))
                            }
                        }
                    }; c.prototype.oWb = function (g, d) {
                        var h = this.US, l = parseInt(d.Md, 10), n = this.Gz[l], q = parseInt(g.Md,
                            10), p = this.gE[q + "-" + l], u = 0, t = this.config; if (p && n) {
                                p.ga = !1; p.o$ = void 0; n.Nua[q] = !1; var w = n.Kwa; if (t.Uy && q === l && d.isPrimary) { var v = h.h8(d.url); v = v && v.Bb && v.Bb.Bu && v.Bb.Bu.Ha || 300 * Math.random(0, 1); v *= Math.pow(2, p.count); v = Math.min(v, 12E4); v += Math.random(0, 1) * (1E4 > v ? 100 : 1E4); p.np = setTimeout(function () { p.np = void 0; var y = this.OUa(g.url, d, q); y.o_b(g.groupId); p.o$ = y.wi() }.bind(this), v) } ++p.count; if (q === l && (u = 0, w.forEach(function (y) { !1 === n.Nua[y] && u++ }), w.length === u && n.count >= t.w8)) {
                                    var x = n.error; n.YA = !0;
                                    f.forEach(h.Gab(d.url).urls, function (y) { h.Cs(x.b_[0], x.b_[1], y.url, x); if (this.TF) { var z = { type: "logdata", target: "endplay", fields: {} }; z.fields.erep = { type: "array", value: { ts: k.time.fa(), id: -1, servid: y.Pc.id }, adjust: ["ts"] }; h.Vn(z) } }, this)
                                } this.TF && (l = { type: "logdata", target: "endplay", fields: {} }, l.fields.pbres = { type: "array", value: { ts: k.time.fa(), id: g.requestId, result: 0, servid: g.Md, gid: g.groupId ? g.groupId : -1 }, adjust: ["ts"] }, h.Vn(l))
                            }
                    }; c.prototype.bba = function (g) {
                        var d = g.url || g.mediaRequest.url; if (d) {
                            g = this.US;
                            d = g.Y9a(d); var h = this.Gz[d], l = this.gE[d + "-" + d]; h && h.YA && this.config.Uy && (g.l9a(h.error.jRa, !1), this.TF && (h = { type: "logdata", target: "endplay", fields: {} }, h.fields.errst = { type: "array", value: { ts: k.time.fa(), id: -1, servid: d }, adjust: ["ts"] }, g.Vn(h)), this.Gz[d] = void 0, l && l.np && clearTimeout(l.np))
                        }
                    }; c.prototype.reset = function () { var g = this.gE, d, h; for (h in g) g.hasOwnProperty(h) && (d = g[h + "-" + h]) && d.np && clearTimeout(d.np); this.gE = {}; this.Gz = {} }; r.exports = c
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.Sza = void 0; var c = a(2), f = a(19), k = c.__importDefault(a(6)).default.Pv; r = function (m) {
                        function g(d) { var h = m.call(this) || this; h.HPa = d; h.y2 = d.groupId; h.Ki = new f.di; h.Ki.on(h, k.Oe.QR, h.uha); h.Ki.on(h, k.Oe.vF, h.YS); return h } c.__extends(g, m); g.prototype.TTb = function (d, h, l) { k.prototype.open.call(this, d, h, l) }; g.prototype.o_b = function (d) { this.y2 = d }; Object.defineProperties(g.prototype, { groupId: { get: function () { return this.y2 }, enumerable: !1, configurable: !0 } }); g.prototype.md = function () {
                            this.Ki && this.Ki.clear();
                            k.prototype.md.call(this)
                        }; g.prototype.uha = function (d) { this.HPa.rWb(d.probed, d.affected); this.md() }; g.prototype.YS = function (d) { this.HPa.oWb(d.probed, d.affected); this.md() }; return g
                    }(k); b.Sza = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.oEa = void 0; var c = a(2), f = a(141), k = a(383), m = a(17), g = c.__importDefault(a(6)); r = a(84); var d = a(386), h = a(5), l = a(125); a = function (n) {
                        function q(p, u, t, w, v, x, y, z, A, B, E) {
                            var D = n.call(this, p) || this; D.pe = p; D.I = u; D.J = t; D.Vn = w; D.iD = x; D.B7 = y; D.Ay = z; D.ZPa =
                                A; D.wh = B; D.QOa = [void 0, void 0]; D.LS = null !== E && void 0 !== E ? E : { ew: [Object.create(null), Object.create(null)] }; v ? D.eW = v : (D.Ee = l.wp.instance.$t("headers", "" + D.pe.S, !0, !1, {}, D.J), D.Ee.Ab()); return D
                        } c.__extends(q, n); Object.defineProperties(q.prototype, { ew: { get: function () { return this.LS.ew }, enumerable: !1, configurable: !0 } }); Object.defineProperties(q.prototype, { YB: { get: function () { return this.LS.YB }, set: function (p) { this.LS.YB = p }, enumerable: !1, configurable: !0 } }); Object.defineProperties(q.prototype, {
                            gL: {
                                get: function () { return this.LS.gL },
                                set: function (p) { this.LS.gL = p }, enumerable: !1, configurable: !0
                            }
                        }); q.prototype.md = function () { var p = this; this.ew.forEach(function (u, t) { for (var w in u) u[w].md(), p.Ula(t, w) }); this.Ee && l.wp.instance.JM(this.Ee); this.Ee = void 0 }; q.prototype.fl = function (p, u) { return this.ew[p][u] }; q.prototype.T6 = function () { return !(!this.YB || !this.YB.length) }; q.prototype.yka = function () { this.YB = void 0 }; q.prototype.BP = function (p) { this.YB = p }; q.prototype.qya = function () {
                            if (!this.T6() || this.gL) return !1; for (f.Zm.rq(1); 0 < this.YB.length;) {
                                var p =
                                    this.YB.shift(), u = this.pe.Rw(1, p); if (u && !this.zKb(p) && u.Gu) return this.gL = p, this.Zaa(u, { offset: 0, KP: !0 })
                            } return !1
                        }; q.prototype.Kya = function (p, u) { var t = this; u.forEach(function (w) { var v = t.fl(p, w.Ta); v && !w.te && (v.stream.te ? w.A4(v.stream) : (v.TX || (v.TX = []), v.TX.push(t.pe))) }) }; q.prototype.mP = function (p, u, t) {
                            var w = this, v, x = this.pe; m.Cf.forEach(function (y) {
                                var z, A, B; if (x.pc(y) && (void 0 === t || y === t)) {
                                    var E = p[y]; h.assert(E && x.getTrackById(E.trackId) === E); E = E.ce; if (x.pk) w.I.warn("requestHeadersFromManifest, shutdown detected");
                                    else if (x.Em.e_(x.S, E)) { var D = null !== (B = null === (A = null === (z = w.iD(y)) || void 0 === z ? void 0 : z.UH) || void 0 === A ? void 0 : A.bitrate) && void 0 !== B ? B : 0; z = d.ana(E, D); void 0 === z && w.I.warn("Unable to find stream for bitrate " + D); z = E[z]; (A = x.fl(y, z.Ta)) && A.stream.Y ? x.R3b(y, A) : (y = { offset: 0, KP: !1, ZC: 1 === y, Mw: !0, qO: !w.B7(x) }, x.HUa(z, y, u)) } else w.I.warn("requestHeadersFromManifest, unable to update urls")
                                }
                            }); x.Z6 = !0; null === (v = this.wh) || void 0 === v ? void 0 : v.call(this, x.Sb).e4()
                        }; q.prototype.DE = function (p, u) {
                            var t = this.J,
                                w = this.fl(p.mediaType, p.Ta); if (w) return w.stream.Y || w.KP && this.xTa(w), !1; w = this.Job; var v = this.Kob; if (void 0 !== t.Isa && void 0 !== w && void 0 !== v) { var x = g.default.time.fa(); if (x - w < t.Isa || x - v < t.Isa) return !1 } p = this.Zaa(p, { url: p.url, offset: 0 }, void 0, void 0, u); this.Kob = g.default.time.fa(); return p
                        }; q.prototype.Zaa = function (p, u, t, w, v) {
                            var x, y, z, A = p.mediaType; f.Zm.rq(A); var B = p.Ta; if (this.enb(B, !!u.Mw)) return null === (x = this.ZPa) || void 0 === x ? void 0 : x.call(this), !1; if (x = this.fl(A, B)) p = !1; else {
                                x = c.__assign(c.__assign({},
                                    u), { ea: null !== (y = u.ea) && void 0 !== y ? y : this.Pnb(p) }); y = !!x.ZC; B = !!x.qO; this.eW ? v = this.eW(A, !!x.Mw, y, B, !!t) : v || (v = this.Ee); h.assert(v); p.url && (this.iD(A).sra = p.url); x = p = this.TNa(p, v, x); if (!p.EO()) return this.pe.ah("MediaRequest open failed (2)", "NFErr_MC_StreamingFailure"), !1; p = !0
                            } u.Mw && w && (this.pe.yh[A] = x); null === (z = this.ZPa) || void 0 === z ? void 0 : z.call(this); return p
                        }; q.prototype.Xm = function () {
                            var p = this, u = []; this.ew.forEach(function (t, w) {
                                f.Zm.rq(w); for (var v in t) {
                                    w = t[v]; var x = w.Lya(); 1 === x ? u.push(w) :
                                        2 === x && p.pe.ah("swapUrl failure")
                                }
                            }); return u
                        }; q.prototype.Ak = function (p) { var u = p.mediaType, t = f.Zm.rq(u); this.pe.pk ? t.warn("header onrequestcomplete ignored, session shutdown:", p.toString()) : (this.Vn({ type: "logdata", target: "startplay", kc: { usedNativeDataView: p.L4b } }), p.$X > p.WTb && (this.QOa[u] = p.$X), p.KP && this.xTa(p), this.nob(p), this.Job = g.default.time.fa(), this.pe.yu.emit("onHeaderRequestComplete", p)); this.qu(p) }; q.prototype.s3 = function (p, u, t) {
                            var w = p.mediaType; f.Zm.rq(w); w = this.pe.Rw(w, p.Ta); if (u !==
                                !!p.cl) return !1; this.MQa(p); p.Ysb(w); this.yNa(p); this.pe.yu.emit("onHeaderFromCache", { header: p, BFb: t }); return !0
                        }; q.prototype.TL = function (p, u) { var t = [], w = this.ew[p], v; for (v in w) { var x = w[v]; x && !x.stream.Y && x.As === u && (this.Ula(p, v), t.push({ stream: x.stream, offset: x.offset, ea: x.ea, ZC: x.ZC, Mw: x.Mw, qO: x.qO, Sta: x.Sta }), x.md()) } return t }; q.prototype.bwa = function (p) { var u = this; p.forEach(function (t) { u.Zaa(t.stream, t) }) }; q.prototype.MQa = function (p) { this.ew[p.mediaType][p.Ta] = p }; q.prototype.zKb = function (p) {
                            return !!this.fl(1,
                                p)
                        }; q.prototype.nob = function (p) { var u = this.J, t = f.Zm.rq(p.mediaType), w = p.stream.Y; if (u.Bla) { u = w.length; t.trace("fragment count:", u); for (var v = 0; v < u; ++v) { var x = w.get(v); t.trace("fragment: " + v + ", startPts: " + x.Z + ", duration: " + x.duration + ", offset: " + x.offset) } } this.yNa(p) }; q.prototype.yNa = function (p) { var u = p.mediaType, t = p.Ta; f.Zm.rq(u); p.TX && (p.TX.forEach(function (w) { (w = w.Rw(u, t)) && w !== p.stream && !w.te && w.A4(p.stream) }), p.TX = void 0); this.pe.hKb(p) }; q.prototype.TNa = function (p, u, t) {
                            var w = this, v = f.Zm.rq(p.mediaType);
                            p = new k.aca(p, this.J, u, t, this, !1, v); p.addListener("headerRequestCancelled", function (x) { w.mob(x.request) }); p.Ab(void 0); this.MQa(p); return p
                        }; q.prototype.enb = function (p, u) { return this.Ay && (p = this.Ay.aX(this.pe.K, p)) && this.s3(p, !1, u) ? !0 : !1 }; q.prototype.Pnb = function (p) { var u = p.Ms, t = p.P, w = t.duration, v = this.J; return t.mf.Je ? v.tXa ? v.tXa : v.Y6 : v.I4b && u ? u.offset + u.size : (p = this.QOa[p.mediaType]) ? p + 128 : v.Hma ? 2292 + 12 * Math.ceil(w / 2E3) : v.Y6 }; q.prototype.mob = function (p) { this.Ula(p.mediaType, p.Ta) }; q.prototype.Ula =
                            function (p, u) { delete this.ew[p][u] }; q.prototype.xTa = function (p) { this.gL === p.Ta && (this.gL = void 0) }; return q
                    }(r.Av); b.oEa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.dLa = void 0; var c = a(2), f = a(19); r = function (k) {
                        function m(g, d, h, l) {
                            var n = k.call(this) || this; n.I = g; n.track = d; n.Io = !1; n.Vga = !1; n.Yg = new f.di; n.Yg.on(d, "networkfailing", function () { n.emit("networkfailing") }); n.Yg.on(d, "error", function () { n.I.warn("requestQueue got error"); n.emit("error") }); if (h) n.Io = !0, Promise.resolve().then(function () { return n.emit("created") });
                            else n.Yg.on(d, "created", function () { n.Io = !0; n.emit("created") }); n.Vga = l; return n
                        } c.__extends(m, k); Object.defineProperties(m.prototype, { G5: { get: function () { return this.track.G5 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype, { th: { get: function () { return this.track.th }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype, { zj: { get: function () { return this.track.zj }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype, {
                            nV: {
                                get: function () { return this.track.nV },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(m.prototype, { config: { get: function () { return this.track.config }, enumerable: !1, configurable: !0 } }); m.prototype.Ab = function () { var g, d; this.Vga || (null === (d = (g = this.track).Ab) || void 0 === d ? void 0 : d.call(g), this.Vga = !0) }; m.prototype.Fu = function () { return this.track.Fu() }; m.prototype.toString = function () { return this.track.toString() }; m.prototype.toJSON = function () { return this.track }; m.prototype.hq = function () { this.Yg.clear() }; return m
                    }(f.EventEmitter); b.dLa =
                        r
                }, function (r, b, a) {
                    function c(t) { t = t.parent; var w = !1; if (t && t.children) { var v = {}; v[p.Yl] = []; v[p.vl] = []; v[p.TEMPORARY] = []; var x = t.children; x.forEach(function (y) { y && v[y.jf].push(y) }); 0 < v[p.Yl].length || (v[p.vl].length === x.length ? t.jf !== p.vl && (t.jf = p.vl, q.error("PERM failing :", l.default.Eh.name[t.Fn] + " " + t.id), w = !0) : (t.jf === p.Yl && (t.jf = p.TEMPORARY, q.error("TEMP failing :", l.default.Eh.name[t.Fn] + " " + t.id), w = !0), v[p.TEMPORARY].forEach(function (y) { y.jf = p.Yl })), w && c(t)) } } function f(t) {
                        if ((t = t.parent) && 0 <
                            t.children.length && t.jf !== p.Yl) { var w = {}; w[p.Yl] = []; w[p.vl] = []; w[p.TEMPORARY] = []; t.children.forEach(function (v) { v && w[v.jf].push(v) }); 0 < w[p.Yl].length && (t.jf = p.Yl, f(t)) }
                    } function k(t) { return t.jf !== p.Yl } function m(t) { switch (t.jf) { case p.Yl: return "OK"; case p.vl: return "FAILED PERMANENTLY"; case p.TEMPORARY: return "FAILED TEMPORARILY"; default: return "INVALID" } } function g(t, w) { if (t.jf === p.TEMPORARY || t.jf === p.vl && w) t.jf = p.Yl; t.children && t.children.forEach(function (v) { v && g(v, w) }) } Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.Fda = void 0; var d = a(2), h = d.__importStar(a(10)); r = a(19); var l = d.__importDefault(a(27)), n = d.__importDefault(a(6)), q = new n.default.Console("ASEJS_LOCATION_SELECTOR", "media|asejs"), p; (function (t) { t[t.Yl = 0] = "OK"; t[t.TEMPORARY = 1] = "TEMPORARY"; t[t.vl = 2] = "PERMANENT" })(p || (p = {})); var u; (function (t) { t[t.Rv = 0] = "STARTUP"; t[t.olb = 1] = "REBUFFER" })(u || (u = {})); !1; a = function (t) {
                            function w(v, x, y, z, A) {
                                var B = t.call(this) || this; B.Vb = x; B.Sh = y; B.config = z; B.Dpb = A; B.uWb = u.Rv; B.wj = {}; B.pl = {}; B.urls =
                                    {}; B.streams = {}; B.GA = []; B.g9 = !1; B.cp = { id: "network", Fn: l.default.Eh.fy, jf: p.Yl, sx: void 0, parent: void 0, children: B.GA }; B.I2 = null; B.ZI = null; B.wP = l.default.my.Rv; B.VL(v, l.default.my.Rv); !1; return B
                            } d.__extends(w, t); w.prototype.xJb = function () { return this.GA[0].Bb }; w.prototype.ju = function () { return k(this.cp) }; w.prototype.Y9a = function (v) { if ((v = this.urls[v]) && v.parent) return v.parent.id }; w.prototype.h8 = function (v) { if ((v = this.urls[v]) && v.Pc) return v.Pc.location }; w.prototype.Gab = function (v) { if (v = this.urls[v]) return v.stream };
                            w.prototype.VL = function (v, x) {
                                var y = this; void 0 === x && (x = l.default.my.Sib); v.locations.forEach(function (z) { var A = z.key; if (y.wj[A]) y.wj[A].cc = z.rank, y.wj[A].level = z.level, y.wj[A].weight = z.weight; else { var B = [], E = y.Sh.get(A), D = y.cp; z = { id: A, Fn: l.default.Eh.LOCATION, jf: p.Yl, cc: z.rank, level: z.level, weight: z.weight, sx: void 0, parent: D, children: B, pl: B, streams: {}, Bb: E }; y.wj[z.id] = z; D.children.push(z) } }); this.I2 = n.default.time.fa(); this.GA.sort(function (z, A) { return z.level - A.level || z.cc - A.cc }); v.servers.forEach(function (z) {
                                    var A =
                                        z.id; if (y.pl[A]) y.pl[A].cc = z.rank; else { var B = y.wj[z.key]; if (B) { var E = []; z = { id: A, Fn: l.default.Eh.DF, jf: p.Yl, sx: void 0, parent: B, children: E, urls: E, name: z.name, type: z.type, cc: z.rank, location: B }; y.pl[z.id] = z; B.children.push(z) } }
                                }); v.audio_tracks.forEach(function (z) { y.I7a(z) }); v.video_tracks.forEach(function (z) { y.I7a(z) }); v = this.GA.filter(function (z) {
                                    var A = z.pl.every(function (B) { return 0 === B.urls.length }); A && (z.pl.forEach(function (B) { y.pl[B.id] = void 0 }), y.wj[z.id] = void 0, z.parent = void 0, z.children.length =
                                        0, z.streams = {}); return !A
                                }); v.forEach(function (z) { z.pl.sort(function (A, B) { return A.cc - B.cc }) }); this.GA = v; this.cp.children = v; this.ZI = null; this.wP = x; this.dump()
                            }; w.prototype.e_ = function (v, x) {
                                var y = this, z = this.config, A = this.Vb.get(), B = 0; n.default.Yt && n.default.Yt(v); if (k(this.cp)) return !1; var E = l.default.Sf.IB; z.yX && (E = l.default.Sf.Yx); this.Vb.location && A.confidence >= E && (v = this.wj[this.Vb.location]) && (v.Bb = A); h.Lb(this.ZI) && (this.ZI = this.W3b()); if (!this.ZI) return this.Cs(l.default.Eh.fy, !1), !1; var D =
                                    this.ZI; if (!D.length) return this.Cs(l.default.Eh.fy, !1), !1; x.forEach(function (F, G) {
                                        var C = F.id; D.some(function (H) {
                                            var L = H.streams[C]; if (!L) return !1; var N = L.wj[0]; void 0 === F.n$ && (F.n$ = N.id, F.Kua = L.g_[N.id][0].Pc.id); return L.g_[H.id].some(function (J) {
                                                if (k(J.Pc)) return J.Pc.jf === p.TEMPORARY && (F.jf = p.TEMPORARY), z.cv && F.Pc === J.Pc.id && J.Pc.sx && (F.sx = J.Pc.sx), !1; if (k(J)) return !1; var Q = "unknown"; F.location !== H.id && (z.cv ? F.Wqa = H.id === N.id : Q = H !== D[0] ? "" + l.default.my.jca : void 0 === F.location ? "" + l.default.my.Rv :
                                                    h.la(F.u2a) || F.u2a === H.id ? h.la(F.x2a) || F.x2a === J.Pc.id ? "performance" : "serverfailover" : "locationfailover", F.location = H.id, F.Bra = H.level, F.Js = Q); F.url = J.url; F.Pc = J.Pc.id; F.$I = J.Pc.name; F.Bb = z.zja ? H.Bb.confidence >= l.default.Sf.Yx || A.confidence < E ? H.Bb : A : A.confidence === l.default.Sf.HAVE_NOTHING || H.Bb.confidence >= l.default.Sf.Yx ? H.Bb : A; return !0
                                            })
                                        }) ? (F.aA = !1, F.jf = void 0, F.Eu && ++B) : F.jf && F.jf === p.TEMPORARY ? y.cp.jf = p.TEMPORARY : F.aA || (q.warn("Failing stream [" + G + "] " + C + " (" + F.bitrate + " Kbps)"), F.hxb(), F.aA =
                                            !0)
                                    }); return k(this.cp) ? (q.warn("Network has failed, not updating stream selection"), this.g9 = !0, this.emit("networkFailed", this.cp.jf === p.vl), !1) : B ? !0 : (q.warn("Did not find a URL for ANY stream..." + (x.length ? "" : "(empty stream list)")), this.Cs(l.default.Eh.fy, !0), !1)
                            }; w.prototype.VZb = function (v, x) {
                                var y = {}, z = /^http(s?):\/\/([^\/:]+):?([0-9]*)/; h.forEach(this.urls, function (A, B) {
                                    A = A.parent ? A.parent.id : ""; var E = y[A], D = B.match(z); if (D && 4 === D.length) {
                                        var F = "s" === D[1], G = D[2]; D = D[3]; D.length || (D = F ? "443" : "80");
                                        h.Zf(G) && h.Zf(D) && G === v && D == x && (E ? E.push(B) : y[A] = [B])
                                    }
                                }); return y
                            }; w.prototype.Cs = function (v, x, y, z) {
                                for (var A = v !== l.default.Eh.fy && y ? this.urls[y] : this.cp, B = this.cp.jf, E = x ? p.vl : p.TEMPORARY; A && A.parent && A.Fn !== v;)A = A.parent; if (A) {
                                    if (E !== A.jf) {
                                        y = q; var D = y.warn; v = (x ? "PERM" : "TEMP") + " failure reported for " + l.default.Eh.name[v] + " at "; x = []; var F; for (F = A; F; F = F.parent)switch (F.Fn) {
                                            case l.default.Eh.DF: var G = F; x.unshift(G.id + "(" + G.name + ")"); break; case l.default.Eh.LOCATION: x.unshift(F.id); break; case l.default.Eh.URL: x.unshift("<url for " +
                                                F.stream.bitrate + ">")
                                        }D.call(y, v + (x.length ? "/" + x.join("/") : "") + " : was " + m(A)); switch (A.jf) { case p.vl: return; case p.TEMPORARY: break; case p.Yl: break; default: throw Error("Invalid failure state"); }A.jf = E; c(A); this.g9 = this.g9 || k(this.cp); E = this.cp.jf; E > B && (q.warn("Emitting networkFailed, permanent =", E === p.vl), this.emit("networkFailed", E === p.vl)); this.ZI = null; this.wP = l.default.my.Rf; z && (this.wP = l.default.my.Rkb, A.sx = z); this.dump()
                                    }
                                } else q.warn("Unable to find failure entity for URL " + y)
                            }; w.prototype.l9a =
                                function (v, x) { if (v = this.pl[v]) g(v, x), f(v); this.ZI = null; this.wP = l.default.my.uea }; w.prototype.J$ = function () { g(this.cp, !1) }; w.prototype.Vn = function (v) { var x; null === (x = this.Dpb) || void 0 === x ? void 0 : x.call(this, v) }; w.prototype.zk = function () { this.tYb(u.olb) }; w.prototype.Jb = function () { this.config.bPb && this.RUb() }; w.prototype.I7a = function (v) {
                                    var x = this; v.streams.forEach(function (y) {
                                        var z = y.downloadable_id, A = x.streams[z]; if (h.la(A)) {
                                            var B = y.content_profile; A = {
                                                id: z, bitrate: y.bitrate, zb: y.vmaf, type: y.type, profile: B,
                                                clear: 0 === B.indexOf("none-"), Eu: !0, urls: [], g_: {}, wj: []
                                            }; x.streams[A.id] = A
                                        } y.urls.forEach(function (E) { var D = E.url, F = x.urls[D]; if (h.la(F) && (E = x.pl[E.cdn_id])) { var G = E.location; F = { id: D, Fn: l.default.Eh.URL, jf: p.Yl, sx: void 0, parent: E, children: [], url: D, Pc: E, stream: A }; x.urls[D] = F; E.children.push(F); A.urls.push(F); 0 === A.wj.filter(function (C) { return C.id === G.id }).length && A.wj.push(G); G.streams[A.id] = A; (D = A.g_[G.id]) ? D.push(F) : A.g_[G.id] = [F] } }); h.sf(A.g_, function (E) { E.sort(function (D, F) { return D.Pc.cc - F.Pc.cc }) });
                                        A.wj = A.wj.sort(function (E, D) { return E.level - D.level || E.cc - D.cc })
                                    })
                                }; w.prototype.W3b = function () { var v = this, x = this.config, y = this.GA.filter(function (A) { return !k(A) && 0 !== A.level }); if (0 === y.length) return null; var z = n.default.time.fa(); if (null === this.I2 || this.I2 + x.Ara < z) y.forEach(function (A) { A.id !== v.Vb.location && (A.Bb = v.Sh.get(A.id)) }), this.I2 = z; y.sort(function (A, B) { return A.level - B.level || A.cc - B.cc }); return y }; w.prototype.tYb = function (v) {
                                    var x = this.Vb.location; this.uWb = v; this.GA.forEach(function (y) {
                                        y.id !==
                                            x && y.Bb && y.Bb.confidence > l.default.Sf.IB && (y.Bb.confidence = l.default.Sf.IB)
                                    })
                                }; w.prototype.RUb = function () { var v = this; this.g9 || this.GA.forEach(function (x) { x.jf === p.TEMPORARY && v.Sh.fail(x.id, n.default.time.fa()) }) }; w.prototype.dump = function () { }; return w
                        }(r.EventEmitter); b.Fda = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.nHa = void 0; var c = a(22), f = a(5), k = a(813), m = a(814), g = a(815), d = a(816), h = a(817), l = a(818), n = a(819); r = function () {
                        function q(p, u, t, w) {
                            this.config = p; this.mediaType =
                                u; this.Sc = t; this.console = w
                        } q.prototype.append = function (p, u) {
                            var t, w = u.endOfStream, v = u.H8, x = u.BX; void 0 === this.track ? this.ON(p.stream) : this.track !== p.stream.track && (f.assert(this.track.va), f.assert(p.stream.track.va), f.assert(1 === this.mediaType || this.track.va.equal(p.stream.track.va)), this.track = p.stream.track); f.assert(void 0 !== this.Ut); u = { Kd: p, offset: null !== (t = p.Vua) && void 0 !== t ? t : c.O.cb, Xe: this.config.V$ }; u = this.Ut.reduce(function (y, z) { return z.append(y, { endOfStream: w, H8: v, BX: x }) }, u); t = u.Kd; u = u.offset;
                            t.za && p.Hk(t.za); return u
                        }; q.prototype.reset = function () { this.Ut = this.track = void 0 }; q.prototype.ON = function (p) {
                            var u; this.track = p.track; this.Ut = []; if (0 === this.mediaType) {
                                this.config.V$ && this.Ut.push(new g.sLa(this.config, p.track, this.console)); var t = this.Zja(p); t.equal(c.O.cb) ? this.config.im && p.xf && this.qqa(p.P.S) && this.Ut.push(new l.qFa(this.config)) : this.Ut.push(new k.afa(t)); this.config.wsa || (this.console.log("MediaSplicer: NegativePtsGuard: " + t.ae() + ", " + (null === (u = p.xf) || void 0 === u ? void 0 : u.ae())),
                                    this.Ut.push(new d.HHa(this.config, p, this.console))); this.dNb() && (this.config.dh || this.Ut.push(new n.bAa(p, this.config, this.Sc, this.console)), this.Ut.push(new m.XHa(this.config, p, this.console)), this.l0b(p) && (f.assert(p.va), this.Ut.push(this.Wxb(p.xf || c.O.cb, p.va, t))))
                            }
                        }; q.prototype.qqa = function (p) { return this.config.qqa || this.config.g1a && -1 !== this.config.g1a.indexOf(p) }; q.prototype.Zja = function (p) { return k.afa.Zja(this.config, p.xf, this.Sc, this.console) }; q.prototype.dNb = function () { return !this.config.jE };
                        q.prototype.l0b = function (p) { return this.config.q3b && this.config.im && !!p.xf }; q.prototype.Wxb = function (p, u, t) { return new h.VMa(p.Ja(t), u, this.console) }; return q
                    }(); b.nHa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.afa = void 0; var c = a(22), f = a(21); r = function () {
                        function k(m) { this.xf = m } k.Zja = function (m, g, d, h) {
                            var l = c.O.cb; g && (d = null === d || void 0 === d ? void 0 : d.Cbc, m.y4b && void 0 !== d && 0 <= d ? (m = new c.O(d, 48E3), l = g.add(m), f.ia && h.trace("Adjusting profile timestamp offset of " + g + (" by DPI assumed delay of " +
                                m) + (" for ASE applied offset of " + l + "."))) : m.wG && (l = g)); return l
                        }; k.prototype.append = function (m) { var g = m.Xe; return { Kd: m.Kd, offset: m.offset.add(this.xf), Xe: g } }; return k
                    }(); b.afa = r
                }, function (r, b, a) {
                    function c(d) { return d.toString() + " (nrdp: " + d.RI + "ms)" } Object.defineProperties(b, { __esModule: { value: !0 } }); b.XHa = void 0; var f = a(22), k = a(242), m = a(21), g = a(5); r = function () {
                        function d(h, l, n) { this.console = n; this.offset = f.O.cb; this.xf = h.im ? l.xf : void 0; g.assert(l.va); this.va = l.va } d.prototype.append = function (h) {
                            var l =
                                h.Kd, n = h.offset, q = h.Xe; void 0 !== this.q2a && (g.assert(void 0 !== this.dra), l.Zc.add(h.offset).equal(this.q2a) ? (h = this.Jvb(l, n.add(this.offset)).T - this.dra, 0 > h ? this.offset = this.offset.add(f.O.nx) : 0 === h ? this.offset.lessThan(f.O.cb) && (this.offset = this.offset.add(f.O.nx)) : 1 === h ? this.offset.greaterThan(f.O.cb) && (this.offset = this.offset.Ja(f.O.nx)) : this.offset = this.offset.Ja(f.O.nx)) : this.offset = f.O.cb); this.dra = this.Ivb(l, n.add(this.offset)).T; this.q2a = l.Qd.add(n); return { Kd: l, offset: n.add(this.offset), Xe: q }
                        };
                        d.prototype.Jvb = function (h, l) { h = this.hRa(h.Zc); var n = k.Ru(h).add(k.Ru(l)), q = h.add(l).Ja(n); m.ia && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(l) + ", start rounding error: " + k.Ru(h).toString() + ", offset rounding error: " + k.Ru(l).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + q.ae() + ", (" + h.RI + l.RI + "ms), last fragment end nrdp: " + this.dra); return q }; d.prototype.Ivb = function (h, l) {
                            var n = this.va; h = this.hRa(h.Qd); var q = k.Ru(h.Ja(n)).add(k.Ru(n)).add(k.Ru(l)),
                                p = h.add(l).Ja(q); m.ia && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ja(n)) + ", frame duration: " + c(n) + ", offset: " + c(l) + ", timestamp rounding error: " + k.Ru(h.Ja(n)).toString() + ", frame duration rouding error: " + k.Ru(n).toString() + ", offset rounding error: " + k.Ru(l).toString() + ", total rounding error: " + q.toString() + ", expected nrdp value: " + p.ae() + ", (" + h.Ja(n).RI + n.RI + l.RI + "ms)"); return p
                        }; d.prototype.hRa = function (h) { return this.xf ? h.Ja(this.xf) : h }; return d
                    }(); b.XHa = r
                },
                function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.sLa = void 0; var c = a(22), f = a(5), k = a(21); r = function () {
                        function m(g, d, h) { this.config = g; this.console = h; this.vw = c.O.cb; f.assert(d.va); this.va = d.va; g = d.ce[0].profile; this.Y8 = this.qIb(g, this.va); this.y8 = this.oIb(g, this.va) } m.prototype.append = function (g, d) {
                            var h = g.Kd, l = g.offset; g = g.Xe; var n = d.H8; d = d.BX; if (this.aua) {
                                var q = this.sRb(h, this.aua); h.za && this.qja(q) ? (k.ia && this.console.trace("SeamlessAudio: dropping one first frame"), h.lma(1), this.vw =
                                    q) : (this.vw = q.add(this.va), this.lSa(this.vw) || (k.ia && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Mg.ae() + " error would be " + this.vw.ae() + " (editing " + (h.za ? "" : "not ") + "allowed)"), this.vw = c.O.cb, g = !1)); this.aua = void 0
                            } if (h.zq || h.Xw) f.assert(n, "SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"), !h.za || !d && h.Xw || (q = this.tRb(h, n, d), q.Zr(c.O.cb) && h.mma(1)), this.aua = n; f.assert(this.lSa(this.vw)); this.ira = h.ze; return { Kd: h, offset: l.add(this.vw), Xe: g }
                        }; m.prototype.tRb =
                            function (g, d, h) { if (h) var l = this.vw.add(g.ze.Ja(h)).Ja(this.va); else l = g.ze.Ja(d), l = this.vw.add(l).Ja(this.va); k.ia && this.console.trace("SeamlessAudio: fragment end: " + g.ze.ae() + ", splice " + d.ae() + ", next start " + (null === h || void 0 === h ? void 0 : h.ae()) + ", error " + l.add(this.va).ae() + ", error with frame drop " + l.ae() + ", is" + (this.qja(l) ? "" : " not") + " within bounds of [" + this.Y8.ae() + " and " + this.y8.ae() + ")"); return l }; m.prototype.sRb = function (g, d) {
                                f.assert(this.ira); var h = this.vw.add(this.ira.Ja(g.Mg)).Ja(this.va);
                                k.ia && this.console.trace("SeamlessAudio: fragment start: " + g.Mg.ae() + ", splice " + d.ae() + ", last fragment end: " + this.ira.ae() + ", error " + h.add(this.va).ae() + ", error with frame drop " + h.ae() + ", is" + (this.qja(h) ? "" : " not") + " within bounds of [" + this.Y8.ae() + " and " + this.y8.ae() + ")"); return h
                            }; m.prototype.qja = function (g) { return g.lessThan(this.y8) && g.Zr(this.Y8) }; m.prototype.lSa = function (g) { return g.lessThan(this.y8.add(c.O.nx)) && g.Zr(this.Y8.Ja(c.O.nx)) }; m.prototype.oIb = function (g, d) {
                                return "object" ===
                                    typeof this.config.rwa && void 0 !== this.config.rwa[g] ? (g = (new c.O(this.config.rwa[g], 1E3)).dg(d.W).add(new c.O(1, d.W)), c.O.min(d, g)) : d
                            }; m.prototype.qIb = function (g, d) { if ("object" === typeof this.config.swa && void 0 !== this.config.swa[g]) { var h = d.Hl(-2); g = (new c.O(this.config.swa[g], 1E3)).dg(d.W).Ja(new c.O(1, d.W)); return c.O.max(h, g) } return new c.O(-12, 1E3) }; return m
                    }(); b.sLa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.HHa = void 0; var c = a(22), f = a(5), k = a(21); r = function () {
                        function m(g,
                            d, h) { var l; this.console = h; this.QY = !1; f.assert(d.va, "NegativePtsGuard: stream.frameDuration must exist."); this.va = d.va; this.im = g.im; this.xf = null !== (l = d.xf) && void 0 !== l ? l : c.O.cb } m.prototype.append = function (g) {
                                if (this.QY) return g; var d = g.Kd, h = g.offset; g = g.Xe; if (d.za) {
                                    var l = d.Zc.Ja(this.im ? this.xf : c.O.cb).add(h); if (l.lessThan(c.O.cb)) {
                                        var n = Math.ceil(l.jI(-1).Hl(this.va)); k.ia && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.xf.ae() +
                                            ", request content start ") + (d.Zc.ae() + ", current timestamp offset ") + (h.ae() + " => firstPlatformTimestamp ") + (l.ae() + ".")); d.lma(n)
                                    }
                                } this.QY = !0; return { Kd: d, offset: h, Xe: g }
                            }; return m
                    }(); b.HHa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.VMa = void 0; var c = a(22), f = a(21); r = function () {
                        function k(m, g, d) { this.xf = m; this.va = g; this.console = d } k.prototype.append = function (m, g) {
                            var d = m.Kd, h = m.offset; m = m.Xe; var l = g.endOfStream; g = g.H8; if (l && g) {
                                l = d.Zc.Ja(this.xf).add(h); var n = d.Qd.Ja(this.xf).add(h);
                                g = g.Ja(c.O.nx); f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + l.ae() + "-" + n.ae() + " vs media splice point at " + g.ae()); l.add(this.va).Zr(g) ? (f.ia && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"), d.kma()) : n.Zr(g) && (g = Math.ceil(n.Ja(g).Hl(this.va)), d.za ? (f.ia && this.console.trace("TruncateEndOfStreamAudio: drop " + g + " frames"), d.mma(g)) : (f.ia && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"), d.kma()))
                            } else l &&
                                f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point"); return { Kd: d, offset: h, Xe: m }
                        }; return k
                    }(); b.VMa = r
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.qFa = void 0; r = function () { function a(c) { this.QY = !1; this.v0b = c.hMb } a.prototype.append = function (c) { c.Kd.za && (c.Kd.E_b(this.QY ? 0 : this.v0b), this.QY = !0); return c }; return a }(); b.qFa = r }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.bAa = void 0; var c = a(387), f = a(9); r = function () {
                        function k(m,
                            g, d, h) { this.config = g; this.Sc = d; this.console = h; this.va = m.va } k.prototype.append = function (m, g) {
                                var d, h = c.xoa(this.config, this.Sc), l = m.Kd, n = l.ze, q = l.Mg, p = l.Xw, u = m.Xe; p = l.zq || p; if (!m.Kd.za || !p || u) return m; u = l.Qd.Ja(l.Zc); l = Math.floor(u.Hl(this.va)); p = null !== (d = g.BX) && void 0 !== d ? d : n.Ja(this.va.jI(2)); n = p.Ja(q); d = l; var t = !1; g.BX && (g = this.YSa(u, n, n), d = g.kwa, t = g.e5a); h = p.Ja(f.O.Na(h)); q = f.O.max(h.Ja(q), f.O.cb); t || (q = this.YSa(u, q, n), d = q.kwa, q.e5a && (--d, this.va.jI(d))); d < (this.config.mRb || 1) ? m.Kd.kma() : 0 < l -
                                    d && m.Kd.mma(l - d); return m
                            }; k.prototype.YSa = function (m, g, d) { m = f.O.min(m, g); m = Math.floor(m.Hl(this.va)); g = this.va.jI(m); d = d.Ja(g); var h = 0 < m && d.lessThan(f.O.nx); return { kwa: m, Qec: g, pcc: d, e5a: h } }; return k
                    }(); b.bAa = r
                }, function (r, b, a) {
                    function c(x, y, z, A) {
                        d.assert(x.tk, "Current time: " + n.default.time.fa() + " cr: " + x.currentTime); d.assert(x.currentTime.isFinite()); var B = z.Ja(x.currentTime); B = Math.max(Math.ceil(B.BI / x.speed), 0); var E = null !== A && void 0 !== A ? A : { id: void 0, EVa: B, y5a: 0, XTb: B }; E.id = setTimeout(function () {
                            z.Ja(x.currentTime).XN(m.O.cb) ?
                                y() : (E.y5a++, c(x, y, z, E))
                        }, B); E.EVa = B; return E
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.vba = b.fS = void 0; var f = a(2), k = a(19), m = a(22), g = a(243), d = a(5), h = a(21), l = a(821), n = f.__importDefault(a(6)), q = a(172), p = a(822), u = a(823), t = a(147), w = function () {
                        function x() { this.complete() } Object.defineProperties(x.prototype, { zJ: { get: function () { return this.Zha }, enumerable: !1, configurable: !0 } }); Object.defineProperties(x.prototype, { a5a: { get: function () { return this.opb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(x.prototype,
                            { WAb: { get: function () { return this.vnb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(x.prototype, { nwa: { get: function () { return this.$qb }, enumerable: !1, configurable: !0 } }); x.prototype.set = function (y, z, A) { this.vnb = z === v.vO ? 0 : n.default.time.fa(); this.opb = y; this.$qb = z; h.ia && d.assert(!this.Zha, "Invalid replacement of timeout value"); this.Zha = A }; x.prototype.complete = function () { this.Zha = void 0; this.set(m.O.wD, v.vO) }; return x
                    }(), v; (function (x) {
                        x[x.vO = 0] = "none"; x[x.s4a = 1] = "microTask"; x[x.setTimeout =
                            2] = "setTimeout"
                    })(v || (v = {})); r = function (x) {
                        function y(z, A, B) { void 0 === B && (B = "unknown"); var E = x.call(this) || this; E.Ba = z; E.console = A; E.name = B; E.mpb = 0; E.Xga = !1; E.Uk = new w; E.A5 = new k.di; E.bm = new g.V0([], l.XTa(function (D, F) { return D.pP.El(F.pP) }, function (D, F) { return F.Yq.priority - D.Yq.priority }, function (D, F) { return D.Yq.id > F.Yq.id ? 1 : D.Yq.id < F.Yq.id ? -1 : 0 })); E.TRa(z); return E } f.__extends(y, x); Object.defineProperties(y.prototype, { d0b: { get: function () { return this.Ba.tk }, enumerable: !1, configurable: !0 } }); y.prototype.XUa =
                            function (z, A) { z = new (z.bind.apply(z, f.__spread([void 0], A))); z.id = this.mpb++; z.Mtb(this); this.Eia(z); return z }; y.prototype.QG = function () { for (var z = [], A = 0; A < arguments.length; A++)z[A] = arguments[A]; return this.XUa(p.uFa, z) }; y.prototype.AGb = function () {
                                var z = {
                                    hasSchedule: !!this.Uk.zJ, schedule: this.Uk.zJ && { sleepTime: this.Uk.zJ.EVa, originalSleepTime: this.Uk.zJ.XTb, clockSkewAdjustments: this.Uk.zJ.y5a }, nextWakeup: this.Uk.a5a.T, timeScheduled: this.Uk.WAb, scheduleType: v[this.Uk.nwa], numTasks: this.bm.length, clock: {
                                        ir: this.Ba.tk,
                                        ct: this.Ba.currentTime.T, sp: this.Ba.speed
                                    }
                                }; h.ia && this.trace("audit", z); return z
                            }; y.prototype.AU = function () { for (var z = [], A = 0; A < arguments.length; A++)z[A] = arguments[A]; return this.XUa(u.LLa, z) }; y.prototype.IUa = function (z, A, B) { return this.QG(function () { return f.__generator(this, function (E) { switch (E.label) { case 0: return [4, t.Pk.OJ(A)]; case 1: return E.Ac(), z(), [3, 0]; case 2: return [2] } }) }, B) }; y.prototype.TRa = function (z) {
                                var A = this; this.LC(); this.A5.clear(); this.Ba = z; this.A5.on(z, "stopStart", function () { return A.$O() });
                                this.A5.on(z, "clockAdjusted", function () { return A.LX() }); this.A5.on(z, "speedChanged", function () { return A.JTb() }); this.LX(); this.emit("clockChanged")
                            }; y.prototype.JTb = function () { this.LC(); this.$O() }; y.prototype.Jb = function () { this.reset() }; y.prototype.reset = function () { this.LC(); this.bm.clear() }; y.prototype.LX = function () { var z = this, A = this.bm.map(function (B) { return B.Yq }); this.LC(); this.bm.clear(); A.forEach(function (B) { return z.Eia(B, !1) }); this.$O() }; y.prototype.Eia = function (z, A) {
                                void 0 === A && (A = !0); var B =
                                    z.m9(), E = this.Cbb(B); z = { Yq: z, pP: E, G$: B }; d.assert(!this.bm.contains(z)); this.bm.push(z); A && this.$O()
                            }; y.prototype.$O = function () {
                                var z = this, A, B; h.ia && this.trace("recheck schedule task count:" + this.bm.length); if (this.d0b) if (this.Xga) h.ia && this.trace("already executing, bailing"); else {
                                    var E = this.Uk.a5a, D = null !== (B = null === (A = this.bm.ox()) || void 0 === A ? void 0 : A.pP) && void 0 !== B ? B : m.O.wD; D.isFinite() && D.r9(E) ? (this.LC(!1), this.Ba.currentTime.Zr(D) ? (this.Uk.set(D, v.s4a), Promise.resolve().then(function () {
                                        z.Uk.nwa ===
                                            v.s4a && (z.Uk.complete(), z.B9a())
                                    })) : (h.ia && this.trace("scheduling next wake up for:" + D.T), A = c(this.Ba, function () { z.Uk.complete(); z.B9a() }, D), this.Uk.set(D, v.setTimeout, A))) : D.isFinite() || this.Uk.nwa !== v.setTimeout || this.LC(!1)
                                } else h.ia && this.trace("should check schedule is false, stopping"), this.LC()
                            }; y.prototype.B9a = function () {
                                var z, A, B = 0, E = null === (z = this.bm.ox()) || void 0 === z ? void 0 : z.G$; try { for (this.Xga = !0; 1E4 > B++ && this.u3b();); } finally {
                                    this.Xga = !1, this.LC(), 1E4 < B && !this.HKb(E) ? null === (A = this.console) ||
                                        void 0 === A ? void 0 : A.error("Task scheduler executed more than 10000 iterations in same tick") : this.$O()
                                }
                            }; y.prototype.HKb = function (z) { var A, B = null === (A = this.bm.ox()) || void 0 === A ? void 0 : A.G$; return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type ? !1 : !0 }; y.prototype.u3b = function () {
                                var z, A, B = null !== (A = null === (z = this.bm.ox()) || void 0 === z ? void 0 : z.pP) && void 0 !== A ? A : m.O.wD; h.ia && this.trace("tryExecuteNextTask @" + this.Ba.currentTime.T + ", next wakeup at " + B); if (this.Ba.currentTime.Zr(B) && (z = this.bm.pop())) {
                                    A =
                                        z.Yq; h.ia && this.trace("Running a task @" + this.Ba.currentTime.T + ", scheduled for time:" + B.T + ("Name:" + A.name)); try { A.Bx(), z.G$ = A.m9(), z.pP = this.Cbb(z.G$) } catch (E) { throw this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + E, { stack: E.stack }), A.Jb(), E; } finally { z.pP !== m.O.wD && A.state === q.en.R$ && (d.assert(!this.bm.contains(z)), this.bm.push(z)) } return !0
                                }
                            }; y.prototype.UYb = function (z) { d.assert(z.Ne === this); this.Iva(z, !1); this.Eia(z) }; y.prototype.Iva =
                                function (z, A) { void 0 === A && (A = !0); var B = this.bm.find(function (E) { return E.Yq === z }); B && this.eYb(B, A) }; y.prototype.eYb = function (z, A) { this.bm.remove(z); A && this.$O() }; y.prototype.LC = function (z) { void 0 === z && (z = !0); this.Uk.zJ && (z && this.emit("stopping"), clearTimeout(this.Uk.zJ.id), this.Uk.complete()) }; y.prototype.Cbb = function (z) { return z.type === t.pfa.absolute ? z.timestamp : z.timestamp.add(this.Ba.currentTime) }; y.prototype.trace = function () {
                                    for (var z, A = [], B = 0; B < arguments.length; B++)A[B] = arguments[B]; null === (z =
                                        this.console) || void 0 === z ? void 0 : z.trace.apply(z, f.__spread(["TaskScheduler(" + this.name + "):"], A))
                                }; return y
                    }(k.EventEmitter); b.fS = r; b.vba = function (x, y, z) { var A = void 0; return (z || x.Ba.tk) && x.Ba.currentTime.Zr(y) ? { promise: Promise.resolve() } : { promise: new Promise(function (B) { A = x.AU(t.Pk.oQ(y), B) }), Yq: A } }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.XTa = void 0; var c = a(2), f = a(21), k = a(5); b.XTa = function () {
                        for (var m = [], g = 0; g < arguments.length; g++)m[g] = arguments[g]; f.ia && k.assert(m.length);
                        return function (d, h) { var l; try { for (var n = c.__values(m), q = n.next(); !q.done; q = n.next()) { var p = q.value, u = p(d, h); if (0 !== u) return u } } catch (w) { var t = { error: w } } finally { try { q && !q.done && (l = n.return) && l.call(n) } finally { if (t) throw t.error; } } return 0 }
                    }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.uFa = void 0; var c = a(2), f = a(22), k = a(5), m = a(172), g = a(147); r = function (d) {
                        function h(l, n, q) { n = d.call(this, n, q) || this; n.qZb = l; n.reset(); return n } c.__extends(h, d); h.prototype.reset = function () {
                            var l,
                                n; if (this.ed === m.en.R$ || this.ed === m.en.pending) null === (n = null === (l = this.l2) || void 0 === l ? void 0 : l.return) || void 0 === n ? void 0 : n.call(l); this.ed = m.en.pending; this.l2 = this.qZb(); this.pha = g.Pk.OJ(f.O.cb)
                        }; h.prototype.Pm = function () { this.reset(); k.assert(this.nw); this.nw.UYb(this) }; h.prototype.m9 = function () { return this.pha }; h.prototype.Vf = function () { var l, n, q = this.l2.next(); q.done ? (this.pha = g.Pk.hza, null === (n = (l = this.l2).return) || void 0 === n ? void 0 : n.call(l)) : this.pha = q.value }; h.prototype.Jb = function () {
                            var l,
                                n; null === (n = (l = this.l2).return) || void 0 === n ? void 0 : n.call(l); d.prototype.Jb.call(this)
                        }; return h
                    }(m.Afa); b.uFa = r
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.LLa = void 0; var c = a(2), f = a(172), k = a(147); r = function (m) { function g(d, h, l) { l = m.call(this, l) || this; l.qwa = d; l.iU = h; return l } c.__extends(g, m); g.prototype.m9 = function () { return this.ed === f.en.pending ? this.qwa : k.Pk.hza }; g.prototype.Vf = function () { this.iU() }; return g }(f.Afa); b.LLa = r }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.XKa = void 0; r = a(2); var c = r.__importDefault(a(27)), f = r.__importDefault(a(388)); a = function () {
                        function k(m) { this.h3 = []; this.h3[c.default.Wa.Pb] = new f.default(m, c.default.Wa.Pb); this.h3[c.default.Wa.$b] = new f.default(m, c.default.Wa.$b) } k.prototype.Gsb = function (m, g, d) { this.h3[m].add(g, d) }; k.prototype.Zoa = function () { var m = []; this.h3.forEach(function (g) { if (g) { var d = g.get(); d && 0 < d.length && d.forEach(function (h) { m.push(h) }); g.reset(!0) } }); return m }; k.prototype.TEb = function (m) {
                            var g = this.Zoa(); m.strmsel = g;
                            return 0 < g.length
                        }; return k
                    }(); b.XKa = a
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.pZa = void 0; b.pZa = function (a) { var c = Math.floor(1E6 * Math.random()), f = a.Lpa, k = a.b7; a = 0 === c % a.Mpa && 0 < k.length; return { Tr: a, eV: a && 0 === c % f } } }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.nUa = void 0; b.nUa = function (a, c) {
                        if (!Array.isArray(a.kUa)) return a; var f = a.Xt ? a.Xt() : Object.create(a); a.kUa.forEach(function (k) {
                            if (void 0 !== k.kRb && c.duration >= k.kRb && k.config) for (var m in k.config) f[m] =
                                k.config[m]
                        }); return f
                    }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.vCa = void 0; var c = a(2).__importStar(a(10)), f = a(125), k = a(5); !1; r = function () {
                        function m(g, d, h) { this.Dn = g; this.I = d; this.ji = h; !1 } m.prototype.qnb = function (g, d) { var h = this, l = this.Dn.J; 0 === this.dG && this.Dn.Hb.dm("createDlTracksStart"); this.dG += g.length; g = g.map(function (n) { return h.UNa(n, d.K, d.Ww(), h.Dn.am, l) }); f.wp.instance.Vf(); return g }; m.prototype.Cnb = function () {
                            var g = this, d = []; this.Dn.Db.Of.forEach(function (h) {
                                c.la(h.Lf) ||
                                    d.push(h.Lf); h.Lf = void 0
                            }); this.Dn.MS && (d.push(this.Dn.MS), this.Dn.MS = void 0); d.forEach(function (h) { h.Io || --g.dG; f.wp.instance.JM(h) })
                        }; m.prototype.zob = function () { this.dG = 0 }; m.prototype.OPa = function (g, d) { var h = this.Dn.Db.Of[g], l = h.Lf; l && (l = d.TL(g, l), this.Bnb(g), h.Lf = this.UNa(g, d.K, d.Ww(), this.Dn.am, this.Dn.J), d.bwa(l)) }; m.prototype.UNa = function (g, d, h, l, n) {
                            var q = this, p = f.wp.instance.$t(g, d, !0, h, l, n); p.Yg.on(p, "created", function () { --q.dG; 0 === q.dG && q.Dn.Hb.dm("createDlTracksEnd") }); p.Yg.on(p, "networkfailing",
                                function () { n.ti && q.ji.Im("reportNetworkFailing: " + p); if (p.G5) { k.assert(p.nV); var u = q.Dn.He.P; u.kq.Cs(p.nV, void 0, p.th, p.zj); u.Xm() } }); p.Yg.on(p, "error", function () { n.ti && q.ji.Im("DownloadTrack fatal error"); q.Dn.Qp("DownloadTrack fatal error", void 0, "NFErr_MC_StreamingFailure", p.th, 0, p.zj) }); p.on("transportreport", function (u) { q.Dn.emit("transportreport", u) }); p.Ab(); return p
                        }; m.prototype.Bnb = function (g) { g = this.Dn.Db.Of[g]; var d = g.Lf; d.Io || --this.dG; f.wp.instance.JM(d); g.Lf = void 0 }; return m
                    }(); b.vCa =
                        r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Lza = void 0; var c = a(17), f = a(9); r = function () {
                        function k(m) { this.FG = m; this.state = new f.vr(c.sa.Fh); this.Dm = {} } k.prototype.getState = function () { return this.state.value }; k.prototype.Ye = function (m) { this.state.set(m) }; k.prototype.addListener = function (m) { this.state.addListener(m) }; k.prototype.paused = function () { this.state.value === c.sa.Kc && this.state.set(c.sa.mh) }; k.prototype.O1a = function () { return this.state.value === c.sa.Fh }; k.prototype.xq =
                            function () { return "function" === typeof this.FG.xq ? this.FG.xq() : this.state.value === c.sa.Kc }; k.prototype.qg = function () { return this.state.value === c.sa.wd || this.state.value === c.sa.Tf }; k.prototype.P1a = function () { return this.state.value === c.sa.nj }; k.prototype.Q1a = function () { return this.state.value === c.sa.wr }; k.prototype.Ue = function () { return this.FG.Ue() }; k.prototype.No = function () { return "function" === typeof this.FG.No ? this.FG.No() : 1 }; k.prototype.WV = function () { return this.FG.WV() }; k.prototype.kZ = function (m,
                                g) { this.Dm[m] = g }; k.prototype.Uo = function (m) { return !!this.Dm[m.K] || m.Ri }; return k
                    }(); b.Lza = r
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.UJa = void 0; r = function () {
                        function a(c, f, k) { var m; this.Atb = c; this.qha = f; this.wnb = k; this.Dga = (m = {}, m[0] = !1, m[1] = !1, m); this.reset() } a.prototype.hz = function () {
                            var c = this, f = this.Atb.filter(function (k) { return !k.p1a(c.wnb()) }); 0 === f.length && this.aha ? this.vpb() : f.forEach(function (k) {
                                c.Dga[k.mediaType] || (k.once("requestAppended", function () {
                                    c.Dga[k.mediaType] =
                                        !1; c.hz()
                                }), c.Dga[k.mediaType] = !0)
                            })
                        }; a.prototype.reset = function () { var c = this; this.aha = !1; (new Promise(function (f) { c.vpb = f })).then(function () { return c.qha() }) }; a.prototype.RPb = function () { this.aha || (this.aha = !0, this.hz()) }; return a
                    }(); b.UJa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.zza = void 0; var c = a(21); r = function () {
                        function f(k) { this.console = k; this.YF = []; this.iC = []; c.ia && this.console.trace("Received pending adoption " + this.$A.length) } Object.defineProperties(f.prototype,
                            { length: { get: function () { return this.YF.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { $A: { get: function () { return this.iC }, enumerable: !1, configurable: !0 } }); f.prototype.OPb = function (k) { k = this.iC.indexOf(k); -1 !== k && (c.ia && this.console.trace("Marking request attached"), this.YF[k].l1a = !0, this.$bb(k)) }; f.prototype.PPb = function (k) { k = this.iC.indexOf(k); -1 !== k && (c.ia && this.console.trace("Marking request completed"), this.YF[k].jA = !0, this.$bb(k)) }; f.prototype.fYb = function (k) {
                                var m =
                                    this, g = []; this.iC.forEach(function (d, h) { k(d) && g.unshift(h) }); g.forEach(function (d) { m.iC.splice(d, 1); m.YF.splice(d, 1) })
                            }; f.prototype.push = function (k) { this.iC.push(k); this.YF.push({ l1a: !1, jA: !1 }); c.ia && this.console.trace("Pushing pending request, " + this.length + " total") }; f.prototype.qD = function () { return 0 < this.length }; f.prototype.$bb = function (k) {
                                var m = this.YF[k]; m.l1a && m.jA && (m = this.iC[k], this.iC.splice(k, 1), this.YF.splice(k, 1), c.ia && this.console.trace("Removing request, " + this.length + " left"), 0 ===
                                    this.length && c.ia && this.console.trace("Removing last request, contentEndPts: " + m.Lc))
                            }; return f
                    }(); b.zza = r
                }, function (r, b, a) {
                    function c(t, w) { return (1 === t.mediaType ? 0 : 1) - (1 === w.mediaType ? 0 : 1) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.LFa = b.Eea = b.Xkb = void 0; var f = a(2), k = a(84), m = a(148), g = a(391), d = a(17), h = a(9), l = a(5), n = a(22), q = f.__importDefault(a(6)); r = a(103); var p = a(44), u = function (t) { function w() { return null !== t && t.apply(this, arguments) || this } f.__extends(w, t); return w }(a(245).xK); b.Xkb = u; b.Eea =
                        { ldb: c }; a = function (t) {
                            function w(v, x, y, z, A, B, E, D, F, G, C, H, L, N, J, Q) {
                                var K; A = t.call(this) || this; A.ofc = v; A.J = x; A.P = z; A.Sp = B; A.v6 = E; A.ut = G; A.IS = C; A.Rk = L; A.uy = N; A.events = J; A.kw = Q; A.oe = new u([]); A.$l = !1; A.RS = 0; A.rS = A.KX.bind(A); A.I = h.Bq(q.default, y, B.id && B.id.length ? "{" + B.id + "}" : ""); A.Sk = A.I.error.bind(A.I); A.Xb = A.I.warn.bind(A.I); A.sn = A.I.trace.bind(A.I); A.fs = null !== F && void 0 !== F ? F : n.O.Na(A.H.Z); A.yha = null === H || void 0 === H ? void 0 : H.ze; null === (K = A.uy) || void 0 === K ? void 0 : K.addListener(A.rS); z && D && A.$Lb(z,
                                    D); return A
                            } f.__extends(w, t); Object.defineProperties(w.prototype, { Kh: { get: function () { return this.$l }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { H: { get: function () { return this.Sp }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Yw: { get: function () { return this.oe.every(function (v) { return v.Yw }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Al: { get: function () { return this.oe.every(function (v) { return v.Al }) }, enumerable: !1, configurable: !0 } });
                            Object.defineProperties(w.prototype, { Jt: { get: function () { return this.sq().reduce(function (v, x) { return v + x.Jt }, 0) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { zh: { get: function () { return this.sq().every(function (v) { return v.zh() }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { fg: { get: function () { return this.sq().map(function (v) { return v.track }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                W: {
                                    get: function () { return this.Ct.W }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(w.prototype, { $a: { get: function () { return this.Ct.$a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { wb: { get: function () { return this.Ct.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Ej: { get: function () { return this.Ge.dg(this.W).qc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { gs: { get: function () { return this.fs.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype,
                                { xs: { get: function () { return this.H.Nf.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { $D: { get: function () { return this.H.Yi.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { jN: { get: function () { var v, x = null === (v = this.H.H.oq) || void 0 === v ? void 0 : v[0]; return x && this.Zc ? n.O.Na(Math.max(0, x[0] - this.Zc.T - this.H.Nf.T)) : void 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                    c8: {
                                        get: function () {
                                            return this.oe.reduce(function (v,
                                                x) { return v && x.ze ? n.O.max(v, x.ze) : x.ze ? x.ze : v }, void 0)
                                        }, enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(w.prototype, { kqa: { get: function () { return this.gs.T }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Fe: { get: function () { return this.Ge.T }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { $q: { get: function () { return this.Ct.$q }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Ge: { get: function () { return this.ut }, enumerable: !1, configurable: !0 } });
                            w.prototype.Lx = function (v) { this.Ge.equal(v) || (this.ut = v) }; w.prototype.Sz = function (v) { return (v = this.mb(v)) ? Promise.resolve(v.Sz()) : Promise.resolve(m.AsyncIterator.eZa()) }; w.prototype.dH = function () { this.sq().forEach(function (v) { return v.dH() }) }; w.prototype.reset = function () { this.oe.forEach(function (v) { v.reset() }) }; w.prototype.rf = function () {
                                var v, x; this.$l || (this.$l = !0, null === (v = this.kC) || void 0 === v ? void 0 : v.md(), this.kC = void 0, this.oe.forEach(function (y) { y.rf() }), null === (x = this.uy) || void 0 === x ? void 0 :
                                    x.removeListener(this.rS), this.events.removeAllListeners())
                            }; w.prototype.EW = function () { return !0 }; w.prototype.mb = function (v) { return this.oe.get(v) }; w.prototype.sq = function (v) { void 0 === v && (v = c); return this.oe.items.slice().sort(v) }; w.prototype.y6 = function () { return this.oe.items }; w.prototype.uN = function (v) { return this.mb(v) }; w.prototype.Mh = function (v, x) { v = this.mb(v); if (!v) return 0; if (x) return v.Om; x = v.cq; if (void 0 === x) return 0; v = this.IS(); return x - v }; w.prototype.fD = function () {
                                var v, x, y, z, A, B, E = null ===
                                    (v = this.mb(0)) || void 0 === v ? void 0 : v.Bn; v = null === (x = this.mb(1)) || void 0 === x ? void 0 : x.Bn; return { jo: null !== (y = null === v || void 0 === v ? void 0 : v.T) && void 0 !== y ? y : 0, Hr: null !== (z = null === E || void 0 === E ? void 0 : E.T) && void 0 !== z ? z : 0, Xs: null !== (A = null === v || void 0 === v ? void 0 : v.ea) && void 0 !== A ? A : 0, yC: null !== (B = null === E || void 0 === E ? void 0 : E.ea) && void 0 !== B ? B : 0 }
                            }; w.prototype.gW = function (v) { var x; return (v = this.mb(v)) ? null !== (x = v.cq) && void 0 !== x ? x : 0 : 0 }; w.prototype.Xm = function (v) { v = this.mb(v); l.assert(v); return v.Xm() };
                            w.prototype.KX = function (v) { d.So(v.newValue) && this.Er() }; w.prototype.LG = function (v) { return this.oe.every(function (x) { return x.LG(v) }) }; w.prototype.m6 = function (v) { var x, y; return null !== (y = null === (x = this.oe.get(v)) || void 0 === x ? void 0 : x.bVa) && void 0 !== y ? y : n.O.cb }; w.prototype.Ak = function (v) { this.$l || (v.y3 || l.assert(!v.gd), this.Er(), this.Al && this.wha()); this.qu(v) }; w.prototype.vI = function (v) { this.J.o5 && this.Er(!0); this.kH(v) }; w.prototype.uI = function (v) { this.J.o5 && this.Er(!0); this.dD(v) }; w.prototype.dxa =
                                function (v) { var x; return d.So((null === (x = this.uy) || void 0 === x ? void 0 : x.value) || d.Jc.oj) && (!v || this.RS + this.J.Q8 < q.default.time.fa()) }; w.prototype.Er = function (v) { void 0 === v && (v = !1); this.dxa(v) && (this.RS = q.default.time.fa(), v = { type: "checkBufferingProgress" }, this.events.emit(v.type, v)) }; w.prototype.wha = function () { var v = { type: "branchStreamingComplete" }; this.events.emit(v.type, v) }; w.prototype.$Lb = function (v, x) {
                                    var y = this, z; this.Uwa(v); l.assert(v.S === this.H.S || isNaN(v.S) && isNaN(this.H.S)); this.Lga = []; v =
                                        null !== x && void 0 !== x ? x : null === (z = this.v6) || void 0 === z ? void 0 : z.call(this, v); l.assert(v, "tracks need to exist upon initialization"); v.forEach(function (A) { A = A.mediaType; var B = new g.fea(A, y.J, y.I); y.Lga[A] = B })
                                }; w.prototype.toJSON = function () { var v, x; return { segment: this.H.id, branchOffset: this.Fe, viewableId: this.Sp.S, contentStartPts: null === (v = this.Zc) || void 0 === v ? void 0 : v.T, contentEndPts: null === (x = this.Qd) || void 0 === x ? void 0 : x.T } }; return w
                        }(k.Av); b.LFa = a; p.zf(r.Sx, a); p.zf(r.CB, a)
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.rWa = b.UMb = b.s1a = b.c_a = void 0; var c = a(26); b.c_a = function (f, k) { if ((f = f.jb.H.zx) && 0 !== f.length) return c.re(f, function (m) { return m.Zc.T <= k && k < m.Qd.T }) }; b.s1a = function (f, k) { return k.index === f.se.index ? !0 : (f = f.jb.H.zx) && 0 !== f.length ? f.some(function (m) { m = m.Zc; return k.Zc.XN(m) && m.lessThan(k.Qd) }) : !1 }; b.UMb = function (f, k) { return k.index === f.Jf.index ? !0 : (f = f.jb.H.zx) && 0 !== f.length ? f.some(function (m) { m = m.Qd; return k.Zc.lessThan(m) && m.XN(k.Qd) }) : !1 }; b.rWa = function (f, k, m, g) {
                            var d, h,
                                l, n, q, p; f = null === (d = k.za) || void 0 === d ? void 0 : d.start; d = null === (h = k.za) || void 0 === h ? void 0 : h.end; var u, t = h = !1; if ((null === g || void 0 === g ? 0 : g.cNb) || (null === g || void 0 === g || !g.SMb) && k.Zc.lessThan(m.Zc)) { if (u = k.dna(m.Zc.T)) u = (null !== (n = null === (l = k.za) || void 0 === l ? void 0 : l.start) && void 0 !== n ? n : 0) + u.nl, f = Math.max(null !== f && void 0 !== f ? f : 0, u); u = m.Zc.T; h = !0 } if ((null === g || void 0 === g || !g.XMb) && k.Qd.greaterThan(m.Qd)) {
                                    if (u = k.dna(m.Qd.T)) u = (null !== (p = null === (q = k.za) || void 0 === q ? void 0 : q.start) && void 0 !== p ? p : 0) + u.nl,
                                        d = Math.min(null !== d && void 0 !== d ? d : Infinity, u), k.rO = k.index; u = m.Qd.T; t = !0
                                } if (void 0 !== f || void 0 !== d) k.Hk({ start: f, end: d }), void 0 !== u && (!k.tv || u > k.tv) && k.EP(u); k.A_b(m.region, h, t)
                        }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.vJa = void 0; r = a(2); var c = r.__importDefault(a(27)), f = c.default.Wa, k = c.default.my, m = a(9), g = a(22), d = r.__importDefault(a(143)), h = r.__importDefault(a(6)); a = function () {
                        function l(n, q, p, u, t) { this.qx = n; this.eu = q; this.J = p; this.I = u; this.Sg = t } l.prototype.lSb = function (n) {
                            n =
                                { type: "requestCreated", request: n }; m.Za(this.eu, n.type, n)
                        }; l.prototype.kSb = function (n) { var q = n.Ua.jb.H; n = { type: "updateStreamingPts", mediaType: n.mediaType, position: { ha: q.id, offset: g.O.Na(this.qx.Oka - q.Z) }, completePlayerStreamingTimestamp: g.O.Na(this.qx.cq), trackIndex: n.stream.track.xC }; m.Za(this.eu, n.type, n) }; l.prototype.u5a = function (n, q, p) {
                            var u = this.Sg, t = this.qx.Jj.Qf; t.C$a(n); 1 === u && this.J.T$ && (void 0 === t.mra ? t.E$a(h.default.time.fa()) : h.default.time.fa() - t.mra > this.J.T$ && (n.bitrate !== t.z2a && (h.default.storage.set("vb",
                                n.bitrate), t.G_b(n.bitrate)), t.E$a(h.default.time.fa()))); t.PW && t.PW === n || (this.qx.Jj.h1b(q, t.PW, n), t.v_b(n), q = 0, n.Bb && n.Bb.confidence && n.Bb.Sa && (q = n.Bb.Sa.Ha), t = { ha: this.qx.jb.H.id, offset: g.O.Na(p - this.qx.jb.H.Z) }, n = { type: "streamSelected", nativetime: h.default.time.fa(), mediaType: u, streamId: n.id, manifestIndex: n.P.Sb, trackIndex: n.track.xC, streamIndex: n.Pf, movieTime: p, bandwidth: q, longtermBw: q, rebuffer: 0, position: t, stream: n }, m.Za(this.eu, n.type, n))
                        }; l.prototype.gSb = function (n, q, p) {
                            var u = q.P, t = u.Em, w =
                                this.qx.Jj.Qf, v = u.yNb(q), x = v.Wqa; v = v.zNb; p && q.Pc && !w.QW ? (v = k.Rv, q.Js = k.name[v], this.t5a(n, q.Pc, q.Js, q.location, q.bitrate), w.QW = q.Pc) : !p && q.Pc && q.Pc !== w.QW && (v = v ? void 0 === w.QW ? k.Rv : t.wP === k.uea ? k.Clb : k.jca : k.Blb, q.Js = k.name[v], this.t5a(n, q.Pc, q.Js, q.location, q.bitrate), w.QW = q.Pc); w.VN || (v = { type: "logdata", target: "startplay", fields: {} }, this.Sg === f.$b ? v.fields.alocid = q.location : this.Sg === f.Pb && (v.fields.locid = q.location), m.Za(this.eu, v.type, v)); p && q.location && !w.VN ? (v = k.Rv, q.Js = k.name[v], this.r5a(u.Sb,
                                    n, q.location, q.Bra, q.Pc, q.$I, q.Js, q.sx), w.VN = q.location) : !p && q.location && q.location !== w.VN && (v = x ? void 0 === w.VN ? k.Rv : t.wP === k.uea ? k.Oib : k.jca : k.Nib, q.Js = k.name[v], this.r5a(u.Sb, n, q.location, q.Bra, q.Pc, q.$I, q.Js, q.sx), q.sx = void 0, w.VN = q.location); this.J.cv || (q.u2a = q.location, q.x2a = q.Pc)
                        }; l.prototype.v9 = function (n) { n = { type: "requestsPruned", requests: n }; m.Za(this.eu, n.type, n) }; l.prototype.t5a = function (n, q, p, u, t) {
                            var w = this.Sg === f.Pb ? "video" : "audio", v = d.default.instance().get(); n = {
                                type: "serverSwitch", segmentId: n,
                                mediatype: w, server: q, reason: p, location: u, bitrate: t, confidence: v.confidence
                            }; v.confidence && (n.throughput = v.Sa.Ha); this.qx.Jj.Qf.QW && (n.oldserver = q); m.Za(this.eu, n.type, n)
                        }; l.prototype.r5a = function (n, q, p, u, t, w, v, x) { m.Za(this.eu, "locationSelected", { type: "locationSelected", manifestIndex: n, segmentId: q, mediatype: this.Sg === f.Pb ? "video" : "audio", location: p, locationlv: u, serverid: t, servername: w, selreason: v, seldetail: x }) }; l.prototype.rha = function (n, q) {
                            q = { type: "lastSegmentPts", segmentId: n.id, pts: Math.floor(q) };
                            n.dE || m.Za(this.eu, q.type, q)
                        }; l.prototype.Im = function (n) { n = { type: "managerdebugevent", message: "@" + h.default.time.fa() + ", " + n }; m.Za(this.eu, n.type, n) }; l.prototype.QFb = function (n) { m.Za(this.eu, "transportReport", n) }; return l
                    }(); b.vJa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.bLa = void 0; var c = a(2), f = c.__importStar(a(10)), k = a(246), m = a(837), g = a(840); r = a(84); var d = a(5), h = a(248), l = a(9), n = a(67); a = function (q) {
                        function p(u, t, w, v, x, y, z, A) {
                            var B = q.call(this, u) || this; B.J = t; B.I = w; B.pn =
                                v; B.Zd = x; B.Sg = y; B.Coa = A; B.Lcb = !0; B.Ee = new h.J_(B.I); B.Sk = B.I.error.bind(B.I); B.Xb = B.I.warn.bind(B.I); B.sn = B.I.trace.bind(B.I); B.UPa(); B.Pp = null === z || void 0 === z ? void 0 : z.QG(function () { return B.xYb() }, "pruner"); return B
                        } c.__extends(p, q); Object.defineProperties(p.prototype, { console: { get: function () { return this.I }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { mediaType: { get: function () { return this.Sg }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                            jb: {
                                get: function () { return this.Zd },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(p.prototype, { Fx: { get: function () { return 0 < this.ZA }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { xxa: { get: function () { return !this.kL }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { ZA: { get: function () { return this.Ga.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Us: { get: function () { return this.Ga.Us }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype,
                            { SWb: { get: function () { return this.Ee.count }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { rU: { get: function () { return this.Ga.complete.ze }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { cq: { get: function () { return this.Ga.TTa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Oka: { get: function () { return this.Ga.STa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                                xE: {
                                    get: function () { return this.Ga.ze }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(p.prototype, { Om: { get: function () { return void 0 === this.Ga.Ad ? 0 : this.Ga.we - this.Ga.Ad }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Bn: { get: function () { return { ea: this.Ga.NC, T: Math.max(this.Ga.TTa - this.Ga.Ad, 0) || 0 } }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { uM: { get: function () { return this.Ga.yxb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, {
                                NC: {
                                    get: function () { return this.Ga.NC }, enumerable: !1,
                                    configurable: !0
                                }
                            }); Object.defineProperties(p.prototype, { Jt: { get: function () { return this.Ga.ea }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { WD: { get: function () { return this.gob() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Rta: { get: function () { return this.Ga.OLb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { U6: { get: function () { return this.Ga.length > this.Ga.Us }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype,
                                { Up: { get: function () { return this.Ga.Up }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { $Nb: { get: function () { return this.POa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { M6a: { get: function () { return this.Ga.length - this.cm }, enumerable: !1, configurable: !0 } }); Object.defineProperties(p.prototype, { Y: { get: function () { return this.Ga }, enumerable: !1, configurable: !0 } }); p.prototype.rf = function () {
                                    var u, t = this.Ga; setTimeout(function () { t.forEach(function (w) { w.abort(); w.md() }) },
                                        1); this.UPa(); this.Ee.t5(); null === (u = this.Pp) || void 0 === u ? void 0 : u.Jb()
                                }; p.prototype.reset = function () { this.rf(); this.Ee.j9a() }; p.prototype.close = function () { this.Ee.t5() }; p.prototype.f$a = function () { this.CNa = !0 }; p.prototype.Loa = function () {
                                    return {
                                        endMarked: void 0 !== this.Ee.count, queueCount: this.Ee.count, isComplete: this.Ee.jA, itemCount: this.Ee.UTa, continuousEndPts: this.Ee.op().reduce(function (u, t) { return t && !t.done && (t = t.value, 100 > Math.abs(t.yna - u) || -1 === u) ? t.RFb : u }, -1), sentinelItemCount: this.Ee.op().filter(function (u) {
                                            return u &&
                                                u.done
                                        }).length, processedCount: this.Ee.WBb, rc: this.ZA
                                    }
                                }; p.prototype.HAb = function (u, t, w) { var v = this.J; d.assert(!u.header); u = v.IDb && 1 === this.mediaType ? new g.Oza(w, v, t.track, u, this.Ga, this.I) : k.F_.create(w, v, t.track, u, this.Ga, !1, this.I, this.Coa); u.Ab(this); this.Sy(u); return u }; p.prototype.Zsb = function (u) { u.Ab(this); u.y3 = !0; this.Sy(u); var t = Promise.resolve(); u.complete ? (this.hga(u), this.pn.u5a(u.stream, u.Ad, u.od), t = this.$aa(), this.qu(u)) : (u.active && this.mN(u), u.sva && this.dD(u)); return t }; p.prototype.Sy =
                                    function (u) { var t, w; this.Ga.wq(u); (null === (t = this.Pp) || void 0 === t ? void 0 : t.state) === n.en.complete && (null === (w = this.Pp) || void 0 === w ? void 0 : w.Pm()); this.hga(u); u.zq && (this.kL = !1) }; p.prototype.Sz = function () { return this.Ee.CGb() }; p.prototype.jka = function () { this.cm === this.Ga.length && this.CNa && this.Ee.t5() }; p.prototype.$aa = function () {
                                        var u = this, t, w = Promise.resolve(), v = this.Zd; if (!v.EW(this.Sg) || this.cm === this.Ga.length) return w; for (var x = this.J.fQb, y = 0, z = []; this.cm < this.Ga.length;) {
                                            if (t = this.Ga.get(this.cm)) {
                                                if (this.Ga.SXa &&
                                                    this.Ga.SXa.$a < t.$a) break; if (!t.Du()) break; z.push(t); ++y; f.Ea(this.Ad) || (this.Ad = t.Ad)
                                            } ++this.cm; if (!f.la(x) && y >= x) break
                                        } if (z.length) { void 0 !== this.Ee.count && (this.Sk("tryToAtach() but requestQueue has sentinel:", this.Ee.count), this.Ee.j9a()); if (this.Lcb) w = Promise.all(z.map(function (B) { return u.Ee.enqueue(B).then(function () { return u.R6(B) }) })); else for (t = 0; t < z.length; t++)try { var A = z[t]; v.SIb(this.mediaType).jCb(A); this.R6(A) } catch (B) { return this.cm -= z.length - t, Promise.reject(B) } this.jka() } return w
                                    };
                        p.prototype.R6 = function (u) { this.POa = u; this.bYa(u) }; p.prototype.yT = function (u, t) { var w = this, v = []; if (0 !== this.Ga.Us) { var x = this.Ga.F6a; this.Ga.I3b.rxa(function (y) { if (!f.la(u) && y.P.Sb !== u || y.zq || x > y.Ad) return !0; y.Q5 && (w.kL = !1); if (!w.S1(y)) return w.Xb("request abort failed:", y.toString()), !0; v.unshift(y) }); this.Fha(); v.length && "function" === typeof t && t(v) } }; p.prototype.F$ = function () { this.Fha() }; p.prototype.xYb = function () {
                            var u, t, w, v, x, y; return c.__generator(this, function (z) {
                                switch (z.label) {
                                    case 0: z.label =
                                        1; case 1: if (!this.Ga.length) return [3, 3]; u = this.Ga.get(0); t = l.O.Na(null !== (y = null === (x = this.J.HP) || void 0 === x ? void 0 : x.T) && void 0 !== y ? y : 0); w = t.add(u.ze); return [4, n.Pk.oQ(w)]; case 2: z.Ac(); if (1 >= this.Ga.complete.length && !u.zq) return [3, 3]; d.assert(u === this.Ga.get(0)); u.ff || this.S1(u); v = this.Ga.splice(0, 1); 0 < this.cm && this.cm--; this.pn.v9(v); return [3, 1]; case 3: return [2]
                                }
                            })
                        }; p.prototype.tY = function (u, t) {
                            var w = this, v = this.J, x = !1, y = 0, z = this.Ga.some(function (B) {
                                if (u < B.we) return x && w.hga(B), !0; ++y; B.ff || (w.Xb("pruning unappended request:",
                                    B && B.toString()), v.ti && w.pn.Im("prune pts:" + u + " unappended request:" + (B && B.toString())), B.Q5 && (w.kL = !1, x = !0), w.S1(B, t) || w.Sk("MediaRequest.abort error:", B.th))
                            }); if (0 < y) { var A = this.Ga.splice(0, y); this.cm -= Math.min(y, this.cm); this.pn.v9(A) } return z
                        }; p.prototype.F6 = function (u) {
                            void 0 === u && (u = { sU: null, OO: null, Ad: null, Bj: 0, eh: 0, Y: [] }); var t = this.J, w = this.Ga; f.Ea(w.Ad) && (null === u.Ad || w.Ad < u.Ad) && (u.Ad = w.Ad); var v = this.cq; void 0 !== v && null === u.sU && (u.sU = v); v = w.we; void 0 !== v && (null === u.OO || v > u.OO) && (u.OO =
                                v); u.Bj += w.Bj; u.eh = t.lxa ? u.eh + w.o8a : u.eh + w.NC; Array.prototype.unshift.apply(u.Y, w.Ac.Y); return u
                        }; p.prototype.lu = function (u) { if (this.Ga.length && (u = this.Ga.EXa(u))) return u }; p.prototype.Urb = function (u) {
                            var t, w = u.Qd; u = u.od; d.assert(w, "expected contentEndTimestamp to be defined"); d.assert(void 0 !== u, "expected contentStartPts to be defined"); u = this.Ga.Zma(u); var v = this.Ga.get(u); d.assert(v && void 0 !== v.od && void 0 !== v.Lc && void 0 !== v.index, "expected existing request to be defined with properties"); if (null ===
                                (t = v.Qd) || void 0 === t ? 0 : t.equal(w)) return this.DQa(u), [v.Lc, v.index + 1]; this.DQa(u - 1); return [v.od, v.index]
                        }; p.prototype.Xm = function () { var u = this, t = []; this.Ga.forEach(function (w) { var v = w.Lya(); 1 === v ? t.push(w) : 2 === v && u.jb.P.ah("swapUrl failure") }); return t }; p.prototype.uI = function (u) { u.AD && u.Du() && this.$aa(); this.dD(u) }; p.prototype.Ak = function (u) { var t, w; u.AD && !u.ff && this.$aa(); (null === (t = this.Pp) || void 0 === t ? void 0 : t.state) === n.en.complete && (null === (w = this.Pp) || void 0 === w ? void 0 : w.Pm()); this.qu(u) };
                        p.prototype.Qia = function (u) { var t = 1 === this.Sg ? "v_" : "a_", w = this.Ga, v = w.iN(u); u = 0 <= v ? w.get(v) : void 0; return (w = 0 <= v && v + 1 < w.length ? w.get(v + 1) : void 0) && u ? u.we !== w.Ad ? t + "rg" : u.complete && w.complete ? t + "uk" : t + "fd" : t + "rm" }; p.prototype.gob = function () { return this.Ga.Up + this.Ga.Us }; p.prototype.UPa = function () {
                            var u, t = void 0 !== this.Ga && 0 < this.Ga.length, w = this.Ga; this.Ga = new m.Jza(this.I, this); this.cm = 0; this.Ee.clear(); this.POa = void 0; this.Ad = null; null === (u = this.Pp) || void 0 === u ? void 0 : u.Pm(); this.CNa = this.kL = !1;
                            t && (u = w.map(function (v) { return v }), this.pn.v9(u))
                        }; p.prototype.hga = function (u) { this.kL ? u.Q5 = !1 : this.kL = u.Q5 = !0 }; p.prototype.DQa = function (u) { for (u += 1; u < this.ZA; u++) { var t = this.Ga.get(u); d.assert(t, "expected request to exist"); this.Ee.remove(t); t.aborted || (this.S1(t), t.md()) } this.Fha() }; p.prototype.S1 = function (u, t) { if (!u.abort()) return !1; "function" === typeof t && t(u); return !0 }; p.prototype.Fha = function () {
                            var u = this, t; if (0 !== this.Ga.length) {
                                var w = [], v = 0; this.Ga.KWb(function (x, y) { y < u.cm && ++v; w.push(x) });
                                this.cm -= v; null === (t = this.Pp) || void 0 === t ? void 0 : t.Pm(); this.pn.v9(w)
                            }
                        }; return p
                    }(r.Av); b.bLa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Gza = void 0; var c = a(2), f = a(118), k = c.__importDefault(a(27)); r = c.__importDefault(a(6)); var m = a(9), g = a(5), d = a(247), h = a(102), l = a(239), n = a(119), q = r.default.pr; a = function (p) {
                        function u(t, w, v, x, y, z, A, B) {
                            x = p.call(this, t, v, x, z, A, B) || this; y = h.$m.prototype.toString.call(x) + (y ? "(cache)" : ""); B = { offset: v.offset, ea: v.Psa + 8, responseType: 0 }; x.push(new l.BQ(t,
                                w, y + "(moof)", B, x, z, A)); B = { offset: v.offset + B.ea, ea: v.ea - B.ea, responseType: q.Sc && !q.Sc.UY.bS ? 0 : 1 }; if (x.mediaType === k.default.Wa.Pb && x.za) { if (0 < x.za.start) { var E = x.JXa(x.za.start); E && (B.offset = v.offset + E, B.ea = v.ea - E) } x.za.end < x.eD && (E = x.JXa(x.za.end)) && (B.ea -= v.ea - E) } x.push(new l.BQ(t, w, y + "(mdat)", B, x, z, A)); return x
                        } c.__extends(u, p); u.prototype.Du = function () { return !this.ff && !!this.Ga.length && this.Ga.every(function (t) { return t.Du() }) }; u.prototype.vG = function (t) {
                            if (this.ff) return { status: n.Mj.ft }; if (!this.Du()) return { status: n.Mj.Rf };
                            var w = !1, v = this.Ga[0].response, x = v.slice(0, v.byteLength - 8), y = new DataView(v); v = y.getUint32(x.byteLength); g.assert("mdat" === f.qo(y.getUint32(x.byteLength + 4))); var z = this.za && 0 < this.za.start; y = this.za && this.za.end < this.eD; if (this.za && (z || y)) { if (z) var A = new f.sr(this.I, this.stream, x), B = A.Fva(this.za.start, this.W); if (y && !1 !== B) { A = new f.sr(this.I, this.stream, B ? m.OC(B.Kd) : x); var E = A.Jva(this.za.end - this.za.start, this.W) } if (x = y ? E : B) w = t.appendBuffer(m.OC(x.Kd), m.Aq(this)), B && (v -= B.fj), E && (v -= E.fj); A = this.Iha() } else w =
                                t.appendBuffer(x, m.Aq(this)); w && (w = t.appendBuffer(f.uA(v - 8), m.Aq(this))) && (w = t.appendBuffer(this.Ga[1].response, m.Aq(this))); this.ff = w; this.OXb(); return { status: w ? n.Mj.ft : n.Mj.Rf, vk: A }
                        }; u.prototype.toString = function () { return "ID: " + this.wi() + ":" + p.prototype.toString.call(this) }; return u
                    }(d.LE); b.Gza = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.web = void 0; r = a(2); var c = a(118), f = r.__importDefault(a(27)), k = a(9); a(5); var m = r.__importDefault(a(6)), g = a(119); !1; a = function () {
                        function d() { !1 }
                        d.prototype.vG = function (h, l, n) { l = this.gf; if (this.ff) return { status: g.Mj.Rf }; if (!this.za || this.zq || this.Xw) if (this.za && (this.zq || this.Xw)) { var q = this.Jnb(h); h = q.ga; q = q.vk } else h = this.mediaType === f.default.Wa.$b && l.jE && n && this.tv && n.we >= this.we && this.Lc - this.tv < this.tv - this.od ? !0 : h.appendBuffer(this.response, k.Aq(this)); else q = this.Inb(h), h = q.ga, q = q.vk; this.ff = !0; this.GY(); return { status: h ? g.Mj.ft : g.Mj.Rf, vk: q } }; d.prototype.Inb = function (h) {
                            var l = { pE: 0 }, n = !1, q = !0; this.za && (l.pE = this.za.ixa); 0 >= this.duration &&
                                (q = !1, n = !0); if (q) if (this.za && (0 < this.za.start || l.pE)) if (n = new c.sr(new m.default.Console("MP4", "media|asejs"), this.stream, this.response), n = n.Fva(this.za.start, this.oO, l.pE)) { n = h.appendBuffer(k.OC(n.Kd), k.Aq(this)); var p = this.Iha(l) } else this.I.error("AseFragmentMediaRequest: Fragment edit failed for " + this.toString() + " from [ " + this.nN + "-" + this.X5 + "]"), n = !0; else n = h.appendBuffer(this.response, k.Aq(this)); return { ga: n, vk: p }
                        }; d.prototype.Jnb = function (h) {
                            var l, n = { pE: 0 }; (l = !0, 0 === this.duration) && (l = !1);
                            if (l) if (this.za && this.za.end < this.eD || n.pE) if (l = new c.sr(this.I, this.stream, this.response), l = l.Jva(this.za && this.za.end, this.W, n.pE)) { h = h.appendBuffer(k.OC(l.Kd), k.Aq(this)); var q = this.Iha(n) } else this.I.error("AseFragmentMediaRequest: Fragment edit failed for " + this.toString() + " from [ " + this.nN + "-" + this.X5 + "]"), h = !0; else h = h.appendBuffer(this.response, k.Aq(this)); else h = !0; return { ga: h, vk: q }
                        }; return d
                    }(); b.web = a; b.default = new a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.Jza = void 0; var c = a(2); a(5); var f = a(838); r = a(44); var k = a(839), m = a(103), g = a(84), d = a(237); a = function (h) {
                        function l(n, q) { var p = this, u = [new k.E_(n), new k.E_(n), new k.E_(n)]; p = h.call(this, u, function (t) { return t.complete ? p.empty || t.$a <= p.zxb ? 0 : 1 : t.active ? 1 : 2 }) || this; u = c.__read(u, 3); p.Ji = u[0]; p.af = u[1]; p.Gt = u[2]; p.Fr = 0; p.Tfa = 0; p.I = n; p.bf = q; return p } c.__extends(l, h); Object.defineProperties(l.prototype, { ea: { get: function () { return this.Ji.ea + this.af.ea + this.Gt.ea }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype,
                            { I3b: { get: function () { return this.Gt }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { active: { get: function () { return this.af }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { complete: { get: function () { return this.Ji }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { o8a: { get: function () { return this.Fr }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { NC: { get: function () { return this.Ji.ea }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(l.prototype, { Bj: { get: function () { return this.Ji.ea + this.af.ea - this.Fr }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { J3b: { get: function () { return this.Gt.ea }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { first: { get: function () { return this.dGb() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { Yo: { get: function () { return this.uub() }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, {
                            oma: {
                                get: function () {
                                    return !this.Ji.empty ||
                                        this.Gt.empty || this.af.empty ? this.first : this.af.$a < this.Gt.$a ? this.af.first : this.Gt.first
                                }, enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(l.prototype, { C2a: { get: function () { return this.Gt.empty || this.af.empty ? this.Yo : this.af.wb < this.Gt.wb ? this.Gt.Yo : this.af.Yo }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { SXa: { get: function () { return this.Gt.first }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, {
                            W: {
                                get: function () { return this.first && this.first.W },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(l.prototype, { $a: { get: function () { return this.oma && this.oma.$a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { wb: { get: function () { return this.C2a && this.C2a.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { Ej: { get: function () { return this.first && this.first.Ej }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { yxb: { get: function () { return this.Ji.duration }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(l.prototype, { OLb: { get: function () { return this.Lc - this.STa || 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { zxb: { get: function () { return this.Ji.empty ? this.$a : this.Ji.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { STa: { get: function () { return this.Ji.empty ? this.od : this.Ji.Lc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { TTa: { get: function () { return this.Ji.empty ? this.Ad : this.Ji.we }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(l.prototype, { F6a: { get: function () { return this.af.we || this.Ji.we }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { Us: { get: function () { return this.Gt.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { Up: { get: function () { return this.af.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, { VTa: { get: function () { return this.Ji.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(l.prototype, {
                            Ac: {
                                get: function () { return this.Ji.concat(this.af) },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(l.prototype, { Nr: { get: function () { return this.Dg }, enumerable: !1, configurable: !0 } }); l.prototype.RK = function (n) { n.aborted ? ++this.Tfa : this.Fr += n.bytesReceived || 0; if (this.empty) this.Dg = new d.DB(this, {}); else if (n.$a !== this.wb) if (n.$a > this.Dg.wb) this.Dg.jZ(this.Dg.wb); else if (n.$a < this.$a || n.$a === this.Dg.wb) { var q = n.wb; this.HFb(function (p, u) { return p.$a - u.$a }, function (p) { q = p.$a === q ? p.wb : q }); q === Math.max(this.wb, n.wb) ? this.Dg.xka() : this.Dg.jZ(q) } n.Uwa(this) };
                        l.prototype.Iy = function (n) { n.aborted ? --this.Tfa : this.Fr -= n.bytesReceived; this.empty ? this.Dg = void 0 : n.$a !== this.wb && n.wb <= this.Dg.wb && n.$a > this.Dg.$a && this.Dg.jZ(n.$a); n.wTa() }; l.prototype.push = function (n) { this.RK(n); return h.prototype.push.call(this, n) }; l.prototype.shift = function () { var n = h.prototype.shift.call(this); n && this.Iy(n); return n }; l.prototype.pop = function () { var n = h.prototype.pop.call(this); n && this.Iy(n); return n }; l.prototype.unshift = function (n) {
                            this.RK(n); return h.prototype.unshift.call(this,
                                n)
                        }; l.prototype.wq = function (n) { this.RK(n); h.prototype.wq.call(this, n) }; l.prototype.remove = function (n) { if (!h.prototype.remove.call(this, n)) return !1; this.Iy(n); return !0 }; l.prototype.splice = function (n, q) { for (var p = [], u = 2; u < arguments.length; u++)p[u - 2] = arguments[u]; u = h.prototype.splice.apply(this, c.__spread([n, q], p)); p.forEach(this.RK.bind(this)); u.forEach(this.Iy.bind(this)); return u }; l.prototype.KWb = function (n) {
                            var q = this; this.reduce(function (p, u, t) {
                                u.aborted && (n && n(u, t, q), 0 === p.length || p[0].end !== t ?
                                    p.unshift({ start: t, end: t + 1 }) : p[0].end += 1); return p
                            }, []).forEach(function (p) { return q.splice(p.start, p.end - p.start) })
                        }; l.prototype.Zma = function (n) { return this.FXa(function (q) { return q.Zma(n) }) }; l.prototype.iN = function (n) { return this.FXa(function (q) { return q.iN(n) }) }; l.prototype.EXa = function (n) { n = this.iN(n); return -1 !== n ? this.get(n) : void 0 }; l.prototype.FZb = function (n) { for (var q = []; n < this.length;) { var p = this.get(n); p && q.push(p); n++ } return q }; l.prototype.KA = function (n) { this.move(n); this.mN(n) }; l.prototype.vI =
                            function (n) { this.Fr += n.bytesReceived - n.zs; this.kH(n) }; l.prototype.Ak = function (n) { for (this.Fr += n.bytesReceived - n.zs; this.af.first && this.af.first.complete && (this.Ji.empty ? this.af.first === this.oma : this.af.first.$a === this.Ji.wb);)this.Z_b(); this.qu(n) }; l.prototype.RX = function (n, q, p) { this.Fr -= n.bytesReceived; ++this.Tfa; this.lN(n, q, p) }; return l
                    }(f.wBa); b.Jza = a; r.zf(g.Av, a, !1); r.zf(m.Sx, a); r.zf(m.CB, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wBa = void 0; var c = a(2); a(5); r = function () {
                        function f(k,
                            m) { this.ud = k; this.cL = m; this.Cy() } Object.defineProperties(f.prototype, { length: { get: function () { return this.qf }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { empty: { get: function () { return 0 === this.qf }, enumerable: !1, configurable: !0 } }); f.prototype.dGb = function () { return this.Qg && this.Qg.get(0) }; f.prototype.uub = function () { return this.XK && this.XK.get(this.XK.length - 1) }; f.prototype.get = function (k) {
                                0 > k && (k += this.length); for (var m = 0; m < this.ud.length; ++m)if (this.ki[m + 1] > k) return this.ud[m].get(k -
                                    this.ki[m])
                            }; f.prototype.push = function (k) { this.ud[this.cL(k)].push(k); this.Cy(); return this.qf }; f.prototype.shift = function () { if (this.Qg) { var k = this.Qg.shift(); this.Cy(); return k } }; f.prototype.pop = function () { if (this.XK) { var k = this.XK.pop(); this.Cy(); return k } }; f.prototype.unshift = function (k) { this.ud[this.cL(k)].unshift(k); this.Cy(); return this.qf }; f.prototype.wq = function (k) { var m = this.cL(k); this.ud[m].wq(k); this.Cy() }; f.prototype.remove = function (k) {
                                var m = this.ud.some(function (g) { return g.remove(k) });
                                m && this.Cy(); return m
                            }; f.prototype.splice = function (k, m) {
                                for (var g, d = [], h = 2; h < arguments.length; h++)d[h - 2] = arguments[h]; h = []; for (var l, n = k + Math.max(0, m), q = 0; q < this.ud.length; ++q) { var p = this.ud[q], u = this.ki[q], t = this.ki[q + 1]; if (k < t) { var w = k - u; u = Math.min(n - u, p.length); void 0 === l && 0 < w && u < p.length ? Array.prototype.push.apply(h, p.splice.apply(p, c.__spread([w, u - w], d))) : (Array.prototype.push.apply(h, p.splice(w, u - w)), void 0 === l && (l = 0 < q && 0 === w ? q - 1 : q)); k = t; if (k >= n) break } } if (d.length && void 0 !== l) {
                                    for (n = this.cL(d[0]); 0 <
                                        l && n < l && this.ud[l].empty;)--l; for (; d.length && n === l;) { this.ud[l].push(d.shift()); if (!d.length) break; n = this.cL(d[0]) } for (; d.length && ++l < this.ud.length && this.ud[l].empty;)for (; d.length && n === l;) { this.ud[l].push(d.shift()); if (!d.length) break; n = this.cL(d[0]) } d.length && (g = this.ud[l]).splice.apply(g, c.__spread([0, 0], d))
                                } this.Cy(); return h
                            }; f.prototype.find = function (k) { var m = this, g; return this.ud.some(function (d, h) { g = d.find(m.vC(k, h)); return void 0 !== g }) ? g : void 0 }; f.prototype.findIndex = function (k) {
                                for (var m =
                                    0; m < this.ud.length; ++m) { var g = this.ud[m].findIndex(this.vC(k, m)); if (-1 !== g) return g + this.ki[m] } return -1
                            }; f.prototype.indexOf = function (k) { for (var m = 0; m < this.ud.length; ++m) { var g = this.ud[m].indexOf(k); if (-1 !== g) return g + this.ki[m] } return -1 }; f.prototype.map = function (k) { var m = this, g = this.ud.map(function (d, h) { return d.map(m.vC(k, h)) }); return Array.prototype.concat.apply([], g) }; f.prototype.reduce = function (k, m) { var g = this; return this.ud.reduce(function (d, h, l) { return h.reduce(g.Prb(k, l), d) }, m) }; f.prototype.forEach =
                                function (k) { var m = this; this.ud.forEach(function (g, d) { g.forEach(m.vC(k, d)) }) }; f.prototype.R5 = function (k) { for (var m = this.ud.length - 1; 0 <= m; --m)this.ud[m].R5(this.vC(k, m)) }; f.prototype.some = function (k) { var m = this; return this.ud.some(function (g, d) { return g.some(m.vC(k, d)) }) }; f.prototype.rxa = function (k) { for (var m = this.ud.length - 1; 0 <= m; --m)if (this.ud[m].rxa(this.vC(k, m))) return !0; return !1 }; f.prototype.every = function (k) { var m = this; return this.ud.every(function (g, d) { return g.every(m.vC(k, d)) }) }; f.prototype.HFb =
                                    function (k, m) { function g(p) { return p.reduce(function (u, t, w, v) { return void 0 === t ? u : void 0 === u ? w : 0 > k(t, v[u]) ? w : u }, void 0) } for (var d = this, h = this.ud.map(function () { return 0 }), l = this.ud.filter(function (p) { return p.empty }).length; l < this.ud.length;) { var n = h.map(function (p, u) { return p < d.ud[u].length ? d.ud[u].get(p) : void 0 }), q = g(n); m(n[q], this.ki[q] + h[q], this); ++h[q]; h[q] === this.ud[q].length && ++l } }; f.prototype.move = function (k) { return this.remove(k) ? (this.wq(k), !0) : !1 }; f.prototype.Z_b = function () {
                                        if (this.ud[1].length) {
                                            var k =
                                                this.ud[1].shift(); this.ud[0].push(k); this.Cy()
                                        }
                                    }; f.prototype.FXa = function (k) { for (var m = -1, g = 0; g < this.ud.length; ++g)if (m = k(this.ud[g]), -1 !== m) { m += this.ki[g]; break } return m }; f.prototype.toJSON = function () { return this.map(function (k) { return k.toJSON() }) }; f.prototype.Cy = function () { this.qf = 0; this.ki = [0]; this.XK = this.Qg = void 0; for (var k = 0; k < this.ud.length; ++k) { var m = this.ud[k]; this.qf += m.length; this.ki.push(this.ki[this.ki.length - 1] + m.length); !this.Qg && m.length && (this.Qg = m); m.length && (this.XK = m) } }; f.prototype.vC =
                                        function (k, m) { var g = this, d = this.ki[m]; return function (h, l) { return k(h, d + l, g) } }; f.prototype.Prb = function (k, m) { var g = this, d = this.ki[m]; return function (h, l, n) { return k(h, l, d + n, g) } }; return f
                    }(); b.wBa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.E_ = void 0; var c = a(2), f = a(5); r = a(44); var k = a(237); a = a(103); var m = function () {
                        function g(d, h) {
                            this.Qa = []; this.Dg = void 0; this.Qc = 0; this.I = d; h && h.length && (Array.isArray(h) ? (this.Qa = h.slice(), this.mS(0, this.Qa.length)) : h instanceof g && (this.Qa =
                                h.Qa.slice(), this.mS(0, this.Qa.length)))
                        } Object.defineProperties(g.prototype, { length: { get: function () { return this.Qa.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { empty: { get: function () { return 0 === this.Qa.length }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { first: { get: function () { return this.Qa[0] }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Yo: { get: function () { return this.Qa[this.Qa.length - 1] }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(g.prototype, { $a: { get: function () { return this.first && this.first.$a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { wb: { get: function () { return this.Yo && this.Yo.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Nr: { get: function () { return this.Dg }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { ea: { get: function () { return this.Qc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            W: {
                                get: function () {
                                    return this.first &&
                                        this.first.W
                                }, enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { Ej: { get: function () { return this.first && this.first.Ej }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Y: { get: function () { return this.Qa }, enumerable: !1, configurable: !0 } }); g.prototype.gub = function () {
                            if (0 === this.Qa.length) f.assert(void 0 === this.Dg), f.assert(0 === this.Qc); else {
                                f.assert(this.Dg instanceof k.DB); f.assert("number" === typeof this.Qc); f.assert(void 0 !== this.Nr && this.Nr.$a === this.$a); var d =
                                    this.Qa.reduce(function (h, l, n) { return 0 === n || l.$a === h ? l.wb : h }, 0); f.assert(this.Nr.wb === d); f.assert(this.Qa.reduce(function (h, l, n) { return 0 === n || l.$a === h ? l.wb : h }, 0) === this.Nr.wb); f.assert(this.Qa.reduce(function (h, l) { return h + l.ea }, 0) === this.Qc)
                            }
                        }; g.prototype.get = function (d) { 0 > d && (d += this.Qa.length); return this.Qa[d] }; g.prototype.push = function (d) { this.Qa.push(d); this.mS(this.Qa.length - 1); return this.length }; g.prototype.unshift = function (d) { this.Qa.unshift(d); this.mS(0, 1); return this.length }; g.prototype.pop =
                            function () { if (0 !== this.Qa.length) return this.Hha(this.Qa.length - 1), this.Qa.pop() }; g.prototype.shift = function () { if (0 !== this.Qa.length) return this.Hha(0), this.Qa.shift() }; g.prototype.splice = function (d, h) {
                                for (var l, n = [], q = 2; q < arguments.length; q++)n[q - 2] = arguments[q]; 0 > d && (d += this.Qa.length); 0 > d && (d = 0); d > this.Qa.length && (d = this.Qa.length); if (void 0 === h || 0 > h) h = 0; h = Math.min(h, this.Qa.length - d); 0 < h && this.Hha(d, d + h); q = (l = this.Qa).splice.apply(l, c.__spread([d, h], n)); 0 < n.length && this.mS(d, d + arguments.length -
                                    2); return q
                            }; g.prototype.slice = function (d, h) { void 0 === d && (d = 0); void 0 === h && (h = this.Qa.length); 0 > d && (d += this.Qa.length); if (d >= this.Qa.length) return new g(this.I); h > this.Qa.length && (h = this.Qa.length); 0 > h && (h += this.Qa.length); return new g(this.I, this.Qa.slice(d, h)) }; g.prototype.wq = function (d) {
                                if (0 === this.Qa.length || d.$a >= this.wb) this.push(d); else if (d.wb <= this.$a) this.unshift(d); else {
                                    for (var h = 0, l = this.Qa.length - 1, n; h < l - 1;)n = Math.floor((l + h) / 2), f.assert(n !== l && n !== h), d.$a >= this.Qa[n].wb ? h = n : l = n; f.assert(h !==
                                        l); f.assert(this.Qa[h].wb <= d.$a && this.Qa[l].$a >= d.wb); this.splice(l, 0, d)
                                }
                            }; g.prototype.remove = function (d) { d = this.Qa.indexOf(d); if (0 > d) return !1; this.splice(d, 1); return !0 }; g.prototype.concat = function () { for (var d = [], h = 0; h < arguments.length; h++)d[h] = arguments[h]; d = d.map(function (l) { return l.Qa }); return new g(this.I, Array.prototype.concat.apply(this.Qa, d)) }; g.prototype.forEach = function (d) { var h = this; this.Qa.forEach(function (l, n) { return d(l, n, h) }) }; g.prototype.some = function (d) {
                                var h = this; return this.Qa.some(function (l,
                                    n) { return d(l, n, h) })
                            }; g.prototype.every = function (d) { var h = this; return this.Qa.every(function (l, n) { return d(l, n, h) }) }; g.prototype.map = function (d) { var h = this; return this.Qa.map(function (l, n) { return d(l, n, h) }) }; g.prototype.reduce = function (d, h) { var l = this; return this.Qa.reduce(function (n, q, p) { return d(n, q, p, l) }, h) }; g.prototype.indexOf = function (d) { return this.Qa.indexOf(d) }; g.prototype.find = function (d) { var h = this, l; return this.Qa.some(function (n, q) { l = q; return d(n, q, h) }) ? this.Qa[l] : void 0 }; g.prototype.findIndex =
                                function (d) { var h = this, l; return this.Qa.some(function (n, q) { l = q; return d(n, q, h) }) ? l : -1 }; g.prototype.filter = function (d) { var h = this; return new g(this.I, this.Qa.filter(function (l, n) { return d(l, n, h) })) }; g.prototype.R5 = function (d) { for (var h = this.Qa.length - 1; 0 <= h; --h)d(this.Qa[h], h, this) }; g.prototype.rxa = function (d) { for (var h = this.Qa.length - 1; 0 <= h; --h)if (d(this.Qa[h], h, this)) return !0; return !1 }; g.prototype.Zma = function (d) {
                                    if (this.empty || d < this.od || d >= this.Lc) return -1; for (var h = 0, l = this.Qa.length - 1, n; l > h;) {
                                        n =
                                            Math.floor((l + h) / 2); if (d >= this.Qa[n].od && d < this.Qa[n].Lc) { l = n; break } d < this.Qa[n].Lc ? l = n - 1 : h = n + 1
                                    } return l
                                }; g.prototype.iN = function (d) { if (this.empty || d < this.Ad || d >= this.we) return -1; for (var h = 0, l = this.Qa.length - 1, n; l > h;) { n = Math.floor((l + h) / 2); if (d >= this.Qa[n].Ad && d < this.Qa[n].we) { l = n; break } d < this.Qa[n].we ? l = n - 1 : h = n + 1 } return l }; g.prototype.EXa = function (d) { d = this.iN(d); return 0 <= d ? this.Qa[d] : void 0 }; g.prototype.o3 = function (d) {
                                    var h = this.Qa[d].wb; for (d += 1; d < this.Qa.length && h === this.Qa[d].$a; ++d)h = this.Qa[d].wb;
                                    d < this.Qa.length ? void 0 === this.Dg ? this.Dg = new k.DB(this, { wb: h }) : this.Dg.jZ(h) : void 0 === this.Dg ? this.Dg = new k.DB(this, {}) : this.Dg.xka()
                                }; g.prototype.RK = function (d, h) { for (var l = d; l < h; ++l)this.Qc += this.Qa[l].ea; void 0 === this.Dg || 0 === d ? this.o3(0) : this.Dg.wb === this.wb ? this.o3(d - 1) : this.Qa[d].$a === this.Dg.wb && this.o3(d) }; g.prototype.Iy = function (d, h) {
                                    if (0 === d) this.Dg = void 0, h < this.length && this.o3(h); else { var l = this.Dg; l.wb > this.Qa[d - 1].wb && (h < this.length ? l.jZ(this.Qa[d - 1].wb) : l.xka()) } for (; d < h; ++d)this.Qc -=
                                        this.Qa[d].ea
                                }; g.prototype.mS = function (d, h) { void 0 === h && (h = d + 1); this.RK(d, h) }; g.prototype.Hha = function (d, h) { void 0 === h && (h = d + 1); this.Iy(d, h) }; return g
                    }(); b.E_ = m; r.zf(a.Sx, m); r.zf(a.CB, m)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Oza = void 0; var c = a(2), f = a(118), k = a(5); c.__importDefault(a(6)); var m = a(9), g = a(247), d = a(102), h = a(239), l = a(119); r = function (n) {
                        function q(p, u, t, w, v, x) {
                            u = n.call(this, p, w, v, u, x) || this; u.Gnb = t; u.s2 = q.WE.INIT; u.Cac = w.offset; u.cha = d.$m.prototype.toString.call(u) +
                                " multiple"; u.eqb = w.ea; u.KL(p.url, w.offset, 8, 0); return u
                        } c.__extends(q, n); Object.defineProperties(q.prototype, { data: { get: function () { return this.ln }, enumerable: !1, configurable: !0 } }); Object.defineProperties(q.prototype, { ea: { get: function () { return this.eqb }, enumerable: !1, configurable: !0 } }); q.prototype.Ak = function (p) {
                            this.ln = this.s2 === q.WE.INIT ? p.response : m.OC(this.ln, p.response); p.GY(); switch (this.s2) {
                                case q.WE.INIT: var u = new DataView(this.ln), t = u.getUint32(0); u = u.getUint32(4); f.qo(u); this.KL(p.url, p.offset +
                                    p.ea, t, 0); g.LE.prototype.Ak.call(this, p); this.s2 = q.WE.AGa; break; case q.WE.AGa: u = new DataView(this.ln); t = u.getUint32(this.NNa - 8); u = u.getUint32(this.NNa - 4); f.qo(u); this.KL(p.url, p.offset + p.ea, t - 8, 0); this.s2 = q.WE.vGa; g.LE.prototype.Ak.call(this, p); break; case q.WE.vGa: g.LE.prototype.Ak.call(this, p); break; default: k.assert(!1)
                            }
                        }; q.prototype.vG = function (p) { if (this.ff) return { status: l.Mj.ft }; if (!this.Du()) return { status: l.Mj.Rf }; this.ff = p.appendBuffer(this.ln, m.Aq(this)); return { status: this.ff ? l.Mj.ft : l.Mj.Rf } };
                        q.prototype.KL = function (p, u, t, w) { p = new h.BQ(this.stream, this.Gnb, this.cha + " (" + this.Ga.length + ")", { K: this.K, mediaType: this.mediaType, Ta: this.Ta, bitrate: this.bitrate, offset: u, ea: t, url: p, location: this.location, Md: this.Md, responseType: w }, this, this.gf, this.I); this.push(p); this.NNa = this.Ga.reduce(function (v, x) { return v + x.ea }, 0) }; q.WE = { INIT: 0, AGa: 1, vGa: 2, name: ["INIT", "MOOF", "MDAT"] }; return q
                    }(g.LE); b.Oza = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.TLa = void 0; var c = a(387), f = a(22);
                    r = function () {
                        function k(m, g) { this.dh = m; this.console = g; this.WF = Infinity; this.wS = this.S2 = 0; this.tQa = !1 } k.prototype.rYb = function () { this.tQa = !0 }; k.prototype.iFb = function (m, g, d, h, l) {
                            if (this.dh) {
                                var n = m.Y; if (n) {
                                    if (1 === d) d = n.Hn(Math.ceil(this.dh * m.va.BI), void 0, !0), n = m.el(d), m = n.aH.Hl(m.va), n.Hk({ start: 0, end: this.dh - d * m }), this.WF = this.dh; else {
                                        void 0 !== h.nab ? (g = h.nab, d = g * m.va.T) : (d = c.xoa(h, l) + Math.ceil(h.$tb * m.va.BI), f.O.Na(d).Hl(m.va), d = g + d, g = Math.ceil(d / m.va.BI)); d = n.Hn(d, void 0, !0); for (l = h = 0; l < d; ++l)n =
                                            m.el(l), h += n.aH.Hl(m.va); h = g - h; n = m.el(d); n.Hk({ end: h }); this.WF = g
                                    } n.C3a(); return n
                                }
                            }
                        }; k.prototype.QLb = function (m) { this.wS += m.$8a; this.console.warn("StallAtFrameCount, adding frames: " + m.$8a, "total frames: " + this.wS, "needed frames: " + this.WF) }; k.prototype.yKb = function () { this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:", "requested: " + this.S2, "needed: " + this.WF); return this.S2 >= this.WF }; k.prototype.xKb = function () { return this.wS >= this.WF }; k.prototype.SLb = function (m, g) {
                            this.S2 += this.gD(m,
                                g)
                        }; k.prototype.bEb = function (m, g, d) { m.$8a = this.gD(g, d) }; k.prototype.gD = function (m, g) { return m.aH.Hl(g.va) }; k.prototype.hz = function () { if (!this.xKb()) return !1; if (this.tQa) return this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"), !1; this.console.warn("StallAtFrameCount bufferingComplete = true:", this.wS + " >= " + this.WF); return !0 }; return k
                    }(); b.TLa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wfa = void 0; r = a(2); var c = r.__importStar(a(10)), f = r.__importDefault(a(27)),
                        k = r.__importDefault(a(6)), m = a(26), g = a(17), d = a(244), h = a(843), l = new k.default.Console("ASEJS_STREAM_SELECTOR", "media|asejs"), n = [g.sa[g.sa.Fh], g.sa[g.sa.wd], g.sa[g.sa.Tf], g.sa[g.sa.Kc], g.sa[g.sa.mh], "checkBuffering"], q = { first: a(845), random: a(846), optimized: a(174).default, roundrobin: a(850), selectaudio: a(396), selectaudioadaptive: a(851), "default": a(174).default, lowest: a(852), highest: a(853), throughputthreshold: a(854), replay: a(855).default, checkdefault: a(857), testscript: a(858) }, p = {
                            STARTING: "default", BUFFERING: "default",
                            REBUFFERING: "default", PLAYING: "default", PAUSED: "default", checkBuffering: "checkdefault"
                        }; !1; a = function () {
                            function u(t, w, v, x) { var y = this; this.xP = t; this.J = w; this.Qf = v; !1; t = t || this.J.Gxa; this.zg = n.reduce(function (z, A) { z[A] = ((q[t] || q[p[A]])[A] || q[p[A]][A]).bind(y); return z }, {}); x && (this.m6a = new h.wIa(w)) } u.prototype.Awa = function (t, w, v, x, y, z) {
                                var A, B, E; v = null === t || void 0 === t ? void 0 : t.buffer; var D = k.default.time.fa(), F = this.J, G = this.Qf.w2a, C = !1; c.Ea(G) && t.state === g.sa.Fh && (this.Qf.mZ(void 0), G = void 0); c.Ea(G) &&
                                    G >= w.length && (this.Qf.mZ(void 0), G = void 0); if (c.la(G) && t.state === g.sa.Kc && (C = !0, void 0 !== this.Qf.Iu)) { var H = this.Qf.Iu.bitrate; G = m.Xp(w, function (I) { return I.bitrate > H }); G = 0 < G ? G - 1 : 0 === G ? 0 : w.length - 1; this.Qf.mZ(G) } var L = v.Y, N = L.length; if (0 < N) { var J = L[N - 1].Ta; G = m.Xp(w, function (I) { return I.Ta === J }); if (!(0 <= G)) { var Q = L[N - 1].bitrate; G = m.Xp(w, function (I) { return I.bitrate > Q }); G = 0 < G ? G - 1 : 0 === G ? 0 : w.length - 1 } } c.la(G) && (G = this.Qf.w2a); void 0 !== x && this.Cua(w, !!t.js, t.buffer, x); t.state === g.sa.Fh && c.Ea(G) && (t.state =
                                        g.sa.wd); t.state !== g.sa.Fh && void 0 === G && (t.state = g.sa.Fh); switch (t.state) { case g.sa.Fh: this.hha = this.dha = void 0; this.Qf.o$a(f.default.z0.Fh); break; case g.sa.wd: case g.sa.Tf: this.Qf.o$a(f.default.z0.Fh); break; case g.sa.Kc: case g.sa.mh: break; default: return l.error("Stream selector called with invalid player state " + g.sa[t.state]), null }var K = this.zg[g.sa[t.state]].call(this, F, t, w, G, x, !!y, C); if (K.Ng && (K.zz = [], w.forEach(function (I, M) {
                                            I === K.Ng && (K.Le = M); (!F.rDb || I.Y && I.Y.length) && !I.xaa || K.zz.push(I.Ta);
                                            I.xaa = !1
                                        }), !K.zz.length)) { y = v.Yk - v.Cc; C = void 0; x = !1; if (F.eab && y > F.qX) { for (y = K.Le + 1; y < w.length;) { C = w[y]; C.Y && C.Y.length || (x = !0, K.zz.push(C.Ta)); break } if (!x) for (y = K.Le - 1; 0 <= y;) { C = w[y]; C.Y && C.Y.length || (x = !0, K.zz.push(C.Ta)); break } } x || (K.zz = void 0) } if (!K || null === K.Le) return null; void 0 === K.A4a ? this.Qf.mZ(K.Le) : this.Qf.mZ(K.A4a); x = w[K.Le]; K.reason && (x.Js = K.reason, "min_fragment_vmaf" !== K.reason && (x.zwa = K.Au, x.fA = K.fA, x.Qo = K.Qo, x.Ro = K.Ro)); this.m6a && (K.Su = this.m6a.IIb({
                                            $p: v.Yk - v.Cc, sPb: w[0], Ng: x, u4b: w[K.Le +
                                                1] || x, R2b: w[w.length - 1], wf: t.state, playbackRate: t.playbackRate, Cd: t.Cd
                                        })); c.Ea(G) && x.bitrate < w[G].bitrate && (this.dha = v.Bc); t.state !== g.sa.Kc && t.state !== g.sa.mh ? (w = d.e$(t.state), z = this.hz(t.buffer, w, t.playbackRate, x, z), (K.Se = z.complete) ? K.W3 = z.reason : (K.Se = !1, K.OI = z.OI, K.JD = z.JD, K.progress = z.progress)) : (K.Se = !0, K.W3 = "playing"); t.UM && (K.Bc = v.Bc, z = t && t.Cd, w = x.Y, K.kk = w && void 0 !== z && !isNaN(z) && 0 <= z && z < w.length ? w.Hj(z) : v.Bc, K.MVb = x.Sa || 0, K.NSb = x.Bb && x.Bb.Sa && x.Bb.Sa.Ha || 0, K.Oja = v.Yk - v.Cc, K.LSa = v.eh, K.sVb =
                                            null !== (E = null === (B = null === (A = k.default.wcc) || void 0 === A ? void 0 : A.call(k.default)) || void 0 === B ? void 0 : B[1 === t.mediaType ? 1 : 0]) && void 0 !== E ? E : -1, K.wf = t.state, K.Up = t && t.Up, K.sya = D, K.k2b = k.default.time.fa()); return K
                            }; u.prototype.hz = function (t, w, v, x, y) { return this.zg.checkBuffering.call(this, t, w, v, x, y, this.J) }; u.prototype.h1b = function (t, w, v) { c.la(w) ? this.dha = this.hha = void 0 : w.bitrate < v.bitrate && (this.hha = t) }; u.prototype.Cua = function (t, w, v, x) {
                                var y, z; this.R5(t, function (A) {
                                    A.Gu && A.Bb && A.Bb.confidence ? (y !==
                                        A.Bb && (y = A.Bb, w && A.Bb && (A.Bb.js = !0), z = Math.floor(x(A.Bb, v, A.track.P.cx[0])), z = 0 === z ? 1 : z), A.Sa = z) : A.Sa = void 0
                                })
                            }; u.prototype.R5 = function (t, w) { for (var v = t.length - 1; 0 <= v; --v)w(t[v], v, t) }; Object.defineProperties(u.prototype, { Z7: { get: function () { return this.dha }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { rra: { get: function () { return this.hha }, enumerable: !1, configurable: !0 } }); return u
                        }(); b.wfa = a
                }, function (r, b, a) {
                    function c(p) { return g(p.Ng) } function f(p, u) {
                        if (!u || "object" !== typeof u) return 0;
                        var t = p.Ng, w = p.u4b, v = p.R2b, x = {
                            selectedFragmentBitrate: m(t, p.Cd) * p.playbackRate, upswitchFragmentBitrate: m(w, p.Cd) * p.playbackRate, maxFragmentBitrate: m(v, p.Cd) * p.playbackRate, selectedPeakBitrate: (t.zA || d(t) || 0) * p.playbackRate, upswitchPeakBitrate: (w.zA || d(w) || 0) * p.playbackRate, maxPeakBitrate: (v.zA || d(v) || 0) * p.playbackRate, selectedAverageBitrate: d(t) * p.playbackRate, upswitchAverageBitrate: d(w) * p.playbackRate, maxAverageBitrate: g(t) * p.playbackRate, bufferLevelMs: p.$p, observedThroughput: h(p.Ng) || 0, predictedThroughput: (null ===
                                t || void 0 === t ? void 0 : t.Sa) || 0
                        }; p = u.offset || 0; return Object.keys(x).reduce(function (y, z) { return y + (u[z] || 0) * x[z] }, p)
                    } function k(p, u) { if (!Array.isArray(u.Bva) || 1 > u.Bva.length) return 0; var t = Array.from(u.Bva).sort(function (y, z) { return y.$p - z.$p }), w = -1; for (u = 0; u < t.length; u++)if (t[u].$p >= p.$p) { w = u; break } if (-1 === w) return f(p, t[t.length - 1].Ika); if (0 === w) return f(p, t[0].Ika); var v = t[w - 1].$p; u = f(p, t[w - 1].Ika); var x = t[w].$p; t = f(p, t[w].Ika); p = Math.min((p.$p - v) / (x - v), 1); return (1 - p) * u + p * t } function m(p, u) {
                        var t;
                        return (void 0 !== u ? null === (t = p.Y) || void 0 === t ? void 0 : t.get(u).uSa : void 0) || p.zA || 0
                    } function g(p) { var u, t = null === (u = null === p || void 0 === p ? void 0 : p.P) || void 0 === u ? void 0 : u.cx; return t ? t[p.mediaType] || 0 : 0 } function d(p) { return (null === p || void 0 === p ? void 0 : p.bitrate) || 0 } function h(p) { var u, t; return (null === (t = null === (u = null === p || void 0 === p ? void 0 : p.Bb) || void 0 === u ? void 0 : u.Sa) || void 0 === t ? void 0 : t.Ha) || 0 } Object.defineProperties(b, { __esModule: { value: !0 } }); b.wIa = void 0; r = a(2).__importDefault(a(6)); var l = a(17),
                        n = a(844); new r.default.Console("ASEJS_PACERATE_SELECTOR", "media|asejs"); var q = { maxStreamBitrate: c, "static": function (p, u) { return u.W0b }, none: function () { return 0 }, regression: k, epsGreedy: function (p, u) { return Math.min(k(p, u) || 0, h(p.Ng)) }, "default": c }; !1; a = function () {
                            function p(u) { this.J = u; !1; this.algorithm = (q[this.J.hUb] || q["default"]).bind(this) } p.prototype.coa = function (u, t, w) { var v; if (!w) return 0; t = Math.ceil(w * t); u = (this.J.Cka.kdc || 0) * ((null === (v = u.sPb) || void 0 === v ? void 0 : v.zA) || 0); return t < u ? 0 : t };
                            p.prototype.n0b = function (u, t) { var w, v; return !t.Cka.Ubc || u.wf !== l.sa.Fh && u.wf !== l.sa.wd ? !1 : (u = null === (w = u.Ng) || void 0 === w ? void 0 : w.Bb) && u.confidence >= l.dea.Yx && (null === (v = u.Sa) || void 0 === v ? 0 : v.Ha) ? !0 : !1 }; p.prototype.IIb = function (u) {
                                var t = new n.xea({ IP: 0, xM: 0, aP: 0 }), w = this.J.Cka; if (!w) return t; var v = this.J.H3b; if (v && u.Cd && 0 === u.Cd % v) return t; t = 0; this.n0b(u, this.J) ? t = h(u.Ng) : u.$p >= w.fI && (t = this.algorithm(u, this.J)); return new n.xea({
                                    IP: this.coa(u, t, w.b8a[0]), aP: this.coa(u, t, w.b8a[2]), xM: this.coa(u, t,
                                        w.b8a[1])
                                })
                            }; return p
                        }(); b.wIa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.xea = void 0; var c = a(2); r = function () {
                        function f(k) { this.IP = k.IP; this.xM = k.xM; this.aP = k.aP } Object.defineProperties(f.prototype, { c8a: { get: function () { return [this.IP, this.xM, this.aP] }, enumerable: !1, configurable: !0 } }); f.prototype.J7 = function () { return this.c8a.some(function (k) { return 0 < k }) }; f.prototype.F3a = function (k, m, g, d) {
                            var h = 8 * k / Math.max(g - m, 1); if (!this.J7()) return !1; k = this.c8a.map(function (l) {
                                return Math.abs(h -
                                    l) / l
                            }); return Math.min.apply(Math, c.__spread(k)) < d
                        }; return f
                    }(); b.xea = r
                }, function (r, b, a) { function c(d, h, l, n) { if (f.la(n)) d = k(l); else if (m(l[n])) d = n; else if (d = k(l, n), 0 > d) return null; return new g(d) } var f = a(10); b = a(38); var k = b.hna, m = b.LH, g = b.Gp; r.exports = { STARTING: c, BUFFERING: c, REBUFFERING: c, PLAYING: c, PAUSED: c } }, function (r, b, a) {
                    function c(k, m, g) { k = g.map(function (d, h) { return d.Gu ? h : null }).filter(function (d) { return null !== d }); return k.length ? new f(k[Math.floor(Math.random() * k.length)]) : null } var f = a(38).Gp;
                    r.exports = { STARTING: c, BUFFERING: c, REBUFFERING: c, PLAYING: c, PAUSED: c }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.$$ = void 0; r = a(2); var c = r.__importStar(a(10)), f = a(26); r = r.__importDefault(a(38)); var k = a(394), m = a(395), g = r.default.assert, d = r.default.Gp, h; b.$$ = h; !1; (function () {
                        function l(n, q, p, u) {
                            function t(B) { void 0 !== y && (null === w || void 0 === w ? 0 : w.Y) && k.A8(n, p, w.Y.Dx, y, y + 1); var E = B.Sa; if (!E || (B.bitrate > v ? n.t4b : 1) * B.bitrate * q.playbackRate > E) return !1; z = "buff_lt_hist"; A = E; return !0 }
                            g(!c.la(u), "Must have at least one selected stream"); var w = p[u], v = w.bitrate, x = w, y = q.Cd; if (w.Sa) { w = f.re(p.slice(0, Math.min(u + (n.itb ? 2 : 1), p.length)).reverse(), t); if (void 0 === w) { w = p[0]; var z = "fallback_lowest_acceptable_stream" } else z = "select_feasible_buffering"; var A = null === w || void 0 === w ? void 0 : w.Sa } u = new d; u.Ng = w; x !== w && (u.reason = z, u.Au = A); k.z8(n, p, y, u); return u
                        } b.$$ = h = function (n, q, p, u, t, w, v) { return "playing" === n.Mja ? m.Cx.call(this, n, q, p, u, t, w, v) : l.call(this, n, q, p, u) }; !1
                    })()
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); var c = a(2); c.__importStar(a(10)); var f = a(38); !1; b.default = function (k) {
                            var m = k.Y, g = k.blocks, d = k.Cc, h = k.Yk, l = k.C0b, n = k.Bj, q = k.Bc, p = k.Cd, u = k.yFb, t = k.ZU, w = k.kYa, v = k.Sa, x = k.O8, y = k.fI, z = k.ANb; k = k.sDb; !1; var A = m.W; g = Math.min(m.length, g); var B = m.vd, E = m.sizes, D = h - d, F = 8 * n / v | 0; n = []; h = Infinity; var G = 0, C = 0; m = m.vd[0]; l = m + A / 1E3 * l; v = v / 8 | 0; var H = A / 1E3; p >= g && f.console.error("StreamingIndex: " + p + " >= fragmentsLength: " + g); d += F; 0 === q && (d = 0); d *= A / 1E3; q *= A / 1E3; y *= A / 1E3; x *= A / 1E3; for (D *= A / 1E3; p <
                                g;) { F = E[p]; var L = B[p]; if (w < F) { for (G = Math.max(F, t); w < G;)d = l, w += E[C], ++C, m = B[C], l += m; if (!z && (m = q - d, m < y)) return k && n.push(m / (A / 1E3)), c.__assign({ result: !1, bX: m / (A / 1E3), ou: !1 }, k && { Z3: n }); m = q - d } else if (m = Math.max(q - d, 0), m < x && m < G) return k && n.push(m / (A / 1E3)), c.__assign({ result: !1, bX: Math.min(m, h) / (A / 1E3), ou: !0 }, k && { Z3: n }); d += (F / v | 0) * H; q += L; for (w -= F; l < d && C < p;)w += E[C], ++C, l += B[C]; ++p; if (p >= u && m > D) break; k && n.push(m / (A / 1E3)); G = m; h = Math.min(m, h) } return c.__assign({ result: !0, bX: h / (A / 1E3), ou: !0 }, k && { Z3: n })
                        }
                }, function (r,
                    b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.QMb = b.P9a = void 0; var c = a(2), f = c.__importDefault(a(87)), k = c.__importStar(a(10)), m = a(26), g = a(370), d = c.__importDefault(a(6)); r = c.__importDefault(a(117)); a = c.__importDefault(a(38)); var h = a.default.yRb, l = a.default.svb, n = a.default.l4, q = a.default.Gp, p = r.default.hxa; !1; a = function () {
                        function u(B, E) {
                            var D = new q; D.Ng = B; B = D.Ng.Bb || {}; D.Ro = B.hm && B.Jk; D.Qo = B.hm ? B.hm : 0; B = f.default(D.Ro, {}); var F; if (F = k.Ea(E.aaa) && 0 <= E.aaa && 100 >= E.aaa && !k.la(B) && !k.Lb(B)) F =
                                g.sMa.LIb(B), k.fd(F) ? (B.Cj = F, F = !0) : F = !1; F ? (E = B.Cj(E.aaa / 100) || D.Ng.Sa, D.Au = E, D.reason = "hist_tdigest") : D.Ng.Sa && (E = D.Ng.Sa, D.Au = E, D.reason = "hist_throughput"); return D
                        } function t(B, E, D) { B = l(D.yj, B * D.usa); return h(B, E) } function w(B, E) { if (B.p7) { var D = B.p7, F = m.Xp(D, function (G) { return E <= G.r }); if (0 === F) return D[0].d; if (-1 === F) return D[D.length - 1].d; B = D[F - 1]; D = D[F]; return Math.floor(B.d + (D.d - B.d) * (E - B.r) / (D.r - B.r)) } return B.rs } function v(B, E) {
                            B = n(B, 0, 1E5) / 1E3; if (0 === E.uP.lastIndexOf("log", 0)) {
                                var D = E.uP;
                                return (D = E.Q9a[D]) && 2 === D.length ? 1E3 * (D[0] + D[1] * Math.log(1 + B)) : E.rs
                            } return 0 === E.uP.lastIndexOf("sigmoid", 0) ? (D = E.uP, (D = E.Q9a[D]) && 2 === D.length ? 1E3 * (D[0] + D[1] * p(B)) : E.rs) : E.rs
                        } function x(B, E, D) {
                            for (var F = !!B.Qu && !!B.Z3a && D.every(function (J) { return J.zb && 110 >= J.zb }), G = null, C = D.length - 1; 0 <= C && (F ? D[C].zb >= B.Qu : D[C].bitrate >= B.hx); C--) { var H = D[C]; G = u(H, B); var L = t(H.bitrate * E.playbackRate, G.Au, B), N = v(G.Au, B); N = y(H, G.Au, F, L, N, B); H = N.I5; N = N.reason; G.fA = L; if (H) break; else G.reason = N } k.Lb(G) && (G = u(D[0], B));
                            k.Lb(G) && (G = u(D[0], B), G.reason = "fallback_no_acceptable_stream"); return G
                        } function y(B, E, D, F, G, C) { B = D ? B.zb >= C.Qu && B.zb <= C.Z3a : B.bitrate >= C.hx && B.bitrate <= C.wA; return (F = F < G && B) ? { I5: F } : { I5: F, reason: B ? "no_valid_DelayTarget" : D ? "no_valid_VMAF" : "no_valid_Bitrate" } } function z(B, E, D) {
                            var F = new q, G = Math.max(B.hx, B.M8, E.Aqa ? B.Gsa : -Infinity); F.Ng = m.re(D.filter(function (C) { return C.bitrate <= B.wA }).reverse(), function (C) {
                                var H = { Sa: C.Sa, hm: C.Bb && C.Bb.hm, Jk: C.Bb && C.Bb.Jk }; if (C.bitrate > G) {
                                    C = C.bitrate * E.playbackRate;
                                    var L = H.Sa; if (L) { var N = w(B, C); t(C, L, B) <= N ? (F.Au = L, H && (F.Qo = H.hm ? H.hm : 0, F.Ro = H.hm && H.Jk), F.reason = "hist_bufftime", H = !0) : H = !1 } else H = !1
                                } else L = H.Sa, C.bitrate * E.playbackRate <= L ? (F.Au = L, H && (F.Qo = H.hm ? H.hm : 0, F.Ro = H.hm ? H.Jk : void 0), F.reason = "lt_hist_lte_minbitrate", H = !0) : L ? (F.Au = L, H && (F.Qo = H.hm ? H.hm : 0, F.Ro = H.hm ? H.Jk : void 0), F.reason = "hist_tput_lt_minbitrate", H = !1) : (F.reason = "no_historical_lte_minbitrate", H = !0); return H
                            }) || D[0]; return F
                        } function A(B, E, D, F) {
                            var G = d.default.storage.get("vb"); if ("number" !==
                                typeof G) return B.BT ? x(B, E, D, F) : z(B, E, D, F); B = new q; B.Ng = m.re(D.slice().reverse(), function (C) { return C.bitrate <= G }) || D[0]; B.reason = "hist_bitrate"; return B
                        } !1; return { crb: function (B, E, D, F) { return "historical" === B.hqa ? A(B, E, D, F) : B.BT ? x(B, E, D, F) : z(B, E, D, F) }, Dob: y }
                    }(); r = a.Dob; b.P9a = a.crb; b.QMb = r
                }, function (r, b, a) {
                    function c(d, h, l) {
                        var n = this.fha; h = h.buffer.Bc; var q = "forward" === d.aZb; if (f.la(n)) return n = q ? k(l) : k(l, l.length), this.gha = h, this.fha = n, new g(n); m(l[n]) || (n = k(l, n), this.gha = h, this.fha = n); if (0 > n) return null;
                        if (h > this.gha + d.x2b) { d = l.map(function (p, u) { return p.Gu ? u : null }).filter(function (p) { return null !== p }); if (!d.length) return null; q ? n = (d.indexOf(n) + 1) % d.length : (n = d.indexOf(n) - 1, 0 > n && (n = d.length - 1)); this.fha = d[n]; this.gha = h; return new g(d[n]) } return new g(n)
                    } var f = a(10); b = a(38); var k = b.hna, m = b.LH, g = b.Gp; r.exports = { STARTING: c, BUFFERING: c, REBUFFERING: c, PLAYING: c, PAUSED: c }
                }, function (r, b, a) {
                    !1; (function () {
                        function c(t, w) {
                            var v = void 0; w.some(function (x) {
                                var y = x.profiles; (y = y && 0 <= y.indexOf(t)) && (v = x.override);
                                return y
                            }); return v
                        } function f(t, w, v, x) {
                            h(!k.la(x), "Must have at least one selected stream"); var y = v[x].Ig; if (!(t && t.VP && 0 <= t.VP.indexOf(y))) return new q(x); var z = x, A; t.abb.some(function (N) { var J = N.profiles, Q = J && 0 <= J.indexOf(y); if (Q) { var K = (N = N.UX) && N.V8 || t.V8, I = N && N.Odc || -Infinity, M = N && N.dO || Infinity, O = w.buffer.zw; A = v.filter(function (P) { var S = P.bitrate; return S >= I && S <= M && 0 <= J.indexOf(P.Ig) && S * K / 8 < O }).map(function (P) { return P.Pf }) } return Q }); if (A && 1 < A.length) {
                                var B = v[x], E = B.bitrate, D = A.indexOf(x),
                                    F = B.Sa, G = t.eub; if (0 > D) z = 0; else if (D && F < G.bWa * E * w.playbackRate) for (d && g.log("throughput for audio " + F + " kbps < " + G.bWa + "*" + E + " kbps, try to downswitch"), --D; 0 <= D; D--) { E = A[D]; var C = v[E]; if (n(C) && (0 == D || C.bitrate * w.playbackRate * G.bWa < F)) { z = E; break } } else if (D < A.length - 1 && F > G.ncb * E * w.playbackRate && (d && g.log("throughput for audio " + F + " kbps > " + G.ncb + "*" + E + " kbps"), E = w.buffer, C = E.Yk - E.Cc, B.Y && B.Y.length)) {
                                        var H = this.rra, L = this.Z7; if (w.xq && C > G.rA && (void 0 === L || Number(H) > L || E.Bc - L > G.i8)) for (d && g.log("  Upswitch allowed. lastDownswitchPts = " +
                                            L + ", lastUpswitchPts = " + H + ", streamingPts = " + E.Bc); ++D < A.length;) { if (E = A[D], C = v[E], n(C) && F > G.ncb * C.bitrate * w.playbackRate) { z = E; break } } else d && g.log("  Upswitch not allowed. lastDownswitchPts = " + L + ", lastUpswitchPts = " + H + ", buffer level = " + C + "ms")
                                    }
                            } F = v[z]; z !== x && d && g.log((z > x ? "up" : "down") + "switching audio from " + B.bitrate + " kbps, to " + F.bitrate + " kbps"); d && g.log("selectAudioStream: selected stream :" + F.bitrate + " kbps, profile :" + y + ", audio throughput:" + F.Sa + "kbps, streamingPts :" + w.buffer.Bc);
                            return new q(z)
                        } var k = a(10), m = a(38), g = m.console, d = m.debug, h = m.assert, l = a(87), n = m.LH, q = m.Gp, p = a(396), u = a(17).sa; r.exports = {
                            STARTING: function (t, w, v, x) {
                                var y = t, z = v[x || 0].Ig; if (z = t && t.VP && 0 <= t.VP.indexOf(z) ? c(z, t.abb) : c(z, t.cub)) y = { minInitAudioBitrate: t.tX, minHCInitAudioBitrate: t.sX, maxInitAudioBitrate: t.fX, minRequiredAudioBuffer: t.V8 }, d && g.log("selectAudioStreamStarting: overriding config with " + JSON.stringify(z)), l(z, y); t = p[u[u.Fh]](y, w, v, x); v = v[t.Le]; d && g.log("selectAudioStreamStarting: selected stream :" +
                                    v.bitrate + " kbps, profile :" + v.Ig); return t
                            }, BUFFERING: f, REBUFFERING: f, PLAYING: f, PAUSED: f
                        }; !1
                    })()
                }, function (r, b, a) { function c() { return new f(0) } a(10); var f = a(38).Gp; r.exports = { STARTING: c, BUFFERING: c, REBUFFERING: c, PLAYING: c, PAUSED: c } }, function (r, b, a) { function c(k, m, g) { return new f(g.length - 1) } a(10); var f = a(38).Gp; r.exports = { STARTING: c, BUFFERING: c, REBUFFERING: c, PLAYING: c, PAUSED: c } }, function (r, b, a) {
                    !1; (function () {
                        function c(d, h, l, n) {
                            m(!f.la(n), "Must have at least one selected stream"); m(f.Ea(h.Cd), "player missing fragmentIndex");
                            h = g(n); for (n = l.length - 1; -1 < n; --n) { var q = l[n]; if (q.Bb && q.Bb.Sa && q.bitrate < q.Bb.Sa.Ha - d.u2b) return h.Le = n, h } h.Le = 0; return h
                        } var f = a(10); a(27); var k = a(38); a(6); var m = k.assert, g = k.Gp; k = a(174).default; r.exports = { STARTING: k.STARTING, BUFFERING: k.BUFFERING, REBUFFERING: k.REBUFFERING, PLAYING: c, PAUSED: c }; !1
                    })()
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); r = a(856); b.default = { PLAYING: r.Cx, PAUSED: r.Cx } }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Cx = void 0; r = a(2);
                    var c = r.__importStar(a(10)), f = r.__importDefault(a(38)), k = r.__importDefault(a(174)), m = a(102), g = r.__importDefault(a(6)), d = f.default.assert, h = f.default.Gp, l; b.Cx = l; !1; (function () {
                        b.Cx = l = function (n, q, p, u, t, w, v) {
                            var x; d(!c.la(u), "Must have at least one selected stream"); d(c.Ea(q.Cd), "player missing fragmentIndex"); var y = n.i1b, z = new h(u), A = null !== (x = q.Cd) && void 0 !== x ? x : -1; x = y[0].f; var B = y[y.length - 1].f; if (A < x || A > B) return k.default.PLAYING.call(this, n, q, p, u, t, w, v); B = A - x; 0 > B && (B = 0); B >= y.length && (B = y.length -
                                1); var E = y[B].f; if (E === A) A = B; else { x = void 0; if (E < A) for (B += 1; B < y.length; B++)if (y[B].f === A) { x = B; break } else { if (y[B].f > A) break } else for (--B; 0 <= B; B--)if (y[B].f === A) { x = B; break } else if (y[B].f < A) break; A = x } if (void 0 !== A) z.Le = y[A].hZb; else return k.default.PLAYING.call(this, n, q, p, u, t, w, v); z.Ng = p[z.Le]; if (n.PDb) {
                                    var D, F, G; t = []; w = q.buffer; w = w.Yk - w.Cc; v = m.$m.SUa(q.buffer.Y); v = q.buffer.zw - v.ea; y = p[u]; A = p[u]; for (B = 0; B < p.length; B++) {
                                        E = p[B]; x = B <= u ? !0 : !1; var C = void 0, H = []; E.Bb && E.Bb.throughput && (C = E.Bb.throughput.Ha);
                                        if (E.Bb && E.Bb.tdigest) { var L = E.Bb.tdigest; H.push(L.min); H.push(L.K9); H.push(L.Ml); H.push(L.Bk); H.push(L.Nl); H.push(L.L9); H.push(L.max) } L = void 0; E.Bb && E.Bb.tputTrace && (L = E.Bb.tputTrace); var N = [], J = E.Y, Q = 0; if (void 0 !== J) { for (var K = q.Cd; K < Math.min(K + n.hub, J.length); K++) { var I = J.get(K); N.push({ d: I.duration, b: I.ea }) } for (K = q.Cd; K < J.length; K++)Q += J.get(K).duration } J = void 0; q.dU && (J = g.default.time.fa() - q.dU); t.push({
                                            Cd: q.Cd, yfc: J, Adc: Q, Uac: C, vfc: H, xfc: L, Oja: w, kYa: v, mbc: N, gdc: y.bitrate, hdc: null !== (D = y.zb) &&
                                                void 0 !== D ? D : 0, ubc: E.bitrate, vbc: null !== (F = E.zb) && void 0 !== F ? F : 0, Yec: A.bitrate, Zec: null !== (G = A.zb) && void 0 !== G ? G : 0, zD: x
                                        })
                                    } z.dSa = t
                                } return z
                        }; !1
                    })()
                }, function (r, b, a) {
                    !1; (function () {
                        a(10); a(27); a(38); var c = a(17).Jc; r.exports = {
                            checkBuffering: function (f, k, m, g, d, h) {
                                function l(x) { x = g.Y.L5(f.Cc + x, void 0, !0); return (t - f.Bj) / (t + (x.offset + x.ea) - w) } var n = f.Yk - f.Cc, q = k === c.Tf; k = g.Sa || 0; var p = 0, u = h.Tya && !q ? h.ND : h.lsa; u = Math.min(h.xA, u); if (n >= u) return { complete: !0, reason: "maxsize" }; if (k <= h.Rra && (0 < k || !h.Mma)) return {
                                    complete: !1,
                                    JD: !0
                                }; p = h.yj * (q ? h.rva : 1); h.LDb && g.Bb && g.Bb.Fj && g.Bb.Fj.Ha > h.Lra && (p += h.Gia + g.Bb.Fj.Ha * h.$ta); d && (p += d.au * h.Hia); p = u ? Math.min(u, p) : p; if (!k) return { complete: !1, OI: p }; var t = 0; f.Y.forEach(function (x) { t += x.Z + x.duration > f.Cc ? x.ea : 0 }); m = Math.max(m, 1); q = m * g.bitrate; if (!g.Y || !g.Y.length) return k < q && (p = Math.min(u, Math.max(h.CY * (q / k - 1), p))), { complete: !1, OI: p, progress: 0 }; d = g.Y.Hn(f.Bc); if (-1 === d) return { complete: !0, reason: "outofrange" }; var w = g.Y.Sd(d); if (n >= p) {
                                    if (k > q * h.H5) return { complete: !0, reason: "hightp" }; p =
                                        g.Y.vd(d); h = Math.min(d + Math.floor(h.CY / p), g.Y.length - 1); var v = g.Y.Sd(h); p = 8 * w * m / k - f.Cc; for (--h; h > d; --h) { q = g.Y.get(h); v = 8 * v * m / k - q.Z - p; if (0 < v) return p = Math.min(u, n + v), { complete: !1, OI: p, progress: l(p) }; v = q.offset } return { complete: !0, reason: "norebuff" }
                                } 0 < k && k < q && (p = Math.min(u, Math.max(h.CY * (q / k - 1), p))); return { complete: !1, OI: p, progress: l(p) }
                            }
                        }; !1
                    })()
                }, function (r, b, a) {
                    function c(l, n, q) {
                        d = q; h = q.map(function (p, u) { return u }); if (null === g) return l = k(q), g = q[l].bitrate, new m(l); if (!q.length) return null; l = h.filter(function (p) {
                            return q[p].bitrate ==
                                g
                        })[0]; return void 0 === l ? (f.log("Defaulting to first stream due to unvalid bitrate requested: " + g), new m(h[0])) : new m(l)
                    } b = a(38); a = a(6).default; var f = b.console, k = b.hna, m = b.Gp, g = null, d = null, h = null; a.lwb && (a.lwb.Jj = { Ab: function () { h = d = g = null }, Awa: function (l) { g = l }, zcc: function () { return { all: d, Kcb: h } } }); r.exports = { STARTING: c, BUFFERING: c, REBUFFERING: c, PLAYING: c, PAUSED: c }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.RGa = void 0; var c = a(2); r = c.__importDefault(a(117)); var f = c.__importDefault(a(6)),
                        k = a(250), m = a(251), g = r.default.l4, d = r.default.Wwb, h = r.default.gXa, l = r.default.kEb, n = r.default.pZb; new f.default.Console("ASEJS_PREDICTOR", "media|asejs"); !1; a = function (q) {
                            function p(u, t) {
                                var w = q.call(this, u, t) || this; w.fE = function (v, x) { return m.fE(w.config, v, x) }; w.j$ = function (v, x, y) {
                                    var z, A, B, E, D; y = null !== y && void 0 !== y ? y : w.dO; var F = null !== (A = null === (z = v.Sa) || void 0 === z ? void 0 : z.Ha) && void 0 !== A ? A : 0; z = null !== (E = null === (B = v[w.filter]) || void 0 === B ? void 0 : B.Ha) && void 0 !== E ? E : F; B = Math.pow(Math.max(1 - z / w.Bub,
                                        0), w.wub); E = x.Yk - x.Cc; w.x0b ? (x = h(w.eVa, E, 1), E = h(w.dVa, E, 1), x = x * B + E * (1 - B)) : x = h(n(w.eVa, w.dVa, B), E, 1); v = w.c5a && (null === (D = v[w.c5a]) || void 0 === D ? void 0 : D.Zsa); void 0 !== v && (D = l(w.TRb, v), x = Math.min(x * D, 1)); return w.QVa((1 - x) * F, y)
                                }; Array.isArray(u.Nt.curves) && (w.eVa = d(u.Nt.curves[0], 0, 0, 1), w.dVa = d(u.Nt.curves[1], 0, 0, 1)); w.Bub = g(u.Nt.threshold || 6E3, 1, 1E5); w.wub = g(u.Nt.gamma || 1, .1, 10); w.filter = u.Nt.filter; w.x0b = !!u.Nt.simpleScaling; u.Nt.niqrfilter && u.Nt.niqrcurve && (w.c5a = u.Nt.niqrfilter, w.TRb = d(u.Nt.niqrcurve,
                                    1, 0, 4)); !1; return w
                            } c.__extends(p, q); return p
                        }(k.WJ); b.RGa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.KLa = void 0; var c = a(2); r = c.__importDefault(a(6)); var f = a(250), k = a(251); new r.default.Console("ASEJS_PREDICTOR", "media|asejs"); !1; a = function (m) {
                        function g(d, h) {
                            var l = m.call(this, d, h) || this; l.fE = function (n, q) { return k.fE(l.config, n, q) }; l.j$ = function (n, q, p) { p = null !== p && void 0 !== p ? p : l.dO; var u = g.m0b(n, l.config); n = n.Sa ? n.Sa.Ha * (100 - l.FGb(q, u)) / 100 | 0 : 0; return l.QVa(n, p) }; !1;
                            return l
                        } c.__extends(g, m); g.m0b = function (d, h) { var l, n = !!d.js; h.Txa && (null === (l = d.Sa) || void 0 === l ? void 0 : l.Ha) < h.tU && (n = !0); return n }; g.prototype.FGb = function (d, h) { var l = this.config, n = h ? l.Vka : l.uja; h = h ? l.Wka : l.wja; Array.isArray(h) && (n = k.fXa(h, d.Yk - d.Cc, l.vja)); return n }; return g
                    }(f.WJ); b.KLa = a
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.GFa = void 0; r = function () {
                        function a(c, f, k, m, g, d, h, l) {
                            this.jb = c; this.ESa = f; this.config = k; this.console = m; this.mediaType = g; this.Hb = d; this.Ua = h;
                            this.dc = l; this.kr = this.bi = !1
                        } a.prototype.rM = function (c, f) { !this.jb.H.uv || this.dc.yL || this.dc.O2 || (c -= this.jb.Fe, this.bi && !this.kr && c + this.config.rbb >= f && 0 === this.Ua.WD && 0 === this.Ua.Us && 0 === this.Ua.SWb && (f = this.dc.He.P.Sb, c = this.dc.tN(), f + 1 < c || (this.ESa[this.mediaType].Uab || this.Hb.xpb(this.mediaType), this.kr = !0, this.ESa[this.mediaType].u9()))) }; return a
                    }(); b.GFa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.EFa = void 0; var c = a(2), f = a(21); r = a(398); var k = a(392); a = function (m) {
                        function g() {
                            return null !==
                                m && m.apply(this, arguments) || this
                        } c.__extends(g, m); g.prototype.jCb = function (d) { m.prototype.S7.call(this, { value: d }) }; g.prototype.p1a = function () { return !0 }; g.prototype.uxa = function () { }; g.prototype.S7 = function (d) { m.prototype.S7.call(this, d); d.done && (d = this.Ky.J4, f.ia && this.I.trace("Requests drained", { Vac: d && d.H.id }), (d = d && d.mb(this.Sg)) && d instanceof k.O0 && d.rM(this.Bg.qoa() || 0)) }; return g
                    }(r.cca); b.EFa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wAa = void 0; var c = a(2), f = a(148),
                        k = a(21); r = function () {
                            function m(g, d, h) { this.I = g; this.Wmb = d; this.Sg = h; this.k2 = 0; this.E2 = !1; this.nS = []; this.QF = void 0; k.ia && g.trace("BranchRequestIterator [" + this.Sg + "]: created") } Object.defineProperties(m.prototype, { aBb: { get: function () { return this.k2 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype, { J4: { get: function () { return this.WNa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype, { tk: { get: function () { return this.E2 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype,
                                { cVa: { get: function () { return this.xl ? this.xl.jA ? "Complete" : this.xl.Sua ? "WaitingForBranch" : void 0 !== this.QF && 0 !== this.QF ? "In Policy " + this.nS[this.QF].name : "WaitingForRequest" : "Uninitialized;Prior:" + this.TOa }, enumerable: !1, configurable: !0 } }); m.prototype.next = function () {
                                    return c.__awaiter(this, void 0, void 0, function () {
                                        var g, d, h, l; return c.__generator(this, function (n) {
                                            switch (n.label) {
                                                case 0: g = this.xl; if (!g) return [3, 6]; this.QF = void 0; return [4, g.next()]; case 1: d = n.Ac(), h = 0, n.label = 2; case 2: if (!(h < this.nS.length)) return [3,
                                                    5]; this.QF = h; l = this.nS[h]; return [4, l.process(d)]; case 3: d = n.Ac(), n.label = 4; case 4: return h++, [3, 2]; case 5: this.QF = void 0; if (d.done || this.xl !== g) return [2, { done: !0 }]; this.k2++; d.value.EQa(); return [2, { done: !1, value: d.value.value }]; case 6: return [2, f.AsyncIterator.dpa()]
                                            }
                                        })
                                    })
                                }; m.prototype.SYb = function () { this.zab(); this.kXb() }; m.prototype.zab = function () {
                                    if (this.xl) {
                                        this.TOa = this.cVa; var g = this.xl; g && g.Lh(); this.nS.forEach(function (d) { return d.reset() }); g && k.ia && this.I.trace("BranchRequestIterator [" + this.Sg +
                                            "]: Disposing iterator that was on branch ", this.J4 && this.J4.H.id); this.E2 = !1; this.QF = this.xl = void 0
                                    }
                                }; m.prototype.WQa = function (g) { this.nS.push(g) }; m.prototype.kXb = function () {
                                    var g = this; if (!this.E2) {
                                        var d = this.I, h = this.Wmb, l = this.Sg; this.k2 = 0; this.TOa = this.WNa = void 0; this.xl = f.flatten(f.map(h.j_a(), function (n) {
                                            return c.__awaiter(g, void 0, void 0, function () {
                                                var q; return c.__generator(this, function (p) {
                                                    switch (p.label) {
                                                        case 0: return this.WNa = n, this.k2 = 0, k.ia && d.trace("BranchRequestIterator [" + this.Sg +
                                                            "]: new branch " + n.H.id), [4, n.Sz(l)]; case 1: if (q = p.Ac()) return [2, { value: q }]; k.ia && d.error("BranchRequestIterator [" + this.Sg + "]: skipping branch " + n.H.id); return [2, { value: [] }]
                                                    }
                                                })
                                            })
                                        }, d), d); this.E2 = !0
                                    }
                                }; return m
                        }(); b.wAa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.DKa = void 0; var c = a(2), f = a(865), k = a(866); r = function () {
                        function m(g, d, h, l, n, q, p, u) {
                            this.mediaType = g; this.Ia = h; this.events = n; this.WZ = []; 1 === this.mediaType && this.WZ.push(new k.CLa(g, d, h, l, n, q, p, u, 2)); this.WZ.push(new f.cMa(g,
                                d, h, l, n, q, p, "stream", 1))
                        } m.prototype.reset = function () { this.WZ.forEach(function (g) { return g.reset() }) }; m.prototype.close = function () { this.WZ.forEach(function (g) { return g.close() }) }; m.prototype.Oi = function (g) { return c.__read(this.WZ, 1)[0].Oi(g) }; return m
                    }(); b.DKa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.cMa = void 0; var c = a(2), f = a(5), k = a(21); r = function (m) {
                        function g() { return null !== m && m.apply(this, arguments) || this } c.__extends(g, m); g.prototype.BA = function (d) {
                            var h = d.stream,
                                l = d.Mg; d = d.ze; f.assert(void 0 !== l); this.SQa(h, l, d) && k.ia && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + l.T + "ms")
                        }; g.prototype.wWa = function (d, h) {
                            var l, n = d.HJ, q = this.Ia.fp(h); f.assert(void 0 !== q); k.ia && this.trace("emitStreamPresentingEvent @ " + d.timestamp.T + "ms for " + (null === n || void 0 === n ? void 0 : n.id) + ", " + ((null === n || void 0 === n ? void 0 : n.bitrate) + "kbit/s")); this.events.emit("streamPresenting", {
                                type: "streamPresenting", mediaType: this.mediaType, playerTimestamp: h, position: q, trackIndex: null === (l =
                                    null === n || void 0 === n ? void 0 : n.track) || void 0 === l ? void 0 : l.xC, streamIndex: null === n || void 0 === n ? void 0 : n.Pf, stream: n
                            })
                        }; return g
                    }(a(399).Yea); b.cMa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.CLa = void 0; var c = a(2), f = a(21), k = a(5), m = a(9); r = function (g) {
                        function d(h, l, n, q, p, u, t, w, v) { h = g.call(this, h, l, n, q, p, u, t, "segment", v) || this; h.Ix = w; return h } c.__extends(d, g); d.prototype.BA = function (h) {
                            var l, n = h.Mg; h = h.ze; k.assert(void 0 !== n); var q = null === (l = this.Ia.fp(n)) || void 0 === l ? void 0 :
                                l.ha; k.assert(void 0 !== q); this.SQa(q, n, h) && f.ia && this.trace("segment " + q + " @ " + n.T + "ms")
                        }; d.prototype.wWa = function (h, l) {
                            var n = h.HJ, q = this.Ia.fp(l); k.assert(void 0 !== q); f.ia && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.T + "ms for segment " + n); q.ha !== n && (f.ia && this.console.warn("player position:", q, "not equal to trackedElement:", n), q = { ha: n, offset: m.O.cb }); h = { type: "segmentPresenting", playerTimestamp: l, position: q }; this.Ix && (h.metrics = this.Ix.woa(n)); f.ia && this.trace("segmentPresenting: " + JSON.stringify(h));
                            this.events.emit(h.type, h)
                        }; return d
                    }(a(399).Yea); b.CLa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.uDa = void 0; var c = a(2), f = a(21), k = a(67); r = function () {
                        function m(g, d, h) { this.Ne = g; this.$Qb = d; this.I = h } Object.defineProperties(m.prototype, { name: { get: function () { return "ExitZone" }, enumerable: !1, configurable: !0 } }); m.prototype.waitUntil = function (g) { g = k.vba(this.Ne, g, !0); var d = g.promise; this.Orb = g.Yq; return d }; m.prototype.process = function (g) {
                            return c.__awaiter(this, void 0, void 0,
                                function () { var d, h; return c.__generator(this, function (l) { switch (l.label) { case 0: if (g.done) return [3, 2]; d = g.value.value; if (!d.mna) return [3, 2]; h = d.Mg.Ja(this.$Qb); f.ia && this.I.trace("[" + d.mediaType + "] JIT: waiting until playertime >= " + h.T, "to append next request " + d.toString()); return [4, this.waitUntil(h)]; case 1: l.Ac(), f.ia && this.I.trace("[" + d.mediaType + "] JIT: now appending request " + d.toString()), l.label = 2; case 2: return [2, g] } }) })
                        }; m.prototype.reset = function () {
                            var g; null === (g = this.Orb) || void 0 === g ?
                                void 0 : g.Jb()
                        }; return m
                    }(); b.uDa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.xIa = void 0; var c = a(2), f = a(21), k = a(5), m = a(67); r = function () {
                        function g(d, h, l, n) { var q = this; this.Ne = d; this.iUb = h; this.Mta = l; this.I = n; d.Ba.on("stopStart", function () { return q.oxb() }) } Object.defineProperties(g.prototype, { name: { get: function () { return "Pacing" }, enumerable: !1, configurable: !0 } }); g.prototype.oxb = function () {
                            var d, h = this.Ne.Ba; this.q4 = h.tk ? h.currentTime : void 0; this.GT = this.sV = void 0; f.ia && this.I.trace("PacingThrottler: clock reset " +
                                (null === (d = this.q4) || void 0 === d ? void 0 : d.T))
                        }; g.prototype.waitUntil = function (d) { d = m.vba(this.Ne, d, !0); var h = d.promise; this.s5b = d.Yq; return h }; g.prototype.process = function (d) {
                            return c.__awaiter(this, void 0, void 0, function () {
                                var h, l, n, q; return c.__generator(this, function (p) {
                                    switch (p.label) {
                                        case 0: if (d.done) return [3, 9]; h = d.value.value; k.assert(h.Mg); l = this.Ne.Ba; if (!this.sV || !this.GT) return [3, 8]; if (!this.GT.greaterThan(this.Mta)) return [3, 6]; if (!this.q4) return [3, 3]; n = h.Mg.Ja(this.q4).Ja(this.Mta); q = this.q4.add(n.Hl(this.iUb));
                                            if (!q.greaterThan(l.currentTime)) return [3, 2]; f.ia && this.I.trace("PacingThrottler: waiting until " + q.T + "ms for mediaRequest @" + (h.Mg.T + "ms, current time ") + l.currentTime.T); return [4, this.waitUntil(q)]; case 1: p.Ac(), p.label = 2; case 2: return [3, 5]; case 3: n = h.Mg.Ja(this.sV); if (!n.greaterThan(this.Mta)) return [3, 5]; f.ia && this.I.trace("PacingThrottler: (buffering) waiting until " + this.sV.T + "ms for mediaRequest @" + (h.Mg.T + "ms, current time ") + l.currentTime.T); return [4, this.waitUntil(this.sV)]; case 4: p.Ac(),
                                                p.label = 5; case 5: return [3, 7]; case 6: this.GT = this.GT.add(h.aH), p.label = 7; case 7: return [3, 9]; case 8: this.sV = h.Mg, this.GT = h.aH, p.label = 9; case 9: return [2, d]
                                    }
                                })
                            })
                        }; g.prototype.reset = function () { var d; null === (d = this.s5b) || void 0 === d ? void 0 : d.Jb() }; return g
                    }(); b.xIa = r
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wLa = void 0; r = function () {
                        function a(c, f, k, m, g, d, h, l, n, q) {
                            var p = this; this.id = c; this.P = f; this.Z = k; this.KU = g; this.Gl = d; this.uv = h; this.oq = l; this.gp = n; this.de = q; this.DN = function (u) {
                                var t,
                                    w; return (null === (w = null === (t = p.Gl) || void 0 === t ? void 0 : t[u]) || void 0 === w ? void 0 : w.g3b) || p.de
                            }; this.Ka = m || Infinity
                        } Object.defineProperties(a.prototype, { S: { get: function () { return this.P.S }, enumerable: !1, configurable: !0 } }); a.prototype.UYa = function () {
                            var c = this, f, k = Object.keys(this.Gl || {}).filter(function (m) { var g, d; return !(null === (d = null === (g = c.Gl) || void 0 === g ? void 0 : g[m]) || void 0 === d || !d.weight) }); return k.length ? null !== (f = k.map(this.DN).reduce(function (m, g) { return m === g ? g : void 0 })) && void 0 !== f ? f : this.de :
                                this.de
                        }; a.prototype.toString = function () { return "segmentId: " + this.id + " playlistSegmentId: " + this.gp + " viewableId: " + this.P.S + " pts: " + this.Z + "-" + this.Ka + " defaultKey: " + this.KU + " dests: " + JSON.stringify(this.Gl) + " terminal: " + !!this.uv }; a.prototype.toJSON = function () { return { id: this.id, viewable: this.P.S, "startPts:": this.Z, endPts: this.Ka, defaultKey: this.KU, "dests:": this.Gl, terminal: !!this.uv, playlistSegmentId: this.gp } }; return a
                    }(); b.wLa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.Bza = void 0; r = a(2); var c = r.__importStar(a(10)), f = a(175), k = r.__importDefault(a(871)), m = a(371), g = r.__importDefault(a(27)), d = r.__importDefault(a(6)); !1; a = function () {
                        function h(l, n, q, p, u, t, w, v, x) {
                            this.I = n; this.ig = p; this.pc = v; this.bG = x; !1; this.xb = l; this.Xb = this.I.warn.bind(this.I); this.sn = this.I.trace.bind(this.I); this.J = u; this.YOa = 0 === Math.floor(1E6 * Math.random()) % u.Hja; this.tD = this.k0a = this.l0a = this.w4 = this.js = void 0; this.Vxa = this.$$a = this.aab = this.Uxa = this.p6a = this.q6a = 0; this.P2 = f.wN(u, t); n = this.wOa(q);
                            var y; void 0 !== n && void 0 !== n.Ml && void 0 !== n.Bk && void 0 !== n.Nl && (y = (n.Nl - n.Ml) / n.Bk); p = u.yX ? g.default.Sf.Yx : g.default.Sf.IB; q && q.confidence >= p && q.Sa && y && this.Aob(q, n, y); if (this.bG.Tr) try { var z = new k.default(l, this.I, { bufferSize: d.default.Mo() }, u); this.ig.msb(z); this.KPa = z } catch (A) { l.Hb.Un("Hindsight: Error when creating QoEEvaluator: " + A) } this.Yga = !1; if (w && 1 < w.length && u.vma) {
                                switch (u.SKb) {
                                    case "baseline": this.oL = new m.oda(w, u, this.I); break; case "LR": this.oL = new m.sEa(w, u, this.I); break; default: this.oL =
                                        new m.oda(w, u, this.I)
                                }this.Yga = this.oL.G7()
                            } u.uba && (this.W2 = this.V2 = !1)
                        } Object.defineProperties(h.prototype, { G7: { get: function () { return this.Yga }, enumerable: !1, configurable: !0 } }); Object.defineProperties(h.prototype, { ava: { get: function () { return this.KPa }, enumerable: !1, configurable: !0 } }); h.prototype.p$a = function (l, n, q) { this.tD = l; c.la(n) || (this.l0a = n); c.la(q) || (this.k0a = q) }; h.prototype.Cya = function (l) { this.J = l; this.P2.Cya(l) }; h.prototype.Zga = function (l, n, q, p) {
                            var u = this.J; switch (l) {
                                case "iqr": if (void 0 !==
                                    p) return !!(n.Sa && q && c.Ea(p) && n.Sa.Ha < u.tU && p > u.sda); break; case "avg": return n.Sa ? n.Sa.Ha < u.tU : !0
                            }return !1
                        }; h.prototype.wN = function (l) { return 1 === l ? this.P2.j$ : this.P2.fE }; h.prototype.AP = function (l) { this.P2.AP(l) }; h.prototype.dsb = function (l, n, q, p, u, t) {
                            var w = this.J; w.uba && this.nqb(n) || !q || !p || !(q = t ? Math.min(q, p, t) : Math.min(q, p)) || (this.ig.get(), p = this.xb.Pa, l = p.yw(p.$c, l), n.track.Fu() && l > w.Gja && q === u ? (w.set ? (w.set({ pipelineEnabled: !0 }), w.set({ maxParallelConnections: 1 }), w.set({ maxActiveRequestsPerSession: 2 }),
                                w.set({ maxPendingBufferLen: 500 })) : (w.Gq = !0, w.eO = 1, w.bx = 2, w.v8 = 500), n.track.A$({ type: n.track.config.type, connections: 1, openRange: !1, pipeline: !0, socketBufferSize: w.kQ, minRequestSize: w.lO }), this.Uxa++, w.uba && (this.V2 = !0)) : w.Gq && !n.Fu() && (l < w.Fja || q !== u) && (w.set ? (w.set({ pipelineEnabled: !0 }), w.set({ maxParallelConnections: 3 }), w.set({ maxActiveRequestsPerSession: 3 }), w.set({ maxPendingBufferLen: 12E3 })) : (w.Gq = !0, w.eO = 3, w.bx = 3, w.v8 = 12E3), n.track.A$({
                                    type: n.config.type, connections: 3, openRange: !1, pipeline: !0, socketBufferSize: w.kQ,
                                    minRequestSize: w.lO
                                }), this.Vxa++, w.uba && (this.W2 = !0)))
                        }; h.prototype.gsb = function (l, n) { var q = this.J; if (this.YOa) { void 0 === this.jn && (this.jn = { startTime: d.default.time.fa(), MT: [], m_: [], ora: void 0, hra: void 0 }); q = Math.floor((d.default.time.fa() - this.jn.startTime) / q.jM); var p = this.jn.hra, u = this.jn.ora ? q - this.jn.ora - 1 : q; if (void 0 === p || q > p) this.jn.MT[u] = l, this.jn.m_[u] = n; this.jn.hra = q } }; h.prototype.aTb = function () {
                            var l = this.xb; if (this.bG.Tr) try { this.ig.YXb(), this.KPa.md() } catch (n) {
                                l.Hb.Un("Hindsight: Error during clean up: " +
                                    n)
                            }
                        }; h.prototype.qTb = function (l) { this.J.VM && l === g.default.Wa.Pb && (this.Vxa = this.Uxa = this.$$a = this.aab = this.p6a = this.q6a = 0) }; h.prototype.oTb = function (l, n) { l === g.default.Wa.Pb && (this.j5b = n) }; h.prototype.Bwb = function (l) {
                            var n = this.J, q; if ("none" !== n.yE && !0 !== this.js && l.state <= n.ksa) {
                                var p = this.ig.get(); if ("iqr" === n.yE) { var u = this.wOa(p); void 0 !== u && void 0 !== u.Ml && void 0 !== u.Bk && void 0 !== u.Nl && (q = (u.Nl - u.Ml) / u.Bk) } var t = n.yX ? g.default.Sf.Yx : g.default.Sf.IB; p && p.confidence >= t && this.Zga(n.yE, p, u, q) && (this.js =
                                    !0, this.w4 = l.state)
                            }
                        }; h.prototype.Dsb = function (l) { l.js = this.js }; h.prototype.UEb = function (l) {
                            var n = {}, q = this.J, p = this.xb, u = { type: "logdata", target: "startplay", fields: {} }; u.fields = n; Object.keys(l).forEach(function (y) { n[y] = l[y] }); var t = this.ig.get(); t && t.Sa && (t = t.Sa.Ha); n.actualbw = t; n.isConserv = this.js; n.ccs = this.w4; n.isLowEnd = this.ZMb; n.histdiscbw = this.tD; var w = this.k0a; if (w) {
                                var v = function (y) { return c.Ea(y) ? Number(y).toFixed(2) : -1 }; t = [v(w.min || void 0), v(w.K9 || void 0), v(w.Ml || void 0), v(w.Bk || void 0),
                                v(w.Nl || void 0), v(w.L9 || void 0), v(w.max || void 0)]; var x = []; w = c.isArray(w.Qi) && w.Qi.reduce(function (y, z) { var A = v(z.rg || void 0); z = v(z.n || void 0); -1 < A && -1 < z && y.push({ mean: A, n: z }); return y }, x); n.histtdc = w; n.histtd = t
                            } n.histage = this.l0a; q.vma && this.oL && (n.ishighstable = this.Yga, n.avg_avtp = this.oL.oub, n.avg_ne = Number(this.oL.qub).toFixed(4)); p.tc && (q = d.default.Mo(), n.maxAudioBufferAllowedBytes = q[g.default.Wa.$b], n.maxVideoBufferAllowedBytes = q[g.default.Wa.Pb]); p.emit(u.type, u)
                        }; h.prototype.VEb = function (l) {
                            var n =
                                this, q = this.J, p = this.ig.get(), u = [];[g.default.Wa.Pb, g.default.Wa.$b].forEach(function (x) { if (n.pc(x)) { var y = n.xb.n_a(x); void 0 !== y && (x === g.default.Wa.Pb && (q.VM && (y.parallelDownloadMs = n.q6a, y.parallelDownloadBytes = n.p6a, y.singleDownloadMs = n.aab, y.singleDownloadBytes = n.$$a, y.switchFromParallelToSingle = n.Uxa, y.switchFromSingleToParallel = n.Vxa), p && p.confidence && p.Sa && (y.asetput = p.Sa, y.aseiqr = p.Cu, y.tdigest = p.Jk && p.Jk.Qz() || void 0), p && p.avtp && (y.avtp = p.avtp.Ha)), u.push(y)) } }); l.stat = u; var t = 0, w = 0, v = 0; p.confidence &&
                                    (t = p.Sa ? p.Sa.Ha : 0, w = p.Fj ? p.Fj.Ha : 0, v = p.Bu ? p.Bu.Ha : 0); l.location = { responseTime: w, httpResponseTime: v, bandwidth: t, confidence: p.confidence, name: this.j5b }; this.YOa && (l.bt = { startTime: this.jn.startTime, audioMs: this.jn.MT, videoMs: this.jn.m_ }, this.jn.MT = [], this.jn.m_ = [], this.jn.ora = this.jn.hra); "none" !== q.yE && (l.isConserv = this.js, l.ccs = this.w4)
                        }; h.prototype.nqb = function (l) { var n = this.J; if (this.V2 && l.Fu()) return !0; this.V2 && (this.V2 = !1); if (this.W2 && n.Gq && !l.Fu()) return !0; this.W2 && (this.W2 = !1); return !1 }; h.prototype.wOa =
                            function (l) { switch (this.J.Npa) { case "tdigest": l = l.Jk; break; default: l = l.Cu && l.Cu.U9 }return l }; h.prototype.Aob = function (l, n, q) { var p = this.J; this.Zga(p.yE, l, n, q) ? this.js = !0 : this.js = !1; this.w4 = 0; this.Zga(p.Nra, l, n, q) && (this.ZMb = !0) }; return h
                    }(); b.Bza = a
                }, function (r, b, a) {
                    function c(g, d, h, l) {
                        this.xb = g; this.I = d; this.Sk = this.I.error.bind(this.I); this.Xb = this.I.warn.bind(this.I); this.sn = this.I.trace.bind(this.I); this.Fg = this.I.log.bind(this.I); this.Gmb = new k; this.J = l; this.N2 = []; this.d3 = void 0; g = l.c7; f.call(this,
                            g.numB * g.bSizeMs, g.bSizeMs); this.Tga = !0
                    } a(27); b = a(6).default; var f = a(142); a(401); var k = a(872); new b.Console("ASEJS_QOE_EVAL", "media|asejs"); var m = a(126).GKa || a(126); c.prototype = Object.create(f.prototype); c.prototype.add = function (g, d, h) { this.d3 || (this.d3 = d); f.prototype.add.call(this, g, d, h) }; c.prototype.RGb = function () { if (0 !== this.N2.length) { var g = []; this.N2.forEach(function (d) { d && d.XL && g.push(d.Qz()) }); return g } }; c.prototype.md = function () { this.N2 = [] }; c.prototype.GJb = function () {
                        var g = this.get(this.J.c7.fillS);
                        if (0 === g[0] || null === g[0]) { var d, h; g.some(function (n, q) { if (n) return d = n, h = q, !0 }); if (d) for (var l = 0; l < h; l++)g[l] = d } g = { trace: g, timestamp: this.d3, cz: this.Gd }; this.Tga = !1; f.prototype.reset.call(this); this.Tga = !0; this.d3 = void 0; return g
                    }; c.prototype.Ima = function (g) {
                        if (g && !g.XL) {
                            var d, h = g.fu.J1a; h && (g.qva = this.Qia(g), g.y$ = !1); if ((d = this.GJb()) && d.trace && d.trace.length) {
                                var l = g.Ij.cE, n = d.timestamp; if (n > l) { var q = d.cz, p = d.trace[0]; l = Math.ceil((n - l) / q); d.timestamp = n - l * q; for (n = 0; n < l; n++)d.trace.splice(0, 0, p) } d.trace.length &&
                                    d.trace.pop()
                            } g.pB = d; d.trace && 0 === d.trace.length || void 0 === d.timestamp || (d = this.yvb(g), g.W5a = d, h && d && (g.y$ = d.zD), g.XL = !0, this.N2.push(g))
                        }
                    }; c.prototype.yvb = function (g) {
                        function d(w) { for (var v, x = 0; x < w.length; x++) { var y = w[x].reduce(function (z, A) { return A.zb ? z + 1 : z }, 0); if (void 0 === v) v = y; else if (y !== v) throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > v ? y - v : v - y) * Math.LOG2E) + "]"); } } for (var h = this.J.b7, l = { zD: !1, x7: !1, hDb: 0 }, n = 0; n < h.length; n++) {
                            var q =
                                h[n], p = this.Gmb.create(q); if (p) { var u = m.now(), t = {}; try { d(g.Nx), t = p(g) } catch (w) { t.eN = w } t.atb = m.now() - u; l[q] = t; l.zD = l.zD || t.zD; l.x7 = l.x7 || t.x7; l.eN = l.eN || t.eN }
                        } return l
                    }; c.prototype.Qia = function (g) { g = g.fu; var d = ""; 1E3 > g.jo && (d += g.vdb); 1E3 > g.Hr && (d = d + ("" !== d ? "," : "") + g.JRa); 1E3 <= g.jo && 1E3 <= g.Hr && (d = "media"); return d }; r.exports = c
                }, function (r, b, a) {
                    function c() { } function f(m, g, d) { return function (h) { h.Rq = g; h.compare = d; return m(h) } } var k = a(873); c.prototype.constructor = c; c.prototype.create = function (m) {
                        switch (m) {
                            case "htwbr": break;
                            case "htwbr-dlvmaf": var g = f(k.lW, !1, k.PTa); break; case "htwbr-segvmaf": g = f(k.lW, !0, k.PTa); break; case "hvmafgr": g = f(k.lW, !1, k.Mka); break; case "hvmafgr-dlvmaf": g = f(k.lW, !1, k.Mka); break; case "hvmafgr-segvmaf": g = f(k.lW, !0, k.Mka); break; case "hvmafdp": g = f(k.dp, !1); break; case "hvmafdp-dlvmaf": g = f(k.dp, !1); break; case "hvmafdp-segvmaf": g = f(k.dp, !0); break; default: throw Error("Unrecognized hindsight algorithm");
                        }return g
                    }; r.exports = c
                }, function (r, b, a) {
                    function c(D) {
                        var F = D.pB, G = D.Ij, C = D.fu.Ka - G.Z; F.timestamp >
                            G.cE && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.cE); D = []; for (var H, L = F.timestamp, N = 0; N < F.trace.length; N++)L >= G.cE && (D.push(F.trace[N]), H = F.trace[N]), L += F.cz, C -= F.cz; for (; 0 < C;)D.push(H), C -= F.cz; G = F.cz; F = D.length; if (0 === F) F = []; else { for (G = [G / 1E3]; 2 * G.length <= F;)G = G.concat(G); G.length < F && (G = G.concat(G.slice(0, F - G.length))); F = G } return new x(D, F, !1)
                    } function f(D, F, G) { F = D.Nx[F][G]; return F.ea + D.Ij.TT * F.duration / 8 } function k(D) {
                        var F =
                            D.Ij, G = F.Sm, C = D.fu, H = C.Iw, L, N = []; for (C = H = Math.min(C.ZH, H); C >= G; C--) { E.update("backward step loop"); var J = L = D.Nx[0][C].Z - D.Ij.Z; C < H && (p(void 0 !== N[C + 1], "expect solution[(fragIndex + 1)] !== undefined"), J = Math.min(N[C + 1].startTime, J)); var Q = f(D, 0, C), K = q(Q, J, D.pB, F.cE); if (0 > K) throw Error("Infeasible: reason throughput at min bitrate"); Q = { startTime: K, endTime: J, L4: J, ECb: L, vP: Q, Le: 0 }; Q.eYa = C; N[C] = Q } F = 0; for (C = G; C <= H; C++)F += N[C].vP, N[C].dma = F; if (!m(D, N, G, H)) throw Error("Infeasible: reason buffer capacity at min bitrate");
                        return { zD: !0, $sa: 0 == N.length, Wq: N }
                    } function m(D, F, G, C) {
                        for (; G <= C; G++) {
                            E.update("checkBuffer"); var H = D, L = F, N = G; E.update("check buffer vacancy"); var J = H.Ij, Q = H.Nx[J.yW], K = H.DSa, I = !0; H = H.oFb(Math.floor(L[N].startTime) + J.Z); var M = J.Xs + L[N].dma, O = 0, P = 0; if (H.index < J.Sm) { for (var S = 0, U = J.kB; U < H.index; U++)S += Q[U].ea; O += S; S = 0; for (U = J.kB; U < H.index; U++)S += Q[U].duration; P += S } else O += J.Xs, P += J.jo; S = 0; for (U = J.Sm; U < H.index; U++)S += L[U].vP; O += S; S = 0; for (U = J.Sm; U < H.index; U++)S += Q[L[U].eYa].duration; P += S; H = M - O; J = Q[N].Z +
                                Q[N].duration - J.Z - P; if (J >= K.xA || H >= K.fdb) I = !1; L[N].LSa = H; L[N].Oja = J; if (!I) return !1
                        } return !0
                    } function g(D) { D = D.Ij.Y; for (var F = [], G, C = 0; C < D.length; C++)E.update("get prebuffered chunks loop"), G = D[C], p(void 0 !== G.zb, "expect frag.vmaf !== undefined"), G = new t(G.ea, G.duration / 1E3, G.zb), F.push(G); return F } function d(D) {
                        var F = D.Nx, G = D.Ij, C = D.fu, H = C.Iw, L = D.ce, N = []; H = Math.min(C.ZH, H); for (var J = 0; J < F.length; J++) {
                            C = []; for (var Q = G.Sm; Q <= H; Q++) {
                                E.update("get chunk map from play segment"); var K = F[J][Q]; K = new t(K.ea,
                                    K.duration / 1E3, D.Rq && void 0 !== K.zb ? K.zb : L[J].zb); C.push(K)
                            } N.push(C)
                        } return new w(N, !1)
                    } function h(D, F, G) { p(D.FN() >= F.length, "expect chunk_map.get_n_epoch() >= stream_choices.length"); for (var C = 0, H = 0, L, N, J = 0; J < F.length; J++)E.update("calculate twvmaf"), p(F[J].u0a === J, "expect stream_choices[idx].i_epoch === idx"), N = D.lm[F[J].h7][J], L = void 0 !== G ? G(N.quality) : N.quality, N = N.Qm, C += L * N, H += N; return { XVa: C / H, WVa: 1E3 * H } } function l(D, F, G) {
                        p(D.FN() >= F.length, "expect chunk_map.get_n_epoch() >= stream_choices.length");
                        for (var C = 0, H = 0, L = G.Ij.TT, N, J = 0, Q = 0, K = 0; K < F.length; K++)E.update("calculate Bytes"), p(F[K].u0a === K, "expect stream_choices[idx].i_epoch === idx"), N = D.lm[F[K].h7][K], C += N.ea, H += L * N.Qm * 1E3 / 8, J += N.Qm * G.ce[F[K].h7].bitrate, Q += N.Qm; return { VVa: C, SVa: H, UVa: 0 < Q ? 1 * J / Q : 0 }
                    } function n(D, F, G) { F = Math.min(D.length - 1, F); F = Math.max(0, F); return D[F] * G / 8 } function q(D, F, G, C) {
                        var H = G.trace, L = 1 * G.cz, N = F + C - G.timestamp, J = Math.floor(1 * N / L); F = (N - J * L) / L * n(H, J, L); if (F >= D) var Q = N - 1 * D / F * (N - J * L); else for (N = J; F < D;) {
                            E.update("find download start time");
                            --N; if (0 > N) return -1; J = n(H, N, L); if (F + J >= D) { D = (D - F) / J * L; Q = (N + 1) * L - D; break } F += J
                        } return Q + G.timestamp - C
                    } var p = a(5).assert, u = a(874), t = a(402).Ofb, w = a(402).Pfb, v = a(875).chb, x = a(403).bmb, y = a(252).CAa, z = a(243).V0, A = a(87).default, B = new (a(6).default.Console)("ASEJS_QOE_EVAL", "media|asejs"), E = a(126).GKa || a(126); r.exports = {
                        lW: function (D) {
                            B.debug("greedy DEBUG false"); E.Nwa("greedy-" + (D.Rq ? "segvmaf" : "dlvmaf") + ": "); try {
                                D.YH = []; var F = D.Nx, G = D.Ij, C = D.fu, H = C.Iw, L = D.ce, N, J; H = Math.min(C.ZH, H); for (J = G.Sm; J <= H; J++) {
                                    var Q =
                                        new u; D.YH[J] = Q; F[0][J].Tja = F[0][J].ea; for (N = 1; N < F.length; N++)F[N][J].Tja = F[N][J].ea; N = 0; var K = F[N][J]; K.KD = Infinity; K.Pf = N; for (N = 1; N < F.length; N++) { K = F[N][J]; K.Pf = N; var I = Q.C7() ? F[0][J] : Q.JUb(), M = 8 * K.Tja / K.duration, O = 8 * I.Tja / I.duration; if (D.Rq && void 0 !== K.zb) var P = K.zb, S = I.zb; else P = L[N].zb, S = L[I.Pf].zb; K.Ku = M - O; K.KD = (P - S) / K.Ku; isFinite(K.KD) && (0 < K.KD || N == F.length - 1) && 0 < K.Ku && Q.enqueue(K) }
                                } for (J = G.Sm; J <= H; J++) {
                                    G = []; var U = [], Z = [], ia = D.YH[J].op(); for (F = 0; F < ia.length; F++)K = ia[F], G.push(K.Ku.toFixed(2)),
                                        D.Rq && void 0 !== K.zb ? U.push(K.zb) : U.push(L[K.Pf].zb), Z.push(K.KD.toFixed(4))
                                } var ya = k(D); if (ya.$sa) return ya; var na = D.Ij, X = D.fu, ra = X.Iw; ra = Math.min(X.ZH, ra); Z = []; for (var T = na.Sm; T <= ra; T++)D.YH[T].C7() || Z.push(D.YH[T].IM()); p(void 0 !== D.compare, "playSegment.compare required for greedy"); for (var R = new z(Z, D.compare); 0 < R.length;) {
                                    E.update("upgrade frags"); var ca = R.pop(); a: {
                                        ra = na = void 0; T = D; Z = ya; U = ca; var ua = T.Ij, aa = T.fu, La = Math.min(aa.ZH, aa.Iw), Ua = JSON.parse(JSON.stringify(Z.Wq)); p(U && Ua[U.index].Le < U.Pf,
                                            "expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex"); ra = U.index; na = Ua[ra]; na.Le = U.Pf; na.vP = f(T, na.Le, ra); na.startTime = q(na.vP, na.L4, T.pB, ua.cE); Ua[ra] = na; if (0 > na.startTime) var $a = !1; else {
                                                for (ra = U.index - 1; ra >= ua.Sm; ra--) { na = Ua[ra]; var Za = Ua[ra + 1].startTime; if (na.L4 <= Za) break; na.L4 = Za; na.startTime = q(na.vP, na.L4, T.pB, ua.cE); Ua[ra] = na; if (0 > na.startTime) { $a = !1; break a } } for (var cb = U.index + 1; cb <= La; cb++)Ua[cb].dma = Ua[cb].vP + (cb > T.Ij.Sm ? Ua[cb - 1].dma : 0); for (var Wa = U.index + 1; Wa <=
                                                    La; Wa++)if (Ua[Wa].startTime > Ua[U.index].ECb) { La = Wa - 1; break } m(T, Ua, U, Math.min(ra + 1, U.index), La) ? (Z.Wq = Ua, $a = !0) : $a = !1
                                            }
                                    } $a && (D.YH[ca.index].C7() || R.push(D.YH[ca.index].IM()))
                                }
                            } finally { delete D.YH } for (La = aa = ua = $a = ca = R = 0; La < ya.Wq.length; La++)if (Ua = ya.Wq[La]) Za = D.Nx[Ua.Le][Ua.eYa], R += (Za.zb ? Za.zb : D.ce[Ua.Le].zb) * Za.duration, ca += Za.duration, $a += Za.ea, ua += D.Ij.TT * Za.duration / 8, aa += Za.duration * D.ce[Ua.Le].bitrate; ya.XVa = 0 < ca ? 1 * R / ca : 0; ya.WVa = ca; ya.VVa = $a; ya.SVa = ua; ya.UVa = 0 < ca ? 1 * aa / ca : 0; ya.vA = E.EZa(); B.debug("Max heap used: " +
                                Math.round(ya.vA / 1024 / 1024) + " MB"); return ya
                        }, Mka: function (D, F) { if (D.KD < F.KD) return 1; if (D.KD > F.KD) return -1; if (D.Ku > F.Ku) return 1; if (D.Ku < F.Ku) return -1; if (D.index > F.index) return 1; if (D.index < F.index) return -1; throw Error("Invalid frag comparison"); }, PTa: function (D, F) { if (D.Ku > F.Ku) return 1; if (D.Ku < F.Ku) return -1; if (D.index > F.index) return 1; if (D.index < F.index) return -1; throw Error("Invalid frag comparison"); }, dp: function (D) {
                            E.Nwa("dp-" + (D.Rq ? "segvmaf" : "dlvmaf") + ": "); var F = k(D); if (!1 === F.zD || !0 === F.$sa) return F;
                            var G = d(D), C = new v(G), H = g(D); H = { xbb: c(D), bSa: D.Ij.TT, E4a: 0, c4a: 240, b4a: 8 * D.DSa.fdb / 1E3, ISa: .5, qSa: new y(H), SWa: 0, Ccc: void 0, G_a: void 0, W7a: void 0, pRa: !0 }; C = C.Bx(H); H = h(G, C, void 0); G = l(G, C, D); var L = [], N = D.Ij.Sm; C.forEach(function (J) { L[N] = { Le: J.h7 }; N++ }); A(H, F); A(G, F); F.Wq = L; F.vA = E.EZa(); B.debug("Max heap used: " + Math.round(F.vA / 1024 / 1024) + " MB"); return F
                        }
                    }
                }, function (r) {
                    function b(f) { this.Cg = a(f); this.Qg = this.qf = 0; if (c(f)) { for (var k = f.length, m = 0; m < k; ++m)this[m] = f[m]; this.qf = k } } function a(f) {
                        if ("number" !==
                            typeof f) if (c(f)) f = f.length; else return 16; f = Math.min(Math.max(16, f), 1073741824); f = (f >>> 0) - 1; f |= f >> 1; f |= f >> 2; f |= f >> 4; f |= f >> 8; return (f | f >> 16) + 1
                    } b.prototype.op = function () { for (var f = this.qf, k = Array(f), m = this.Qg, g = this.Cg, d = 0; d < f; ++d)k[d] = this[m + d & g - 1]; return k }; b.prototype.push = function (f) {
                        var k = arguments.length, m = this.qf; if (1 < k) {
                            var g = this.Cg; if (m + k > g) { for (var d = 0; d < k; ++d) { this.Y1(m + 1); var h = this.Qg + m & this.Cg - 1; this[h] = arguments[d]; m++; this.qf = m } return m } h = this.Qg; for (d = 0; d < k; ++d)this[h + m & g - 1] = arguments[d],
                                h++; this.qf = m + k; return m + k
                        } if (0 === k) return m; this.Y1(m + 1); d = this.Qg + m & this.Cg - 1; this[d] = f; this.qf = m + 1; return m + 1
                    }; b.prototype.pop = function () { var f = this.qf; if (0 !== f) { var k = this.Qg + f - 1 & this.Cg - 1, m = this[k]; this[k] = void 0; this.qf = f - 1; return m } }; b.prototype.shift = function () { var f = this.qf; if (0 !== f) { var k = this.Qg, m = this[k]; this[k] = void 0; this.Qg = k + 1 & this.Cg - 1; this.qf = f - 1; return m } }; b.prototype.unshift = function (f) {
                        var k = this.qf, m = arguments.length; if (1 < m) {
                            var g = this.Cg; if (k + m > g) {
                                for (var d = m - 1; 0 <= d; d--) {
                                    this.Y1(k +
                                        1); g = this.Cg; var h = (this.Qg - 1 & g - 1 ^ g) - g; this[h] = arguments[d]; k++; this.qf = k; this.Qg = h
                                } return k
                            } h = this.Qg; for (d = m - 1; 0 <= d; d--)h = (h - 1 & g - 1 ^ g) - g, this[h] = arguments[d]; this.Qg = h; this.qf = k + m; return k + m
                        } if (0 === m) return k; this.Y1(k + 1); g = this.Cg; d = (this.Qg - 1 & g - 1 ^ g) - g; this[d] = f; this.qf = k + 1; this.Qg = d; return k + 1
                    }; b.prototype.JUb = function () { var f = this.qf; if (0 !== f) return this[this.Qg + f - 1 & this.Cg - 1] }; b.prototype.get = function (f) { if (f === (f | 0)) { var k = this.qf; 0 > f && (f += k); if (!(0 > f || f >= k)) return this[this.Qg + f & this.Cg - 1] } };
                    b.prototype.C7 = function () { return 0 === this.qf }; b.prototype.clear = function () { for (var f = this.qf, k = this.Qg, m = this.Cg, g = 0; g < f; ++g)this[k + g & m - 1] = void 0; this.Qg = this.qf = 0 }; b.prototype.toString = function () { return this.op().toString() }; b.prototype.valueOf = b.prototype.toString; b.prototype.enqueue = b.prototype.push; b.prototype.IM = b.prototype.shift; b.prototype.toJSON = b.prototype.op; Object.defineProperty(b.prototype, "length", { get: function () { return this.qf }, set: function () { throw new RangeError(""); } }); b.prototype.Y1 =
                        function (f) { this.Cg < f && this.Xqb(a(1.5 * this.Cg + 16)) }; b.prototype.Xqb = function (f) { var k = this.Cg; this.Cg = f; f = this.Qg; var m = this.qf; if (f + m > k) for (f = f + m & k - 1, m = 0; m < f; ++m)this[m + k] = this[m + 0], this[m + 0] = void 0 }; var c = Array.isArray; r.exports = b
                }, function (r, b, a) {
                    function c(x, y, z) { this.sSa = this.lnb(x, y, z) } function f() { } function k() { } function m() { } function g(x) { this.Pwb = x } function d() { } function h() { } function l() { } function n() { this.$la = {} } function q(x, y) {
                        return Array.apply(0, Array(y)).map(function (z, A) {
                            return A +
                                x
                        })
                    } var p = a(2), u = a(5).assert; b = a(252).CAa; var t = a(403).cmb, w = a(252).ifb; new (a(6).default.Console)("ASEJS_QOE_EVAL", "media|asejs"); var v = a(126).GKa || a(126); c.prototype.constructor = c; c.prototype.lnb = function (x, y, z) { u(x < y, "expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y); u(0 < z, "expect buffer_step_sec > 0. but got " + z); for (var A = []; x < y; x += z)A.push(x); A[A.length - 1] < y && A.push(y); return A }; c.prototype.nD = function (x) { return this.kob(x, this.sSa) }; c.prototype.kob = function (x, y) {
                        x = this.gCb(x, y);
                        if (0 === x) throw new f; if (x === y.length) throw new k; return x
                    }; c.prototype.gCb = function (x, y) { u(0 < y.length, "expect bins.length > 0 but got " + y.length); if (x < y[0]) return 0; if (x >= y[y.length - 1]) return y.length; for (var z = 1; z < y.length; z++)if (y[z - 1] <= x && x < y[z]) return z; u(!1, "expect not coming here in digitize()") }; c.prototype.O6 = function () { return q(1, this.sSa.length - 1) }; f.prototype = Error(); k.prototype = Error(); m.prototype = Error(); g.prototype.constructor = g; g.prototype.VERSION = "0.5"; g.prototype.jgb = -20; g.prototype.igb =
                        20; g.prototype.hgb = void 0; g.prototype.cgb = new b(void 0); g.prototype.egb = 0; g.prototype.dgb = 1; g.prototype.mgb = !1; g.prototype.ggb = !0; g.prototype.fgb = !0; g.prototype.kgb = void 0; g.prototype.agb = !0; g.prototype.bgb = 0; g.prototype.Bx = function (x) {
                            u(void 0 !== x.xbb, "expect recipe.time_varying_bandwidth !== undefined"); return this.Zqb(this.Pwb, x.xbb, void 0 !== x.E4a ? x.E4a : this.jgb, void 0 !== x.c4a ? x.c4a : this.igb, void 0 !== x.b4a ? x.b4a : this.hgb, void 0 !== x.qSa ? x.qSa : this.cgb, void 0 !== x.SWa ? x.SWa : this.egb, void 0 !== x.ISa ?
                                x.ISa : this.dgb, void 0 !== x.D0b ? x.D0b : this.mgb, void 0 !== x.bKb ? x.bKb : this.ggb, void 0 !== x.G_a ? x.G_a : this.fgb, void 0 !== x.W7a ? x.W7a : this.kgb, void 0 !== x.pRa ? x.pRa : this.agb, void 0 !== x.bSa ? x.bSa : this.bgb)
                        }; g.prototype.Zqb = function (x, y, z, A, B, E, D, F, G, C, H, L, N, J) {
                            function Q(Fb) { return Fb[P] } var K; v.Nwa("dp: "); u(z <= E.Ch, "expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec"); u(E.Ch <= A, "expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec"); u(z <= D, "expect min_buffer_sec <= end_buffer_sec"); u(D <= A, "expect end_buffer_sec <= max_buffer_sec");
                            void 0 !== B && u(E.Ul <= B, "Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + E.Ul + " and " + B); var I = new c(z, A, F); F = new n; var M = 0, O = E; F.put([0, I.nD(E.Ch)], [M, O, void 0, void 0, y, void 0, void 0, void 0]); y = O = 0; E = x.XJb(); u(x.FN() == E.length, "expect chunk_map.get_n_epoch() == durations_sec.length"); var P = -1; try {
                                for (var S = p.__values(E), U = S.next(); !U.done; U = S.next()) {
                                    P += 1; E = !0; for (var Z = x.lm.map(Q), ia = I.O6(), ya = 0; ya < ia.length; ya++) {
                                        var na = ia[ya]; if (F.$qa([P, na])) for (var X = F.get([P, na]), ra = X[0],
                                            T = X[1], R = X[4], ca = 0; ca < Z.length; ca++) {
                                            var ua = Z[ca]; v.update("epoch-ibuf-chunk loop"); var aa = void 0 !== L ? L(ua.quality) : ua.quality, La = R.Xt(); try { X = this.Rnb(T, ua, La, J); var Ua = X[0], $a = X[1], Za = X[2], cb = X[3], Wa = X[4], Pa = X[5] } catch (Fb) { if (Fb instanceof t) continue; else if (Fb instanceof f) { O += 1; continue } else throw Fb; } var ha = !1, pa = !1; try { var Fa = I.nD(cb.Ch); C && I.nD(Ua); H && I.nD($a); if (void 0 !== B) if (H) { if (Za.Ul > B) throw new m; } else if (cb.Ul > B) throw new m; } catch (Fb) {
                                                if (Fb instanceof f) Fa = void 0, O += 1; else if (Fb instanceof
                                                    k) N ? ha = !0 : y += 1, Fa = void 0; else if (Fb instanceof m) N ? pa = ha = !0 : y += 1, Fa = void 0; else throw Fb;
                                            } try {
                                                if (ha && pa) { u(void 0 !== B, "expect max_buffer_kb !== undefined"); var Va = H ? Za.Ul - B : cb.Ul - B; u(0 <= Va, "pause dlnd kb cannot be -ve but is " + Va); try { var ab = cb.fVb(Va) } catch (Fb) { if (Fb instanceof w) throw new f; throw Fb; } La.G6a(ab); Wa += ab; u(cb.Ch < A, "expect cur_buffer_queue.total_remain_sec < max_buffer_sec"); Fa = I.nD(cb.Ch) } else if (ha && !pa) {
                                                    ab = H ? Za.Ch - A + 1E-8 : cb.Ch - A + 1E-8; u(0 <= ab, "pause dlnd kb cannot be -ve but is " +
                                                        ab); try { cb.a7a(ab) } catch (Fb) { if (Fb instanceof w) throw new f; throw Fb; } La.G6a(ab); Wa += ab; u(z <= cb.Ch, "expect min_buffer_sec <= cur_buffer_queue.total_remain_sec"); u(cb.Ch < A, "cur_buffer_queue.total_remain_sec < max_buffer_sec"); Fa = I.nD(cb.Ch)
                                                } else ab = 0
                                            } catch (Fb) { if (Fb instanceof f) Fa = void 0, O += 1, ab = void 0; else if (Fb instanceof t) continue; else throw Fb; } M = F.$qa([P + 1, Fa]) ? F.get([P + 1, Fa])[0] : -Infinity; this.Grb(cb, Fa, ua, aa, na, P + 1, M, F, ra, ca, La, Wa, Pa, ab) && (E = !1)
                                        }
                                    } if (E) { --P; break }
                                }
                            } catch (Fb) { var wb = { error: Fb } } finally {
                                try {
                                    U &&
                                        !U.done && (K = S.return) && K.call(S)
                                } finally { if (wb) throw wb.error; }
                            } try { var zb = this.nOa(P + 1, I.nD(D), F, G, I) } catch (Fb) { if (Fb instanceof d) try { zb = this.nOa(P + 1, I.nD(D), F, !G, I) } catch (Lb) { if (Lb instanceof d) { if (O > y) throw new h; throw new l; } throw Lb; } else throw Fb; } na = zb; for (z = []; -1 < P; P--)X = F.get([P + 1, na]), M = X[0], O = X[1], na = X[3], A = X[5], B = X[6], D = X[7], X = X[2], ua = x.lm[X][P], G = ua.Wz(), aa = ua.quality, z.unshift({ u0a: P, h7: X, info: { $ac: G, quality: aa, Jja: O.Ch, Ija: O.Ul, sWa: A, Sa: B, Uta: D } }); return z
                        }; g.prototype.nOa = function (x,
                            y, z, A, B) { var E = !1, D = B.O6()[0]; for (B = B.O6()[B.O6().length - 1]; ;) { if (y < D || y > B) { E = !0; break } if (z.$qa([x, y])) break; else y = A ? y - 1 : y + 1 } if (E) throw new d("backtrack fails to find a solution"); return y }; g.prototype.Grb = function (x, y, z, A, B, E, D, F, G, C, H, L, N, J) { z = G + A * z.Qm; return void 0 !== y && z > D ? (F.put([E, y], [z, x, C, B, H, L, N, J]), !0) : !1 }; g.prototype.Rnb = function (x, y, z, A) {
                                A = (y.Wz() + A) * y.Qm; z = z.MCb(A); A /= z; var B = x.Ch - z, E = x.Ch + y.Qm, D = x.Xt(); D.add(y, void 0); x = x.Xt(); x.add(y, void 0); try { x.a7a(z) } catch (F) {
                                    if (F instanceof w) throw new f;
                                    throw F;
                                } return [B, E, D, x, z, A]
                            }; d.prototype = Error(); h.prototype = new d; l.prototype = new d; n.prototype = { uya: function (x) { return x.join(",") }, put: function (x, y) { this.$la[this.uya(x)] = y }, get: function (x) { return this.$la[this.uya(x)] }, $qa: function (x) { return this.uya(x) in this.$la } }; r.exports = { chb: g, C6b: c, b6b: f, c6b: k }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.vLa = void 0; r = a(2); var c = r.__importStar(a(10)), f = a(17), k = a(17), m = r.__importDefault(a(6)), g = a(221), d = a(400); !1; a = function () {
                        function h(l,
                            n, q, p) { this.bb = l; this.I = n; this.pc = q; this.ji = p; !1 } h.prototype.Hs = function (l, n) {
                                var q = this, p; null === (p = this.UOa) || void 0 === p ? void 0 : p.cancel(); var u = this.bb.J, t = this.bb.X.Ue(); p = l; u.ti && this.ji.Im("seek: " + l + " manifestIndex: " + n + " current manifest: " + this.bb.He.P.Sb + " media.currentPts: " + t + " playerState: " + this.bb.X.getState()); c.la(n) && (n = this.bb.He.P.Sb); this.bb.Pa.k9a(); if (u = this.bb.wh(n)) {
                                    !u.P.mf.jX && 0 < n && (p = this.bb.AM(n, l)); this.bb.X.Ye(f.sa.nj); t = this.bb.He; if (n != t.P.Sb) {
                                        n < t.P.Sb && u.P.mf.replace &&
                                            (u.P.mf.replace = !1); var w = this.bb.Pa.$c; k.Cf.forEach(function (y) { (y = w.Rd(y)) && q.bb.aQa(y) }); if (!this.bb.QNa(n)) { this.jC = { Sb: n, kk: l }; this.bb.emit("seekDelayed"); return } if (this.Mr(d.oca.Gna(n), !1, !0)) return
                                    } t = this.bb.Pa.$c.pV(u.Ka || Infinity, u.P); if (t.length) {
                                        t = this.bb.Jr ? this.bb.Ym ? Math.min(t[0].Z, t[1].Z) : t[0].Z : t[1].Z; if (l > t) if (u.P.mf.Je) { if (!this.bb.m3(u.P.Sb + 1)) { this.jC = { Sb: u.P.Sb + 1, kk: l }; this.bb.emit("seekDelayed"); return } } else l = t, p = l + this.bb.Pa.Fe; this.bb.X.Ye(f.sa.Fh); this.bb.Cxa(); this.bb.Pa.V1b(l,
                                            n); if (t = this.bb.He.P.Sb === n && !this.Eob(n) && l === u.Z) k.Cf.forEach(function (y) { q.bb.iw[y].Pm(!0) }); else { this.bb.Mha(); var v = this.bb.Pa.$c.g4(l).VO; u.cta(); var x = this.bb.Pa.$c; k.Cf.forEach(function (y) { var z = x.Rd(y); q.pc(y) && q.zqb(z, v[y]) }); this.bb.lT() } if (this.bb.X.O1a()) return this.bb.emit("ptschanged", p), this.bb.emit("seek"), this.AT(n), l = t && this.bb.Db.vy() ? 100 : 0, this.bb.b3(1, l), this.bb.dk(), p; this.I.warn("after seeking, playerState no longer STARTING: " + this.bb.X.getState()); this.bb.emit("seekFailed")
                                    } else this.jC =
                                        { Sb: n, kk: l }, this.bb.emit("seekDelayed")
                                } else this.I.warn("seek, no manifest at manifestIndex:", n), this.bb.emit("seekFailed")
                            }; h.prototype.seek = function (l, n) { var q = l; c.la(n) && (n = this.bb.He.P.Sb); this.bb.Pa.k9a(); this.bb.wh(n).P.mf.jX || this.bb.yL || (q = this.bb.Wt(n, l)); return this.Hs(q, n) }; h.prototype.Mr = function (l, n, q) {
                                var p, u = this.bb.Pa.Mr(l, n); if (n) return u; u ? (this.bb.X.Ye(f.sa.nj), (l = this.bb.Pa.Ai.children[l]) && this.bb.emit("ptschanged", null !== (p = l.Ad) && void 0 !== p ? p : l.kqa), this.bb.X.Ye(f.sa.Fh), this.bb.emit("seek"),
                                    l && this.AT(l.P.Sb), this.bb.b3(1), this.bb.dk(), this.bb.Db.vy()) : q || (p = this.bb.Pa.lJb(l), this.Hs(p)); return u
                            }; h.prototype.Eob = function (l) { return !!this.bb.wh(l).HT }; h.prototype.AT = function (l) { var n = this; l = this.bb.wh(l); l.HT || (l.HT = !0, k.Cf.forEach(function (q) { n.bb.Pg[q].resume() }), this.bb.lT()) }; h.prototype.zqb = function (l, n) { var q = this, p, u = l.mediaType; l.dJ(n); l.JYb(); if (null === (p = this.bb.Gh) || void 0 === p ? 0 : p.qD()) this.bb.Gh.$A.forEach(function (t) { q.bb.pG(t, !1) }), this.bb.Gh = void 0; this.bb.YU.OPa(u, l.jb.P) };
                        h.prototype.Fga = function () { if (this.jC) { var l = this.jC.kk, n = this.jC.Sb; this.bb.wh(n) && (this.jC = void 0, this.Hs(l, n)) } }; h.prototype.eo = function (l) {
                            function n(u, t) { u !== q.bb.Pa.Ai && (u.ug ? n(u.ug, t) : q.I.error("skip: unexpected behaviour - a non-presenting branch doesn't have a previous branch")); (u = u.Rd(t)) && u.eo() } var q = this, p; null === (p = this.UOa) || void 0 === p ? void 0 : p.cancel(); this.bb.Cxa(); this.bb.Pa.Ai.eo(l); k.Cf.forEach(function (u) {
                                if (q.pc(u)) {
                                    var t = q.bb.Db.Of[u]; q.bb.Tr && (t.pxa = m.default.time.fa()); t.pQ ?
                                        t.Xb("skip: not resuming bufferManager, audio track switch in progress") : q.bb.Pg[u].resume(); n(q.bb.Pa.$c, u)
                                }
                            }); this.UOa = l = new g.GF(this.bb.kJ()); return l.yta(function () { q.bb.X.Ye(f.sa.Kc); q.bb.uT() }).cwa
                        }; h.prototype.Oi = function (l) { var n, q = this.bb.Pa.Ai, p = 0 < Object.keys(q.H && q.H.Gl || {}).length && !q.$k ? q.we - this.bb.J.RD : q.we; if (l < (null !== (n = q.Ad) && void 0 !== n ? n : q.kqa) || l >= p) return !1; n = this.bb.lu(l, 0, !0); l = this.bb.lu(l, 1, !0); return void 0 !== n && void 0 !== l && n.complete && l.complete }; return h
                    }(); b.vLa = a
                },
                function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wCa = void 0; r = a(2); var c = r.__importStar(a(10)), f = a(17), k = r.__importDefault(a(6)); !1; a = function () {
                        function m(g, d, h) { this.Va = g; this.I = d; this.pc = h; !1; this.KNa = this.MF = void 0 } m.prototype.Z1 = function () { this.MF && (clearTimeout(this.MF), this.MF = void 0) }; m.prototype.fOa = function () {
                            if (!this.Va.Zi.Yha && !this.Va.nn()) {
                                void 0 === this.Va.Dnb && (this.Va.Dnb = !0, this.Va.Hb.dm("firstDriveStreaming")); var g = this.Va.Pa, d = g.$c.Rd(0), h = g.$c.Rd(1), l = !h ||
                                    h.bi; (!d || d.bi) && l && this.Va.yL && g.pxb(h ? h.Lc : d.Lc); h = !h || h.kr; d && !d.kr || !h || this.Va.yL || (this.Va.tc.If && this.Va.tc.If.Wp(!0, this.Va.am.sessionId), this.Va.Hb.v5a()); this.cOa(g.$c); this.Brb()
                            }
                        }; m.prototype.jQa = function () { return this.Va.nn() || this.Va.X.Q1a() || this.Va.X.P1a() ? !0 : !1 }; m.prototype.d2 = function (g) { return this.jQa() || this.Va.Db.Of[g.mediaType].pQ || this.Va.ry.Wy ? !1 : !0 }; m.prototype.dk = function () {
                            var g = this, d = this.Va.J; !this.Va.BPa || this.Va.T2 || this.Va.f3 || (this.Va.T2 = setTimeout(function () {
                                clearTimeout(g.Va.T2);
                                g.Va.T2 = void 0; g.fOa()
                            }, d.hua), d.VM && this.Va.Ym && (this.MF || (this.MF = setTimeout(function () { clearTimeout(g.MF); g.MF = void 0; var h = g.Va.Pa.$c.Rd(1); h && g.xNa(h) }, d.esb))))
                        }; m.prototype.xNa = function (g, d) { var h = g.mediaType, l = this.Va.Db.fx[h].UH, n = g.Qf.PW; if (l && n) { var q = this.Va.Db.Of[h].Lf; q && (this.Va.X.qg() || this.Va.zg.dsb(h, q, l.bitrate, n.bitrate, g.VKb.bitrate, d)) } }; m.prototype.cOa = function (g, d) {
                            var h = g.H, l = g.Rd(1), n = g.Rd(0), q = !n || n.bi, p = !l || l.bi; h.Eq || this.Va.Pa.o9(g, h, g.P.mf.Je && 0 === g.P.Sb); if (!p || !q) if (this.Va.Ym &&
                                this.dOa(g, l, n), this.Va.Jr && this.dOa(g, n, l), q = !n || n.bi, p = !l || l.bi, !p || !q) return; this.Va.X.qg() && (this.I.warn("Still in buffering state while pipeline's are done"), this.Va.Db.vy()); d || h.uv || g.P.mf.Je || !this.xwb(g) || ((d = this.Va.X.qg()) && this.Va.J.Fla && (this.Va.Tha(), d = !1), g.T5 || this.Va.Pa.ZKb(g, d), g.eM(), g.ywb() && (d = Object.keys(g.children), this.Va.J.j5 && 1 === d.length && !g.children[d[0]].active && this.Va.Pa.l3a(g, d[0]), this.Hnb(g, h)))
                        }; m.prototype.Hnb = function (g, d) {
                            var h = this.Va.J; if (this.Va.tc.Tpa && g.bL &&
                                g.iga) { var l = g.bL.Om; if (Math.min(l[0] - g.iga[0], l[1] - g.iga[1]) >= h.Nwb) g.bL = void 0; else var n = g.bL, q = d.Gl[n.H.id].weight } if (!n) {
                                    var p = [], u = []; c.sf(g.children, function (v, x) { x = d.Gl[x].weight; 0 !== x && (x = { weight: x, jb: v }, v.nka(!0, !0) || u.push(x), p.push(x)) }); 0 === u.length ? u = p : 2 < u.length && (u.sort(function (v, x) { return x.weight - v.weight }), u.length = 2); if (1 < u.length) {
                                        n = u.reduce(function (v, x) { x.Om = x.jb.Om; x.O8 = Math.min(x.Om[0], x.Om[1]); return [v[0] + x.weight, v[1] + x.O8] }, [0, 0]); var t = n[0], w = n[1]; 0 !== t && 0 !== w ? (c.sf(u,
                                            function (v) { v.A5b = v.weight / t; v.bvb = v.O8 / w; v.usage = v.bvb - v.A5b }), u.sort(function (v, x) { return v.usage - x.usage })) : u.sort(function (v, x) { v = Math.min.apply(null, v.jb.Om); x = Math.min.apply(null, x.jb.Om); return v - x })
                                    } if (0 === u.length) { this.I.warn("No subbranch candidates to drive"); return } n = u[0].jb; q = u[0].weight; g.bL = n; g.iga = n.Om
                                } n.ve || (n.ve = { q7: k.default.time.fa(), ZA: 0 }); n.ve.weight = q; this.cOa(n, !0)
                        }; m.prototype.dOa = function (g, d, h) {
                            var l = this.Va.J, n = d.mediaType; if (!d.bi) {
                                var q = this.Va.Db.Of[n], p = this.Va.Db.lB[n],
                                    u = this.Va.Db.fx[n]; if (q.Lf && (void 0 === d.yI || (d.dJ(d.yI, d.LUb), void 0 === d.yI))) {
                                        var t = this.Va.He; c.la(t.pI) || (l.jE && 0 === n && c.la(this.Va.Db.Of[1].Co) ? d.Xb("drivePipeline, delaying audio until video actualStartPts determined") : (c.la(d.Tn) && (d.Tn = d.se ? d.se.index : d.Yma(d.Bc)), d.Jf && d.Tn > d.Jf.index ? g.P.mf.Je && c.la(t.Ka) && c.la(g.Lc) || (d.bi || this.Va.aQa(d), g = this.Va.He.P.Sb, g < this.Va.tN() - 1 && this.Va.m3(g + 1)) : this.d2(d) && (l.NDb && !this.Va.X.qg() && 0 >= d.aI ? d.X3b(l.FQb) : this.gnb(d, h) ? (d.hOb = k.default.time.fa(),
                                            h = this.Va.Db.Yoa(d), l = h.Pf, c.la(l) || (l = d.track.ce[l], this.fnb(d, l) || ((n = l.t6()) ? (d.bOb = l.bitrate, d.EPb(l, n, this.Va.X.qg(), q.Lf, h.Su), this.h4b(l, u, p), g.ve && ++g.ve.ZA) : l.DE()))) : this.Va.X.qg() && (d.sn("Still in buffering state while pipeline does not have vacancy"), this.Va.Db.vy()))))
                                    }
                            }
                        }; m.prototype.h4b = function (g, d, h) { d.lra = g.Pc; c.Ea(h.Nw) || (h.e4b(g.Js, g.fA || -1, g.bitrate), c.la(g.zwa) || this.Va.zg.p$a(g.zwa, g.Qo, g.Ro)); g.url && (d.sra = g.url) }; m.prototype.fnb = function (g, d) {
                            var h = this.Va.Db.fx[g.mediaType];
                            return this.Va.BPa && d.Pc && h.lra && d.Pc !== h.lra && (0 < g.Ua.WD || 0 < g.Ua.Us) ? !0 : !1
                        }; m.prototype.gnb = function (g, d) {
                            var h, l = this.Va.J, n = g.mediaType, q = g.f8, p = this.Va.X.Ue(), u = this.Va.X.getState(), t = this.Va.Pa.yw(q, n), w = g.Bc + q.Fe - p; 0 > w && (g.Xb("negative scheduledBufferLevel:", w, "floored to 0"), w = 0); var v = d ? d.Bc : 0; if (null === (h = g.dh) || void 0 === h ? 0 : h.yKb()) return !1; p = g.Ua.Rta; if (p >= l.v8) return !1; h = this.Va.He.P; var x = this.Va.X.Uo(h); if (u === f.sa.Kc && t > l.esa && !h.mf.Je && !x && !h.iX || t && p > Math.max(t * l.isa / 100, l.eRb)) return !1;
                            u = this.Va.Pa.CG(q, n); x = 0; if (d && (x = this.Va.Pa.CG(q, d.mediaType), v = g.Bc - v, this.pc(d.mediaType) && !d.bi && v >= l.nsa && w > l.yj)) { if (this.Va.tc.Uqa) return !1; w = void 0; d && (w = d.mediaType, v = k.default.Mo()[w], w = l.w4b ? this.Va.Pa.m3a(q, w).eh / v : x / v); if (void 0 === w || w < l.XPb) return !1 } if (this.iob(n) >= l.W3a) return !1; w = this.Va.Pa.T2b(); if (!c.la(l.bx) && w >= l.bx || g.uM + p >= Math.max(l.xA, this.Va.tc.iB + l.kta * q.P.aQb[n])) return !1; if (q = this.Va.X.qg()) if (p = 1, g.Lja < l.yA && (p = l.yA), g.Ua.WD >= p) return !1; return 0 < l.Lu && !q && u + (d ? x : 0) > l.Lu ||
                                void 0 !== this.KNa && t > this.KNa || 1 === n && h.mf.Je && t > l.s8 && (d = this.Va.tc.Vb.get(), d.confidence && d.Sa && d.Sa.Ha * g.uM > l.gsa) ? !1 : !0
                        }; m.prototype.iob = function (g) { return this.Va.Pa.Ib.reduce(function (d, h) { return d + h.eJb(g) }, 0) }; m.prototype.xwb = function (g) { var d = this, h = this.Va.Pa, l = !0; c.sf(g.H.Gl, function (n, q) { if (n = h.kf(q)) { q = n.P; n = q.yh[0]; var p = q.yh[1]; n && p && n.stream.te && p.stream.te || (l = !1); d.Va.X.Uo(q) || (l = !1) } else g.Xb("invalid segment:", q, "in dests:", g.H.Gl) }); return l }; m.prototype.Brb = function () {
                            var g =
                                this.Va.J, d = this.Va.Pa, h = d.$c; this.Va.X.qg() || d.yw(h, 1) < g.qX || h.P.qya()
                        }; return m
                    }(); b.wCa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.UFa = void 0; var c = a(168), f = a(17), k = a(17), m = a(9); !1; r = function () {
                        function g(d, h, l, n) { this.dc = d; this.I = h; this.pc = l; this.bG = n; this.yPa = this.Yha = !1; !1 } g.prototype.play = function () {
                            var d = this; this.nn() ? this.I.warn("play called after pipelines already shutdown") : (this.dc.X.Ye(f.sa.Kc), this.dc.krb(), this.dc.Db.Of.forEach(function (h) {
                                d.pc(h.mediaType) &&
                                    (h.pQ ? h.Xb("play: not resuming bufferManager, audio track switch in progress") : (d.dc.Pg[h.mediaType].resume(), d.dc.iw[h.mediaType].resume()))
                            }), this.dc.uT(), this.dc.emit("play"))
                        }; g.prototype.stop = function () { var d = this, h = this.dc.X.Q1a(), l = this.dc.X.P1a(); this.dc.X.Ye(f.sa.wr); this.dc.Z1(); h || l || this.dc.Pa.Ai.tE(!1, this.dc.X); var n = this.dc.Pa.$c; k.Cf.forEach(function (q) { if (q = n.Rd(q)) q.bi = !1 }); k.Cf.forEach(function (q) { (q = d.dc.Pg[q]) && q.pause() }); this.dc.emit("stop") }; g.prototype.suspend = function () {
                            this.Yha =
                                !0
                        }; g.prototype.resume = function () { this.Yha = !1; this.dc.og.dk() }; g.prototype.close = function () { var d = this.dc.J; this.yPa = !0; this.stop(); this.dc.emit("close"); d.KWa && (d = c.Tx.instance().Bb()) && (d = { type: "logdata", target: "endplay", fields: { bridgestat: d } }, m.Za(this.dc, d.type, d)); this.dc.tc.If && this.dc.tc.If.Wp(!0, this.dc.am.sessionId, !0); this.dc.Hb.v5a(); this.dc.K8a() }; g.prototype.flush = function () {
                            var d, h = this.dc.J, l = this.dc.tc.Vb; if (l) {
                                var n = {}, q = l.get(), p = {}; q && q.avtp && q.avtp.Ha && (n.avtp = q.avtp.Ha, n.dltm =
                                    q.avtp.XC, p.avtp = n.avtp); q && q.cdnavtp && (n.cdnavtp = q.cdnavtp, n.activecdnavtp = q.activecdnavtp); l.flush(); var u = l.gZa(), t = l.FQa; if (u) for (var w in u) u.hasOwnProperty(w) && (n["ne" + w] = Number(u[w]).toFixed(6), p["ne" + w] = 1 * n["ne" + w]); t && t.length && (n.activeRequests = JSON.stringify(t)); n.aseApiVersion = this.dc.uG; h.IWa && (u = l.C6()) && (u.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo = u.bytesRequestedPacingVideo, n.estimatedBytesPacedVideo = u.estimatedBytesPacedVideo, n.bytestotalVideo = u.bytestotalVideo, n.pacedAvtpVideo =
                                        u.pacedAvtpVideo), u.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio = u.bytesRequestedPacingAudio, n.estimatedBytesPacedAudio = u.estimatedBytesPacedAudio, n.bytestotalAudio = u.bytestotalAudio, n.pacedAvtpAudio = u.pacedAvtpAudio), u.pacedAvtp && (n.pacedAvtp = u.pacedAvtp)); h.n5 && (l = l.u6()) && (n.initial_avtp = l.IH, n.initial_dltime = l.XC, n.initial_responses_audio = l.X0a, n.initial_responses_video = l.Y0a, n.initial_tput_samples = l.zO, n.initial_1sec_tput_samples = l.xO); Object.keys(n).length && (n = {
                                            type: "logdata", target: "endplay",
                                            fields: n
                                        }, m.Za(this.dc, n.type, n)); h.hV && (q && q["throughput-sw"] && q["throughput-sw"].Ha && this.dc.qv.tsb({ avtp: q["throughput-sw"].Ha, variance: q["throughput-sw"].ij }), this.dc.qv.nsb(p, null === (d = q.avtp) || void 0 === d ? void 0 : d.XC), d = this.dc.qv.fHb(), h = this.dc.qv.oJb(), d && (d.n = h, d = { type: "logdata", target: "endplay", fields: { ibef: d } }, m.Za(this.dc, d.type, d), this.dc.qv.save()))
                            } this.dc.Hb.oPa(); if (this.bG.Tr) try { this.dc.y5(f.sa.wr) } catch (v) { this.dc.Hb.Un("Hindsight: Error evaluating QoE at stopping: " + v) }
                        }; g.prototype.nn =
                            function () { return this.yPa || this.dc.Pa.pk }; return g
                    }(); b.UFa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.SHa = void 0; r = a(2); var c = r.__importStar(a(10)), f = a(141), k = r.__importDefault(a(27)).default.Wa, m = r.__importDefault(a(6)), g = a(9), d = a(5); !1; a = function () {
                        function h(l, n) { this.ib = l; this.I = n; !1 } h.prototype.dm = function (l) { l = { type: "startEvent", event: l, time: m.default.time.fa() }; g.Za(this.ib, l.type, l) }; h.prototype.Jpb = function () {
                            var l = { type: "openComplete" }; g.Za(this.ib, l.type,
                                l)
                        }; h.prototype.Kpb = function (l, n, q, p, u) { this.ib.J.lCb || (l = { type: "ptsStarts", manifestIndex: l, mediaType: n, movieId: p, streamId: q, ptsStarts: u.uab() }, g.Za(this.ib, l.type, l)) }; h.prototype.Apb = function (l, n) { l = { type: "headerCacheHit", movieId: l, streamId: n }; g.Za(this.ib, l.type, l) }; h.prototype.zpb = function (l, n, q, p, u) {
                            var t = this.ib.FOa; this.ib.FOa = void 0; l = { type: "headerCacheDataHit", movieId: l, audio: n, audioFromMediaCache: p, video: q, videoFromMediaCache: u, actualStartPts: t && t.Co, headerCount: t && t.IN, stats: t && t.jc }; g.Za(this.ib,
                                l.type, l)
                        }; h.prototype.Hpb = function (l, n, q, p) { l = { type: "maxPosition", index: l, endPts: n, maxPts: q, maxSeekPts: p }; g.Za(this.ib, l.type, l) }; h.prototype.Qpb = function (l, n, q, p, u, t, w) { void 0 === w && (w = !1); l = { type: "error", error: l, errormsg: n, networkErrorCode: q, httpCode: p, nativeCode: u, manifestIndex: t, temporaryFailure: w }; this.I.error("notifyStreamingError: " + JSON.stringify(l)); g.Za(this.ib, l.type, l) }; h.prototype.K2 = function (l, n) {
                            n = { type: "segmentStarting", segmentId: l.id, contentOffset: n, maxBitrates: { audio: l.P.cx[0], video: l.P.cx[1] } };
                            l.dE || g.Za(this.ib, n.type, n)
                        }; h.prototype.sha = function (l) { var n = { type: "segmentAborted", segmentId: l.id }; l.dE || g.Za(this.ib, n.type, n) }; h.prototype.job = function (l, n) {
                            var q = { segment: l, srcsegment: n.raa, srcoffset: n.MP, seamlessRequested: n.Xe, atRequest: {}, discard: {} }, p = n.ve[l]; p ? q.atRequest = { weight: p.weight, abuflmsec: p.Lr.Hr, vbuflmsec: p.Lr.jo, abuflbytes: p.Lr.yC, vbuflbytes: p.Lr.Xs } : (p = this.ib.Pa.i_a(n.raa, l), void 0 !== p && (q.atRequest.weight = p)); c.sf(n.ve, function (u, t) {
                                t != l && (q.discard[t] = {
                                    weight: u.weight, abuflmsec: u.Lr.Hr,
                                    vbuflmsec: u.Lr.jo, abuflbytes: u.Lr.yC, vbuflbytes: u.Lr.Xs
                                })
                            }); p = n.Xe ? n.oW ? "seamless" : "long" : n.V4a ? "long" : n.eo ? "skip" : "reset"; q.transitionType = p; n.Rla || (q.delayToTransition = n.X4); p = "seamless" === p ? 0 : m.default.time.fa() - n.startTime; q.durationOfTransition = p; q.atTransition = n.Sbb; q.srcsegmentduration = this.ib.Pa.kJb(n.raa); return q
                        }; h.prototype.Npb = function (l, n, q) {
                            q = q ? this.job(l.id, q) : void 0; l = { type: "segmentPresenting", segmentId: l.id, contentOffset: n, metrics: q, playlistSegment: l.dE, manifestIndex: l.P.Sb }; g.Za(this.ib,
                                l.type, l)
                        }; h.prototype.Lpb = function (l, n) { n = { type: "segmentAppended", segmentId: l.id, metrics: n }; l.dE || g.Za(this.ib, n.type, n) }; h.prototype.Mpb = function (l, n, q) { l = { type: "segmentComplete", mediaType: l, manifestIndex: n, segmentId: q.id }; g.Za(this.ib, l.type, l) }; h.prototype.rha = function (l, n) { n = { type: "lastSegmentPts", segmentId: l.id, pts: Math.floor(n) }; l.dE || g.Za(this.ib, n.type, n) }; h.prototype.Fpb = function (l, n, q, p, u) {
                            l = { type: "manifestRange", index: l, manifestOffset: n, startPts: Math.floor(q), endPts: Math.floor(p), maxPts: Math.floor(u) };
                            g.Za(this.ib, l.type, l)
                        }; h.prototype.rPa = function (l) { l = { type: "maxBitrates", audio: l[0], video: l[1] }; g.Za(this.ib, l.type, l) }; h.prototype.Gpb = function (l, n) { var q = this.ib.J; l = { type: "manifestSelected", index: l, replace: n.P.mf.replace, ptsStarts: n.VO, streamingOffset: n.Z + n.$w }; q.ti && (n = "notifyManifestSelected: " + JSON.stringify(l), q.ti && this.Im(n)); g.Za(this.ib, l.type, l) }; h.prototype.Epb = function (l, n, q, p, u) {
                            l = { type: "manifestPresenting", index: l.Sb, pts: Math.floor(n), movieId: l.K, replace: l.mf.replace, contentOffset: q };
                            null != p && null != u && (l.previousMovieId = p, l.previousIndex = u); g.Za(this.ib, l.type, l)
                        }; h.prototype.Opb = function (l, n, q, p) { var u = l.mediaType; f.Zm.rq(u); l = { type: "streamPresenting", startPts: Math.floor(n), contentStartPts: Math.floor(q), mediaType: u, manifestIndex: p, trackIndex: l.track.xC, streamIndex: l.Pf }; g.Za(this.ib, l.type, l) }; h.prototype.Tpb = function (l) { l = { type: "videoLooped", offset: l }; g.Za(this.ib, l.type, l) }; h.prototype.Rpb = function (l, n, q, p, u) {
                            n = {
                                type: "updateStreamingPts", mediaType: l, manifestIndex: n, trackIndex: q,
                                movieTime: Math.floor(p), segmentId: u
                            }; f.Zm.rq(l); g.Za(this.ib, n.type, n)
                        }; h.prototype.ypb = function (l) { l = { type: "firstRequestAppended", manifestIndex: l.Ua.jb.P.Sb, mediatype: l.mediaType, time: m.default.time.fa() }; g.Za(this.ib, l.type, l) }; h.prototype.Cpb = function (l, n) { l = { type: "initialAudioTrack", trackId: n, trackIndex: l }; g.Za(this.ib, l.type, l) }; h.prototype.tpb = function (l, n) {
                            l = l.Ju; n = n.Ju; n = {
                                type: "audioTrackSwitchStarted", oldLangCode: l.language, oldNumChannels: l.channels, newLangCode: n.language, newNumChannels: n.channels,
                                sourceBufferReset: void 0
                            }; g.Za(this.ib, n.type, n)
                        }; h.prototype.spb = function (l, n) { var q = this; setTimeout(function () { var p = { type: "audioTrackSwitchComplete", trackId: l, trackIndex: n }; g.Za(q.ib, p.type, p) }, 0) }; h.prototype.wpb = function (l) { var n = { type: "bufferingStarted", time: m.default.time.fa(), percentage: l || 0 }; g.Za(this.ib, n.type, n); this.eha = l || 0 }; h.prototype.upb = function () {
                            var l = this.ib.J, n = m.default.time.fa(), q = this.ib.Pa.$c, p = this.ib.Ym ? 1 : 0, u = q.mb(p); q = q.Mh(p); l = Math.min(Math.max(Math.round(100 * (u.JD ? (n -
                                this.ib.bga) / l.OA : u.progress ? u.progress : q / l.yj)), this.eha), 99); l != this.eha && (n = { type: "buffering", time: n, percentage: l }, g.Za(this.ib, n.type, n), this.eha = l)
                        }; h.prototype.qha = function () {
                            var l = this.ib.Pa.$c, n = l.mb(0), q = l.mb(1); this.pPa(); var p = this.ib.Ym ? this.ib.Db.lB[k.Pb] : this.ib.Db.lB[k.$b], u = p.fU; l = { type: "bufferingComplete", time: m.default.time.fa(), actualStartPts: u, aBufferLevelMs: l.Mh(0), vBufferLevelMs: l.Mh(1), selector: q ? q.xP : n.xP, initBitrate: p.Nw, skipbackBufferSizeBytes: this.ib.tc.rE }; this.ib.zg.UEb({
                                initSelReason: p.gA,
                                initSelectionPredictedDelay: p.fA, buffCompleteReason: p.Rt, hashindsight: this.ib.Tr, hasasereport: !!this.ib.Ds, bcVBufferLevelMs: l.vBufferLevelMs, bcABufferLevelMs: l.aBufferLevelMs
                            }); g.Za(this.ib, l.type, l)
                        }; h.prototype.pPa = function () {
                            var l = this.ib.J; if (!this.ib.nn()) {
                                var n = this.ib.Pa.$c, q = n.Mh(0), p = n.Mh(1); this.ib.zg.gsb(q, p); var u = this.ib.tc.Vb.get(); u = u.confidence ? u.Sa.Ha : 0; var t = this.ib.Pa, w = t.CG(n, 0); n = t.CG(n, 1); q = {
                                    type: "updateBufferLevel", abuflbytes: w, vbuflbytes: n, totalabuflmsecs: q, totalvbuflmsecs: p,
                                    currentBandwidth: u
                                }; p > l.y4a && this.ib.tc.If && this.ib.tc.If.Wp(!0, this.ib.am.sessionId); g.Za(this.ib, q.type, q)
                            }
                        }; h.prototype.Qob = function (l) {
                            if (!c.la(l)) {
                                c.Ea(l.FZ); if (!c.la(this.AL)) {
                                    var n = l.vXa - this.AL.vXa, q = l.h0a - this.AL.h0a, p = l.b6a - this.AL.b6a; (4194304 < n || 4194304 < p) && this.I.warn("memoryUsage at time: " + m.default.time.fa() + ", fastMallocDelta: " + n + ", jsHeapDelta: " + q + ", osAllocatorDelta: " + p); c.Ea(l.FZ) && c.Ea(this.AL.FZ) && (n = l.FZ - this.AL.FZ, 4194304 < n && this.I.warn("memoryUsage at time: " + m.default.time.fa(),
                                        ", systemDelta: " + n))
                                } this.AL = l
                            }
                        }; h.prototype.Spb = function () { this.ib.J.fPb && m.default.memory.OHb(this.Qob.bind(this)); var l = { type: "streamingstat", time: m.default.time.fa(), playbackTime: this.ib.X.Ue() }; this.ib.zg.VEb(l); g.Za(this.ib, l.type, l) }; h.prototype.oPa = function () { if (this.ib.Ds) { var l = { type: "asereport" }; this.ib.Ds.TEb(l) && g.Za(this.ib, l.type, l) } }; h.prototype.rpb = function () { var l = { type: "asereportenabled" }; g.Za(this.ib, l.type, l) }; h.prototype.Bpb = function (l) {
                            if (l) {
                                var n = { type: "hindsightreport" },
                                    q = this.ib.J.b7; for (J in q) {
                                        var p = q[J], u = 0, t = 0, w = 0, v = 0, x = 0, y = 0, z = void 0, A = void 0, B = !1, E = -1, D = -1, F = -1, G = -1, C = -1, H = -1, L; for (L in l) A = l[L], void 0 === A.nd && (z = (z = A.sols) && z[p]) && (B = !0, w += z.dlvdur, u += z.dltwbr * z.dlvdur, t += z.dlvmaf * z.dlvdur), y += A.pbdur, v += A.pbtwbr * A.pbdur, x += A.pbvmaf * A.pbdur, z = A.rr, A = A.ra; 0 < y && (E = 1 * v / y, G = 1 * x / y); B && (0 < w && (D = 1 * u / w, C = 1 * t / w), 0 < w + y && (F = 1 * (u + v) / (w + y), H = 1 * (t + x) / (w + y))); switch (p) {
                                            case "htwbr": n.htwbr = F; n.hptwbr = D; n.pbtwbr = E; z && (n.rr = z, n.ra = A); break; case "hvmaftb": n.hvmaftb = H; n.hpvmaftb =
                                                C; n.pbvmaftb = G; z && (n.rrvmaftb = z, n.ravmaftb = A); break; case "hvmafgr": n.hvmafgr = H; n.hpvmafgr = C; n.pbvmafgr = G; z && (n.rrvmafgr = z, n.ravmafgr = A); break; case "hvmafdp": n.hvmafdp = H, n.hpvmafdp = C, n.pbvmafdp = G, z && (n.rrvmafdp = z, n.ravmafdp = A)
                                        }
                                    } if (this.ib.eV || this.ib.Ax) n.report = l; if (this.ib.Ax) for (var N in l) if (q = l[N], void 0 !== q.iab) for (p in q.iab) if (z = q.iab[p], void 0 !== z.Aaa) {
                                        var J = void 0 !== q.gYa; J || (console.error("expect report.fragmentsPrebuffered !== undefined"), d.assert(J, "expect report.fragmentsPrebuffered !== undefined"));
                                        J = []; for (var Q in q.gYa) u = q.gYa[Q], J.push({ ea: u.ea, Qm: u.duration / 1E3, quality: u.zb }); J = z.Aaa.length === z.hYa.length; u = "expect sol.strmsel.length === sol.fragsel.length but got " + z.Aaa.length + " and " + z.hYa.length; J || (console.error(u), d.assert(J, u)); J = []; u = 0; for (var K in z.Aaa) w = z.Aaa[K], t = z.hYa[K], u = w = u + w, J.push({ $ec: w, zfc: z.sWa[K], Lbc: z.Sa[K], Jja: z.Jja[K], Ija: z.Ija[K], HSa: z.HSa[K], nbc: { ea: t.ea, Qm: t.duration / 1E3, quality: t.zb ? t.zb : z.ce[w].zb, efc: t.Pf, obc: t.Qe }, l8a: 0, Gec: 0, Uta: z.Uta[K] }); z = []; J = 0; for (var I in q.pB.trace) u =
                                            q.pB.trace[I], J = u = J + u, z.push(u)
                                    } g.Za(this.ib, n.type, n)
                            }
                        }; h.prototype.xpb = function (l) { l = { type: "endOfStream", mediaType: l }; g.Za(this.ib, l.type, l) }; h.prototype.Un = function (l) { this.ib.emit("aseexception", { type: "aseexception", msg: l }) }; h.prototype.hSb = function (l, n, q, p) { l = { type: "maxvideobitratechanged", time: m.default.time.fa(), spts: p, maxvb_old: l, maxvb: n, reason: q }; this.ib.emit("maxvideobitratechanged", l) }; h.prototype.v5a = function () {
                            if (!this.trb && this.ib.J.s5a) {
                                this.trb = !0; var l = { type: "streamerend", time: m.default.time.fa() };
                                g.Za(this.ib, l.type, l)
                            }
                        }; h.prototype.oSb = function (l) { l = { type: "streamSelectionAugmentData", augmentData: l, fragmentIndex: l[0].Cd }; g.Za(this.ib, l.type, l) }; h.prototype.Im = function (l) { l = { type: "managerdebugevent", message: "@" + m.default.time.fa() + ", " + l }; g.Za(this.ib, l.type, l) }; return h
                    }(); b.SHa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.lEa = void 0; var c = a(2); r = a(19); var f = c.__importStar(a(10)); a(5); a(227); var k = a(246), m = a(383), g = a(84); a(374); a(389); var d = a(125), h = c.__importDefault(a(27));
                    a(241); var l = a(881), n = c.__importDefault(a(124)); a(17); var q = c.__importDefault(a(6)); a(175); a(249); a(173); a(100); var p = new q.default.Console("HEADERCACHE", "media|asejs"); a = new q.default.Console("MEDIACACHE", "media|asejs"); var u = q.default.bK, t = p.trace.bind(p); a.trace.bind(a); var w = p.warn.bind(p), v = p.error.bind(p), x = p.info.bind(p); !1; a = function (y) {
                        function z(A, B, E, D) {
                            A = y.call(this) || this; A.sn = t; A.Sk = v; A.Xb = w; A.yac = x; A.z2 = Object.create(null); A.wo = B; A.gg = Object.create(null); A.NF = 0; A.zo = []; A.aPa = B.T4; A.lw =
                                []; A.m2 = !1; A.hL = []; A.gG = {}; A.fia = (A.wo.Uya || A.wo.Vya) && 0 < (A.wo.TU || (q.default.options || {}).jO || 0); A.UF = A.wo.qsa; A.$j = void 0; A.fia && (A.wo.TU || (B = (q.default.options || {}).jO || 0, A.wo.set ? A.wo.set({ TU: B }) : A.wo.TU = (q.default.options || {}).jO || 0), A.$j = new l.$Ga(A.wo, q.default, A), A.$j.Ab(A, D).then(function () { t("Media cache initialized") }).catch(function (F) { v("Media cache did not initialize", F) })); A.am = E; !1; return A
                        } c.__extends(z, y); Object.defineProperties(z.prototype, {
                            cache: {
                                get: function () { return this.gg },
                                enumerable: !1, configurable: !0
                            }
                        }); z.prototype.YBb = function () { this.flush(); this.$Na() }; z.prototype.gba = function (A) { this.am = A; this.lw.forEach(function () { }) }; z.prototype.Wp = function (A, B, E) { var D = this.gG, F = A; if (D[B] = A) for (var G in D) D.hasOwnProperty(G) && !1 === D[G] && (F = !1); E && delete D[B]; F ? (this.m2 = !1, this.Sob()) : this.m2 = !0 }; z.prototype.flush = function () {
                            this.UXa(); for (var A in this.z2) { var B = this.z2[A]; B.abort() } this.gg = Object.create(null); this.NF = 0; this.zo = []; this.wo.ti && (B = "@" + q.default.time.fa() + ", headerCache flush: ",
                                this.emit("managerdebugevent", { message: B }))
                        }; z.prototype.list = function () { return this.zo }; z.prototype.aX = function (A, B) { if (A = this.gg[A]) if (B = A.headers[B]) return B }; z.prototype.qPb = function (A, B) { var E = this, D = this.pPb(A); return D || !this.$j ? Promise.resolve(D) : (this.UF ? this.Nob(A, B) : this.Mob(A, B)).then(function (F) { return E.J7a(F) }) }; z.prototype.pPb = function (A) { return this.J7a(this.gg[A]) }; z.prototype.UXa = function () {
                            function A(C) { C.wTa() } function B(C, H) {
                                C && C.data && C.data[H].forEach(function (L) {
                                    L.abort();
                                    E += L.bytesReceived
                                })
                            } var E = 0, D; for (D in this.gg) { var F = this.gg[D]; if (F.data) { for (var G in F.data) F.headers[G] || v("missing headerEntry for streamId:", G, "in entry:", F), B(F, G), F.data[G].forEach(A), delete F.data[G]; delete F.data } } this.Oqb(E)
                        }; z.prototype.KA = function (A) { var B = this.gg[A.K]; B && (this.gd(A) ? f.la(B.jc.QKb) && !f.la(A.loadTime) && (B.jc.QKb = A.loadTime) : f.la(B.jc.t7a) && !f.la(A.loadTime) && (B.jc.t7a = A.loadTime)) }; z.prototype.Ak = function (A) { this.gd(A) ? this.QTb(A) : this.RTb(A) }; z.prototype.SX = function (A) {
                            w("_onError: ",
                                A.toString()); this.a2(A)
                        }; z.prototype.QTb = function (A) { var B = this; A.y2b = A.uf; this.Cmb(A); f.la(A.MKb) || A.MKb(A.y2b); this.Sqb(A, function () { f.la(A) || (f.la(A.Hm) || A.Hm.f0a--, B.a2(A)) }) }; z.prototype.RTb = function (A) {
                            var B = this, E = A.K, D = this.gg[E] || A.Hm; if (D) if (this.wo.ti && (E = "@" + q.default.time.fa() + ", headerCache dataComplete: movieId: " + E + ", streamId: " + A.Ta + ", pts: " + A.Z + ", remaining: " + (D.EU - 1), this.emit("managerdebugevent", { message: E })), A.Xh && 0 === A.responseType && this.$j && !this.UF) {
                                var F = q.default.time.now();
                                this.$j.mZb(A, D, function (G) { G || f.la(D) || (G = q.default.time.fa() - F, f.la(D.jc) && (D.jc = {}), f.la(D.jc.Rs) && (D.jc.Rs = 0), D.jc.Rs += G); --D.EU; B.a2(A) })
                            } else --D.EU, B.a2(A)
                        }; z.prototype.VNa = function () { 0 === this.lw.length && (this.lw = [d.wp.instance.$t(0, void 0, !1, !1, this.am, this.wo), d.wp.instance.$t(1, void 0, !1, !1, this.am, this.wo)], this.lw.forEach(function (A) { return A.Ab() }), u.Vf()) }; z.prototype.$Na = function () { var A = this.lw; this.lw = []; A.forEach(function (B) { d.wp.instance.JM(B) }) }; z.prototype.Sob = function () {
                            var A =
                                this; !this.m2 && 0 < this.hL.length && (this.hL.forEach(function (B) { A.Jha(B.PKb, B.Ud) }), this.hL = [])
                        }; z.prototype.TNa = function (A, B) { var E = A.stream.mediaType; 2 > this.lw.length && this.VNa(); B = new m.aca(A.stream, B, this.lw[E], A, this, !0, p); B.Xh = A.Xh; B.If = this; return B }; z.prototype.onb = function (A, B) { var E = A.stream.mediaType; 2 > this.lw.length && this.VNa(); B = k.F_.create(A.stream, B, this.lw[E].track, A, this, !0, p); B.Xh = A.Xh; B.If = this; return B }; z.prototype.a2 = function (A) {
                            this.gd(A) && delete this.z2[A.Ta]; this.gd(A) || delete A.response;
                            A.md(); var B = this.gg[A.K] || A.Hm; B && 0 === B.f0a && 0 === B.EU && (this.erb(B, A.uf), B.Xh && this.$j && (B.jc.Hdc || (this.UF ? this.$j.oZb(B) : this.$j.yP("savetodisk", { G9a: B.jc.Rs }))))
                        }; z.prototype.Yob = function (A, B, E) { var D = A.S4; B.Xh && this.$j && (A.i4a ? D = A.i4a : A.Q3a && 0 < A.Q3a && (D = 2E3 * A.Q3a)); if (0 < D) return function (G, C) { return C >= D }; var F = E && E.length < A.vVa ? E.length : A.vVa; return function (G) { return G >= F } }; z.prototype.Jha = function (A, B) {
                            var E = A.K, D = A.Ta, F = A.stream, G = A.gf; if (this.m2) for (this.hL.push({ PKb: A, Ud: B }); this.hL.length >
                                G.LKb;)this.hL.shift(); else {
                                var C = this.gg[E] || A.Hm; if (C) {
                                    if (A.mediaType === h.default.Wa.$b) { if (void 0 === C.Co) { C.Tla = A; return } B = C.Co } A.mediaType === h.default.Wa.$b && G.im && !G.wG && F.xf && (B = Math.max(F.Y && F.Y.Hj(0) || 0, B + F.xf.T)); var H = A.stream.Y, L = H && H.Hn(B); if (-1 === L || void 0 === L) v("no proper fragment found to request data at pts", B); else {
                                        var N = A.stream.el(L); if (!f.la(N)) {
                                            N.Xh = A.Xh; var J = N.ena(B); J && (N.mediaType === h.default.Wa.$b && !G.wsa && J.Ud < (G.im && !G.wG && F.xf ? Math.floor(F.xf.T) : 0) && (++J.nl, J.Ud += N.va.T),
                                                0 < J.nl && N.Hk({ start: J.nl })); G.ti && (B = "@" + q.default.time.fa() + ", headerCache requestData: movieId: " + E + ", streamId: " + D + ", pts: " + B + ", startPts: " + N.Z, this.emit("managerdebugevent", { message: B }))
                                        } void 0 === C.data && (C.data = {}); void 0 === C.data[D] && (C.data[D] = []); B = C.data[D]; E = this.Yob(G, A, H); J = F = 0; var Q = N && N.mediaType, K = Q === h.default.Wa.Pb ? G.X8 : G.N8; for (G = Q === h.default.Wa.Pb ? G.hRb : G.bRb; L < (H && H.length || 0) && !E(J, F); ++L)if (void 0 === N && (N = A.stream.el(L)), void 0 !== N) {
                                            N.Xh = A.Xh; if (!f.la(H) && !N.za) for (Q = L + 1; Q <
                                                H.length && (N.ea < K || N.duration < G); ++Q)N.z3(H.get(Q)), N.rO = Q + 1, L = Q; f.la(C.Co) && (C.Co = N.Z); N.Xh && (N.responseType = 0); A.Xh && this.$j && A.lX && A.lX[D] && "undefined" !== typeof N.Z && A.lX[D][N.Z] || (Q = this.onb(N, A.gf), Q.Xh && (Q.Hm = A.Hm), Q.EO(), ++C.EU, B.push(Q)); ++J; F += N.duration; N = void 0
                                        } C.Tla && !f.la(C.Co) && (A = C.Tla, delete C.Tla, this.Jha(A, C.Co))
                                    }
                                }
                            }
                        }; z.prototype.Cmb = function (A) { this.zNa(A, A.Hm) }; z.prototype.Bmb = function (A, B) { this.zNa(A, B) }; z.prototype.zNa = function (A, B) {
                            var E = A.Ta; if (B = this.gg[A.K] || B) B.Nsb || B.Xh &&
                                !this.UF || (B.Nsb = !0, ++this.NF), B.headers || (B.headers = {}), B.headers[E] = A, this.wo.SDb && (B.IN || (B.IN = 0), ++B.IN), this.gga()
                        }; z.prototype.gga = function () { function A(G) { G.abort(); E += G.bytesReceived } var B, E = 0; if (!(this.NF <= this.aPa)) { for (; this.NF > this.aPa;)if (B = this.zo.shift()) { var D = B.K; if (B.data) for (var F in B.data) B.data[F].forEach(A), delete B.data[F]; delete this.gg[D]; --this.NF; this.Lqb(D) } this.Mqb(E) } }; z.prototype.Mqb = function (A) { 0 !== A && (A = { type: "discardedBytes", bytes: A }, this.emit(A.type, A)) }; z.prototype.Oqb =
                            function (A) { 0 !== A && (A = { type: "flushedBytes", bytes: A }, this.emit(A.type, A)) }; z.prototype.Lqb = function (A) { A = { type: "cacheEvict", movieId: A }; this.emit(A.type, A) }; z.prototype.Sqb = function (A, B) { var E = A.gf; f.la(A.yYb) || this.Jha(A, A.yYb); !this.$j || !A.Xh || this.UF || f.la(A.lX) || A.lX[A.Ta] && A.lX[A.Ta].header ? B() : this.$j.nZb(A, B); E.Rya || 0 !== Object.keys(this.z2).length || this.$Na() }; z.prototype.erb = function (A, B) {
                                A.jc.KVb = B; A = { type: "prebuffstats", movieId: A.K, stats: { prebuffstarted: A.jc.t7a, prebuffcomplete: A.jc.KVb } };
                                this.emit(A.type, A)
                            }; z.prototype.Nob = function (A, B) { var E = this; return this.$j ? this.$j.SOb(A, B).then(function (D) { if (D && D.Hm) return E.gg[A] = D.Hm, ++E.NF, E.gga(), E.zo.push(D.Hm), E.zo.sort(E.G7a), E.ANa(A, D), E.cache[A] }) : Promise.reject("Media cache is not enabled") }; z.prototype.Mob = function (A, B) {
                                var E = this; if (this.$j) {
                                    var D = void 0, F = !1; this.$j.C1a(this.gg[A]) ? (D = Promise.resolve(this.gg[A]), F = !0) : D = this.$j.VOb(A); return D.then(function (G) {
                                        return !f.la(G) && E.$j ? E.$j.ROb(A, B, G).then(function (C) {
                                            C && (F || (E.gg[A] =
                                                G, ++E.NF, E.gga(), E.zo.push(G), E.zo.sort(E.G7a)), E.ANa(A, C)); return E.gg[A]
                                        }) : Promise.resolve(void 0)
                                    })
                                } return Promise.reject("Media cache is not enabled")
                            }; z.prototype.ANa = function (A, B) { var E = this; if (B) { var D = this.gg[A], F = B.headers; D && F && Object.keys(F).forEach(function (C) { E.Bmb(F[C], D) }); if (B.data) { var G = B.data; Object.keys(G).forEach(function (C) { var H = G[C]; f.la(D.data) && (D.data = {}); f.la(D.data[C]) && (D.data[C] = []); var L = D.data; H.forEach(function (N) { L[C].push(N) }) }) } } }; z.prototype.G7a = function (A, B) {
                                return B.priority -
                                    A.priority
                            }; z.prototype.J7a = function (A) { var B = {}, E; if (A && A.data) { for (E in A.data) { var D = A.data[E]; 0 < D.length && (B[D[0].mediaType] = { Ta: E, header: A.headers[E], data: D }) } B.Co = A.Co; B.IN = A.IN; B.jc = A.jc; B.Nw = A.Nw; B.gA = A.gA; B.tD = A.tD; B.Qo = A.Qo; B.Ro = A.Ro; return B } }; z.prototype.gd = function (A) { return !!A.gd }; return z
                    }(g.Av); b.lEa = a; n.default(r.EventEmitter.prototype, a.prototype)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.$Ga = void 0; var c = a(2), f = a(19), k = c.__importStar(a(882)), m = c.__importStar(a(10));
                    a(5); var g = a(246), d = a(9); r = a(44); var h = c.__importStar(a(893)), l = h.wGa; !1; a = function () {
                        function n(q, p, u) { this.I = new p.Console("MEDIACACHE", "media|asejs"); this.fia = (q.Uya || q.Vya) && 0 < (q.TU || (p.options || {}).jO || 0); this.Lnb = q.FDb ? q.FDb : !1; this.UF = q.qsa ? q.qsa : !1; this.Xob = q.h4a ? q.h4a : !1; this.J = q; this.yo = p; this.bf = u; this.At = Promise.reject("Media cache has not been initiaized"); this.At.catch(function () { }); !1 } n.prototype.Ab = function (q, p) {
                            var u = this; this.fia ? this.At = new Promise(function (t, w) {
                                (void 0 !== p && null !==
                                    p ? p.ON : function (v) { return k.ON(u.yo, u.J, v) })(function (v) { u.vo = v; var x = v.Nn; (v = v.KH) ? w(v) : x ? (u.W_b(q), t()) : w(Error("Media cache did not initialize")) })
                            }) : (this.At = Promise.reject("Media cache is disabled"), this.At.catch(function () { })); return this.At
                        }; n.prototype.VOb = function (q) {
                            var p = this, u = [l.BGa, q].join("."), t = this.yo.time.fa(); return this.At.then(function () {
                                return new Promise(function (w) {
                                    p.vo.vY(l.mr, u, function (v) {
                                        if (!v || 0 >= v.length) w(), p.yP("mediacachelookup", { l8: p.yo.time.fa() - t, K4: !1 }); else {
                                            var x =
                                                v[0]; p.vo.read(l.mr, x, function (y, z) {
                                                    y && p.I.warn("Reading movie entry " + x + " failed", y); if (!m.la(z)) if (z instanceof ArrayBuffer) try { var A = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(z))) } catch (E) { } else A = {
                                                        priority: z.priority, movieId: z.movieId, saveToDisk: z.saveToDisk, firstSelectedStreamBitrate: z.firstSelectedStreamBitrate, initSelectionReason: z.initSelectionReason, histDiscountedThroughputValue: z.histDiscountedThroughput, histTdigest: z.histTdigest, histAge: z.histAge, headerCount: z.headerCount,
                                                        dataRequestCount: z.dataRequestCount, headerRequestCount: z.headerRequestCount, stats: z.stats
                                                    }; var B; m.la(A) || (B = h.yoa(A)); m.la(B) || m.Lb(B) || (B.jc = B.jc || {}, B.headers = B.headers || {}); p.C1a(B) ? w(B) : (p.arb(q), w())
                                                })
                                        }
                                    })
                                })
                            })
                        }; n.prototype.ROb = function (q, p, u) {
                            var t = this; if (!this.At) return Promise.reject("Media cache is not enabled"); var w = this.yo.time.fa(); return this.At.then(function () {
                                return new Promise(function (v) {
                                    t.vo.vY(l.mr, q, function (x) {
                                        x = x.reduce(function (y, z) {
                                            var A = z.substr(0, z.lastIndexOf(".")); if (-1 !==
                                                A.indexOf("drmHeader.__embed__")) return y; y[A] ? y[A].push(z) : y[A] = [z]; return y
                                        }, {}); t.PWb(x, p).then(function (y) { if (void 0 === u || void 0 === y) return v(); var z = t.yo.time.fa() - w, A = !1; m.la(y) || m.la(y.data) || !m.Ph(y.data) ? t.I.trace("No content data found for " + q, u) : A = !0; t.yP("mediacachelookup", { l8: z, K4: A }); v(y) }, function () { v() })
                                    })
                                })
                            })
                        }; n.prototype.SOb = function (q, p) {
                            var u = this, t = this.yo.time.fa(); return this.At.then(function () { return u.Fob(q) }).then(function (w) {
                                if (w) return u.Eqb(q.toString(), p, t); u.yP("mediacachelookup",
                                    { l8: u.yo.time.fa() - t, K4: !1 })
                            })
                        }; n.prototype.nZb = function (q, p) {
                            var u = this, t = [q.K, q.Ta, l.Ehb].join("."), w = this.yo.time.fa(), v = h.mZa(q), x = {}; x[t + "." + l.Rda] = { Qq: v, Hc: l.dF }; x[t + "." + l.aib] = { Qq: d.OC(q.Xg.map(function (z) { return z.data })), Hc: l.dF }; if (q.stream.te && !m.la(q.stream.Y)) { v = { timescale: q.stream.Y.W, startTicks: q.stream.Y.ql, offset: q.stream.Y.Sd(0) }; var y = q.stream.Y.Dx; x[t + "." + l.zDa] = { Qq: v, Hc: l.dF }; x[t + "." + l.xhb] = { Qq: y.sizes.buffer, Hc: l.dF }; x[t + "." + l.whb] = { Qq: y.vd.buffer, Hc: l.dF } } this.vo.F9a(l.mr, x,
                                function (z) { z || (z = u.yo.time.fa() - w, q.Hm && (m.la(q.Hm.jc.Rs) && (q.Hm.jc.Rs = 0), q.Hm.jc.Rs += z)); p() })
                        }; n.prototype.mZb = function (q, p, u) { var t = this, w = q.response; if (w instanceof ArrayBuffer) { var v = this.yo.time.fa(), x = [q.K, q.Ta, q.od].join("."); q = h.voa(q); var y = {}; y[x + "." + l.Rda] = { Qq: q, Hc: l.dF }; m.la(w) || (y[x + "." + l.ejb] = { Qq: w, Hc: l.dF }); this.vo.F9a(l.mr, y, function (z) { z ? t.I.warn("Failed to save fragment", z) : (z = t.yo.time.fa() - v, m.la(p.jc.Rs) && (p.jc.Rs = 0), p.jc.Rs += z); u() }) } else u(Error("Unable to save fragment because response is not an ArrayBuffer")) };
                        n.prototype.oZb = function (q) {
                            var p, u, t, w = this, v = this.yo.time.fa(), x = {}, y = h.MZa(q); x.movieEntry = y; if (q.headers) { var z = {}; Object.keys(q.headers).forEach(function (Q) { var K = h.kZa(q.headers[Q]); z[Q] = K }); x.headers = z } if (q && q.data) {
                                y = {}; var A = q.data, B = Object.keys(q.data); try {
                                    for (var E = c.__values(B), D = E.next(); !D.done; D = E.next()) {
                                        var F = D.value, G = A[F]; B = {}; if (G) {
                                            try {
                                                for (var C = (u = void 0, c.__values(G)), H = C.next(); !H.done; H = C.next()) {
                                                    var L = H.value; if (L instanceof g.F_ && L.response instanceof ArrayBuffer && !m.la(L.od)) {
                                                        var N =
                                                            h.voa(L); B[L.od] = { mediaType: N.mediaType, streamId: N.streamId, movieId: N.movieId, bitrate: N.bitrate, location: N.location, serverId: N.serverId, saveToDisk: N.saveToDisk, offset: N.offset, bytes: N.bytes, timescale: N.timescale, startTicks: N.startTicks, durationTicks: N.durationTicks, response: L.response }
                                                    }
                                                }
                                            } catch (Q) { u = { error: Q } } finally { try { H && !H.done && (t = C.return) && t.call(C) } finally { if (u) throw u.error; } } y[F] = B
                                        }
                                    }
                                } catch (Q) { var J = { error: Q } } finally { try { D && !D.done && (p = E.return) && p.call(E) } finally { if (J) throw J.error; } } x.data =
                                    y
                            } J = { lifespan: 259200 }; this.Xob && (J.convertToBinaryData = !0); this.vo.save(l.mr, q.K, x, J, function (Q) { Q || w.yP("savetodisk", { G9a: w.yo.time.fa() - v }) })
                        }; n.prototype.C1a = function (q) { return !(m.la(q) || m.Lb(q) || m.la(q.jc) || m.Lb(q.jc) || m.la(q.K) || m.Lb(q.K) || m.la(q.priority) || m.Lb(q.priority)) }; n.prototype.yP = function (q, p) {
                            var u = { type: "mediacachestats", operation: q }; "savetodisk" === q && (u.saveTime = p.G9a); "mediacachelookup" === q && (u.lookupTime = p.l8, u.dataFound = p.K4); u.oneObject = this.UF; this.Lnb && this.emit("mediacache",
                                u)
                        }; n.prototype.PWb = function (q, p) { var u = this, t = Object.keys(q).map(function (w) { return u.Yzb(q[w]) }); return Promise.all(t).then(function (w) { w.sort(function (v, x) { return v.gd === x.gd ? 0 : v.gd ? -1 : 1 }); return h.zoa(u.J, u.I, u.bf, w, p) }) }; n.prototype.Yzb = function (q) {
                            var p = this, u, t, w = {}; return new Promise(function (v, x) {
                                var y; p.vo.x$(l.mr, q, function (z, A) {
                                    try {
                                        if (z || void 0 === A) return x(z); Object.keys(A).map(function (E) {
                                            var D = E.substr(E.lastIndexOf(".") + 1); if (D === l.Rda) try {
                                                var F = new Uint8Array(A[E]); t = JSON.parse(String.fromCharCode.apply(null,
                                                    F))
                                            } catch (G) { t = A[E] } else D === l.zDa ? u = A[E] : w[D] = A[E]
                                        }); if (h.v1a(t)) { if (u instanceof ArrayBuffer) { var B = "Header fragments was an array buffer, is invalid type " + y.Ta; return x(B) } y = h.Kna(t, w, u) } else y = h.Jna(t, { response: w.response }); if (y.gd) { if (h.Cqa(y)) return B = "Missing or invalid header data parts for stream " + y.Ta, x(B) } else if (h.Bqa(y)) return B = "Missing or invalid media data parts for stream " + y.Ta, x(B); v(y)
                                    } catch (E) { x(E) }
                                })
                            })
                        }; n.prototype.Eqb = function (q, p, u) {
                            var t = this; return new Promise(function (w,
                                v) {
                                var x; t.vo.read(l.mr, q, function (y, z) {
                                    var A, B, E, D; if (y) v(y); else if (m.la(z)) w(); else {
                                        var F = z[q]; if (F.movieEntry) {
                                            y = h.yoa(F.movieEntry); z = []; if (F.headers) {
                                                var G = Object.keys(F.headers); try {
                                                    for (var C = c.__values(G), H = C.next(); !H.done; H = C.next()) {
                                                        var L = H.value, N = F.headers[L]; if (N.fragments instanceof ArrayBuffer) { var J = "Header fragments was an array buffer, is invalid type " + N.streamId; return v(J) } var Q = h.Kna(N, N, N.fragments); if (h.Cqa(Q)) return J = "Missing or invalid header data parts for stream " + Q.Ta,
                                                            v(J); z.push(Q)
                                                    }
                                                } catch (ya) { var K = { error: ya } } finally { try { H && !H.done && (A = C.return) && A.call(C) } finally { if (K) throw K.error; } }
                                            } if (F.data) {
                                                K = F.data; A = Object.keys(K); try {
                                                    for (var I = c.__values(A), M = I.next(); !M.done; M = I.next()) {
                                                        L = M.value; var O = Object.keys(K[L]); try { for (var P = (E = void 0, c.__values(O)), S = P.next(); !S.done; S = P.next()) { var U = K[L][S.value], Z = h.Jna(U, U); if (h.Bqa(Z)) return J = "Missing or invalid media data parts for stream " + Z.Ta, v(J); z.push(Z) } } catch (ya) { E = { error: ya } } finally {
                                                            try {
                                                                S && !S.done && (D = P.return) &&
                                                                    D.call(P)
                                                            } finally { if (E) throw E.error; }
                                                        }
                                                    }
                                                } catch (ya) { var ia = { error: ya } } finally { try { M && !M.done && (B = I.return) && B.call(I) } finally { if (ia) throw ia.error; } }
                                            } x = h.zoa(t.J, t.I, t.bf, z, p); void 0 !== x && (x.Hm = y)
                                        } t.yP("mediacachelookup", { l8: t.yo.time.fa() - u, K4: !0 }); w(x)
                                    }
                                })
                            })
                        }; n.prototype.Fob = function (q) { var p = this; return this.At ? this.At.then(function () { return new Promise(function (u) { p.vo.vY(l.mr, q.toString(), function (t) { t && 0 !== t.length ? 1 === t.length && t[0] === q.toString() ? u(!0) : u(!1) : u(!1) }) }) }) : Promise.reject("Media cache is not enabled") };
                        n.prototype.arb = function (q) { function p(v) { t.vo.delete(l.mr, v) } function u(v) { v.map(p) } var t = this, w = q.toString(); this.vo.vY(l.mr, [l.BGa, q].join("."), u); this.vo.vY(l.mr, w, u) }; n.prototype.W_b = function (q) { var p = new f.di; p.on(this.vo, "mediacache", function (u) { if (u.keys || u.items) u.keys || u.items.map(function (t) { return t.key }); q.emit("mediacache", u) }); p.on(this.vo, "mediacache-error", function (u) { u.type = "error"; q.emit("mediacache", u) }) }; return n
                    }(); b.$Ga = a; r.zf(f.EventEmitter, a)
                }, function (r, b, a) {
                    var c = a(10),
                        f, k = [], m, g = !1; r.exports = { ON: function (d, h, l) { if (g) c.fd(l) && (f.Nn || f.KH ? setTimeout(function () { l(f) }, 0) : k.push(l)); else { g = !0; var n = a(127); n.wW(d); m = new n.Console("MEDIACACHE", "media|asejs"); f = new (a(405))(h, function (q) { q && m.warn("Failed to initialize MediaCache", q); c.fd(l) && setTimeout(function () { l(f) }, 0); k.map(function (p) { setTimeout(function () { p(f) }, 0) }) }) } return f }, mcc: function (d, h) { f = new (a(405))(d, function (l, n) { l && m.warn("Failed to initialize MediaCache", l); c.fd(h) && setTimeout(function () { h(n) }, 0) }) } }
                },
                function (r, b, a) {
                    function c(h) { this.yr = h; this.context = h.context; this.n5a = "NULLCONTEXT" === h.context ? !0 : !1 } var f = a(10), k = a(127), m = new k.Console("DISKCACHE", "media|asejs"), g = { context: "NULLCONTEXT", read: function (h, l, n, q, p) { p("MediaCache is not supported") }, remove: function (h, l, n) { n("MediaCache is not supported") }, create: function (h, l, n, q) { q("MediaCache is not supported") }, append: function (h, l, n, q) { q("MediaCache is not supported") }, query: function (h, l, n) { n([]) } }; c.prototype.mG = function () {
                        var h = Array.prototype.slice.call(arguments),
                            l = h[0], n = h[h.length - 1]; h = h.slice(1, h.length - 1); h.push(function (q) { n(null, q) }); try { if (this.n5a) throw Error("Media Cache not supported"); l.apply(this.yr, h) } catch (q) { n(q) }
                    }; c.prototype.query = function (h, l, n, q) { try { if (this.n5a) throw Error("Media Cache not supported"); this.yr.query(h, l, function (p) { n(null, p) }, q) } catch (p) { n(p) } }; c.prototype.read = function (h, l, n, q, p) { this.mG(this.yr.read, h, l, n, q, p) }; c.prototype.remove = function (h, l, n) { this.mG(this.yr.remove, h, l, n) }; c.prototype.create = function (h, l, n, q) {
                        this.mG(this.yr.create,
                            h, l, n, q)
                    }; c.prototype.append = function (h, l, n, q) { this.mG(this.yr.append, h, l, n, q) }; c.prototype.info = function (h) { this.mG(this.yr.info, h) }; c.prototype.validate = function (h) { this.mG(this.yr.validate, h) }; c.prototype.flush = function (h) { this.mG(this.yr.flush, h) }; c.prototype.clear = function () { this.yr.clear() }; var d; r.exports = {
                        aAb: function (h) {
                            var l = h.Fbc || "NRDMEDIADISKCACHE"; d = h.TU || 0; 0 !== d || f.la(k.options) || f.la(k.options.jO) || (d = k.options.jO); h = d; try {
                                var n, q = k.storage.sCb; if (!q || !f.Ph(q)) throw m.warn("Failed to get disk store contexts from platform"),
                                    "Platform does not support disk store"; if (n = q[l]) { m.warn("Disk store exists, returning"); var p = new c(n) } else { if (f.la(k.storage) || !f.fd(k.storage.EUa) || k.options && 0 === k.options.jO) throw m.warn("Platform doesn't support creating disk store contexts"), "Platform doesn't support creating disk store contexts"; m.warn("Disk store context doesn't exist, creating with size " + h); var u = k.storage.EUa({ context: l, size: h, encrypted: !0, signed: !0 }); if (!u || !u.valid) throw "Failed to create disk store context"; p = new c(u) }
                            } catch (t) {
                                m.warn("Exception creating disk store context - returning NullContext (noops)",
                                    t), p = new c(g)
                            } return p
                        }, nHb: function () { return d }, l7b: c
                    }
                }, function (r, b, a) {
                    function c() { } function f(v, x, y, z, A) {
                        var B = d.fd(z) ? z : c; this.hw = v; this.Cg = y.zw; this.Oy = 0; this.Qnb = y.mEb || "NONE"; this.xy = d.la(A) || d.Lb(A) ? 0 : A; this.De = {}; this.xt = y.Gdc || h.storage.OR; this.$v = x; this.SL = q.create(this.$v, y.dBb * this.xy, this.hw); this.on = this.addEventListener = w.addEventListener; this.removeEventListener = w.removeEventListener; this.emit = this.Za = w.Za; this.DOa = m(this, f.Oe.REPLACE); this.qob = m(this, f.Oe.pNa); this.fG; this.fG = y.Ucb ?
                            a(889) : a(890); this.$v.query(this.xt, this.Dq(""), function (E, D) {
                                if (E) B(E); else {
                                    var F = this.SL.ooa(); E = Object.keys(D).filter(function (G) { return G !== F && p.RN(G) }).map(this.oya.bind(this)); this.x$(E, function (G, C) {
                                        Object.keys(C).map(function (H) {
                                            var L = C[H]; this.De[p.F5(H)] = L; if (L.$va && 1 < Object.keys(L.$va).length) { var N = 0; Object.keys(L.$va).forEach(function (J) { D[this.Dq(J)] && d.Ea(D[this.Dq(J)].size) && (N += D[this.Dq(J)].size) }.bind(this)); H = p.F5(H); this.De[H].size = N } else H = p.F5(H), D[this.Dq(H)] && (this.De[H].size =
                                                D[this.Dq(H)].size)
                                        }.bind(this)); k(this.$v, this.xt, this.hw, function (H, L) { this.Oy = L; H ? B(H) : B(null, this) }.bind(this))
                                    }.bind(this))
                                }
                            }.bind(this))
                    } function k(v, x, y, z) { var A = d.fd(z) ? z : c; v.query(x, y, function (B, E) { B ? A(B) : (B = Object.keys(E).reduce(function (D, F) { return D + (E[F].size || 0) }, 0), A(null, B)) }) } function m(v, x) {
                        return function (y, z, A, B, E) {
                            return function (D, F) {
                                if (D) z || v.Za(f.Oe.Rf, { itemKey: y, error: D }), A(D); else {
                                    var G = { Wk: 0, duration: 0, items: [], time: h.time.now() }; Object.keys(F.actions).map(function (C) {
                                        var H =
                                            F.actions[C]; C = { key: v.oya(H.R7), jl: C }; H.ga ? (G.Wk += H.Wk, C.Q7 = H.Wk, d.Ea(H.duration) && (G.duration += H.duration)) : C.error = H.error; G.items.push(C)
                                    }); D = d.fd(B) ? B() : 0; 0 < E && (G.GM = E - D); k(v.$v, v.xt, v.hw, function (C, H) { C ? A(C) : (v.Oy = H, G.In = v.Cg - H, z || v.Za(x, t.MYa(G)), A(null, G)) })
                                }
                            }
                        }
                    } function g(v, x) { return 0 < x && v >= x ? !0 : !1 } var d = a(10), h = a(127), l = a(254); b = a(87); var n = new h.Console("MEDIACACHE", "media|asejs"), q = a(885), p = a(406), u = a(128), t = a(255), w = a(407).EventEmitter; b({
                        Oe: {
                            pNa: "writeitem", REPLACE: "replaceitem", yda: "journalupdate",
                            Rf: "mediacache-error"
                        }
                    }, f); f.prototype.tIb = function () { return this.hw }; f.prototype.oya = function (v) { return v.slice(this.hw.length + 1) }; f.prototype.hoa = function () { return Object.keys(this.De).filter(function (v) { v = p.Cna(this.De[v]); return void 0 === v || 0 >= v.ZTa() }.bind(this)) }; f.prototype.FIb = function () { return Object.keys(this.De).reduce(function (v, x) { var y = this.De[x]; return y && y.creationTime < v.creationTime ? { resourceKey: x, creationTime: y.creationTime } : v }.bind(this), { resourceKey: null, creationTime: h.time.now() }).Lec };
                    f.prototype.AHb = function () { switch (this.Qnb) { case "FIFO": var v = this.FIb() }return v }; f.prototype.TBb = function (v) {
                        var x = d.fd(v) ? v : c; this.sZa(function (y) {
                            var z = this.De, A = Object.keys(z).reduce(function (E, D) { D = z[D]; D.resourceIndex && Object.keys(D.resourceIndex).forEach(function (F) { E.push(F) }); return E }, []); if ((y = y.filter(function (E) { return !p.RN(E) && 0 > A.indexOf(E) })) && 0 < y.length) {
                                var B = this; y = h.Promise.all(y.map(function (E) { return new h.Promise(function (D, F) { B.delete(E, function (G) { G ? F(G) : D() }) }) })).then(function () {
                                    x(void 0,
                                        { wva: !0 })
                                }, function (E) { x(E, { wva: !1 }) }); t.tx(y)
                            } else v(void 0, { wva: !1 })
                        }.bind(this))
                    }; f.prototype.aXb = function (v, x, y) {
                        var z = d.fd(x) ? x : c; x = this.Dq(v); var A = h.time.now(); this.$v.read(this.xt, x, 0, -1, function (B, E) {
                            if (B) z(B); else if (E && E.ga && E.value) {
                                d.fd(y) || (y = this.fG.OV(u.nr.SE), p.RN(v) ? y = this.fG.OV(u.nr.c1) : (B = this.De[v], !d.la(B) && d.Ea(B.resourceIndex[v]) ? (B = B.resourceIndex[v], d.la(B) && (B = u.nr.SE), y = this.fG.OV(B)) : n.warn("Metadata is undefined or does not contain a resource format for key", v, ":", B)));
                                try { var D = y(E.value) } catch (F) { return z(l.FK.er(F.message)) } E = { duration: h.time.now() - A }; this.De[v] && d.Ea(this.De[v].size) && (E.ez = d.Ea(this.De[v].size) ? this.De[v].size : 0); z(null, D, E)
                            } else z(l.FK.er(E.error))
                        }.bind(this))
                    }; f.prototype.read = function (v, x, y) { this.aXb(v, x, y) }; f.prototype.x$ = function (v, x, y) {
                        var z = d.fd(x) ? x : c; if ("[object Array]" !== Object.prototype.toString.call(v)) z(l.FK.er("item keys must be an array")); else {
                            var A = {}, B = []; v = h.Promise.all(v.map(function (E) {
                                return new h.Promise(function (D,
                                    F) { var G; y && !d.la(y[E]) && (G = this.fG.OV(y[E])); this.read(E, function (C, H, L) { C ? (H = {}, H[E] = C, F(H)) : (A[E] = H, B.push({ duration: L.duration, ez: L.ez }), D()) }, G) }.bind(this))
                            }.bind(this))).then(function () { var E = {}; 0 < B.length && (E = B.reduce(function (D, F) { d.Ea(F.duration) && (D.duration += F.duration); d.Ea(F.ez) && (D.ez += F.ez); return D }, { duration: 0, ez: 0 })); z(null, A, E) }, function (E) { z(E) }); t.tx(v)
                        }
                    }; f.prototype.write = function (v, x, y, z, A) {
                        y = d.fd(y) ? y : c; var B = this.Dq(v), E = "function" === typeof A ? A() : 0, D = u.kpa(x); D = this.fG.Soa(D)(x);
                        D.byteLength + this.Oy >= this.Cg ? y(l.XJ) : g(D.byteLength + E, this.xy) ? y(l.R1) : this.SL.save(this.xt, B, x, this.qob(v, z, y, A, this.xy), D.byteLength)
                    }; f.prototype.replace = function (v, x, y, z, A) {
                        var B = d.fd(y) ? y : c, E = this.Dq(v), D = 0; "function" === typeof A && (D = A()); y = u.kpa(x); var F = this.fG.Soa(y)(x); y = (this.De[v] || {}).size || 0; 0 >= y && this.De[v] ? this.TZa([v], function (G) {
                            n.trace("Replacing key", v, "which exists:", !!this.De[v], this.De[v] ? this.De[v] : void 0, "and has size", G, "with", x, "with size", F.byteLength, "plus _used", this.Oy,
                                "vs capacity", this.Cg); F.byteLength - G + this.Oy >= this.Cg ? B(l.XJ) : g(F.byteLength - G + D, this.xy) ? B(l.R1) : this.SL.replace(this.xt, E, x, this.DOa(v, z, B, A, this.xy), F.byteLength)
                        }.bind(this)) : (n.trace("Replacing key", v, "which exists:", !!this.De[v], this.De[v] ? this.De[v] : void 0, "and has size", y, "with", x, "with size", F.byteLength, "plus _used", this.Oy, "vs capacity", this.Cg), F.byteLength - y + this.Oy >= this.Cg ? B(l.XJ) : g(F.byteLength - y + D, this.xy) ? B(l.R1) : this.SL.replace(this.xt, E, x, this.DOa(v, z, B, A, this.xy), F.byteLength))
                    };
                    f.prototype.kYb = function (v, x, y, z) {
                        var A = d.fd(x) ? x : c; "[object Object]" !== Object.prototype.toString.call(v) ? A(l.Q1.er("items must be a map of keys to objects")) : (x = h.Promise.all(Object.keys(v).map(function (B) { return new h.Promise(function (E) { this.replace(B, v[B], function (D, F) { D ? E({ error: D, Qq: B }) : E(F) }, !0, z) }.bind(this)) }.bind(this))).then(function (B) {
                            try {
                                var E = Number.MAX_VALUE, D = B.reduce(function (C, H) {
                                    H.error || (C.Wk += H.Wk, d.Ea(H.duration) && (C.duration += H.duration), !d.la(H.In) && H.In < E && (E = H.In), H.items.map(function (L) {
                                        C.items.push({
                                            key: L.key,
                                            jl: L.jl, Q7: L.Q7, jPb: L.jPb, duration: L.duration
                                        })
                                    }), E < Number.MAX_VALUE && (C.In = E)); return C
                                }, { Wk: 0, items: [], time: h.time.now(), duration: 0 }); 0 < this.xy && (D.GM = this.xy - z()); var F = B.filter(function (C) { return !d.la(C.error) }), G = t.E_a(F); y || (G ? G.forEach(function (C) { this.Za(f.Oe.Rf, C) }.bind(this)) : this.Za(f.Oe.REPLACE, t.MYa(D))); A(G, D)
                            } catch (C) { A(C) }
                        }.bind(this), function (B) { y || this.Za(f.Oe.Rf, B); A(B) }.bind(this)), t.tx(x))
                    }; f.prototype.delete = function (v, x) {
                        var y = d.fd(x) ? x : c; this.$v.remove(this.xt, this.Dq(v), function (z,
                            A) { z ? y(z) : A && A.ga ? k(this.$v, this.xt, this.Dq(""), function (B, E) { B ? y(B) : (this.Oy = E, y()) }.bind(this)) : y(l.ngb.er(A.error)) }.bind(this))
                    }; f.prototype.sZa = function (v) { this.query("", function (x, y) { x ? (n.error("Failed to get keys", x), v([])) : v(y) }) }; f.prototype.query = function (v, x) { var y = d.fd(x) ? x : c, z = this.SL.ooa(); this.$v.query(this.xt, this.Dq(v), function (A, B) { A ? y(A) : y(null, Object.keys(B).filter(function (E) { return E !== z }).map(this.oya.bind(this))) }.bind(this)) }; f.prototype.Dq = function (v) {
                        return this.hw + "." +
                            v
                    }; f.prototype.clear = function (v) { var x = d.fd(v) ? v : c; this.sZa(function (y) { var z = h.Promise.all(y.map(function (A) { return new h.Promise(function (B) { A && this.delete(A, function () { B() }) }.bind(this)) }.bind(this))).then(function () { x(y) }, function (A) { this.Za(f.Oe.Rf, A); x([], A) }.bind(this)); t.tx(z) }.bind(this)) }; f.prototype.TZa = function (v, x) {
                        var y = d.fd(x) ? x : c, z = (v || []).map(function (A) { return this.Dq(A) }.bind(this)); this.$v.query(this.xt, this.hw, function (A, B) {
                            A ? (n.error("failed to get persisted size for keyset ",
                                v, A), y(0)) : (A = Object.keys(B).filter(function (E) { return 0 <= z.indexOf(E) }).reduce(function (E, D) { return E + (B[D].size || 0) }, 0), y(A))
                        }.bind(this))
                    }; f.prototype.PGb = function (v) { return this.SL.FYa(v) }; f.prototype.constructor = f; r.exports = f
                }, function (r, b, a) {
                    function c(q, p, u) {
                        function t(E, D, F, G) { E.info.call(E, function (C, H) { if (C) G(C); else { try { var L = H.values[this.context].entries[D][F].size } catch (N) { L = -1 } -1 < L ? G(null, L) : this.validate(function (N, J) { N ? G(N) : (J[F] && (L = J[F].size), G(null, L)) }) } }.bind(E)) } function w(E,
                            D, F, G, C, H, L) { H ? H.actions || (H.actions = {}) : H = { actions: {} }; A(G); var N = k.time.now(); G = (new l(function (J, Q) { E.create(k.storage.OR, D, F, function (K, I) { K ? Q(K) : J(I) }) })).then(function (J) { J.ga ? t(E, k.storage.OR, D, function (Q, K) { Q ? L(Q) : (B(K), A(K), H.actions[c.z_.yda] = { ga: !0, time: C, Wk: K, R7: D, d8a: J, duration: k.time.now() - N }, H.In = J.In, L(null, H)) }) : (H.actions[c.z_.yda] = { ga: !1, R7: D, error: J.error }, L(null, H)) }, function (J) { L(J) }); d.tx(G) } function v(E, D, F, G, C, H) {
                                G.wq(F.time, F); for (var L = F.time - 864E5, N = G.ox(); N && !isNaN(N.time) &&
                                    N.time < L;)N = G.IM(), A(0 - (N.ea || 0)), N = G.ox(); G = G.op().map(function (J) { return J.time + ";" + J.ea }); w(E, D, Array.prototype.join.call(G, "|"), F.ea, F.time, C, H)
                            } function x(E, D, F, G, C, H, L, N, J) {
                                var Q = k.time.now(); E.create(F, G, C, function (K, I) {
                                    if (K) h.error("Failed to replace item", G, K); else if (I.ga) { var M = I.In; t(E, F, G, function (O, P) { if (O) J(O); else { O = { time: N, ea: P || 0 }; var S = { In: M, actions: {} }, U = k.time.now() - Q; S.actions[c.z_.REPLACE] = { ga: !0, time: N, Wk: P, R7: G, d8a: I, duration: U }; H ? v(E, D, O, L, S, J) : (A(P), J(null, S)) } }) } else J(m.Q1.er(I.error ||
                                        "Failed to create item"))
                                })
                            } function y(E, D, F, G, C, H, L, N, J) { var Q = k.time.now(); E.append(F, G, C, function (K, I) { if (K) h.error("Failed to save item " + G, K), J(K); else if (I.ga) { var M = I.In; t(E, F, G, function (O, P) { if (O) J(O); else { O = { time: N, ea: P || 0 }; var S = { In: M, actions: {} }, U = k.time.now() - Q; S.actions[c.z_.wlb] = { ga: !0, time: N, Wk: P, R7: G, d8a: I, duration: U }; H ? v(E, D, O, L, S, J) : (A(P), J(null, S)) } }) } else J(m.Q1.er(I.error || "Failed to save item")) }) } function z(E, D) {
                                E && f.fd(E.remove) && E.yr.valid && E.remove(k.storage.OR, D.uL, function (F,
                                    G) { if (F) h.error("Failed to delete old journal key", F); else try { G && (f.la(G.error) || G.error.some(function (C) { return "NFErr_FileNotFound" === C.Zbc })) && v(E, D.uL, { time: 0, ea: 0 }, D.iT, 0, function () { }) } catch (C) { } })
                            } if (!q.yr.valid) return n; this.ZNa = f.la(p) || f.Lb(p) ? 0 : p; this.vga = q; this.bha = this.sS = 0; this.iT = new g; this.kqb = u || "default"; this.uL = this.kqb + ".NRDCACHEJOURNALKEY"; var A = function (E) { isNaN(E) || (this.sS += E); return this.sS }.bind(this), B = function (E) { isNaN(E) || (this.bha += E); return this.bha }.bind(this); this.ooa =
                                function () { return this.uL }; this.save = function (E, D, F, G) { var C = k.time.now(); y(this.vga, this.uL, E, D, F, 0 <= this.ZNa, this.iT, C, G) }; this.replace = function (E, D, F, G) { var C = k.time.now(); x(this.vga, this.uL, E, D, F, 0 <= this.ZNa, this.iT, C, G) }; this.FYa = function (E) { var D = this.sS; E -= 864E5; for (var F = this.iT.op(), G = 0; G < F.length; G++) { var C = F[G]; C.time < E && !isNaN(C.ea) && (D -= C.ea) } return D }; (function (E) {
                                    var D = E.vga; E.sS = 0; D.read(k.storage.OR, E.uL, 0, -1, function (F, G) {
                                        var C = [], H = 0, L = !0; if (F) h.error("Failed to compile records",
                                            F); else if (G.ga) { F = String.fromCharCode.apply(null, new Uint8Array(G.value)); F = String.prototype.split.call(F, "|"); G = F.reduce(function (Q, K) { return Q + (K.length + 40) }, 0); A(G); C = F.map(function (Q) { Q = Q.split(";"); return { time: Number(Q[0]), ea: Number(Q[1]) } }); try { if (!isNaN(C.reduce(function (Q, K) { return Q + K.ea }, 0))) { L = !1; for (var N = k.time.now() - 864E5; H < C.length; H++) { var J = C[H]; J.time < N || (E.iT.wq(J.time, J), A(J.ea)) } } } catch (Q) { } } L && z(D, E)
                                    })
                                })(this)
                    } var f = a(10), k = a(127), m = a(254), g = a(886); b = a(87); var d = a(255), h = new k.Console("DISKWRITEMANAGER",
                        "media|asejs"), l = k.Promise; b({ z_: { wlb: "saveitem", REPLACE: "replaceitem", yda: "journalupdate" } }, c); var n = { save: function (q, p, u, t) { t(m.xGa) }, replace: function (q, p, u, t) { t(m.xGa) }, ooa: function () { return "" }, FYa: function () { return 0 } }; c.prototype.constructor = c; r.exports = { create: function (q, p, u) { return new c(q, p, u) }, t9b: n }
                }, function (r) {
                    function b(f) {
                        if (!(this instanceof b)) return new b(f); if ("undefined" === typeof f) this.kn = function (k, m) { return k <= m }; else {
                            if ("function" !== typeof f) throw Error("heap comparator must be a function");
                            this.kn = f
                        } this.Np = []
                    } function a(f, k) { var m = f.Np, g = f.kn, d = 2 * k + 1, h = 2 * k + 2, l = m[k], n = m[d], q = m[h]; n && g(n.priority, l.priority) && (!q || g(n.priority, q.priority)) ? (c(m, k, d), a(f, d, g)) : q && g(q.priority, l.priority) && (c(m, k, h), a(f, h, g)) } function c(f, k, m) { var g = f[k]; f[k] = f[m]; f[m] = g } b.prototype.clear = function () { this.Np = [] }; b.prototype.wq = function (f, k) {
                        this.Np.push({ priority: f, value: k }); f = this.Np; k = this.kn; for (var m = f.length - 1, g = 0 === m ? null : Math.floor((m - 1) / 2); null !== g && k(f[m].priority, f[g].priority);)c(f, m, g), m = g,
                            g = 0 === m ? null : Math.floor((m - 1) / 2)
                    }; b.prototype.remove = function () { if (0 !== this.Np.length) { var f = this.Np[0]; c(this.Np, 0, this.Np.length - 1); this.Np.pop(); a(this, 0); return f.value } }; b.prototype.ox = function () { if (0 !== this.Np.length) return this.Np[0].value }; b.prototype.enqueue = b.prototype.wq; b.prototype.IM = b.prototype.remove; b.prototype.C7 = function () { return 0 === this.Np.length }; b.prototype.op = function () { return this.Np.map(function (f) { return f.value }) }; r.exports = b
                }, function (r) {
                    function b(c, f) {
                        if (void 0 === f ||
                            "function" !== typeof f || "string" !== typeof c) throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments"); if (void 0 === this.Bd) return this.Bd = {}, this.Bd[c] = [f], !0; var k = this.Bd[c]; return void 0 === k ? (this.Bd[c] = [f], !0) : 0 > k.indexOf(f) ? (k.push(f), !0) : !1
                    } function a(c, f) { c = this.Bd ? this.Bd[c] : void 0; if (!c) return !1; c.forEach(function (k) { k(f) }); return !0 } r.exports = {
                        addEventListener: b, on: b, removeEventListener: function (c, f) {
                            if (void 0 === f || "function" !== typeof f || "string" !==
                                typeof c) throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments"); if (void 0 === this.Bd) return !1; var k = this.Bd[c]; if (void 0 === k) return !1; f = k.indexOf(f); if (0 > f) return !1; if (1 === k.length) return delete this.Bd[c], !0; k.splice(f, 1); return !0
                        }, Za: a, emit: a, removeAllListeners: function (c) { this.Bd && (void 0 === c ? delete this.Bd : delete this.Bd[c]); return this }
                    }
                }, function (r) {
                    function b(c, f, k, m) { c.trace(":", k, ":", m); f(m) } function a(c) { this.listeners = []; this.console = c } a.prototype.constructor =
                        a; a.prototype.addEventListener = function (c, f, k, m) { k = m ? k.bind(m) : k; m = !1; if (c) { this.console && (k = b.bind(null, this.console, k, f)); if ("function" === typeof c.addEventListener) m = c.addEventListener(f, k); else if ("function" === typeof c.addListener) m = c.addListener(f, k); else throw Error("Emitter does not have a function to add listeners for '" + f + "'"); this.listeners.push([c, f, k]) } return m }; a.prototype.on = a.prototype.addEventListener; a.prototype.clear = function () {
                            var c = this.listeners.length; this.listeners.forEach(function (f) {
                                var k =
                                    f[0], m = f[1]; f = f[2]; "function" === typeof k.removeEventListener ? k.removeEventListener(m, f) : "function" === typeof k.removeListener && k.removeListener(m, f)
                            }); this.listeners = []; this.console && this.console.trace("removed", c, "listener(s)")
                        }; r.exports = a
                }, function (r, b, a) {
                    var c = a(10), f = a(128), k = {}; k[f.nr.SE] = function (g) { return g }; k[f.nr.y1] = function (g) { g = g || new ArrayBuffer(0); return String.fromCharCode.apply(null, new Uint8Array(g)) }; k[f.nr.c1] = function (g) {
                        var d = g || new ArrayBuffer(0); g = ""; d = new Uint8Array(d); for (var h =
                            0; h < d.byteLength; h++)g += String.fromCharCode(d[h]); return JSON.parse(g)
                    }; var m = {}; m[f.nr.SE] = function (g) { return g }; m[f.nr.y1] = function (g) { for (var d = new ArrayBuffer(g.length), h = new Uint8Array(d), l = 0, n = g.length; l < n; l++)h[l] = g.charCodeAt(l); return d }; m[f.nr.c1] = function (g) { return c.la(g) || c.Lb(g) ? g : m[f.nr.y1](JSON.stringify(g)) }; r.exports = { OV: function (g) { return k[g] || k[f.nr.SE] }, Soa: function (g) { return m[g] || m[f.nr.SE] } }
                }, function (r, b, a) {
                    function c(k) { return k } function f() { return c } a(10); r.exports = {
                        OV: f,
                        Soa: f
                    }
                }, function (r, b, a) {
                    function c(m, g) { return m.length > g.length ? 1 : g.length > m.length ? -1 : 0 } function f(m, g) { var d = []; if (k.Ph(g)) { var h = {}, l = {}; l[m] = h; d.push(l); d = Object.keys(g).reduce(function (n, q) { var p = g[q], u = {}; if (k.y7(p)) { var t = m + ".__embed__." + q; u[t] = p; n.push(u) } else k.Ph(p) ? (t = m + ".__sub__." + q, p = f(t, p), h[q] = p[0][t], n = n.concat(p.slice(1))) : h[q] = p; return n }, d) } else l = {}, l[m] = g, d.push(l); return d } var k = a(128); r.exports = {
                        rCb: f, lMb: function (m) {
                            var g = Object.keys(m).map(function (w) { return w.split(".") });
                            g.sort(c); var d = g[0], h = d.length; d = m[d.join(".")]; for (var l = 1; l < g.length; l++)for (var n = !1, q = !1, p = d, u = h; u < g[l].length; u++) { var t = g[l][u]; switch (t) { case "__metadata__": break; case "__sub__": q = !0; break; case "__embed__": n = !0; break; default: q ? (p = p[t], q = !1) : n && (p[t] = m[g[l].join(".")], n = !1) } } return d
                        }, WMb: function (m) { return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__")) }
                    }
                }, function (r, b, a) {
                    function c(d, h, l) {
                        Object.keys(d).forEach(function (n) {
                            if (m.Ph(d[n])) if (d[n].y7) {
                                var q = d[n], p = l + q.offset; d[n] = h.slice(p,
                                    p + q.byteLength)
                            } else d[n] = c(d[n], h, l)
                        }); return d
                    } function f(d, h, l) { Object.keys(d).forEach(function (n) { if (m.y7(d[n])) { var q = d[n]; h.push(q); d[n] = { y7: !0, offset: l.ula, byteLength: q.byteLength }; l.ula += q.byteLength } else m.Ph(d[n]) && f(d[n], h, l) }); return d } function k() { var d = Array.prototype.concat.apply([], arguments), h = d.reduce(function (n, q) { return n + q.byteLength }, 0), l = new Uint8Array(h); d.reduce(function (n, q) { l.set(new Uint8Array(q), n); return n + q.byteLength }, 0); return l.buffer } var m = a(128), g = a(87); r.exports =
                        { fyb: function (d) { var h = g(d, {}); d = []; h = f(h, d, { ula: 0 }); h = JSON.stringify(h); var l = new ArrayBuffer(h.length + 4), n = new DataView(l); n.setUint32(0, h.length); for (var q = 4, p = 0, u = h.length; p < u; p++)n.setUint8(q, h.charCodeAt(p)), q++; d = [l].concat(d); return k.apply(null, d) }, eyb: function (d) { for (var h = (new DataView(d, 0, 4)).getInt32(0), l = new Uint8Array(d, 4, h), n = "", q = 0; q < l.byteLength; q++)n += String.fromCharCode(l[q]); h = 4 + h; n = JSON.parse(n); return c(n, d, h) } }
                }, function (r, b, a) {
                    function c(h) {
                        return {
                            mediaType: h.mediaType, streamId: h.Ta,
                            movieId: h.K, bitrate: h.bitrate, location: h.location, serverId: h.Md, saveToDisk: !0, offset: h.offset, bytes: h.ea, timescale: h.W, frameDuration: h.stream.va && h.stream.va.qc, encrypted: h.cl, initSegments: 1 < h.Xg.length ? h.Xg.map(function (l) { return { fi: l.Cd, s: l.data.byteLength, e: !!l.cl } }) : void 0
                        }
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.Bqa = b.Cqa = b.v1a = b.MZa = b.kZa = b.mZa = b.voa = b.zoa = b.yoa = b.Jna = b.Kna = b.wGa = void 0; var f = a(2).__importStar(a(10)), k = a(894), m = a(384), g = a(9), d = a(22); b.wGa = {
                        BGa: "movieEntry", Ehb: "header",
                        Rda: "metadata", aib: "headerData", o8b: "headerMetadata", xhb: "sizes", whb: "durations", zDa: "fragments", ejb: "response", mr: "billboard", dF: { lifespan: 259200 }
                    }; b.Kna = function (h, l, n) {
                        var q = l.headerData, p; n && l.sizes instanceof ArrayBuffer && l.durations instanceof ArrayBuffer && (p = { ql: n.startTicks, offset: n.offset, W: n.timescale, sizes: new Uint32Array(l.sizes), vd: new Uint32Array(l.durations) }); return {
                            gd: !0, mediaType: h.mediaType, K: h.movieId, Ta: h.streamId, bitrate: h.bitrate, location: h.location, Md: h.serverId, ea: h.bytes,
                            offset: h.offset, Dpa: q, n7: h.initSegments, cl: h.encrypted, W: h.timescale, va: h.frameDuration, Xh: h.saveToDisk, Y: p
                        }
                    }; b.Jna = function (h, l) { l = l.response; var n = h.startTicks, q = h.durationTicks, p; void 0 !== n && void 0 !== q && (p = n + q); return { gd: !1, mediaType: h.mediaType, K: h.movieId, Ta: h.streamId, bitrate: h.bitrate, location: h.location, Md: h.serverId, ea: h.bytes, offset: h.offset, response: l, W: h.timescale, $a: h.startTicks, du: q, Xh: h.saveToDisk, wb: p } }; b.yoa = function (h) {
                        return {
                            priority: h.priority, K: h.movieId, headers: {}, IN: 0, EU: 0,
                            f0a: 0, Xh: h.saveToDisk, jc: h.stats, Nw: h.firstSelectedStreamBitrate, gA: h.initSelectionReason, tD: h.histDiscountedThroughputValue, Ro: h.histTdigest, Qo: h.histAge, Co: void 0
                        }
                    }; b.zoa = function (h, l, n, q, p) {
                        var u = { headers: {}, data: {} }; q.forEach(function (w) {
                            var v = w.mediaType; v = p && p.Rw(v, w.Ta); var x = []; if (w.gd) if (!Array.isArray(w.n7) || 2 > w.n7.length) x.push({ Cd: 0, data: w.Dpa }); else for (var y = 0, z = 0; z < w.n7.length; ++z) { var A = w.n7[z]; x.push({ Cd: A.fi, data: w.Dpa.slice(y, y + A.s), cl: A.e }); y += A.s } v ? (w.Y && v.A9(x, w.W, w.va ? new d.O(w.va,
                                w.W) : void 0, w.Y), w.gd && v && v.te ? (void 0 === u.headers && (u.headers = {}), u.headers[w.Ta] = new m.G_(v, { ea: w.ea, offset: w.offset, Xg: x, cl: w.cl }, l)) : w.response instanceof ArrayBuffer && void 0 !== v.Y && void 0 !== w.$a && void 0 !== w.W && void 0 !== w.wb && (x = v.Y.L5((new d.O(w.$a, w.W)).T), void 0 !== x && (v = new k.Hza(v, { W: w.W, $a: w.$a, wb: w.wb, index: x.index, offset: w.offset, ea: w.ea }, w.response, n, h, l), void 0 === u.data && (u.data = {}), u.data[w.Ta] || (u.data[w.Ta] = []), u.data[w.Ta].push(v)))) : l.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " +
                                    w.Ta + " movieId: " + w.K)
                        }); if (!f.la(u.data)) { var t = u.data; Object.keys(t).forEach(function (w) { t[w].sort(function (v, x) { return v.$a - x.$a }) }) } return u
                    }; b.voa = function (h) { return { mediaType: h.mediaType, streamId: h.Ta, movieId: h.K, bitrate: h.bitrate, location: h.location, serverId: h.Md, saveToDisk: !0, offset: h.offset, bytes: h.ea, timescale: h.W, startTicks: h.$a, durationTicks: h.du } }; b.mZa = c; b.kZa = function (h) {
                        var l = c(h); if (h.stream.te && h.stream && h.stream.Y) {
                            var n = { timescale: h.stream.Y.W, startTicks: h.stream.Y.ql, offset: h.stream.Y.Sd(0) },
                                q = h.stream.Y.Dx, p = q.sizes.buffer; q = q.vd.buffer
                        } return { mediaType: l.mediaType, streamId: l.streamId, movieId: l.movieId, bitrate: l.bitrate, location: l.location, serverId: l.serverId, saveToDisk: !0, offset: l.offset, bytes: l.bytes, timescale: l.timescale, frameDuration: l.frameDuration, headerData: g.OC(h.Xg.map(function (u) { return u.data })), initSegments: l.initSegments, encrypted: h.cl, fragments: n, sizes: p, durations: q }
                    }; b.MZa = function (h) {
                        return {
                            priority: h.priority, movieId: h.K, saveToDisk: h.Xh, firstSelectedStreamBitrate: h.Nw,
                            initSelectionReason: h.gA, histDiscountedThroughputValue: h.tD, histTdigest: h.Ro, histAge: h.Qo
                        }
                    }; b.v1a = function (h) { return !f.has(h, "startTicks") }; b.Cqa = function (h) { return !h.Dpa || !h.W || !h.Y || void 0 === h.Y.ql || void 0 === h.Y.offset || void 0 === h.Y.vd || !h.Y.vd.length || void 0 === h.Y.sizes || !h.Y.sizes.length }; b.Bqa = function (h) { return void 0 === h.ea || void 0 === h.offset || void 0 === h.W || void 0 === h.$a || void 0 === h.du }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Hza = void 0; var c = a(2), f = a(9); r = a(44);
                    var k = a(102); a = function (m) {
                        function g(d, h, l, n, q, p) { n = m.call(this, d, h, n, q, p) || this; h.ea = l.byteLength; k.$m.Ab(n, d, h); n.GL = l; n.$mb = h.ea; return n } c.__extends(g, m); Object.defineProperties(g.prototype, { gd: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { Fu: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { uf: { get: function () { return 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            status: {
                                get: function () { return 0 },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { zj: { get: function () { return 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { th: { get: function () { }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { active: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { complete: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            response: {
                                get: function () { return this.GL },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { YOb: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { readyState: { get: function () { }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { url: { get: function () { return "disk://" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { aborted: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            gN: {
                                get: function () { return "" },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { sva: { get: function () { return !1 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { bytesReceived: { get: function () { return this.$mb }, enumerable: !1, configurable: !0 } }); g.prototype.Du = function () { return !0 }; g.prototype.vG = function (d) { this.ff = d.appendBuffer(this.response, f.Aq(this)); return { ga: this.ff } }; g.prototype.wi = function () { return -1 }; g.prototype.abort = function () { return !0 }; g.prototype.md = function () { }; g.prototype.Faa =
                            function () { return !1 }; return g
                    }(a(240).UJ); b.Hza = a; r.zf(k.$m, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.FLa = void 0; var c = a(2); r = a(19); var f = a(61), k = c.__importDefault(a(6)), m = a(17), g = a(256), d = a(9), h = a(5), l = a(966), n = a(222), q = new k.default.Console("ASEJS", "media|asejs"); q.trace.bind(q); !1; r = function (p) {
                        function u(t, w, v, x) {
                            var y = p.call(this) || this; y.config = t; y.EC = w; y.Wp = v; y.AE = x; y.gB = {}; t = a(408); y.console = q; y.console.trace("nf-ase shim version:", t, "DEBUG:", !1); y.Ma = g.rH();
                            !1; return y
                        } c.__extends(u, p); Object.defineProperties(u.prototype, { Vb: { get: function () { return this.Ma.Vb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { Sn: { get: function () { return this.Ma.Sn }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { Sh: { get: function () { return this.Ma.Sh }, enumerable: !1, configurable: !0 } }); u.prototype.Ab = function (t, w, v, x, y, z, A, B) { this.Ma.Mwa({ audio: t, video: w, ija: A, cza: B }, { T: x, ea: y }); this.Ma.open(this.config, this.AE) }; u.prototype.nZ = function (t,
                            w, v) { this.Ma.Mwa({ total: t }, { T: w, ea: v }) }; u.prototype.createSession = function (t, w, v, x, y, z, A, B, E, D) {
                                this.console.trace("creating session"); this.Ma.Vb.reset(); var F = Number(t.movieId); E = this.N6(F, y.da); this.gB[E] = { cka: function () { }, da: y.da, equals: function (C) { return C.S === F && (y.da === C.da || !C.da || !y.da) }, iu: !1, ar: Promise.resolve({ pa: t, Ri: !!x.Ri, Je: !!x.Je, Dd: m.I8(!!x.NT, !!x.GE), config: B }), S: F }; B.Ez && this.Ma.mE(this.gB[E], { ss: y.ss, da: y.da, YC: y.YC }); D = this.BAb(F, t, B.k7a, B, y, D || u.JBb, x); var G = D[0]; E = G.na.U[G.na.ue].Aa;
                                G = [this.fW(F, G.na, v, E)]; D[1] && G.push(this.fW(F, D[1].na, v, E)); h.assert(void 0 === x.Ka, "endPts is not supported"); this.d8 = new l.GLa(this.console, this, t, D, w, G, x, y, z, A, B); B.Ir || B.mI || this.EC(); return this.d8
                            }; u.prototype.fW = function (t, w, v, x) { return w.U[w.ue].Aa === x ? (t = n.yM(w, t, d.O.Na(v)), h.assert(t, "invalid start position relative to playgraph"), t) : { ha: w.ue, offset: d.O.cb } }; u.prototype.Mx = function (t, w, v) {
                                return c.__awaiter(this, void 0, void 0, function () {
                                    var x, y, z, A; return c.__generator(this, function (B) {
                                        switch (B.label) {
                                            case 0: return x =
                                                this.Am.bind(this, v.da), y = this.N6(t, v.da), z = x(t), h.assert(void 0 !== z, "Can not update viewable. Viewable not found " + y), [4, z.ar]; case 1: return A = B.Ac(), this.gB[y] = { cka: function () { }, da: v.da, equals: function (E) { return E.S === t && (v.da === E.da || !E.da || !v.da) }, iu: !1, ar: Promise.resolve({ pa: w, Ri: A.Ri, Je: A.Je, Dd: A.Dd, config: A.config }), S: t }, [4, this.Ma.Mx(this.gB[y])]; case 2: return B.Ac(), [2]
                                        }
                                    })
                                })
                            }; u.prototype.BAb = function (t, w, v, x, y, z, A) {
                                var B = this, E = w.choiceMap; E ? (t = f.iz(E, { config: x }), this.console.trace("Generated playgraph from choicemap.")) :
                                    t = f.qE(t, z, A.NT || A.GE ? A.GE ? ["video"] : ["audio"] : ["audio", "video"]); var D = Object.create(x, { Dz: { value: y.YC }, IFb: { value: y.bM } }), F = this.Am.bind(this, y.da), G = [this.Ma.qG(t, v, D, { Am: F })]; if (E && E.lUb) { var C = E.lUb; Object.keys(C).forEach(function (H, L) { h.assert(0 === L, "Currently only one parallel graph is supported"); L = C[H]; h.assert(L.Dd && 1 === L.Dd.length && "audio" === L.Dd[0], "Currently parallel graph can only be media type [audio]"); H = f.iz(E, c.__assign(c.__assign({}, C[H]), { config: x })); G.push(B.Ma.qG(H, v, D, { Am: F })) }) } return G
                            };
                        u.prototype.dxb = function () { this.Vb.CP(null) }; u.prototype.Am = function (t, w) { return this.gB[this.N6(w, t)] }; u.prototype.dYb = function (t) { this.dxb(); var w = this.N6(t.S, t.da), v = this.gB[w]; v && (v.iu = !0); this.Ma.hv(t.qa); t.Ia && this.Ma.bP(t.Ia); t.Lg && this.Ma.hv(t.Lg); t.Aj && this.Ma.bP(t.Aj); t === this.d8 && delete this.d8; this.Ma.Gva(this.gB[w]); delete this.gB[w] }; u.prototype.Jb = function () {
                            h.assert(0 === this.Ma.bE.length, "Attempted to destruct ShimManager with playgraphs present in ASE"); h.assert(0 === this.Ma.j7a.length,
                                "Attempted to destruct ShimManager with players present in ASE"); h.assert(0 === Object.keys(this.gB).length, "Attempted to destruct ShimManager with session config active"); h.assert(void 0 === this.d8, "Attempt to destruct ShimManager with latest session still defined"); this.Ma.close()
                        }; u.prototype.N6 = function (t, w) { return t + "-" + w }; u.JBb = "s0"; return u
                    }(r.EventEmitter); b.FLa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.yza = void 0; var c = a(2), f = a(19), k = a(359), m = a(227), g = a(897), d =
                        a(223), h = a(17); a(216); var l = a(410), n = a(413), q = a(935), p = a(404), u = a(26), t = a(5), w = a(238), v = a(936), x = a(937), y = a(938), z = a(88), A = a(177), B = a(939), E = a(67), D = a(258), F = a(9), G = c.__importDefault(a(6)), C = a(940), H = a(941), L = a(942), N = a(943), J = a(57), Q = a(357), K = a(420), I = a(954), M = a(955); r = function () {
                            function O(P) { this.I = P; this.events = new f.EventEmitter; this.ed = k.ko.CLOSED; this.pw = []; this.qZ = []; this.bT = []; this.Op = []; this.JNa = {}; this.a3 = {}; this.Jxa = k.CQ.default; this.yrb = new z.Tv({ Fq: this, source: "engine", AA: 10, console: P }) }
                            Object.defineProperties(O.prototype, { $u: { get: function () { t.assert(this.Gy); return this.Gy }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { state: { get: function () { return this.ed }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { j7a: { get: function () { return this.bT }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { bE: { get: function () { return this.Op.map(function (P) { return P.na }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype,
                                { uVb: { get: function () { return this.Op }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { Vb: { get: function () { this.wJ(); return this.kz.Vb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { Sn: { get: function () { this.wJ(); return this.kz.Sn }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { Sh: { get: function () { this.wJ(); return this.kz.Sh }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, {
                                    m5b: {
                                        get: function () { return this.pw.length },
                                        enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(O.prototype, { X3: { get: function () { return this.JNa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { iJ: { get: function () { return this.a3 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(O.prototype, { LQb: { get: function () { return this.gPa || (this.gPa = this.Gvb()) }, enumerable: !1, configurable: !0 } }); O.prototype.open = function (P, S, U, Z) {
                                    var ia = this; if (this.ed === k.ko.OPEN) return !1; this.J = P; this.Zs = new E.fS(new D.D1({
                                        tk: !0, currentTime: function () { return F.O.Na(G.default.time.fa()) },
                                        speed: 1
                                    }), this.I, "Engine Scheduler"); this.BOa = new g.QDa(this.I, P); this.nC = new q.cLa(this.P7.bind(this), P); this.kz = d.ZJ.RZa(P, S); this.ed = k.ko.OPEN; P = Object.create(P, { ctb: { value: P.mI || P.Ir } }); this.Gy = K.$V(P); U && this.Gy.B$a(U); Z && this.Gy.Twa(Z); this.m7a = new I.mKa({ Xk: function () { ia.ed !== k.ko.CLOSED && ia.nC.Xk("playgraphOpportunity") } }); this.hPa = new L.qHa(function () { return ia.z6() }, function () { return ia.A6().global }, this.I); this.GAb(); return !0
                                }; O.prototype.qG = function (P, S, U, Z, ia) {
                                    var ya = this; void 0 === ia &&
                                        (ia = !0); this.wJ(); var na = Object.create(U, { HP: { value: this.iJ } }); if (ia && (U = this.$u.Uwb(P, na))) return U.Fcb(S), P = this.MI.bind(this, Z, U), U.C_b(P), U; P = [P, S, na, O.QRb++, this.Vb, function () { for (var ra = [], T = 0; T < arguments.length; T++)ra[T] = arguments[T]; return ya.MI.apply(ya, c.__spread([Z, X], ra)) }, function (ra) { var T, R = Z.Am(ra.S), ca = null === (T = u.re(ya.pw, function (ua) { return ua.wM.equals(R) })) || void 0 === T ? void 0 : T.P; return null === ca || void 0 === ca ? void 0 : ca.ym(na, ra.pm.T) }, function (ra) { return ya.nC.Xk(ra) }, ia ? this.$u.Twb.bind(this.$u) :
                                            function () { }, this.z6.bind(this)]; if (this.J.l5) { S = a(956); var X = S.hUa.apply(S, c.__spread([{}], P)) } else X = new (n.I_.bind.apply(n.I_, c.__spread([void 0], P))); X.qh(new x.WLa(X)); X.qh(new y.rMa(X.ys)); X.W2a.qh(new N.Tza(X)); this.Jy.gP.forEach(function (ra) { return X.qh(ra) }); this.m7a.qG(X); P = new f.di; P.on(X.events, "requestsPruned", this.DYb.bind(this)); P.on(X.events, "weightUpdated", this.Ita.bind(this)); P.on(X.events, "underflow", this.zk.bind(this, X)); this.Op.push({ na: X, Yg: P, FY: 0 }); this.Ita(); return X
                                }; O.prototype.zk =
                                    function (P) { P = this.hPa.VFb(P); (null === P || void 0 === P ? 0 : P.a5) || this.$u.reset() }; O.prototype.hv = function (P) { this.m7a.hv(P); this.Op = this.Op.filter(function (S) { return S.na === P ? (S.Yg.clear(), !1) : !0 }); P.Jb(); this.Ita() }; O.prototype.VQa = function (P, S) {
                                        var U, Z; this.wJ(); var ia = S.Dd; P = [P, void 0 === ia ? [0, 1] : ia, c.__assign({ HP: null !== (Z = null !== (U = S.HP) && void 0 !== U ? U : this.a3) && void 0 !== Z ? Z : {} }, S)]; U = this.J.l5 ? a(963).gUa.apply(void 0, c.__spread(P)) : new (l.AQ.bind.apply(l.AQ, c.__spread([void 0], P))); this.bT.push(U);
                                        return U
                                    }; O.prototype.bP = function (P) { this.wJ(); this.bT = this.bT.filter(function (S) { return S !== P }); P.Jb() }; O.prototype.Mwa = function (P, S) { this.JNa = P; this.a3 = S; this.gPa = void 0 }; O.prototype.mE = function (P, S) { var U, Z = null === (U = u.re(this.pw, function (ia) { return ia.wM.equals(P) })) || void 0 === U ? void 0 : U.P; Z ? Z.mE(c.__assign(c.__assign({}, S), { Un: this.dta.bind(this) })) : this.qZ.push({ rdb: P, Y$a: S }) }; O.prototype.Gva = function (P) { this.qZ = this.qZ.filter(function (S) { return !S.rdb.equals(P) }) }; O.prototype.close = function () {
                                        this.ed !==
                                            k.ko.CLOSED && (this.TXb(), t.assert(0 === this.pw.length, "Unexpected viewable lease after Playgraph destruction."), this.SXb(), this.qZ = [], delete this.kz, this.ed = k.ko.CLOSED, this.Zs.Jb())
                                    }; O.prototype.I_b = function (P) { this.Jxa = P; this.nC.Xk("streamingModeChanged") }; O.prototype.Kn = function () { return this.Jy.Kn() }; O.prototype.GAb = function () {
                                        this.Jy = new J.ifa(this.J); this.Jy.qh(new C.hDa(this)); this.Jy.qh(new B.eLa(this.Vb, this.nC)); this.Jy.qh(new v.dDa(this.Vb)); this.Jy.qh(new A.Sv(this.yrb)); this.Jy.qh(new A.Sv(this.nC.yq));
                                        this.Jy.qh(new A.Sv(this.BOa.Dh)); this.Jy.qh(new A.Sv(this.hPa.Dh))
                                    }; O.prototype.dta = function () { }; O.prototype.Mx = function (P) {
                                        return c.__awaiter(this, void 0, void 0, function () {
                                            var S, U, Z, ia; return c.__generator(this, function (ya) {
                                                switch (ya.label) {
                                                    case 0: return t.assert(P, "ase.updateViewable(): Viewable config not found."), S = u.re(this.pw, function (na) { return !0 !== na.wM.iu && na.wM.equals(P) }), t.assert(S, "ase.updateViewable(): Viewable entry not found."), [4, S.IE]; case 1: return U = ya.Ac(), ia = (Z = U).Mx, [4, P.ar];
                                                    case 2: return ia.apply(Z, [ya.Ac()]), [2]
                                                }
                                            })
                                        })
                                    }; O.prototype.MI = function (P, S, U, Z) {
                                        var ia = this, ya = P.Am(U, Z); t.assert(ya, "ase.requestViewable(): Viewable config not found."); var na = u.re(this.pw, function (ra) { return !0 !== ra.wM.iu && ra.wM.equals(ya) }); na || (na = {
                                            wM: ya, IE: function () { return c.__awaiter(ia, void 0, void 0, function () { var ra, T; return c.__generator(this, function (R) { switch (R.label) { case 0: return [4, ya.ar]; case 1: return ra = R.Ac(), T = this.BU(U, ya, ra), na.P = T, [2, T] } }) }) }(), P: void 0, nOb: new w.DFa(function (ra) {
                                                ra() &&
                                                    ia.Kva(na)
                                            }, F.Bq(G.default, this.I, "" + U))
                                        }, this.pw.push(na)); var X = this; return { get P() { return null === na || void 0 === na ? void 0 : na.P }, get IE() { var ra = this; return function () { return c.__awaiter(ra, void 0, void 0, function () { var T; return c.__generator(this, function (R) { switch (R.label) { case 0: return R.Vm.push([0, 2, , 3]), [4, na.IE]; case 1: return [2, R.Ac()]; case 2: throw T = R.Ac(), Q.HJa.gNb(T) && S.ah(T), X.Kva(na, !1), T; case 3: return [2] } }) }) }() }, e8: na.nOb.Qy() }
                                    }; O.prototype.Kva = function (P, S) {
                                        void 0 === S && (S = !0); t.assert(P,
                                            "expected viewableEntry to exist"); var U = P.P, Z = P.IE; S && (U ? U.Jb() : Z.then(function (ia) { ia.Jb() })); this.pw = this.pw.filter(function (ia) { return ia !== P })
                                    }; O.prototype.BU = function (P, S, U) {
                                        function Z(ca) { ia.events.emit("logdata", ca) } var ia = this, ya; this.wJ(); var na = U.pa, X = U.Ri, ra = U.Je, T = U.Dd; T = void 0 === T ? h.Cf : T; U = U.config; var R = [new p.Yda(0), new p.Yda(1)]; na = {
                                            pa: na, config: U, Ri: X, Dd: T, c6: void 0, Vb: this.kz.Vb, Sh: this.kz.Sh, bXa: {
                                                $r: function () { return ia.nC.Xk("networkFailureReset") }, ah: this.ah.bind(this, P), Pn: this.Pn.bind(this,
                                                    P), Vn: Z
                                            }, e0a: { Vn: Z, eW: void 0, iD: function (ca) { return R[ca] }, B7: function () { return !0 }, If: void 0, ol: void 0, wh: void 0, sD: void 0 }, nP: { Sy: this.Sy.bind(this), II: this.II.bind(this) }, iJ: this.a3, Sb: 0, gp: void 0, e4a: { zqa: !!ra, L1a: !1 }, FX: function () { }
                                        }; P = new m.eca(P, na); U.Ez && (na = (null === (ya = u.re(this.qZ, function (ca) { return ca.rdb.equals(S) })) || void 0 === ya ? void 0 : ya.Y$a) || {}, this.Gva(S), P.mE(c.__assign(c.__assign({}, na), { Un: this.dta.bind(this) }))); return P
                                    }; O.prototype.P7 = function () {
                                        t.assert(this.state === k.ko.OPEN);
                                        var P = this.A6(), S = this.AN(); return this.BOa.Q5a(P, S)
                                    }; O.prototype.AN = function () {
                                        var P = this, S, U = null !== (S = this.J.TVb) && void 0 !== S ? S : this.Op.every(function (Z) { return !Z.na.zH }); S = u.flatten(this.Op.map(function (Z) { return Z.na.AN().map(function (ia) { Z.na.zH || 1 === Z.FY || (ia.vH = Z.FY); return ia }) })); this.Jxa === k.CQ.disabled ? S = [] : this.Jxa === k.CQ.rPb && (S = S.filter(function (Z) { return P.J.esa >= Z.Ps - Z.Or })); U || (U = S.filter(function (Z) { var ia; return 1 === (null !== (ia = Z.vH) && void 0 !== ia ? ia : 1) }), U.length && (S = U)); U = this.pw.reduce(function (Z,
                                            ia) { return ia.P ? c.__spread(Z, ia.P.AN()) : Z }, []); return u.flatten(c.__spread(S, U))
                                    }; O.prototype.wJ = function () { if (this.ed === k.ko.CLOSED) throw Error("Engine CLOSED"); }; O.prototype.TXb = function () { var P; try { for (var S = c.__values(this.Op), U = S.next(); !U.done; U = S.next()) { var Z = U.value; Z.Yg.clear(); this.hv(Z.na) } } catch (ya) { var ia = { error: ya } } finally { try { U && !U.done && (P = S.return) && P.call(S) } finally { if (ia) throw ia.error; } } }; O.prototype.SXb = function () {
                                        var P; try {
                                            for (var S = c.__values(this.bT), U = S.next(); !U.done; U =
                                                S.next())this.bP(U.value)
                                        } catch (ia) { var Z = { error: ia } } finally { try { U && !U.done && (P = S.return) && P.call(S) } finally { if (Z) throw Z.error; } }
                                    }; O.prototype.ah = function (P, S, U, Z, ia, ya, na) { void 0 === na && (na = !1); var X = !1; this.YZa(P).forEach(function (ra) { if (!na || h.So(ra.Ff.value)) ra.ah(S, P, U, Z, ia, ya, na), X = !0 }); return X }; O.prototype.Pn = function (P) { return this.YZa(P).some(function (S) { return S.Pn() }) }; O.prototype.YZa = function (P) { return this.Op.filter(function (S) { S = S.na.na; return "" + P === "" + S.U[S.ue].S }).map(function (S) { return S.na }) };
                            O.prototype.A6 = function () { var P = new H.NDa; this.Op.forEach(function (S) { var U = S.na; S = S.FY; var Z = U.A6(); Z.vH = S; P.add(U.id, Z) }); return P }; O.prototype.z6 = function () { return this.LQb }; O.prototype.Gvb = function () { var P, S = M.ZSa(this.J, this.X3); return { total: (P = {}, P[1] = this.X3.video || Infinity, P[0] = this.X3.audio || Infinity, P.total = this.X3.total || Infinity, P), Bxa: S } }; O.prototype.Sy = function (P) { this.nC.Sy(P) }; O.prototype.II = function (P) { this.nC.II(P) }; O.prototype.Ita = function () {
                                var P = this.bE.reduce(function (S, U) {
                                    return Math.max(U.weight,
                                        0) + S
                                }, 0); this.Op.forEach(function (S) { S.FY = 0 >= S.na.weight ? 0 : S.na.weight / P })
                            }; O.prototype.DYb = function () { }; O.QRb = 0; c.__decorate([z.Wb({ methodName: "open" })], O.prototype, "open", null); c.__decorate([z.Wb({ methodName: "addPlaygraph", context: function (P) { var S, U; return { playgraphCount: null !== (U = null === (S = P.F5a.Op) || void 0 === S ? void 0 : S.length) && void 0 !== U ? U : 0 } } })], O.prototype, "qG", null); c.__decorate([z.Wb({ methodName: "removePlaygraph", context: function (P) { return { playgraphCount: P.F5a.Op.length } } })], O.prototype,
                                "hv", null); c.__decorate([z.Wb({ methodName: "close" })], O.prototype, "close", null); c.__decorate([z.Wb({ methodName: "setStreamingMode", Do: !0 })], O.prototype, "I_b", null); c.__decorate([z.Wb({ methodName: "notifyAseException", Do: !0 })], O.prototype, "dta", null); c.__decorate([z.Wb({ methodName: "updateViewable" })], O.prototype, "Mx", null); c.__decorate([z.Wb({ methodName: "requestViewable" })], O.prototype, "MI", null); c.__decorate([z.Wb({ methodName: "removeViewable" })], O.prototype, "Kva", null); c.__decorate([z.Wb({ methodName: "createViewable" })],
                                    O.prototype, "BU", null); c.__decorate([z.Wb({ methodName: "issueRequestOpportunity", al: !0, return: !0 })], O.prototype, "P7", null); c.__decorate([z.Wb({ methodName: "reportStreamingFailure", Do: !0 })], O.prototype, "ah", null); return O
                        }(); b.yza = r
                }, function (r, b, a) {
                    function c(n, q) { return n.filter(function (p) { return p.groupId === q.groupId }).reduce(m.z4a(function (p) { return p.MA }), q).MA } Object.defineProperties(b, { __esModule: { value: !0 } }); b.QDa = void 0; var f = a(2), k = a(216), m = a(26), g = a(17), d = a(88), h = f.__importDefault(a(6)),
                        l = a(409); r = function () {
                            function n(q, p) { this.I = q; this.config = p; this.A2a = 0; this.Dh = new d.Tv({ AA: 10, Fq: this, source: "GraphStreamingProcess" }) } n.prototype.Q5a = function (q, p) {
                                var u, t, w = !1, v = []; if (0 < p.length) {
                                    var x = this.H0b(p), y = x.some(function (N) { return 1 === l.aTa(N) && g.So(N.Ff) }), z = x.slice(), A = [!1, !1]; try {
                                        for (var B = f.__values(x), E = B.next(); !E.done; E = B.next()) {
                                            var D = E.value; if (D.CD && "global" !== A[D.mediaType]) {
                                                var F = D.V1a(q, null !== (t = D.vH) && void 0 !== t ? t : 1), G = k.j8a(F.reason); G && (A[D.mediaType] = G, m.ORa(z, D));
                                                if (F.result) { var C = c(z, D); if (this.Hwb(D, y, C)) { var H = D.Z1a(); this.Gra(v, D, H.reason); H.Cm && (this.A2a = h.default.time.fa()); if (w = H.Cm) break } else if (this.Gra(v, D, "concurrencyCheck"), !G) break } else this.Gra(v, D, F.reason)
                                            }
                                        }
                                    } catch (N) { var L = { error: N } } finally { try { E && !E.done && (u = B.return) && u.call(B) } finally { if (L) throw L.error; } }
                                } this.Dh.qw({ streamableCount: p.length, streamableReasons: v, lastSuccessfulIssueRequestMs: this.A2a }); return w
                            }; n.prototype.H0b = function (q) {
                                return this.lWb(q).sort(function (p, u) {
                                    return p.priority -
                                        u.priority
                                }).map(function (p) { return p.k1b })
                            }; n.prototype.lWb = function (q) { var p = this; return q.map(function (u) { return { priority: -l.$Sa(p.config, u, p.I), k1b: u } }) }; n.prototype.Gra = function (q, p, u) { this.Dh.enabled && q.push(this.AJb(u, p)) }; n.prototype.AJb = function (q, p) { return { mediaType: p.mediaType, reason: q, bufferingState: p.Ff, currentPlayerMs: p.Or, pathCompletePlayerMs: p.MA, streamingPlayerMs: p.Ps } }; n.prototype.Hwb = function (q, p, u) { return this.config.eU && (p || g.So(q.Ff)) ? this.Iwb(q, u) : this.Jwb(q, u) }; n.prototype.Kwb =
                                function (q) { return q.Ps <= q.MA }; n.prototype.Jwb = function (q, p) { return q.Ps - (q.Or > p ? q.Or : p) <= Math.max(this.config.Hsa, Math.min((q.MA - q.Or) * this.config.Hxa, this.config.jQb)) }; n.prototype.Iwb = function (q, p) { if (void 0 === this.config.eU) return !0; var u = this.config.eU, t = q.Or + u; return q.Ps <= t ? !0 : this.Kwb(q) && p >= t && q.Ps - p < u }; f.__decorate([d.Wb({ methodName: "onRequestOpportunity", al: !0 })], n.prototype, "Q5a", null); return n
                        }(); b.QDa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.NSa = void 0;
                    var c = a(257), f = a(900); b.NSa = function () { return function (k) { function m(q) { n[q] = function (p) { return h({ rules: [{ Ql: q, config: p }] }, !0) } } function g(q) { d[q] = function (p) { return h({ rules: [{ Ql: q, config: p }] }) } } var d = {}, h = c.map(k.B3a), l; for (l in k.WY) g(l); d.ESb = h({ rules: [], Oia: !0 }); d.fo = h({ rules: [], fo: !0 }); var n = {}; for (l in k.WY) m(l); n.ESb = h({ rules: [], Oia: !0 }); n.fo = h({ rules: [], fo: !0 }); d.return = n; return { Kla: d, z9a: k, T7a: function (q, p, u) { return f.QUa(q, p, u, k.WY, k.B3a) } } } }
                }, function (r, b, a) {
                    (function (c, f) {
                        var k; (function (m) {
                            (function (g) {
                                function d(n,
                                    q) { return function (p, u) { "function" !== typeof n[p] && Object.defineProperty(n, p, { configurable: !0, writable: !0, value: u }); q && q(p, u) } } var h = "object" === typeof f ? f : "object" === typeof self ? self : "object" === typeof this ? this : Function("return this;")(), l = d(m); "undefined" === typeof h.Reflect ? h.Reflect = m : l = d(h.Reflect, l); g(l)
                            })(function (g) {
                                function d(U, Z, ia) { var ya = S.get(U); if (w(ya)) { if (!ia) return; ya = new O; S.set(U, ya) } U = ya.get(Z); if (w(U)) { if (!ia) return; U = new O; ya.set(Z, U) } return U } function h(U, Z, ia) {
                                    if (l(U, Z, ia)) return !0;
                                    Z = E(Z); return null === Z ? !1 : h(U, Z, ia)
                                } function l(U, Z, ia) { Z = d(Z, ia, !1); return w(Z) ? !1 : !!Z.has(U) } function n(U, Z, ia) { if (l(U, Z, ia)) return q(U, Z, ia); Z = E(Z); if (null !== Z) return n(U, Z, ia) } function q(U, Z, ia) { Z = d(Z, ia, !1); if (!w(Z)) return Z.get(U) } function p(U, Z) {
                                    var ia = u(U, Z); U = E(U); if (null === U) return ia; Z = p(U, Z); if (0 >= Z.length) return ia; if (0 >= ia.length) return Z; U = new P; for (var ya = [], na = 0; na < ia.length; na++) { var X = ia[na], ra = U.has(X); ra || (U.add(X), ya.push(X)) } for (ia = 0; ia < Z.length; ia++)X = Z[ia], (ra = U.has(X)) || (U.add(X),
                                        ya.push(X)); return ya
                                } function u(U, Z) { var ia = []; U = d(U, Z, !1); if (w(U)) return ia; U = U.keys(); Z = B(U, J); if (!A(Z)) throw new TypeError; U = Z.call(U); if (!v(U)) throw new TypeError; for (Z = 0; ;) { var ya = U.next(); ya = ya.done ? !1 : ya; if (!ya) return ia.length = Z, ia; ya = ya.value; try { ia[Z] = ya } catch (X) { try { var na = U["return"]; na && na.call(U) } finally { throw X; } } Z++ } } function t(U) {
                                    if (null === U) return 1; switch (typeof U) {
                                        case "undefined": return 0; case "boolean": return 2; case "string": return 3; case "symbol": return 4; case "number": return 5;
                                        case "object": return null === U ? 1 : 6; default: return 6
                                    }
                                } function w(U) { return void 0 === U } function v(U) { return "object" === typeof U ? null !== U : "function" === typeof U } function x(U, Z) {
                                    switch (t(U)) { case 0: return U; case 1: return U; case 2: return U; case 3: return U; case 4: return U; case 5: return U }Z = 3 === Z ? "string" : 5 === Z ? "number" : "default"; var ia = B(U, N); if (void 0 !== ia) { U = ia.call(U, Z); if (v(U)) throw new TypeError; return U } a: {
                                        if ("string" === ("default" === Z ? "number" : Z)) {
                                            Z = U.toString; if (A(Z) && (Z = Z.call(U), !v(Z))) break a; Z =
                                                U.valueOf
                                        } else { Z = U.valueOf; if (A(Z) && (Z = Z.call(U), !v(Z))) break a; Z = U.toString } if (!A(Z) || (Z = Z.call(U), v(Z))) throw new TypeError;
                                    } return Z
                                } function y(U) { U = x(U, 3); return "symbol" === typeof U ? U : "" + U } function z(U) { return Array.isArray ? Array.isArray(U) : U instanceof Object ? U instanceof Array : "[object Array]" === Object.prototype.toString.call(U) } function A(U) { return "function" === typeof U } function B(U, Z) { U = U[Z]; if (void 0 !== U && null !== U) { if (!A(U)) throw new TypeError; return U } } function E(U) {
                                    var Z = Object.getPrototypeOf(U);
                                    if ("function" !== typeof U || U === M || Z !== M) return Z; var ia = U.prototype; ia = ia && Object.getPrototypeOf(ia); if (null == ia || ia === Object.prototype) return Z; ia = ia.constructor; return "function" !== typeof ia || ia === U ? Z : ia
                                } function D() {
                                    function U(ra) { return ra } function Z(ra, T) { return T } function ia(ra, T) { return [ra, T] } var ya = {}, na = [], X = function () {
                                        function ra(T, R, ca) { this.Qe = 0; this.cf = T; this.Ef = R; this.drb = ca } ra.prototype["@@iterator"] = function () { return this }; ra.prototype[J] = function () { return this }; ra.prototype.next = function () {
                                            var T =
                                                this.Qe; if (0 <= T && T < this.cf.length) { var R = this.drb(this.cf[T], this.Ef[T]); T + 1 >= this.cf.length ? (this.Qe = -1, this.Ef = this.cf = na) : this.Qe++; return { value: R, done: !1 } } return { value: void 0, done: !0 }
                                        }; ra.prototype.throw = function (T) { 0 <= this.Qe && (this.Qe = -1, this.Ef = this.cf = na); throw T; }; ra.prototype.return = function (T) { 0 <= this.Qe && (this.Qe = -1, this.Ef = this.cf = na); return { value: T, done: !0 } }; return ra
                                    }(); return function () {
                                        function ra() { this.cf = []; this.Ef = []; this.Wv = ya; this.vt = -2 } Object.defineProperty(ra.prototype, "size",
                                            { get: function () { return this.cf.length }, enumerable: !0, configurable: !0 }); ra.prototype.has = function (T) { return 0 <= this.zy(T, !1) }; ra.prototype.get = function (T) { T = this.zy(T, !1); return 0 <= T ? this.Ef[T] : void 0 }; ra.prototype.set = function (T, R) { T = this.zy(T, !0); this.Ef[T] = R; return this }; ra.prototype.delete = function (T) { var R = this.zy(T, !1); if (0 <= R) { var ca = this.cf.length; for (R += 1; R < ca; R++)this.cf[R - 1] = this.cf[R], this.Ef[R - 1] = this.Ef[R]; this.cf.length--; this.Ef.length--; T === this.Wv && (this.Wv = ya, this.vt = -2); return !0 } return !1 };
                                        ra.prototype.clear = function () { this.cf.length = 0; this.Ef.length = 0; this.Wv = ya; this.vt = -2 }; ra.prototype.keys = function () { return new X(this.cf, this.Ef, U) }; ra.prototype.values = function () { return new X(this.cf, this.Ef, Z) }; ra.prototype.entries = function () { return new X(this.cf, this.Ef, ia) }; ra.prototype["@@iterator"] = function () { return this.entries() }; ra.prototype[J] = function () { return this.entries() }; ra.prototype.zy = function (T, R) {
                                            this.Wv !== T && (this.vt = this.cf.indexOf(this.Wv = T)); 0 > this.vt && R && (this.vt = this.cf.length,
                                                this.cf.push(T), this.Ef.push(void 0)); return this.vt
                                        }; return ra
                                    }()
                                } function F() {
                                    return function () {
                                        function U() { this.Rg = new O } Object.defineProperty(U.prototype, "size", { get: function () { return this.Rg.size }, enumerable: !0, configurable: !0 }); U.prototype.has = function (Z) { return this.Rg.has(Z) }; U.prototype.add = function (Z) { return this.Rg.set(Z, Z), this }; U.prototype.delete = function (Z) { return this.Rg.delete(Z) }; U.prototype.clear = function () { this.Rg.clear() }; U.prototype.keys = function () { return this.Rg.keys() }; U.prototype.values =
                                            function () { return this.Rg.values() }; U.prototype.entries = function () { return this.Rg.entries() }; U.prototype["@@iterator"] = function () { return this.keys() }; U.prototype[J] = function () { return this.keys() }; return U
                                    }()
                                } function G() {
                                    function U() {
                                        do {
                                            var X = "function" === typeof Uint8Array ? "undefined" !== typeof crypto ? crypto.getRandomValues(new Uint8Array(16)) : "undefined" !== typeof msCrypto ? msCrypto.getRandomValues(new Uint8Array(16)) : ia(new Uint8Array(16), 16) : ia(Array(16), 16); X[6] = X[6] & 79 | 64; X[8] = X[8] & 191 | 128; for (var ra =
                                                "", T = 0; 16 > T; ++T) { var R = X[T]; if (4 === T || 6 === T || 8 === T) ra += "-"; 16 > R && (ra += "0"); ra += R.toString(16).toLowerCase() } X = "@@WeakMap@@" + ra
                                        } while (I.has(ya, X)); ya[X] = !0; return X
                                    } function Z(X, ra) { if (!H.call(X, na)) { if (!ra) return; Object.defineProperty(X, na, { value: I.create() }) } return X[na] } function ia(X, ra) { for (var T = 0; T < ra; ++T)X[T] = 255 * Math.random() | 0; return X } var ya = I.create(), na = U(); return function () {
                                        function X() { this.Bt = U() } X.prototype.has = function (ra) { ra = Z(ra, !1); return void 0 !== ra ? I.has(ra, this.Bt) : !1 }; X.prototype.get =
                                            function (ra) { ra = Z(ra, !1); return void 0 !== ra ? I.get(ra, this.Bt) : void 0 }; X.prototype.set = function (ra, T) { Z(ra, !0)[this.Bt] = T; return this }; X.prototype.delete = function (ra) { ra = Z(ra, !1); return void 0 !== ra ? delete ra[this.Bt] : !1 }; X.prototype.clear = function () { this.Bt = U() }; return X
                                    }()
                                } function C(U) { U.xmb = void 0; delete U.xmb; return U } var H = Object.prototype.hasOwnProperty, L = "function" === typeof Symbol, N = L && "undefined" !== typeof Symbol.toPrimitive ? Symbol.toPrimitive : "@@toPrimitive", J = L && "undefined" !== typeof Symbol.iterator ?
                                    Symbol.iterator : "@@iterator"; L = "function" === typeof Object.create; var Q = { __proto__: [] } instanceof Array, K = !L && !Q, I = { create: L ? function () { return C(Object.create(null)) } : Q ? function () { return C({ __proto__: null }) } : function () { return C({}) }, has: K ? function (U, Z) { return H.call(U, Z) } : function (U, Z) { return Z in U }, get: K ? function (U, Z) { return H.call(U, Z) ? U[Z] : void 0 } : function (U, Z) { return U[Z] } }, M = Object.getPrototypeOf(Function), O = (L = "object" === typeof c && c.$Wa && "true" === c.$Wa.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !==
                                        typeof Map || "function" !== typeof Map.prototype.entries ? D() : Map, P = L || "function" !== typeof Set || "function" !== typeof Set.prototype.entries ? F() : Set, S = new (L || "function" !== typeof WeakMap ? G() : WeakMap); g("decorate", function (U, Z, ia, ya) {
                                            if (w(ia)) { if (!z(U)) throw new TypeError; if ("function" !== typeof Z) throw new TypeError; for (ia = U.length - 1; 0 <= ia; --ia)if (ya = (0, U[ia])(Z), !w(ya) && null !== ya) { if ("function" !== typeof ya) throw new TypeError; Z = ya } return Z } if (!z(U)) throw new TypeError; if (!v(Z)) throw new TypeError; if (!v(ya) &&
                                                !w(ya) && null !== ya) throw new TypeError; null === ya && (ya = void 0); ia = y(ia); for (var na = U.length - 1; 0 <= na; --na) { var X = (0, U[na])(Z, ia, ya); if (!w(X) && null !== X) { if (!v(X)) throw new TypeError; ya = X } } return ya
                                        }); g("metadata", function (U, Z) { return function (ia, ya) { if (!v(ia)) throw new TypeError; var na; if (na = !w(ya)) { a: switch (t(ya)) { case 3: na = !0; break a; case 4: na = !0; break a; default: na = !1 }na = !na } if (na) throw new TypeError; d(ia, ya, !0).set(U, Z) } }); g("defineMetadata", function (U, Z, ia, ya) {
                                            if (!v(ia)) throw new TypeError; w(ya) ||
                                                (ya = y(ya)); d(ia, ya, !0).set(U, Z)
                                        }); g("hasMetadata", function (U, Z, ia) { if (!v(Z)) throw new TypeError; w(ia) || (ia = y(ia)); return h(U, Z, ia) }); g("hasOwnMetadata", function (U, Z, ia) { if (!v(Z)) throw new TypeError; w(ia) || (ia = y(ia)); return l(U, Z, ia) }); g("getMetadata", function (U, Z, ia) { if (!v(Z)) throw new TypeError; w(ia) || (ia = y(ia)); return n(U, Z, ia) }); g("getOwnMetadata", function (U, Z, ia) { if (!v(Z)) throw new TypeError; w(ia) || (ia = y(ia)); return q(U, Z, ia) }); g("getMetadataKeys", function (U, Z) {
                                            if (!v(U)) throw new TypeError; w(Z) ||
                                                (Z = y(Z)); return p(U, Z)
                                        }); g("getOwnMetadataKeys", function (U, Z) { if (!v(U)) throw new TypeError; w(Z) || (Z = y(Z)); return u(U, Z) }); g("deleteMetadata", function (U, Z, ia) { if (!v(Z)) throw new TypeError; w(ia) || (ia = y(ia)); var ya = d(Z, ia, !1); if (w(ya) || !ya.delete(U)) return !1; if (0 < ya.size) return !0; U = S.get(Z); U.delete(ia); if (0 < U.size) return !0; S.delete(Z); return !0 })
                            })
                        })(k || (k = {}))
                    }).call(this, a(253), a(197))
                }, function (r, b, a) {
                    function c(l, n) {
                        var q = Object.getOwnPropertyNames(Object.getPrototypeOf(l)); l = Object.keys(l).concat(q);
                        var p = Object.getPrototypeOf(n); l.forEach(function (u) { Object.getOwnPropertyDescriptor(n, u) || Object.getOwnPropertyDescriptor(p, u) || n[u] || Object.defineProperty(n, u, { get: function () { throw Error("Proxy-provided, not implemented"); }, configurable: !0, enumerable: !1 }) })
                    } function f(l, n, q, p) {
                        for (var u = [], t = 4; t < arguments.length; t++)u[t - 4] = arguments[t]; var w = p(); if ((null === w || void 0 === w ? 0 : w.Bsa) || (null === w || void 0 === w ? 0 : w.Nb)) u = u.map(function (v, x) {
                            var y; x = h.p4a(w.Bsa, null === (y = w.Nb) || void 0 === y ? void 0 : y[x]); return d.Q$(n,
                                v, q, x)
                        }); u = l.call.apply(l, k.__spread([void 0], u)); return (null === w || void 0 === w ? 0 : w.return) ? d.Q$(n, u, q, w.return, g.Kv.Aya) : u
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.fGb = b.NBb = b.QUa = void 0; var k = a(2), m = a(257), g = a(176), d = a(411), h = a(901); b.QUa = function (l, n, q, p, u) {
                        var t = {}, w = m.AZa(u); c(n, l); return new Proxy(l, {
                            get: function (v, x) {
                                var y; if (x in n) { var z = n[x]; return "function" === typeof z ? z.bind(n) : z } var A = t[x]; if (!A && !Object.getOwnPropertyDescriptor(t, x)) {
                                    A = null !== (z = null === (y = null === v || void 0 ===
                                        v ? void 0 : v.constructor) || void 0 === y ? void 0 : y.prototype) && void 0 !== z ? z : v; y = Object.getOwnPropertyDescriptor(A, x); if (null === y || void 0 === y ? 0 : y.get) return z = y.get, y = w.bind(null, v, x), v = f.bind(v, z.bind(v), q, p, y), Object.defineProperty(t, x, { get: v, enumerable: !0, configurable: !0 }), v(); z = v[x]; return "function" === typeof z ? (y = w.bind(null, v, x), v = f.bind(v, z.bind(v), q, p, y), t[x] = v) : z
                                } return A
                            }, set: function (v, x, y) { if (x in n) return n[x] = y, !0; v[x] = y; delete t[x]; return !0 }
                        })
                    }; b.NBb = c; b.fGb = f
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.p4a = void 0; var c = a(2), f = a(26); b.p4a = function (k, m) { if (k || m) { var g = (null === k || void 0 === k ? 0 : k.rules) && (null === m || void 0 === m ? 0 : m.rules) ? f.D3(k.rules, m.rules) : (null === k || void 0 === k ? void 0 : k.rules) || (null === m || void 0 === m ? void 0 : m.rules); return c.__assign(c.__assign(c.__assign({}, k), m), { rules: g }) } }
                }, function (r, b, a) {
                    function c(k, m) {
                        var g = f.__assign({}, k), d = f.__read(null !== m && void 0 !== m ? m : [], 1)[0]; d && k[d] && (k = k[d], "object" === typeof k ? (m = m.concat(), m.shift(), g[d] = c(k, m)) : g[d] = k);
                        return g
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.n$a = b.Eka = b.s6 = b.o1a = b.q1a = b.M1a = b.U_a = b.H1a = b.Xf = void 0; var f = a(2); b.Xf = function (k) { return !(null === k || void 0 === k || !k.position) }; b.H1a = function (k) { return !(null === k || void 0 === k || !k.ha) && !(null === k || void 0 === k || !k.offset) }; b.U_a = function (k) { return !(null === k || void 0 === k || !k.ha) }; b.M1a = function (k, m) { return "string" === typeof k && !(!m.gQ.na.U[k] && !m.Hg.na.U[k]) }; b.q1a = function (k) { return !(null === k || void 0 === k || !k.S) && !(null === k || void 0 === k || !k.pm) };
                    b.o1a = function (k) { return !(null === k || void 0 === k || !k.Ge) }; b.s6 = function (k, m) { var g = k; m.forEach(function (d) { g = null === g || void 0 === g ? void 0 : g[d] }); return g }; b.Eka = c; b.n$a = function (k, m, g) { for (var d = 0; d < m.length - 1 && k; d++)k = k[m[d]]; return k ? (k[m[m.length - 1]] = g, !0) : !1 }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.aAa = void 0; var c = a(2), f = a(398), k = c.__importDefault(a(6)), m = a(248); a(17); var g = a(242), d = a(9), h = a(26), l = a(67), n = a(219), q = a(5), p = a(904); r = function () {
                        function u(t, w, v, x, y, z, A,
                            B, E, D) {
                            var F = this; this.qa = t; this.X = w; this.I = v; this.J = x; this.jw = y; this.Hh = z; this.Dd = A; this.ys = B; this.fC = E; this.eC = D; this.X1 = !1; this.oOa = new d.JLa; this.tha = this.WSb.bind(this); this.pj = new m.J_(this.I); this.Ix = new p.JMa(this.I, t); this.xAb(this.Ix); this.Rk && (this.tqb = this.Lna(this.VIb()), this.Wob = d.vr.iza(this.Rk.map(function (G) { return G.BA }), function (G) { return G.every(function (C) { return C }) }, function (G) { return F.fC.set(G) }), this.Ymb = new n.jea(this.Rk.map(function (G) { return G.NW }), function (G) {
                                return d.O.min.apply(d.O,
                                    c.__spread(G))
                            }, function (G) { F.eC.set(G) }, d.O.Na(-Infinity))); this.Pp = B.QG(function () { return F.Xub() }, "branchPruner")
                        } u.prototype.Xub = function () {
                            var t, w, v, x, y, z, A; return c.__generator(this, function (B) {
                                switch (B.label) {
                                    case 0: if (!this.pj.UTa) return [3, 2]; t = c.__read(this.pj.Raa(), 1); w = t[0]; v = null !== (A = null === (z = this.jw.HP) || void 0 === z ? void 0 : z.T) && void 0 !== A ? A : 0; x = w.c8 || w.ze; y = x.add(d.O.Na(v + 1E3)); return [4, l.Pk.oQ(y)]; case 1: return B.Ac(), this.pj.remove(w), w.events.removeListener("branchEdited", this.tha),
                                        w.rf(), [3, 0]; case 2: return [2]
                                }
                            })
                        }; Object.defineProperties(u.prototype, { kWb: { get: function () { var t; return !(null === (t = this.tqb) || void 0 === t || !t.BA.value) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, { nB: { get: function () { var t; return !(null === (t = this.Rk[0]) || void 0 === t || !t.nB) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(u.prototype, {
                            lOb: {
                                get: function () {
                                    return this.X1 ? d.O.max.apply(d.O, c.__spread(this.Rk.map(function (t) {
                                        var w; return null === (w = t.Stb) || void 0 === w ? void 0 :
                                            w.v2a
                                    }).filter(h.q9))) : void 0
                                }, enumerable: !1, configurable: !0
                            }
                        }); u.prototype.oE = function (t) { this.Rk.forEach(function (w) { w.oE(t) }) }; u.prototype.WSb = function () { this.Pp.Pm(); var t = this.Rk.filter(function (w) { return w.AMb }).map(function (w) { return w.mediaType }); this.lJ(t); this.resume(t) }; u.prototype.aEb = function (t) {
                            q.assert(-1 === this.pj.Raa().indexOf(t), "Branch " + t.H.id + " is already in the collection, cannot re-queue"); t.events.addListener("branchEdited", this.tha); this.pj.enqueue(t); this.Pp.state === l.en.complete &&
                                this.Pp.Pm(); t.H.uv && this.pj.t5(); this.X1 || this.xFb(t)
                        }; u.prototype.MX = function (t) { this.Rk.forEach(function (w) { w.MX(t) }) }; u.prototype.reset = function () { this.Rk.forEach(function (t) { t.reset() }); this.X1 = !1; this.oOa.removeAllListeners(); this.EG() }; u.prototype.TY = function (t) { t = this.Lna(t); null === t || void 0 === t ? void 0 : t.reset() }; u.prototype.EG = function () { var t = this; this.pj.Raa().forEach(function (w) { return w.events.removeListener("branchEdited", t.tha) }); this.pj.clear(); this.Pp.Pm() }; u.prototype.resume = function (t) {
                            this.Rk.forEach(function (w) {
                                void 0 !==
                                    t && -1 === t.indexOf(w.mediaType) || w.resume()
                            })
                        }; u.prototype.lJ = function (t) { this.Rk.forEach(function (w) { return (void 0 === t || -1 !== t.indexOf(w.mediaType)) && w.stop() }) }; u.prototype.zk = function () { this.I.trace("attached-player: onUnderflow") }; u.prototype.j_a = function () { return this.pj.getIterator() }; u.prototype.RHb = function () { return this.Lz()[0] }; u.prototype.Lz = function () { return this.pj.Raa() }; u.prototype.xAb = function (t) {
                            var w = this; this.dm("createMediaSourceStart"); if (this.jw.XV) var v = this.jw.XV(); else v = new k.default.MediaSource(this.X.X),
                                v.Sc || (v.Sc = k.default.MediaSource.Sc); if (1 !== v.readyState) this.Qp("exception in init", "NFErr_MC_StreamingInitFailure"); else {
                                    this.dm("createMediaSourceEnd"); this.hg = v; if (!v.u3(this.Dd)) throw this.I.trace("Error:", v.error), this.Qp("error creating source buffers", "NFErr_MC_StreamingInitFailure"), v.error; this.Rk = v.sourceBuffers.filter(function (x) { return 0 <= w.Dd.indexOf(x.mediaType) }).map(function (x) {
                                        var y = new g.pca(w.I, x.mediaType, v, x, w.J, !0, { Ue: function () { return w.X.Vg.T }, Uo: function (z) { return w.X.Uo(z.S) } },
                                            w.ys); y.addListener("error", function (z) { return w.Qp(z.errorstr) }); y.addListener("logdata", function (z) { return w.Hh.emit("logdata", z) }); y.addListener("managerdebugevent", function (z) { w.Hh.emit("managerdebugevent", z) }); return new f.cca(y, x.mediaType, w, w.J, w.I, w.X, w.jw, w.ys, t)
                                    })
                                }
                        }; u.prototype.Jb = function () { this.Wob.clear(); this.Ymb.clear(); this.Rk.forEach(function (t) { return t.Jb() }); this.jw.XV || this.hg.hq(); this.EG(); this.Pp.Jb() }; u.prototype.Oi = function (t) { return this.Rk.every(function (w) { return w.Oi(t) }) };
                        u.prototype.Nna = function () { return { VWb: this.Lz(), lVb: this.Rk } }; u.prototype.xFb = function (t) { var w = this; this.X1 = !0; t.fg.forEach(function (v) { var x = w.Lna(v.mediaType); if (void 0 !== x) w.oOa.once(v.lna, function (y) { return x.zFb(y) }) }); if (t.Zc) this.xWa(); else t.events.once("branchNormalized", function () { return w.xWa() }) }; u.prototype.xWa = function () { var t = this.RHb(); t && (q.assert(t.Mg), this.Hh.emit("ptsChanged", { initialTimestamp: t.Mg })) }; u.prototype.Lna = function (t) {
                            return h.re(this.Rk, function (w) {
                                return w.mediaType ===
                                    t
                            })
                        }; u.prototype.VIb = function () { return -1 !== this.Dd.indexOf(1) ? 1 : 0 }; u.prototype.dm = function (t) { t = { type: "startEvent", event: t, time: k.default.time.fa() }; this.Hh.emit(t.type, t) }; u.prototype.Qp = function (t, w) { this.qa.ah(t, void 0, w) }; return u
                    }(); b.aAa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.JMa = void 0; var c = a(2).__importDefault(a(6)), f = a(22), k = a(38); r = function () {
                        function m(g, d) { this.I = g; this.Fy = d } m.prototype.tE = function (g, d, h, l, n) {
                            void 0 === n && (n = !1); var q = g.H, p = this.dob(q);
                            this.sT = { startTime: c.default.time.fa(), J0b: g, I0b: h.T, aDb: d, de: this.gIb(l, d), h3b: this.LJb(l, n), Rla: n, Xe: l, qTa: p, PRb: this.xIb(q, h) }
                        }; m.prototype.woa = function (g) {
                            if (this.sT && 0 !== Object.keys(this.sT.qTa).length && g === this.sT.aDb) {
                                var d = this.sT, h = d.qTa, l = d.PRb, n = d.Rla, q = d.Xe, p = d.J0b, u = d.I0b, t = d.startTime, w = d.de; d = d.h3b; this.sT = void 0; var v = this.Mga(g).Lr, x = this.vGb(p.H.id, g, h); v = this.ZOa(x.weight, v); var y = {}; for (z in h) z !== g && (y[z] = h[z].details); h = c.default.time.fa() - t; t = q ? 0 : h; var z = {
                                    offset: f.O.Na(this.vJb(p,
                                        u, q, n)), ha: p.H.id
                                }; u = { offset: f.O.Na(u), ha: p.H.id }; return { segment: g, destPosition: { ha: g, offset: f.O.cb }, srcsegment: p.H.id, srcTransitionPosition: z, srcStartPosition: u, srcsegmentduration: p.Waa.T, srcoffset: z.offset.T, seamlessRequested: q, atRequest: x, atTransition: v, discard: y, transitionType: w, transitionTypeAtRequest: d, delayToTransition: this.hHb(h, q, n), durationOfTransition: t, nextExitPositionAtRequest: l }
                            }
                        }; m.prototype.vGb = function (g, d, h) {
                            var l, n, q = {}; (h = h[d]) ? q = h.details : (k.assert(this.Fy), q.weight = null === (n =
                                null === (l = this.Fy.na.U[g].next) || void 0 === l ? void 0 : l[d]) || void 0 === n ? void 0 : n.weight); return q
                        }; m.prototype.hHb = function (g, d, h) { var l; h || (l = d ? g : 0); return l }; m.prototype.xIb = function (g, d) { var h, l = g.Nf.add(d), n; null === (h = g.zx) || void 0 === h ? void 0 : h.some(function (q) { l.lessThan(q.Zc) && (n = q.Zc.T) }); return n }; m.prototype.vJb = function (g, d, h, l) { return h || l ? g.Waa.T : d }; m.prototype.gIb = function (g, d) { return g ? "seamless" : this.Mga(d).oW ? "reset" : "long" }; m.prototype.LJb = function (g, d) { return g || d ? "lazy" : "immediate" };
                        m.prototype.dob = function (g) { var d = this, h = {}; g.HA.forEach(function (l) { var n = g.SRb[l], q = d.Mga(l).Lr; h[l] = { details: d.ZOa(n, q) } }); return h }; m.prototype.Mga = function (g) { g = this.Fy.h6(g); var d = 0 < g.length ? g[0] : void 0; g = null === d || void 0 === d ? void 0 : d.fD(); if (!d || !g) return { oW: !1, Lr: { jo: 0, Hr: 0, Xs: 0, yC: 0 } }; var h = d.R_a(0) && !g.Hr; d = d.R_a(1) && !g.jo; return { oW: !h && !d, Lr: g } }; m.prototype.ZOa = function (g, d) { return { weight: g, vbuflmsec: d.jo, abuflmsec: d.Hr, vbuflbytes: d.Xs, abuflbytes: d.yC } }; return m
                    }(); b.JMa = r
                }, function (r,
                    b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.VJa = void 0; var c = a(19); r = a(44); a = function () {
                        function f(k) { var m = this; this.X = k; this.$ga = !1; this.VF = new c.di; this.VF.on(k, "paused", function () { return m.G9() }); this.VF.on(k, "playing", function () { return m.G9(!0) }); this.VF.on(k, "underflow", function () { return m.G9() }); this.VF.on(k, "skipped", function () { return m.OX() }); this.VF.on(k, "clockAdjusted", function () { return m.LX() }); this.VF.on(k, "playbackRateChanged", function () { return m.uTb() }) } Object.defineProperties(f.prototype,
                            { currentTime: { get: function () { return this.hQa || this.X.Cc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { tk: { get: function () { return this.$ga }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { speed: { get: function () { var k; return null !== (k = this.X.playbackRate) && void 0 !== k ? k : 1 }, enumerable: !1, configurable: !0 } }); f.prototype.G9 = function (k) { void 0 === k && (k = !1); k !== this.$ga && (this.hQa = (this.$ga = k) ? void 0 : this.X.Cc); this.emit("stopStart", { type: "stopStart" }) }; f.prototype.OX =
                                function () { this.hQa = void 0; this.LX() }; f.prototype.LX = function () { this.emit("clockAdjusted", { type: "clockAdjusted" }) }; f.prototype.uTb = function () { this.emit("speedChanged", { type: "speedChanged" }) }; f.prototype.Jb = function () { this.G9(); this.VF.clear() }; return f
                    }(); b.VJa = a; r.zf(c.EventEmitter, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.yAa = void 0; var c = a(2); r = function () {
                        function f(k, m, g, d) { this.S = k; this.MI = m; this.Gta = g; this.Hta = d } Object.defineProperties(f.prototype, {
                            P: {
                                get: function () {
                                    var k;
                                    return null === (k = this.s_) || void 0 === k ? void 0 : k.P
                                }, enumerable: !1, configurable: !0
                            }
                        }); f.prototype.Jb = function () { var k; this.P && (this.P.zya(this.jb), this.Hta(this.P)); null === (k = this.s_) || void 0 === k ? void 0 : k.e8.release(); this.s_ = void 0 }; f.prototype.Ab = function (k) {
                            return c.__awaiter(this, void 0, void 0, function () {
                                var m, g, d, h, l; return c.__generator(this, function (n) {
                                    switch (n.label) {
                                        case 0: return this.jb = k, m = this.MI(this.S), g = m.IE, d = m.P, h = m.e8, this.s_ = { e8: h, P: d }, d ? (this.V0a(d, k, !1), [2, d]) : [4, g]; case 1: return l =
                                            n.Ac(), this.V0a(l, k, !0), [2, l]
                                    }
                                })
                            })
                        }; f.prototype.V0a = function (k, m, g) { this.s_ && (this.s_.P = k, k.yva(m), this.Gta(m, k, g)) }; return f
                    }(); b.yAa = r
                }, function (r, b, a) {
                    function c(w, v) { return (1 === w.mediaType ? 0 : 1) - (1 === v.mediaType ? 0 : 1) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.uAa = b.xAa = b.vjb = void 0; var f = a(2), k = a(19), m = a(9), g = a(22); r = a(103); var d = a(44), h = a(908), l = a(5), n = a(910), q = a(173), p = a(245), u = a(21); b.vjb = { ldb: c }; var t; (function (w) { w[w.rca = 0] = "CREATED"; w[w.FAa = 1] = "CANCELLED" })(t = b.xAa || (b.xAa = {}));
                    a = function () {
                        function w(v, x, y, z, A, B, E, D, F, G, C, H) { var L = this, N; this.J = v; this.I = x; this.W9 = y; this.Sp = z; this.v6 = A; this.fs = B; this.ut = E; this.IS = D; this.parent = F; this.uy = G; this.kw = C; this.r_ = H; this.ed = t.rca; this.l3 = []; this.Vw = new p.xK; this.Sva = 0; this.zta = function () { !L.Kh && L.V6 && (L.P.yu.IA("onHeaderFragments", L.zta), L.r7.resolve()) }; this.events = new k.EventEmitter; this.Eq = new m.UQ; this.r7 = new m.UQ; if (null === (N = this.parent) || void 0 === N ? 0 : N.ze) this.ut = this.parent.ze.Ja(this.Sp.Nf) } Object.defineProperties(w.prototype,
                            { state: { get: function () { return this.ed }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Kh: { get: function () { return this.ed === t.FAa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { H: { get: function () { return this.Sp }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Yw: { get: function () { var v; return !(null === (v = this.zd) || void 0 === v || !v.Yw) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                Al: {
                                    get: function () {
                                        var v; return !(null ===
                                            (v = this.zd) || void 0 === v || !v.Al)
                                    }, enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(w.prototype, { Jt: { get: function () { var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.Jt) && void 0 !== x ? x : 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { zh: { get: function () { var v; return !(null === (v = this.zd) || void 0 === v || !v.zh) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { q5b: { get: function () { return this.Eq.promise }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype,
                                { fg: { get: function () { return this.l3 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { HN: { get: function () { var v; return !(null === (v = this.r_) || void 0 === v || !v.P) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { V6: { get: function () { return !!this.fg.length && this.l3.every(function (v) { return v.te }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                    P: {
                                        get: function () { l.assert(this.r_.P, "viewable should be available"); return this.r_.P }, enumerable: !1,
                                        configurable: !0
                                    }
                                }); Object.defineProperties(w.prototype, { W: { get: function () { var v; return (null === (v = this.zd) || void 0 === v ? void 0 : v.W) || this.fs.W }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { $a: { get: function () { var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.$a) && void 0 !== x ? x : this.fs.qc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                    wb: {
                                        get: function () { var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.wb) && void 0 !== x ? x : this.H.Yi.qc },
                                        enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(w.prototype, { Ej: { get: function () { var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.Ej) && void 0 !== x ? x : this.Ge.dg(this.W).qc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { gs: { get: function () { var v, x, y; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.gs) && void 0 !== x ? x : null === (y = this.fs) || void 0 === y ? void 0 : y.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                    jN: {
                                        get: function () {
                                            var v,
                                                x = null === (v = this.H.H.oq) || void 0 === v ? void 0 : v[0]; return x && this.Zc ? g.O.Na(Math.max(0, x[0] - this.Zc.T - this.H.Nf.T)) : g.O.cb
                                        }, enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(w.prototype, { xs: { get: function () { var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.xs) && void 0 !== x ? x : this.H.Nf.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                    $D: {
                                        get: function () { var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.$D) && void 0 !== x ? x : this.H.Yi.add(this.Ge) },
                                        enumerable: !1, configurable: !0
                                    }
                                }); Object.defineProperties(w.prototype, { c8: { get: function () { var v; return null === (v = this.zd) || void 0 === v ? void 0 : v.c8 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, { Ge: { get: function () { var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.Ge) && void 0 !== x ? x : this.ut }, enumerable: !1, configurable: !0 } }); Object.defineProperties(w.prototype, {
                                    $q: {
                                        get: function () {
                                            var v, x; return null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.$q) && void 0 !== x ? x : this.H.Yi.Ja(this.fs ||
                                                this.H.Nf)
                                        }, enumerable: !1, configurable: !0
                                    }
                                }); w.prototype.Ab = function () {
                                    return f.__awaiter(this, void 0, void 0, function () {
                                        var v, x = this; return f.__generator(this, function (y) {
                                            switch (y.label) {
                                                case 0: if (this.Kh) return [2]; u.ia && this.I.log("AseBranch {" + this.H.id + "} awaiting viewable"); return [4, this.r_.Ab(this)]; case 1: y.Ac(); u.ia && this.I.log("AseBranch {" + this.H.id + "} viewable available, branch " + (this.Kh ? "cancelled" : "active")); if (this.Kh) return [2]; l.assert(this.v6, "tracks need to exist upon initialization");
                                                    this.l3 = this.v6(this.P).sort(c); v = this.fg.map(function (z) { var A; return null === (A = x.parent) || void 0 === A ? void 0 : A.$oa(z.mediaType) }); this.q$a(this.fs); return [4, this.xXa()]; case 2: return y.Ac(), u.ia && this.I.log("AseBranch {" + this.H.id + "} have headers"), this.Kh ? [2] : this.parent ? [4, this.parent.q5b] : [3, 4]; case 3: y.Ac(); if (this.Kh) return [2]; this.Vw.forEach(function (z) {
                                                        var A, B = null === (A = x.parent) || void 0 === A ? void 0 : A.$oa(z.mediaType); l.assert(B, "Parent state should be defined"); -1 === v.indexOf(B) && (z.Jj.Qf.Jb(),
                                                            A = new q.F1(B), z.Jj.Qf = A)
                                                    }); y.label = 4; case 4: return this.normalize(), [2]
                                            }
                                        })
                                    })
                                }; w.prototype.xXa = function () { return f.__awaiter(this, void 0, void 0, function () { return f.__generator(this, function () { this.V6 ? this.r7.resolve() : (this.P.yu.on("onHeaderFragments", this.zta), this.events.emit("needsRequest")); return [2, this.r7.promise] }) }) }; w.prototype.normalize = function () {
                                    this.Kh || (this.zd = new h.QHa(this, this.J, this.I, this.P, this.W9, this.Sp, this.fs, this.Vw.items, this.ut, this.IS, this.parent, this.uy, this.events, this.kw),
                                        this.qma(this.zd.WC), this.Eq.resolve(this.zd))
                                }; w.prototype.update = function (v) { var x; this.Sp = v; (null === (x = this.zd) || void 0 === x ? 0 : x.update(v)) && this.qma(!0) }; w.prototype.Lx = function (v) { var x; this.ut = v; null === (x = this.zd) || void 0 === x ? void 0 : x.Lx(v) }; w.prototype.Sz = function (v) { return f.__awaiter(this, void 0, void 0, function () { var x; return f.__generator(this, function (y) { switch (y.label) { case 0: return [4, this.Eq]; case 1: return x = y.Ac(), [2, null === x || void 0 === x ? void 0 : x.Sz(v)] } }) }) }; w.prototype.dH = function () {
                                    var v;
                                    null === (v = this.zd) || void 0 === v ? void 0 : v.dH()
                                }; w.prototype.reset = function () { var v; null === (v = this.zd) || void 0 === v ? void 0 : v.reset() }; w.prototype.rf = function () { var v; this.ed = t.FAa; this.HN && this.P.yu.IA("onHeaderFragments", this.zta); null === (v = this.zd) || void 0 === v ? void 0 : v.rf(); this.Vw.forEach(function (x) { return x.cancel() }); this.r_.Jb() }; w.prototype.EW = function (v) { var x; return !(null === (x = this.zd) || void 0 === x || !x.EW(v)) }; w.prototype.mb = function (v) { var x; return null === (x = this.zd) || void 0 === x ? void 0 : x.mb(v) };
                        w.prototype.R_a = function (v) { return this.fg.some(function (x) { return x.mediaType === v }) }; w.prototype.sq = function (v) { var x, y; void 0 === v && (v = c); return null !== (y = null === (x = this.zd) || void 0 === x ? void 0 : x.sq(v)) && void 0 !== y ? y : [] }; w.prototype.$oa = function (v) { var x, y; return (null === (x = this.mb(v)) || void 0 === x ? void 0 : x.Jj.Qf) || (null === (y = this.Vw.get(v)) || void 0 === y ? void 0 : y.Jj.Qf) }; w.prototype.y6 = function () { var v, x; return this.V6 ? null !== (x = null === (v = this.zd) || void 0 === v ? void 0 : v.y6()) && void 0 !== x ? x : [] : this.Vw.items };
                        w.prototype.uN = function (v) { var x; return (null === (x = this.zd) || void 0 === x ? void 0 : x.uN(v)) || this.Vw.get(v) }; w.prototype.Mh = function (v, x) { var y; return (null === (y = this.zd) || void 0 === y ? void 0 : y.Mh(v, x)) || 0 }; w.prototype.fD = function () { var v; return (null === (v = this.zd) || void 0 === v ? void 0 : v.fD()) || {} }; w.prototype.gW = function (v) { var x; return (null === (x = this.zd) || void 0 === x ? void 0 : x.gW(v)) || this.gs.T }; w.prototype.nE = function (v, x, y) {
                            return f.__awaiter(this, void 0, void 0, function () {
                                var z, A, B, E; return f.__generator(this,
                                    function (D) {
                                        switch (D.label) {
                                            case 0: this.l3 = v.sort(c); this.q$a(x); if (!this.zh) return [3, 2]; l.assert(this.zd); z = this.Vw.filter(function (F) { return F.track.te }).items; A = this.zd.ycb(z, x, y); B = A.RU; E = A.WC; B && this.qma(E); if (this.V6) return [3, 2]; this.r7 = new m.UQ; this.Eq = new m.UQ; u.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks waiting for headers"); return [4, this.xXa()]; case 1: D.Ac(); if (this.Kh) return [2]; this.zd.ycb(this.Vw.items, x, y); u.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks pipelines updated");
                                                this.Eq.resolve(this.zd); this.events.emit("needsRequest"); D.label = 2; case 2: return [2]
                                        }
                                    })
                            })
                        }; w.prototype.q$a = function (v) { var x = this; this.Sva = 0; this.Vw = new p.xK(this.fg.map(function (y) { var z, A = x.Vw.find(function (B) { return B.track === y }); A || (++x.Sva, A = new n.pEa(x, y, (null === v || void 0 === v ? void 0 : v.add(x.Ge)) || g.O.cb, x.J, x.I, null === (z = x.parent) || void 0 === z ? void 0 : z.$oa(y.mediaType), x.W9, function () { 0 === --x.Sva && x.events.emit("requestQueuesCreated") })); return A })) }; w.prototype.Xm = function (v) {
                            var x; return (null ===
                                (x = this.zd) || void 0 === x ? void 0 : x.Xm(v)) || []
                        }; w.prototype.KX = function (v) { var x; return null === (x = this.zd) || void 0 === x ? void 0 : x.KX(v) }; w.prototype.LG = function (v) { var x; return !(null === (x = this.zd) || void 0 === x || !x.LG(v)) }; w.prototype.m6 = function (v) { return this.zd ? this.zd.m6(v) : g.O.cb }; w.prototype.rya = function (v) { var x; return !(null === (x = this.zd) || void 0 === x || !x.rya(v)) }; w.prototype.qma = function (v) {
                            v = {
                                type: "branchNormalized", segmentContentStart: this.H.Nf, branchContentStart: this.Zc, branchContentEnd: this.Qd,
                                didNormalizeSegment: v
                            }; this.events.emit(v.type, v); u.ia && this.I.trace("branchNormalized:", v)
                        }; w.prototype.toJSON = function () { var v; return (null === (v = this.zd) || void 0 === v ? void 0 : v.toJSON()) || {} }; return w
                    }(); b.uAa = a; d.zf(r.Sx, a); d.zf(r.CB, a)
                }, function (r, b, a) {
                    function c(y, z) { return (1 === y.mediaType ? 0 : 1) - (1 === z.mediaType ? 0 : 1) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.QHa = b.Eea = void 0; var f = a(2), k = a(393), m = a(84), g = a(148), d = a(391), h = a(17), l = a(414), n = a(909), q = a(9), p = a(26), u = a(5), t = a(22), w = f.__importDefault(a(6));
                    r = a(103); var v = a(44), x = a(245); b.Eea = { ldb: c }; a = function (y) {
                        function z(A, B, E, D, F, G, C, H, L, N, J, Q, K, I) {
                            var M, O = y.call(this, D) || this; O.jb = A; O.J = B; O.P = D; O.W9 = F; O.Sp = G; O.ut = L; O.IS = N; O.parent = J; O.uy = Q; O.events = K; O.kw = I; O.oe = new x.xK([]); O.$l = !1; O.RS = 0; O.rS = O.KX.bind(O); u.assert(D.S === O.H.S || isNaN(D.S) && isNaN(O.H.S)); O.console = q.Bq(w.default, E, G.id && G.id.length ? "{" + G.id + "}" : ""); O.fs = null !== C && void 0 !== C ? C : t.O.Na(O.H.Z); O.yha = null === J || void 0 === J ? void 0 : J.ze; null === (M = O.uy) || void 0 === M ? void 0 : M.addListener(O.rS);
                            A = O.LUa(H, O.fs, !!O.parent).WC; O.WC = A; return O
                        } f.__extends(z, y); Object.defineProperties(z.prototype, { Kh: { get: function () { return this.$l }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { H: { get: function () { return this.Sp }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { Yw: { get: function () { return this.oe.every(function (A) { return A.Yw }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, {
                            Al: {
                                get: function () { return this.oe.every(function (A) { return A.Al }) },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(z.prototype, { Jt: { get: function () { return this.sq().reduce(function (A, B) { return A + B.Jt }, 0) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { zh: { get: function () { return this.sq().every(function (A) { return A.zh() }) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { fg: { get: function () { return this.jb.fg }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, {
                            W: {
                                get: function () { return this.Ct.W },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(z.prototype, { $a: { get: function () { return this.Ct.$a }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { wb: { get: function () { return this.Ct.wb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { Ej: { get: function () { return this.Ge.dg(this.W).qc }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { gs: { get: function () { return this.fs.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype,
                            { xs: { get: function () { return this.H.Nf.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { $D: { get: function () { return this.H.Yi.add(this.Ge) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { c8: { get: function () { return this.oe.reduce(function (A, B) { return A && B.ze ? t.O.max(A, B.ze) : B.ze ? B.ze : A }, void 0) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { kqa: { get: function () { return this.gs.T }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype,
                                { Fe: { get: function () { return this.Ge.T }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { $q: { get: function () { return this.Ct.$q }, enumerable: !1, configurable: !0 } }); Object.defineProperties(z.prototype, { Ge: { get: function () { return this.ut }, enumerable: !1, configurable: !0 } }); z.prototype.ycb = function (A, B, E) { var D; void 0 === B && (B = null !== (D = this.Zc) && void 0 !== D ? D : this.fs); return this.LUa(A, B, E) }; z.prototype.update = function (A) {
                                    var B, E, D = A.Yi.r9(this.Sp.Yi); this.Sp = A; return D && this.kC ? (D = f.__read(this.kC.iYb(A,
                                        A.Yi), 2), A = D[0], D = D[1], u.assert(A && D, "branch.update: lastFragment should be defined"), null === (B = this.mb(0)) || void 0 === B ? void 0 : B.truncate(A), null === (E = this.mb(1)) || void 0 === E ? void 0 : E.truncate(D), this.events.emit("branchEdited", { type: "branchEdited" }), !0) : !1
                                }; z.prototype.Lx = function (A) { this.Ge.equal(A) || (this.ut = A) }; z.prototype.Sz = function (A) {
                                    return f.__awaiter(this, void 0, void 0, function () {
                                        var B; return f.__generator(this, function (E) {
                                            switch (E.label) {
                                                case 0: return [4, Promise.resolve()]; case 1: return E.Ac(),
                                                    (B = this.mb(A)) ? [2, B.Sz()] : [2, g.AsyncIterator.eZa()]
                                            }
                                        })
                                    })
                                }; z.prototype.dH = function () { this.sq().forEach(function (A) { return A.dH() }) }; z.prototype.yT = function () { this.oe.forEach(function (A) { return A.yT() }) }; z.prototype.reset = function () { this.oe.forEach(function (A) { A.reset() }) }; z.prototype.rf = function () { var A, B; this.$l || (this.$l = !0, null === (A = this.kC) || void 0 === A ? void 0 : A.md(), this.kC = void 0, this.oe.forEach(function (E) { E.rf() }), null === (B = this.uy) || void 0 === B ? void 0 : B.removeListener(this.rS), this.events.removeAllListeners()) };
                        z.prototype.EW = function () { return !0 }; z.prototype.mb = function (A) { return this.oe.get(A) }; z.prototype.sq = function (A) { void 0 === A && (A = c); return this.oe.items.slice().sort(A) }; z.prototype.y6 = function () { return this.oe.items }; z.prototype.uN = function (A) { return this.mb(A) }; z.prototype.Mh = function (A, B) { A = this.mb(A); if (!A) return 0; if (B) return A.Om; B = A.cq; if (void 0 === B) return 0; A = this.IS(); return B - A }; z.prototype.fD = function () {
                            var A, B, E, D, F, G, C = null === (A = this.mb(0)) || void 0 === A ? void 0 : A.Bn; A = null === (B = this.mb(1)) ||
                                void 0 === B ? void 0 : B.Bn; return { jo: null !== (E = null === A || void 0 === A ? void 0 : A.T) && void 0 !== E ? E : 0, Hr: null !== (D = null === C || void 0 === C ? void 0 : C.T) && void 0 !== D ? D : 0, Xs: null !== (F = null === A || void 0 === A ? void 0 : A.ea) && void 0 !== F ? F : 0, yC: null !== (G = null === C || void 0 === C ? void 0 : C.ea) && void 0 !== G ? G : 0 }
                        }; z.prototype.gW = function (A) { var B; return (A = this.mb(A)) ? null !== (B = A.cq) && void 0 !== B ? B : 0 : 0 }; z.prototype.Xm = function (A) { A = this.mb(A); return (null === A || void 0 === A ? void 0 : A.Xm()) || [] }; z.prototype.KX = function (A) {
                            h.So(A.newValue) &&
                                this.Er()
                        }; z.prototype.LG = function (A) { return this.oe.every(function (B) { return B.LG(A) }) }; z.prototype.m6 = function (A) { var B, E; return null !== (E = null === (B = this.oe.get(A)) || void 0 === B ? void 0 : B.bVa) && void 0 !== E ? E : t.O.cb }; z.prototype.rya = function (A) {
                            var B = this.Ct.ZNb; if (!B) return !1; var E = p.re(A, function (F) { return B.T <= F.Zc.T }); if (!E) return !1; A = !1; var D = f.__read(l.Mva(this.J, this.oe, E.Zc), 2); E = D[0]; if (D = D[1]) this.mb(1).truncate(D), A = !0; E && (this.mb(0).truncate(E), A = !0); A && (E = { type: "branchEdited" }, this.events.emit(E.type,
                                E)); return A
                        }; z.prototype.Ak = function (A) { this.$l || (A.y3 || u.assert(!A.gd), this.Er(), this.Al && this.wha()); this.qu(A) }; z.prototype.vI = function (A) { this.J.o5 && this.Er(!0); this.kH(A) }; z.prototype.uI = function (A) { this.J.o5 && this.Er(!0); this.dD(A) }; z.prototype.LUa = function (A, B, E) {
                            var D = this, F = new x.xK, G = !1; A.forEach(function (C) {
                                var H = D.oe.find(function (L) { return L.track === C.track }); void 0 === H ? (G = !0, H = new d.fea(C.mediaType, D.J, D.console), H = new k.Dea(D, D.J, D.console, D.W9, D.jb, C.track, B, C.Jj, H, !0, void 0, C.b3b(),
                                    D.kw), H.events.on("lastRequestIssued", function () { return D.Yw && D.events.emit("lastRequestIssued", { type: "lastRequestIssued" }) })) : (D.oe.remove(H), H.yT()); F.add(H)
                            }); this.oe.forEach(function (C) { return C.rf() }); this.oe = F; return G ? this.normalize(B, E) : { RU: !1, WC: !1 }
                        }; z.prototype.normalize = function (A, B) {
                            var E, D; null === (E = this.kC) || void 0 === E ? void 0 : E.md(); this.kC = new n.uJa({
                                console: this.console, config: this.J, P: this.P, H: this.H, kl: this.oe, Zc: A, Qd: null !== (D = this.H.Yi) && void 0 !== D ? D : void 0 !== this.H.Ka ? t.O.Na(this.H.Ka) :
                                    void 0, splice: B
                            }); this.Ct = this.oe.rY; B = this.kC.normalize(); A = B.RU; B = B.WC; A && this.yha && (this.ut = this.yha.Ja(this.Zc)); return { RU: A, WC: B }
                        }; z.prototype.dxa = function (A) { var B; return h.So((null === (B = this.uy) || void 0 === B ? void 0 : B.value) || h.Jc.oj) && (!A || this.RS + this.J.Q8 < w.default.time.fa()) }; z.prototype.Er = function (A) { void 0 === A && (A = !1); this.dxa(A) && (this.RS = w.default.time.fa(), A = { type: "checkBufferingProgress" }, this.events.emit(A.type, A)) }; z.prototype.wha = function () {
                            var A = { type: "branchStreamingComplete" };
                            this.events.emit(A.type, A)
                        }; z.prototype.toJSON = function () { var A, B; return { segment: this.H.id, branchOffset: this.Fe, viewableId: this.Sp.S, contentStartPts: null === (A = this.Zc) || void 0 === A ? void 0 : A.T, contentEndPts: null === (B = this.Qd) || void 0 === B ? void 0 : B.T } }; return z
                    }(m.Av); b.QHa = a; v.zf(r.Sx, a)
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.uJa = void 0; var c = a(2), f = a(414), k = a(5); r = function () {
                        function m(g) {
                            var d = this, h = g.console, l = g.config, n = g.P, q = g.kl, p = g.H, u = g.Zc, t = g.Qd; g = g.splice; this.zW =
                                this.tM = !1; this.jTa = function () { d.tM || d.Lia() && d.bta() }; this.console = h; this.config = l; this.kl = q; this.P = n; this.H = p; this.Zc = u; this.Qd = t; this.splice = g
                        } m.prototype.Ab = function (g) { if (this.tM) throw Error("Cannot call init() after cleanup"); if (this.zW) throw Error("Cannot call init() twice"); this.zW = !0; this.N5a = g; this.P.yu.addListener("onHeaderFragments", this.jTa); this.Lia() && this.bta() }; m.prototype.normalize = function () {
                            if (this.tM) throw Error("Cannot call normalize() after cleanup"); if (this.zW) throw Error("Cannot call init() / normalize() twice");
                            this.zW = !0; k.assert(this.Lia()); return this.bta()
                        }; m.prototype.iYb = function (g, d) { k.assert(this.zW, "expected to be called init() before renormalize"); this.H = g; this.Qd = d; g = f.Mva(this.config, this.kl, this.Qd); this.o9(); return g }; m.prototype.md = function () { this.tM || (this.tM = !0, this.N5a = void 0, this.P.yu.removeListener("onHeaderFragments", this.jTa)) }; m.prototype.bta = function () {
                            var g; if (this.tM) return { RU: !1, WC: !1 }; var d = this.ZRb(), h = !1; this.H && !this.H.Eq && (h = this.o9()); null === (g = this.N5a) || void 0 === g ? void 0 :
                                g.call(this, d, h); this.md(); return { RU: d, WC: h }
                        }; m.prototype.Lia = function () { return this.kl.every(function (g) { return g.track.te }) }; m.prototype.ZRb = function () { var g = c.__read(f.i5a(this.config, this.kl, this.Zc, this.Qd, this.splice), 2), d = g[0]; return g[1] || void 0 === this.kl.get(1) && d }; m.prototype.o9 = function () {
                            k.assert(this.H); k.assert(!this.H.Eq); var g = this.kl.rY, d = f.k5a(this.config, g, this.H.Nf); if (void 0 === d || void 0 === g.Qd) return !1; g = g.Qd; var h = this.config.Pya && "lazy" === this.H.de ? f.D3a(this.console, this.H,
                                this.kl) : []; this.H.normalize(d, g, h); return !0
                        }; return m
                    }(); b.uJa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.pEa = void 0; var c = a(397), f = a(125), k = a(173), m = a(249), g = a(5); r = function () {
                        function d(h, l, n, q, p, u, t, w) { this.jb = h; this.track = l; this.taa = n; this.config = q; this.console = p; this.events = t; this.ETb = w; this.Tn = 0; this.C7a = this.Al = !1; this.Jj = this.IAb(u) } Object.defineProperties(d.prototype, { mediaType: { get: function () { return this.track.mediaType }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype,
                            { ha: { get: function () { return this.jb.H.id }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { $g: { get: function () { return this.jb.$g }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { rU: { get: function () { return this.taa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { xE: { get: function () { return this.taa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { jN: { get: function () { return this.jb.jN }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(d.prototype, { Lf: { get: function () { return this.Ee || (this.Ee = this.$t()) }, enumerable: !1, configurable: !0 } }); d.prototype.CD = function () { return this.track.e9 }; d.prototype.hs = function () { return this.track.te }; d.prototype.zh = function () { return !1 }; d.prototype.jZa = function () { return { Y: [], R9: 0, Bj: 0 } }; d.prototype.b3b = function () { g.assert(this.hs()); var h = this.Lf; this.Ee = void 0; return h }; d.prototype.Zbb = function (h) { return (h = h.DE(this.Lf)) ? { Cm: h, reason: "success" } : { Cm: h, reason: "pipelineTryIssueHeaderRequest" } };
                        d.prototype.cancel = function () { this.Ee && (this.jb.P.TL(this.mediaType, this.Ee), f.wp.instance.JM(this.Ee), this.Ee.removeAllListeners(), this.Ee = void 0) }; d.prototype.IAb = function (h) { var l = 0 === this.mediaType ? this.config.aSa : this.config.Gxa; h = new k.F1(h); h.oZ(this.track); var n = this.config; return new m.wfa(l, this.config, h, 0 === this.mediaType ? n.sma : n.tma) }; d.prototype.$t = function () {
                            var h = this, l = c.$t(this.mediaType, this.track.P, this.config, this.console, function (n) { return h.events.emit("transportReport", n) },
                                function () { }); l.on("created", this.ETb); return l
                        }; return d
                    }(); b.pEa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.eMa = void 0; var c = a(2); r = function () {
                        function f(k, m) { this.I = k; this.Hh = m; this.Ixa = !1 } f.prototype.pYb = function (k) { this.ah(k.message, void 0, c.__assign(c.__assign({}, k.cXa), { err: k.toString() })) }; f.prototype.ah = function (k, m, g) {
                            void 0 === m && (m = void 0); void 0 === g && (g = {}); this.Ixa || (g.temporaryFailure || (this.Ixa = !0), k = c.__assign({
                                type: "error", error: null !== m && void 0 !== m ? m :
                                    "NFErr_MC_StreamingFailure", errormsg: k, temporaryFailure: !1
                            }, g), this.I.error("notifyStreamingError:", k), this.Hh.emit("error", k))
                        }; f.prototype.Pn = function () { return this.Ixa }; return f
                    }(); b.eMa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Fea = void 0; var c = a(2), f = a(5), k = a(9), m = a(21), g = a(258); r = function (d) {
                        function h(l) { var n = d.call(this) || this; n.qa = l; n.Ib = []; n.uS = new g.D1({ tk: !1, currentTime: function () { return n.Xf ? n.Vg : k.O.wD }, speed: 1 }); return n } c.__extends(h, d); Object.defineProperties(h.prototype,
                            { Ba: { get: function () { return this.uS }, enumerable: !1, configurable: !0 } }); h.prototype.H3 = function (l, n) { var q = !this.qa; q && (this.qa = l, this.qga = (null === n || void 0 === n ? 0 : n.Xf) ? n.Vg : void 0); return q }; h.prototype.EG = function () { this.Ib = []; this.qga = void 0 }; h.prototype.Xla = function (l) { m.ia && f.assert(this.qa === l); this.qa = void 0; this.EG() }; h.prototype.Bma = function () { for (var l, n = [], q = 0; q < arguments.length; q++)n[q] = arguments[q]; (l = this.Ib).push.apply(l, c.__spread(n)) }; h.prototype.qN = function () {
                                return this.qga ? this.qga :
                                    d.prototype.qN.call(this)
                            }; h.prototype.Uo = function () { return !1 }; h.prototype.oE = function () { }; h.prototype.lJ = function () { }; return h
                    }(a(412).Sea); b.Fea = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wJa = void 0; var c = a(57); r = function () {
                        function f(k) { this.mb = k } Object.defineProperties(f.prototype, { si: { get: function () { return "PipelineReporter" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { enabled: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); f.prototype.Kn =
                            function (k) { k = k.Zi; if (k === c.me.io || k === c.me.jq) { k = {}; var m = this.mb(1), g = this.mb(0); m && (k.videoPipelineSummary = this.Sab(m)); g && (k.audioPipelineSummary = this.Sab(g)); return k } }; f.prototype.Sab = function (k) {
                                var m, g, d, h, l = k.Ua.Y; return {
                                    actualStartPlayerTimestamp: null === (m = l.Mg) || void 0 === m ? void 0 : m.T, actualPartialPlayerTimestamp: l.F6a, actualCompletePlayerTimestamp: null === (g = k.qia) || void 0 === g ? void 0 : g.T, segmentId: k.ha, contentStartMs: null === (d = k.Zc) || void 0 === d ? void 0 : d.T, contentEndMs: null === (h = k.Qd) || void 0 ===
                                        h ? void 0 : h.T, streamingPlayerMs: k.xE.T, isStreamable: k.CD(), isNormalized: k.zh(), isDoneStreaming: k.hs(), trackNeedsHeaderRequest: k.track.e9, completedRequests: l.VTa, activeRequests: k.Ua.Up, unsentRequests: k.Ua.Us, bytes: { current: l.ea, received: l.o8a, partial: l.Bj, completed: l.NC, unsent: l.J3b }
                                }
                            }; return f
                    }(); b.wJa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.$Ja = void 0; var c = a(2), f = a(21), k = a(57), m = a(416); r = function () {
                        function g(d) { this.tVb = d } Object.defineProperties(g.prototype, {
                            si: {
                                get: function () { return "playgraph-branch-audit" },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(g.prototype, { jx: { get: function () { return "paudit" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { enabled: { get: function () { return f.ia }, enumerable: !1, configurable: !0 } }); g.prototype.Kn = function (d) { d = d.Zi; if (d === k.me.jq || d === k.me.io) { var h = {}; this.tVb.forEach(function (l, n) { var q = m.Qna(l); h[n] = c.__assign({ probabilities: l.$g.map(function (p) { return { duration: p.duration, immediate: p.uD, seamless: p.Xe } }) }, q) }); return h } }; return g
                    }();
                    b.$Ja = r
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.lGa = void 0; r = function () {
                        function a(c, f, k) { this.Ne = c; this.I = f; this.events = k; this.gP = [] } a.prototype.qh = function (c) { var f = this; this.gP.push(c); this.Ne.IUa(function () { f.Wbb(c, { FMb: !0 }) }, c.TSa, c.Kw) }; a.prototype.sOb = function (c) { var f = this, k = { Zi: c }; this.gP.forEach(function (m) { f.Wbb(m, k) }) }; a.prototype.Wbb = function (c, f) {
                            try { var k = c.Vf(f), m = k.event; k.T$a && this.events.emit(c.Kw, m) } catch (g) {
                                this.I.error("Error generating event for " +
                                    c.Kw, g)
                            }
                        }; return a
                    }(); b.lGa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.PDa = void 0; r = a(2); var c = a(17), f = r.__importDefault(a(38)).default.LH, k = r.__importDefault(a(143)), m = r.__importDefault(a(6)), g = a(175), d = a(26), h = a(5); a = function () {
                        function l(n, q, p, u, t) { this.config = n; this.B0b = q; this.navigator = p; this.events = u; this.console = t; n = g.wN(this.config); this.w7a = [n.fE, n.j$] } l.prototype.HZb = function (n, q, p, u, t, w, v) {
                            var x, y = []; if (!this.P6a(t.track)) return { stream: B, LP: y, reason: "locationSelectionFailure" };
                            var z = t.Jj, A = z.Qf, B = A.Iu, E = w ? w.xm(t.track.ce, n, p.Ja(t.jb.Ge), t.zh()) : t.track.ce; if (0 === E.length && (null === w || void 0 === w ? 0 : w.Xvb)) return { stream: void 0, LP: y, reason: "allStreamsFiltered" }; B && !B.track.equals(t.track) && (B = this.nFb(B, E)); if (0 === t.mediaType && B && !this.f0b(A, B)) return { stream: B, LP: y }; n = this.yAb(n === c.Jc.wd ? c.sa.wd : n === c.Jc.Tf ? c.sa.Tf : n === c.Jc.dS ? c.sa.wd : n === c.Jc.oj ? c.sa.Kc : c.sa.Fh, q, u, t, !!v); z = z.Awa(n, E, void 0, this.w7a[t.mediaType], !0, t.track.P.kq); if (!z) return { stream: B, LP: y, reason: "streamSelectionFailure" };
                            if (z.reason) { var D = { reason: z.reason, zwa: z.Au, fA: z.fA, Qo: z.Qo, Ro: z.Ro }; this.mka(t.mediaType, E, p) } this.mDb(t.mediaType, z, E); B = E[z.Le]; A.C$a(B); if (null === (x = z.zz) || void 0 === x ? 0 : x.length) y = z.zz.map(function (F) { return d.re(E, function (G) { return G.id === F }) }).filter(d.q9); p = z.Su; return void 0 !== D ? { stream: B, LP: y, JZb: D, Su: p } : { stream: B, LP: y, Su: p }
                        }; l.prototype.oka = function (n, q, p, u, t, w, v) {
                            if (!c.So(q)) return { complete: !0, reason: "playing" }; if (!w.C7a) return { complete: !1, reason: "unknown" }; if (w.eUb) return h.assert(w.g6a),
                                w.g6a; var x = w.Jj, y = x.Qf; p = this.CYa(w, p); var z = y.Iu; y = p.Yk - p.Cc; if (y < this.config.yj || void 0 === z) return { complete: !1, CC: y, reason: "preBuf" }; if (0 === w.mediaType) return { complete: !0, CC: y, reason: "audio" }; if (n = n.nTa(w.mediaType)) return { complete: !0, CC: y, reason: n }; this.P6a(w.track); x.Cua([z], !1, p, this.w7a[w.mediaType]); q = x.hz(p, q, t, z, { au: v }); if (!q.complete && u) return { complete: !0, reason: "prebufferTimeLimit", CC: y }; q.CC = y; return q
                        }; l.prototype.mDb = function (n, q, p) {
                            this.events.emit("streamSelection", {
                                type: "streamSelection",
                                mediaType: n, result: q, streamList: p
                            })
                        }; l.prototype.lDb = function (n, q, p, u) { n = { type: "maxVideoBitrateChanged", time: m.default.time.fa(), streaming: u, maxvb_old: n, maxvb: q, reason: p }; this.events.emit(n.type, n) }; l.prototype.nFb = function (n, q) { var p = q[0]; q.filter(function (u) { return u.Gu }).every(function (u) { return u.bitrate <= n.bitrate ? p = u : !1 }); return p }; l.prototype.f0b = function (n, q) { return 0 < this.config.VP.length ? !0 : (n = n.VN) && n === q.location ? !1 : !0 }; l.prototype.P6a = function (n) { return n.P.Em.e_(n.P.S, n.ce) }; l.prototype.CYa =
                            function (n, q) { for (var p, u = q.Ja(this.B0b), t = [], w = n, v = q, x, y, z = 0, A = !0; w;) { var B = w.jZa(u); if (!A && !w.Al) break; 0 < B.Y.length && (v = B.Y[0].Mg, void 0 === x && (x = B.Y[B.Y.length - 1].ze, y = B.R9 >= B.Y.length ? x : B.Y[B.R9].Mg), t = B.Y.concat(t), z += B.Bj); w = this.navigator.parent(w); A = !1 } return { zw: m.default.Mo()[n.mediaType], Z: Math.floor(v.T), Cc: q.T, Bc: Math.floor(null !== (p = null === x || void 0 === x ? void 0 : x.T) && void 0 !== p ? p : q.T), Yk: Math.floor(y ? y.T : q.T), eh: t.reduce(function (E, D) { return E + D.ea }, 0), Bj: z, fYa: t.length, Y: t } }; l.prototype.yAb =
                                function (n, q, p, u, t) { var w = this.CYa(u, q), v = 1 === u.mediaType ? this.config.k_ : this.config.LT, x = k.default.instance(); return { state: n, xq: n === c.sa.Kc, Cd: u.Tn, playbackRate: p, buffer: w, ZU: v, b3a: !1, UM: t, Up: null === x || void 0 === x ? void 0 : x.Up, mediaType: u.mediaType, Cc: q.T, js: !1, Aqa: !1, z$: 0 } }; l.prototype.mka = function (n, q, p) {
                                    if (1 === n) {
                                        n = "manifest"; for (var u = 0, t = q.length - 1; 0 <= t; --t) { var w = q[t], v = w.bitrate; if (f(w)) { u = Math.max(u, v); break } else this.config.BZ && !w.ou ? n = "bc" : w.Eu ? w.aA && (n = "hf") : n = "av" } this.$3a !== u && (this.lDb(this.$3a,
                                            u, n, p), this.$3a = u)
                                    }
                                }; return l
                    }(); b.PDa = a
                }, function (r, b, a) {
                    function c(g, d, h, l, n) {
                        var q, p, u, t, w, v, x = g.console, y = g.K3b, z = g.Ti, A = g.GYb, B = g.vCb, E = g.Ksa, D = g.Cja; g = g.bUb; var F = n || { complete: !0, $q: 0 }, G = F.root, C = F.complete, H = F.csb, L = F.b9a; L = void 0 === L ? 0 : L; F = F.$q; var N = L < A.length && A[L] === d.id, J = l && z.get(l.id), Q = n && l && J !== d.id ? void 0 !== J ? { Xe: 0 } : l.Hvb(d.id) : { Xe: 1 }; z = Q.Xe; Q = Q.uD; var K = void 0 === Q ? 0 : Q; Q = (z + K) * (null !== (q = null === n || void 0 === n ? void 0 : n.nWb) && void 0 !== q ? q : 1); m && x.trace("reevaluateBranches: visiting " +
                            d.id + ", distance: " + (h + ", probability: ") + (Q + ", predecessor: ") + ((null === l || void 0 === l ? void 0 : l.id) + ", decision: ") + (J + ", predecessorComplete: ") + (C + ", isOnRequiredPath: ") + (N + ", requiredPathIndex: ") + (L + ", activeDistance: ") + (H + ", seamless ") + (z + ", immediate ") + (K + ", predecessor sum of: successor weights=") + ((null === l || void 0 === l ? void 0 : l.Oxa) + ", immediate weights= ") + (null === l || void 0 === l ? void 0 : l.Baa)); q = null !== (u = null === (p = y[d.id]) || void 0 === p ? void 0 : p.shift()) && void 0 !== u ? u : d.duration.T; p = 0 ===
                                q; if (!N) { if (0 === Q) return { qba: !1 }; if (!C && 0 === K && F > D) return g.$C = Math.min(g.$C || Infinity, F - D), { qba: !1 }; if (!p && h >= B && 1 > Q || !1 === G && Q < E) return { qba: !1 } } L < A.length && k.assert(A[L] === d.id, ""); n = null !== (t = null === n || void 0 === n ? void 0 : n.$g) && void 0 !== t ? t : []; l && 1 > z && (0 === K ? n = n.concat([{ Xe: z }]) : (t = (null === (v = null === (w = l.H.oq) || void 0 === w ? void 0 : w[0]) || void 0 === v ? void 0 : v[0]) || 0, w = Math.max(0, l.duration.T - t), m && x.trace("reevaluateBranches: immediate: " + l.duration.T + ", " + t + ", " + w), n = n.concat([{ Xe: z, uD: K, duration: w }])));
                        g.a9a.push({ H: d, Zu: null === l || void 0 === l ? void 0 : l.id, $g: n }); h = C ? h + d.duration.T : H; m && x.trace("reevaluateBranches: added " + d.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n)); return { qba: !0, state: { root: !l, complete: p, nWb: Q, $g: n, csb: h, b9a: L + 1, $q: F + q } }
                    } function f(g, d, h, l) { l("reevaluateBranches: " + Array(h + 1).join(" ") + g.H.id + " (" + (JSON.stringify(g.$g) + ")")); d.filter(function (n) { return n.Zu === g.H.id }).forEach(function (n) { return f(n, d, h + 1, l) }) } Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.V2b = b.p5b = b.B$ = void 0; var k = a(5), m = a(21).ia && !1; b.B$ = function (g, d, h, l, n, q, p, u, t) {
                            var w, v = { a9a: [] }, x = (null === (w = h.Yi) || void 0 === w ? void 0 : w.Ja(h.Nf).T) || 0; 0 < q.length && k.assert(h.id === q[0], "First segment of required path (if it exists) must equal reevaluateBranches start segment."); m && g.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(q)); var y = { console: g, K3b: l, Ti: n, GYb: q, vCb: p.T + x, Ksa: u, Cja: t.T, bUb: v }; d.o5b(h, function (z, A, B, E) {
                                return c(y, z, A,
                                    B, E)
                            }); return v
                        }; b.p5b = c; b.V2b = function (g, d) { f(g[0], g, 0, d) }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.jKa = void 0; var c = a(2), f = a(415); r = function () {
                        function k(m) { this.na = m; this.U = {} } k.prototype.kf = function (m) { var g = this.U[m]; if (void 0 === g) { g = this.na.U[m]; if (void 0 === g) throw Error("Segment not found (" + m + ")"); g = new f.oKa(m, g, this.na.de); this.U[m] = g } return g }; k.prototype.mHb = function (m) { var g = this; return m.H.next ? Object.keys(m.H.next).map(function (d) { return g.kf(d) }) : [] }; k.prototype.HNb =
                            function (m) { var g; return c.__generator(this, function (d) { switch (d.label) { case 0: return [4, m]; case 1: d.Ac(), g = m, d.label = 2; case 2: if (!g.H.Jd) return [3, 4]; g = this.kf(g.H.Jd); return [4, g]; case 3: return d.Ac(), [3, 2]; case 4: return [2] } }) }; k.prototype.AKb = function (m, g) { return f.w1a(m.DN(g)) }; k.prototype.Fi = function (m) { var g = this; Object.keys(m).forEach(function (d) { var h; return null === (h = g.kf(d)) || void 0 === h ? void 0 : h.Fi(m[d]) }) }; return k
                    }(); b.jKa = r
                }, function (r, b, a) {
                    function c(d, h) {
                        var l = Object.keys(d); if (l.some(function (q) {
                            var p,
                                u, t, w; return (null === (p = d[q]) || void 0 === p ? void 0 : p.de) !== (null === (u = h[q]) || void 0 === u ? void 0 : u.de) || (null === (t = d[q]) || void 0 === t ? void 0 : t.weight) !== (null === (w = h[q]) || void 0 === w ? void 0 : w.weight)
                        })) return !0; var n = Object.keys(h); return 0 !== k.__spread(m.Kt(l, n), m.Kt(n, l)).length ? !0 : !1
                    } function f(d, h) { return d.some(function (l, n) { var q; return 0 !== m.Kt(l, null !== (q = h[n]) && void 0 !== q ? q : []).length }) || d.length !== h.length ? !0 : !1 } Object.defineProperties(b, { __esModule: { value: !0 } }); b.WSa = b.fUa = void 0; var k = a(2), m =
                        a(26), g = a(920); b.fUa = function (d) { return new g.pCa(function (h) { return Object.keys(h.H.next || {}).map(function (l) { l = d.kf(l); var n, q, p = null !== (q = null === (n = h.Yi) || void 0 === n ? void 0 : n.Ja(h.Nf).T) && void 0 !== q ? q : Infinity; return { a5b: l, weight: p } }) }) }; b.WSa = function (d, h) {
                            var l = Object.keys(d.U), n = Object.keys(h.U), q = n.filter(function (w) { return -1 === l.indexOf(w) }), p = l.filter(function (w) { return -1 === n.indexOf(w) }), u = l.filter(function (w) {
                                if (-1 === n.indexOf(w)) var v = !1; else {
                                    v = d.U[w]; w = h.U[w]; var x, y, z, A; v = v.Jd !== w.Jd ||
                                        v.Da !== w.Da || v.Aa !== w.Aa || v.de !== w.de || v.S !== w.S || f(null !== (x = v.oq) && void 0 !== x ? x : [], null !== (y = w.oq) && void 0 !== y ? y : []) || c(null !== (z = v.next) && void 0 !== z ? z : {}, null !== (A = w.next) && void 0 !== A ? A : {}) ? !0 : !1
                                } return v
                            }), t = m.Kt(l, k.__spread(u, q, p)); return { Msb: q, cP: p, qwb: u, D3b: t }
                        }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.pCa = void 0; var c = a(5), f = a(243), k = a(921), m = a(418); r = function () {
                        function g(d) { this.dDb = d; this.eza = !1; this.rba = new k.dfa; this.vx = new k.dfa; this.vRa = new m.cfa } g.prototype.o5b =
                            function (d, h) {
                                function l() { var w = u.pop(), v = p.get(w), x = v.Zu, y = v.NM; v = v.state; if (!t.rba.has(w)) { t.rba.add(w); x = h(w, y, x, v); var z = x.qba, A = x.state; q(w).forEach(function (B) { var E = B.a5b; if (!n.rba.has(E) && (B = y + B.weight, z)) if (n.vx.has(E)) { var D = n.vRa.get(E); B < D.NM && (D.NM = B, D.Zu = w, D.state = A, u.mWb(E)) } else n.vx.add(E), p.set(E, { NM: B, Zu: w, state: A }), u.push(E) }) } } var n = this, q = this.dDb, p = this.vRa; c.assert(!this.eza); this.eza = !0; this.rba.clear(); this.vx.clear(); p.set(d, { NM: 0, state: { root: !1, complete: !0, b9a: 0, $q: 0 } });
                                for (var u = new f.V0([d], function (w, v) { return p.get(w).NM - p.get(v).NM }), t = this; !u.empty;)l(); this.eza = !1
                            }; return g
                    }(); b.pCa = r
                }, function (r, b) {
                    function a(g) { return void 0 !== (null === g || void 0 === g ? void 0 : g.wNa) } function c(g) { return (a(g) ? g : Object.defineProperties(g, { wNa: { value: {}, configurable: !1, enumerable: !1 } })).wNa } var f; Object.defineProperties(b, { __esModule: { value: !0 } }); b.dfa = void 0; var k = null !== (f = Number.MAX_SAFE_INTEGER) && void 0 !== f ? f : 1E9, m = Date.now() % k; r = function () {
                        function g() {
                            this.eaa = 0; this.id =
                                m = (m + 1) % k
                        } g.prototype.add = function (d) { c(d)[this.id] = this.eaa; return this }; g.prototype.has = function (d) { return a(d) && c(d)[this.id] === this.eaa }; g.prototype.delete = function (d) { if (!this.has(d)) return !1; c(d)[this.id] = void 0; return !0 }; g.prototype.clear = function () { this.eaa = (this.eaa + 1) % k; return this }; return g
                    }(); b.dfa = r
                }, function (r, b, a) {
                    function c(d) { return { value: d.jb, parent: d.Zu } } Object.defineProperties(b, { __esModule: { value: !0 } }); b.aKa = void 0; var f = a(9), k = a(26), m = a(5), g = a(923); r = function () {
                        function d() {
                            this.Ib =
                                new f.EHa; this.Ts = new g.MMa
                        } Object.defineProperties(d.prototype, { empty: { get: function () { return this.Ib.empty }, enumerable: !1, configurable: !0 } }); Object.defineProperties(d.prototype, { size: { get: function () { return this.Ib.size }, enumerable: !1, configurable: !0 } }); d.prototype.reset = function () { var h = this.Ib.values(); this.Ib.clear(); this.Ts.clear(); h.forEach(function (l) { return l.rf() }) }; d.prototype.Lz = function (h) { return this.Ib.get(h) }; d.prototype.has = function (h) { return this.Ib.has(h) }; d.prototype.wV = function (h) { this.Ts.wV(h) };
                        d.prototype.Joa = function (h) { return this.Ts.parent(h) }; d.prototype.ZGb = function (h) { return this.Ts.children(h) }; d.prototype.wpa = function (h) { return this.Ts.wpa(h) }; d.prototype.Dva = function (h) { if (this.Ib.delete(h.H.id, h)) { var l = this.Ts.children(h); this.Ts.root === h ? 0 === l.length ? this.Ts.clear() : (m.assert(1 === l.length, "cannot remove the root branch with multiple successors"), this.Ts.lYb(l[0])) : (m.assert(0 === l.length, "cannot remove non-root branch with successors"), this.Ts.remove(h)) } }; d.prototype.forEach =
                            function (h) { var l = this; this.Ib.forEach(function (n, q) { return h(n, q, l) }) }; d.prototype.reduce = function (h, l) { var n = this; return this.Ib.reduce(function (q, p, u) { return h(q, p, u, n) }, l) }; d.prototype.map = function (h) { var l = this; return this.Ib.map(function (n, q) { return h(n, q, l) }) }; d.prototype.filter = function (h) { var l = this; return this.Ib.filter(function (n, q) { return h(n, q, l) }) }; d.prototype.OJb = function () { var h = {}; this.forEach(function (l, n) { var q; (l = l.$q) && (null !== (q = h[n]) && void 0 !== q ? q : h[n] = []).push(l.T) }); return h };
                        d.prototype.P3b = function (h, l) { var n = this; h = this.SPb(h, l).target; l = this.Ts.eXb(h.map(c)); h = l.cP; l = l.P8a; h.forEach(function (q) { return n.Ib.delete(q.H.id, q) }); return { cP: h, P8a: l.map(function (q) { return q.value }) } }; d.prototype.SPb = function (h, l) {
                            function n(u, t) { (u = l(u.H.id, t)) && q.Ib.set(u.H.id, u); return u } var q = this, p = []; return {
                                target: h.reduce(function (u, t, w) {
                                    var v; m.assert(0 === w || t.Zu); if (t.Zu) {
                                        var x = null === (v = k.NRa(u, function (y) { return y.jb.H.id === t.Zu })) || void 0 === v ? void 0 : v.jb; if (!x) return m.assert(void 0 !==
                                            k.re(p, function (y) { return y.H.id === t.Zu }), "predecessorSegmentId " + t.Zu + " specified without previously specifying predecessor requiredBranch."), p.push(t), u
                                    } v = k.re(q.Lz(t.H.id), function (y) { return q.Ts.parent(y) === x || 0 === w }); v = null !== v && void 0 !== v ? v : n(t, x); v.$g = t.$g; u.push({ jb: v, Zu: x }); (null === v || void 0 === v ? 0 : v.HN) && v.update(t.H); return u
                                }, [])
                            }
                        }; return d
                    }(); b.aKa = r
                }, function (r, b, a) {
                    function c(g) {
                        return 0 === g.length || void 0 === g[0].parent && g.every(function (d, h) {
                            return 0 === h || m.Xp(g, function (l) {
                                return l.value ===
                                    d.parent
                            }) < h
                        })
                    } Object.defineProperties(b, { __esModule: { value: !0 } }); b.MMa = void 0; var f = a(418), k = a(5), m = a(26); r = function () {
                        function g() { this.L = new f.cfa } Object.defineProperties(g.prototype, { empty: { get: function () { return !this.aB }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, { root: { get: function () { var d; return null === (d = this.aB) || void 0 === d ? void 0 : d.value }, enumerable: !1, configurable: !0 } }); Object.defineProperties(g.prototype, {
                            values: {
                                get: function () {
                                    var d = []; this.wV(function (h) { return !!d.push(h) });
                                    return d
                                }, enumerable: !1, configurable: !0
                            }
                        }); g.prototype.has = function (d) { return !!this.L.get(d) }; g.prototype.parent = function (d) { var h; d = this.L.get(d); k.assert(d, "Attempted to find the parent of a node not in the tree"); return null === (h = d.parent) || void 0 === h ? void 0 : h.value }; g.prototype.children = function (d) { d = this.L.get(d); k.assert(d, "Attempted to find the children of a node not in the tree"); return d.children ? d.children.map(function (h) { return h.value }) : [] }; g.prototype.wpa = function (d) {
                            d = this.L.get(d);
                            k.assert(d, "Attempted to find the children of a node not in the tree"); return void 0 !== d.children && 0 < d.children.length
                        }; g.prototype.add = function (d, h) {
                            k.assert(!this.L.get(d), "Attempted to add a value to tree that is already present"); var l = { value: d }; void 0 === this.aB ? (k.assert(void 0 === h, "a parent cannot be specified when the tree is empty"), this.aB = l) : (k.assert(void 0 !== h, "a parent must be specified when the tree is non-empty"), h = this.L.get(h), k.assert(h, "Parent value does not exist in tree"), this.YRa(l,
                                h)); this.L.set(d, l); return this
                        }; g.prototype.remove = function (d) { d = this.L.get(d); k.assert(d, "Attempted to remove a node not in the tree"); this.removeNode(d); return this }; g.prototype.removeNode = function (d) { var h = this; this.rna(function (l) { return h.L.delete(l) }, d.value); void 0 === d.parent ? this.aB = void 0 : this.detach(d) }; g.prototype.move = function (d, h) {
                            d = this.L.get(d); h = this.L.get(h); k.assert(d, "cannot move a value that is not in the tree"); k.assert(h, "cannot move a value to a parent value not in the tree");
                            k.assert(d.parent, "cannot move the root node"); k.assert(!this.zMb(d, h), "cannot move a node below itself or one of its decendants"); d.parent !== h && (this.detach(d), this.YRa(d, h)); return this
                        }; g.prototype.lYb = function (d) { var h = this; d = this.L.get(d); k.assert(d, "cannot replant at a value that is not in the tree"); var l = []; this.detach(d); this.rna(function (n) { h.L.delete(n); l.unshift(n); return !0 }); this.aB = d }; g.prototype.clear = function () { this.aB && this.remove(this.aB.value); return this }; g.prototype.WXa = function (d,
                            h) { var l = this, n; d = this.L.get(d); k.assert(d, "cannot iterate children of a value not in the tree"); null === (n = d.children) || void 0 === n ? void 0 : n.forEach(function (q) { return h(q.value, l) }) }; g.prototype.wV = function (d, h) { var l = this; k.assert(!this.empty || void 0 === h, "cannot iterate from a value on an empty tree"); this.empty || (h = null !== h && void 0 !== h ? h : this.aB.value, d(h, this) && this.WXa(h, function (n) { return l.wV(d, n) })) }; g.prototype.rna = function (d, h) {
                                var l = this; k.assert(!this.empty || void 0 === h, "cannot iterate from a value on an empty tree");
                                this.empty || (h = null !== h && void 0 !== h ? h : this.aB.value, this.WXa(h, function (n) { return l.rna(d, n) }), d(h, this))
                            }; g.prototype.eXb = function (d) {
                                var h = this; k.assert(c(d), "entries must be in topological order"); if (0 === d.length) { var l = this.values, n = []; this.clear() } else n = d.filter(function (q) { return h.has(q.value) && q.parent !== h.parent(q.value) }), l = this.values.filter(function (q) { return -1 === m.Xp(d, function (p) { return p.value === q }) }), this.clear(), d.forEach(function (q) { return h.add(q.value, q.parent) }); return {
                                    cP: l,
                                    P8a: n
                                }
                            }; g.prototype.YRa = function (d, h) { var l; d.parent = h; (null !== (l = h.children) && void 0 !== l ? l : h.children = []).push(d) }; g.prototype.detach = function (d) { k.assert(d.parent, "cannot detach the root"); k.assert(void 0 !== d.parent.children, "logic error: parent node does not have children"); var h = d.parent.children.indexOf(d); k.assert(0 <= h, "logic error: node does not appear in the children of its parent"); d.parent.children.splice(h, 1); d.parent = void 0 }; g.prototype.zMb = function (d, h) {
                                for (; void 0 !== h;) {
                                    if (h === d) return !0;
                                    h = h.parent
                                } return !1
                            }; return g
                    }(); b.MMa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.DAa = void 0; var c = a(2), f = c.__importDefault(a(6)), k = a(17), m = a(9), g = a(22), d = a(5), h = a(88), l = a(67); r = function () {
                        function n(q, p, u, t, w, v, x) {
                            var y = this; void 0 === x && (x = 500); this.I = q; this.config = p; this.Vb = u; this.events = t; this.Dma = w; this.Ne = v; this.evb = x; this.Iua = this.Cl = 0; this.J8 = []; this.w5 = { au: 0 }; this.state = new m.vr(k.Jc.nj); this.wf = new m.vr(k.sa.Fh); this.Dh = new h.Tv({
                                AA: 10, Fq: this, source: "BufferStateTracker",
                                Iia: function () { return { isBuffering: y.qg, alwaysRunUnderflowTimer: y.config.WL } }
                            })
                        } Object.defineProperties(n.prototype, { au: { get: function () { return this.w5.au }, enumerable: !1, configurable: !0 } }); Object.defineProperties(n.prototype, { qg: { get: function () { return k.So(this.state.value) }, enumerable: !1, configurable: !0 } }); n.prototype.gba = function (q) { var p = this; Array.isArray(q) || (q = [q]); q.forEach(function (u) { 0 === u.mediaType && (p.JSa = c.__assign(c.__assign({}, p.JSa), { audio: { trackId: u.trackId, trackIndex: u.CE } })) }) }; n.prototype.T5a =
                            function (q) { this.set(k.Jc.nj); this.kJ(q, k.Jc.wd) }; n.prototype.y9 = function () { this.w5.au++ }; n.prototype.PX = function (q) { this.config.WL || void 0 === this.nA && this.qg && this.ola(); this.nA = { Uw: q.httpCode, th: q.errorCode, zj: q.nativeCode } }; n.prototype.H9 = function () { this.nA = void 0; this.config.WL || this.Y4() }; n.prototype.zk = function (q) { this.qg || (this.kJ(q, k.Jc.Tf), this.qg && (this.nA || this.config.WL) && this.ola()) }; n.prototype.MTb = function (q, p) { this.state.value !== k.Jc.wd && this.kJ(q, k.Jc.dS); this.gba(p) }; n.prototype.hTb =
                                function (q, p) { var u = this; this.config.dvb && this.qg && (-1 === this.J8.indexOf(q) && this.J8.push(q), 2 === this.J8.length && Promise.resolve().then(function () { u.qg && void 0 !== u.Ex && u.Se("memoryLimit", p.UZ, p.VZ) })) }; n.prototype.c_b = function (q, p) { d.assert(this.state.value === k.Jc.wd && void 0 === this.Ex); this.Ex = q; p && (this.events.emit("initialAudioTrack", { type: "initialAudioTrack", trackId: p.trackId, trackIndex: p.CE }), this.gba(p)) }; n.prototype.q_b = function (q, p, u) {
                                    d.assert(this.qg); this.lqa = null !== q && void 0 !== q ? q : this.lqa;
                                    this.AW = null !== p && void 0 !== p ? p : this.AW; void 0 === this.t7 ? this.t7 = u : void 0 !== (null === u || void 0 === u ? void 0 : u.reason) && (this.t7.reason = u.reason)
                                }; n.prototype.Se = function (q, p, u) {
                                    var t; d.assert(this.qg && void 0 !== this.Ex && void 0 === this.yG && void 0 === this.kba && void 0 === this.q3); this.yG = q; this.kba = p; this.q3 = u; this.aq = 100; this.Aka(); this.Y4(); null === (t = this.qka) || void 0 === t ? void 0 : t.Jb(); this.state.value === k.Jc.Tf && (this.Iua = f.default.time.fa()); this.k5(); this.set(k.Jc.oj); this.q3 = this.kba = this.yG = this.t7 = this.AW =
                                        this.lqa = this.Ex = void 0
                                }; n.prototype.stop = function () { var q; this.set(k.Jc.nj); this.Aka(); this.Y4(); null === (q = this.qka) || void 0 === q ? void 0 : q.Jb() }; n.prototype.pka = function (q, p, u, t) {
                                    var w = this, v, x, y; d.assert(this.qg); null === (v = this.qka) || void 0 === v ? void 0 : v.Jb(); if (this.state.value === k.Jc.Tf && f.default.time.fa() < this.Iua + this.config.Jsa) { var z = this.config.Jsa - (f.default.time.fa() - this.Iua); this.qka = this.Ne.AU(l.Pk.OJ(g.O.Na(z)), function () { w.pka(q, p, u, t) }) } else {
                                        v = u.uN(0); var A = u.uN(1), B = f.default.time.fa() -
                                            this.Cl; if (v || A) {
                                                var E = function (G) { return G ? G.CD() || G.hs() ? t.oka(w.state.value, q, B >= w.config.OA, p, G, w.au) : { complete: !1, reason: "selecteeNotStreamable" } : { complete: !0, reason: "noSelectee" } }, D = E(v); E = E(A); var F = function (G) { var C; return { reason: G.reason, complete: G.complete, bl: null !== (C = G.CC) && void 0 !== C ? C : 0 } }; this.Dh.qw({ as: F(D), vs: F(E), bt: B }); F = A ? E : D; F.e5b = A && E.CC || 0; F.Vtb = v && D.CC || 0; D.complete && E.complete ? (F.complete = !0, this.Se(null !== (z = F.reason) && void 0 !== z ? z : "unknown", null !== (x = F.e5b) && void 0 !== x ? x :
                                                    0, null !== (y = F.Vtb) && void 0 !== y ? y : 0)) : (F.complete = !1, this.zvb(F), this.Dh.qw({ bp: this.aq }))
                                            }
                                    }
                                }; n.prototype.zvb = function (q) { var p, u, t = q.progress; q.JD ? t = (f.default.time.fa() - this.Cl) / this.config.OA : t || (t = (null !== (p = q.CC) && void 0 !== p ? p : 0) / this.config.yj); q = Math.min(Math.max(Math.round(100 * t), null !== (u = this.aq) && void 0 !== u ? u : 0), 99); q != this.aq && (this.aq = q) }; n.prototype.kJ = function (q, p) {
                                    d.assert(p === k.Jc.wd || void 0 !== q); this.Ex = q; this.aq = 0; this.s9 = void 0; this.w5.au = 0; this.J8 = []; q = this.state.value === k.Jc.wd ||
                                        this.state.value === k.Jc.Tf; this.Cl = f.default.time.fa(); this.set(p); q || (this.kDb(), this.M_b())
                                }; n.prototype.set = function (q) { this.state.set(q); switch (q) { case k.Jc.nj: this.wf.set(k.sa.nj); break; case k.Jc.wd: case k.Jc.dS: this.wf.set(k.sa.wd); break; case k.Jc.Tf: this.wf.set(k.sa.Tf); break; case k.Jc.oj: this.wf.set(k.sa.Kc) } }; n.prototype.kDb = function () { d.assert(this.events && void 0 !== this.aq); this.s9 = this.aq; this.events.emit("bufferingStarted", { type: "bufferingStarted", time: f.default.time.fa(), percentage: this.aq }) };
                        n.prototype.M_b = function () { var q = this; this.Aka(); this.$Rb = this.Ne.IUa(function () { return q.jDb() }, g.O.Na(this.evb), "buffering-notification") }; n.prototype.Aka = function () { var q; null === (q = this.$Rb) || void 0 === q ? void 0 : q.Jb() }; n.prototype.jDb = function () { this.qg && this.events && void 0 !== this.aq && this.aq !== this.s9 && this.events.emit("buffering", { type: "buffering", time: f.default.time.fa(), percentage: this.aq }) && (this.s9 = this.aq) }; n.prototype.k5 = function () {
                            var q; d.assert(this.events && this.Ex && void 0 !== this.yG &&
                                void 0 !== this.q3 && void 0 !== this.kba); this.s9 = this.aq; this.events.emit("bufferingComplete", c.__assign({ type: "bufferingComplete", time: f.default.time.fa(), actualStartPosition: this.Ex, reason: this.yG, aBufferLevelMs: this.q3, vBufferLevelMs: this.kba, selector: this.lqa, initBitrate: this.AW, initSelReason: null === (q = this.t7) || void 0 === q ? void 0 : q.reason, skipbackBufferSizeBytes: this.ffc }, this.JSa))
                        }; n.prototype.ola = function () {
                            var q = this; this.config.Mcb && (!this.uB || this.uB.state !== l.en.complete && this.uB.state !== l.en.KM ?
                                void 0 === this.uB && (this.uB = this.Ne.QG(function () { return q.fcb() }, "underflow")) : this.uB.Pm())
                        }; n.prototype.Y4 = function () { this.uB && (this.uB.state !== l.en.KM && this.uB.Jb(), this.uB = void 0) }; n.prototype.fcb = function () {
                            var q, p, u; return c.__generator(this, function (t) {
                                switch (t.label) {
                                    case 0: return q = this.config.q8, this.I.trace("BufferingStateTracker: starting underflow timer: " + q + "ms"), [4, l.Pk.OJ(g.O.Na(q))]; case 1: t.Ac(), t.label = 2; case 2: if (!this.qg) return [3, 4]; p = this.Vb.o2a || 0; u = f.default.time.fa() - p; if (u >=
                                        q) return this.I.trace("Forcing streaming failure, " + u + "ms since data received"), this.Dma.OTb(this.nA), [2]; this.I.trace("BufferingStateTracker: network activity, wait " + (q - u) + "ms"); return [4, l.Pk.OJ(g.O.Na(q - u))]; case 3: return t.Ac(), [3, 2]; case 4: return [2]
                                }
                            })
                        }; c.__decorate([h.Wb({ methodName: "onTemporaryNetworkError", al: !0 })], n.prototype, "PX", null); c.__decorate([h.Wb({ methodName: "onUnderflow", al: !0 })], n.prototype, "zk", null); c.__decorate([h.Wb({ methodName: "bufferingComplete", al: !0 })], n.prototype, "Se",
                            null); c.__decorate([h.Wb({ methodName: "stop", al: !0 })], n.prototype, "stop", null); c.__decorate([h.Wb({ methodName: "checkStreamingBufferingComplete", al: !0 })], n.prototype, "pka", null); c.__decorate([h.Wb({ methodName: "createUnderflowTask", al: !0 })], n.prototype, "ola", null); c.__decorate([h.Wb({ methodName: "destroyUnderflowTask", al: !0 })], n.prototype, "Y4", null); c.__decorate([h.Wb({ methodName: "onUnderflowTimeout", al: !0 })], n.prototype, "fcb", null); return n
                    }(); b.DAa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } });
                    b.hXa = void 0; var c = a(26); b.hXa = function (f, k) { var m = []; f = f.filter(function (g) { return g.HN }).map(function (g) { var d = k(g.P), h = c.Kt(d, g.fg).map(function (l) { return l.mediaType }); m = c.D3(m, h); return { jb: g, fg: d } }); return { rwb: m, Yub: f } }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.zLa = void 0; var c = a(2), f = a(22), k = a(5); b.zLa = function () {
                        function m() { } m.UJb = function (g) {
                            var d, h; if (g.zh) {
                                g = c.__read(g.fg, 2); var l = g[1]; g = null === (d = g[0].pp) || void 0 === d ? void 0 : d.Yi; d = null === (h = null === l || void 0 ===
                                    l ? void 0 : l.pp) || void 0 === h ? void 0 : h.Yi; k.assert(g); h = d ? f.O.min(g, d) : g; return { l5b: g, n5b: h }
                            }
                        }; return m
                    }()
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.vAa = void 0; var c = a(19), f = a(9), k = a(67), m = a(21), g = a(17); r = function () {
                        function d(h, l, n, q, p, u) { this.Ne = h; this.Zs = l; this.config = n; this.VSb = q; this.Ff = p; this.console = u; this.Bga = new c.di } d.MGb = function (h) { var l; return null !== (l = h.ze) && void 0 !== l ? l : h.$D }; d.HHb = function (h) { var l = h.H, n = h.uO; return l.Jd ? l.Jd : n.length ? n[0] : h.HA[0] }; d.prototype.hya =
                            function (h, l) { var n = this, q, p = h.H; this.reset(); if (!(p.uv || 1 >= p.HA.length && (null === (q = p.zx) || void 0 === q || !q.length))) { var u = this.Avb(h); q = u.qwa; l = l.lessThan(u.CLb); this.rZb(p, l ? q : void 0); if (l) this.Bga.on(h.events, "branchEdited", function () { n.hya(h, n.Ne.Ba.currentTime) }) } }; d.prototype.vTa = function () { var h; null === (h = this.pVa) || void 0 === h ? void 0 : h.Jb(); this.pVa = void 0 }; d.prototype.reset = function () { this.vTa(); this.Bga.clear() }; d.prototype.Avb = function (h) {
                                h = d.MGb(h); var l = f.O.Na(this.config.RD), n = f.O.Na(this.config.lRb +
                                    this.config.uX); l = h.Ja(l); return { CLb: g.So(this.Ff.value) ? h.Ja(n) : l, qwa: l }
                            }; d.prototype.rZb = function (h, l) { var n = this; this.vTa(); this.pVa = l ? this.Ne.AU(k.Pk.oQ(l), function () { return n.k3a(h) }, "scheduled branch decision") : this.Zs.AU(k.Pk.t5b, function () { return n.k3a(h) }, "immediate branch decision") }; d.prototype.k3a = function (h) { this.Bga.clear(); var l = d.HHb(h); m.ia && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + l); this.VSb(h.id, l, !0) }; return d
                    }(); b.vAa = r
                }, function (r,
                    b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.AYa = void 0; var c = a(929); b.AYa = function (f, k) { return f.reduce(function (m, g) { var d = k(g); g.sq().forEach(function (h) { return m.yia(h.mediaType, h.Jt, !d) }); return m }, new c.iKa) } }, function (r, b, a) {
                        Object.defineProperties(b, { __esModule: { value: !0 } }); b.iKa = void 0; var c = a(419); r = function () {
                            function f() { this.Nr = new c.KR; this.SU = new c.KR } Object.defineProperties(f.prototype, {
                                total: {
                                    get: function () { var k = new c.KR; k.add(this.Nr); k.add(this.SU); return k }, enumerable: !1,
                                    configurable: !0
                                }
                            }); f.prototype.add = function (k) { this.Nr.add(k.Nr); this.SU.add(k.SU) }; f.prototype.yia = function (k, m, g) { (g ? this.SU : this.Nr).yia(k, m) }; return f
                        }(); b.iKa = r
                    }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.q_a = void 0; b.q_a = function (a, c) { return a.reduce(function (f, k) { return f + k.m6(c).T }, 0) } }, function (r, b, a) {
                        Object.defineProperties(b, { __esModule: { value: !0 } }); b.CUa = void 0; var c = a(2), f = a(17); b.CUa = function (k) {
                            function m(n) {
                                f.So(n.newValue) && !f.So(n.oldValue) ? (null === l || void 0 ===
                                    l ? void 0 : l.Jb(), l = h.AU.apply(h, c.__spread(g))) : null === l || void 0 === l ? void 0 : l.Jb()
                            } for (var g = [], d = 1; d < arguments.length; d++)g[d - 1] = arguments[d]; d = k.Uf; var h = k.Zs, l; d.state.addListener(m); m({ oldValue: f.Jc.nj, newValue: d.state.value })
                        }
                    }, function (r, b, a) {
                        function c(m, g) { return Object.keys(m.bE).map(function (d) { return m.bE[d] }).filter(function (d) { return void 0 === d.vH || 1 === d.vH }).reduce(function (d, h) { return d + h.Nr[g] }, 0) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.dMa = void 0; var f = a(17), k = a(21); r =
                            function () {
                                function m(g, d, h) { this.na = g; this.console = d; this.joa = h } m.prototype.Yvb = function (g, d, h) {
                                    var l = h && this.na.config.J4b, n = this.na.config.Oya || l, q = this.joa(); if (l) { var p; l = g.global; l = (p = {}, p[0] = l[0] - c(g, 0), p[1] = l[1] - c(g, 1), p) } p = l; q = this.nTa(d) || this.Ewb(g) || this.Cwb(g, q, p) || this.Dwb(g, q, p, d); p = f.pva(q); if (q && (!p || n)) return k.ia && this.console.log("canIssueRequest " + this.na.id + " [" + d + "] static limit: " + (h + ", usage: " + JSON.stringify(g) + ", failed " + q)), { result: !1, reason: q }; k.ia && this.console.log("canIssueRequest " +
                                        this.na.id + " [" + d + "] static limit: " + (h + ", usage: " + JSON.stringify(g) + ", success " + q)); return { result: !0, reason: q }
                                }; m.prototype.nTa = function (g) { var d = this.na.config.xA; if (this.na.vHb(g) >= (d || Infinity)) return "mediaDurationLimit" }; m.prototype.Ewb = function (g) { return g.bE[this.na.id].total.total > (this.na.z6() || Infinity) ? "playgraphMemoryLimit" : void 0 }; m.prototype.Cwb = function (g, d, h) {
                                    g = g.global; return h ? h[0] + h[1] > (d.Bxa.total || Infinity) ? "staticMemoryLimit" : void 0 : g.total > (d.total.total || Infinity) ? "globalMemoryLimit" :
                                        void 0
                                }; m.prototype.Dwb = function (g, d, h, l) { var n = g.global; return h ? (k.ia && this.console.log("checkRequestByMediaTypeMemory [" + l + "]: using static limit " + (d.Bxa[l] + ", usage: " + h) + (" (global: " + n[l] + "  - certain contiguous: ") + (c(g, l) + ")")), h[l] > (d.Bxa[l] || Infinity) ? 1 === l ? "staticVideoMemoryLimit" : "staticAudioMemoryLimit" : void 0) : n[l] > (d.total[l] || Infinity) ? 1 === l ? "globalVideoMemoryLimit" : "globalAudioMemoryLimit" : void 0 }; return m
                            }(); b.dMa = r
                    }, function (r, b) {
                        Object.defineProperties(b, { __esModule: { value: !0 } });
                        b.cKa = void 0; r = function () { function a(c) { this.console = c; this.vka() } a.prototype.get = function (c) { return this.R4[c] || this.Ti[c] }; a.prototype.set = function (c, f) { void 0 === this.Ti[c] && (this.Ti[c] = f) }; a.prototype.h_b = function (c, f) { void 0 === this.get(c) && (this.R4[c] = f) }; a.prototype.clear = function (c) { this.R4[c] = void 0; this.Ti[c] = void 0 }; a.prototype.axb = function (c) { var f; this.Ti = (f = {}, f[c] = this.Ti[c], f); this.R4 = {} }; a.prototype.vka = function () { this.Ti = {}; this.R4 = {} }; return a }(); b.cKa = r
                    }, function (r, b, a) {
                        Object.defineProperties(b,
                            { __esModule: { value: !0 } }); b.eKa = b.cF = void 0; var c = a(2), f = a(5), k; (function (m) { m[m.rca = 0] = "CREATED"; m[m.mfa = 1] = "STARTED"; m[m.ZR = 2] = "REQUEST_ISSUED"; m[m.Xx = 3] = "EVALUATED" })(k = b.cF || (b.cF = {})); r = function () {
                                function m(g) { this.Bx = g; this.ed = k.rca; this.vE = {}; this.yZ = {} } Object.defineProperties(m.prototype, { state: { get: function () { return this.ed }, enumerable: !1, configurable: !0 } }); m.prototype.start = function () {
                                    var g = this; this.ed !== k.mfa && (this.DA(k.mfa), [k.Xx, k.ZR].forEach(function (d) {
                                        var h = new Promise(function (l) {
                                            f.assert(g.yZ &&
                                                g.vE, "state promises should be defined"); g.yZ[d] = l; g.vE[d] = h
                                        })
                                    }), this.Bx(), this.DA(k.Xx))
                                }; m.prototype.DA = function (g) { this.ed = g; this.yZ && (g = this.yZ[g], null === g || void 0 === g ? void 0 : g()) }; m.prototype.Jb = function () { return c.__awaiter(this, void 0, void 0, function () { return c.__generator(this, function (g) { switch (g.label) { case 0: if (this.ed !== k.mfa) return [3, 2]; f.assert(this.vE, "state resolves should be defined"); return [4, this.vE[k.Xx]]; case 1: g.Ac(), g.label = 2; case 2: return this.yZ = this.vE = void 0, [2] } }) }) }; m.prototype.sba =
                                    function (g, d) { c.__awaiter(this, void 0, void 0, function () { var h; return c.__generator(this, function (l) { switch (l.label) { case 0: if (this.ed === k.Xx) return [3, 6]; f.assert(this.vE, "state promises should be defined"); h = g; switch (h) { case k.Xx: return [3, 1]; case k.ZR: return [3, 3] }return [3, 5]; case 1: return [4, this.vE[k.Xx]]; case 2: return l.Ac(), [3, 6]; case 3: return [4, this.vE[k.ZR]]; case 4: return l.Ac(), [3, 6]; case 5: return [3, 6]; case 6: return null === d || void 0 === d ? void 0 : d(), [2] } }) }) }; return m
                            }(); b.eKa = r
                    }, function (r, b,
                        a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.cLa = void 0; var c = a(2), f = a(5), k = c.__importDefault(a(6)), m = a(88), g = a(9); !1; r = function () {
                        function d(h, l) { var n = this; this.P7 = h; this.config = l; this.XF = 0; this.console = new k.default.Console("ASEJS_REQUEST_PACER", "media|asejs"); this.owa = !1; !1; this.yq = new m.Tv({ Fq: this, source: "RequestPacer", Iia: function () { return { numOutstanding: n.XF } }, AA: 10 }); this.X8a = new g.E1 } Object.defineProperties(d.prototype, { FSb: { get: function () { return this.XF }, enumerable: !1, configurable: !0 } });
                        d.prototype.Xk = function () { var h = this; if (!this.owa) { this.owa = !0; var l = k.default.time.fa(); return Promise.resolve().then(function () { h.owa = !1; h.oTa(l) }) } }; d.prototype.Sy = function (h) { this.yq.qw({ mediaType: h.mediaType, contentStartPts: h.od, contentEndPts: h.Lc }); this.XF++; f.assert(this.XF <= this.config.p8, "More than maxAllowedOutstandingRequests are outstanding") }; d.prototype.II = function (h) {
                            this.yq.qw({ mediaType: h.mediaType, contentStartPts: h.od, contentEndPts: h.Lc }); this.XF--; f.assert(0 <= this.XF, "Received remove request when there are no requests outstanding");
                            this.Xk("removeRequest")
                        }; d.prototype.oTa = function (h) { var l = this.config.p8, n = k.default.time.fa() - h, q = 0; for (this.X8a.push(n); this.XF < l && this.P7();)q++; this.yq.ET("requestOpportunityRunnerComplete", { requestsIssued: q, scheduledMs: h, timeSinceScheduled: n }, !0) }; c.__decorate([m.Wb({ methodName: "checkRequestOpportunity", al: !0, Do: !0 })], d.prototype, "Xk", null); c.__decorate([m.Wb({ methodName: "addRequest", al: !0 })], d.prototype, "Sy", null); c.__decorate([m.Wb({ methodName: "removeRequest", al: !0 })], d.prototype, "II", null);
                        c.__decorate([m.Wb({ methodName: "checkRequestOpportunityRunner", al: !0 })], d.prototype, "oTa", null); return d
                    }(); b.cLa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.dDa = void 0; var c = a(57); r = function () {
                        function f(k) { this.Vb = k } Object.defineProperties(f.prototype, { si: { get: function () { return "EndplayFieldsReporter" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { enabled: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); f.prototype.Kn = function (k) {
                            if (k.Zi ===
                                c.me.jq && this.Vb) {
                                k = {}; var m = this.Vb.get(); m && m.avtp && m.avtp.Ha && (k.avtp = m.avtp.Ha, k.dltm = m.avtp.XC); m && m.cdnavtp && (k.cdnavtp = m.cdnavtp, k.activecdnavtp = m.activecdnavtp); if (m = this.Vb.C6()) m.bytesRequestedPacingVideo && (k.bytesRequestedPacingVideo = m.bytesRequestedPacingVideo, k.estimatedBytesPacedVideo = m.estimatedBytesPacedVideo, k.bytestotalVideo = m.bytestotalVideo, k.pacedAvtpVideo = m.pacedAvtpVideo), m.bytesRequestedPacingAudio && (k.bytesRequestedPacingAudio = m.bytesRequestedPacingAudio, k.estimatedBytesPacedAudio =
                                    m.estimatedBytesPacedAudio, k.bytestotalAudio = m.bytestotalAudio, k.pacedAvtpAudio = m.pacedAvtpAudio), m.pacedAvtp && (k.pacedAvtp = m.pacedAvtp); if (m = this.Vb.u6()) k.initial_avtp = m.IH, k.initial_dltime = m.XC, k.initial_responses_audio = m.X0a, k.initial_responses_video = m.Y0a, k.initial_tput_samples = m.zO, k.initial_1sec_tput_samples = m.xO; this.Vb.flush(); if (m = this.Vb.gZa()) for (var g in m) m.hasOwnProperty(g) && (k["ne" + g] = Number(m[g]).toFixed(6)); return k
                            }
                        }; return f
                    }(); b.dDa = r
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.WLa = void 0; var c = a(57); r = function () {
                            function f(k) { k.events.on("streamSelection", this.Dta.bind(this)) } f.prototype.Dta = function (k) { 0 === k.mediaType && void 0 === this.W0a ? this.W0a = k : 1 === k.mediaType && void 0 === this.Z0a && (this.Z0a = k) }; Object.defineProperties(f.prototype, { si: { get: function () { return "StartplayFieldsReporter" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { enabled: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); f.prototype.Kn = function (k) {
                                var m;
                                if (k.Zi === c.me.lp) return k = null !== (m = this.Z0a) && void 0 !== m ? m : this.W0a, { histdiscbw: null === k || void 0 === k ? void 0 : k.result.Au, histage: null === k || void 0 === k ? void 0 : k.result.Qo }
                            }; return f
                        }(); b.WLa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.rMa = void 0; r = a(2); var c = a(19), f = a(21), k = r.__importDefault(a(6)); a = function () {
                        function m(g) { this.Ne = g; this.W1 = []; this.reset() } Object.defineProperties(m.prototype, { si: { get: function () { return "task-audit" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype,
                            { jx: { get: function () { return "tsched" }, enumerable: !1, configurable: !0 } }); Object.defineProperties(m.prototype, { enabled: { get: function () { return f.ia }, enumerable: !1, configurable: !0 } }); m.prototype.reset = function () {
                                var g = this, d; null === (d = this.jL) || void 0 === d ? void 0 : d.clear(); this.jL = new c.di; this.jL.on(this.Ne, "clockChanged", function () { g.reset(); g.GV("initial") }); this.jL.on(this.Ne, "stopping", function () { g.GV("stopping") }); this.jL.on(this.Ne.Ba, "clockAdjusted", function () { g.GV("clockAdjusted") }); this.jL.on(this.Ne.Ba,
                                    "stopStart", function () { g.GV("stopStart") }); this.jL.on(this.Ne.Ba, "speedChanged", function () { g.GV("speedChanged") })
                            }; m.prototype.GV = function (g) { this.W1.push({ reason: g, audit: this.Ne.AGb(), time: k.default.time.fa() }); 5 < this.W1.length && this.W1.shift() }; m.prototype.Kn = function () { return this.W1 }; return m
                    }(); b.rMa = a
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.eLa = void 0; var c = a(57); r = function () {
                        function f(k, m) { this.Vb = k; this.Y8a = m } Object.defineProperties(f.prototype, {
                            si: {
                                get: function () { return "RequestsReporter" },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(f.prototype, { enabled: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); f.prototype.Kn = function (k) { k = k.Zi; if (k === c.me.jq || k === c.me.io || void 0 === k) { k = { numOutstandingRequests: this.Y8a.FSb, requestOpportunityDelayStats: this.Y8a.X8a }; var m = this.Vb.FQa; m && m.length && (k.activeRequests = JSON.stringify(m)); return k } }; return f
                    }(); b.eLa = r
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.hDa = void 0; r = function () {
                        function a(c) {
                            this.s5 =
                                c; this.jx = "engine"; this.enabled = !0
                        } Object.defineProperties(a.prototype, { si: { get: function () { return this.jx }, enumerable: !1, configurable: !0 } }); a.prototype.Kn = function () { var c = this.s5.uVb.map(function (f) { var k = f.na; return { id: k.id, weight: k.weight, relativeWeight: f.FY } }); return { prefetcher: this.s5.$u.getStats(), playgraphs: c, viewables: this.s5.m5b, players: this.s5.j7a.length } }; return a
                    }(); b.hDa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.NDa = void 0; var c = a(5), f = a(419); r = function () {
                        function k() {
                            this.global =
                                new f.KR; this.bE = {}
                        } k.prototype.add = function (m, g) { c.assert(void 0 === this.bE[m], "Cannot add new memory object for playgraph"); this.bE[m] = g; this.global.add(g.Nr); this.global.add(g.SU) }; return k
                    }(); b.NDa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.qHa = void 0; var c = a(2), f = a(21), k = a(409), m = a(88); r = function () {
                        function g(d, h, l) { this.joa = d; this.KHb = h; this.I = l; this.Dh = new m.Tv({ Fq: this, console: l, source: "MemoryDeadlockProtector", AA: 5 }) } g.prototype.VFb = function (d) {
                            var h, l, n = d.config,
                                q = n.yj + (null !== (l = null === (h = n.HP) || void 0 === h ? void 0 : h.T) && void 0 !== l ? l : 0); h = this.wKb(q, d); f.ia && this.I.debug("MDP: has prebuf: " + h); return h ? { a5: !0 } : (l = this.Kvb(n), h = l.dUb, l = l.R4b, h && l ? (f.ia && this.I.debug("MDP: utilizing " + Math.round(100 * l) + "%"), l >= n.JQb ? this.i9a(d, h) : { a5: !0 }) : { a5: !1 })
                        }; g.prototype.i9a = function (d, h) {
                            var l, n, q; this.Dh.qw({ o: h }); var p = d.X; d = d.Ib; var u = p.Ib; p = p.QH; for (var t = 0; t < u.length; t++)if (!u[t].Al) { p = u[t]; u = u.slice(0, t + 1); break } t = !1; var w = [{ mediaType: 0, DC: 0 }, { mediaType: 1, DC: 0 }];
                            if (null === p || void 0 === p || !p.Al) {
                                d = d.map(function (B) { return B }).filter(function (B) { return -1 === u.indexOf(B) }).sort(function (B, E) { return k.$ja(B) - k.$ja(E) }); try { for (var v = c.__values(d), x = v.next(); !x.done; x = v.next()) { var y = x.value, z = y.fD(); w[0].DC += null !== (n = z.yC) && void 0 !== n ? n : 0; w[1].DC += null !== (q = z.Xs) && void 0 !== q ? q : 0; f.ia && this.I.debug("Resetting discontiguous branch " + y.H.id, z); y.reset(); if (t = w.every(function (B) { return B.DC >= h[B.mediaType].DC })) break } } catch (B) { var A = { error: B } } finally {
                                    try {
                                        x && !x.done &&
                                            (l = v.return) && l.call(v)
                                    } finally { if (A) throw A.error; }
                                }
                            } return { a5: t, ncc: w }
                        }; g.prototype.Kvb = function (d) { if (!d.KQb) return {}; var h = this.KHb(), l = this.joa().total, n = d.IQb, q = 0; d = [0, 1].map(function (p) { var u = h[p] - l[p] * n; q = Math.max(0 < l[p] ? h[p] / l[p] : 0, q); return { DC: Math.max(0, u), mediaType: p } }); return { R4b: q, dUb: d } }; g.prototype.wKb = function (d, h) {
                            var l = !1; h = h.zH ? h.X : void 0; if (null === h || void 0 === h ? 0 : h.bMb) {
                                l = h.Ai.sq().map(function (q) { return q.mediaType }); var n = h.bHb(); l = l.every(function (q) {
                                    var p, u; if (0 === q) q = null !==
                                        (p = n.Hr) && void 0 !== p ? p : 0; else if (1 === q) q = null !== (u = n.jo) && void 0 !== u ? u : 0; else throw Error("Unsupported media type:" + q); return q >= d
                                })
                            } return l
                        }; c.__decorate([m.Wb({ methodName: "resetDiscontiguousBranches", return: !0, al: !0 })], g.prototype, "i9a", null); return g
                    }(); b.qHa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Tza = void 0; r = a(2); var c = a(9), f = r.__importDefault(a(27)), k = a(26), m = r.__importDefault(a(388)), g = a(57); a = function () {
                        function d(h) {
                            var l = this; this.na = h; this.Kw = "aseReport";
                            this.TSa = c.O.wD; this.xo = !1; if (0 === Math.floor(1E6 * Math.random()) % h.config.aM || h.config.IFb) { this.TSa = c.O.Na(h.config.E3); this.na.bM = !0; var n = []; n[f.default.Wa.Pb] = new m.default(h.config, f.default.Wa.Pb); n[f.default.Wa.$b] = new m.default(h.config, f.default.Wa.$b); this.Wha = n; this.na.events.on("openComplete", function () { return l.open() }) }
                        } d.prototype.open = function () { this.na.bM && !this.xo && (this.xo = !0, this.na.events.emit("aseReportEnabled", { type: "asereportenabled" }), this.na.events.on("streamSelection", this.Dta.bind(this))) };
                        d.prototype.Dta = function (h) { this.Wha[h.mediaType].add(h.result, h.streamList) }; d.prototype.Zoa = function () { var h = k.flatten(this.Wha.map(function (l) { return l.get() }).filter(function (l) { return void 0 !== l })); this.Wha.forEach(function (l) { return l.reset(!0) }); return h }; d.prototype.Vf = function (h) { var l = h.Zi; h = h.FMb; return this.na.bM && this.xo && (h || l === g.me.jq) && (l = this.Zoa()) && l.length ? { T$a: !0, event: { type: "asereport", strmsel: l } } : { T$a: !1, event: { type: "asereport", strmsel: [] } } }; return d
                    }(); b.Tza = a
                }, function (r,
                    b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.wKa = void 0; var c = a(2), f = a(19), k = a(17), m = a(9), g = a(945), d = a(26), h = a(5), l = a(946), n = a(21), q = a(100), p = a(947), u = c.__importDefault(a(6)), t = a(218), w = a(948), v = a(949), x = a(950), y = a(259), z = a(952), A = a(953); r = function () {
                        function B(E, D, F, G, C) {
                            void 0 === G && (G = new v.gCa); void 0 === C && (C = new w.fCa); this.WWa = E; this.config = D; this.u8a = G; this.Nm = []; this.x7a = []; this.Px = []; this.jc = { d2a: 0, e2a: 0, a2a: 0, Rja: 0, b2a: 0, c2a: 0, Sja: 0 }; this.events = new f.EventEmitter; this.I = m.Bq(u.default,
                                F, "PREFETCH"); this.XQa(new x.KBa(D)); this.XQa(new A.DLa(D)); this.h$a({ EH: D.PVb }); this.Twa(C); this.YLb()
                        } Object.defineProperties(B.prototype, { QVb: { get: function () { return this.Nm.map(function (E) { return E.context }) }, enumerable: !1, configurable: !0 } }); B.prototype.B$a = function (E) { n.ia && h.assert(E, "Reconciliation strategy is undefined"); this.u8a = E; return this }; B.prototype.XQa = function (E) { this.x7a.unshift(E) }; B.prototype.K$a = function (E) { n.ia && this.I.debug("Wish list changed", { bec: E.length }); this.Px = E; this.Rua() };
                        B.prototype.reset = function () { var E; if (this.config.YVb) try { for (var D = c.__values(this.Nm), F = D.next(); !F.done; F = D.next()) { var G = F.value, C = G.na, H = G.U7, L = G.context; if (C) { C.rf(); H.Eva(function (Q) { return "segmentNormalized" !== Q.Kw }); var N = y.G6(L.Nd, C.na); C.eB(N) } } } catch (Q) { var J = { error: Q } } finally { try { F && !F.done && (E = D.return) && E.call(D) } finally { if (J) throw J.error; } } else this.K$a([]) }; B.prototype.h$a = function (E) { n.ia && this.I.debug("Budget changed", { gec: this.bU, aec: E }); this.bU = E; this.Rua() }; B.prototype.Uwb =
                            function (E, D) {
                                var F, G; if (D = this.u8a.HXa(this.Nm, { na: E, cj: D })) {
                                    var C = this.Px.indexOf(D.context.Nd); n.ia && this.I.debug("Claiming item: " + y.Oo(D.context.Nd.key), { hm: u.default.time.fa() - D.Maa, buffer: null === (F = D.na) || void 0 === F ? void 0 : F.Mh(m.O.cb) }); this.QM(D.context, { Zqa: !!D.na }); if (D.na) {
                                        F = D.na; var H = D.context, L = D.Ds; z.uKa.mYb(F, D.U7, this.I); E = y.G6(H.Nd, E); L.lZb(null !== (G = F.wH(E)) && void 0 !== G ? G : m.O.cb, C); F.qcb({ EH: this.config.Lu || Infinity }); this.events.emit("itemClaimed", {
                                            type: "itemClaimed", wishListItem: D.context.Nd,
                                            videoBytesBuffered: D.na.Ow().Xs, audioBytesBuffered: D.na.Ow().yC
                                        })
                                    }
                                } this.config.ctb || this.reset(); return null === D || void 0 === D ? void 0 : D.na
                            }; B.prototype.Twb = function () { }; B.prototype.getStats = function () {
                                var E = u.default.time.fa(); return {
                                    wishListLength: this.Px.length, prefetchList: this.QVb.length, contents: this.Nm.map(function (D) {
                                        var F, G, C, H, L; return {
                                            id: y.Oo(D.context.Nd.key), buffer: null === (F = D.na) || void 0 === F ? void 0 : F.Mh(m.O.cb), pId: null === (G = D.na) || void 0 === G ? void 0 : G.id, budget: { inMemoryBytes: D.context.$1a.EH },
                                            weight: D.context.h$, age: E - D.Maa, timeOpened: E - (null !== (C = D.z2b) && void 0 !== C ? C : 0), state: k.Jc[null !== (L = null === (H = D.na) || void 0 === H ? void 0 : H.Ff.value) && void 0 !== L ? L : k.Jc.nj]
                                        }
                                    }), aggregated: { itemsRequested: this.jc.d2a, itemsStarted: this.jc.e2a, itemsClaimed: this.jc.a2a, bytesClaimed: this.jc.Rja, itemsCompleted: this.jc.b2a, itemsDiscarded: this.jc.c2a, bytesDiscarded: this.jc.Sja }
                                }
                            }; B.prototype.QM = function (E, D) {
                                var F; void 0 === D && (D = {}); c.__awaiter(this, void 0, void 0, function () {
                                    var G, C, H, L, N, J; return c.__generator(this,
                                        function (Q) {
                                            switch (Q.label) {
                                                case 0: G = c.__assign({ Zqa: !1, i2a: !1 }, D); C = G.Zqa; H = G.i2a; L = d.re(this.Nm, function (K) { return K.context === E }); if (!L) return [3, 3]; this.Nm.splice(this.Nm.indexOf(L), 1); H || (N = this.Px.length, this.Px = this.Px.filter(function (K) { return K !== E.Nd }), n.ia && this.I.info("Dropping items from wishlist", N - this.Px.length), this.Px.length >= N && n.ia && this.I.warn("Unable to filter out wishlist item", this.Px.map(function (K) { return K.key }), E.Nd.key)); n.ia && this.I.debug("Dropping playgraph", {
                                                    hm: u.default.time.fa() -
                                                        L.Maa, buffer: null === (F = L.na) || void 0 === F ? void 0 : F.Mh(m.O.cb), S: y.Oo(E.Nd.key), Hec: !C, bcc: !H
                                                }); if (C) return [3, 2]; J = this.hv(L); return L.na ? [4, J] : [3, 2]; case 1: Q.Ac(), Q.label = 2; case 2: this.Rua(), Q.label = 3; case 3: return [2]
                                            }
                                        })
                                })
                            }; B.prototype.Twa = function (E) { h.assert(E, "Playgraph resolver is undefined"); this.uua = E; return this }; B.prototype.YLb = function () {
                                var E = this; this.events.on("prefetchComplete", function () { return E.jc.b2a++ }); this.events.on("prefetchStarted", function () { return E.jc.e2a++ }); this.events.on("itemQueued",
                                    function () { return E.jc.d2a++ }); this.events.on("itemClaimed", function (D) { var F, G; E.jc.a2a++; E.jc.Rja += (null !== (F = D.g5b) && void 0 !== F ? F : 0) + (null !== (G = D.Xtb) && void 0 !== G ? G : 0) }); this.events.on("itemDropped", function (D) { var F, G; E.jc.c2a++; E.jc.Sja += (null !== (F = D.g5b) && void 0 !== F ? F : 0) + (null !== (G = D.Xtb) && void 0 !== G ? G : 0) })
                            }; B.prototype.Rua = function () {
                                var E = this, D = g.lBa.tMb({ F5b: this.Px, YJb: this.bU }, this.x7a.map(function (L) { return L.XSa.bind(L) })).Nm, F = d.Kt(D, this.Nm, function (L, N) {
                                    return y.isEqual(L.Nd.key,
                                        N.context.Nd.key)
                                }), G = d.Kt(this.Nm, D, function (L, N) { return y.isEqual(L.context.Nd.key, N.Nd.key) }), C = d.Kt(this.Nm, G); n.ia && this.I.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length); G = G.map(function (L) { var N = L.context.Nd.key; n.ia && E.I.debug("Releasing playgraph", y.Oo(N)); return E.hv(L).then(function () { E.events.emit("itemEvicted", { type: "itemEvicted", wishListItem: L.context.Nd }) }) }); var H = C.map(function (L) {
                                    return c.__awaiter(E, void 0, void 0, function () {
                                        var N, J;
                                        return c.__generator(this, function (Q) { switch (Q.label) { case 0: return N = d.re(D, function (K) { return y.isEqual(K.Nd.key, L.context.Nd.key) }), h.assert(N, "Couldn't find the requested item context"), L.context = N, [4, L.g$]; case 1: return J = Q.Ac(), d.re(this.Nm, function (K) { return K === L }) && (this.IRa(L.context, J), this.events.emit("itemReevaluated", { type: "itemReevaluated", wishListItem: L.context.Nd })), [2] } })
                                    })
                                }); F = F.map(function (L) { var N = E.CAb(L); E.events.emit("itemQueued", { type: "itemQueued", wishListItem: L.Nd }); return N });
                                this.Nm = c.__spread(C, F); C = F.map(function (L) { return L.g$.catch(function () { }) }); C = G.concat(H).concat(C); Promise.all(C)
                            }; B.prototype.hv = function (E) {
                                var D = this; return E.g$.then(function (F) {
                                    return c.__awaiter(D, void 0, void 0, function () {
                                        var G; return c.__generator(this, function (C) {
                                            switch (C.label) {
                                                case 0: return n.ia && this.I.debug("Removing prefetch playgraph", { size: F.Mh(m.O.cb) }), E.z5.clear(), [4, this.WWa()]; case 1: return G = C.Ac(), G.hv(F), this.events.emit("itemDropped", {
                                                    type: "itemDropped", wishListItem: E.context.Nd,
                                                    videoBytesBuffered: F.Ow().Xs, audioBytesBuffered: F.Ow().yC
                                                }), [2]
                                            }
                                        })
                                    })
                                })
                            }; B.prototype.zAb = function (E) {
                                return c.__awaiter(this, void 0, void 0, function () {
                                    var D, F, G, C, H, L, N = this; return c.__generator(this, function (J) {
                                        switch (J.label) {
                                            case 0: return D = E.context, F = y.Oo(D.Nd.key), n.ia && this.I.debug("Creating playgraph", F), [4, this.uua.z3a(D)]; case 1: return G = J.Ac(), [4, D.Nd.jj.Am(F).ar]; case 2: return C = J.Ac(), C.pa.Bw ? (this.QM(D, { Zqa: !0 }), [2, Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]) :
                                                [4, this.WWa()]; case 3: return H = J.Ac(), L = H.qG(G, D.h$, D.cj, D.Nd.jj, !1), E.z5.addListener(L.events, "error", function (Q) { n.ia && N.I.debug("Prefetch playgraph resulted in error", Q.$bc); N.QM(D) }), [2, L]
                                        }
                                    })
                                })
                            }; B.prototype.STb = function (E, D) {
                                return c.__awaiter(this, void 0, void 0, function () {
                                    var F, G, C, H, L, N = this; return c.__generator(this, function (J) {
                                        switch (J.label) {
                                            case 0: return F = E.context, G = y.Oo(F.Nd.key), C = F.Nd.jj.Am(G), [4, C.ar]; case 1: return H = J.Ac(), this.IRa(F, D), this.vtb(F, D, !!H.Je), D.open(), D.nE({
                                                Is: function (Q,
                                                    K) { var I = Q.recommendedMedia; return I ? d.Xp(K, function (M) { return M.new_track_id === I.wn }) : d.Xp(K, function (M) { return M.track_id === Q.defaultTrackOrderList[0].audioTrackId }) }
                                            }, { Is: function (Q, K) { var I = Q.recommendedMedia; return I ? d.Xp(K, function (M) { return M.new_track_id === I.lQ }) : d.Xp(K, function (M) { return M.track_id === Q.defaultTrackOrderList[0].videoTrackId }) } }), D.eB(y.G6(F.Nd, D.na)), L = function (Q) { n.ia && N.I.debug("Viewable " + (Q ? "superseded" : "expired"), y.Oo(E.context.Nd.key)); E.rdc = !0; N.QM(E.context, { i2a: !Q }) },
                                                C.events && (E.z5.addListener(C.events, "viewableEvicted", function () { L(!0) }), E.z5.addListener(C.events, "viewableExpired", function () { L(!1) })), C.iu && (n.ia && this.I.warn("Viewable churn encountered during prefetcher (expired on initialization)", G), this.QM(E.context)), this.events.emit("prefetchStarted", { type: "prefetchStarted", wishListItem: E.context.Nd }), [2]
                                        }
                                    })
                                })
                            }; B.prototype.IRa = function (E, D) { D.Fcb(E.h$); D.qcb(E.$1a) }; B.prototype.vtb = function (E, D, F) {
                                var G = E.f1b; E = G.audio; G = G.video; F && G.push(new t.wK(this.I,
                                    D.config)); D.laa(new q.tt(E, !0), new q.tt(G, !0))
                            }; B.prototype.CAb = function (E) {
                                var D = this, F = new l.vKa, G = { context: E, Maa: u.default.time.fa(), z5: new f.di, Ds: F }; G.g$ = this.zAb(G).then(function (C) {
                                    return c.__awaiter(D, void 0, void 0, function () {
                                        var H, L = this, N; return c.__generator(this, function (J) {
                                            switch (J.label) {
                                                case 0: return H = C, H = null !== (N = H.Hg) && void 0 !== N ? N : C, C.qh(F), F.Qtb(C), G.U7 = new p.rDa(H.events, {
                                                    h0b: function (Q) {
                                                        var K = Q.Kw; switch (K) {
                                                            case "buffering": return !1; case "bufferingStarted": G.U7.Eva(function (I) {
                                                                return "bufferingComplete" ===
                                                                    I.Kw || "updateStreamingPts" === I.Kw
                                                            }); case "openComplete": case "updateStreamingPts": case "bufferingComplete": G.U7.Eva(function (I) { return I.Kw === K }); default: return !0
                                                        }
                                                    }
                                                }), H.events.on("bufferingComplete", function () { L.events.emit("prefetchComplete", { type: "prefetchComplete", wishListItem: E.Nd }) }), [4, this.STb(G, C)]; case 1: return J.Ac(), G.z2b = u.default.time.fa(), G.na = C, [2, C]
                                            }
                                        })
                                    })
                                }); G.g$.catch(function (C) { n.ia && D.I.error("Exception occurred creating playgraph", C); D.QM(G.context) }); return G
                            }; return B
                    }(); b.wKa =
                        r
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.lBa = void 0; b.lBa = function () { function a() { } a.tMb = function (c, f) { function k(d) { return m(g++)(d, k) } function m(d) { return d >= f.length ? function () { throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + d); } : f[d] } var g = 0; return k(c) }; return a }() }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.vKa = void 0; var c = a(2).__importDefault(a(6)), f = a(57); r = function () {
                        function k() {
                            this.creationTime =
                                c.default.time.fa(); this.kc = { isPrefetchItem: !0, prefetchClaimDurationMs: 0, prefetchedVideoMs: 0, prefetchedAudioMs: 0 }
                        } k.prototype.Qtb = function (m) { this.na = m }; k.prototype.lZb = function (m, g) { var d; m = null === (d = this.na) || void 0 === d ? void 0 : d.Mh(m); this.kc = { isPrefetchItem: !0, prefetchedVideoMs: m.VZ, prefetchedAudioMs: m.UZ, prefetchClaimDurationMs: c.default.time.fa() - this.creationTime, prefetchRank: g } }; Object.defineProperties(k.prototype, { si: { get: function () { return "PrefetchReporter" }, enumerable: !1, configurable: !0 } });
                        Object.defineProperties(k.prototype, { enabled: { get: function () { return !0 }, enumerable: !1, configurable: !0 } }); k.prototype.Kn = function (m) { if (m.Zi === f.me.lp) return this.kc }; return k
                    }(); b.vKa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.rDa = void 0; var c = a(2); r = function () {
                        function k(m, g) { void 0 === g && (g = {}); this.lq = m; this.options = g; this.gH = []; this.DW = new f(m, this.qsb.bind(this)) } k.prototype.qsb = function (m) {
                            for (var g, d, h, l, n, q, p = [], u = 1; u < arguments.length; u++)p[u - 1] = arguments[u]; p = {
                                Kw: m,
                                Do: p
                            }; (null !== (h = null === (d = (g = this.options).h0b) || void 0 === d ? void 0 : d.call(g, p, this.gH)) && void 0 !== h ? h : 1) && this.gH.push(p); return null !== (q = null === (n = (l = this.options).cfc) || void 0 === n ? void 0 : n.call(l, p)) && void 0 !== q ? q : !0
                        }; k.prototype.Eva = function (m) { this.gH = this.gH.filter(function (g, d) { return !m(g, d) }) }; k.prototype.Ova = function () { var m = this; this.DW.hcb(); this.gH.forEach(function (g) { var d; (d = m.lq).emit.apply(d, c.__spread([g.Kw], g.Do)) }); this.DW.i1a() }; Object.defineProperties(k.prototype, {
                            length: {
                                get: function () { return this.gH.length },
                                enumerable: !1, configurable: !0
                            }
                        }); k.prototype.clear = function () { this.gH = [] }; k.prototype.Jb = function () { this.DW.hcb() }; return k
                    }(); b.rDa = r; var f = function () {
                        function k(m, g) { var d = this; this.lq = m; this.iU = g; this.DW = function (h) { for (var l, n = [], q = 1; q < arguments.length; q++)n[q - 1] = arguments[q]; return d.iU.apply(d, c.__spread([h], n)) ? (l = d.a6a).call.apply(l, c.__spread([d.lq, h], n)) : !1 }; this.a6a = this.lq.emit; this.i1a() } k.prototype.i1a = function () { this.lq.emit = this.DW }; k.prototype.hcb = function () { this.lq.emit = this.a6a };
                        return k
                    }()
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.fCa = void 0; var c = a(2), f = a(61), k = a(259); r = function () {
                        function m() { } m.prototype.z3a = function (g) { return c.__awaiter(this, void 0, void 0, function () { var d, h, l, n, q; return c.__generator(this, function (p) { switch (p.label) { case 0: d = g.Nd.key; if (!k.KW(d)) return [3, 2]; h = d.S; l = g.Nd.jj.Am(h); return [4, Promise.resolve(l.ar)]; case 1: return n = p.Ac(), q = n.pa, q.zn ? [2, f.iz(q.zn, { config: n.config })] : [2, f.qE(h, "ps0")]; case 2: return [2, d.na] } }) }) };
                        return m
                    }(); b.fCa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.gCa = void 0; var c = a(2), f = a(5), k = a(259); r = function () {
                        function m() { } m.Oo = function (g) { var d = g.U; g = g.ue; var h = d[g].S; Object.keys(d).forEach(function (l) { return f.assert(d[l].S === h) }); return d[g].S }; m.prototype.HXa = function (g, d) {
                            var h = Object.keys(d.na.U).length; return c.__read(g.filter(function (l) {
                                var n, q; return m.Oo(d.na) === k.Oo(l.context.Nd.key) && (1 === h || h === Object.keys(null !== (q = null === (n = l.na) || void 0 === n ? void 0 :
                                    n.na.U) && void 0 !== q ? q : {}).length)
                            }), 1)[0]
                        }; return m
                    }(); b.gCa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.KBa = b.OBa = void 0; var c = a(100), f = a(951); b.OBa = 625E3; r = function () {
                        function k(m) { this.config = m } k.prototype.XSa = function (m) {
                            var g = this.config.T4, d = (this.config.i4a || this.config.S4) * b.OBa / 1E3, h = Math.floor(m.YJb.EH / d); return {
                                Nm: m.F5b.sort(function (l, n) { return l.priority - n.priority }).slice(0, g).map(function (l, n) {
                                    var q = l.key.config; return {
                                        $1a: { EH: n > h - 1 ? 0 : d }, Nd: l, h$: 1, cj: q, f1b: {
                                            audio: [c.PC(q),
                                            new f.tfa], video: [c.QC(q), new f.tfa]
                                        }
                                    }
                                })
                            }
                        }; return k
                    }(); b.KBa = r
                }, function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.tfa = void 0; var c = a(17); r = function () { function f() { } f.prototype.xm = function (k, m) { return m === c.Jc.oj ? [] : k }; return f }(); b.tfa = r }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.uKa = void 0; var c = a(21); b.uKa = function () {
                        function f() { } f.mYb = function (k, m, g) {
                            k.events.once("opening", function () {
                                c.ia && g.log("Replaying " + m.length + " events from prefetched playgraph");
                                m.Ova(); m.Jb()
                            })
                        }; return f
                    }()
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.DLa = void 0; r = function () { function a(c) { this.config = c } a.prototype.XSa = function (c, f) { var k = this; c = f(c); var m = c.Nm.map(function (g) { return g.Nd.priority }).sort(); c.Nm.forEach(function (g) { g.h$ = k.config.SVb / (2 << m.lastIndexOf(g.Nd.priority)) }); return c }; return a }(); b.DLa = r }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.mKa = void 0; r = function () {
                        function a(c) {
                            var f = this; c = c.Xk; this.xH = function () { f.Xk() };
                            this.Xk = c
                        } a.prototype.qG = function (c) { c.events.on("requestsPruned", this.xH) }; a.prototype.hv = function (c) { c.events.removeListener("requestsPruned", this.xH) }; return a
                    }(); b.mKa = r
                }, function (r, b) { function a(c, f, k, m) { return c && f ? Math.min(c - f * k, c - m) : (c || Infinity) - m } Object.defineProperties(b, { __esModule: { value: !0 } }); b.ZSa = void 0; b.ZSa = function (c, f) { var k, m = a(f.audio, f.ija, c.rUa, c.pUa), g = a(f.video, f.cza, c.rUa, c.qUa); return k = {}, k[0] = m, k[1] = g, k.total = (f.total || Infinity) - c.pUa - c.qUa, k } }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.hUa = void 0; var c = a(2), f = a(413), k = a(957), m = a(958), g = a(960), d = a(149); b.hUa = function (h) { for (var l = [], n = 1; n < arguments.length; n++)l[n - 1] = arguments[n]; n = c.__assign({ glb: f.I_, Chb: m.ODa }, h); var q = n.glb; n = n.Chb; var p = g.R5a(l[5], function () { return v }); l[5] = p.MI; var u = l[0]; l = new (q.bind.apply(q, c.__spread([void 0], l))); q = new k.RHa(l); var t, w = { Po: new n(u, q), Hg: l, get gQ() { return t }, l5a: q }, v = new g.CBa(w, p.B1b, d.aE.z9a.WY); return t = d.aE.T7a(l, v, function () { return w }) }
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.RHa = void 0; var c = a(2); r = function () {
                            function f(k) { this.qa = k; this.w8a() } Object.defineProperties(f.prototype, { p9: { get: function () { return this.qpb }, enumerable: !1, configurable: !0 } }); Object.defineProperties(f.prototype, { jcb: { get: function () { return this.qa.na }, enumerable: !1, configurable: !0 } }); f.prototype.w8a = function () { var k = this, m = this.qa.na; this.qpb = c.__assign(c.__assign({}, m), { U: new Proxy(m.U, { get: function (g, d) { return (g = k.AIb(d)) ? g.H.ytb() : m.U[d] } }) }) }; f.prototype.AIb = function (k) {
                                var m,
                                    g = this.qa.h6(k); try { for (var d = c.__values(g), h = d.next(); !h.done; h = d.next()) { var l = h.value; if (l.zh) return l } } catch (q) { var n = { error: q } } finally { try { h && !h.done && (m = d.return) && m.call(d) } finally { if (n) throw n.error; } } if (n = c.__read(this.qa.X.Ib.filter(function (q) { return q.H.id === k }), 1)[0]) return n
                            }; return f
                        }(); b.RHa = r
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.ODa = void 0; var c = a(2), f = a(61), k = a(22), m = c.__importDefault(a(6)), g = a(88), d = a(417), h = a(5), l = a(959); r = function () {
                        function n(q,
                            p) { this.hC = q; this.kga = p; this.console = new m.default.Console("GRAPHLOCATIONSERVICE"); this.Dh = new g.Tv({ Fq: this, source: "GraphLocation", console: this.console }) } n.prototype.OM = function (q) { this.console.trace("downConverting", q); var p = this.hC, u = this.kga, t = u.p9; if (p === u.jcb) return q; if (t.U[q.ha]) return this.console.warn("Received a down converted position unexpectedly", q), q; u = d.uka(q, p); q = f.cdb(p, t, { offset: u.m4.T, H: q.ha }); return { offset: u.Ko.add(k.O.Na(q.offset)), ha: q.H } }; n.prototype.dQ = function (q) {
                                this.console.trace("upConverting",
                                    q); var p = this.hC, u = this.kga, t = u.p9; if (p === u.jcb) return q; if (p.U[q.ha]) return this.console.warn("Received a up converted position unexpectedly", q), q; u = d.uka(q, t); q = f.NTa(p, t, { offset: u.m4.T, H: q.ha }); return { offset: u.Ko.add(k.O.Na(q.offset)), ha: q.H }
                            }; n.prototype.eIb = function (q) { var p = f.LYa(this.hC, this.kga.p9, { H: q.ha, offset: q.offset.T }); p = l.t2a(p); h.assert(p, "Could not find any segments in the path of " + q); return p }; c.__decorate([g.Wb({ methodName: "downConvertPosition", al: !0, Do: !0, return: !0 })], n.prototype,
                                "OM", null); c.__decorate([g.Wb({ methodName: "upConvertPosition", al: !0, Do: !0, return: !0 })], n.prototype, "dQ", null); return n
                    }(); b.ODa = r
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.t2a = void 0; b.t2a = function (a) { var c = a.next(); do { if (!c.done) var f = c.value; c = a.next() } while (!c.done); return f } }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.R5a = b.CBa = void 0; var c = a(2), f = a(61), k = a(961), m = a(177), g = a(88), d = a(26), h = a(5), l = a(421), n = a(962); r = function () {
                        function q(p, u, t) {
                            var w =
                                this; this.context = p; this.PTb = u; this.dZb = t; this.events = l.fla(function () { return w.context }, this.context.Hg.events, this.dZb, n.l7a); this.PTb(function (v) { var x = v.IE; return c.__awaiter(w, void 0, void 0, function () { var y; return c.__generator(this, function (z) { switch (z.label) { case 0: return [4, x]; case 1: return y = z.Ac(), this.L7a(y), [2] } }) }) }); this.Fy = p.Hg.na; this.SNa = new g.Tv({ AA: 10, Fq: this, source: "CphAsePlaygraph", console: p.Hg.console }); p.Hg.qh(new k.DBa(this)); p.Hg.qh(new m.Sv(this.SNa)); p.Hg.qh(new m.Sv(p.Po.Dh))
                        }
                        Object.defineProperties(q.prototype, { Ni: { get: function () { return this.GNa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(q.prototype, { nub: { get: function () { var p = this, u = Object.keys(this.Hg.na.U); if (u = d.re(u, function (t) { return !!p.Hg.na.U[t].$h })) return this.na.U[this.Hg.na.U[u].$h].S }, enumerable: !1, configurable: !0 } }); Object.defineProperties(q.prototype, { Bw: { get: function () { return this.RNa }, enumerable: !1, configurable: !0 } }); Object.defineProperties(q.prototype, {
                            Hg: {
                                get: function () { return this.context.Hg },
                                enumerable: !1, configurable: !0
                            }
                        }); Object.defineProperties(q.prototype, { na: { get: function () { return this.Fy }, enumerable: !1, configurable: !0 } }); Object.defineProperties(q.prototype, { Po: { get: function () { return this.context.Po }, enumerable: !1, configurable: !0 } }); q.prototype.JT = function (p) { var u, t = this.context.Hg.X; p.F$a && p.F$a(this.context); (p = this.context.Hg.JT(null !== (u = p.pqa) && void 0 !== u ? u : p)) && t.BTa && t.BTa(); return p }; q.prototype.L7a = function (p) {
                            var u = p.pa, t = u.Ni, w = u.Bw; t && !this.GNa && (this.GNa = t); if (w && !this.RNa) {
                                this.SNa.qw({ applyingContentPlaygraph: !0 });
                                this.RNa = w; t = this.context.Hg; var v = t.na; this.Fy = t.na; u = t.X; var x = t.zH && u.Xf ? u.Si : t.rD ? t.tP : void 0; t.config.gza && this.Yxb(p.pa) && u.oE(!0); t.rf(!0); p = f.q4a(v, w.na); this.vB(p); x && (p = this.context.Po.OM(x), t.eB(p), u.resume())
                            }
                        }; q.prototype.vB = function (p) { p = this.context.Hg.vB(p); this.context.l5a.w8a(); return p }; q.prototype.Yxb = function (p) { var u = p.kSa, t = p.yH; return !(!u || !u.some(function (w) { return w.yH !== t })) }; c.__decorate([g.Wb({ methodName: "processViewableResponse" })], q.prototype, "L7a", null); return q
                    }();
                    b.CBa = r; b.R5a = function (q, p) { var u = []; return { MI: function (t) { var w; if ((null === (w = p().Bw) || void 0 === w ? void 0 : w.qab.S) === t) { var v = p().Bw; w = p().Ni; v = v.qab.w0a; var x = p().nub; h.assert(x, "did not receive parent viewable id"); v = { w0a: v, Ni: w, P3: { Ni: w, XX: x } } } var y = q(t, v); u.forEach(function (z) { return z({ S: t, IE: y.IE }) }); return y }, B1b: function (t) { u.push(t) } } }
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.DBa = void 0; r = function () {
                        function a(c) {
                            this.Bw = c; this.jx = "content-playgraph"; this.enabled =
                                !0
                        } Object.defineProperties(a.prototype, { si: { get: function () { return this.jx }, enumerable: !1, configurable: !0 } }); a.prototype.Kn = function () { return { contentPlaygraph: this.Bw.Bw } }; return a
                    }(); b.DBa = r
                }, function (r, b) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.l7a = void 0; b.l7a = { "*": { jXa: ["logdata"], rules: [{ Ql: function (a) { return a.mza } }] }, segmentComplete: [{ Ql: function (a) { return a.X$ } }], segmentStarting: [{ Ql: function (a) { return a.X$ } }], serverSwitch: [{ Ql: function (a) { return a.X$ } }], streamSelected: [{ Ql: function (a) { return a.Xf } }] } },
                function (r, b, a) { Object.defineProperties(b, { __esModule: { value: !0 } }); b.gUa = void 0; var c = a(2), f = a(149), k = a(410), m = a(964); b.gUa = function () { for (var g = [], d = 0; d < arguments.length; d++)g[d] = arguments[d]; g = new (k.AQ.bind.apply(k.AQ, c.__spread([void 0], g))); var h = new m.BBa(g, f.aE.z9a.WY); return f.aE.T7a(g, h, function () { return h.cra }) } }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.BBa = void 0; var c = a(421), f = a(965); r = function () {
                        function k(m, g) {
                            var d = this; this.pqa = m; this.events = c.fla(function () { return d.cra },
                                this.pqa.events, g, f.h7a)
                        } k.prototype.BTa = function () { this.cra = void 0 }; k.prototype.F$a = function (m) { this.cra = m }; return k
                    }(); b.BBa = r
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.h7a = void 0; b.h7a = {
                        "*": { jXa: ["logdata"], rules: [{ Ql: function (a) { return a.mza } }] }, segmentPresenting: [{ Ql: function (a) { return a.mza }, config: { Sq: ["metrics"] } }, { Ql: function (a) { return a.Xf } }, { Ql: function (a) { return a.Xf }, config: { Sq: ["metrics", "srcStartPosition"] } }, {
                            Ql: function (a) { return a.Xf }, config: {
                                Sq: ["metrics",
                                    "srcTransitionPosition"]
                            }
                        }, { Ql: function (a) { return a.Xf }, config: { Sq: ["metrics", "destPosition"] } }], streamPresenting: [{ Ql: function (a) { return a.Xf } }], segmentAppended: [{ Ql: function (a) { return a.X$ } }]
                    }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.GLa = void 0; var c = a(2), f = a(19), k = c.__importStar(a(10)), m = a(17), g = a(220), d = a(17), h = a(9), l = a(5), n = a(22), q = a(221), p = a(57), u = a(100), t = a(88), w = a(177), v = c.__importDefault(a(6)), x = a(218), y = a(967), z = a(968), A = 0; r = function (B) {
                        function E(D, F, G, C, H,
                            L, N, J, Q, K, I) {
                            var M, O, P, S = B.call(this) || this; S.console = D; S.$o = F; S.WS = G; S.OL = H; S.vZ = L; S.Dw = J; S.X = K; S.config = I; S.Br = !1; S.oS = !1; S.Cr = void 0; S.Se = function () {
                                var Z, ia, ya, na; null === (Z = S.$K) || void 0 === Z ? void 0 : Z.clear(); Z = S.Zmb; var X = S.gqb; l.assert(Z); S.Lg && l.assert(X); S.yl.value !== d.sa.wr && S.yl.value !== d.sa.nj && (null !== (ia = S.Ia) && void 0 !== ia && ia.Xf ? (ia = null === (na = null === (ya = S.$o.Ma.Vb.get()) || void 0 === ya ? void 0 : ya.Sa) || void 0 === na ? void 0 : na.Ha, S.qa.a_("startplay", p.me.lp), S.Taa.ET("emitBufferingComplete",
                                    {}), y.k5(S, Z, S.Ia.Vg, ia, X, S.qa.bM)) : S.console.error("Shim received buffering complete but player has no position (player " + (S.Ia ? "" : "un") + "defined, state " + S.yl.value + ")"))
                            }; S.RT = function () { var Z; S.Taa.ET("audioTrackSwitchComplete", {}); l.assert(void 0 !== S.qn); var ia = S.WS.audio_tracks[S.qn], ya = S.qn; S.qn = void 0; y.vWa(S, ia, ya); null === (Z = S.JX) || void 0 === Z ? void 0 : Z.call(S); S.JX = void 0 }; l.assert(2 >= C.length, "Ase session shim suports a maximum of 1 parallel graph."); G = c.__read(C, 2); D = G[0]; G = G[1]; S.Ki = new f.di;
                            S.S = D.na.U[L[0].ha].S; S.yl = new h.vr(d.sa.Fh); S.xB = new u.KF(S.console); N.Je && (S.B8 = new x.wK(S.console, I)); S.qa = D; S.Lg = G; C.forEach(function (Z) { var ia = Z.QC(S.xB); S.B8 && (ia = new u.tt([S.B8, ia])); var ya = Z.PC(); Z.laa(ya, ia) }); S.Dbc = !1; S.NVa = !1; y.A3a(S.console, F, S, D, G); var U = A++; S.Taa = new t.Tv({ Fq: S, source: "ShimSession", console: S.console, AA: 50, Iia: function () { return { shimId: U } } }); S.qa.qh(new w.Sv(S.Taa)); S.$cb = void 0 !== (null === (P = null === (O = (M = S.X).WV) || void 0 === O ? void 0 : O.call(M)) || void 0 === P ? void 0 : P.ba);
                            S.Ed = z.eSa(K); F = S.AUa({ Dd: S.w3a(S.qa.na.Dd), XV: S.B6.bind(S) }); S.Ia = F; S.Lg && (S.Aj = S.AUa({ Dd: S.w3a(S.Lg.na.Dd), XV: S.B6.bind(S) })); S.Ia.events.on("segmentPresenting", function () { S.Cr = S.xOa() }); S.on("streamerend", function () { return S.m1b() }); S.z$a(); return S
                        } c.__extends(E, B); Object.defineProperties(E.prototype, { K: { get: function () { return this.S }, enumerable: !1, configurable: !0 } }); Object.defineProperties(E.prototype, { da: { get: function () { return this.Dw.da }, enumerable: !1, configurable: !0 } }); Object.defineProperties(E.prototype,
                            { mediaSourceId: { get: function () { return 0 }, enumerable: !1, configurable: !0 } }); Object.defineProperties(E.prototype, { Yg: { get: function () { return this.Ki }, enumerable: !1, configurable: !0 } }); Object.defineProperties(E.prototype, { He: { get: function () { return { Wcc: { 1: { Y: { Ka: Infinity } } } } }, enumerable: !1, configurable: !0 } }); Object.defineProperties(E.prototype, { addEventListener: { get: function () { return this.addListener.bind(this) }, enumerable: !1, configurable: !0 } }); Object.defineProperties(E.prototype, {
                                removeEventListener: {
                                    get: function () { return this.removeListener.bind(this) },
                                    enumerable: !1, configurable: !0
                                }
                            }); Object.defineProperties(E.prototype, { EJ: { get: function () { return void 0 !== this.qn }, enumerable: !1, configurable: !0 } }); E.prototype.NOb = function () { var D = this, F, G, C, H = null === (C = null === (G = (F = this.X).WV) || void 0 === G ? void 0 : G.call(F)) || void 0 === C ? void 0 : C.ba; l.assert(H, "video element is not defined"); H.addEventListener("play", function () { return D.uQa() }); H.addEventListener("pause", function () { return D.bk() }) }; E.prototype.m1b = function () { this.$o.Wp(!0, this.Dw.sessionId) }; E.prototype.eQ =
                                function (D, F) { var G; this.qa.Fi((G = {}, G[D] = F, G)) }; E.prototype.open = function () {
                                    var D = this, F, G; if (!this.Br) {
                                        this.Br = !0; this.$o.Wp(this.config.Ir, this.Dw.sessionId); var C = (new Promise(function (H) { setTimeout(H, 0) })).then(function () { D.emit("openComplete", { type: "openComplete" }) }); this.qa.open(); null === (F = this.Lg) || void 0 === F ? void 0 : F.open(); this.qa.eB(this.vZ[0]); l.assert(this.Ia, "asePlayer should be defined on session.open"); this.vZ[1] && (F = this.qa.Yz(this.vZ[0]), l.assert(F, "ShimSession.open(): Graph position did not map a valid content timestamp"),
                                            null === (G = this.Lg) || void 0 === G ? void 0 : G.eB(this.vZ[1], F.pm)); y.y3a(this.$o, this, this.Ia, this.console); this.yl.set(d.sa.wd); C.then(function () { D.cr(D.Se) }); this.qa.JT(this.Ia); this.Lg && (l.assert(this.Aj, "parallelPlayer should be defined on session.open"), this.Lg.JT(this.Aj)); this.$cb && this.NOb()
                                    }
                                }; E.prototype.B6 = function () { this.Gm || (this.Gm = new v.default.MediaSource(this.Ed), this.Gm.Sc || (this.Gm.Sc = v.default.MediaSource.Sc)); return this.Gm }; E.prototype.AUa = function (D) {
                                    void 0 === D && (D = {}); D = c.__assign({
                                        RD: this.config.RD,
                                        rua: this.config.rua
                                    }, D); return this.$o.Ma.VQa(this.Ed, D)
                                }; E.prototype.w3a = function (D) { return D ? null === D || void 0 === D ? void 0 : D.map(function (F) { return "video" === F ? 1 : 0 }) : [0, 1] }; E.prototype.close = function () { this.Br && (this.Br = !1); this.$o.Wp(!0, this.Dw.sessionId, !0) }; Object.defineProperties(E.prototype, { uG: { get: function () { return "1.5" }, enumerable: !1, configurable: !0 } }); E.prototype.flush = function () {
                                    var D; this.Br && this.yl.value !== d.sa.nj && this.yl.value !== d.sa.wr && this.stop(); this.qa.a_("endplay", p.me.jq); this.qa.rf();
                                    null === (D = this.Lg) || void 0 === D ? void 0 : D.rf(); this.$o.Sh.save(); this.$o.Sn.save()
                                }; E.prototype.paused = function () { this.$cb || this.bk() }; E.prototype.bk = function () { this.yl.value === d.sa.Kc && (this.yl.set(d.sa.mh), this.Ed.emit("paused", { type: "paused", Ud: this.Ed.Cc })) }; E.prototype.uQa = function () { this.yl.value === d.sa.mh && (this.yl.set(d.sa.Kc), this.Ed.emit("playing", { type: "playing", Ud: this.Ed.Cc })) }; E.prototype.md = function () {
                                    var D, F; this.Br && this.yl.value !== d.sa.nj && this.yl.value !== d.sa.wr && this.stop(); this.$o.dYb(this);
                                    this.Br && this.close(); this.sy && (clearInterval(this.sy), this.sy = void 0); null === (D = this.$K) || void 0 === D ? void 0 : D.clear(); this.Ia && this.$o.Ma.bP(this.Ia); this.Aj && this.$o.Ma.bP(this.Aj); null === (F = this.Gm) || void 0 === F ? void 0 : F.hq()
                                }; E.prototype.suspend = function () { }; E.prototype.resume = function () { }; E.prototype.play = function () {
                                    var D = this; this.qa.state !== g.Nj.CLOSED && (l.assert(this.Ia, "ShimSession.play(), expected asePlayer to exist."), this.Ia.resume(this.oS ? [1] : void 0), this.Lg && (l.assert(this.Aj, "ShimSession.play(), expected parallelPlayer to exist."),
                                        this.Aj.resume(this.oS ? [1] : void 0)), this.yl.set(d.sa.Kc), this.Ed.emit("playing", { type: "playing", Ud: this.Ed.Cc }), this.emit("play"), this.sy || (this.sy = setInterval(function () { return D.cSb() }, this.config.jM)))
                                }; E.prototype.stop = function () { this.yl.set(d.sa.wr); l.assert(this.Ia, "ShimSession.stop(), expected asePlayer to exist."); this.Ia.pause(); this.Lg && (l.assert(this.Aj, "ShimSession.stop(), expected parallelPlayer to exist."), this.Aj.pause()); this.Ed.emit("paused", { type: "paused", Ud: this.Ed.Cc }); this.emit("stop") };
                        E.prototype.Bz = function (D) { var F, G, C, H; void 0 === F && (F = !0); this.Ia ? (D = parseInt(D), k.isFinite(D) && (null === (G = this.B8) || void 0 === G ? void 0 : G.$ab(), F ? (this.Ia.kZ(D), null === (C = this.Aj) || void 0 === C ? void 0 : C.kZ(D)) : (this.Ia.Owa(D), null === (H = this.Aj) || void 0 === H ? void 0 : H.Owa(D)))) : this.fail("Must call open prior to drmReady") }; E.prototype.W6 = function () { if (!this.Ia || !this.Ia.Xf) return !1; var D = this.Ia.Uo(this.qa.na.U[this.Ia.Si.ha].S); return D && this.Lg && this.Aj ? this.Aj.Uo(this.Lg.na.U[this.Aj.Si.ha].S) : D }; E.prototype.io =
                            function () { var D; null === (D = this.B8) || void 0 === D ? void 0 : D.$ab(); this.yl.set(d.sa.Tf); this.Ed.emit("underflow", { type: "underflow", Ud: this.Ed.Cc }); this.cr(this.Se) }; E.prototype.x6 = function (D) { var F = p.me.lp; switch (D) { case "intrplay": F = p.me.io; break; case "endplay": F = p.me.jq }D = this.qa.x6(F); return c.__assign(c.__assign({}, D), { aseApiVersion: this.uG }) }; E.prototype.nua = function () { this.Ed.emit("playbackRateChanged", { type: "playbackRateChanged", Ud: this.Ed.Cc }) }; E.prototype.eo = function () {
                                var D = this.Ed.Ue(); D = {
                                    type: "skipped",
                                    pts: n.O.Na(D)
                                }; this.Ed.emit(D.type, D); return (new q.GF(Promise.resolve())).cwa
                            }; E.prototype.aka = function (D, F) { var G; F = this.Qoa(F || 0, D); return null === (G = this.qa.ym(F, D)) || void 0 === G ? void 0 : G.od }; E.prototype.Wt = function (D, F) { var G = new n.O(F, 1E3); return (G = this.qa.fp(G, { gab: !0, fab: !0 })) ? this.qa.na.U[G.ha].Aa + Number(G.offset.T.toFixed(0)) : this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + F) }; E.prototype.AM = function (D, F) {
                                D = this.Qoa(D || 0, F); D = {
                                    ha: D, offset: new n.O(F -
                                        this.qa.na.U[D].Aa, 1E3)
                                }; return (D = this.qa.wH(D)) ? D.T : F
                            }; E.prototype.w7 = function () { var D, F = {}, G = null === (D = this.qa) || void 0 === D ? void 0 : D.Ow(); D = this.Lg ? this.Lg.Ow() : G; G && (F.vbuflmsec = G.totalvbuflmsecs, F.vbuflbytes = G.vbuflbytes); D && (F.abuflmsec = D.totalabuflmsecs, F.abuflbytes = D.abuflbytes); return F }; E.prototype.Una = function () { return { Fe: 0 } }; E.prototype.Mn = function () {
                                var D, F; return null !== (D = this.Cr) && void 0 !== D ? D : (null === (F = this.Ia) || void 0 === F ? 0 : F.X6()) ? this.xOa() : {
                                    id: this.vZ[0].ha, Fe: 0, od: 0, Lc: Infinity,
                                    we: Infinity, Ad: 0
                                }
                            }; E.prototype.xOa = function () {
                                var D, F, G, C, H; l.assert(this.Ia, "attempted to get presenting branch information with no player"); l.assert(this.Ia.X6(), "attempted to get presenting branch information but player has no branches"); var L = this.Ia.Mn() || {}, N = L.H, J = L.Ge, Q = L.$D; L = L.xs; return {
                                    id: N.id, Fe: null !== (D = null === J || void 0 === J ? void 0 : J.T) && void 0 !== D ? D : 0, od: null !== (F = null === N || void 0 === N ? void 0 : N.Nf.T) && void 0 !== F ? F : 0, Lc: null !== (G = null === N || void 0 === N ? void 0 : N.Yi.T) && void 0 !== G ? G : Infinity,
                                    we: null !== (C = null === Q || void 0 === Q ? void 0 : Q.T) && void 0 !== C ? C : Infinity, Ad: null !== (H = null === L || void 0 === L ? void 0 : L.T) && void 0 !== H ? H : 0
                                }
                            }; E.prototype.K8a = function () { this.cI("removeSession") }; E.prototype.Hs = function (D, F) {
                                void 0 === F && (F = 0); l.assert(!this.Lg, "Seeking with dual playgraphs not supported."); F = this.Qoa(F, D); this.$o.Wp(this.config.Ir, this.Dw.sessionId); D = { ha: F, offset: n.O.Na(D - this.qa.na.U[F].Aa) }; this.Cr = void 0; this.qa.eB(D); l.assert(this.Ia); this.Ia.resume(); this.yl.set(d.sa.wd); this.cr(this.Se);
                                D = this.qa.S$(D); l.assert(D, "Valid position must be provided for seek"); return D.offset.T
                            }; E.prototype.seek = function (D, F) { D = this.Wt(F, D); return this.Hs(D, F) }; E.prototype.Mr = function (D, F, G) {
                                var C = this.Mn().id, H = this.qa.ZV(C, D); if (F) { if (!H.ddb) return this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + C)), !1; if (void 0 !== H.sO) return this.qa.Di(C, D, !1, F), H.sO === D; this.qa.Di(C, D, !1, F); return !0 } if (void 0 !== H.sO) return G || this.Hs(H.od, 0), !1; H.cU ? (l.assert(this.Ia),
                                    this.Ia.reset(), this.qa.Di(C, D, !1, F), this.Ia.resume(), this.yl.set(d.sa.wd), this.cr(this.Se)) : G || this.Hs(H.od, 0); return !!H.cU
                            }; E.prototype.VL = function () { this.cI("addManifest") }; E.prototype.AT = function () { return this.cI("activateManifest") }; E.prototype.H5a = function () { this.ONa() }; E.prototype.Gaa = function (D) {
                                var F = this.Lg ? this.Aj : this.Ia, G = D.wn; l.assert(!this.Lg, "ShimSesssion: Parallel graph does not support track switches."); if (void 0 !== this.qn) return !1; var C, H; D = this.WS.audio_tracks; if (!D.some(function (N,
                                    J) { if (N.track_id === G) return C = N, H = J, !0 })) return !1; D = D[this.OL[0]]; this.qn = H; var L = null === F || void 0 === F ? void 0 : F.nB; L ? this.ONa() : (this.oS = !0, null === F || void 0 === F ? void 0 : F.pause([0]), this.emit("audioTrackSwitchStarted", { type: "audioTrackSwitchStarted", oldLangCode: D.language, oldNumChannels: D.channels, newLangCode: C.language, newNumChannels: C.channels, sourceBufferReset: L })); return !0
                            }; E.prototype.Tq = function (D, F) { this.xB.Tq(D, F) }; E.prototype.Oi = function (D) { return this.Ia ? this.Ia.Oi(n.O.Na(D)) : !1 }; E.prototype.y5 =
                                function () { this.cI("evaluateQoE") }; E.prototype.Cxa = function () { this.cI("stopBuffering") }; E.prototype.kJ = function () { return this.cI("startBuffering") }; E.prototype.n_a = function () { return this.cI("getStreamingStatistics") }; E.prototype.fail = function (D) { this.emit("error", { type: "error", error: "NFErr_MC_StreamingFailure", errormsg: D, manifestIndex: 0 }) }; E.prototype.Qoa = function (D, F) { return 0 !== D ? this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0") : this.rV(F) }; E.prototype.rV =
                                    function (D) { var F = this.qa.na, G = []; l.assert(0 <= D, "contentPts must be 0 or greater for segmentId lookup"); for (var C in F.U) { var H = F.U[C], L = H.Aa; H = H.Da; var N = D < Number(null !== H && void 0 !== H ? H : Infinity); if (L <= D && N) G.push(C); else if (L = Math.min(Math.abs(D - L), Math.abs(D - H)), void 0 === J || L < J) var J = L, Q = C } l.assert(1 >= G.length, "Overlapped segments detected in branching, this is not supported"); D = G[0] || Q; l.assert(void 0 !== D, "segmentId from contentPts lookup failed"); return D }; E.prototype.cSb = function () {
                                        var D, F =
                                            null === (D = this.qa) || void 0 === D ? void 0 : D.Ow(); D = this.Lg ? this.Lg.Ow() : F; F && D && this.emit("updateBufferLevel", { type: "updateBufferLevel", abuflbytes: D.abuflbytes, vbuflbytes: F.vbuflbytes, totalabuflmsecs: D.totalabuflmsecs, totalvbuflmsecs: F.totalvbuflmsecs, currentBandwidth: F.currentBandwidth })
                                    }; E.prototype.cI = function (D) { return this.fail("Method not implemented " + D) }; E.prototype.ONa = function () { l.assert(void 0 !== this.qn); this.OL[0] = this.qn; this.z$a(); this.cr(this.RT) }; E.prototype.z$a = function () {
                                        var D = this;
                                        this.Lg ? (this.qa.nE({ Is: function () { } }, { Is: function () { return D.OL[1] } }), this.Lg.nE({ Is: function () { return D.OL[0] } }, { Is: function () { } })) : this.qa.nE({ Is: function () { return D.OL[0] } }, { Is: function () { return D.OL[1] } }); this.oS && ((this.Lg ? this.Aj : this.Ia).resume([0]), this.oS = !1)
                                    }; E.prototype.b_b = function (D) { this.Zmb = D }; E.prototype.w_b = function (D) { this.gqb = D }; E.prototype.cr = function (D) {
                                        var F = this, G; D !== this.RT && void 0 !== this.qn ? this.JX = D : (null === (G = this.$K) || void 0 === G ? void 0 : G.clear(), !this.Lg && this.Ia ? this.$K =
                                            h.vr.iza([this.qa.Ff, this.Ia.NW], function (C) { var H; C = c.__read(C, 2); var L = C[1]; return C[0] === m.Jc.oj && (null === (H = F.Ia) || void 0 === H ? void 0 : H.Xf) && L.greaterThan(F.Ia.Vg) }, this.BUa(D)) : this.Ia && (this.$K = h.vr.iza([this.qa.Ff, this.Ia.NW, this.Lg.Ff, this.Aj.NW], function (C) { var H, L; C = c.__read(C, 4); var N = C[1], J = C[2], Q = C[3]; return C[0] === m.Jc.oj && (null === (H = F.Ia) || void 0 === H ? void 0 : H.Xf) && N.greaterThan(F.Ia.Vg) && J === m.Jc.oj && (null === (L = F.Aj) || void 0 === L ? void 0 : L.Xf) && Q.greaterThan(F.Aj.Vg) }, this.BUa(D))))
                                    };
                        E.prototype.BUa = function (D) { var F = this; return function (G) { var C; G && (null === (C = F.$K) || void 0 === C ? void 0 : C.clear(), F.$K = void 0, Promise.resolve().then(D)) } }; c.__decorate([t.Wb({ methodName: "updateChoiceMapEntry", Do: !0 })], E.prototype, "eQ", null); c.__decorate([t.Wb({ methodName: "open" })], E.prototype, "open", null); c.__decorate([t.Wb({ methodName: "close" })], E.prototype, "close", null); c.__decorate([t.Wb({ methodName: "paused" })], E.prototype, "bk", null); c.__decorate([t.Wb({ methodName: "unpaused" })], E.prototype, "uQa",
                            null); c.__decorate([t.Wb({ methodName: "cleanup" })], E.prototype, "md", null); c.__decorate([t.Wb({ methodName: "suspend" })], E.prototype, "suspend", null); c.__decorate([t.Wb({ methodName: "resume" })], E.prototype, "resume", null); c.__decorate([t.Wb({ methodName: "play" })], E.prototype, "play", null); c.__decorate([t.Wb({ methodName: "stop" })], E.prototype, "stop", null); c.__decorate([t.Wb({ Do: !0, methodName: "drmReady" })], E.prototype, "Bz", null); c.__decorate([t.Wb({ methodName: "underflow" })], E.prototype, "io", null); c.__decorate([t.Wb({ methodName: "getLogdataReport" })],
                                E.prototype, "x6", null); c.__decorate([t.Wb({ methodName: "skipped" })], E.prototype, "eo", null); c.__decorate([t.Wb({ methodName: "seekByContentPts" })], E.prototype, "Hs", null); c.__decorate([t.Wb({ methodName: "seek" })], E.prototype, "seek", null); c.__decorate([t.Wb({ methodName: "chooseNextSegment", Do: !0 })], E.prototype, "Mr", null); c.__decorate([t.Wb({ methodName: "onAudioTrackSwitchStarted" })], E.prototype, "H5a", null); c.__decorate([t.Wb({ methodName: "switchTracks" })], E.prototype, "Gaa", null); return E
                    }(f.EventEmitter); b.GLa =
                        r
                }, function (r, b, a) {
                    function c(g, d, h) { var l = Array.isArray(h) ? h[0] : h, n = Array.isArray(h) ? h[1] : h; d.on(l, function (q) { g.emit(n, k.__assign(k.__assign({}, q), { type: n })) }) } function f(g, d, h, l) { var n, q; d.events.once(g, function (p) { (n = p) && q && l(n, q) }); h.events.once(g, function (p) { q = p; n && q && l(n, q) }) } Object.defineProperties(b, { __esModule: { value: !0 } }); b.vWa = b.k5 = b.y3a = b.A3a = void 0; var k = a(2), m = a(21); b.A3a = function (g, d, h, l, n) {
                        function q(u, t) { c(h, u, t) } d = n ? [l, n] : [l];[["aseReport", "asereport"], ["aseReportEnabled", "asereportenabled"],
                            "buffering", "managerdebugevent", "endOfStream", "lastSegmentPts", "locationSelected", "segmentAborted", "startEvent", ["transportReport", "transportreport"]].forEach(function (u) { return q(l.events, u) }); n ? (q(n.events, "initialAudioTrack"), f("streamerEnd", l, n, function (u) { h.emit("streamerend", k.__assign(k.__assign({}, u), { type: "streamerend" })) })) : (q(l.events, ["streamerEnd", "streamerend"]), q(l.events, "initialAudioTrack")); l.events.on("logdata", function (u) {
                                h.emit("logdata", k.__assign(k.__assign({}, u), {
                                    fields: k.__assign(k.__assign({},
                                        u.fields), { aseApiVersion: h.uG })
                                }))
                            }); var p = !0; l.events.on("bufferingStarted", function (u) { h.EJ && p ? p = !1 : (h.Taa.ET("bufferingStarted", {}), h.emit("bufferingStarted", u)) }); l.events.on("bufferingComplete", function (u) { h.EJ ? p = !0 : h.b_b(u) }); null === n || void 0 === n ? void 0 : n.events.on("bufferingComplete", function (u) { h.EJ || h.w_b(u) }); l.events.on("maxVideoBitrateChanged", function (u) { h.emit("maxvideobitratechanged", k.__assign(k.__assign({}, u), { type: "maxvideobitratechanged", kfc: u.streaming.T })) }); l.events.on("error",
                                function (u) { u = k.__assign(k.__assign({}, u), { manifestIndex: 0 }); h.emit("error", u) }); h.on("error", function () { }); l.events.on("segmentComplete", function (u) { h.emit("segmentComplete", { type: "segmentComplete", mediaType: u.mediaType, manifestIndex: 0, segmentId: u.segmentId }) }); l.events.on("segmentNormalized", function (u) {
                                    var t = Math.floor(u.viewableContentEnd.T); h.emit("maxPosition", { type: "maxPosition", index: 0, endPts: t, maxPts: t, maxSeekPts: Math.floor(u.viewableEarliestContentEnd.T) }); h.emit("manifestRange", {
                                        type: "manifestRange",
                                        index: 0, manifestOffset: 0, startPts: 0, endPts: t, maxPts: t
                                    })
                                }); l.events.on("segmentStarting", function (u) { h.emit("maxBitrates", { type: "maxBitrates", audio: u.maxBitrates.audio, video: u.maxBitrates.video }); h.emit("segmentStarting", u) }); d.forEach(function (u) {
                                    u.events.on("serverSwitch", function (t) { h.emit("serverSwitch", { type: "serverSwitch", segmentId: t.segmentId, mediatype: t.mediatype, server: t.server, reason: t.reason, location: t.location, bitrate: t.bitrate, confidence: t.confidence, throughput: t.throughput, oldserver: t.oldserver }) });
                                    u.events.on("streamSelected", function (t) { var w = u.Yz(t.position); h.emit("streamSelected", { type: "streamSelected", nativetime: t.nativetime, mediaType: t.mediaType, streamId: t.streamId, manifestIndex: 0, trackIndex: t.trackIndex, streamIndex: t.streamIndex, movieTime: w.pm.T, bandwidth: t.bandwidth, longtermBw: t.longtermBw, rebuffer: t.rebuffer }) }); u.events.on("updateStreamingPts", function (t) {
                                        var w = h.K; m.ia && g.trace("converting updateStreamingPts, movieId:", w); h.emit("updateStreamingPts", {
                                            type: "updateStreamingPts", mediaType: t.mediaType,
                                            manifestIndex: 0, trackIndex: t.trackIndex, segmentId: t.position.ha, movieTime: Math.floor(t.completePlayerStreamingTimestamp.T)
                                        })
                                    })
                                })
                    }; b.y3a = function (g, d, h, l) {
                        ["managerdebugevent", "segmentAppended", "startEvent", "logdata"].forEach(function (n) { return c(d, h.events, n) }); h.events.on("streamPresenting", function (n) {
                            var q = n.playerTimestamp.T, p = d.qa.Yz(n.position); void 0 === p ? l.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)) : d.emit("streamPresenting", {
                                type: "streamPresenting", startPts: Math.floor(q),
                                contentStartPts: Math.floor(p.pm.T), mediaType: n.mediaType, manifestIndex: 0, trackIndex: n.trackIndex, streamIndex: n.streamIndex
                            })
                        }); h.events.on("segmentPresenting", function (n) { var q = d.qa.Yz(n.position), p = n.playerTimestamp.Ja(q.pm), u = n.position.ha; d.NVa || (d.emit("manifestPresenting", { type: "manifestPresenting", index: 0, pts: n.playerTimestamp.T, movieId: q.S.toString(), replace: !1, contentOffset: p.T }), d.NVa = !0); d.emit("segmentPresenting", { type: "segmentPresenting", segmentId: u, contentOffset: p.T, metrics: n.metrics }) });
                        h.events.on("ptsChanged", function (n) { d.emit("ptschanged", n.initialTimestamp.T); d.Ed.emit("skipped") })
                    }; b.k5 = function (g, d, h, l, n, q) {
                        var p; h = h.T; n = null !== n && void 0 !== n ? n : d; g.emit("logdata", { type: "logdata", target: "startplay", fields: { hasasereport: !!q, hashindsight: !1, buffCompleteReason: d.reason, actualbw: l, initSelReason: null !== (p = d.initSelReason) && void 0 !== p ? p : "unknown", bcVBufferLevelMs: d.vBufferLevelMs, bcABufferLevelMs: n.aBufferLevelMs } }); g.emit("ptschanged", h); g.emit("bufferingComplete", {
                            type: "bufferingComplete",
                            time: d.time, actualStartPts: h, aBufferLevelMs: n.aBufferLevelMs, vBufferLevelMs: d.vBufferLevelMs, selector: d.selector, initBitrate: d.initBitrate, skipbackBufferSizeBytes: d.skipbackBufferSizeBytes
                        })
                    }; b.vWa = function (g, d, h) { g.emit("audioTrackSwitchComplete", { type: "audioTrackSwitchComplete", trackId: d.track_id, trackIndex: h }) }
                }, function (r, b, a) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.eSa = void 0; r = a(2); var c = a(19), f = r.__importDefault(a(124)), k = a(9); b.eSa = function (m) {
                        if (m.ymb) return m; f.default(c.EventEmitter.prototype,
                            m); Object.defineProperties(m, { ymb: { value: !0 }, Cc: { get: function () { return new k.O(this.Ue(), 1E3) } }, playbackRate: { get: function () { return Math.max("function" === typeof this.No ? this.No() : 1, .01) } } }); return m
                    }
                }, function (r, b) {
                    Object.defineProperties(b, { __esModule: { value: !0 } }); b.Rxb = {
                        hx: ["minInitVideoBitrate", -Infinity], Gsa: ["minHCInitVideoBitrate", -Infinity], wA: ["maxInitVideoBitrate", Infinity], tX: ["minInitAudioBitrate", -Infinity], sX: ["minHCInitAudioBitrate", -Infinity], fX: ["maxInitAudioBitrate", Infinity], M8: ["minAcceptableVideoBitrate",
                            -Infinity], pX: ["minAcceptableVMAF", 0], ZQb: ["minAcceptableVMAFRebufferScalingFactor", 0], Fsa: ["minAllowedVideoBitrate", -Infinity], UPb: ["maxAllowedVideoBitrate", Infinity], eI: ["minAllowedVmaf", -Infinity], G3a: ["maxAllowedVmaf", Infinity], SP: ["streamFilteringRules", { enabled: !1, profiles: ["playready-h264mpl40-dash"], action: "keepLowest" }], p5: ["enableResolutionVMAFStreamFilter", !1], bua: ["percentCapTitlesForResolutionVMAFStreamFilter", 100], M$: ["resolutionVMAFCappingRuleList", []], x0a: ["ignoreUserFilterOnEmptyResult",
                                !0], fI: ["minRequiredBuffer", 2E4], V8: ["minRequiredAudioBuffer", 0], yj: ["minPrebufSize", 5800], Q8: ["minCheckBufferingCompleteInterval", 200], o5: ["enableMoreFrequentBufferingCompleteCheck", !1], Jsa: ["minimumBufferingCompleteInterval", 1E4], H$: ["requireDownloadDataAtBuffering", !1], O0a: ["indicatorForDownloadDataAtBuffering", "oncomplete"], I$: ["requireSetupConnectionDuringBuffering", !1], rva: ["rebufferingFactor", 1], rs: ["maxBufferingTime", 2E3], Tya: ["useMaxPrebufSize", !0], ND: ["maxPrebufSize", 4E4], lsa: ["maxRebufSize",
                                    Infinity], JEb: ["fastRebufferRecoveryThreshold", Infinity], IEb: ["fastRebufferRecoverBwThrehold", 3E3], p7: ["initialBitrateSelectionCurve", null], T0a: ["initSelectionLowerBound", -Infinity], U0a: ["initSelectionUpperBound", Infinity], Kaa: ["throughputPercentForAudio", 15], uja: ["bandwidthMargin", 0], wja: ["bandwidthMarginCurve", [{ m: 20, b: 15E3 }, { m: 17, b: 3E4 }, { m: 10, b: 6E4 }, { m: 5, b: 12E4 }]], xub: ["bandwidthMarginCurveAudio", { min: .7135376, max: .85, gz: 76376, scale: 18862.4, gamma: 3.0569 }], vja: ["bandwidthMarginContinuous", !1], yub: ["bandwidthMarginForAudio",
                                        !0], Txa: ["switchConfigBasedOnInSessionTput", !0], Vka: ["conservBandwidthMargin", 20], tU: ["conservBandwidthMarginTputThreshold", 6E3], Wka: ["conservBandwidthMarginCurve", [{ m: 25, b: 15E3 }, { m: 20, b: 3E4 }, { m: 15, b: 6E4 }, { m: 10, b: 12E4 }, { m: 5, b: 24E4 }]], Zab: ["switchAlgoBasedOnHistIQR", !1], yE: ["switchConfigBasedOnThroughputHistory", "iqr"], ksa: ["maxPlayerStateToSwitchConfig", -1], Nra: ["lowEndMarkingCriteria", "iqr"], sda: ["IQRThreshold", .5], Npa: ["histIQRCalcToUse", "simple"], Nt: ["bandwidthManifold", {
                                            curves: [{
                                                min: .05, max: .82,
                                                gz: 7E4, scale: 178E3, gamma: 1.16
                                            }, { min: 0, max: .03, gz: 15E4, scale: 16E4, gamma: 3.7 }], threshold: 14778, gamma: 2.1, niqrcurve: { min: 1, max: 1, center: 2, scale: 2, gamma: 1 }, filter: "throughput-sw", niqrfilter: "throughput-iqr", simpleScaling: !0
                                        }], Lu: ["maxTotalBufferLevelPerSession", 0], j0a: ["highWatermarkLevel", 3E4], Gbb: ["toStableThreshold", 3E4], SZ: ["toUnstableThreshold", 0], nxa: ["skipBitrateInUpswitch", !1], kza: ["watermarkLevelForSkipStart", 8E3], Hpa: ["highStreamRetentionWindow", 9E4], Ora: ["lowStreamTransitionWindow", 51E4], Jpa: ["highStreamRetentionWindowUp",
                                            5E5], Qra: ["lowStreamTransitionWindowUp", 1E5], Ipa: ["highStreamRetentionWindowDown", 6E5], Pra: ["lowStreamTransitionWindowDown", 0], Gpa: ["highStreamInfeasibleBitrateFactor", .5], rA: ["lowestBufForUpswitch", 9E3], i8: ["lockPeriodAfterDownswitch", 15E3], Sra: ["lowWatermarkLevel", 15E3], sA: [["lowestWaterMarkLevel", "lowestWatermarkLevel"], 3E4], Tra: ["lowestWaterMarkLevelBufferRelaxed", !1], usa: ["mediaRate", 1.5], x8: ["maxTrailingBufferLen", 15E3], LT: ["audioBufferTargetAvailableSize", 262144], k_: ["videoBufferTargetAvailableSize",
                                                1048576], a4a: ["maxVideoTrailingBufferSize", 8388608], I3a: ["maxAudioTrailingBufferSize", 393216], H5: ["fastUpswitchFactor", 3], uXa: ["fastUpswitchFactorWithoutHeaders", 3], Sma: ["fastDownswitchFactor", 3], xA: ["maxMediaBufferAllowed", 27E4], Tdc: ["minMediaBufferLen", 1E4], lxa: ["simulatePartialBlocks", !0], Z$a: ["simulateBufferFull", !0], Xka: ["considerConnectTime", !0], Uka: ["connectTimeMultiplier", 1], d3a: ["lowGradeModeEnterThreshold", 12E4], e3a: ["lowGradeModeExitThreshold", 9E4], K3a: ["maxDomainFailureWaitDuration", 3E4],
                        H3a: ["maxAttemptsOnFailure", 18], lXa: ["exhaustAllLocationsForFailure", !0], R3a: ["maxNetworkErrorsDuringBuffering", 20], q8: ["maxBufferingTimeAllowedWithNetworkError", 6E4], WL: ["alwaysRunUnderflowTimer", !0], sXa: ["fastDomainSelectionBwThreshold", 2E3], lbb: ["throughputProbingEnterThreshold", 4E4], mbb: ["throughputProbingExitThreshold", 34E3], S2a: ["locationProbingTimeout", 1E4], zXa: ["finalLocationSelectionBwThreshold", 1E4], jbb: ["throughputHighConfidenceLevel", .75], kbb: ["throughputLowConfidenceLevel", .4], Ara: ["locationStatisticsUpdateInterval",
                            6E4], bPb: ["locationSelectorPersistFailures", !0], JWa: ["enablePerfBasedLocationSwitch", !1], zdc: ["maxRateMaxFragmentGroups", 4500], hua: ["pipelineScheduleTimeoutMs", 2], yA: ["maxPartialBuffersAtBufferingStart", 2], eRb: ["minPendingBufferLen", 3E3], v8: ["maxPendingBufferLen", 6E3], JDb: ["enableNginxRateLimit", !1], n9: ["nginxSendingRate", 4E4], NDb: ["enableRequestPacingToken", !1], FQb: ["mediaRequestPacingSpeed", 2], jqa: ["initialMediaRequestToken", 2E4], o8: ["maxActiveRequestsSABCell100", 2], T3a: ["maxPendingBufferLenSABCell100",
                                500], g9a: ["resetActiveRequestsAtSessionInit", !0], sma: ["enableCprAudio", !1], tma: ["enableCprVideo", !1], Cka: ["clientPacingParams", { enableAdaptiveInitialThroughput: !1, minRequiredBuffer: 3E4, rateDiscountFactors: [2, 2, 3], lowestAllowedRateFactor: 1 }], W0b: ["staticPacingRateKbps", 0], hUb: ["paceRateSelectorAlgorithm", "default"], IWa: ["enablePaceReportLogging", !1], H3b: ["unpacedFragmentInterval", 0], yLb: ["ignorePacedRequestsThroughput", !1], xLb: ["ignoreInferredPacedRequestsThroughput", !1], M9: ["pacedThresholdPct", .1],
                        Bva: ["regressionAlgoPacingCoefficients", [{ bufferLevelMs: 0, coefficients: { selectedFragmentBitrate: 0, upswitchFragmentBitrate: 0, maxFragmentBitrate: 0, selectedAverageBitrate: 0, upswitchAverageBitrate: 0, maxAverageBitrate: 2, selectedPeakBitrate: 0, upswitchPeakBitrate: 0, maxPeakBitrate: 0, bufferLevelMs: 0, observedThroughput: 0, predictedThroughput: 0, offset: 0 } }, {
                            bufferLevelMs: 3E4, coefficients: {
                                selectedFragmentBitrate: 0, upswitchFragmentBitrate: 0, maxFragmentBitrate: 0, selectedAverageBitrate: 1, upswitchAverageBitrate: 0,
                                maxAverageBitrate: 0, selectedPeakBitrate: 0, upswitchPeakBitrate: 0, maxPeakBitrate: 0, bufferLevelMs: 0, observedThroughput: 0, predictedThroughput: 0, offset: 0
                            }
                        }]], n5: ["enableInitialTputLogging", !1], msa: ["maxResponsesInitialTput", 6], nsa: ["maxStreamingSkew", 2E3], XPb: ["maxBufferOccupancyForSkewCheck", Infinity], w4b: ["useBufferOccupancySkipBack", !0], isa: ["maxPendingBufferPercentage", 10], W3a: ["maxRequestsInBuffer", 120], Y6: ["headerRequestSize", 4096], Hma: ["estimateHeaderSize", !0], Icc: ["headerCacheEstimateHeaderSize",
                            !1], mI: ["neverWipeHeaderCache", !1], I4b: ["useSidxInfoFromManifestForHeaderRequestSize", !1], tXa: ["fastPlayHeaderRequestSize", 0], fO: ["maxRequestSize", 0], lO: ["minRequestSize", 65536], qX: ["minBufferLenForHeaderDownloading", 1E4], eab: ["smartHeaderPreDownloading", !1], rDb: ["enableAllHeadersPreDownloading", !1], kec: ["onlyAllowPtsUpdatePolling", !1], fRb: ["minVideoBufferPoolSizeForSkipbackBuffer", 33554432], SY: ["reserveForSkipbackBufferMs", 15E3], kta: ["numExtraFragmentsAllowed", 2], Gq: ["pipelineEnabled", !0], eO: ["maxParallelConnections",
                                3], F4b: ["usePipelineForAudio", !1], E4b: ["usePipelineDetectionForAudio", !1], hab: ["socketReceiveBufferSize", 0], K3: ["audioSocketReceiveBufferSize", 32768], kQ: ["videoSocketReceiveBufferSize", 65536], Wcb: ["usePipelineDetectionForVideo", !1], jRb: ["minVideoSocketReceiveBufferSize", 65536], Epa: ["headersSocketReceiveBufferSize", 32768], X_b: ["shareDownloadTracks", !0], Y_b: ["shareOpenRangeTracks", !1], kCb: ["disableHeaderDownloadTracks", !1], Isa: ["minTimeBetweenHeaderRequests", void 0], fba: ["updatePtsIntervalMs", 1E3],
                        Hja: ["bufferTraceDenominator", 0], jM: ["bufferLevelNotifyIntervalMs", 2E3], Kxa: ["streamingStatusIntervalMs", 2E3], OA: ["prebufferTimeLimit", 6E4], P8: ["minBufferLevelForTrackSwitch", 2E3], LDb: ["enablePenaltyForLongConnectTime", !1], $ta: ["penaltyFactorForLongConnectTime", 2], Lra: ["longConnectTimeThreshold", 200], Gia: ["additionalBufferingLongConnectTime", 2E3], Hia: ["additionalBufferingPerFailure", 8E3], CY: ["rebufferCheckDuration", 6E4], GWa: ["enableLookaheadHints", !1], a3a: ["lookaheadFragments", 2], Ez: ["enableOCSideChannel",
                            !0], Mua: ["probeRequestTimeoutMilliseconds", 3E4], Bec: ["probeRequestConnectTimeoutMilliseconds", 8E3], d1: ["OCSCBufferQuantizationConfig", { lv: 5, mx: 240 }], ODb: ["enableSCByteRangeHints", !1], tcb: ["updateDrmRequestOnNetworkFailure", !0], J3a: ["maxDiffAudioVideoEndPtsMs", 1E3], MBb: ["deferAseHeaderCache", !1], zVa: ["deferAseScheduling", !1], rbb: ["timeBeforeEndOfStreamBufferMark", 6E3], s8: ["maxFastPlayBufferInMs", 2E4], $Pb: ["maxFastPlayContentTimeThresholdMs", 112E3], gsa: ["maxFastPlayBitThreshold", 2E8], esa: ["maxBufferingCompleteBufferInMs",
                                Infinity], dvb: ["bufferingCompleteOnMemoryLimit", !1], N8: ["minAudioMediaRequestSizeBytes", 0], X8: ["minVideoMediaRequestSizeBytes", 0], WPb: ["maxAudioMediaRequestSizeBytes", Infinity], lQb: ["maxVideoMediaRequestSizeBytes", Infinity], cQb: ["maxMediaRequestSizeBytesInFraction", 1], gx: ["minAudioMediaRequestDuration", 0], EA: ["minVideoMediaRequestDuration", 0], T8: ["minMediaRequestDuration", 0], VPb: ["maxAudioMediaRequestDuration", Infinity], kQb: ["maxVideoMediaRequestDuration", Infinity], t8: ["maxMediaRequestDuration", Infinity],
                        Mia: ["allowFirstRequestAggregation", !1], bRb: ["minAudioMediaRequestDurationCache", 0], hRb: ["minVideoMediaRequestDurationCache", 0], IDb: ["enableMultiFragmentRequest", !1], Rcb: [["useHeaderCache", "usehc"], !0], Rya: [["useHeaderCacheData", "usehcd"], !0], T4: ["defaultHeaderCacheSize", 4], vVa: ["defaultHeaderCacheDataCount", 4], S4: ["defaultHeaderCacheDataPrefetchMs", 0], LKb: ["headerCacheMaxPendingData", 6], Jcc: ["headerCachePriorityLimit", 5], d0a: ["headerCacheAdoptBothAV", !1], G4b: ["usePipelineForBranchedAudio", !0], Nwb: ["childBranchBatchedAmount",
                            1E4], RD: ["minimumTimeBeforeBranchDecision", 2E3], lRb: ["minimumAppendedMediaBeforePlayback", 5E3], sec: ["parallelBranchesDuringBuffering", !1], fQb: ["maxRequestsToAttachOnBranchActivation", void 0], uX: ["minimumJustInTimeBufferLevel", 3E3], BDb: ["enableJustInTimeAppends", !1], ERa: ["appendPacingFactor", 0], rtb: ["appendPacingThreshold", 3E3], BWa: ["enableDelayedSeamless", !1], bbc: ["branchEndPtsIntervalMs", 250], zLb: ["ignorePtsJustBeforeCurrentSegment", !1], M3a: ["maxFragsForFittableOnBranching", 300], CUb: ["pausePlaylistAtEnd",
                                !0], esb: ["adaptiveParallelTimeoutMs", 1E3], VM: ["enableAdaptiveParallelStreaming", !1], Gja: ["bufferThresholdToSwitchToSingleConnMs", 45E3], Fja: ["bufferThresholdToSwitchToParallelConnMs", 35E3], oDb: ["enableAPSForBranching", !1], uba: ["waitForPendingConnAdaptation", !1], Usa: ["networkFailureResetWaitMs", 2E3], Tsa: ["networkFailureAbandonMs", 6E4], w8: ["maxThrottledNetworkFailures", 5], Jaa: ["throttledNetworkFailureThresholdMs", 200], Rra: ["lowThroughputThreshold", 400], Mma: ["excludeSessionWithoutHistoryFromLowThroughputThreshold",
                                    !1], x2b: ["timeAtEachBitrateRoundRobin", 1E4], aZb: ["roundRobinDirection", "forward"], jLb: ["httpsConnectErrorAsPerm", !1], M4a: ["mp4ParsingInNative", !1], ti: ["enableManagerDebugTraces", !1], p3a: ["managerDebugMessageInterval", 1E3], o3a: ["managerDebugMessageCount", 20], s5a: ["notifyManifestCacheEom", !0], SDb: ["enableUsingHeaderCount", !1], jab: ["sourceBufferInOrderAppend", !0], jE: ["requireAudioStreamToEncompassVideo", !1], lRa: ["allowAudioToStreamPastVideo", !1], zUa: ["countGapInBuffer", !1], mRa: ["allowCallToStreamSelector",
                                        !1], FSa: ["bufferThresholdForAbort", 2E4], Gxa: ["ase_stream_selector", "optimized"], aSa: ["audiostreamSelectorAlgorithm", "selectaudioadaptive"], hqa: ["initBitrateSelectorAlgorithm", "default"], Mja: ["bufferingSelectorAlgorithm", "default"], i1b: ["streamSelectionTrace", [{ f: 60, s: 5 }, { f: 61, s: 3 }, { f: 62, s: 2 }, { f: 63, s: 0 }]], LWa: ["enableThroughputTraceResearchData", !1], nbb: ["throughputTraceParam", { numB: 3600, bSizeMs: 2E3, fillS: "last", fillHl: 1E3 }], Ax: ["researchEnvironmentEnabled", !1], PDb: ["enableStreamSelectionAugmentData",
                                            !1], hub: ["augmentDataNumOfChunks", 30], mVa: ["ase_ls_failure_simulation", ""], Bla: ["ase_dump_fragments", !1], Dla: ["ase_location_history", 0], Ela: ["ase_throughput", 0], oVa: ["ase_simulate_verbose", !1], dh: ["stallAtFrameCount", void 0], nab: ["stallAtFrameCountAudio", void 0], bsa: ["marginPredictor", "simple"], Mcb: ["useBackupUnderflowTimer", !0], URb: ["noDuplicateUnderflowTimer", !1], Ifc: ["useManifestDrmHeader", !0], Jfc: ["useOnlyManifestDrmHeader", !0], Vsa: ["networkMeasurementGranularity", "video_location"], LRb: ["netIntrStoreWindow",
                                                36E3], $dc: ["minNetIntrDuration", 8E3], Wnb: ["fastHistoricBandwidthExpirationTime", 10368E3], uob: ["bandwidthExpirationTime", 5184E3], Vnb: ["failureExpirationTime", 86400], APa: ["historyTimeOfDayGranularity", 4], Snb: ["expandDownloadTime", !0], fpb: ["minimumMeasurementTime", 500], epb: ["minimumMeasurementBytes", 131072], vqb: ["throughputMeasurementTimeout", 2E3], uqb: ["initThroughputMeasureDataSize", 262144], Pob: ["historicBandwidthUpdateInterval", 2E3], dpb: ["minimumBufferToStopProbing", 1E4], Iac: ["throughputPredictor",
                                                    "ewma"], twa: ["secondThroughputEstimator", "slidingwindow"], L9a: ["secondThroughputMeasureWindowInMs", 3E5], Hac: ["throughputMeasureWindow", 5E3], Jac: ["throughputWarmupTime", 5E3], Gac: ["throughputIQRMeasureWindow", 1E3], sac: ["IQRBucketizerWindow", 15E3], N3a: ["maxIQRSamples", 100], B4a: ["minIQRSamples", 5], Dac: ["connectTimeHalflife", 10], xac: ["responseTimeHalflife", 10], JOa: ["historicThroughputHalflife", 14400], IOa: ["historicResponseTimeHalflife", 100], HOa: ["historicHttpResponseTimeHalflife", 100], tEa: ["HistoricalTDigestConfig",
                                                        { maxc: 25, rc: "ewma", c: .5, hl: 7200 }], mPa: ["minReportedNetIntrDuration", 4E3], Fac: ["throughputBucketMs", 500], vac: ["bucketHoltWintersWindow", 2E3], Knb: ["enableFilters", "throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")], Tnb: ["experimentalFilter", ["throughput-wssl"]], Gga: ["filterDefinitionOverrides", {}], znb: ["defaultFilter", "throughput-ewma"], brb: ["secondaryFilter", "throughput-sw"], iL: ["defaultFilterDefinitions", {
                                                            "throughput-ewma": { type: "discontiguous-ewma", mw: 5E3 },
                                                            "throughput-sw": { type: "slidingwindow", mw: 3E5 }, "throughput-wssl": { type: "wssl", mw: 5E3, max_n: 20 }, "throughput-iqr": { type: "iqr", mx: 100, mn: 5, bw: 15E3, iv: 1E3 }, "throughput-iqr-history": { type: "iqr-history" }, "throughput-location-history": { type: "discrete-ewma", hl: 14400 }, "respconn-location-history": { type: "discrete-ewma", hl: 100 }, "throughput-tdigest": { type: "tdigest", maxc: 25, c: .5, b: 1E3, w: 15E3, mn: 6 }, "throughput-tdigest-history": { type: "tdigest-history", maxc: 25, rc: "ewma", c: .5, hl: 7200 }, "respconn-ewma": {
                                                                type: "discrete-ewma",
                                                                hl: 10
                                                            }, avtp: { type: "avtp" }, entropy: { type: "entropy", mw: 2E3, sw: 6E4, mins: 1, "in": "none", hdl: [150, 230, 352, 539, 825, 1264, 1936, 2966, 4543, 6958], uhdl: [150, 230, 352, 539, 825, 1264, 1936, 2966, 4543, 6958, 10657, 16322, 25E3] }
                                                        }], wma: ["enableWsslEstimate", !1], Cdc: ["maxWsslRequestSize", 131072], Bdc: ["maxWsslRequestRatio", .2], Hdb: ["wsslAggregationMethod", "max"], hV: ["enableSessionHistoryReport", !0], pma: ["earlyStageEstimatePeriod", 1E4], B2a: ["lateStageEstimatePeriod", 3E4], u8: ["maxNumSessionHistoryStored", 10], W8: ["minSessionHistoryDuration",
                                                            3E5], SKb: ["highAndStableModelName", "baseline"], vma: ["enableHighAndStablePredictor", !1], U8: ["minNumSessionHistory", 5], Xac: ["baselineHighAndStableThreshold", { bwThreshold: 2E4, nethreshold: .15 }], a7: ["highAndStableLRModelParams", {
                                                                probThresh: .5, lrParams: {
                                                                    lrMeans: {
                                                                        avtp_b: .6717527000068912, avtp_kurtosis: -.32272653860208733, avtp_last: 18162.25923773571, avtp_mean: 18374.85489469472, avtp_niqr: .36157000863524086, avtp_p1: 15217.082220651864, avtp_p25: 16255.438250827538, avtp_p50: 18018.48498809834, avtp_p75: 20633.64785646099,
                                                                        avtp_p99: 23493.017531706773, avtp_skew: -.15988915479533752, avtp_std: 3494.2469335662795, fracAbove20Mbps: .36069774394324833, fracBelow20p: .44509094302767843, hour_current: 14.88892246562775, intercept: 0, neuhd_b: .19944416382669086, neuhd_kurtosis: -.3831651109303816, neuhd_last: .18607356003210967, neuhd_mean: .18446011173649746, neuhd_p1: .08973105578594363, neuhd_p25: .11425784546899986, neuhd_p50: .16178032426296476, neuhd_p75: .24808260501822446, neuhd_p99: .3802747624363075, neuhd_skew: .5015094291572232, neuhd_std: .11460618864890261,
                                                                        session_ct: 9.244559018608745
                                                                    }, lrStd: {
                                                                        avtp_b: .2163710864106512, avtp_kurtosis: 1.3411069011423224, avtp_last: 15614.28989483334, avtp_mean: 15019.534079778174, avtp_niqr: 1.5102894334298487, avtp_p1: 13558.687640161155, avtp_p25: 14056.082157854784, avtp_p50: 14989.029847375388, avtp_p75: 16706.411995109334, avtp_p99: 19150.29672591333, avtp_skew: .8845810368911663, avtp_std: 3980.545705351505, fracAbove20Mbps: .43529176129377334, fracBelow20p: .3274979541369119, hour_current: 5.5716567906096826, intercept: 1, neuhd_b: 2.3749059625699656,
                                                                        neuhd_kurtosis: 1.2291306781983045, neuhd_last: .16618636811434156, neuhd_mean: .10880818013405419, neuhd_p1: .11470893745650394, neuhd_p25: .11090914485422533, neuhd_p50: .11733552791484116, neuhd_p75: .1358051961745428, neuhd_p99: .18492685125890918, neuhd_skew: .7361251697238183, neuhd_std: .07376059312467607, session_ct: 1.9982003410777347
                                                                    }, lrWeights: {
                                                                        avtp_b: -.4168110388005385, avtp_kurtosis: -.008309418872795704, avtp_last: .9636719412610095, avtp_mean: .4596368266505147, avtp_niqr: .004794244204030071, avtp_p1: .04179963884288828,
                                                                        avtp_p25: -.05971214541667236, avtp_p50: -.06609686988077124, avtp_p75: -.021163989843701936, avtp_p99: -.5012233043639935, avtp_skew: .04960520099458782, avtp_std: -.04377297768250326, fracAbove20Mbps: 1.4353872225089277, fracBelow20p: .536611494372919, hour_current: -.02151363764568746, intercept: -2.454070409461966, neuhd_b: -.010631811493285886, neuhd_kurtosis: .0392239159548721, neuhd_last: -.26007106077057324, neuhd_mean: -.14989131456288793, neuhd_p1: .03395316119601572, neuhd_p25: -.03267433155107594, neuhd_p50: .016260475942198947,
                                                                        neuhd_p75: .09080546760249925, neuhd_p99: .07570542703705993, neuhd_skew: -.0072781558054514205, neuhd_std: -.06708762681381578, session_ct: .010263062689577421
                                                                    }
                                                                }
                                                            }], TKb: ["highAndStableParams", { minRequiredBuffer: 1E4, bandwidthMarginCurve: [{ m: 10, b: 15E3 }, { m: 5, b: 3E4 }, { m: 0, b: 12E4 }] }], xia: ["addHeaderDataToNetworkMonitor", !0], wxa: ["startMonitorOnLoadStart", !1], Qva: ["reportFailedRequestsToNetworkMonitor", !1], V9: ["periodicHistoryPersistMs", 0], T$: ["saveVideoBitrateMs", 0], yX: ["needMinimumNetworkConfidence", !0], zja: ["biasTowardHistoricalThroughput",
                                                                !1], fPb: ["logMemoryUsage", !1], cv: ["probeServerWhenError", !0], Uy: ["allowSwitchback", !0], EI: ["probeDetailDenominator", 100], r8: ["maxDelayToReportFailure", 300], Ir: ["allowParallelStreaming", !1], Jdc: ["mediaPrefetchDisabled", !1], y4a: ["minBufferLevelToAllowPrefetch", 5E3], V$: ["seamlessAudio", !1], Tec: ["seamlessAudioProfiles", []], Uec: ["seamlessAudioProfilesAndTitles", {}], rwa: ["seamlessAudioMaximumSyncError", void 0], swa: ["seamlessAudioMinimumSyncError", void 0], f1a: ["insertSilentFrames", 0], qqa: ["insertSilentFramesOnSeek",
                                                                    !1], g1a: ["insertSilentFramesOnSeekForTitles", []], hMb: ["insertSilentFramesOnSeekCount", 3], lcc: ["forceDiscontinuityAtTransition", !0], Qxa: ["supportAudioResetOnDiscontinuity", void 0], K1b: ["supportAudioEasingOnDiscontinuity", void 0], eDb: ["editCompleteFragments", !0], mRb: ["minimumAudioFramesPerFragment", 1], wG: ["applyProfileTimestampOffset", !1], im: ["applyProfileStreamingOffset", !0], M7a: ["profileTimestampOffsets", {
                                                                        "heaac-2-dash": { 64: { ticks: -3268, timescale: 48E3 }, 96: { ticks: -3352, timescale: 48E3 } }, "heaac-2hq-dash": {
                                                                            128: {
                                                                                ticks: -3352,
                                                                                timescale: 48E3
                                                                            }
                                                                        }
                                                                    }], bub: ["audioProfilesNonSyncSamples", ["xheaac-dash"]], q3b: ["truncateEndOfStreamAudio", !1], y4b: ["useDpiAssumedAacEncoderDelay", !0], wsa: ["mediaSourceSupportsNegativePts", !1], kO: ["minAudioPtsGap", void 0], $tb: ["audioOverlapGuardSampleCount", 2], KWa: ["enableRecordJSBridgePerf", !1], zda: ["JSBridgeTDigestConfig", { maxc: 25, c: .5 }], u2b: ["throughputThresholdSelectorParam", 0], t4b: ["upswitchDuringBufferingFactor", 2], itb: ["allowUpswitchDuringBuffering", !1], kUa: ["contentOverrides", void 0], ala: ["contentProfileOverrides",
                                                                        void 0], Mpa: ["hindsightDenominator", 0], Lpa: ["hindsightDebugDenominator", 0], b7: ["hindsightAlgorithmsEnabled", []], c7: ["hindsightParam", { numB: Infinity, bSizeMs: 1E3, fillS: "last", fillHl: 1E3 }], DRa: ["appendMediaRequestOnComplete", !1], tba: ["waitForDrmToAppendMedia", !1], gza: ["waitForDrmToAppendHeadersWhenClearAndEncryptedContent", !1], S5: ["forceAppendHeadersAfterDrm", !1], Fla: ["declareBufferingCompleteAtSegmentEnd", !1], bx: ["maxActiveRequestsPerSession", void 0], wra: ["limitAudioDiscountByMaxAudioBitrate", !1], Ria: ["appendFirstHeaderOnComplete",
                                                                            !0], BZ: ["strictBufferCapacityCheck", !1], aM: ["aseReportDenominator", 0], E3: ["aseReportIntervalMs", 3E5], Yaa: ["translateToVp9Draft", !1], VP: ["switchableAudioProfiles", []], cub: ["audioProfilesOverride", [{ profiles: ["ddplus-5.1-dash", "ddplus-5.1hq-dash"], override: { maxInitAudioBitrate: 256, audioBwFactor: 5.02 } }, { profiles: ["ddplus-atmos-dash"], override: { maxInitAudioBitrate: 448 } }]], abb: ["switchableAudioProfilesOverride", [{ profiles: ["ddplus-5.1-dash", "ddplus-5.1hq-dash"], override: { maxInitAudioBitrate: 192 } }, {
                                                                                profiles: ["ddplus-atmos-dash"],
                                                                                override: { minInitAudioBitrate: 448, maxInitAudioBitrate: 448, minAudioBitrate: 448 }
                                                                            }]], eub: ["audioSwitchConfig", { upSwitchFactor: 5.02, downSwitchFactor: 3.76, lowestBufForUpswitch: 16E3, lockPeriodAfterDownswitch: 16E3 }], Z3a: ["maxStartingVideoVMAF", 110], Qu: ["minStartingVideoVMAF", 1], BT: ["activateSelectStartingVMAF", !1], aaa: ["selectStartingVMAFTDigest", -1], uP: ["selectStartingVMAFMethod", "fallback"], Q9a: ["selectStartingVMAFMethodCurve", {
                                                                                log_p50: [6.0537, -.8612], log_p40: [5.41, -.7576], log_p20: [4.22, -.867], sigmoid_1: [11.0925,
                                                                                    -8.0793]
                                                                            }], JO: ["perFragmentVMAFConfig", { enabled: !1, earlyManifestProcessing: !1 }], lCb: ["disablePtsStartsEvent", !0], uva: ["recordFirstFragmentOnSubBranchCreate", !0], h4a: ["mediaCacheConvertToBinaryData", !1], qsa: ["mediaCacheSaveOneObject", !1], E3a: ["markRequestActiveOnFirstByte", !1], j5: ["earlyAppendSingleChildBranch", !0], wB: ["useNativeDataViewMethods", !0], x4b: ["useCorrectDrainingAmounts", !0], WM: ["enableNewAse", !1], h_: ["useNewApi", !1], VC: ["aseDiagnostics", [{ si: "queue-audit", enabled: !0 }, { si: "task-audit", enabled: !0 },
                                                                            { si: "trace-ShimSession", enabled: !0 }, { si: "trace-engine", enabled: !0 }, { si: "trace-RequestPacer", enabled: !0 }, { si: "trace-BufferStateTracker", enabled: !0 }, { si: "trace-GraphStreamingProcess", enabled: !0 }, { si: "trace-AsePlaygraph", enabled: !0 }, { si: "playgraph-branch-audit", enabled: !0 }, { si: "content-playgraph", enabled: !0 }]], Vub: ["branchDistanceThreshold", 6E4], p8: ["maxAllowedOutstandingRequests", 4], Hsa: ["minStreamableConcurrencyWindow", 3E3], jQb: ["maxStreamableConcurrencyWindow", Infinity], Hxa: ["streamableConcurrencyFactor",
                                                                                .3], eU: ["bufferingConcurrencyWindow", 7800], Cja: ["branchCreationThreshold", 12E4], m5: ["enableDiscontiguousBuffering", !1], una: ["forceImmediateTransitionTypeForTitles", []], tna: ["forceImmediateTransitionExitZone", 0], rUa: ["contiguousBufferMultiplier", 3], pUa: ["contiguousBufferMinimumAudio", 1048576], qUa: ["contiguousBufferMinimumVideo", 8388608], PVb: ["prefetchBudgetInBytes", 0], n8a: ["rebufferRiskHalfLife", 1E4], Oya: ["useBufferSizeLimiter", !1], J4b: ["useStaticBufferSizeLimiter", !1], SVb: ["prefetchWeightBudget",
                                                                                    32], Ksa: ["minimumDownstreamBranchProbability", .075], Pya: ["useExitZones", !0], TVb: ["prefetchWhilePlaying", !0], YVb: ["prefetcherSoftReset", !0], k7a: ["playgraphDefaultWeight", 65520], OBb: ["delayNotificationOfEoS", !1], KQb: ["memDeadlockShouldCheckMemory", !0], JQb: ["memDeadlockOverageThreshold", .9], IQb: ["memDeadlockMaxUtilizationPercentage", .5], rua: ["playerPtsPadding", 1], rX: ["minFragmentVmaf", void 0], l5: ["enableCombinedPlaygraphs", !0], Sya: ["useLegacyFragmentRounding", !1]
                    }; b.Ui = b.Rxb
                }, function (r, b, a) {
                    Object.defineProperties(b,
                        { __esModule: { value: !0 } }); b.sr = b.qr = b.ur = b.uA = b.C1 = void 0; var c = a(2), f = a(118); Object.defineProperties(b, { qr: { enumerable: !0, get: function () { return f.qr } } }); Object.defineProperties(b, { sr: { enumerable: !0, get: function () { return f.sr } } }); Object.defineProperties(b, { uA: { enumerable: !0, get: function () { return f.uA } } }); Object.defineProperties(b, { C1: { enumerable: !0, get: function () { return f.C1 } } }); var k = c.__importDefault(a(6)); r = function (m) {
                            function g(d, h, l, n, q) { return m.call(this, g.console, d, h, l, n, q) || this } c.__extends(g,
                                m); Object.defineProperties(g, { console: { get: function () { return this.I || (this.I = new k.default.Console("MP4", "media|asejs")) }, enumerable: !1, configurable: !0 } }); return g
                        }(f.ur); b.ur = r
                }, function (r, b, a) {
                    function c() { } function f(g, d, h, l, n) { this.debug = g; this.version = d; this.MNb = h; this.aVb = l; this.config = n } Object.defineProperty(b, "__esModule", { value: !0 }); b.xLa = void 0; r = a(1); var k = a(0), m = a(4); f.prototype.LHb = function () { return this.config().Zz }; f.prototype.Pna = function () { return this.config().xSa }; f.prototype.$Za =
                        function () { return (0, m.Nc)(this.config().BVb) }; f.prototype.yZa = function () { return this.config().WOb }; f.prototype.BZa = function () { return this.config().LPb }; c.prototype.Mz = function (g, d, h, l, n) { return new f(g, d, h, l, n) }; a = c; a = r.__decorate([(0, k.R)()], a); b.xLa = a
                }, function (r, b, a) {
                    function c(m) { this.config = m } Object.defineProperty(b, "__esModule", { value: !0 }); b.HMa = void 0; r = a(1); var f = a(0); a = a(13); c.prototype.BWb = function (m, g, d, h) {
                        if (this.config().SZb) {
                            var l = m.metrics; void 0 !== l && l.segment !== l.srcsegment && g.$W.qb.transition({
                                isBranching: h ||
                                    void 0, isPlaygraph: !h || void 0, mid: g.K, xid: g.da, srcxid: d.da, srcmid: d.K, segment: m.position.segmentId, srcsegment: l.srcsegment, srcsegmentduration: l.srcsegmentduration, srcoffset: l.srcoffset, seamlessRequested: l.seamlessRequested, transitionType: l.transitionType, transitionTypeAtRequest: l.transitionTypeAtRequest, nextExitPositionAtRequest: l.nextExitPositionAtRequest, delayToTransition: l.delayToTransition, durationOfTransition: l.durationOfTransition, atRequest: l.atRequest, atTransition: l.atTransition, discard: l.discard
                            })
                        }
                    };
                    var k = c; k = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cd))], k); b.HMa = k
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.ndb = void 0; r = a(0); var c = a(351), f = a(974); b.ndb = new r.dd(function (k) { k(c.hNa).to(f.gNa).aa() }) }, function (r, b, a) {
                    function c(J) { this.mc = J } Object.defineProperty(b, "__esModule", { value: !0 }); b.gNa = void 0; r = a(1); var f = a(0), k = a(80), m = a(31), g = a(25), d = a(7), h = a(99), l = a(214), n = a(260), q = a(975), p = a(261), u = a(90), t = a(423), w = a(976), v = a(265), x = a(83), y = a(16), z = a(120), A = a(266), B =
                        a(432), E = a(13), D = a(433), F = a(434), G = a(35), C = a(267), H = a(435), L = a(66), N = a(39); c.prototype.kla = function (J, Q, K, I, M, O) {
                            return this.mc.get(E.cd)().Qya ? new w.iNa(this.mc.get(d.ub), this.mc.get(v.Rea), this.mc.get(x.$x), this.mc.get(y.bd), this.mc.get(z.gF), this.mc.get(h.Wca), this.mc.get(A.Vda), this.mc.get(B.$Da), this.mc.get(D.YJa), this.mc.get(F.vfa), this.mc.get(F.vfa), this.mc.get(G.ih), this.mc.get(H.FR), this.mc.get(C.gda), this.mc.get(N.ai), I, K) : new q.rFa(this.mc.get(m.oh), this.mc.get(g.pf), this.mc.get(d.ub),
                                this.mc.get(h.Wca), this.mc.get(l.qfa), this.mc.get(p.Bea), this.mc.get(u.Vca), this.mc.get(t.OIa), this.mc.get(n.Lca), J, Q, K, I, M, O, this.mc.get(L.qt).cH)
                        }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.pFa))], a); b.gNa = a
                }, function (r, b, a) {
                    function c(l, n, q, p, u, t, w, v, x, y, z, A, B, E, D, F) {
                        var G = this; this.Vc = l; this.hb = n; this.Zb = p; this.Vu = t; this.qU = w; this.oYa = v; this.config = y; this.Vh = A; this.H = B; this.jNb = F; this.j = z.create(B.K, B.aj, x, E, D, B.Nb, B.id, B.pa); this.j.background = !0; this.log = q.lb("VideoPlayer", this.j); this.N6a =
                            []; this.ended = !1; this.PJ(); this.j.state.addListener(function (C) { C.newValue === k.Mb.je && G.Kb(k.Fa.Oqa, { movieId: B.K }) }); this.j.fb.vj && (this.iM = u.Ozb(this, this.j), this.j.addEventListener(k.ca.WI, function (C) { C = C.position.segmentId; G.gOb !== C && (G.gOb = C, G.Kb(k.Fa.EZb, { segmentId: C })) }))
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.rFa = void 0; var f = a(3), k = a(15), m = a(4), g = a(11), d = a(90), h = a(24); c.prototype.isReady = function () { return this.j.state.value === k.Mb.je }; c.prototype.NZa = function () { return this.j.K };
                    c.prototype.Vz = function () { return this.j.da }; c.prototype.Ln = function () { return this.j.bh }; c.prototype.xq = function () { return this.j.Dj.value }; c.prototype.HW = function () { return this.j.paused.value }; c.prototype.xqa = function () { return this.ended }; c.prototype.Nh = function () { var l = this.j.gU.value; return l ? { networkStalled: !!l.Ns, stalled: !!l.Ns, progress: l.progress, progressRollback: !!l.HWb } : null }; c.prototype.getError = function () { var l = this.j.uh; return l ? l.BJ() : null }; c.prototype.tu = function () { return this.j.mediaTime.value };
                    c.prototype.EYa = function () { var l = (this.l6() || 0) + this.j.DYa(); return Math.min(l, this.Wna()) }; c.prototype.l6 = function () { return this.j.kD() }; c.prototype.Wna = function () { return this.j.Vt.$(m.ja) }; c.prototype.A_a = function () { return this.j.Ys ? { width: this.j.Ys.width, height: this.j.Ys.height } : null }; c.prototype.MV = function () {
                        if (this.j.rp) {
                            for (var l, n = 0; n < this.j.rp.length; n++)for (var q = this.j.rp[n], p = 0; p < q.streams.length; p++) {
                                var u = q.streams[p]; this.hb.li(u.qla) && this.hb.li(u.I4) && this.hb.li(u.H4) && this.hb.li(u.G4) &&
                                    0 < u.I4 && (u = u.G4 / u.H4, l = this.hb.li(l) ? Math.min(l, u) : u)
                            } return l
                        }
                    }; c.prototype.PYa = function () { return this.j.MV() }; c.prototype.nYa = function (l) { var n, q; return (null === (n = this.j.pa) || void 0 === n ? 0 : n.uk.UV("generateScreenshots")) ? this.oYa.nq(this.log, this.j.pa.uk, l) : (n = null === (q = this.j.fb) || void 0 === q ? void 0 : q.ep) ? this.oYa.Vf(this.log, Object.assign({ packageId: n }, l)) : Promise.reject("Unknown packageId") }; c.prototype.WYa = function () { return this.lHb(this.j.VC) }; c.prototype.Mna = function () { var l = this; return this.j.Gg.map(function (n) { return l.tq(n) }) };
                    c.prototype.FZa = function () { var l; return this.VV(this.j.Gg, null === (l = this.j.pa) || void 0 === l ? void 0 : l.Gb.U3a) }; c.prototype.J6 = function (l) { var n = this; return this.cW(l).map(function (q) { return n.tq(q) }) }; c.prototype.soa = function (l) { var n; return this.VV(this.cW(l), null === (n = this.j.pa) || void 0 === n ? void 0 : n.Gb.V3a) }; c.prototype.W$a = function () { return this.jNb || 5 < this.Mna().length || 5 < this.J6().length }; c.prototype.Dqa = function () { return this.j.muted.value }; c.prototype.B_a = function () { return this.j.volume.value };
                    c.prototype.vYa = function () { var l, n = (null === (l = this.px) || void 0 === l ? void 0 : l.Cb) || this.j.Cb.value; return n && this.tq(n) }; c.prototype.epa = function () { var l, n = (null === (l = this.px) || void 0 === l ? void 0 : l.KZ) || this.j.Qb.value; return n && this.tq(n) }; c.prototype.m1a = function () { return !!this.j.background }; c.prototype.v$a = function (l) { this.j.muted.set(!!l) }; c.prototype.J$a = function (l) { this.j.volume.set(this.GSb(l)) }; c.prototype.w$a = function (l) { this.j.playbackRate.set(l) }; c.prototype.No = function () { return this.j.playbackRate.value };
                    c.prototype.g$a = function (l) {
                        var n = this, q, p = this.qV(l); if (p) {
                            if (p.yi) return this.j.Cb.set(p), Promise.resolve(); var u = (l = (null === (q = this.px) || void 0 === q ? void 0 : q.KZ) || this.j.Qb.value) && this.R1a(p, l) ? l : p.cg[0]; q = p.trackId; var t = u.trackId; this.px = { Cb: p, KZ: u }; this.Kb(k.Fa.jm); this.Kb(k.Fa.wv); u !== l && this.Kb(k.Fa.Tl); return this.j.r0a(q, t).then(function (w) { w = w.Cb; n.px = void 0; n.j.Cb.set(w) }).catch(function (w) {
                                n.px = void 0; w = n.Vc.$d(w); n.log.error(w); n.close(n.Vh(f.N.uK, {
                                    ma: f.M.Oda, yb: w, BH: {
                                        pLb: p.trackId,
                                        s0a: p.hf, qLb: u.trackId, t0a: u.hf
                                    }
                                }))
                            })
                        } this.log.error("Invalid setAudioTrack call"); return Promise.reject(Error("Invalid setAudioTrack call"))
                    }; c.prototype.Ywa = function (l) {
                        var n = this, q, p = (null === (q = this.px) || void 0 === q ? void 0 : q.Cb) || this.j.Cb.value; if (null !== p) {
                            var u = p.cg; q = {}; for (var t = 0; t < u.length; q = { dt: q.dt }, t++) {
                                q.dt = u[t]; if (!l && null === q.dt) return this.j.Qb.set(null), Promise.resolve(); if (this.tq(q.dt) === l) {
                                    if (q.dt.yi) return this.log.info("Setting Timed Text, profile: " + q.dt.profile), this.j.Qb.set(q.dt),
                                        Promise.resolve(); l = p.trackId; u = q.dt.trackId; this.px = { Cb: p, KZ: q.dt }; this.Kb(k.Fa.Tl); return this.j.r0a(l, u).then(function (w) { w = w.KZ; n.px = void 0; n.j.Qb.set(w) }).catch(function (w) { return function (v) { n.px = void 0; v = n.Vc.$d(v); n.log.error(v); n.close(n.Vh(f.N.uK, { ma: f.M.Oda, yb: v, BH: { pLb: p.trackId, s0a: p.hf, qLb: w.dt.trackId, t0a: w.dt.hf } })) } }(q))
                                }
                            }
                        } this.log.error("Invalid setTextTrack call"); return Promise.reject(Error("Invalid setTextTrack call"))
                    }; c.prototype.Lwa = function (l) { this.j.background = l }; c.prototype.OP =
                        function () { this.j.OP() }; c.prototype.dba = function (l) { this.j.dba(l) }; c.prototype.nk = function (l) { return this.j.nk(l) }; c.prototype.XZa = function () { return this.j.fb }; c.prototype.lx = function () { this.j.lx() }; c.prototype.tI = function (l) { this.j.tI(l) }; c.prototype.kW = function (l, n, q) { return this.j.kW(l, n, q) }; c.prototype.Bia = function (l, n) { this.j.addEventListener(l, n, void 0) }; c.prototype.addEventListener = function (l, n, q) { this.Zb.addListener(l, n, q) }; c.prototype.removeEventListener = function (l, n) {
                            this.Zb.removeListener(l,
                                n)
                        }; c.prototype.PO = function () { }; c.prototype.load = function () { var l = this; this.loaded || (this.loaded = !0, this.j.load(function (n, q) { try { l.Kb(k.Fa.Q2a, void 0, !0), n.pa && (n.pa.Gb.wba && l.Kb(k.Fa.y5b, n.pa.Gb.wba, !0), n.pa.Gb.zn && l.Kb(k.Fa.DZb, { segmentMap: n.pa.Gb.zn }, !0)), q({ ga: !0 }) } catch (p) { q({ ma: f.M.ci, yb: l.Vc.$d(p) }) } })) }; c.prototype.close = function (l) { var n = this; this.ETa || (this.ETa = new Promise(function (q) { l ? n.j.GG(l, q) : n.j.close(q) })); return this.ETa }; c.prototype.play = function () {
                            this.j.oi ? this.j.fireEvent(k.ca.E9a) :
                                (this.load(), this.j.paused.value && (this.j.paused.set(!1), this.j.fireEvent(k.ca.Zya)))
                        }; c.prototype.pause = function () { this.load(); this.j.paused.value || (this.j.paused.set(!0), this.j.fireEvent(k.ca.adb)) }; c.prototype.seek = function (l, n, q, p) { n = void 0 === n ? k.Ce.ly : n; this.j.Kf ? this.j.Kf.seek(l, n, q, p) : this.j.Qt = l }; c.prototype.$6a = function (l) { return this.iM ? (this.log.trace("Playing a segment", l), this.iM.play(l)) : Promise.resolve() }; c.prototype.Z7a = function (l) {
                            return this.iM ? (this.log.trace("Queueing a segment",
                                l), this.iM.As(l)) : Promise.resolve()
                        }; c.prototype.Fi = function (l, n) { return this.iM ? (this.log.trace("Updating next segment weights", l, n), this.iM.Fi(l, n)) : Promise.resolve() }; c.prototype.hW = function () { var l = this.j.ho.hW(); return { bounds: l.$T, margins: l.qs, size: l.size, visibility: l.visibility } }; c.prototype.FP = function (l) { var n = l.bounds, q = l.margins, p = l.size; l = l.visibility; this.j.NZ && (n && this.j.NZ.Zwa(n), q && this.j.NZ.$wa(q), "boolean" === typeof l && this.j.NZ.axa(l)); this.j.ho && p && this.j.ho.J_b(p) }; c.prototype.bxa =
                            function (l) { this.j.Um = l }; c.prototype.x_a = function (l) { return this.j.qB && this.j.qB.JHb(l) || null }; c.prototype.sYa = function () { return this.Vc.mO({ playerver: this.config.version, jssid: this.config.MNb, groupName: this.config.LHb(), xid: this.j.da, pbi: this.j.index }, this.config.aVb, { prefix: "pi_" }) }; c.prototype.P0a = function (l) { this.j.Pd(f.N.XCa, f.M.wl, l) }; c.prototype.M2a = function (l, n, q, p) { if (!this.hb.tRa(l)) throw Error("invalid url"); this.N6a.push({ url: l, name: n, mub: q, options: p }); this.K7a() }; c.prototype.Voa = function () {
                                var l =
                                    {}, n = this.j.xZ; try {
                                        if (this.j.uh && (l.errorCode = this.j.uh.UU, l.errorType = n ? "endplay" : "startplay"), l.playdelay = (0, h.Wf)(this.j.hU()), l.xid = this.j.da, this.j.pa && this.hb.tn(this.j.pa.Gb.ep) && (l.packageId = Number(this.j.pa.Gb.ep)), l.auth = this.j.BGb(), n) {
                                            l.totaltime = this.j.Ol ? this.Lo(this.j.Ol.CN()) : 0; l.abrdel = this.j.Ol ? this.j.Ol.Ona() : 0; var q = this.j.Kf, p = q ? q.nH() : null; this.hb.li(p) && (l.totdfr = p); p = q ? q.LV() : null; this.hb.li(p) && (l.totcfr = p); var u = q ? q.XHb() : null; u && (l.rbfrs_decoder = u.N4, l.rbfrs_network = u.h9);
                                            l.rbfrs_delay = this.j.Ol ? this.j.Ol.sqa : 0; l.init_vbr = this.j.u7; var t = this.tH(); this.hb.SC(t) && (l.pdltime = t); var w = this.j.Td.value, v = w && w.stream; v && (l.vbr = v.bitrate, l.vdlid = v.Dc); l.bufferedTime = this.j.DYa()
                                        }
                                    } catch (x) { this.log.error("error capturing session summary", x) } return l
                            }; c.prototype.YM = function (l) {
                                this.j.fb.ao && (this.j.fb.ao.userEngageAction = 1); return this.hb.li(this.j.mediaTime.value) ? (l = Object.assign(Object.assign({}, this.Vu.create(this.j)), { action: l }), this.qU(d.Ap.YM).nq(this.log, this.j.pa.uk,
                                    l).then(function () { return { success: !0 } }).catch(function (n) { return { success: !1, errorCode: n.code, errorSubCode: n.jd, errorExternalCode: n.Kg, errorData: n.data, errorDetails: n.details } })) : Promise.resolve({ success: !1 })
                            }; c.prototype.lHb = function (l) { return { register: l.register.bind(l), notifyUpdated: l.w5a.bind(l), getModel: l.LZa.bind(l), getGroups: l.RV.bind(l), addEventListener: l.addEventListener.bind(l), removeEventListener: l.removeEventListener.bind(l), getTime: l.getTime.bind(l) } }; c.prototype.tq = function (l) {
                                var n =
                                    l.Xua = l.Xua || { trackId: l.trackId, bcp47: l.hf, displayName: l.displayName, trackType: l.hj, rawTrackType: l.xx, channels: l.channels }; this.Iqa(l) && (n.isNative = l.isNative, n.surroundFormatLabel = l.CZ); this.Jqa(l) && (n.isNoneTrack = l.Vo(), n.isForcedNarrative = l.On(), n.isImageBased = l.sk); n.subType = l.qJ; n.variant = l.variant; return n
                            }; c.prototype.Iqa = function (l) { return "undefined" !== typeof l.isNative }; c.prototype.Jqa = function (l) { return "undefined" !== typeof l.Vo && "undefined" !== typeof l.On }; c.prototype.qV = function (l) {
                                var n =
                                    this; return l && this.j.Gg.find(function (q) { return n.tq(q) === l })
                            }; c.prototype.cW = function (l) { var n, q; l = this.qV(l) || (null === (n = this.px) || void 0 === n ? void 0 : n.Cb) || this.j.Cb.value; return null !== (q = null === l || void 0 === l ? void 0 : l.cg) && void 0 !== q ? q : [] }; c.prototype.VV = function (l, n) { var q = l.length - 1; if ("number" !== typeof n) return q; l = l.findIndex(function (p) { return p.cc > n }); return -1 === l ? q : l - 1 }; c.prototype.R1a = function (l, n) { return 0 <= l.cg.indexOf(n) }; c.prototype.GSb = function (l) { return 0 <= l ? 1 >= l ? l : 1 : 0 }; c.prototype.Lo =
                                function (l) { return this.hb.li(l) ? (l / 1E3).toFixed(0) : "" }; c.prototype.Kb = function (l, n, q) { n = n || {}; n.target = this; this.Zb.Gc(l, n, !q) }; c.prototype.PJ = function () {
                                    var l = this; this.j.addEventListener(k.ca.Iaa, function () { l.Kb(k.Fa.fq) }); this.j.addEventListener(k.ca.mcb, function () { l.Kb(k.Fa.lcb) }); this.j.addEventListener(k.ca.C8, function () { l.Kb(k.Fa.Kja) }); this.j.addEventListener(k.ca.Ck, function () { l.Kb(k.Fa.Kja) }); this.j.addEventListener(k.ca.KN, function (n) { l.Kb(k.Fa.KN, { errorCode: n }) }); this.j.addEventListener(k.ca.oja,
                                        function () { l.Kb(k.Fa.hSa) }); this.j.addEventListener(k.ca.oi, function (n) { l.Kb(k.Fa.O3, n) }); this.j.addEventListener(k.ca.Pbb, function () { l.Kb(k.Fa.M3); l.Kb(k.Fa.wv) }); this.j.Dj.addListener(function () { l.Kb(k.Fa.vua) }); this.j.paused.addListener(function () { l.Kb(k.Fa.H6a) }); this.j.muted.addListener(function () { l.Kb(k.Fa.R4a) }); this.j.volume.addListener(function () { l.Kb(k.Fa.udb) }); this.j.sb.addListener(function () { l.ucb() }); this.j.state.addListener(function () { l.ucb() }); this.j.gU.addListener(function (n) {
                                            l.XOb ||
                                                l.j.state.value != k.Mb.je || n.newValue || (l.XOb = !0, l.Kb(k.Fa.loaded), setTimeout(function () { l.log.debug.bind(l.log, "summary ", l.Voa()) })); l.Kb(k.Fa.kM)
                                        }); this.j.Cb.addListener(function () { l.Kb(k.Fa.jm); l.Kb(k.Fa.wv); setTimeout(function () { var n = l.j.Cb.value, q = l.j.Qb.value; null === n || null === q || l.R1a(n, q) || (l.log.info("Changing timed text track to match audio track"), l.j.Qb.set(n.cg[0])) }, 0) }); this.j.Qb.addListener(function (n) { n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || l.Kb(k.Fa.Tl) });
                                    this.j.addEventListener(k.ca.wv, function () { l.Kb(k.Fa.wv) }); this.j.addEventListener(k.ca.ZZ, function () { l.Kb(k.Fa.ZZ) }); this.j.state.addListener(function (n) { switch (n.newValue) { case k.Mb.je: l.Kb(k.Fa.nWa); l.Kb(k.Fa.pdb); l.Kb(k.Fa.M3); l.Kb(k.Fa.wv); l.Kb(k.Fa.P2a); l.K7a(); l.E5b(); break; case k.Mb.CLOSING: l.j.uh && l.Kb(k.Fa.j1a, l.j.uh); break; case k.Mb.CLOSED: l.Kb(k.Fa.closed), l.Zb.Lh() } })
                                }; c.prototype.E5b = function () {
                                    var l = this; this.j.ho.addEventListener("showsubtitle", function (n) { l.Kb(k.Fa.gxa, n, !0) }); this.j.ho.addEventListener("removesubtitle",
                                        function (n) { l.Kb(k.Fa.Hva, n, !0) })
                                }; c.prototype.K7a = function () { if (this.j.state.value == k.Mb.je) { for (var l, n, q; n = this.N6a.shift();)l = this.j.ho.tia(n.url, n.name, n.options), n.mub && (q = l); q && this.j.Qb.set(q) } }; c.prototype.ucb = function () { var l = this.j.state.value == k.Mb.je && this.j.sb.value == k.Xa.xp; this.ended !== l && (this.ended = l, this.j.rG("Ended changed: " + l), (l || this.j.state.value === k.Mb.CLOSING) && this.Kb(k.Fa.TWa)) }; c.prototype.tH = function () {
                                    try {
                                        var l = /playercore.*js/, n = g.Lv.getEntriesByType("resource").filter(function (q) {
                                            return null !==
                                                l.exec(q.name)
                                        }); if (n && 0 < n.length) return JSON.stringify(Math.round(n[0].duration))
                                    } catch (q) { }
                                }; b.rFa = c
                }, function (r, b, a) {
                    function c(v, x, y, z, A, B, E, D, F, G, C, H, L, N, J, Q, K) {
                        var I = this, M, O; this.iY = x; this.cA = y; this.ya = z; this.wk = A; this.Zb = B; this.eX = E; this.yVb = D; this.e7a = F; this.pba = G; this.L3 = C; this.Ba = H; this.aO = L; this.config = N; this.dM = J; this.H = Q; this.Vh = K; this.YW = new q.ec(!0); this.Dj = new q.ec(!1); this.Ns = new q.ec(!1); this.ended = new q.ec(!1); this.c4 = new q.ec(0); this.sb = new q.ec(k.Xa.Pe); this.jP = new q.ec(void 0);
                        this.loaded = this.xZ = this.closed = !1; this.D7a = function (P, S) { return function (U) { var Z = U.newValue, ia = Z.KC; U = Z.Dl; var ya = Z.stream; Z = P.value; var na = Z.streams.find(function (ra) { return ra.bitrate === ya.stream.bitrate }), X = I.xa.uj.find(function (ra) { return ra.id === ia }); I.log.info("Presenting " + na.type + " request with bitrate " + na.bitrate + ", track " + (Z.trackId + " [" + U.startTime + "..." + U.endTime + "]")); S.set({ stream: na, Dl: U, uc: X }) } }; this.Jab = function (P, S, U) {
                            return function (Z) {
                                var ia = P.value, ya = ia.streams.find(function (na) {
                                    return na.bitrate ===
                                        Z.newValue.stream.bitrate
                                }); I.log.info("Streaming " + ya.type + " stream with bitrate " + ya.bitrate + ", track " + ia.trackId); S.set(ya, { DG: Z.rm.DG, WT: void 0 }); ia = I.xa.uj.filter(function (na) { return na.id === Z.rm.KC })[0]; U.set(ia)
                            }
                        }; this.PXa = new Set; this.log = v.lb("HLSVideoPlayer"); this.ba = (0, m.createElement)("VIDEO", "position:absolute;width:100%;height:100%"); this.ba.playsInline = this.config.q7a; this.xa = this.iY(g.Ov.index++, Q.K, Q.id, null !== (M = Q.Nb) && void 0 !== M ? M : {}, this.cA.nz(), this.ya.Rb(), !1, void 0, function () { return I.tu() });
                        this.xa.mediaTime.set(null !== (O = this.xa.Qt) && void 0 !== O ? O : 0); this.PJ(); this.Rob = this.aO.create(this); this.Rob; this.load()
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.iNa = void 0; var f = a(43), k = a(15), m = a(28), g = a(68), d = a(105), h = a(60), l = a(3), n = a(63), q = a(82), p = a(4), u = a(18), t = a(106), w = a(24); c.prototype.R1b = function () { return !!this.ba.canPlayType && ("" !== this.ba.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ba.canPlayType("audio/mpegurl")) }; c.prototype.PJ = function () {
                        var v = this; this.ba.addEventListener("loadedmetadata",
                            function () { v.Kb(k.Fa.Q2a); v.Kb(k.Fa.P2a); v.Kb(k.Fa.jm); v.Kb(k.Fa.M3); v.Kb(k.Fa.Tl); v.Kb(k.Fa.wv) }); this.ba.addEventListener("error", function (x) { x = v.Vh(l.N.qIa, x); v.close(x) }); this.ba.addEventListener("timeupdate", function () { v.ended.set(!1); v.xa.mediaTime.set(v.tu()); v.Yla(); v.Kb(k.Fa.fq); v.Kb(k.Fa.lcb) }); this.ba.addEventListener("durationchange", function () { v.Kb(k.Fa.nWa) }); this.ba.addEventListener("resize", function () { v.Kb(k.Fa.pdb) }); this.ba.addEventListener("playing", function () {
                                v.Yla(); v.Ns.set(!1);
                                v.Dj.set(!0); v.ended.set(!1); v.sb.set(k.Xa.Kc)
                            }); this.ba.addEventListener("pause", function () { v.Dj.set(!1); v.Ns.set(!1); v.sb.set(k.Xa.mh) }); this.ba.addEventListener("waiting", function () { v.sb.set(k.Xa.Pe) }); this.ba.addEventListener("stalled", function () { v.Ns.set(!0) }); this.ba.addEventListener("seeking", function () { v.Ns.set(!1); v.jP.set(v.xa.mediaTime.value); v.sb.set(k.Xa.Pe) }); this.ba.addEventListener("seeked", function () {
                                void 0 !== v.jP.value && (v.xa.Ol.ita(v.jP.value, v.tu()), v.jP.set(void 0)); v.sb.set(v.xq() ?
                                    k.Xa.Kc : k.Xa.mh)
                            }); this.ba.addEventListener("progress", function () { v.Kb(k.Fa.Kja); v.Q3b() }); this.ba.addEventListener("ended", function () { v.sb.set(k.Xa.xp); v.Ns.set(!1); v.Dj.set(!1); v.ended.set(!0) }); this.ba.addEventListener("volumechange", function () { v.Kb(k.Fa.udb); v.Kb(k.Fa.R4a) }); this.Dj.addListener(function () { v.Kb(k.Fa.vua); v.Kb(k.Fa.H6a); v.qM() }); this.c4.addListener(function () { v.Kb(k.Fa.kM) }); this.Ns.addListener(function () { v.Kb(k.Fa.kM) }); this.YW.addListener(function () { v.qM() }); this.ended.addListener(function () { v.Kb(k.Fa.TWa) });
                        this.xa.playbackRate.addListener(function (x) { v.ba.playbackRate = x.newValue })
                    }; c.prototype.qM = function () { !this.xq() || this.YW.value || this.xZ || this.gSa || (this.xZ = !0, this.xa.JH = this.Ba.eZ, this.e7a.lp(this, this.xa)) }; c.prototype.hU = function () { return this.hY - (this.xa.aj.$(p.ja) + this.ya.oA.$(p.ja)) }; c.prototype.lH = function () { var v = this.xa.fb.sB; return (0, u.Ea)(v) ? v : this.xa.aj.$(p.ja) + this.ya.oA.$(p.ja) }; c.prototype.Wja = function () { return this.Ba.Ie.$(p.ja) - this.lH() }; c.prototype.Yja = function () {
                        return this.hY -
                            this.lH()
                    }; c.prototype.Q3b = function () { var v = this.ba.readyState <= n.yp.I0.HAVE_METADATA ? 0 : this.ba.readyState <= n.yp.I0.HAVE_CURRENT_DATA ? .5 : 1; 1 === v && (this.hY = this.Ba.Ie.$(p.ja), this.YW.set(!1), this.fna(k.Fa.loaded)); this.c4.set(v) }; c.prototype.Yla = function () { var v = this.tu(); this.pba.j$a(v); this.L3.j$a(v) }; c.prototype.dZ = function () {
                        var v = this; this.xa.Ld("ats"); return this.wk.sN({ da: this.xa.da, fb: this.xa.fb, S: this.xa.K, pu: d.bn.z1, $f: h.ei.Fp }).then(function (x) {
                            function y(A) {
                                var B = A; A && A.Vo() && !A.On() &&
                                    (B = null); v.xa.Mi.set(B)
                            } v.xa.Ld("at"); var z = v.eX.create({}).C6a(x); v.xa.pa = x; v.xa.Uc = z; v.ba.audioTracks.addEventListener("addtrack", function () { v.Dcb(v.xa.Cb.value) }); v.ba.audioTracks.addEventListener("change", function () {
                                for (var A, B, E = {}, D = da(v.ba.audioTracks), F = D.next(); !F.done; E = { uQ: E.uQ }, F = D.next())E.uQ = F.value, E.uQ.enabled && E.uQ.label !== (null === (A = v.xa.Cb.value) || void 0 === A ? void 0 : A.displayName) && (!1, F = null !== (B = v.xa.Gg.find(function (G) { return function (C) { return C.displayName === G.uQ.label } }(E))) &&
                                    void 0 !== B ? B : null, v.xa.Cb.set(F))
                            }); v.xa.Cb.addListener(function (A) { v.Dcb(A.newValue); v.Kb(k.Fa.jm); v.Kb(k.Fa.wv) }); v.ba.textTracks.addEventListener("addtrack", function () { v.Ecb(v.xa.Qb.value) }); v.ba.textTracks.addEventListener("change", function () {
                                for (var A, B, E = v.ba.textTracks, D = {}, F = 0; F < E.length; D = { vQ: D.vQ }, F++)if (D.vQ = E[F], "showing" === D.vQ.mode && D.vQ.label !== (null === (A = v.xa.Qb.value) || void 0 === A ? void 0 : A.displayName)) {
                                    !1; var G = null !== (B = v.xa.cg.find(function (C) {
                                        return function (H) {
                                            return H.displayName ===
                                                C.vQ.label
                                        }
                                    }(D))) && void 0 !== B ? B : null; v.xa.Qb.set(G); y(G)
                                }
                            }); v.xa.Qb.set(z.LU); y(z.LU); v.xa.Qb.addListener(function (A) { v.Ecb(A.newValue); v.Kb(k.Fa.Tl) }); return v.yVb.ri(x, function (A) { return v.xa.Ld(A) })
                        }).then(function (x) {
                            var y = x.IPb, z = x.jwb; x = x.g1b; var A = x.audio, B = x.tVa, E = x.video, D = v.xa, F = D.rh, G = D.Cb, C = D.Gg, H = D.he, L = D.Af; x = D.Qt; var N = D.Td, J = D.nf, Q = D.Ol; D = D.Uc; D.Gg = C.filter(function (M) { return A.find(function (O) { return O.track.tg === M.trackId }) }); L.set(D.V4); G.set(C.find(function (M) {
                                return M.trackId ===
                                    B
                            })); D = E[0]; var K = D.stream; C = A.find(function (M) { return M.track.tg === B }); var I = C.stream; v.AW = K.bitrate; v.pba.Fua.addListener(v.D7a(L, N)); v.pba.Lxa.addListener(v.Jab(L, H, v.xa.uc[f.Yb.Wa.Pb])); H = z.get(K.Qr).UO.bq; v.pba.Ab(E, D, H); v.L3.Fua.addListener(v.D7a(G, J)); v.L3.Lxa.addListener(v.Jab(G, F, v.xa.uc[f.Yb.Wa.$b])); z = z.get(I.Qr).UO.bq; v.L3.Ab(A, C, z); v.ba.src = y; v.ba.currentTime = (null !== x && void 0 !== x ? x : 0) / 1E3; v.ba.load(); Q.ita(0, x && 0 < x ? x : 1)
                        }).catch(function (x) {
                            var y; if (x instanceof Error) {
                                var z = (0, w.$d)(x);
                                v.log.error("uncaught exception", x, z)
                            } v.close(v.Vh(null !== (y = x.code) && void 0 !== y ? y : l.N.WMa, x))
                        })
                    }; c.prototype.Ecb = function (v) { for (var x = this.ba.textTracks, y = 0; y < x.length; y++) { var z = x[y]; z.label === v.displayName && "showing" !== z.mode && (!1, z.mode = "showing"); z.label !== v.displayName && "showing" === z.mode && (!1, z.mode = "hidden") } }; c.prototype.Dcb = function (v) {
                        for (var x = da(this.ba.audioTracks), y = x.next(); !y.done; y = x.next())y = y.value, y.label !== v.displayName || y.enabled || (!1, y.enabled = !0), y.label !== v.displayName &&
                            y.enabled && (!1, y.enabled = !1)
                    }; c.prototype.tu = function () { return Math.floor(1E3 * this.ba.currentTime) }; c.prototype.l6 = function () { return this.tu() }; c.prototype.Wna = function () { return Math.floor(1E3 * this.ba.duration) }; c.prototype.NZa = function () { return this.H.K }; c.prototype.Vz = function () { return this.xa.da }; c.prototype.Ln = function () { return this.ba }; c.prototype.isReady = function () { return null === this.Nh() }; c.prototype.xq = function () { return this.Dj.value }; c.prototype.HW = function () { return !this.Dj.value }; c.prototype.xqa =
                        function () { return this.ba.ended }; c.prototype.Nh = function () { return 1 !== this.c4.value ? { stalled: this.Ns.value, progress: this.c4.value, progressRollback: !1 } : null }; c.prototype.getError = function () { var v, x; return null !== (x = null === (v = this.uh) || void 0 === v ? void 0 : v.BJ()) && void 0 !== x ? x : null }; c.prototype.EYa = function () { return 1 === this.ba.buffered.length ? 1E3 * this.ba.buffered.end(0) : null }; c.prototype.A_a = function () { return { width: this.ba.videoWidth, height: this.ba.videoHeight } }; c.prototype.Dqa = function () { return this.ba.muted };
                    c.prototype.B_a = function () { return this.ba.volume }; c.prototype.v$a = function (v) { this.ba.muted = v }; c.prototype.J$a = function (v) { this.ba.volume = v }; c.prototype.addEventListener = function (v, x, y) { this.Zb.addListener(v, x, y) }; c.prototype.removeEventListener = function (v, x) { this.Zb.removeListener(v, x) }; c.prototype.load = function () { var v = this; this.loaded || (this.loaded = !0, this.dM.$N(function (x) { v.R1b() ? x.ga ? v.dZ() : v.close(v.Vh(x.errorCode || l.N.qda, x)) : v.close(v.Vh(l.N.Fhb)) })) }; c.prototype.close = function (v) {
                        if (this.closed) return Promise.resolve();
                        this.xa.mediaTime.set(this.tu()); this.Yla(); this.xa.uU = this.l6(); this.closed = !0; this.ba.removeAttribute("src"); this.ba.load(); null === v || void 0 === v ? void 0 : v.x$a(!this.YW.value); (this.uh = v) && this.Kb(k.Fa.error, v.BJ()); this.Kb(k.Fa.closed); return this.e7a.zZ(this.xa)
                    }; c.prototype.play = function () {
                        var v = this, x = this.ba.play(); this.gSa = !1; x && x.then(function () { v.fna(k.Fa.hSa) }).catch(function (y) {
                            v.Kb(k.Fa.kM); "NotAllowedError" === y.name && (v.log.warn("Playback is blocked by the browser settings", y), v.gSa = !0,
                                v.oi = !0, v.fna(k.Fa.O3, { player: { play: function () { return v.play() } } }))
                        })
                    }; c.prototype.Kb = function (v, x, y) { x = x || {}; x.target = this; this.Zb.Gc(v, x, !y) }; c.prototype.fna = function (v, x) { this.PXa.has(v) || (this.PXa.add(v), this.Kb(v, x, void 0)) }; c.prototype.pause = function () { this.ba.pause() }; c.prototype.seek = function (v) { this.ba.currentTime = v / 1E3 }; c.prototype.P0a = function (v) { this.close(this.Vh(l.N.XCa, l.M.wl, v)) }; c.prototype.No = function () { return this.xa.playbackRate.value }; c.prototype.w$a = function (v) { this.xa.playbackRate.set(v) };
                    c.prototype.Mna = function () { var v = this; return this.xa.Gg.map(function (x) { return v.tq(x) }) }; c.prototype.J6 = function (v) { var x = this; return this.cW(v).map(function (y) { return x.tq(y) }) }; c.prototype.vYa = function () { var v = this.xa.Cb.value; return v && this.tq(v) }; c.prototype.epa = function () { var v = this.xa.Qb.value; return v && this.tq(v) }; c.prototype.g$a = function (v) { if ((v = this.qV(v)) && v.yi) return this.xa.Cb.set(v), Promise.resolve(); this.log.error("Invalid setAudioTrack call"); return Promise.reject(Error("Invalid setAudioTrack call")) };
                    c.prototype.Ywa = function (v) { var x = this, y = this.xa.cg.find(function (z) { return x.tq(z) === v }); if (y && y.yi) return this.xa.Qb.set(y), this.xa.Mi.set(y), Promise.resolve(); this.log.error("Invalid setTextTrack call"); return Promise.reject(Error("Invalid setTextTrack call")) }; c.prototype.FZa = function () { var v; return this.VV(this.xa.Gg, null === (v = this.xa.pa) || void 0 === v ? void 0 : v.Gb.U3a) }; c.prototype.soa = function (v) { var x; return this.VV(this.cW(v), null === (x = this.xa.pa) || void 0 === x ? void 0 : x.Gb.V3a) }; c.prototype.tq =
                        function (v) { var x = v.Xua = v.Xua || { trackId: v.trackId, bcp47: v.hf, displayName: v.displayName, trackType: v.hj, rawTrackType: v.xx, channels: v.channels }; this.Iqa(v) && (x.isNative = v.isNative, x.surroundFormatLabel = v.CZ); this.Jqa(v) && (x.isNoneTrack = v.Vo(), x.isForcedNarrative = v.On(), x.isImageBased = v.sk); x.subType = v.qJ; x.variant = v.variant; return x }; c.prototype.Iqa = function (v) { return "undefined" !== typeof v.isNative }; c.prototype.Jqa = function (v) { return "undefined" !== typeof v.Vo && "undefined" !== typeof v.On }; c.prototype.qV =
                            function (v) { var x = this; return v && this.xa.Gg.find(function (y) { return x.tq(y) === v }) }; c.prototype.cW = function (v) { var x; v = this.qV(v) || this.xa.Cb.value; return null !== (x = null === v || void 0 === v ? void 0 : v.cg) && void 0 !== x ? x : [] }; c.prototype.VV = function (v, x) { var y = v.length - 1; if ("number" !== typeof x) return y; v = v.findIndex(function (z) { return z.cc > x }); return -1 === v ? y : v - 1 }; c.prototype.dba = function (v) { this.xa.fb = (0, t.K8)(this.xa.fb, v) }; c.prototype.nk = function (v) {
                                if (v !== this.xa.ha) throw !1, Error("Unknown segmentId " + v);
                                return this.xa
                            }; c.prototype.XZa = function () { return this.xa.fb }; c.prototype.Bia = function () { !1 }; c.prototype.lx = function () { !1 }; c.prototype.tI = function () { !1 }; c.prototype.kW = function () { !1; return Promise.reject() }; c.prototype.Voa = function () { return {} }; c.prototype.MV = function () { }; c.prototype.PYa = function () { }; c.prototype.sYa = function () { return {} }; c.prototype.Lwa = function () { }; c.prototype.OP = function () { }; c.prototype.m1a = function () { return !1 }; c.prototype.WYa = function () {
                                return {
                                    addEventListener: function () { }, removeEventListener: function () { },
                                    getGroups: function () { return [] }, register: function () { }, notifyUpdated: function () { }, getModel: function () { }, getTime: function () { return 0 }
                                }
                            }; c.prototype.YM = function () { !1; return Promise.resolve({ success: !0 }) }; c.prototype.x_a = function () { !1 }; c.prototype.hW = function () { !1 }; c.prototype.FP = function () { !1 }; c.prototype.bxa = function () { !1 }; c.prototype.M2a = function () { !1 }; c.prototype.nYa = function () { !1; return Promise.reject() }; c.prototype.$6a = function () { !1; return Promise.reject() }; c.prototype.Z7a = function () { !1; return Promise.reject() };
                    c.prototype.Fi = function () { !1; return Promise.reject() }; c.prototype.PO = function () { !1 }; c.prototype.W$a = function () { return !1 }; b.iNa = c
                }, function (r, b, a) { b = a(150); var c = a(978); a = b(function (f, k, m) { return c(function (g, d, h) { return f(d, h) }, k, m) }); r.exports = a }, function (r, b, a) { b = a(150); var c = a(424), f = a(979); a = b(function h(m, g, d) { return f(function (l, n, q) { return c(n) && c(q) ? h(m, n, q) : m(l, n, q) }, g, d) }); r.exports = a }, function (r, b, a) {
                    b = a(150); var c = a(262); a = b(function (f, k, m) {
                        var g = {}, d; for (d in k) c(d, k) && (g[d] = c(d, m) ? f(d,
                            k[d], m[d]) : k[d]); for (d in m) c(d, m) && !c(d, g) && (g[d] = m[d]); return g
                    }); r.exports = a
                }, function (r, b, a) { b = a(425); var c = a(989); a = a(999); a = c([b, a]); r.exports = a }, function (r) { r.exports = function (b) { return "function" === typeof b["@@transducer/step"] } }, function (r) { r.exports = function (b, a) { for (var c = 0, f = a.length, k = []; c < f;)b(a[c]) && (k[k.length] = a[c]), c += 1; return k } }, function (r, b, a) {
                    b = a(129); var c = a(427), f = a(984); a = b(function (k) {
                        return c(k) ? !0 : !k || "object" !== typeof k || f(k) ? !1 : 1 === k.nodeType ? !!k.length : 0 === k.length ? !0 :
                            0 < k.length ? k.hasOwnProperty(0) && k.hasOwnProperty(k.length - 1) : !1
                    }); r.exports = a
                }, function (r) { r.exports = function (b) { return "[object String]" === Object.prototype.toString.call(b) } }, function (r) { var b = function () { function a(c) { this.f = c } a.prototype["@@transducer/init"] = function () { throw Error("init not implemented on XWrap"); }; a.prototype["@@transducer/result"] = function (c) { return c }; a.prototype["@@transducer/step"] = function (c, f) { return this.f(c, f) }; return a }(); r.exports = function (a) { return new b(a) } }, function (r,
                    b, a) { var c = a(264); b = a(53)(function (f, k) { return c(f.length, function () { return f.apply(k, arguments) }) }); r.exports = b }, function (r, b, a) { b = a(53); var c = a(428), f = function () { function k(m, g) { this.w_ = g; this.f = m } k.prototype["@@transducer/init"] = c.Ab; k.prototype["@@transducer/result"] = c.result; k.prototype["@@transducer/step"] = function (m, g) { return this.f(g) ? this.w_["@@transducer/step"](m, g) : m }; return k }(); a = b(function (k, m) { return new f(k, m) }); r.exports = a }, function (r, b, a) {
                        var c = a(262), f = Object.prototype.toString;
                        r.exports = function () { return "[object Arguments]" === f.call(arguments) ? function (k) { return "[object Arguments]" === f.call(k) } : function (k) { return c("callee", k) } }
                    }, function (r, b, a) { b = a(129); var c = a(990); a = b(function (f) { return c(function () { return Array.prototype.slice.call(arguments, 0) }, f) }); r.exports = a }, function (r, b, a) {
                        b = a(53); var c = a(430), f = a(431), k = a(992), m = a(993), g = a(998); a = b(function (d, h) {
                            return f(g(k, 0, m("length", h)), function () {
                                var l = arguments, n = this; return d.apply(n, c(function (q) { return q.apply(n, l) },
                                    h))
                            })
                        }); r.exports = a
                    }, function (r, b, a) { function c(m, g, d) { return function () { for (var h = [], l = 0, n = m, q = 0; q < g.length || l < arguments.length;) { if (q < g.length && (!k(g[q]) || l >= arguments.length)) var p = g[q]; else p = arguments[l], l += 1; h[q] = p; k(p) || --n; q += 1 } return 0 >= n ? d.apply(this, h) : f(n, c(m, h, d)) } } var f = a(264), k = a(179); r.exports = c }, function (r, b, a) { b = a(53)(function (c, f) { return f > c ? f : c }); r.exports = b }, function (r, b, a) { b = a(53); var c = a(994), f = a(996); a = b(function (k, m) { return c(f(k), m) }); r.exports = a }, function (r, b, a) {
                        b = a(53);
                        var c = a(426), f = a(430), k = a(263), m = a(995), g = a(431), d = a(429); a = b(c(["fantasy-land/map", "map"], m, function (h, l) { switch (Object.prototype.toString.call(l)) { case "[object Function]": return g(l.length, function () { return h.call(this, l.apply(this, arguments)) }); case "[object Object]": return k(function (n, q) { n[q] = h(l[q]); return n }, {}, d(l)); default: return f(h, l) } })); r.exports = a
                    }, function (r, b, a) {
                        b = a(53); var c = a(428), f = function () {
                            function k(m, g) { this.w_ = g; this.f = m } k.prototype["@@transducer/init"] = c.Ab; k.prototype["@@transducer/result"] =
                                c.result; k.prototype["@@transducer/step"] = function (m, g) { return this.w_["@@transducer/step"](m, this.f(g)) }; return k
                        }(); a = b(function (k, m) { return new f(k, m) }); r.exports = a
                    }, function (r, b, a) { b = a(53); var c = a(997); a = b(function (f, k) { return c([f], k) }); r.exports = a }, function (r, b, a) { b = a(53)(function (c, f) { for (var k = 0; k < c.length;) { if (null == f) return; f = f[c[k]]; k += 1 } return f }); r.exports = b }, function (r, b, a) { b = a(150); a = a(263); a = b(a); r.exports = a }, function (r, b, a) {
                        var c = a(1E3); b = a(53); var f = a(425); a = b(function (k, m) {
                            return f(c(k),
                                m)
                        }); r.exports = a
                    }, function (r) { r.exports = function (b) { return function () { return !b.apply(this, arguments) } } }, function (r, b, a) { var c = a(1002); b = a(150); var f = a(1003); a = b(function (k, m, g) { return f(k, c(m, g)) }); r.exports = a }, function (r) { r.exports = function (b, a) { b = b || []; a = a || []; var c, f = b.length, k = a.length, m = []; for (c = 0; c < f;)m[m.length] = b[c], c += 1; for (c = 0; c < k;)m[m.length] = a[c], c += 1; return m } }, function (r, b, a) {
                        var c = a(1004); b = a(53)(function (f, k) {
                            for (var m = 0, g = k.length, d = [], h; m < g;)h = k[m], c(f, h, d) || (d[d.length] = h), m += 1;
                            return d
                        }); r.exports = b
                    }, function (r) { r.exports = function (b, a, c) { for (var f = 0, k = c.length; f < k;) { if (b(a, c[f])) return !0; f += 1 } return !1 } }, function (r, b, a) { b = a(53)(function (c, f) { for (var k = [], m = 0, g = f.length; m < g;) { for (var d = m + 1; d < g && c(f[d - 1], f[d]);)d += 1; k.push(f.slice(m, d)); m = d } return k }); r.exports = b }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.m0a = void 0; r = a(0); var c = a(436), f = a(1007), k = a(438), m = a(1008), g = a(432), d = a(1033), h = a(446), l = a(1035), n = a(433), q = a(1036), p = a(434), u = a(1037), t = a(449),
                            w = a(267), v = a(1038), x = a(447), y = a(1039), z = a(1040), A = a(435), B = a(1042); b.m0a = new r.dd(function (E) { E(c.nEa).to(f.mEa).aa(); E(k.rEa).to(m.qEa).aa(); E(g.$Da).to(d.ZDa).aa(); E(h.bEa).to(l.aEa).aa(); E(x.kBa).to(y.jBa).aa(); E(n.YJa).to(q.XJa).aa(); E(p.vfa).to(u.aMa); E(t.CR).to(z.BR); E(A.FR).to(B.ER); E(w.gda).to(v.uEa) })
                    }, function (r, b, a) {
                        function c(d, h) { this.iLb = d; this.log = h.lb("HeaderFetcherImpl") } Object.defineProperty(b, "__esModule", { value: !0 }); b.mEa = void 0; r = a(1); var f = a(0), k = a(7), m = a(437), g = a(91); c.prototype.download =
                            function (d) { function h(t) { if (u < n.length - 1) return !1, u++, l.eWa(n[u].url, q, p).catch(h); throw t; } var l = this, n = d.urls, q = d.offset, p = d.length, u = 0; return this.eWa(n[u].url, q, p).catch(h) }; c.prototype.eWa = function (d, h, l) { return this.iLb.download({ url: d, withCredentials: !1, responseType: g.ResponseType.Qeb, UC: "hls_headers", Ws: !0, offset: h, length: l }, { Y3a: 1 }) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.xEa)), r.__param(1, (0, f.l)(k.ub))], a); b.mEa = a
                    }, function (r, b, a) {
                        function c(g) { this.wa = g.lb("HeaderParserImpl") }
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.qEa = void 0; r = a(1); var f = a(0), k = a(268); a = a(7); c.prototype.parse = function (g, d, h) { g = (new k.ur(this.wa, { mediaType: g }, d, ["sidx"])).parse(); if (g.Jm && g.Y) return this.z3(g.Y, h) }; c.prototype.z3 = function (g, d) { var h = 0, l = 0, n = 0, q = g.offset, p = []; g.vd.forEach(function (u, t) { l += u; n += g.sizes[t]; if (1E3 * l / g.W >= d || t === g.vd.length - 1) p.push({ duration: l / g.W, Z: h / g.W, byteOffset: q, rvb: n }), h += l, l = 0, q += n, n = 0 }); return p }; var m = c; m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.ub))],
                            m); b.qEa = m
                    }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.zc(); this.kc = 1 === this.version ? this.ej([{ creationTime: "int64" }, { modificationTime: "int64" }, { W: "int32" }, { duration: "int64" }]) : this.ej([{ creationTime: "int32" }, { modificationTime: "int32" }, { W: "int32" }, { duration: "int32" }]); return !0 }; k.ac = "mvhd"; k.Ra = !1; return k }(a(37).Ec); b.default = r }, function (r,
                        b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.ac = "trak"; k.Ra = !0; return k }(a(37).Ec); b.default = r }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) {
                                function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () {
                                    this.zc(); var m = 1 === this.version ? [{ creationTime: "int64" }, { modificationTime: "int64" }, { trackId: "int32" },
                                    { offset: 32, type: "offset" }, { duration: "int64" }] : [{ creationTime: "int32" }, { modificationTime: "int32" }, { trackId: "int32" }, { offset: 32, type: "offset" }, { duration: "int32" }]; m = m.concat({ offset: 64, type: "offset" }, { mOb: "int16" }, { jtb: "int16" }, { volume: "int16" }, { offset: 16, type: "offset" }, { offset: 288, type: "offset" }, { width: "int32" }, { height: "int32" }); this.kc = this.ej(m); this.kc.W2b = !!(this.flags & 1); this.kc.X2b = !!(this.flags & 2); this.kc.Y2b = !!(this.flags & 4); this.kc.Z2b = !!(this.flags & 8); this.u.console.trace("Finished parsing track box");
                                    return !0
                                }; k.ac = "tkhd"; k.Ra = !1; return k
                            }(a(37).Ec); b.default = r
                        }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.zc(); this.kc = this.ej(1 === this.version ? [{ W5: "int64" }] : [{ W5: "int32" }]); return !0 }; k.ac = "mehd"; k.Ra = !1; return k }(a(37).Ec); b.default = r }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) {
                                function k() {
                                    return null !==
                                        f && f.apply(this, arguments) || this
                                } c.__extends(k, f); k.prototype.parse = function () { this.kc = this.ej([{ bLb: "int32" }, { c5b: "int32" }]); return !0 }; k.ac = "pasp"; k.Ra = !1; return k
                            }(a(37).Ec); b.default = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.kc = this.ej([{ cvb: "int32" }, { maxBitrate: "int32" }, { rja: "int32" }]); return !0 }; k.ac = "btrt"; k.Ra = !1; return k }(a(37).Ec);
                            b.default = r
                        }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.u.Pl(); this.u.Pl(); for (this.HG = []; this.u.offset <= this.byteOffset + this.byteLength - 4;)this.HG.push(this.u.Pl()); return !0 }; k.ac = "ftyp"; k.Ra = !1; return k }(a(37).Ec); b.default = r }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(92); r = function (k) {
                                function m() {
                                    return null !==
                                        k && k.apply(this, arguments) || this
                                } c.__extends(m, k); m.prototype.parse = function () { this.zc(); this.kc = this.ej([{ JVb: "int32" }, { nW: "int32" }, { offset: 96, type: "offset" }, { name: "string" }]); this.kc.nW = f.qo(this.kc.nW); return !0 }; m.ac = "hdlr"; m.Ra = !1; return m
                            }(a(37).Ec); b.default = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(107), k = a(270), m = a(180); r = a(37); var g = a(108); a = function (d) {
                                function h() { return null !== d && d.apply(this, arguments) || this } c.__extends(h, d); h.prototype.parse =
                                    function () { this.zc(); this.um = this.u.Ca(); return !0 }; h.prototype.ku = function (l) { var n = Object.keys(this.Ya); n.length && (n = n[0], this.Ya[n].length && (n = this.Ya[n][0], n instanceof m.default ? this.va = new k.O(n.Kz, n.samplerate) : n instanceof g.default && (n = n.Ya[f.nF]) && n.length && (n = n[0].kc, 1E3 !== n.xz && 1001 !== n.xz || 0 !== n.rI % 1E3 ? this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.rI + "/" + n.xz) : this.va = new k.O(n.xz, n.rI)), this.va && (l.va = this.va))); return !0 }; h.prototype.JY = function (l) {
                                        void 0 !== this.Ya[l] &&
                                            0 !== this.Ya[l].length && (this.oa.fh(this.um - 1, this.byteOffset + 12), l = this.Ya[l][0], this.Ke(l.byteLength, l.byteOffset))
                                    }; h.ac = "stsd"; h.Ra = !0; return h
                            }(r.Ec); b.default = a
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) {
                                function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.Ena = this.u.yc(2); this.Dja = this.u.yc(5); this.Eja = this.u.yc(3); this.mia = this.u.yc(3); this.u.yc(1); this.u.yc(5); this.u.yc(5); return !0 };
                                k.ac = "dac3"; return k
                            }(a(37).Ec); b.default = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) { function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () { this.nta = this.u.ad() & 7; this.Nxa = []; for (var m = 0; m < this.nta; m++) { var g = { Ena: this.u.yc(2), Dja: this.u.yc(5), Eja: this.u.yc(5), mia: this.u.yc(3), oOb: this.u.yc(1), mta: this.u.yc(4) }; 0 < g.mta ? g.nwb = this.u.yc(9) : this.u.yc(1); this.Nxa.push(g) } return !0 }; k.ac = "dec3"; return k }(a(37).Ec);
                            b.default = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(37); r = function (k) {
                                function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.parse = function () { this.zc(); this.YY = this.u.Pl(); f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.YY); "cenc" === this.YY && (this.u.offset -= 4, f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset), this.oa.v_("piff")); this.u.Ca(); return !0 }; m.ac = "schm"; m.Ra =
                                    !1; return m
                            }(f.Ec); b.default = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) {
                                function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () {
                                    this.u.tb(); this.Vba = this.u.tb(); this.u.tb(); this.u.tb(); this.u.tb(); this.uZ = this.aG(this.u.tb() & 31); this.aG(this.u.tb()); this.SA = this.uZ.length ? this.uZ[0][0] : this.Vba; this.dT = this.u.offset; this.startOffset + this.length < this.u.offset && (100 === this.SA || 110 === this.SA || 122 === this.SA ||
                                        144 === this.SA) && (this.u.tb(), this.u.tb(), this.aG(this.u.tb())); var m = this.startOffset + this.length - this.dT; 0 < m && this.Ke(m, this.dT); return !0
                                }; k.prototype.aG = function (m) { for (var g = [], d = 0; d < m; ++d) { var h = this.u.ad(); g.push(this.u.WA(h)) } return g }; k.ac = "avcC"; k.Ra = !1; return k
                            }(a(37).Ec); b.default = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) {
                                function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.ku = function () {
                                    var m = this.Il("esds");
                                    if (m = m && m.Rca.Il(5)) this.Kz = m.Kz; return !0
                                }; k.ac = "mp4a"; k.Ra = !0; return k
                            }(a(180).default); b.default = r
                        }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(272); r = function (k) { function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.parse = function () { this.zc(); this.Rca = f.YQ.zY(this.u); return !0 }; m.ac = "esds"; m.Ra = !1; return m }(a(37).Ec); b.default = r }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = a(107); a = a(37); var f =
                                r.nF; a = function (k) { function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.parse = function () { this.zc(); this.kc = this.ej([{ rI: "int32" }, { xz: "int16" }]); return !0 }; m.ac = f; m.Ra = !1; return m }(a.Ec); b.default = a
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = function (f) {
                                function k() { return null !== f && f.apply(this, arguments) || this } c.__extends(k, f); k.prototype.parse = function () {
                                    this.zc(); var m = this.ej([{ GJ: "int32" }, { NU: "int32" }, { uz: "int32" }, { wz: "int32" },
                                    { vz: "int32" }]), g = m.GJ, d = m.NU, h = m.uz, l = m.vz; m = m.wz; this.kc = { trackId: g, GBb: d, rz: h, HBb: l, IBb: m }; this.GJ = g; this.NU = d; this.uz = h; this.wz = m; this.vz = l; return !0
                                }; k.ac = "trex"; k.Ra = !1; return k
                            }(a(37).Ec); b.default = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(1027), k = a(276), m = a(151), g = a(270), d = a(37); r = a(441); var h = a(442), l = a(444), n = a(152), q = a(269), p = a(107), u = a(445); a = function () {
                                function t(w, v, x, y, z, A) {
                                    this.console = w; this.stream = v; this.Wh = y; this.Fia = z; this.view = x instanceof
                                        ArrayBuffer ? new DataView(x) : new DataView(x.data, x.offset, x.length); this.config = A || {}; this.S_a = n.boa()
                                } t.path = function (w, v) { return v.reduce(function (x, y) { return x && x.Ya[y] && x.Ya[y][0] }, w) }; t.uoa = function (w) { return w && w.HG && -1 !== w.HG.indexOf("mcl0") ? "mcl0" : void 0 }; t.$ma = function (w, v) { m.assert("mcl0" === w, "Unsupported McClearen brand"); var x = v.Y; w = x.vd; v = (new g.O(120, 1)).dg(x.W).qc; var y = 0; for (x = x.ql; y < w.length && x < v;)x += w[y++]; return y }; t.prototype.parse = function (w) {
                                    var v = this.mwa(); if (!v.done) {
                                        if (v.zX) return {
                                            Jm: !1,
                                            eRa: v.zX
                                        }; this.console.error("Scan error: " + v.error); return { Jm: !1, parseError: v.error || "unknown mp4 scan error" }
                                    } v = this.view.buffer.slice(this.view.byteOffset, this.view.byteOffset + v.offset); this.view = new DataView(v); w = this.Nta(w); return w.done ? this.Zka() : (this.console.error("Parse error: " + w.error), { Jm: !1, parseError: w.error || "unknown mp4 parse error" })
                                }; t.prototype.Gn = function (w) { return d.Ec.Gn(this, w) }; t.prototype.Il = function (w) { return d.Ec.Il(this, w) }; t.prototype.mwa = function () {
                                    var w = new u.nda(this.Wh,
                                        this.Fia ? [p.ey, p.dy] : [], this.config && this.config.l2b || ["moof", p.NR], this.config && this.config.ZX), v = c.__assign(c.__assign({}, this.config), { xI: !1 }); return (new l.PE(t.VI, w, this.view, this.console, v)).parse()
                                }; t.prototype.Nta = function (w) {
                                    var v = new u.TQ(this.view.byteLength), x = Object.create(q.Cq.Ya); this.config && ((this.config.Q9 || this.config.Xaa || this.config.sE) && f(q.Cq.TI, x), this.config.Yaa && f(q.Cq.kya, x), this.config.Xaa && f(q.Cq.XZ, x)); var y = c.__assign(c.__assign({}, this.config), { xI: !0 }); this.wc = new l.PE(x,
                                        v, this.view, this.console, y); w = this.wc.parse(w); w.done && (this.Ya = this.wc.Ya); return w
                                }; t.prototype.Zka = function () {
                                    var w = { Jm: !0 }, v = t.path(this, ["moov"]), x = t.path(v, ["trak", "mdia", "minf", "stbl", "stsd"]); if (this.config.Q9) if (x) w.va = x.va, w.iZb = x.Ya; else return { Jm: !1, parseError: "Missing sample descriptions" }; var y = t.path(x, ["encv", "sinf", "schi"]); y && (y = t.path(y, ["tenc"]) || t.path(y, [p.SR])) && (w.PWa = { Xxb: y.Qn, OH: y.OH, PNb: !1 }); if (y = t.path(v, ["trak", "mdia", "mdhd"])) w.W = y.W; if (y = t.path(v, ["mvex", "trex"])) w.rz =
                                        y && y.kc.rz; w.rz && w.W && (w.va = new g.O(w.rz, w.W)); if (y = t.path(this, ["sidx"])) { var z = t.path(this, [p.ey]); z = z && z.osa; var A = t.path(this, [p.dy]); A = A && A.mi; w.Y = y.Y; w.hI = z; w.mi = A } if (z = this.Ya.vmaf && this.Ya.vmaf[0]) w.Gi = z.Gi; if (this.config.t9a) if (v) this.trim(v.byteOffset + v.byteLength), this.config.sE && x && 1 < x.um && y && (w.Xg = this.sE(x, y)), void 0 === w.Xg && (v = this.wc.Cz ? k.concat(this.wc.za()) : this.view.buffer, w.Xg = [{ Cd: 0, data: v }]); else return { Jm: !1, parseError: "Missing movie box" }; w.Jm = !0; w.$X = this.wc.offset; return w
                                };
                                t.prototype.trim = function (w) { var v = this.view.buffer.slice(this.view.byteOffset, this.view.byteOffset + Math.min(w, this.view.byteLength)); this.wc.trim(w); this.view = new DataView(v) }; t.prototype.sE = function (w, v) {
                                    var x = Object.keys(w.Ya), y = x.filter(function (A) { return "encv" !== A }); if (!(2 > x.length || y.length === x.length || 0 === y.length)) {
                                        x = t.path(this, ["ftyp"]); var z = t.uoa(x); if (z) return x = [], this.wc.Zua(), w.JY("encv"), x.push({ Cd: 0, cl: !1, data: k.concat(this.wc.za()) }), this.wc.xua(), w.JY(y[0]), w = t.$ma(z, v), x.push({
                                            Cd: w,
                                            cl: !0, data: k.concat(this.wc.za())
                                        }), x
                                    }
                                }; t.VI = {}; return t
                            }(); b.ur = a; a.VI[p.oF] = r.default; a.VI[p.pF] = h.default
                        }, function (r) { r.exports = function f(a, c) { a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__, c); var k; Object.getOwnPropertyNames(a).forEach(function (m) { k = Object.getOwnPropertyDescriptor(a, m); void 0 !== k && Object.defineProperty(c, m, k) }) } }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23), f = a(151), k = a(276), m = a(92); r = a(1029); var g = function () {
                                function d(h) {
                                    h ? (this.Mf =
                                        h.Mf.slice(), this.hh = h.hh.slice(), this.Sd = h.Sd.slice(), this.trim = h.trim) : (this.Mf = [], this.hh = [], this.Sd = [])
                                } Object.defineProperties(d.prototype, { empty: { get: function () { return 0 === this.Mf.length && 0 === this.hh.length && 0 === this.Sd.length }, enumerable: !0, configurable: !0 } }); return d
                            }(); r = function (d) {
                                function h(l, n, q) { l = d.call(this, l, n, q) || this; l.cV = []; l.rb = new g; return l } c.__extends(h, d); h.Yia = function (l, n) {
                                    if (n.offset + n.size <= l.byteLength) switch (n.size) {
                                        case 1: l.setUint8(n.offset, n.value); break; case 2: n.sv ?
                                            l.setInt16(n.offset, n.value) : l.setUint16(n.offset, n.value); break; case 4: n.sv ? l.setInt32(n.offset, n.value) : l.setUint32(n.offset, n.value); break; case 8: f.assert(!n.sv); l.setUint32(n.offset, Math.floor(n.value / 4294967296)); l.setUint32(n.offset + 4, n.value & 4294967295); break; default: f.assert(!1)
                                    }
                                }; Object.defineProperties(h.prototype, { Cz: { get: function () { return !this.rb.empty }, enumerable: !0, configurable: !0 } }); h.prototype.zB = function (l, n) {
                                    this.rb.hh.push({ offset: void 0 !== n ? n : this.offset, value: l, size: 1 }); void 0 ===
                                        n && (this.offset += 1)
                                }; h.prototype.nza = function (l, n) { this.rb.hh.push({ offset: void 0 !== n ? n : this.offset, value: l, size: 2, sv: !1 }); void 0 === n && (this.offset += 2) }; h.prototype.fh = function (l, n) { this.rb.hh.push({ offset: void 0 !== n ? n : this.offset, value: l, size: 4, sv: !1 }); void 0 === n && (this.offset += 4) }; h.prototype.oza = function (l, n) { this.rb.hh.push({ offset: void 0 !== n ? n : this.offset, value: l, size: 8, sv: !1 }); void 0 === n && (this.offset += 8) }; h.prototype.v_ = function (l) { this.fh(m.xS(l)) }; h.prototype.QJ = function (l, n) {
                                    this.rb.Sd.push({
                                        offset: this.offset,
                                        Bl: l, value: n
                                    }); this.offset += 4
                                }; h.prototype.Ke = function (l, n, q) { this.rb.Mf.push({ offset: n, remove: l, kb: q }) }; h.prototype.jv = function (l, n, q, p) { this.rb.Mf.push({ offset: q, remove: l, replace: n, kb: p }) }; h.prototype.trim = function (l) { this.rb.trim = l }; h.prototype.Zua = function () { this.cV.push(new g(this.rb)) }; h.prototype.xua = function () { this.rb = this.cV.pop() || new g }; h.prototype.za = function () {
                                    var l = this; if (0 === this.rb.Mf.length && 0 === this.rb.hh.length && 0 === this.rb.Sd.length) return [void 0 === this.rb.trim ? this.view.buffer :
                                        this.view.buffer.slice(0, this.rb.trim)]; this.rb.Mf.sort(function (v, x) { return v.offset - x.offset }); this.rb.hh.sort(function (v, x) { return v.offset - x.offset }); this.Zva(); var n = this.Xma(), q = this.view.buffer.slice(0, n), p = new DataView(q); this.rb.hh.forEach(h.Yia.bind(void 0, p)); this.Fya(p); this.Dya(p); var u = [], t = void 0 !== this.rb.trim ? Math.min(this.rb.trim, this.view.byteLength) : this.view.byteLength, w = 0; this.rb.Mf.filter(function (v) { return v.offset <= t }).forEach(function (v) {
                                            v.offset > w && (u.push(p.buffer.slice(w,
                                                v.offset)), v.offset > p.byteLength && p !== l.view && (p = l.view, u.push(p.buffer.slice(n, v.offset)))); v.replace && u.push(v.replace); w = v.offset + v.remove
                                        }); w < n && u.push(q.slice(w)); w < t && u.push(this.view.buffer.slice(Math.max(q.byteLength, w), t)); return u
                                }; h.prototype.Xma = function () {
                                    var l = [], n = this.rb.hh[this.rb.hh.length - 1], q = this.rb.Sd[this.rb.Sd.length - 1]; n && l.push(n.offset + n.size); q && l.push(q.offset + 4); this.rb.Mf.filter(function (p) { return p.kb }).forEach(function (p) { return l.push(p.kb.byteOffset + 4) }); n = Math.max.apply(void 0,
                                        l); return void 0 !== this.rb.trim ? Math.min(n, this.rb.trim) : n
                                }; h.prototype.Zva = function () { this.rb.Mf = this.rb.Mf.reduce(function (l, n) { if (0 === l.length) return l.push(n), l; var q = l[l.length - 1], p = q.offset + q.remove; n.offset >= p ? l.push(n) : n.offset + n.remove > p && (f.assert(q.kb === n.kb), q.remove += n.offset + n.remove - p, n.replace && (q.replace = q.replace ? k.concat(q.replace, n.replace) : n.replace)); return l }, []) }; h.prototype.Fya = function (l) {
                                    var n = this; this.rb.Sd.forEach(function (q) {
                                        var p = l, u = q.offset; n.rb.Mf.some(function (v) {
                                            return v.offset <=
                                                q.offset && v.replace && v.offset + v.replace.byteLength >= q.offset + 4 ? (p = new DataView(v.replace), u = q.offset - v.offset, !0) : !1
                                        }); var t = q.Bl + (void 0 !== q.value ? q.value : p.getInt32(u)), w = n.rb.Mf.reduce(function (v, x) { return x.offset > q.Bl && x.offset < t ? v + (x.remove - (x.replace ? x.replace.byteLength : 0)) : v }, 0); p.setInt32(u, t - q.Bl - w)
                                    })
                                }; h.prototype.Dya = function (l) {
                                    this.rb.Mf.forEach(function (n) {
                                        var q = (n.remove || 0) - (n.replace ? n.replace.byteLength : 0); if (0 !== q) for (n = n.kb; n;)l.setUint32(n.byteOffset, l.getUint32(n.byteOffset) -
                                            q), n = n.parent
                                    })
                                }; return h
                            }(r.Jfa); b.Ifa = r
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(152); a(152); var f = a(92); r = function () {
                                function k(m, g, d) { this.view = m; this.console = g; this.config = d; this.view = m; this.console = g; this.Rn = this.bz = this.offset = 0 } k.prototype.Yna = function (m) { return new DataView(this.view.buffer, this.view.byteOffset + this.offset, m) }; k.prototype.yc = function (m) { for (; this.Rn < m;)this.bz = (this.bz << 8) + this.tb(), this.Rn += 8; this.Rn -= m; return this.bz >>> this.Rn & (1 << m) - 1 };
                                k.prototype.tb = function () { var m = this.view.getUint8(this.offset); this.offset += 1; return m }; k.prototype.ad = function (m) { m = this.view.getUint16(this.offset, m); this.offset += 2; return m }; k.prototype.Ca = function (m) { m = this.view.getUint32(this.offset, m); this.offset += 4; return m }; k.prototype.GI = function () { var m = this.view.getInt32(this.offset, void 0); this.offset += 4; return m }; k.prototype.Yta = function (m, g) {
                                    var d = this.view.getUint32(this.offset + (m ? 4 : 0), m); m = this.view.getUint32(this.offset + (m ? 0 : 4), m); g || 0 === (d & 4278190080) ||
                                        this.console.warn("Warning: read unsigned value > 56 bits"); return 4294967296 * d + m
                                }; k.prototype.Vd = function (m, g) { m = this.Yta(m, g); this.offset += 8; return m }; k.prototype.Zta = function (m, g) { var d = this.view.getInt32(this.offset + (m ? 4 : 0), m); m = this.view.getUint32(this.offset + (m ? 0 : 4), m); g || 0 === ((0 < d ? d : -d) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits"); return 4294967296 * d + m }; k.prototype.nva = function () { var m = this.Zta(void 0, void 0); this.offset += 8; return m }; k.prototype.Pl = function () { return f.qo(this.Ca()) };
                                k.prototype.XA = function () { function m(p, u) { return ("000000" + p.toString(16)).slice(2 * -u) } var g = this.Ca(!0), d = this.ad(!0), h = this.ad(!0), l = this.ad(), n = this.ad(), q = this.Ca(); return [m(g, 4), m(d, 2), m(h, 2), m(l, 2), m(n, 2) + m(q, 4)].join("-") }; k.prototype.kva = function (m) { var g = this.view.byteOffset + this.offset; return this.view.buffer.slice(g, g + m) }; k.prototype.hva = function (m) {
                                    var g = []; if (0 === m) return ""; m = m || Number.MAX_SAFE_INTEGER; for (var d = this.tb(); 0 !== d && 0 <= --m;)g.push(d), d = this.tb(); return String.fromCharCode.apply(null,
                                        g)
                                }; k.prototype.WA = function (m) { var g, d; void 0 === g && (g = 1); void 0 === d && (d = !0); return this.dj(this.config.wB && c.npa || c.uq, 1, m, g, d) }; k.prototype.fva = function (m, g, d) { var h; void 0 === g && (g = 2); void 0 === d && (d = !0); void 0 === h && (h = !1); return this.dj(this.config.wB && c.lpa || c.Tz, 2, m, g, d, h) }; k.prototype.VA = function (m, g, d) { var h; void 0 === g && (g = 4); void 0 === d && (d = !0); void 0 === h && (h = !1); return this.dj(this.config.wB && c.mpa || c.uu, 4, m, g, d, h) }; k.prototype.lva = function () {
                                    for (var m = this.tb(), g = m & 127; m & 128;)m = this.tb(), g =
                                        g << 7 | m & 127; return g
                                }; k.prototype.dj = function (m, g, d, h, l, n) { void 0 === l && (l = !0); void 0 === n && (n = !1); m = m(this.view, this.offset, d, h, n); this.offset = l || !h || h === g ? this.offset + d * (h || g) : this.offset + g; return m }; return k
                            }(); b.Jfa = r
                        }, function (r, b, a) {
                            function c(h, l, n, q) { m.call(this, h, l, n, q) } function f(h, l, n) { m.call(this, h, l, n, void 0) } var k = a(107), m = a(277).qr, g = a(443), d = a(92).xS; c.prototype = Object.create(m.prototype); f.prototype = Object.create(c.prototype); f.prototype.Oga = function (h, l) {
                                return "string" === typeof l ? g[l] :
                                    l ? g.reset[h] || g.sxa[h] : g.sxa[h]
                            }; f.prototype.Fva = function (h, l, n) { return this.za(h, l, !1, n, void 0) }; f.prototype.Jva = function (h, l, n) { return this.za(h, l, !0, n, void 0) }; f.prototype.za = function (h, l, n, q, p) {
                                function u(L) { w = t[L]; v = w.Yh("traf"); if (void 0 === v || void 0 === v.hk) return !1; A = v.Yh("tfdt"); if (void 0 === A) return !1; x = v.Yh("trun"); return void 0 === x ? !1 : !0 } if (!this.parse().done) return !1; var t = this.Ya.moof; if (!t || 0 === t.length) return !1; var w, v, x; if (void 0 !== h) {
                                    var y = h; for (h = 0; h < t.length; ++h) {
                                        if (!u(h, this.wc.console.trace)) return !1;
                                        if (x.Ob > y || n && x.Ob === y) break; y -= x.Ob
                                    }
                                } else if (h = n ? t.length - 1 : 0, !u(h, this.wc.console.trace)) return !1; if (n && h < t.length - 1) { var z = t[h + 1]; this.wc.Ke(this.eBb - z.startOffset, z.startOffset) } else !n && 0 < h && this.wc.Ke(w.startOffset, 0); z = v.Yh("tfhd"); if (void 0 === z) return !1; var A = v.Yh("tfdt"), B = x.Ob, E = v.Yh("saiz"), D = v.Yh("saio"), F = v.Yh(k.RR), G = v.Yh("sbgp"); if (!(!E && !D || E && D)) return !1; var C = v.Yh("sdtp"); if (this.Ya.mdat && h < this.Ya.mdat.length) var H = this.Ya.mdat[h]; else if (h !== t.length - 1) return !1; void 0 === y && (y = n ?
                                    x.Ob : 0); if (x.za(v, z, H || this.wc, l, y, v.hk, n)) x.Cz && (!n && A && A.za(x.qxa), E && D && (E.za(x.Vq, n), D.za(F ? 0 : E.SI, v.hk, n)), F && F.za(x.Vq, n), C && C.za(x.Vq, B, n), G && G.za(x.Vq, n)); else if (!n) { if (h === t.length - 1) return !1; this.wc.Ke(t[h + 1].startOffset - w.startOffset, w.startOffset) } else if (0 === x.Vq) return !1; q && (l = this.Oga(this.stream.profile, p)) && x.Nva(v, z, H, n, q, l); n = this.wc.za(); q = n.reduce(function (L, N) { return L + N.byteLength }, 0); n = { Kd: n, length: q, Yn: this.wc.view.byteLength }; x.Cz && !H && (n.Nq = v.hk + x.Nq, n.fj = x.fj); return n
                            };
                            r.exports = { sr: f, uA: function (h) { var l = new ArrayBuffer(8), n = new DataView(l); n.setUint32(0, h + 8); n.setUint32(4, d("mdat")); return l } }
                        }, function (r, b, a) {
                            Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(23); r = a(277); var f = a(276); a = function (k) {
                                function m() { return null !== k && k.apply(this, arguments) || this } c.__extends(m, k); m.prototype.za = function (g) {
                                    var d = this; if (!this.parse().done) return !1; var h = this.Ya.moov; if (!h || 0 === h.length) return !1; var l = h[0].Il("tenc"); if (!l) return !1; var n = new Uint8Array(l.Qn);
                                    g.forEach(function (q) { for (var p = q.from, u = !0, t = 0; t < p.length; t++)if (n[t] !== p[t]) { u = !1; break } u && d.wc.jv(q.from.length, q.to, l.OH) }); return f.concat(this.wc.za())
                                }; return m
                            }(r.qr); b.rK = a
                        }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); r = b.Rj || (b.Rj = {}); r[r.$b = 0] = "AUDIO"; r[r.Pb = 1] = "VIDEO" }, function (r, b, a) {
                            function c(y, z, A) {
                                this.MU = z; this.Hc = y.filter(function (B) { return B.tya[p.Vj.Nfa] }).map(function (B) { return { track: B, stream: B.tya[p.Vj.Nfa], id: B.iWa[p.Vj.Nfa] } }); A || (this.Hc = this.Hc.filter(function (B) {
                                    return B.track.tg ===
                                        z
                                }))
                            } function f(y, z, A) { this.tJ = z; this.Qu = A; var B = y[0]; this.FJ = B.streams.map(function (E) { return { track: B, JN: E.oab, stream: E } }) } function k(y, z, A, B, E) { function D(F, G) { return F.bitrate > G.bitrate ? F : G } this.log = y; this.tJ = A; this.MU = B; this.FJ = z.map(function (F) { var G = F.streams.reduce(D); return { track: F, JN: G.jB ? G.jB.offset + G.jB.size : void 0, stream: G } }); E || (this.FJ = this.FJ.filter(function (F) { return F.track.tg === B })) } function m(y, z, A, B, E, D) { this.NKb = y; this.OKb = z; this.zVb = A; this.gwb = B; this.AH = E; this.bg = D; this.wa = D.lb("HLSPlaylistBuilderImpl") }
                            Object.defineProperty(b, "__esModule", { value: !0 }); b.$lb = b.mmb = b.xeb = b.ZDa = void 0; r = a(1); var g = a(0), d = a(268), h = a(436), l = a(438), n = a(3), q = a(40), p = a(51), u = a(446), t = a(447), w = a(267), v = a(7), x = a(1034); m.prototype.ri = function (y, z) {
                                var A = this, B, E, D = y.Gb; y = this.xGb(D, z); var F = this.SJb(D, z), G = null !== (E = null === (B = D.DY) || void 0 === B ? void 0 : B.ZP) && void 0 !== E ? E : D.OZ.find(function (C) { var H; return C.id === (null === (H = D.U4) || void 0 === H ? void 0 : H[0].Qab) }).tg; B = new c(D.OZ, G, this.AH.Nia); return Promise.all([y, F, B]).then(function (C) {
                                    var H =
                                        da(C); C = H.next().value; var L = H.next().value; H = H.next().value; C = { audio: C.getMetadata(), video: L.getMetadata(), text: H.getMetadata(), tVa: C.Zna(), KBb: H.Zna(), duration: D.duration, pl: D.pl }; L = A.gwb.WGb(C); z("h_s"); return { IPb: A.zVb.transform(C, L), jwb: L, g1b: C }
                                })
                            }; m.prototype.SJb = function (y, z) { var A = new f(y.yB, this.AH.n0a, this.AH.Qu); return this.cWa(A.FJ, d.Rj.Pb, z).then(function (B) { A.Pwa(B); return A }) }; m.prototype.xGb = function (y, z) {
                                var A, B, E = null !== (B = null === (A = y.DY) || void 0 === A ? void 0 : A.wn) && void 0 !== B ? B : y.Mt.find(function (F) {
                                    var G;
                                    return F.id === (null === (G = y.U4) || void 0 === G ? void 0 : G[0].wn)
                                }).tg, D = new k(this.wa, y.Mt, this.AH.gx, E, this.AH.Nia); return this.cWa(D.FJ, d.Rj.$b, z).then(function (F) { D.Pwa(F); return D })
                            }; m.prototype.Qta = function (y, z, A, B) { if (y = this.OKb.parse(z, y, A)) return y; this.wa.error("Failed to parse headers", { type: z === d.Rj.$b ? "audio" : "video", downloadableId: B.stream.Qr }) }; m.prototype.cWa = function (y, z, A) {
                                var B = this; return Promise.all(y.map(function (E, D) {
                                    if (E.JN) return B.NKb.download({ urls: E.stream.urls, offset: 0, length: E.JN }).then(function (F) {
                                        A("h_" +
                                            (0 === z ? "A" : "V") + "_" + D + "_s"); return B.Qta(F, z, z == d.Rj.$b ? B.AH.gx : B.AH.EA, E)
                                    }).catch(function () { A("h_" + E.track.hj[0] + "_" + D + "_f"); B.wa.warn("Failed to download and parse headers for " + E.stream.Qr) }); B.wa.warn("Stream data offset is missing", { downloadableId: E.stream.Qr })
                                }))
                            }; a = m; a = r.__decorate([(0, g.R)(), r.__param(0, (0, g.l)(h.nEa)), r.__param(1, (0, g.l)(l.rEa)), r.__param(2, (0, g.l)(u.bEa)), r.__param(3, (0, g.l)(t.kBa)), r.__param(4, (0, g.l)(w.gda)), r.__param(5, (0, g.l)(v.ub))], a); b.ZDa = a; k.prototype.Pwa = function (y) {
                                var z =
                                    this; if (!y.find(function (A) { return void 0 !== A })) throw q.Wc.Edb(n.N.$Ea, n.M.Sda); this.Hc = this.FJ.map(function (A, B) { if (B = y[B]) return { track: A.track, stream: A.stream, Y: B, tJ: z.tJ } }).filter(x.Lqa)
                            }; k.prototype.getMetadata = function () { return this.Hc }; k.prototype.Zna = function () { var y = this; if (!this.Hc.find(function (A) { return A.track.tg === y.MU }) && 0 < this.Hc.length) { var z = this.Hc[0].track.tg; this.log.warn("Did not find metadata for audio track " + this.MU + ", falling back to " + z); return z } return this.MU }; b.xeb = k;
                            f.prototype.Pwa = function (y) { var z = this; if (!y.find(function (B) { return void 0 !== B })) throw q.Wc.Edb(n.N.$Ea, n.M.Tda); var A = this.FJ.map(function (B, E) { if (E = y[E]) return { track: B.track, stream: B.stream, Y: E, tJ: z.tJ } }).filter(x.Lqa); this.Hc = this.HIb(A) }; f.prototype.getMetadata = function () { return this.Hc }; f.prototype.HIb = function (y) {
                                var z = this; y.sort(function (E) { return E.stream.bitrate }); var A = y.findIndex(function (E) { var D; return (null !== (D = E.stream.zb) && void 0 !== D ? D : 0) >= z.Qu }); if (-1 !== A && A !== y.length - 1) {
                                    var B =
                                        y[A]; y.splice(A, 1); y.push(B)
                                } y.reverse(); return y
                            }; b.mmb = f; c.prototype.Zna = function () { return this.MU }; c.prototype.getMetadata = function () { return this.Hc }; b.$lb = c
                        }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Lqa = void 0; b.Lqa = function (a) { return void 0 !== a && null !== a } }, function (r, b, a) {
                            function c(l) { this.wa = l.lb("HLSPlaylistTransformerImpl"); this.k5b = g.l0.Ho(); this.aub = d.Kca.Ho() } Object.defineProperty(b, "__esModule", { value: !0 }); b.aEa = void 0; r = a(1); var f = a(0), k = a(7), m = a(130), g = a(278),
                                d = a(448), h = [0, 1]; c.prototype.transform = function (l, n) {
                                    var q = this, p = ["#EXTM3U", "#EXT-X-VERSION:8", "#EXT-X-INDEPENDENT-SEGMENTS"], u = l.text, t = l.audio, w = l.video, v = l.duration, x = l.tVa, y = l.KBb; u.forEach(function (A) {
                                        h.forEach(function (B) {
                                            var E = 0 === B, D = A.stream, F = A.track, G = n.get(A.id); E = E ? G.UO : G.W$; D = q.EJb({ url: E.url, duration: v / 1E3, size: D.size, om: "Manifest for subtitles " + F.language + ' stream "' + F.FD + '", ' + F.tg + ", cdn " + E.bq }); q.wa.trace("Text variant manifest", D.join("\n")); B = q.FJb({
                                                groupId: B, name: F.FD, vqa: F.tg ===
                                                    y, On: F.F7, BMb: F.hj === m.Hp.Fba, language: F.language, uri: q.n8(D)
                                            }); p.push(B)
                                        })
                                    }); t.forEach(function (A) { h.forEach(function (B) { var E = 0 === B, D = A.stream, F = A.track, G = A.Y, C = A.tJ, H = n.get(D.Qr); E = E ? H.UO : H.W$; D = q.KZa({ url: E.url, JN: D.jB.offset + D.jB.size, Y: G, dbb: Math.floor(C / 1E3), om: "Manifest for audio " + F.language + ' stream "' + F.FD + '", ' + F.tg + ", cdn " + E.bq }); q.wa.trace("Audio variant manifest", D.join("\n")); B = q.yGb({ groupId: B, language: F.language, name: F.FD, vqa: F.tg === x, uri: q.n8(D) }); p.push(B) }) }); var z = this.aub[t[0].track.profile];
                                    w.forEach(function (A) {
                                        h.forEach(function (B) {
                                            var E = 0 === B, D = A.stream, F = A.track, G = A.Y, C = A.tJ, H = n.get(D.Qr); H = E ? H.UO : H.W$; E = 0 < u.length; F = q.KZa({ url: H.url, JN: D.jB ? D.jB.offset + D.jB.size : D.oab, Y: G, dbb: Math.floor(C / 1E3), om: "Manifest for video bitrate " + D.bitrate + ", stream " + F.tg + ", cdn " + H.bq }); q.wa.trace("Video variant manifest", F.join("\n")); B = q.TJb({
                                                groupId: B, WT: 1E3 * D.bitrate, pub: 1E3 * D.bitrate, eNb: 0 <= D.MG.indexOf("-hdr-") || 0 <= D.MG.indexOf("-dv5-"), framerate: (D.jYa / D.iYa).toFixed(3), QI: D.d9a + "x" + D.e9a,
                                                h5b: q.k5b[D.MG], Ytb: z, o2b: E
                                            }); p.push(B); B = q.n8(F); p.push("" + B)
                                        })
                                    }); this.wa.trace("Primary manifest", p.join("\n")); return this.n8(p)
                                }; c.prototype.yGb = function (l) { var n = l.vqa; return ["#EXT-X-MEDIA:TYPE=AUDIO", 'GROUP-ID="group_' + l.groupId + '"', 'CHANNELS="2"', 'LANGUAGE="' + l.language + '"', 'NAME="' + l.name + '"', "DEFAULT=" + (n ? "YES" : "NO"), "AUTOSELECT=" + (n ? "YES" : "NO"), 'URI="' + l.uri + '"'].join(", ") }; c.prototype.KZa = function (l) {
                                    var n = ["#EXTM3U", "# " + l.om, "#EXT-X-VERSION:8", "#EXT-X-TARGETDURATION:" + l.dbb, "#EXT-X-MEDIA-SEQUENCE:0",
                                        "#EXT-X-PLAYLIST-TYPE:VOD", '#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"', '#EXT-X-MAP:URI="{$U}",BYTERANGE="' + l.JN + '@0"', "#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"]; l.Y.forEach(function (q, p) { n.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.Z.toFixed(3)); n.push("#EXT-X-BYTERANGE:" + q.rvb + "@" + q.byteOffset); n.push("{$U}&fi=" + p) }); n.push("#EXT-X-ENDLIST"); return n
                                }; c.prototype.TJb = function (l) {
                                    var n = l.groupId, q = ["#EXT-X-STREAM-INF:BANDWIDTH=" + l.WT, "AVERAGE-BANDWIDTH=" + l.pub, "VIDEO-RANGE=" + (l.eNb ?
                                        "PQ" : "SDR"), "FRAME-RATE=" + l.framerate, 'AUDIO="group_' + n + '"', "RESOLUTION=" + l.QI, 'CODECS="' + l.h5b + "," + l.Ytb + '"']; l.o2b && q.push('SUBTITLES="subs_' + n + '"'); return q.join(", ")
                                }; c.prototype.EJb = function (l) {
                                    var n = l.duration; return ["#EXTM3U", "# " + l.om, "#EXT-X-VERSION:8", "#EXT-X-TARGETDURATION:" + Math.floor(n), "#EXT-X-MEDIA-SEQUENCE:0", "#EXT-X-PLAYLIST-TYPE:VOD", '#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"', '#EXT-X-MAP:URI="{$U}"', "#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00", "#EXTINF:" + n.toFixed(3),
                                        "#EXT-X-BYTERANGE:" + l.size + "@0", "{$U}", "#EXT-X-ENDLIST"]
                                }; c.prototype.FJb = function (l) { var n = l.vqa, q = l.language, p = l.uri; n = ["#EXT-X-MEDIA:TYPE=SUBTITLES", 'GROUP-ID="subs_' + l.groupId + '"', 'NAME="' + l.name + '"', "DEFAULT=" + (n ? "YES" : "NO"), "AUTOSELECT=" + (n ? "YES" : "NO"), "FORCED=" + (l.On ? "YES" : "NO")]; l.BMb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"'); n.push('LANGUAGE="' + q + '"'); n.push('URI="' + p + '"'); return n.join(", ") }; c.prototype.n8 =
                                    function (l) { return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(l.join("\n")) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub))], a); b.aEa = a
                        }, function (r, b, a) {
                            function c(h, l) { function n() { q.Wta.then(function (p) { q.wa.trace("Unloading PBO Playdata Services"); p.close() }); g.ye.removeListener(g.Jl, n) } var q = this; this.L6a = l; this.Wta = l(); this.wa = h.lb("PlayerPlaydataMonitorImpl"); g.ye.addListener(g.Jl, n) } Object.defineProperty(b, "__esModule", { value: !0 }); b.XJa = void 0; r = a(1); var f =
                                a(0), k = a(7), m = a(181), g = a(62), d = a(15); c.prototype.lp = function (h, l) { this.Wta.then(function (n) { n.lp(l, !0, function (q) { return h.close(q) }); n.yxa(l); h.addEventListener(d.Fa.vua, function () { h.xq() && n.U9a(l).catch(function (q) { (q = q.NO) && h.close(q) }) }); h.addEventListener(d.Fa.Tl, function () { n.caa(l).catch(function (q) { (q = q.NO) && h.close(q) }) }); h.addEventListener(d.Fa.jm, function () { n.caa(l).catch(function (q) { (q = q.NO) && h.close(q) }) }) }) }; c.prototype.zZ = function (h) { return this.Wta.then(function (l) { l.Aab(); return l.zZ(h).catch() }) };
                            a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.m1))], a); b.XJa = a
                        }, function (r, b, a) {
                            function c(d) { this.Asa = {}; this.m7 = {}; this.Y7 = -1; this.Lxa = new m.ec(null); this.Fua = new m.ec(null); this.wa = d.lb("StreamChangeDetector") } Object.defineProperty(b, "__esModule", { value: !0 }); b.aMa = void 0; r = a(1); var f = a(0), k = a(43), m = a(82); a = a(7); c.prototype.Ab = function (d, h, l) {
                                var n = this; d.forEach(function (q) { q.stream.urls.forEach(function (p) { n.Asa[p.url] = [q, p.bq] }) }); this.Mla = h; this.CBb = l; (new PerformanceObserver(function (q) { n.T3b(q.getEntries()) })).observe({
                                    entryTypes: ["resource"],
                                    buffered: !1
                                })
                            }; c.prototype.j$a = function (d) {
                                var h; if (this.Mla) {
                                    var l = this.r6(d); if (l !== this.Y7) {
                                        for (this.Y7 = l; 0 <= l && !this.m7[l];)l--; var n = da(null !== (h = this.m7[l]) && void 0 !== h ? h : [this.Mla, this.CBb]); h = n.next().value; n = n.next().value; this.wa.debug("Setting time to " + d + ", using metadata from fragment " + l + " for " + ((0, k.n4a)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n)); d = h.Y[this.Y7]; l = d.Z; this.Fua.set({
                                            stream: h, Dl: { startTime: Math.floor(1E3 * l), endTime: Math.floor(1E3 * (l + d.duration)) },
                                            KC: n
                                        })
                                    }
                                }
                            }; c.prototype.r6 = function (d) { var h = this.Mla.Y; d /= 1E3; var l = 0, n = h.length - 1; if (d >= h[n].Z) return n; for (; n >= l;) { var q = l + Math.floor((n - l) / 2), p = h[q]; if (d < p.Z) n = q - 1; else if (d >= p.Z + p.duration) l = q + 1; else return q } return h.length - 1 }; c.prototype.T3b = function (d) {
                                var h = this; d.filter(function (l) { return "video" === l.initiatorType }).forEach(function (l) {
                                    var n = l.name.indexOf("&fi="); if (0 < n) {
                                        var q = l.name.substring(0, n); n = Number(l.name.substring(n + 4)); if (h.Asa[q]) {
                                            var p = da(h.Asa[q]); l = p.next().value; p = p.next().value;
                                            q && !Number.isNaN(n) && l && (h.m7[n] && (h.Y7 = -1), h.m7[n] = [l, p], q = l.Y[n].Z, !1, h.Lxa.set(l, { DG: Math.floor(1E3 * q), KC: p }))
                                        }
                                    }
                                })
                            }; var g = c; g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.ub))], g); b.aMa = g
                        }, function (r, b, a) {
                            function c(d) { return k.$e.call(this, d, "HlsConfigImpl") || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.uEa = void 0; r = a(1); var f = a(0), k = a(48), m = a(33); a = a(42); qa(c, k.$e); Ya.Object.defineProperties(c.prototype, {
                                q7a: { configurable: !0, enumerable: !0, get: function () { return !0 } }, gx: {
                                    configurable: !0,
                                    enumerable: !0, get: function () { return 16E3 }
                                }, EA: { configurable: !0, enumerable: !0, get: function () { return 4E3 } }, n0a: { configurable: !0, enumerable: !0, get: function () { return 1E4 } }, Qu: { configurable: !0, enumerable: !0, get: function () { return 80 } }, Nia: { configurable: !0, enumerable: !0, get: function () { return !1 } }
                            }); var g = c; r.__decorate([a.config(a.Rc, "playsInline")], g.prototype, "q7a", null); r.__decorate([a.config(a.xD, "minAudioMediaRequestDuration")], g.prototype, "gx", null); r.__decorate([a.config(a.xD, "minVideoMediaRequestDuration")],
                                g.prototype, "EA", null); r.__decorate([a.config(a.xD, "hlsVideoMediaRequestTargetDuration")], g.prototype, "n0a", null); r.__decorate([a.config(a.xD, "minStartingVideoVMAF")], g.prototype, "Qu", null); r.__decorate([a.config(a.Rc, "allowMultipleAudioTextTracks")], g.prototype, "Nia", null); g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Qk))], g); b.uEa = g
                        }, function (r, b, a) {
                            function c(m) { this.wa = m.lb("CdnPartitionerImpl") } Object.defineProperty(b, "__esModule", { value: !0 }); b.jBa = void 0; r = a(1); var f = a(0); a = a(7); c.prototype.WGb =
                                function (m) {
                                    function g(t, w, v) {
                                        var x = t.map(function (A) { return A.bq }); x.sort(function (A, B) { return w[A] - w[B] }); if (1 === x.length) !1, l.set(v, { UO: t[0], W$: t[0] }); else {
                                            var y = x.find(function (A) { return d.has(A) }); y || ((y = x.find(function (A) { return !h.has(A) })) ? d.add(y) : (y = x[0], !1)); var z = x.find(function (A) { return h.has(A) && A !== y }); z || ((z = x.find(function (A) { return !d.has(A) && A !== y })) ? h.add(z) : (z = x.find(function (A) { return A !== y }), !1)); l.set(v, {
                                                UO: t.find(function (A) { return A.bq === y }), W$: t.find(function (A) {
                                                    return A.bq ===
                                                        z
                                                })
                                            })
                                        }
                                    } var d = new Set, h = new Set, l = new Map, n = m.video, q = m.audio, p = m.text, u = m.pl.reduce(function (t, w) { t[w.id] = w.cc; return t }, {}); n.forEach(function (t) { t = t.stream; g(t.urls, u, t.Qr) }); q.forEach(function (t) { t = t.stream; g(t.urls, u, t.Qr) }); p.forEach(function (t) { if (!t.track.BD || t.track.F7) { var w = t.track, v = t.id; t = Object.entries(t.stream.Gw).map(function (x) { var y = da(x); x = y.next().value; y = y.next().value; return { bq: Number(x), url: y } }); w = w.dTa.reduce(function (x, y) { x[y.id] = y.cc; return x }, {}); g(t, w, v) } }); return l
                                }; var k =
                                    c; k = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.ub))], k); b.jBa = k
                        }, function (r, b, a) {
                            function c(n, q, p, u, t) { this.bg = n; this.qA = q; this.ag = p; this.vc = u; this.ya = t } Object.defineProperty(b, "__esModule", { value: !0 }); b.BR = void 0; r = a(1); var f = a(0), k = a(16), m = a(7), g = a(52), d = a(182), h = a(89), l = a(1041); c.prototype.create = function (n) { return new l.DR(this.bg, this.qA, this.ag, this.ya, this.vc, n) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ub)), r.__param(1, (0, f.l)(h.by)), r.__param(2, (0, f.l)(g.no)), r.__param(3, (0,
                                f.l)(d.Jda)), r.__param(4, (0, f.l)(k.bd))], a); b.BR = a
                        }, function (r, b, a) {
                            function c(n, q, p, u, t, w) {
                                var v = this; this.qA = q; this.ag = p; this.ya = u; this.vc = t; this.Dsa = this.yD = this.MY = 0; this.SH = !1; this.PD = function () { var x = v.gY(); x.prstate = v.Rz(); x.paustate = v.j.HW(); x.midplayseq = v.Dsa++; v.vc.LN(x); v.Ic(f.kd.PD, void 0, l.Ae | l.st, x) }; this.oi = function () { v.Ic(f.kd.wSa, void 0, l.Ae | l.vp, {}) }; this.Tl = function (x) { v.pra = v.getTime(); v.qra = x.oldValue }; this.OT = function (x) { v.ara = x.oldValue }; this.S9 = function (x) {
                                    x != v.SH && (v.Axa(v.SH,
                                        x), v.SH = x)
                                }; this.Axa = function (x, y) { var z = v.j.xa; x = { newstate: y ? "Paused" : "Playing", oldstate: x ? "Paused" : "Playing" }; v.vc.vq(x, z.Td.value && z.Td.value.stream, z.nf.value && z.nf.value.stream); v.Ic(f.kd.yab, void 0, l.Ae, x) }; this.tZ = function (x) { v.Ic(f.kd.mab, void 0, l.Ae, { speedold: Math.floor(1E3 * x.oldValue), speed: Math.floor(1E3 * x.newValue) }) }; this.oB = function (x) {
                                    var y = v.j.xa, z = y.Qb.value; if (x.newValue || z && z.Vo() && !z.On()) {
                                        var A = (x = null !== (A = x.newValue) && void 0 !== A ? A : z) ? {
                                            trackId: x.trackId, bcp47: x.hf, downloadableId: x.Dc,
                                            rank: x.cc, isImageBased: x.sk
                                        } : {}; x = (x = v.qra) ? { trackId: x.trackId, bcp47: x.hf, downloadableId: x.Dc, rank: x.cc, isImageBased: x.sk } : {}; A = { switchdelay: (0, k.Wf)(v.getTime() - v.pra), track: A, oldtrack: x }; v.vc.vq(A, y.Td.value && y.Td.value.stream, y.nf.value && y.nf.value.stream); v.Ic(f.kd.zbb, void 0, l.Ae, A)
                                    }
                                }; this.iua = function (x, y) { var z = v.j.xa; x = { waittime: (0, k.Wf)(x), abortedevent: "resumeplay", resumeplayreason: y }; v.vc.vq(x, z.he.value, z.rh.value); v.Ic(f.kd.b$, void 0, l.Ae | l.vp, x) }; this.qP = function (x, y, z) {
                                    x = {
                                        playdelay: (0,
                                            k.Wf)(x), reason: z, intrplayseq: v.yD - 1, skipped: y
                                    }; "repos" === z && (x.prstate = !0 === v.j.Dj.value ? "playing" : "paused"); v.Ic(f.kd.qP, void 0, l.Ae | l.pt, x)
                                }; this.lja = function () { var x, y = v.j.xa.Cb.value, z = v.j.xa.rh.value.Dc; y = y ? { trackId: y.trackId, bcp47: y.hf, downloadableId: z, rank: y.cc, chan: y.channels } : {}; z = v.mA; var A = null === (x = v.ara) || void 0 === x ? void 0 : x.Dc; x = z ? { trackId: z.trackId, bcp47: z.hf, downloadableId: A, rank: z.cc, chan: z.channels } : {}; v.Ic(f.kd.cSa, void 0, l.Ae, { switchdelay: (0, k.Wf)(v.getTime() - v.bra), track: y, oldtrack: x }) };
                                this.jm = function (x) { v.bra = v.getTime(); v.mA = x.oldValue }; this.jua = function () { var x = v.j.xa, y = { abortedevent: "startplay", trackid: x.Kk, prstate: v.Rz(), paustate: v.j.HW() }; try { var z = (0, m.tH)(); z && (y.pdltime = z); (0, k.Ub)(y, x.yd, { prefix: "sm_" }) } catch (A) { } v.vc.l7(y, x); v.vc.MN(y, x.Af.value); v.vc.vq(y, x.he.value, x.rh.value); v.GH(y); v.Ic(f.kd.b$, void 0, l.Ae | l.st | l.vp, y) }; this.sM = function (x, y, z, A) {
                                    x = {
                                        moff: (0, k.Lo)(z), moffms: (0, k.Wf)(z), vbitrate: y.bitrate, vbitrateold: x.bitrate, vdlid: y.Dc, vdlidold: x.Dc, vheight: y.height,
                                        vheightold: x.height, vwidth: y.width, vwidthold: x.width, bw: A
                                    }; v.Ic(f.kd.sM, void 0, 0, x)
                                }; this.iP = function (x, y, z) { x = { moffold: (0, k.Lo)(x), reposseq: v.MY++, prstate: v.Rz(), paustate: v.j.HW() }; v.vc.vq(x, z && z.stream, y && y.stream); v.Ic(f.kd.iP, void 0, l.Ae, x) }; this.uE = function (x) {
                                    var y, z, A, B = x.xa, E = { playdelaysdk: (0, k.Wf)(v.j.hU()), applicationPlaydelay: (0, k.Wf)(v.j.Wja()), playdelay: (0, k.Wf)(v.j.Yja()), trackid: B.Kk, bookmark: (0, k.Wf)(B.Qt || 0), pbnum: B.index }; v.j.oi && (E.blocked = v.j.oi); E.initvbitrate = v.j.AW; v.vc.bqa(E);
                                    v.vc.D0a(E); E.esnSource = null === (y = ub._cad_global.device) || void 0 === y ? void 0 : y.x5; v.N0a(E, B); E.pdltime = (0, m.tH)(); (0, k.Ub)(E, B.yd, { prefix: "sm_" }); E.ttTrackFields = null === (z = B.Qb.value) || void 0 === z ? void 0 : z.Th; v.vc.z0a(E, B.Cb.value); v.vc.MN(E, B.Af.value); E.packageId = null === (A = B.pa) || void 0 === A ? void 0 : A.Gb.ep; v.vc.LN(E); v.vc.l7(E, B); v.GH(E); v.Ic(f.kd.uE, x.uh, l.Ae | l.pt | l.st | l.VE | l.vp, E)
                                }; this.eH = function () {
                                    var x = v.j, y = x.xa; x = x.uh; var z = v.gY(); z.paustate = !v.j.xq(); z.muted = v.j.Dqa(); z.endreason = x ? "error" :
                                        v.j.xqa() ? "ended" : "stopped"; v.vc.MN(z, y.Af.value); v.vc.LN(z); v.GH(z); v.Ic(f.kd.eH, x, l.Ae | l.pt | l.st | l.VE | l.vp, z)
                                }; this.Lva = function (x, y, z) { var A = v.j.xa.nf; x = { moff: (0, k.Lo)(z), moffms: (0, k.Wf)(z), vdlidold: x.Dc, vbitrateold: x.bitrate }; v.vc.vq(x, y, A.value && A.value.stream); v.Ic(f.kd.M8a, void 0, 0, x) }; this.Rz = function () { var x = v.j.sb.value; return x === d.Xa.Kc ? "playing" : x === d.Xa.mh ? "paused" : x === d.Xa.xp ? "ended" : "waiting" }; this.wa = n.lb("LogblobBuilderImpl"); this.j = w
                            } Object.defineProperty(b, "__esModule", { value: !0 });
                            b.DR = void 0; var f = a(279), k = a(24), m = a(46), g = a(3), d = a(15), h = a(4); c.prototype.getTime = function () { return this.ya.Rb().$(h.ja) }; c.prototype.Uoa = function () { return this.getTime() - this.j.xa.aj.$(h.ja) }; c.prototype.N0a = function (n, q) { var p; if (q = null === (p = q.Af.value) || void 0 === p ? void 0 : p.streams) n.maxbitrate = (0, m.yQ)(q.map(function (u) { return u.bitrate })), n.maxresheight = (0, m.yQ)(q.map(function (u) { return u.height })) }; c.prototype.GH = function (n) {
                                n.cachedManifest = "notcached"; n.cachedLicense = "notcached"; n.usedldl =
                                    "false"
                            }; c.prototype.gY = function () { var n = this.j.xa, q = n.Ol, p = { totaltime: (0, k.Lo)(q.CN()), totalcontenttime: (0, k.Lo)(q.ipa()), reposcount: this.MY, intrplaycount: this.yD }; p.playqualvideo = JSON.stringify({ numskip: 0, numlowqual: 0 }); var u = n.he.value; u && (p.videofr = u.framerate.toFixed(3)); (u = q.Ona()) && (p.abrdel = u); (u = q.X_a() && q.yYa()) && (p.tw_vmaf = u); (q = q.wYa()) && (0, k.Ub)(p, q); p.rbfrs = this.yD; this.N0a(p, n); return p }; c.prototype.Ic = function (n, q, p, u) {
                                var t = this, w; q && (0, g.Tca)(q.errorCode, this.Uoa()) && (w = "info");
                                var v = this.j.xa; this.sia(u, q, p); q = w || (q ? "error" : "info"); u = this.qA.Zt(n, q, u, v); this.ag.Ic(u); "error" !== q && n !== f.kd.eH || this.ag.flush(!1).catch(function () { t.wa.debug("Failed to flush the logblobs") })
                            }; c.prototype.sia = function (n, q, p) { var u = this.j.xa; this.vc.C0a(n, u); p & l.Ae && this.vc.J0a(n, u); p & l.pt && this.vc.L0a(n, u); p & l.st && this.vc.M0a(n, this.j.Ln()); q && p & l.VE && this.vc.F0a(n, u, q); p & l.vp && this.vc.bqa(n) }; b.DR = c; var l; (function (n) {
                                n[n.Ae = 1] = "MOFF"; n[n.pt = 2] = "PRESENTEDSTREAMS"; n[n.st = 4] = "SCREEN"; n[n.VE =
                                    8] = "FATALERROR"; n[n.vp = 16] = "BROWSERINFO"
                            })(l || (l = {}))
                        }, function (r, b, a) {
                            function c(n, q, p, u, t) { this.ag = n; this.config = q; this.Ba = p; this.ya = u; this.Jra = t } Object.defineProperty(b, "__esModule", { value: !0 }); b.ER = void 0; r = a(1); var f = a(0), k = a(16), m = a(35), g = a(13), d = a(52), h = a(449), l = a(1043); c.prototype.create = function (n) { return new l.GR(n, this.ag, this.config, this.ya, this.Jra.create(n)) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(d.no)), r.__param(1, (0, f.l)(g.cd)), r.__param(2, (0, f.l)(m.ih)), r.__param(3, (0,
                                f.l)(k.bd)), r.__param(4, (0, f.l)(h.CR))], a); b.ER = a
                        }, function (r, b, a) {
                            function c(g, d, h, l, n) {
                                var q = this; this.j = g; this.ag = d; this.config = h; this.ya = l; this.qb = n; this.nU = function () {
                                    q.ng(); q.j.xa.Mi.removeListener(q.oB); q.j.xa.Qb.removeListener(q.qb.Tl); q.j.xa.Cb.removeListener(q.jm); q.j.xa.rh.removeListener(q.qb.OT); q.j.Dj.removeListener(q.p7a); q.j.jP.removeListener(q.Ck); q.j.xa.Td.removeListener(q.nY); q.j.sb.removeListener(q.Aw); q.j.sb.removeListener(q.qM); q.j.xa.he.removeListener(q.p_); q.j.xa.playbackRate.removeListener(q.qb.tZ);
                                    q.j.removeEventListener(m.Fa.closed, q.nU); q.j.removeEventListener(m.Fa.O3, q.qb.oi)
                                }; this.qM = function () { q.j.sb.value === m.Xa.Kc && (q.j.sb.removeListener(q.qM), q.Iq()) }; this.oB = function (p) { q.NA && q.qb.oB(p) }; this.Ck = function (p) { q.NA && void 0 !== p.newValue && (q.Fs && q.up && q.qb.iua(q.getTime() - q.up, q.Fs), q.Fs = "repos", q.qb.iP(p.newValue, q.j.xa.nf.value, q.j.xa.Td.value), q.up = q.getTime(), (0, k.Tc)(q.Aw)) }; this.p7a = function (p) { q.NA && q.qb.S9(!p.newValue) }; this.jm = function (p) {
                                    p.oldValue && (q.mA = p.oldValue, q.qb.jm(p),
                                        q.Fs = "repos", q.up = q.getTime(), (0, k.Tc)(q.Aw))
                                }; this.Aw = function () { if (q.up && q.j.sb.value !== m.Xa.Pe) { var p = q.getTime() - q.up; q.qb.qP(p, !1, q.Fs); q.mA && q.mA != q.j.xa.Cb.value && q.qb.lja(); q.up = void 0; q.Fs = void 0 } }; this.Iq = function () { q.NA || (q.NA = !0, q.qb.uE(q.j), q.iqa(), q.config().s7 && (q.hA = ub.setTimeout(function () { q.ag.flush(!1).catch(function () { return q.log.warn("failed to flush log batcher on initialLogFlushTimeout") }); q.hA = void 0 }, q.config().s7))) }; this.ng = function () {
                                    q.hA && (ub.clearTimeout(q.hA), q.hA =
                                        void 0); q.d_ && q.d_(); q.NA ? q.qb.eH() : q.j.uh ? q.qb.uE(q.j) : q.qb.jua()
                                }; this.p_ = function (p) { p.oldValue && p.rm && p.rm.DG && q.qb.sM(p.oldValue, p.newValue, p.rm.DG, p.rm.WT) }; this.nY = function (p) { if (p.newValue) { var u = p.newValue.stream; q.TH != u && (q.TH && q.qb.Lva(q.TH, u, p.newValue.Dl.startTime), q.TH = u) } }; this.saa()
                            } Object.defineProperty(b, "__esModule", { value: !0 }); b.GR = void 0; var f = a(4), k = a(50), m = a(15); c.prototype.saa = function () {
                                this.j.addEventListener(m.Fa.closed, this.nU); this.j.addEventListener(m.Fa.O3, this.qb.oi);
                                this.j.xa.Mi.addListener(this.oB); this.j.xa.Qb.addListener(this.qb.Tl); this.j.xa.Cb.addListener(this.jm); this.j.xa.rh.addListener(this.qb.OT); this.j.Dj.addListener(this.p7a); this.j.jP.addListener(this.Ck); this.j.xa.Td.addListener(this.nY); this.j.sb.addListener(this.Aw); this.j.sb.addListener(this.qM); this.j.xa.he.addListener(this.p_); this.j.xa.playbackRate.addListener(this.qb.tZ)
                            }; c.prototype.getTime = function () { return this.ya.Rb().$(f.ja) }; c.prototype.iqa = function () {
                                var g = this, d, h = []; this.config().u4a &&
                                    (this.config().v4a.forEach(function (l) { h.push(ub.setTimeout(g.qb.PD, l)) }), this.config().L8 && (d = ub.setInterval(this.qb.PD, this.config().L8)), this.d_ = function () { h.forEach(function (l) { ub.clearTimeout(l) }); d && ub.clearInterval(d) })
                            }; b.GR = c
                        }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.vJ = void 0; r = a(0); var c = a(1045), f = a(1046), k = a(450), m = a(451); b.vJ = new r.dd(function (g) { g(m.zMa).to(c.yMa); g(k.wMa).Lj(new f.vMa); g(m.xMa).yf(function (d) { return function () { return d.kb.get(m.zMa) } }) }) },
                function (r, b, a) {
                    function c(d) { this.config = d; this.mxa = k.cb; this.JP = [] } Object.defineProperty(b, "__esModule", { value: !0 }); b.yMa = void 0; r = a(1); var f = a(0), k = a(47), m = a(4); a = a(450); c.prototype.Sw = function () { for (var d; 0 < this.JP.length;)d = this.JP.shift(), this.JQa(d); d = void 0 === this.XU || void 0 === this.ZG ? m.cb : this.ZG.Ja(this.XU); var h = d.W1a() ? 0 : this.mxa.$(k.OE) / d.$(m.ja); return { aya: Math.floor(h), Kbc: d.$(m.ja) } }; c.prototype.isb = function (d) {
                        this.mxa = this.mxa.add(d.size); this.JP.push(d.JCb); for (this.JP.sort(function (h,
                            l) { return h.start.El(l.start) }); this.JP.length > this.config.KCb;)d = this.JP.shift(), this.JQa(d)
                    }; c.prototype.JQa = function (d) { void 0 === this.XU && (this.XU = d.start); void 0 !== this.ZG && 0 > this.ZG.El(d.start) && (this.XU = this.XU.add(d.start.Ja(this.ZG))); if (void 0 === this.ZG || 0 > this.ZG.El(d.end)) this.ZG = d.end }; var g = c; g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.wMa))], g); b.yMa = g
                }, function (r, b, a) {
                    function c(f) { this.KCb = void 0 === f ? 10 : f } Object.defineProperty(b, "__esModule", { value: !0 }); b.vMa = void 0; r = a(1); a = a(0);
                    c = r.__decorate([(0, a.R)()], c); b.vMa = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Cn = void 0; r = a(0); var c = a(30), f = a(13), k = a(1048), m = a(154), g = a(155), d = a(1049), h = a(280), l = a(1050), n = a(452), q = a(453), p = a(1051), u = a(183), t = a(11), w = a(458), v = a(1055), x = a(459), y = a(1056), z = a(282), A = a(1057), B = a(460), E = a(32), D = a(457), F = a(1058); b.Cn = new r.dd(function (G) {
                        G(g.cS).to(d.NLa).aa(); G(c.UE).to(k.hCa).aa(); G(h.tFa).to(l.sFa).aa(); G(q.aBa).to(p.$Aa).aa(); G(h.yJa).Lj({ isTypeSupported: t.rF && t.rF.isTypeSupported });
                        G(u.PQ).Lj(ub.cast || null); G(u.dBa).Lj(ub.castReceiverEme || null); G(n.wDa).BE(function (C) { return { BHb: function () { return C.kb.get(E.WR) } } }); G(m.aK).BE(function (C) { return C.kb.get(f.cd) }); G(w.ZGa).to(v.WGa).aa(); G(D.VGa).to(F.UGa).aa(); G(x.YGa).to(y.XGa).aa(); G(z.Xca).to(A.vDa).aa(); G(B.CKa).Lj(ub)
                    })
                }, function (r, b, a) {
                    function c(l, n, q) { this.config = l; this.cTa = n; this.$Ub = q; this.CWb = this.EAb() } Object.defineProperty(b, "__esModule", { value: !0 }); b.hCa = void 0; r = a(1); var f = a(30), k = a(154), m = a(0), g = a(51), d = a(452);
                    a = a(453); c.prototype.I6 = function (l) { return this.uYa().s_a(l) }; c.prototype.t_a = function (l) { return this.Uz().s_a(l) }; c.prototype.e6 = function () { return this.uYa().e6() }; c.prototype.uYa = function () { this.gja && this.gja.type == this.config().hja || (this.gja = this.cTa.Nzb(this.config().hja)); return this.gja }; c.prototype.Uz = function () { this.nba && this.nba.type == this.config().oba || (this.nba = this.cTa.SAb(this.config().oba), this.nba.uia(this.$Ub.BHb())); return this.nba }; c.prototype.X9 = function (l) { return this.Uz().Yab(l) };
                    c.prototype.oZa = function (l) { if (!l || !l.length) return f.xd.cR; l = this.pFb(l); for (var n = [f.xd.aS, f.xd.cR, f.xd.HF, f.xd.jt, f.xd.jr, f.xd.AB, f.xd.VB, f.xd.tl], q = n.length; q--;) { var p = n[q]; if ((0, this.CWb[p])(l)) return p } return f.xd.aS }; c.prototype.Gx = function (l) { return this.Uz().Gx(l) }; c.prototype.Tt = function (l) { return this.Uz().Tt(l) }; c.prototype.Pz = function () { return this.Uz().Pz() }; c.prototype.Eaa = function () { return this.Uz().Eaa() }; c.prototype.pN = function (l) { return this.Uz().pN(l) }; c.prototype.vN = function () { return this.Uz().vN() };
                    c.prototype.D6 = function () { return this.Uz().D6() }; c.prototype.pFb = function (l) { var n = {}; l.filter(function (q) { return "video" === q.type }).forEach(function (q) { n[q.Ig] = "" }); return Object.keys(n) }; c.prototype.EAb = function () {
                        var l = {}; l[f.xd.tl] = function (n) { return n.some(function (q) { return -1 < q.indexOf("av1") }) }; l[f.xd.AB] = function (n) { return n.some(function (q) { return -1 < q.indexOf("hpl") }) }; l[f.xd.VB] = function (n) { return n.some(function (q) { return -1 < q.indexOf("vp9") }) }; l[f.xd.jr] = function (n) {
                            return n.some(function (q) {
                                return -1 <
                                    q.indexOf("hevc-dv")
                            })
                        }; l[f.xd.jt] = function (n) { return n.some(function (q) { return -1 < q.indexOf("hevc-hdr") }) }; l[f.xd.HF] = function (n) { return n.some(function (q) { return -1 < q.indexOf("hevc-main10-L") || -1 < q.indexOf("hevc-main-L") }) }; l[f.xd.cR] = function (n, q) { var p = {}; n.forEach(function (u) { return p[u] = 1 }); n = da(q); for (q = n.next(); !q.done; q = n.next())if (p[q.value]) return !0; return !1 }.bind(null, [g.V.aR]); l[f.xd.aS] = function () { return !0 }; return l
                    }; var h = c; h = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(k.aK)), r.__param(1,
                        (0, m.l)(a.aBa)), r.__param(2, (0, m.l)(d.wDa))], h); b.hCa = h
                }, function (r, b, a) {
                    function c(q, p, u) { this.Cn = q; this.hb = p; this.Mab = u; this.Mrb = "video/mp4;codecs={0}"; this.Smb = "audio/mp4;codecs={0}"; q = this.Cn.pN(k.xd.jr); this.Lrb = g.Xd.YUa(q) } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.NLa = void 0; r = a(1); var k = a(30), m = a(0), g = a(131), d = a(25), h = a(338), l = a(454), n = a(12); c.prototype.F4 = function (q) { q = this.Cn.oZa(q); q = this.hb.SC(q) ? q : k.xd.aS; return this.Mab.format(this.Mrb, this.Lrb[q]) }; c.prototype.B4 = function (q) {
                        if (0 ===
                            q.length) return this.Mab.format(this.Smb, g.Xd.y_); q = l.dAa[q[0].Ig] || f.uza; return q === f.uza ? n.Q0 : q === f.ieb ? n.zGa : n.yGa
                    }; a = f = c; a.uza = "AAC"; a.ieb = "XHEAAC"; a = f = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(k.UE)), r.__param(1, (0, m.l)(d.pf)), r.__param(2, (0, m.l)(h.iMa))], a); b.NLa = a
                }, function (r, b, a) {
                    function c(l, n, q) { this.config = l; this.wVa = n; this.cast = q } Object.defineProperty(b, "__esModule", { value: !0 }); b.sFa = void 0; r = a(1); var f = a(0), k = a(280), m = a(154), g = a(30), d = a(183), h = a(281); c.prototype.PUa = function () {
                        switch (this.config().oba) {
                            case g.gn.P_: return d.wca.gla(this.wVa,
                                this.cast); case g.gn.lF: return h.NB.gla(this.config); default: return this.wVa
                        }
                    }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.aK)), r.__param(1, (0, f.l)(k.yJa)), r.__param(2, (0, f.l)(d.PQ))], a); b.sFa = a
                }, function (r, b, a) {
                    function c(B, E, D, F, G, C, H, L, N, J, Q) { this.S1a = B; this.cast = E; this.config = D; this.Oc = F; this.Ba = G; this.is = C; this.xk = H; this.ns = L; this.platform = N; this.ic = J; this.ex = Q } Object.defineProperty(b, "__esModule", { value: !0 }); b.$Aa = void 0; r = a(1); var f = a(0), k = a(30), m = a(280), g = a(154), d = a(183), h = a(1052),
                        l = a(1053), n = a(184), q = a(456), p = a(49), u = a(35), t = a(25), w = a(1054), v = a(72), x = a(7), y = a(29), z = a(41); a = a(457); c.prototype.Nzb = function (B) { var E = this.S1a.PUa(); switch (B) { case k.EB.lF: return new h.vHa(this.config, E, this.is, this.platform, this.ex); default: return new q.k0(this.config, E, this.ex) } }; c.prototype.SAb = function (B) {
                            var E = this.S1a.PUa(); switch (B) {
                                case k.gn.P_: B = new d.wca(this.config, E, this.is, this.cast, this.ex); break; case k.gn.mBa: B = new w.rBa(this.config, E, this.is, this.xk, this.ns, this.Ba, this.ex); break;
                                case k.gn.lF: B = new l.EGa(this.config, E, this.is, this.Oc, this.Ba, this.ns, this.ic, this.ex, this.xk); break; default: B = new n.lo(this.config, E, this.is, this.ex)
                            }return B
                        }; var A = c; A = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.tFa)), r.__param(1, (0, f.l)(d.PQ)), r.__param(2, (0, f.l)(g.aK)), r.__param(3, (0, f.l)(p.Uj)), r.__param(4, (0, f.l)(u.ih)), r.__param(5, (0, f.l)(t.pf)), r.__param(6, (0, f.l)(v.mt)), r.__param(7, (0, f.l)(x.ub)), r.__param(8, (0, f.l)(y.Tj)), r.__param(9, (0, f.l)(z.kj)), r.__param(10, (0, f.l)(a.VGa))], A); b.$Aa =
                            A
                }, function (r, b, a) {
                    function c(h, l, n, q, p) { h = g.k0.call(this, h, l, p) || this; h.is = n; h.platform = q; h.type = f.EB.lF; return h } Object.defineProperty(b, "__esModule", { value: !0 }); b.vHa = void 0; var f = a(30), k = a(51), m = a(136), g = a(456), d = a(281); qa(c, g.k0); c.prototype.e6 = function () { return 0 }; c.prototype.Ho = function () {
                        var h = {}; h[k.xg.x0] = "mp4a.40.2"; h[k.xg.y0] = "mp4a.40.2"; "browser" === this.platform.Z4 ? this.config().uma && (h[k.xg.U_] = { Gf: "avc1", keySystem: m.bc.QB, features: ["audio-endpoint-codec=DD+JOC"] }, h[k.xg.QQ] = {
                            Gf: "avc1",
                            keySystem: m.bc.QB, features: ["audio-endpoint-codec=DD+JOC"]
                        }) : (this.config().AWa && (h[k.xg.U_] = "ec-3"), this.config().zWa && (h[k.xg.T_] = "ec-3"), this.config().uma && (h[k.xg.QQ] = { Gf: "avc1", keySystem: m.bc.QB, features: ["audio-endpoint-codec=DD+JOC"] })); return h
                    }; c.prototype.yXa = function (h) {
                        var l = this; h = h.filter(function (n) {
                            for (var q = da(l.dv), p = q.next(); !p.done; p = q.next())if (p.value.test(n)) return !0; q = da(l.Zn); for (p = q.next(); !p.done; p = q.next())if (p.value.test(n)) return !1; n = l.sY[n]; q = []; var u = m.bc.QB; if (n) return l.is.tn(n) ?
                                p = n : (q = n.features, p = n.Gf, u = n.keySystem), l.IC(u, p, q)
                        }); return Promise.resolve(h)
                    }; c.prototype.IC = function (h, l, n) { h = d.NB.C4(h, l, n); return this.Tt(h) }; b.vHa = c
                }, function (r, b, a) {
                    function c(F, G, C, H, L, N, J, Q, K) { F = k.lo.call(this, F, G, C, Q) || this; F.Oc = H; F.Ba = L; F.ns = N; F.ic = J; F.ex = Q; F.xk = K; F.type = m.gn.lF; F.NQ = "hvc1"; F.wfb = "avc1"; F.Y6a = {}; F.log = F.ns.lb("MicrosoftVideoCapabilityDetector"); F.Q0b(); F.Daa && F.config().QQb ? F.RCb = F.dAb() : (F.RCb = Promise.resolve(""), F.config().SQb ? F.iAb() : F.config().RQb && F.hAb()); return F }
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.EGa = void 0; var f = a(51), k = a(184), m = a(30); r = a(113); var g = a(136), d = a(4), h = a(336), l = a(131), n = a(281), q = a(56), p = a(185), u = "decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8".split(" "), t = "decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" "), w = "decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" "),
                        v = "decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" "), x = "decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" "), y = "decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" "), z = "decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" "),
                        A = ["hdcp=1"], B = ["hdcp=2"], E = new r.UB, D = new h.lca; qa(c, k.lo); c.prototype.pN = function (F) { return F === m.xd.jr && this.config().z4b ? l.Xd.bR : k.lo.prototype.pN.call(this, F) }; c.prototype.Gx = function (F) { switch (F) { case m.Pj.bF: return this.Wab(); case m.Pj.Iv: return this.s$; default: return Promise.resolve(!1) } }; c.prototype.Pz = function () {
                            function F() { return G.Daa ? G.mLb ? G.Wab().then(function (C) { return Promise.resolve(C ? g.bc.ke : g.bc.AK) }) : Promise.resolve(g.bc.AK) : G.S1b ? Promise.resolve(g.bc.AK) : Promise.resolve(g.bc.QB) }
                            var G = this; this.keySystem || (this.keySystem = this.config().qp ? this.xk.Qw().then(function (C) { return C.keySystem }) : F()); return this.keySystem
                        }; c.prototype.Eaa = function () { return Promise.resolve({ result: this.Vab(), reason: "is-type-supported" }) }; c.prototype.uia = function (F) { this.Hq = F; Object.assign(this.Hq, this.Y6a); F.itshwdrm = this.Daa; F.itsqhd = this.Xab(); F.itshevc = this.Q1b(); F.itshdr = this.Vab(); F.itsdv = this.O1b(); F.itsav1 = this.N1b(); this.Iya() }; c.prototype.DT = function (F, G) { (this.Hq ? this.Hq : this.Y6a)[F] = G };
                    c.prototype.vN = function () { var F = this; return this.Gx(m.Pj.Iv).then(function (G) { return G ? F.yU(m.Pj.Iv) : F.Gx(m.Pj.bF).then(function (C) { return C ? F.yU(m.Pj.bF) : F.yU(void 0) }) }) }; c.prototype.D6 = function () { return this.config().qp ? Promise.resolve(void 0) : this.Pz().then(function (F) { return F === g.bc.ke ? { DEVICE_SECURITY_LEVEL: "3000" } : void 0 }) }; c.prototype.bD = function (F) {
                        var G = this; return this.Pz().then(function (C) {
                            if (G.Mqa(C, F)) return !1; var H = G.sY[F]; if (H) {
                                var L = []; if (G.is.tn(H)) var N = H; else L = H.features, N = H.Gf,
                                    C = H.keySystem; return G.IC(C, N, L)
                            } return !1
                        })
                    }; c.prototype.Ho = function () {
                        var F = k.lo.prototype.Ho.call(this); F[f.V.O1] = F[f.V.N1] = F[f.V.M1] = F[f.V.Gfa] = { Gf: "vp09.00.11.08.02", keySystem: g.bc.ke, features: u }; F[f.V.B0] = F[f.V.A0] = { Gf: "hev1.2.6.L90.B0", keySystem: g.bc.ke, features: t }; F[f.V.D0] = F[f.V.C0] = { Gf: "hev1.2.6.L93.B0", keySystem: g.bc.ke, features: t }; F[f.V.F0] = F[f.V.E0] = { Gf: "hev1.2.6.L120.B0", keySystem: g.bc.ke, features: t }; F[f.V.H0] = F[f.V.G0] = { Gf: "hev1.2.6.L123.B0", keySystem: g.bc.ke, features: t }; F[f.V.oR] = F[f.V.mK] =
                            { Gf: "hev1.2.6.L150.B0", keySystem: g.bc.ke, features: t }; F[f.V.pR] = F[f.V.nK] = { Gf: "hev1.2.6.L153.B0", keySystem: g.bc.ke, features: t }; F[f.V.eR] = F[f.V.dR] = { Gf: "hev1.2.6.L90.B0", keySystem: g.bc.ke, features: v }; F[f.V.gR] = F[f.V.fR] = { Gf: "hev1.2.6.L93.B0", keySystem: g.bc.ke, features: v }; F[f.V.hR] = F[f.V.lK] = { Gf: "hev1.2.6.L120.B0", keySystem: g.bc.ke, features: v }; F[f.V.jR] = F[f.V.iR] = { Gf: "hev1.2.6.L123.B0", keySystem: g.bc.ke, features: x }; F[f.V.lR] = F[f.V.kR] = { Gf: "hev1.2.6.L150.B0", keySystem: g.bc.ke, features: x }; F[f.V.nR] = F[f.V.mR] =
                                { Gf: "hev1.2.6.L153.B0", keySystem: g.bc.ke, features: x }; F[f.V.Z_] = F[f.V.Y_] = { Gf: "hev1.2.6.L90.B0", keySystem: g.bc.ke, features: y }; F[f.V.a0] = F[f.V.$_] = { Gf: "hev1.2.6.L93.B0", keySystem: g.bc.ke, features: y }; F[f.V.c0] = F[f.V.b0] = { Gf: "hev1.2.6.L120.B0", keySystem: g.bc.ke, features: y }; F[f.V.e0] = F[f.V.d0] = { Gf: "hev1.2.6.L123.B0", keySystem: g.bc.ke, features: z }; F[f.V.g0] = F[f.V.f0] = { Gf: "hev1.2.6.L150.B0", keySystem: g.bc.ke, features: z }; F[f.V.i0] = F[f.V.h0] = { Gf: "hev1.2.6.L153.B0", keySystem: g.bc.ke, features: z }; F[f.V.Lba] = {
                                    Gf: "av01.0.04M.10",
                                    keySystem: g.bc.ke, features: u
                                }; F[f.V.Mba] = { Gf: "av01.0.05M.10", keySystem: g.bc.ke, features: u }; F[f.V.Nba] = { Gf: "av01.0.08M.10", keySystem: g.bc.ke, features: u }; F[f.V.Oba] = { Gf: "av01.0.09M.10", keySystem: g.bc.ke, features: u }; F[f.V.Pba] = { Gf: "av01.0.12M.10", keySystem: g.bc.ke, features: w }; F[f.V.Qba] = { Gf: "av01.0.13M.10", keySystem: g.bc.ke, features: w }; return F
                    }; c.prototype.IC = function (F, G, C) { F = n.NB.C4(F, G, C); return this.Tt(F) }; c.prototype.Xab = function () { return this.IC(g.bc.ke, this.NQ, t) }; c.prototype.Vab = function () {
                        return this.IC(g.bc.ke,
                            this.NQ, v)
                    }; c.prototype.O1b = function () { return this.IC(g.bc.ke, this.NQ, y) }; c.prototype.N1b = function () { return this.IC(g.bc.ke, l.Xd.tl, u) }; c.prototype.Q1b = function () { return this.IC(g.bc.ke, this.NQ, w) }; c.prototype.Wab = function () { var F = this; return this.s$.then(function (G) { return G ? Promise.resolve(G) : F.P7a }) }; c.prototype.Iya = function () { this.Hq && (this.Hq.itshdcp = JSON.stringify({ hdcp1: this.Y_a, time1: this.pbb - this.sab, hdcp2: this.Z_a, time2: this.qbb - this.tab })) }; c.prototype.Q0b = function () {
                        var F = this; this.Daa ?
                            (this.s$ = this.ZZa(this.config().t4a, this.config().UQb, function () { var G = F.NHb(); return ["maybe" !== G, G] }).then(function (G) { return "probably" === G }), this.P7a = this.s$.then(function (G) { return G ? !0 : F.ZZa(F.config().t4a, F.config().TQb, function () { var C = F.MHb(); return ["maybe" !== C, C] }).then(function (C) { return "probably" === C }) })) : (this.P7a = Promise.resolve(!0), this.s$ = Promise.resolve(!1))
                    }; c.prototype.ZZa = function (F, G, C) {
                        var H = this; return new Promise(function (L) {
                            var N = da(C()), J = N.next().value; N = N.next().value; if (J) return L(N);
                            var Q = H.Oc.U$((0, d.Nc)(F), function () { var I = da(C()), M = I.next().value; I = I.next().value; M && (Q.cancel(), K.cancel(), L(I)) }), K = H.Oc.Fk((0, d.Nc)(G), function () { Q.cancel(); K.cancel(); L("timeout") })
                        })
                    }; c.prototype.MHb = function () { var F = n.NB.C4(g.bc.AK, this.wfb, A).split("|"); this.Y_a = n.NB.Rxa(F[0], F[1]); this.pbb = this.Ba.Ie.$(d.ja); this.sab = this.sab || this.pbb; this.Iya(); return this.Y_a }; c.prototype.NHb = function () {
                        var F = n.NB.C4(g.bc.ke, this.NQ, B).split("|"); this.Z_a = n.NB.Rxa(F[0], F[1]); this.qbb = this.Ba.Ie.$(d.ja);
                        this.tab = this.tab || this.qbb; this.Iya(); return this.Z_a
                    }; c.prototype.dAb = function () { var F = this; return this.ila(g.bc.ke, '<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (q.nIa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function (G) { F.log.debug("DriverInfo: " + G); return G }).catch(function (G) { F.DT("itsDriverInfo", "exception"); F.log.error("DriverInfo exception", G); throw G; }) }; c.prototype.hAb = function () {
                        var F = this; this.ila(g.bc.QB, '<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function (G) {
                            var C =
                                String.fromCharCode.apply(void 0, F.ic.decode(G)); F.DT("itsHardwareInfo", C); F.log.debug("HardwareInfo: " + C); return G
                        }).catch(function (G) { F.DT("itsHardwareInfo", "exception"); F.log.error("HardwareInfo exception", G); throw G; })
                    }; c.prototype.iAb = function () {
                        var F = this; this.ila(g.bc.QB, '<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function (G) {
                            var C = String.fromCharCode.apply(void 0, F.ic.decode(G)); F.DT("itsHardwareReset",
                                C); F.log.debug("ResetHardwareDRMDisabled: " + C); return G
                        }).catch(function (G) { F.DT("itsHardwareReset", "exception"); F.log.error("ResetHardwareDRMDisabled exception", G); throw G; })
                    }; c.prototype.ila = function (F, G) {
                        var C = this; return new Promise(function (H, L) {
                            function N(S) { try { K(S.target, "Unexpectedly got an mskeyerror event: 0x" + D.DV(S && S.target && S.target.error && S.target.error.rfc || 0, 4)) } catch (U) { K(S.target, U) } } function J(S) { K(S.target, "Unexpectedly got an mskeyadded event") } function Q(S) {
                                try {
                                    var U = C.Qma(S.message,
                                        "PlayReadyKeyMessage", "Challenge"); I(S.target); H(U)
                                } catch (Z) { K(S.target, Z) }
                            } function K(S, U) { C.log.error("PlayReadyChallenge error", { cdmData: G }); I(S); L(U) } function I(S) { S.removeEventListener("mskeymessage", Q); S.removeEventListener("mskeyadded", J); S.removeEventListener("mskeyerror", N); P && P.cancel() } try {
                                var M = new Uint8Array(E.q1b(G)), O = (new ub.MSMediaKeys(F)).createSession("video/mp4", new Uint8Array(0), M); O.addEventListener("mskeymessage", Q); O.addEventListener("mskeyadded", J); O.addEventListener("mskeyerror",
                                    N); var P = C.Oc.Fk((0, d.Nc)(1E3), function () { K(O, Error("timeout")) })
                            } catch (S) { L(S) }
                        })
                    }; c.prototype.Qma = function (F, G) { for (var C = 1; C < arguments.length; ++C); C = ""; var H, L = F.length; for (H = 0; H < L; H++) { var N = F[H]; 0 < N && (C += String.fromCharCode(N)) } L = "\\s*(.*)\\s*"; for (H = arguments.length - 1; 0 < H; H--) { N = arguments[H]; if (0 > C.search(N)) return; N = "(?:[^:].*:|)" + N; L = "[\\s\\S]*<" + N + "[^>]*>" + L + "</" + N + ">[\\s\\S]*" } if (C = C.match(new RegExp(L))) return C[1] }; c.prototype.Mqa = function (F, G) {
                        return [p.Ze.AB, p.Ze.VB].some(function (C) { return C.test(G) }) &&
                            this.config().Csa && ![g.bc.AK, g.bc.clb].some(function (C) { return C === F })
                    }; Ya.Object.defineProperties(c.prototype, { mLb: { configurable: !0, enumerable: !0, get: function () { return this.config().xDb && (!this.config().VQb || this.Xab()) } }, Daa: { configurable: !0, enumerable: !0, get: function () { try { return this.Tt(g.bc.ke + "|" + l.Xd.YQb) } catch (F) { return !1 } } }, S1b: { configurable: !0, enumerable: !0, get: function () { try { return this.Tt(g.bc.AK) } catch (F) { return !1 } } } }); b.EGa = c
                }, function (r, b, a) {
                    function c(h, l, n, q, p, u, t) {
                        h = f.lo.call(this,
                            h, l, n, t) || this; h.xk = q; h.ns = p; h.Ba = u; h.ex = t; h.type = k.gn.mBa; h.log = h.ns.lb("ChromeVideoCapabilityDetector"); return h
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.rBa = void 0; var f = a(184), k = a(30), m = a(4), g = a(56), d = a(185); qa(c, f.lo); c.prototype.Gx = function (h) { switch (h) { case k.Pj.Iv: return this.P1b; default: return Promise.resolve(!1) } }; c.prototype.vN = function () { var h = this; return this.Gx(k.Pj.Iv).then(function (l) { return l ? k.Pj.Iv : void 0 }).then(function (l) { return h.yU(l) }) }; c.prototype.uia = function (h) {
                        this.Hq =
                            h
                    }; c.prototype.bD = function (h) { var l = this; return this.config().Csa ? this.xk.Qw().then(function (n) { return l.Mqa((0, g.toa)(n), h) ? !1 : f.lo.prototype.bD.call(l, h) }) : f.lo.prototype.bD.call(this, h) }; c.prototype.CNb = function (h) { var l; return !(null === (l = h.getConfiguration().videoCapabilities) || void 0 === l || !l.some(function (n) { return (null === n || void 0 === n ? void 0 : n.robustness) === g.oK })) }; c.prototype.zcb = function () {
                        if (this.Hq) {
                            var h = this.$_a && this.b0a && this.$_a.Ja(this.b0a).$(m.ja); this.Hq.itshdcp = JSON.stringify({
                                hdcp2: this.wu,
                                time2: h
                            })
                        }
                    }; c.prototype.Mqa = function (h, l) { return [d.Ze.AB, d.Ze.VB].some(function (n) { return n.test(l) }) && this.config().Csa && h === g.oK }; Ya.Object.defineProperties(c.prototype, {
                        mediaKeys: { configurable: !0, enumerable: !0, get: function () { this.l4a || (this.l4a = this.xk.Qw().then(function (h) { return h.createMediaKeys() })); return this.l4a } }, P1b: {
                            configurable: !0, enumerable: !0, get: function () {
                                var h = this; this.Sxa || (this.config().yDb ? this.Sxa = Promise.all([this.xk.Qw(), this.mediaKeys]).then(function (l) {
                                    var n = da(l); l = n.next().value;
                                    n = n.next().value; if (!h.CNb(l)) return h.wu = "not HW_SECURE_DECODE", h.log.trace("hdcpStatus: " + h.wu), !1; if (n && n.getStatusForPolicy) return h.b0a = h.Ba.Ie, n.getStatusForPolicy({ minHdcpVersion: "2.2" }).then(function (q) { h.$_a = h.Ba.Ie; h.wu = q; h.log.trace("hdcpStatus: " + h.wu); return "usable" === h.wu }); h.wu = "not available"; h.log.trace("hdcpStatus: " + h.wu); return !1
                                }).catch(function (l) { h.wu = "exception"; h.log.error("Exception in supportsHdcpLevel", { hdcpStatus: h.wu }, l); return !1 }).then(function (l) { h.zcb(); return l }) :
                                    (this.wu = "not enabled", this.log.trace("hdcpStatus: " + this.wu), this.zcb(), this.Sxa = Promise.resolve(!1))); return this.Sxa
                            }
                        }
                    }); b.rBa = c
                }, function (r, b, a) {
                    function c(m) { this.navigator = m; this.j4a = "mediaCapabilities" in this.navigator && "decodingInfo" in this.navigator.mediaCapabilities } Object.defineProperty(b, "__esModule", { value: !0 }); b.WGa = void 0; r = a(1); var f = a(0); a = a(32); c.prototype.Uma = function (m) {
                        return this.j4a ? this.navigator.mediaCapabilities.decodingInfo({
                            type: "media-source", video: {
                                contentType: m.contentType,
                                width: m.width, height: m.height, bitrate: m.bitrate, framerate: m.framerate
                            }
                        }).then(function (g) { return { supported: g.supported, smooth: g.smooth, powerEfficient: g.powerEfficient } }) : Promise.reject("MediaCapabilities not supported")
                    }; var k = c; k = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.tF))], k); b.WGa = k
                }, function (r, b, a) {
                    function c(d, h) { this.mediaCapabilities = d; this.log = h.lb("MediaCapabilities"); this.sY = g.l0.Ho() } Object.defineProperty(b, "__esModule", { value: !0 }); b.XGa = void 0; r = a(1); var f = a(458), k = a(7), m = a(0),
                        g = a(278); c.prototype.Uma = function (d) { var h = this, l, n = { Sc: void 0 }; if (this.mediaCapabilities.j4a) { var q = { contentType: 'video/mp4;codecs="' + (null !== (l = this.sY[d.Ig]) && void 0 !== l ? l : "avc1.640028") + '"', width: d.width, height: d.height, bitrate: 1E3 * d.bitrate, framerate: 24 }; this.mediaCapabilities.Uma(q).then(function (p) { return n.Sc = Object.assign(Object.assign({}, p), q) }).catch(function (p) { return h.log.error("Error calling MediaCapabilities API", p) }) } return n }; a = c; a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(f.ZGa)),
                        r.__param(1, (0, m.l)(k.ub))], a); b.XGa = a
                }, function (r, b, a) {
                    function c(g) { this.eWb = g } Object.defineProperty(b, "__esModule", { value: !0 }); b.vDa = void 0; r = a(1); var f = a(0), k = a(282); a = a(460); c.prototype.OEb = function () {
                        var g = { lV: k.HB.imb };
                        var d = this.eWb.PresentationRequest;
                        console.log("t2 netflix.com", (new d("https://netflix.com")).getAvailability());
                        d && ((new d("https://netflix.com")).getAvailability() || Promise.reject()).then(function (h) {
                            g.lV = h.value ? k.HB.BKa : k.HB.xza; if (g.lV === k.HB.xza) {
                                var l = function () { h.value && (g.lV = k.HB.BKa); h.removeEventListener("change", l) }; h.addEventListener("change",
                                    l)
                            }
                        }).catch(function () { g.lV = k.HB.Error }); return g
                    }; var m = c; m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.CKa))], m); b.vDa = m
                }, function (r, b, a) {
                    function c(p, u, t, w) { this.config = p; this.navigator = u; this.ns = t; this.OD = w; this.type = k.gn.GB; this.$Ra = {}; this.kdb = {}; this.Dia = {}; this.log = this.ns.lb("MediaCapabilityDetector"); this.$Ra = this.Mzb(); this.kdb = this.RAb() } Object.defineProperty(b, "__esModule", { value: !0 }); b.UGa = void 0; r = a(1); var f = a(0), k = a(30), m = a(51), g = a(7), d = a(32), h = a(72), l = a(154), n = a(56), q = a(11); c.prototype.bD =
                        function (p) { var u = this; return this.OD.Qw().then(function (t) { return u.bFb(p, t) }).catch(function () { return !1 }) }; c.prototype.VMb = function (p) { return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction }; c.prototype.u1a = function () { return ub.matchMedia("(dynamic-range: high)").matches }; c.prototype.bFb = function (p, u) {
                            try {
                                var t = { type: "media-source" }, w = this.$Ra[p], v = this.kdb[p]; if (w) t.audio = w; else if (v) { t.video = v; if (this.VMb(v) && !this.u1a()) return Promise.resolve(!1); u && (t.keySystemConfiguration = this.cIb(u)) } else return Promise.resolve(!1);
                                return Promise.all([this.wwb(t), this.uwb(v.contentType)]).then(function (x) { var y = da(x); x = y.next().value; y = y.next().value; return x && y })
                            } catch (x) { return this.log.error("mediaCapabilitiesIsTypeSupported failed", x), Promise.resolve(!1) }
                        }; c.prototype.wwb = function (p) {
                            var u = this; return this.navigator.mediaCapabilities.decodingInfo(p).then(function (t) {
                                t.configuration || (t.configuration = p); var w = u.uNb(p, t); w ? u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(t)) : u.log.warn("mediaCapabilities.decodingInfo: " +
                                    JSON.stringify(t)); return w
                            }).catch(function (t) { u.log.error("mediaCapabilities.decodingInfo failed", t); return !1 })
                        }; c.prototype.uwb = function (p) {
                            var u = this; if (!this.config().HDb) return Promise.resolve(!0); this.Dia[p] || (this.Dia[p] = new Promise(function (t) {
                                try {
                                    var w = new q.rF; document.createElement("video").src = URL.createObjectURL(w); w.addEventListener("sourceopen", function () {
                                        try { w.addSourceBuffer(p), u.log.trace("addSourceBuffer succeeded for " + p), t(!0) } catch (v) {
                                            u.log.warn("addSourceBuffer failed", v),
                                                t(!1)
                                        }
                                    })
                                } catch (v) { u.log.warn("addSourceBuffer failed", v), t(!1) }
                            })); return this.Dia[p]
                        }; c.prototype.cIb = function (p) { this.keySystemConfiguration || (this.keySystemConfiguration = { keySystem: p.keySystem }, (p = (0, n.toa)(p)) && (this.keySystemConfiguration.video = { robustness: p })); return this.keySystemConfiguration }; c.prototype.Mzb = function () {
                            var p = {}, u = { contentType: "audio/mp4;codecs=mp4a.40.2" }; p[m.xg.x0] = u; p[m.xg.TDa] = u; p[m.xg.y0] = u; p[m.xg.NK] = u; u = { contentType: "audio/mp4;codecs=ec-3" }; p[m.xg.U_] = u; p[m.xg.T_] =
                                u; p[m.xg.QQ] = u; return p
                        }; c.prototype.RAb = function () {
                            var p = {}, u = { contentType: 'video/mp4; codecs="hev1.2.4.L120.B0"' }, t = { contentType: 'video/mp4; codecs="dvh1.05.04"' }, w = { width: 1920, height: 1080 }, v = { width: 3840, height: 2160 }, x = Object.assign(Object.assign({}, w), { bitrate: 12E6, framerate: 30 }), y = Object.assign(Object.assign({}, w), { bitrate: 2E7, framerate: 60 }); w = Object.assign(Object.assign({}, v), { bitrate: 25E6, framerate: 30 }); v = Object.assign(Object.assign({}, v), { bitrate: 4E7, framerate: 60 }); var z = {
                                hdrMetadataType: "smpteSt2086",
                                colorGamut: "rec2020", transferFunction: "pq"
                            }, A = { hdrMetadataType: "smpteSt2094-10", colorGamut: "rec2020", transferFunction: "pq" }, B = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="avc1.640028"' }), x); p[m.V.RDa] = B; p[m.V.bda] = B; p[m.V.cda] = B; p[m.V.dda] = B; B = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="vp09.02.31.10.01"' }), x); p[m.V.Gfa] = B; p[m.V.M1] = B; p[m.V.N1] = B; p[m.V.O1] = B; B = Object.assign(Object.assign({}, u), x); var E = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="hev1.2.4.L123.B0"' }),
                                y), D = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="hev1.2.4.L150.B0"' }), w), F = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="hev1.2.4.L153.B0"' }), v); p[m.V.A0] = B; p[m.V.C0] = B; p[m.V.E0] = B; p[m.V.G0] = E; p[m.V.mK] = D; p[m.V.nK] = F; p[m.V.B0] = B; p[m.V.D0] = B; p[m.V.F0] = B; p[m.V.H0] = E; p[m.V.oR] = D; p[m.V.pR] = F; B = Object.assign(Object.assign(Object.assign({}, u), x), z); E = Object.assign(Object.assign(Object.assign({}, u), y), z); D = Object.assign(Object.assign(Object.assign({}, u), w), z); u = Object.assign(Object.assign(Object.assign({},
                                    u), v), z); p[m.V.dR] = B; p[m.V.fR] = B; p[m.V.lK] = B; p[m.V.iR] = E; p[m.V.kR] = D; p[m.V.mR] = u; p[m.V.eR] = B; p[m.V.gR] = B; p[m.V.hR] = B; p[m.V.jR] = E; p[m.V.lR] = D; p[m.V.nR] = u; u = Object.assign(Object.assign(Object.assign({}, t), x), A); z = Object.assign(Object.assign(Object.assign({}, t), y), A); B = Object.assign(Object.assign(Object.assign({}, t), w), A); t = Object.assign(Object.assign(Object.assign({}, t), v), A); p[m.V.Y_] = u; p[m.V.$_] = u; p[m.V.b0] = u; p[m.V.d0] = z; p[m.V.f0] = B; p[m.V.h0] = t; p[m.V.Z_] = u; p[m.V.a0] = u; p[m.V.c0] = u; p[m.V.e0] = z; p[m.V.g0] =
                                        B; p[m.V.i0] = t; x = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="av01.0.08M.10"' }), x); y = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="av01.0.09M.10"' }), y); w = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="av01.0.12M.10"' }), w); v = Object.assign(Object.assign({}, { contentType: 'video/mp4; codecs="av01.0.13M.10"' }), v); p[m.V.vza] = x; p[m.V.wza] = x; p[m.V.Lba] = x; p[m.V.Mba] = x; p[m.V.Nba] = x; p[m.V.Oba] = y; p[m.V.Pba] = w; p[m.V.Qba] = v; return p
                        }; c.prototype.uNb = function (p,
                            u) { return p.video && this.config().GVb ? u.supported && u.powerEfficient : u.supported }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(l.aK)), r.__param(1, (0, f.l)(d.tF)), r.__param(2, (0, f.l)(g.ub)), r.__param(3, (0, f.l)(h.mt))], a); b.UGa = a
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.storage = void 0; r = a(0); var c = a(461), f = a(71), k = a(186), m = a(1060), g = a(464), d = a(1061), h = a(463), l = a(187), n = a(1062), q = a(1064), p = a(1065), u = a(1066), t = a(71), w = a(465), v = a(1068); b.storage = new r.dd(function (x) {
                        x(k.GHa).yf(function () { return function () { return ub.localStorage } });
                        x(k.DEa).yf(function () { return function () { return ub.indexedDB } }); x(w.sHa).to(v.rHa).aa(); x(t.Rx).to(u.Dza).aa(); x(g.WFa).to(d.VFa).aa(); x(c.N0).to(q.iFa).aa(); x(l.kFa).to(n.jFa).aa(); x(f.$La).to(m.HBa).aa(); x(l.CEa).to(n.BEa).aa(); x(l.uda).to(n.lFa).aa(); x(h.JBa).to(p.IBa).aa()
                    })
                }, function (r, b, a) {
                    function c(h, l, n) { this.hp = l; this.config = n; this.wa = h.lb(g.ufa) } Object.defineProperty(b, "__esModule", { value: !0 }); b.HBa = void 0; r = a(1); var f = a(0), k = a(7), m = a(64), g = a(462); a = a(463); c.prototype.validate = function (h) {
                        return this.config.enabled ?
                            this.config.timeout ? this.hp.Pq(this.config.timeout, this.ZVa(h)) : this.ZVa(h) : Promise.resolve()
                    }; c.prototype.ZVa = function (h) { var l = this; return new Promise(function (n, q) { return h.save("indexdb-test", "true", !0).then(function () { return h.load("indexdb-test").then(function (p) { "true" !== p.value && q(); l.wa.debug("save/load test passed"); h.remove("indexdb-test").then(function () { n() }).catch(function () { l.wa.error("Failed to remove testValue"); n() }) }) }).catch(function (p) { return q(p) }) }) }; var d = c; d = r.__decorate([(0,
                        f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.jy)), r.__param(2, (0, f.l)(a.JBa))], d); b.HBa = d
                }, function (r, b, a) {
                    function c(g) { this.ZD = g } Object.defineProperty(b, "__esModule", { value: !0 }); b.VFa = void 0; r = a(1); var f = a(0), k = a(3); a = a(186); c.prototype.load = function (g) { var d = this; return new Promise(function (h, l) { try { var n = d.ZD.getItem(g); if (n) { var q = n; if ("{" === n[0]) try { q = JSON.parse(n) || n } catch (p) { } h({ key: g, value: q }) } else l({ ma: k.M.oy }) } catch (p) { l({ ma: k.M.oLa, cause: p }) } }) }; c.prototype.save = function (g,
                        d, h) { var l = this; return new Promise(function (n, q) { if (h && l.ZD.getItem(g)) n(!1); else try { "string" === typeof d ? l.ZD.setItem(g, d) : l.ZD.setItem(g, JSON.stringify(d)), n(!0) } catch (p) { q({ ma: k.M.pLa, cause: p }) } }) }; c.prototype.remove = function (g) { var d = this; return new Promise(function (h, l) { try { d.ZD.removeItem(g), h() } catch (n) { l({ ma: k.M.nfa, cause: n }) } }) }; c.prototype.loadAll = function () { return Promise.reject("Not supported") }; c.prototype.removeAll = function () { return Promise.reject("Not supported") }; var m = c; m = r.__decorate([(0,
                            f.R)(), r.__param(0, (0, f.l)(a.Kjb))], m); b.VFa = m
                }, function (r, b, a) {
                    function c(x, y, z, A, B, E) { this.config = y; this.GU = z; this.Rl = A; this.Y4b = B; this.sl = E; this.wa = x.lb(n.ufa) } function f(x, y) { this.config = x; this.PZ = y } function k(x, y, z, A, B) { this.config = y; this.PZ = z; this.sl = B; this.wa = x.lb(n.ufa); this.GU = new Promise(function (E, D) { try { var F = A(); F ? E(F) : D({ ma: l.M.FEa }) } catch (G) { D({ ma: l.M.M0, cause: G }) } }) } Object.defineProperty(b, "__esModule", { value: !0 }); b.lFa = b.jFa = b.BEa = void 0; r = a(1); var m = a(0), g = a(7), d = a(1063), h = a(186),
                        l = a(3), n = a(462), q = a(461), p = a(64), u = a(71), t = a(73), w = a(187), v = a(63); k.prototype.create = function () { this.zla || (this.zla = this.BM()); return this.zla }; k.prototype.hq = function (x) { var y = this; this.zla = null; return this.PZ.Pq(this.config.timeout, new Promise(function (z, A) { x.close(); y.delete(x.name).then(function () { z() }).catch(function (B) { A(B) }) })).catch(function (z) { return z instanceof p.xr ? Promise.reject({ ma: l.M.M0 }) : z.ma ? Promise.reject(z) : Promise.reject({ ma: l.M.M0, cause: z }) }) }; k.prototype.delete = function (x) {
                            var y =
                                this; return this.PZ.Pq(this.config.timeout, new Promise(function (z, A) { y.GU.then(function (B) { var E = B.deleteDatabase(x); E.onsuccess = function () { z() }; E.onerror = function () { A({ ma: l.M.M0, cause: E.error }) } }).catch(function (B) { A(B) }) }))
                        }; k.prototype.BM = function () {
                            var x = this, y; return this.PZ.Pq(this.config.timeout, new Promise(function (z, A) {
                                if (x.config.kxa) return A({ ma: x.config.kxa }); x.GU.then(function (B) {
                                    x.sl.mark(v.Wj.Thb); y = B.open(x.config.name, x.config.version); if (!y) return A({ ma: l.M.GEa }); y.onblocked = function () {
                                        x.sl.mark(v.Wj.Qhb);
                                        A({ ma: l.M.Mhb })
                                    }; y.onupgradeneeded = function () { x.sl.mark(v.Wj.$hb); var E = y.result; try { E.createObjectStore(x.config.IX, { keyPath: "name" }) } catch (D) { x.wa.error("Exception while creating object store", D) } }; y.onsuccess = function (E) {
                                        x.sl.mark(v.Wj.Zhb); try {
                                            var D = E.target.result, F = D.objectStoreNames.length; x.wa.trace("objectstorenames length ", F); if (0 === F) {
                                                x.wa.error("invalid indexedDb state, deleting"); x.sl.mark(v.Wj.Shb); try { D.close() } catch (G) { } B.deleteDatabase(x.config.name); setTimeout(function () { A({ ma: l.M.Lhb }) },
                                                    1); return
                                            }
                                        } catch (G) { x.wa.error("Exception while inspecting indexedDb objectstorenames", G) } z(y.result)
                                    }; y.onerror = function () { x.sl.mark(v.Wj.Rhb); x.wa.error("IndexedDB open error", y.error); A({ ma: l.M.Nhb, cause: y.error }) }
                                }).catch(function (B) { A(B) })
                            })).catch(function (z) {
                                if (z instanceof p.xr) {
                                    try { y && y.readyState && x.sl.mark("readyState-" + y.readyState) } catch (A) { } if (x.config.C3 && y && "done" === y.readyState) { if (x.T4b(y)) return x.sl.mark(v.Wj.Xhb), Promise.resolve(y.result); x.sl.mark(v.Wj.Whb) } x.sl.mark(v.Wj.Vhb);
                                    return Promise.reject({ ma: l.M.Phb })
                                } if (z.ma) return Promise.reject(z); x.sl.mark(v.Wj.Uhb); x.wa.error("IndexedDB open exception occurred", z); return Promise.reject({ ma: l.M.Ohb, cause: z })
                            })
                        }; k.prototype.T4b = function (x) { try { return 0 < x.result.objectStoreNames.length } catch (y) { this.sl.mark(v.Wj.Yhb), this.wa.error("failed to check open request state", y) } return !1 }; a = k; a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(g.ub)), r.__param(1, (0, m.l)(q.N0)), r.__param(2, (0, m.l)(p.jy)), r.__param(3, (0, m.l)(h.DEa)), r.__param(4,
                            (0, m.l)(t.FF))], a); b.BEa = a; f.prototype.create = function (x) { return Promise.resolve(new d.hFa(this.config, this.PZ, x)) }; a = f; a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(q.N0)), r.__param(1, (0, m.l)(p.jy))], a); b.jFa = a; c.prototype.create = function () { if (this.storage) return Promise.resolve(this.storage); this.zU || (this.zU = this.BM(this.Y4b)); return this.zU }; c.prototype.BM = function (x) {
                                var y = this; x = void 0 === x ? [] : x; return new Promise(function (z, A) {
                                    y.sl.mark(v.Wj.Jlb); y.GU.create().then(function (B) {
                                        y.Rl.create(B).then(function (E) {
                                            Promise.all(x.map(function (D) { return D.validate(E) })).then(function () {
                                                y.storage =
                                                    E; z(y.storage)
                                            }).catch(function (D) { y.wa.debug("DB validation failed, cause: " + D); y.config.TXa ? (y.wa.debug("Fixing corrupt DB"), y.GU.hq(B).then(function () { y.wa.error("Invalid database deleted, creating new database."); y.BM().then(function (F) { y.wa.error("Invalid database successfully recreated."); y.storage = F; z(y.storage) }) }).catch(function (F) { y.wa.error("Couldn't delete invalid database."); A(F) })) : (y.wa.debug("Ignoring invalid DB due to config"), y.storage = E, z(y.storage)) })
                                        }).catch(function (E) { A(E) })
                                    }).catch(function (B) { A(B) })
                                })
                            };
                    a = c; a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(g.ub)), r.__param(1, (0, m.l)(q.N0)), r.__param(2, (0, m.l)(w.CEa)), r.__param(3, (0, m.l)(w.kFa)), r.__param(4, (0, m.iI)(u.$La)), r.__param(5, (0, m.l)(t.FF))], a); b.lFa = a
                }, function(r, b, a) {
                    function c(d, h, l) {
                        this.config = d;
                        this.hp = h;
                        this.ZD = l
                    }
                
                    function f(d, h) {
                        this.reason = d;
                        this.cause = h
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.hFa = b.QKa = void 0;
                    var k = a(3),
                        m = a(64),
                        g;
                    (function(d) {
                        d[d.eea = 0] = "NoData";
                        d[d.Error = 1] = "Error";
                        d[d.KK = 2] = "Timeout"
                    })(g = b.QKa || (b.QKa = {}));
                    c.prototype.load = function(d) {
                        var h = this;
                        return new Promise(function(l, n) {
                            h.B5("get", !1, d).then(function(q) {
                                l({
                                    key: d,
                                    value: q
                                })
                            }).catch(function(q) {
                                var p = k.M.oLa;
                                switch (q.reason) {
                                    case g.eea:
                                        p = k.M.oy;
                                        break;
                                    case g.KK:
                                        p = k.M.Klb
                                }
                                n({
                                    ma: p,
                                    cause: q.cause
                                })
                            })
                        })
                    };
                    c.prototype.save = function(d, h, l) {
                        var n = this;
                        return new Promise(function(q, p) {
                            n.B5(l ? "add" : "put", !0, {
                                name: d,
                                data: h
                            }).then(function() {
                                q(!l)
                            }).catch(function(u) {
                                var t = k.M.pLa;
                                switch (u.reason) {
                                    case g.KK:
                                        t = k.M.Nlb
                                }
                                p({
                                    ma: t,
                                    cause: u.cause
                                })
                            })
                        })
                    };
                    c.prototype.remove =
                        function(d) {
                            var h = this;
                            return new Promise(function(l, n) {
                                h.B5("delete", !0, d).then(function() {
                                    l()
                                }).catch(function(q) {
                                    var p = k.M.nfa;
                                    switch (q.reason) {
                                        case g.KK:
                                            p = k.M.nLa
                                    }
                                    n({
                                        ma: p,
                                        cause: q.cause
                                    })
                                })
                            })
                        };
                    c.prototype.removeAll = function() {
                        var d = this;
                        return new Promise(function(h, l) {
                            d.B5("clear", !0, "").then(function() {
                                h()
                            }).catch(function(n) {
                                var q = k.M.nfa;
                                switch (n.reason) {
                                    case g.KK:
                                        q = k.M.nLa
                                }
                                l({
                                    ma: q,
                                    cause: n.cause
                                })
                            })
                        })
                    };
                    c.prototype.loadAll = function() {
                        var d = this;
                        return this.hp.Pq(this.config.timeout, new Promise(function(h,
                            l) {
                            if (d.config.jxa) l(new f(d.config.jxa));
                            else {
                                var n = [],
                                    q = d.ZD.transaction(d.config.IX, "readonly"),
                                    p = q.objectStore(d.config.IX).openCursor();
                                q.onerror = function() {
                                    l(new f(g.Error, p.error))
                                };
                                p.onsuccess = function(u) {
                                    if (u = u.target.result) try {
                                        n.push({
                                            key: u.value.name,
                                            value: u.value.data
                                        }), u.continue()
                                    } catch (t) {
                                        l(new f(g.Error, t))
                                    } else h(n)
                                };
                                p.onerror = function() {
                                    l(new f(g.Error, p.error))
                                }
                            }
                        })).catch(function(h) {
                            return h instanceof m.xr ? Promise.reject(new f(g.KK, h)) : h instanceof f ? Promise.reject(h) : Promise.reject(new f(g.Error,
                                h))
                        })
                    };
                    c.prototype.B5 = function(d, h, l) {
                        var n = this;
                        return this.hp.Pq(this.config.timeout, new Promise(function(q, p) {
                            var u = n.ZD.transaction(n.config.IX, h ? "readwrite" : "readonly"),
                                t = u.objectStore(n.config.IX)[d](l);
                            u.onerror = function() {
                                p(new f(g.Error, t.error))
                            };
                            t.onsuccess = function(w) {
                                if ("get" == d) try {
                                    var v = w.target.result;
                                    v ? q(v.data) : p(new f(g.eea))
                                } catch (x) {
                                    p(new f(g.eea, x))
                                } else q(void 0)
                            };
                            t.onerror = function() {
                                p(new f(g.Error, t.error))
                            }
                        })).catch(function(q) {
                            return q instanceof m.xr ? Promise.reject(new f(g.KK,
                                q)) : q instanceof f ? Promise.reject(q) : Promise.reject(new f(g.Error, q))
                        })
                    };
                    b.hFa = c
                }, function(r, b, a) {
                    function c(h, l) {
                        h = m.$e.call(this, h, "IndexedDBConfigImpl") || this;
                        h.config = l;
                        h.version = 1;
                        h.IX = "namedatapairs";
                        return h
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.iFa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(42),
                        m = a(48),
                        g = a(34);
                    a = a(33);
                    qa(c, m.$e);
                    Ya.Object.defineProperties(c.prototype, {
                        name: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return "netflix.player" + (this.config.gu ? "Test" : "")
                            }
                        },
                        timeout: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.config.Dxa
                            }
                        },
                        C3: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.config.C3
                            }
                        },
                        kxa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return 0
                            }
                        },
                        jxa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return 0
                            }
                        },
                        TXa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return !0
                            }
                        }
                    });
                    var d = c;
                    r.__decorate([k.config(k.tB, "simulateIdbOpenError")], d.prototype, "kxa", null);
                    r.__decorate([k.config(k.tB, "simulateIdbLoadAllError")], d.prototype, "jxa", null);
                    r.__decorate([k.config(k.Rc,
                        "fixInvalidDatabase")], d.prototype, "TXa", null);
                    d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.Qk)), r.__param(1, (0, f.l)(g.Wl))], d);
                    b.iFa = d
                },
                function(r, b, a) {
                    function c(m) {
                        this.config = m
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.IBa = void 0;
                    r = a(1);
                    var f = a(0);
                    a = a(34);
                    Ya.Object.defineProperties(c.prototype, {
                        timeout: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.config.Dxa
                            }
                        },
                        enabled: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.config.Haa
                            }
                        }
                    });
                    var k = c;
                    k = r.__decorate([(0, f.R)(),
                        r.__param(0, (0, f.l)(a.Wl))
                    ], k);
                    b.IBa = k
                },
                function(r, b, a) {
                    function c(q, p, u, t) {
                        this.wa = q;
                        this.config = p;
                        this.rLb = u;
                        this.ysa = t;
                        this.JG = {
                            mem: {
                                storage: this.ysa,
                                key: "mem"
                            }
                        };
                        this.wE = this.config.wE
                    }
                
                    function f(q, p, u, t) {
                        this.bg = q;
                        this.Rl = p;
                        this.ysa = u;
                        this.config = t
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Xba = b.Dza = void 0;
                    r = a(1);
                    var k = a(0),
                        m = a(3),
                        g = a(187),
                        d = a(7),
                        h = a(465),
                        l = a(1067);
                    a = a(34);
                    f.prototype.create = function() {
                        this.zU || (this.zU = this.BM());
                        return this.zU
                    };
                    f.prototype.BM = function() {
                        this.ntb = new c(this.bg.lb("AppStorage"),
                            this.config, this.Rl, this.ysa);
                        return this.ntb.create()
                    };
                    var n = f;
                    n = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(d.ub)), r.__param(1, (0, k.l)(g.uda)), r.__param(2, (0, k.l)(h.sHa)), r.__param(3, (0, k.l)(a.Wl))], n);
                    b.Dza = n;
                    c.prototype.create = function() {
                        var q = this;
                        return this.jAb().then(function(p) {
                            if (!q.Zvb(p, q.config.uW)) throw q.WRb(p);
                            return q
                        })
                    };
                    c.prototype.load = function(q) {
                        var p = this;
                        return new Promise(function(u, t) {
                            p.KV(q).storage.load(q).then(function(w) {
                                u(w)
                            }).catch(function(w) {
                                t(w)
                            })
                        })
                    };
                    c.prototype.save =
                        function(q, p, u) {
                            var t = this;
                            return new Promise(function(w, v) {
                                t.KV(q).storage.save(q, p, u).then(function(x) {
                                    w(x)
                                }).catch(function(x) {
                                    v(x)
                                })
                            })
                        };
                    c.prototype.remove = function(q) {
                        var p = this;
                        return new Promise(function(u, t) {
                            p.KV(q).storage.remove(q).then(function() {
                                u()
                            }).catch(function(w) {
                                t(w)
                            })
                        })
                    };
                    c.prototype.removeAll = function() {
                        var q = this;
                        return new Promise(function(p, u) {
                            q.D8a("mem").then(function() {
                                return q.D8a("idb")
                            }).catch(function(t) {
                                return Promise.reject(t)
                            }).then(function() {
                                p()
                            }).catch(function(t) {
                                q.wa.error("remove all failed");
                                u(t)
                            })
                        })
                    };
                    c.prototype.loadAll = function() {
                        var q = this,
                            p = [];
                        return this.K2a("mem").then(function(u) {
                            p = p.concat(u);
                            return q.K2a("idb")
                        }).catch(function(u) {
                            q.rNb(u) || q.wa.error("IndexedDb.LoadAll exception", u);
                            return []
                        }).then(function(u) {
                            return p = p.concat(u)
                        }).catch(function(u) {
                            q.wa.error("load all failed", u);
                            throw u;
                        })
                    };
                    c.prototype.jAb = function() {
                        var q = this;
                        return this.rLb.create().then(function(p) {
                            q.JG.idb = {
                                storage: p,
                                key: "idb"
                            }
                        }).catch(function(p) {
                            q.wa.error("idb failed to load", p);
                            return p || {
                                ma: m.M.wl
                            }
                        })
                    };
                    c.prototype.Zvb = function(q, p) {
                        return !q || q && p ? !0 : !1
                    };
                    c.prototype.WRb = function(q) {
                        var p = "";
                        q && (p += q.ma);
                        return {
                            ma: p
                        }
                    };
                    c.prototype.D8a = function(q) {
                        return (q = this.JG[q]) ? q.storage.removeAll() : Promise.resolve()
                    };
                    c.prototype.K2a = function(q) {
                        return (q = this.JG[q]) ? q.storage.loadAll() : Promise.resolve([])
                    };
                    c.prototype.lFb = function(q) {
                        for (var p in this.wE)
                            if (q.startsWith(p)) return this.wE[p];
                        return this.wE[l.lgb]
                    };
                    c.prototype.KV = function(q) {
                        var p = this;
                        this.lFb(q).every(function(t) {
                            return p.JG[t] ? (u = p.JG[t], !1) :
                                !0
                        });
                        if (!u) {
                            this.wa.error("component not found for storageKey", {
                                a1b: q,
                                Tac: Object.keys(this.JG),
                                rules: this.wE
                            });
                            var u = this.JG.mem
                        }
                        this.wa.trace("component found for key", {
                            storageKey: q,
                            componentKey: u.key
                        });
                        return u
                    };
                    c.prototype.rNb = function(q) {
                        return (q && (q.ma || q.errorSubCode)) === m.M.oy
                    };
                    b.Xba = c
                },
                function(r, b) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.lgb = "__default_rule_key__"
                },
                function(r, b, a) {
                    function c(g) {
                        this.bg = g;
                        this.kI = {};
                        this.wa = this.bg.lb("MemoryStorage")
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.rHa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(3);
                    a = a(7);
                    c.prototype.load = function(g) {
                        if (this.kI.hasOwnProperty(g)) {
                            var d = this.kI[g];
                            this.wa.debug("Storage entry loaded", {
                                key: g
                            });
                            return Promise.resolve({
                                key: g,
                                value: d
                            })
                        }
                        this.wa.debug("Storage entry not found", {
                            key: g
                        });
                        return Promise.reject({
                            ma: k.M.oy
                        })
                    };
                    c.prototype.save = function(g, d, h) {
                        if (h && this.kI.hasOwnProperty(g)) return Promise.resolve(!1);
                        this.kI[g] = d;
                        return Promise.resolve(!0)
                    };
                    c.prototype.remove = function(g) {
                        delete this.kI[g];
                        return Promise.resolve()
                    };
                    c.prototype.loadAll = function() {
                        var g = Object.entries(this.kI).map(function(d) {
                            var h = da(d);
                            d = h.next().value;
                            h = h.next().value;
                            return {
                                key: d,
                                value: h
                            }
                        });
                        return Promise.resolve(g)
                    };
                    c.prototype.removeAll = function() {
                        this.kI = {};
                        return Promise.resolve()
                    };
                    var m = c;
                    m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.ub))], m);
                    b.rHa = m
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.hM = void 0;
                    r = a(0);
                    var c = a(466),
                        f = a(467),
                        k = a(468),
                        m = a(1070),
                        g = a(1071),
                        d = a(1072);
                    b.hM = new r.dd(function(h) {
                        h(c.rAa).to(m.qAa).aa();
                        h(f.pAa).to(g.mAa).aa();
                        h(k.oAa).to(d.nAa).aa()
                    })
                },
                function(r, b, a) {
                    function c(n, q, p, u, t) {
                        this.T3 = q;
                        this.hb = p;
                        this.Pub = u;
                        this.config = t;
                        this.wa = n.lb("Bookmark")
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.qAa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(467),
                        m = a(468),
                        g = a(7),
                        d = a(25),
                        h = a(4);
                    a = a(13);
                    c.prototype.Ssb = function(n) {
                        var q = n.fb.playbackState && n.fb.playbackState.currentTime,
                            p = this.aHb(n.K);
                        q = this.hb.SC(q) ? (0, h.Nc)(q) : p;
                        if (this.hb.Vi(q)) this.wa.info("Overriding bookmark", {
                                From: n.KJ.$(h.ja),
                                To: q.$(h.ja)
                            }),
                            n = Object.assign({}, n, {
                                KJ: q
                            });
                        else if (this.vLb(n)) return this.wa.trace("Ignoring bookmark because it's too close to beginning"), (0, h.vg)(0);
                        return n.KJ.Fqa() ? (this.wa.trace("Ignoring bookmark because it's negative"), (0, h.vg)(0)) : this.uLb(n) ? (this.wa.trace("Ignoring bookmark because it's too close to end"), (0, h.vg)(0)) : this.tLb(n) ? (this.wa.trace("Ignoring bookmark because it's too close to the end to start decoding"), (0, h.vg)(0)) : n.KJ
                    };
                    c.prototype.vLb = function(n) {
                        return 0 > n.KJ.El(this.koa(n))
                    };
                    c.prototype.koa =
                        function(n) {
                            return this.ySa(this.T3.koa(), n.Y9)
                        };
                    c.prototype.uLb = function(n) {
                        return 0 < n.KJ.El(this.loa(n))
                    };
                    c.prototype.loa = function(n) {
                        var q = n.fb.vj ? this.T3.QHb() : this.T3.loa();
                        return n.Y9.Ja(this.ySa(q, n.Y9))
                    };
                    c.prototype.tLb = function(n) {
                        return 0 < n.KJ.El(this.zHb(n))
                    };
                    c.prototype.zHb = function(n) {
                        var q = n.fb.vj ? this.config().X5a : this.config().wI;
                        return n.Y9.Ja((0, h.Nc)(q))
                    };
                    c.prototype.aHb = function(n) {
                        n = this.T3.Pna()[n];
                        var q = -1;
                        this.hb.tn(n) ? q = parseInt(n) : this.hb.li(n) && (q = n);
                        if (this.hb.FT(q)) return (0,
                            h.Nc)(q)
                    };
                    c.prototype.ySa = function(n, q) {
                        return this.Pub.r1b(n, q)
                    };
                    var l = c;
                    l = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(g.ub)), r.__param(1, (0, f.l)(k.pAa)), r.__param(2, (0, f.l)(d.pf)), r.__param(3, (0, f.l)(m.oAa)), r.__param(4, (0, f.l)(a.cd))], l);
                    b.qAa = l
                },
                function(r, b, a) {
                    function c(m) {
                        this.config = m
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.mAa = void 0;
                    r = a(1);
                    var f = a(0);
                    a = a(13);
                    c.prototype.koa = function() {
                        return this.Mz().Qub
                    };
                    c.prototype.loa = function() {
                        return this.Mz().Rub
                    };
                    c.prototype.QHb = function() {
                        return this.Mz().Sub
                    };
                    c.prototype.Pna = function() {
                        return this.Mz().xSa
                    };
                    c.prototype.Mz = function() {
                        return this.config()
                    };
                    var k = c;
                    k = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cd))], k);
                    b.mAa = k
                },
                function(r, b, a) {
                    function c(g) {
                        this.hb = g
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.nAa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(25),
                        m = a(4);
                    c.prototype.r1b = function(g, d) {
                        var h = parseFloat(g),
                            l = 0;
                        "%" === g[g.length - 1] && this.hb.li(h) ? l = Math.round(h * d.$(m.ja) / 100) : (g = parseInt(g), this.hb.FT(g) && (l = g));
                        return (0, m.Nc)(Math.min(l, d.$(m.ja)))
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.pf))], a);
                    b.nAa = a
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.SSa = void 0;
                    r = a(0);
                    var c = a(469),
                        f = a(1074);
                    b.SSa = new r.dd(function(k) {
                        k(c.JAa).to(f.IAa).aa()
                    })
                },
                function(r, b, a) {
                    function c(p, u, t, w, v, x) {
                        this.config = p;
                        this.ix = t;
                        this.profile = w;
                        this.YZ = v;
                        this.jU = x;
                        this.log = u.lb("CDMAttestedDescriptor");
                        this.KYa(n.ot.XR)
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.IAa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(13),
                        m = a(7),
                        g = a(156),
                        d = a(188),
                        h = a(80),
                        l = a(163),
                        n = a(34),
                        q = a(60);
                    c.prototype.KYa = function(p) {
                        var u = this;
                        return this.YZ.naa(p) ? this.config().tDb ? this.IYa().then(function(t) {
                            if (t) return !1, Promise.resolve(void 0);
                            u.E2a || (!1, u.E2a = u.jU.Toa(q.ei.Bp));
                            return u.E2a
                        }).catch(function(t) {
                            u.log.error("Failed to generate challenge", t)
                        }).then(function(t) {
                            null === t || void 0 === t ? void 0 : t.dc.close();
                            return null === t || void 0 === t ? void 0 : t.hka
                        }).then(function(t) {
                            return Promise.all([Promise.resolve(t), u.IYa()])
                        }).then(function(t) {
                            t = da(t);
                            var w = t.next().value;
                            if (t.next().value) !1;
                            else return w
                        }) : this.ix().then(function(t) {
                            t.pO.removeServiceToken("cad")
                        }) : Promise.resolve(void 0)
                    };
                    c.prototype.IYa = function() {
                        var p = this;
                        return this.ix().then(function(u) {
                            return (u = u.pO.getServiceTokens(p.profile)) && u.find(function(t) {
                                return "cad" === t.name
                            })
                        })
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.cd)), r.__param(1, (0, f.l)(m.ub)), r.__param(2, (0, f.l)(g.MR)), r.__param(3, (0, f.l)(h.EK)), r.__param(4, (0, f.l)(d.gS)), r.__param(5, (0, f.l)(l.O_))], a);
                    b.IAa = a
                },
                function(r, b,
                    a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.t3a = void 0;
                    r = a(0);
                    var c = a(266),
                        f = a(1076),
                        k = a(470),
                        m = a(1083),
                        g = a(474),
                        d = a(476),
                        h = a(1084),
                        l = a(189),
                        n = a(1085),
                        q = a(478),
                        p = a(1086);
                    b.t3a = new r.dd(function(u) {
                        u(k.LGa).to(m.KGa).aa();
                        u(c.Vda).to(f.MGa).aa();
                        u(g.ZJa).Lj(function(t) {
                            for (var w = [], v = 0; v < arguments.length; ++v) w[v - 0] = arguments[v];
                            v = a(284).EF;
                            return new(Function.prototype.bind.apply(v, [null].concat(la(w))))
                        });
                        u(d.PGa).yf(function() {
                            return function(t) {
                                return new h.QGa(t)
                            }
                        });
                        u(l.R0).to(n.IGa).aa();
                        u(q.HGa).to(p.GGa).aa()
                    })
                },
                function(r, b, a) {
                    function c(t, w, v, x) {
                        this.bg = t;
                        this.config = w;
                        this.tua = v;
                        this.lya = x
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.MGa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(7),
                        m = a(470),
                        g = a(1077),
                        d = a(1078),
                        h = a(1079),
                        l = a(1080),
                        n = a(1081),
                        q = a(1082),
                        p = a(474);
                    a = a(475);
                    c.prototype.create = function(t) {
                        var w = this.bg.lb("ManifestParser", t),
                            v = new g.iBa(w, this.config);
                        return new h.NGa(v, new d.tMa(w, this.config, t, v, this.tua), new l.QMa(w, t, this.lya), new n.cAa(w, this.config, t), new q.mNa(w))
                    };
                    var u = c;
                    u = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.LGa)), r.__param(2, (0, f.l)(p.ZJa)), r.__param(3, (0, f.l)(a.OMa))], u);
                    b.MGa = u
                },
                function(r, b, a) {
                    function c(g, d) {
                        this.log = g;
                        this.config = d
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.iBa = void 0;
                    var f = a(106),
                        k = a(283),
                        m = a(20);
                    c.prototype.Ota = function(g, d, h) {
                        var l = this,
                            n = this.config.fka,
                            q = this.config.eka;
                        g = da((0, f.Tu)(function(t) {
                            return (!n.length || 0 <= n.indexOf(t.id)) && 0 > q.indexOf(t.id)
                        }, g || []));
                        var p = g.next().value;
                        g.next().value.forEach(function(t) {
                            return l.log.warn("Cdn is not allowed", {
                                Id: t.id
                            })
                        });
                        var u = p.map(function(t) {
                            var w = (d ? d.find(function(v) {
                                return v.key === t.key
                            }) : void 0) || {};
                            return {
                                id: t.id,
                                name: t.name,
                                cc: t.cc,
                                type: t.type,
                                zra: t.key,
                                bdc: t.h3a,
                                location: {
                                    id: w.key,
                                    cc: w.cc,
                                    level: w.level,
                                    weight: w.weight,
                                    uj: []
                                }
                            }
                        });
                        u.sort(function(t, w) {
                            return t.cc - w.cc
                        });
                        u.forEach(function(t) {
                            return t.location.uj = u.filter(function(w) {
                                return w.zra === t.zra
                            })
                        });
                        this.log.trace("Transformed cdns", {
                            Count: u.length
                        });
                        if (h && !u.length) throw Error("no valid cdns");
                        return u
                    };
                    c.prototype.nLb = function(g, d, h,
                        l) {
                        var n = g.filter(function(q) {
                            return -1 === h.findIndex(function(p) {
                                return p.id === q.id
                            })
                        }).map(function(q) {
                            return {
                                $5a: !0,
                                Pc: q
                            }
                        }).concat(h.map(function(q) {
                            return {
                                $5a: !1,
                                Pc: q
                            }
                        })).sort(function(q, p) {
                            return q.Pc.cc === p.Pc.cc ? q.$5a ? -1 : 1 : q.Pc.cc - p.Pc.cc
                        }).map(function(q, p) {
                            (0, k.cO)(q.Pc).cc = p + 1;
                            return q.Pc
                        });
                        g = d.filter(function(q) {
                            return -1 === l.findIndex(function(p) {
                                return p.key === q.key
                            })
                        }).concat(l).map(function(q) {
                            var p = n.findIndex(function(u) {
                                return u.key === q.key
                            });
                            (0, m.gb)(-1 !== p);
                            p = n[p];
                            (0, k.cO)(q).cc =
                                p.cc;
                            return q
                        });
                        return {
                            TZb: n,
                            aPb: g
                        }
                    };
                    b.iBa = c
                },
                function(r, b, a) {
                    function c(d, h, l, n, q) {
                        this.log = d;
                        this.config = h;
                        this.j = l;
                        this.lU = n;
                        this.tua = q
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.tMa = void 0;
                    var f = a(51),
                        k = a(11),
                        m = a(130),
                        g = a(471);
                    c.prototype.E6a = function(d, h) {
                        var l = this;
                        h = h.map(function(n) {
                            var q, p, u = l.d3b(n);
                            n.BD || !n.yi || u && 0 < u.length || l.log.error("track without downloadables", l.jIb(n));
                            var t = {},
                                w = [];
                            0 < u.length && (t = n.language && 0 <= l.config.DH.indexOf(n.language) ? u[1] && u[1].profile === f.Vj.EEa ?
                                u[1] : u[0] : u[0], t.profile == f.Vj.qF && (t = l.GZb(u), !1), w = l.lU.Ota(n.dTa, void 0, !1));
                            n = l.tua(l.j, n.tg, n.id, null !== (q = n.cc) && void 0 !== q ? q : -1, null !== (p = n.yi) && void 0 !== p ? p : !0, d, t.Dc, t.urls || {}, w, n.language, n.FD, m.K1[n.hj.toLowerCase()] || m.Hp.zK, n.qJ, n.variant, n.xx.toUpperCase(), t.profile, l.pIb(t) || {}, n.BD, n.F7, n.I7, n.xu);
                            l.log.trace("Transformed timed text track", n);
                            return n
                        });
                        this.log.trace("Transformed timed text tracks", {
                            Count: h.length
                        });
                        return h
                    };
                    c.prototype.C2b = function(d) {
                        var h = this,
                            l = this.config.wna;
                        if (l) {
                            if (d = da(d.filter(function(n) {
                                    return n.hf == l || n.trackId == l
                                })).next().value) return d
                        } else if (this.j.zV && (d = da(d.filter(function(n) {
                                return n.trackId == h.j.zV
                            })).next().value)) return d
                    };
                    c.prototype.d3b = function(d) {
                        var h = this,
                            l = d.iWa;
                        d = Object.entries(d.tya || {}).map(function(n) {
                            var q = da(n);
                            n = q.next().value;
                            q = q.next().value;
                            return {
                                Dc: l[n],
                                profile: n,
                                size: q.size || 0,
                                priority: h.rHb(n, q),
                                offset: q.Esa || 0,
                                SUb: q.width,
                                S6a: q.height,
                                urls: q.Gw
                            }
                        });
                        d.sort(function(n, q) {
                            return n.priority - q.priority
                        });
                        return d
                    };
                    c.prototype.rHb =
                        function(d, h) {
                            var l = this.config.vv.indexOf(d);
                            h = h.size;
                            var n = this.config.xJ;
                            return d === f.Vj.V_ && 0 < n && h > n ? this.config.vv.length + 1 : 0 <= l ? l : this.config.vv.length
                        };
                    c.prototype.pIb = function(d) {
                        if (d.profile === f.Vj.qF) return {
                            offset: d.offset,
                            length: d.size,
                            QI: {
                                width: d.SUb,
                                height: d.S6a
                            }
                        }
                    };
                    c.prototype.GZb = function(d) {
                        var h = this.config.Wpa || g.xfa.a_a(),
                            l = da(d.filter(function(n) {
                                return n.profile === f.Vj.qF
                            }).filter(function(n) {
                                return n.S6a === h
                            })).next().value;
                        if (l) return l;
                        this.log.warn("none of the downloadables match the intended resolution", {
                            screenHeight: k.Mv.height,
                            intendedResolution: h
                        });
                        return d[0]
                    };
                    c.prototype.jIb = function(d) {
                        return {
                            isNone: d.BD,
                            isForced: d.F7,
                            bcp47: d.language,
                            id: d.tg
                        }
                    };
                    b.tMa = c
                },
                function(r, b, a) {
                    function c(k, m, g, d, h) {
                        this.lU = k;
                        this.Yxa = m;
                        this.m3b = g;
                        this.ST = d;
                        this.qdb = h
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.NGa = void 0;
                    var f = a(283);
                    c.prototype.C6a = function(k) {
                        var m, g, d = k.Gb,
                            h = null !== (g = null === (m = d.k4) || void 0 === m ? void 0 : m.ss) && void 0 !== g ? g : "",
                            l = !!d.DY;
                        m = this.lU.Ota(d.pl, d.wj, !0);
                        g = this.Yxa.E6a(h, d.OZ);
                        k = this.m3b.xUb(d.p3b);
                        var n = l ? this.ST.s6a(h, d.Mt, g) : this.ST.sUb(h, d.Mt, d.media, g);
                        h = this.qdb.yUb(h, d.yB);
                        var q = h[0],
                            p = this.ST.fub(n) || n.find(function(B) {
                                return l ? B.trackId === d.DY.wn : B.iA === d.U4[0].wn
                            }) || n[0],
                            u = this.Yxa.C2b(p.cg) || g.find(function(B) {
                                return l ? B.trackId === d.DY.ZP : B.iA === d.U4[0].Qab
                            }) || p.cg[0],
                            t = this.qdb.uUb(d.yB),
                            w = d.zi,
                            v = d.jxb,
                            x = d.yH,
                            y = d.sm,
                            z = d.Mt.findIndex(function(B) {
                                return B.tg == p.trackId
                            }),
                            A = d.yB.findIndex(function(B) {
                                return B.tg == q.trackId
                            });
                        return {
                            ev: t,
                            uj: m,
                            Gg: n,
                            rp: h,
                            cg: g,
                            rB: k,
                            zi: w,
                            XZb: v,
                            MH: x,
                            sm: y,
                            BBb: z,
                            LBb: A,
                            V4: q,
                            JU: p,
                            LU: u
                        }
                    };
                    c.prototype.oLb = function(k, m, g) {
                        var d = this,
                            h, l, n = this.lU.nLb(k.Gb.pl, k.Gb.wj, g.Gb.pl, g.Gb.wj),
                            q = n.TZb;
                        n = n.aPb;
                        (0, f.cO)(k.Gb).pl = q;
                        (0, f.cO)(k.Gb).wj = n;
                        m.uj = this.lU.Ota(q, n, !0);
                        var p = null !== (l = null === (h = g.Gb.k4) || void 0 === h ? void 0 : h.ss) && void 0 !== l ? l : "";
                        g = g.Gb;
                        h = g.Mt;
                        g.OZ.forEach(function(u) {
                            if (u.yi) {
                                var t = d.Q8a(k.Gb.OZ, m.cg, u, function(w) {
                                    return d.Yxa.E6a(p, [w])[0]
                                });
                                t && m.Gg.forEach(function(w) {
                                    w = w.cg;
                                    var v = w.findIndex(function(x) {
                                        return x.trackId === t.trackId
                                    }); - 1 !== v &&
                                        (w[v] = t)
                                })
                            }
                        });
                        h.forEach(function(u) {
                            u.yi && d.Q8a(k.Gb.Mt, m.Gg, u, function(t) {
                                return d.ST.s6a(p, [t], m.cg)[0]
                            })
                        });
                        return {
                            pa: k,
                            Uc: m
                        }
                    };
                    c.prototype.kZb = function(k, m) {
                        return this.ST.$Eb(k, m)
                    };
                    c.prototype.Q8a = function(k, m, g, d) {
                        var h = k.findIndex(function(p) {
                                return p.tg === g.tg
                            }),
                            l = -1 !== h ? k[h] : void 0,
                            n = m.findIndex(function(p) {
                                return p.trackId === g.tg
                            }),
                            q = -1 !== n ? m[n] : void 0;
                        if (l && !l.yi && q && !q.yi) return d = d(g), k[h] = g, m[n] = d
                    };
                    b.NGa = c
                },
                function(r, b) {
                    function a(c, f, k) {
                        this.log = c;
                        this.j = f;
                        this.lya = k
                    }
                    Object.defineProperty(b,
                        "__esModule", {
                            value: !0
                        });
                    b.QMa = void 0;
                    a.prototype.xUb = function(c) {
                        var f = this;
                        c = (c || []).filter(function(k) {
                            return k.urls && 0 < k.urls.length
                        }).map(function(k) {
                            return f.lya(f.j, k.id, k.height, k.width, k.XUb, k.YUb, k.size, k.xu, {
                                unknown: k.urls[0]
                            })
                        });
                        0 === c.length && this.log.warn("There are no trickplay tracks");
                        c.sort(function(k, m) {
                            return k.size - m.size
                        });
                        this.log.trace("Transformed trick play tracks", {
                            Count: c.length
                        });
                        return c
                    };
                    b.QMa = a
                },
                function(r, b, a) {
                    function c(n, q, p) {
                        n = k.JR.call(this, n) || this;
                        n.config = q;
                        n.j = p;
                        return n
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.cAa = void 0;
                    var f = a(454),
                        k = a(472),
                        m = a(106),
                        g = a(75),
                        d = a(130),
                        h = a(3),
                        l = a(40);
                    qa(c, k.JR);
                    c.prototype.s6a = function(n, q, p) {
                        var u = this,
                            t = this.config.Caa;
                        q = q.filter(function(w) {
                            var v = w.BD || !w.yi || w.streams && 0 < w.streams.length;
                            v || u.log.warn("Audio track is missing streams", u.L6(w));
                            var x = 0 === t.length || 0 <= t.indexOf(w.hj);
                            x || u.log.warn("Audio track is not supported", u.L6(w));
                            return v && x
                        });
                        if (!q.length) throw Error("no valid audio tracks");
                        q = q.map(function(w) {
                            return u.r6a(n,
                                w, u.tGb(w, p))
                        });
                        this.log.trace("Parsed audio tracks", {
                            Count: q.length
                        });
                        return q
                    };
                    c.prototype.sUb = function(n, q, p, u) {
                        var t = this,
                            w = da((0, m.Tu)(function(y) {
                                return y.BD
                            }, q));
                        q = w.next().value;
                        w = w.next().value;
                        w = da((0, m.Tu)(function(y) {
                            return y.streams && 0 < y.streams.length
                        }, w));
                        var v = w.next().value;
                        w.next().value.forEach(function(y) {
                            return t.log.warn("Audio track is missing streams", t.L6(y))
                        });
                        var x = this.config.Caa;
                        w = da((0, m.Tu)(function(y) {
                            return 0 === x.length || 0 <= x.indexOf(y.hj)
                        }, v));
                        v = w.next().value;
                        w.next().value.forEach(function(y) {
                            return t.log.warn("Audio track is not supported",
                                t.L6(y))
                        });
                        q = [].concat(la(v), la(q)).map(function(y) {
                            return t.r6a(n, y, t.fIb(y.tg, p, u))
                        });
                        if (!q.length) throw Error("no valid audio tracks");
                        this.log.trace("Transformed audio tracks", {
                            Count: q.length
                        });
                        return q
                    };
                    c.prototype.fub = function(n) {
                        var q = this,
                            p = this.config.sna;
                        if (p) {
                            if (n = da(n.filter(function(u) {
                                    return u.hf == p || u.trackId == p
                                })).next().value) return n
                        } else if (this.j.xV && (n = da(n.filter(function(u) {
                                return u.trackId == q.j.xV
                            })).next().value)) return n
                    };
                    c.prototype.$Eb = function(n, q) {
                        this.config.jSa.forEach(function(p) {
                            var u =
                                q.Mt.filter(function(v) {
                                    return v.profile === p
                                }).reduce(function(v, x) {
                                    x.streams.map(function(y) {
                                        return y.bitrate
                                    }).forEach(function(y) {
                                        v.add(y)
                                    });
                                    return v
                                }, new Set),
                                t = !1,
                                w = n.Gb.Mt.map(function(v) {
                                    if (v.profile === p) {
                                        var x = v.streams.filter(function(y) {
                                            return u.has(y.bitrate)
                                        });
                                        if (x.length === v.streams.length) return v;
                                        t = !0;
                                        if (0 === x.length) throw new l.Wc(h.N.sGa, h.M.meb);
                                        return Object.assign(Object.assign({}, v), {
                                            streams: x
                                        })
                                    }
                                    return v
                                });
                            t && (n.Gb = Object.assign(Object.assign({}, n.Gb), {
                                Mt: w
                            }))
                        });
                        return n
                    };
                    c.prototype.r6a =
                        function(n, q, p) {
                            var u, t, w, v = q.hj;
                            n = {
                                type: g.gi.audio,
                                qJ: q.qJ,
                                variant: q.variant,
                                trackId: q.tg,
                                iA: q.bQ,
                                hj: d.K1[v.toLowerCase()] || d.Hp.zK,
                                xx: v,
                                Jg: n,
                                hf: q.language,
                                displayName: q.FD,
                                cc: null !== (u = q.cc) && void 0 !== u ? u : -1,
                                yi: null !== (t = q.yi) && void 0 !== t ? t : !0,
                                channels: q.channels,
                                twb: q.channels,
                                cg: p,
                                Th: {
                                    Bcp47: q.language,
                                    TrackId: q.tg
                                },
                                streams: [],
                                isNative: q.isNative,
                                Vo: q.BD,
                                CZ: q.CZ
                            };
                            n.streams = this.Rbb(q.streams, n);
                            this.log.trace("Transformed audio track", n, {
                                StreamCount: n.streams.length,
                                AllowedTimedTextTracks: n.cg.length
                            });
                            n.Hka = f.dAa[null === (w = n.streams[0]) || void 0 === w ? void 0 : w.Ig];
                            return n
                        };
                    c.prototype.L6 = function(n) {
                        return {
                            language: n.FD,
                            bcp47: n.language,
                            type: n.hj
                        }
                    };
                    c.prototype.tGb = function(n, q) {
                        return q.filter(function(p) {
                            if (0 <= n.pCb.indexOf(p.iA)) return !1;
                            if (n.xVa) {
                                if (n.xVa !== p.iA && (p.Vo() || p.On())) return !1
                            } else if (n.TSb) {
                                if (p.Vo() || p.On()) return !1
                            } else if (p.On()) return !1;
                            return !0
                        })
                    };
                    c.prototype.fIb = function(n, q, p) {
                        return q.filter(function(u) {
                            return u.fg.$b === n
                        }).map(function(u) {
                            return u.fg.dn
                        }).map(function(u) {
                            return p.find(function(t) {
                                return t.trackId ===
                                    u
                            })
                        }).filter(Boolean)
                    };
                    b.cAa = c
                },
                function(r, b, a) {
                    function c(d) {
                        return k.JR.call(this, d) || this
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.mNa = void 0;
                    var f = a(106),
                        k = a(472),
                        m = a(75),
                        g = a(130);
                    qa(c, k.JR);
                    c.prototype.yUb = function(d, h) {
                        var l = this;
                        h = da((0, f.Tu)(function(q) {
                            return q.streams && 0 < q.streams.length
                        }, h));
                        var n = h.next().value;
                        h.next().value.forEach(function(q) {
                            return l.log.warn("Video track is missing streams", {
                                trackId: q.tg
                            })
                        });
                        h = n.map(function(q) {
                            var p = q.hj;
                            p = {
                                type: m.gi.video,
                                trackId: q.tg,
                                iA: q.bQ,
                                hj: g.K1[p.toLowerCase()] || g.Hp.zK,
                                xx: p,
                                Jg: d,
                                streams: [],
                                Th: {},
                                bv: q.bv
                            };
                            p.streams = l.Rbb(q.streams, p);
                            l.log.trace("Transformed video track", {
                                StreamCount: p.streams.length
                            });
                            return p
                        });
                        if (!h.length) throw Error("No valid video tracks");
                        this.log.trace("Transformed video tracks", {
                            Count: h.length
                        });
                        return h
                    };
                    c.prototype.uUb = function(d) {
                        var h = d.map(function(l) {
                            return l.bv
                        }).filter(Boolean);
                        h = [].concat.apply([], la(h)).map(function(l) {
                            return l.ea
                        });
                        d = d.map(function(l) {
                            return l.jma
                        }).filter(Boolean).map(function(l) {
                            return l.ea
                        });
                        return 0 < h.length ? h : d
                    };
                    b.mNa = c
                },
                function(r, b, a) {
                    function c(l, n) {
                        l = k.$e.call(this, l, "ManifestParserConfigImpl") || this;
                        l.Ui = n;
                        return l
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.KGa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(48),
                        m = a(33),
                        g = a(42),
                        d = a(81),
                        h = a(47);
                    qa(c, k.$e);
                    Ya.Object.defineProperties(c.prototype, {
                        Caa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return []
                            }
                        },
                        sna: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ""
                            }
                        },
                        fka: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return []
                            }
                        },
                        eka: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return []
                            }
                        },
                        wna: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ""
                            }
                        },
                        Wpa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return 0
                            }
                        },
                        xJ: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ui.xJ.$(h.hr)
                            }
                        },
                        vv: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ui.vv
                            }
                        },
                        DH: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.Ui.DH
                            }
                        },
                        jSa: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return ["heaac-2-dash"]
                            }
                        }
                    });
                    a = c;
                    r.__decorate([g.config(g.oJ, "supportedAudioTrackTypes")],
                        a.prototype, "Caa", null);
                    r.__decorate([g.config(g.string, "forceAudioTrack")], a.prototype, "sna", null);
                    r.__decorate([g.config(g.vya, "cdnIdWhiteList")], a.prototype, "fka", null);
                    r.__decorate([g.config(g.vya, "cdnIdBlackList")], a.prototype, "eka", null);
                    r.__decorate([g.config(g.string, "forceTimedTextTrack")], a.prototype, "wna", null);
                    r.__decorate([g.config(g.tB, "imageSubsResolution")], a.prototype, "Wpa", null);
                    r.__decorate([g.config(g.tB, "timedTextSimpleFallbackThreshold")], a.prototype, "xJ", null);
                    r.__decorate([g.config(g.oJ,
                        "timedTextProfiles")], a.prototype, "vv", null);
                    r.__decorate([g.config(g.oJ, "imscLanguageList")], a.prototype, "DH", null);
                    r.__decorate([g.config(g.oJ, "auxiliaryManifestAudioProfileNeedsBitrateMatching")], a.prototype, "jSa", null);
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Qk)), r.__param(1, (0, f.l)(d.Nv))], a);
                    b.KGa = a
                },
                function(r, b) {
                    function a(c) {
                        this.Uc = c;
                        this.yb = JSON.stringify(this.mIb())
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.QGa = void 0;
                    a.prototype.mIb = function() {
                        var c = [];
                        (!this.Uc.uj ||
                            0 >= this.Uc.uj.length) && c.push({
                            error: "No CDN."
                        });
                        this.Uc.JU || c.push({
                            error: "No default audio track.",
                            foundTracks: this.ioa(this.Uc.Gg)
                        });
                        this.Uc.V4 || c.push({
                            error: "No default video track.",
                            foundTracks: this.ioa(this.Uc.rp)
                        });
                        this.Uc.LU || c.push({
                            error: "No default subtitle track.",
                            foundTracks: this.ioa(this.Uc.cg)
                        });
                        return c
                    };
                    a.prototype.ioa = function(c) {
                        return c && 0 < c.length ? c.map(function(f) {
                            return f.trackId
                        }) : "No tracks found."
                    };
                    b.QGa = a
                },
                function(r, b, a) {
                    function c(h, l) {
                        this.tOb = h;
                        this.FPb = l
                    }
                    Object.defineProperty(b,
                        "__esModule", {
                            value: !0
                        });
                    b.IGa = void 0;
                    r = a(1);
                    var f = a(0),
                        k = a(477),
                        m = a(478),
                        g = a(40),
                        d = a(3);
                    c.prototype.create = function(h) {
                        if (h && !this.YMb(h)) {
                            if (this.bNb(h)) throw g.Wc.H5b(d.N.uK, d.M.Olb, h);
                            var l = this.tOb();
                            l.QQa(h.links);
                            this.FPb.ZM(h);
                            return {
                                Gb: h,
                                uk: l,
                                A1a: !1,
                                z1a: !1
                            }
                        }
                    };
                    c.prototype.bNb = function(h) {
                        return "type" in h && "muxed" === h.type
                    };
                    c.prototype.YMb = function(h) {
                        return "runtime" in h && !!h.runtime
                    };
                    a = c;
                    a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.SIa)), r.__param(1, (0, f.l)(m.HGa))], a);
                    b.IGa = a
                }, function (r,
                    b, a) {
                    function c(m) {
                        this.cEb = m; this.q3a = {
                            Rr: "drmType", Obc: "drmVersion", expiration: "expiration", K: "movieId", ep: "packageId", duration: "duration", zi: "playbackContextId", U4: ["defaultTrackOrderList", { gO: "mediaId", lQ: "videoTrackId", Qab: "subtitleTrackId", wn: "audioTrackId", zec: "preferenceOrder" }], Tbc: ["eligibleABTestMap", { hn: k.hn }], Wac: ["badgingInfo", {
                                Hbc: "dolbyDigitalAudio", Hcc: "hdrVideo", Ibc: "dolbyVisionVideo", Cfc: "ultraHdVideo", "3dVideo": "3dVideo", Gbc: "dolbyAtmosAudio", Pac: "assistiveAudio", Sec: "sdVideo",
                                Gcc: "hdVideo"
                            }], type: "type", Sac: ["audioTextShortcuts", { id: "id", wn: "audioTrackId", tfc: "textTrackId" }], tec: "partiallyHydrated", U3a: "maxRecommendedAudioRank", V3a: "maxRecommendedTextRank", sm: "drmContextId", vKb: "hasDrmProfile", uKb: "hasClearProfile", yH: "hasDrmStreams", xpa: "hasClearStreams", wj: ["locations", { cc: "rank", level: "level", weight: "weight", key: "key" }], links: ["links", {}], pl: ["servers", {
                                id: "id", name: "name", type: "type", cc: "rank", h3a: "lowgrade", zCb: ["dns", { host: "host", vMb: "ipv4", wMb: "ipv6", KFb: "forceLookup" }],
                                key: "key"
                            }], Mt: ["audio_tracks", {
                                type: "type", qJ: "subType", variant: "variant", hj: "trackType", tg: "new_track_id", bQ: "track_id", DWb: "profileType", Y0b: "stereo", profile: "profile", channels: "channels", language: "language", swb: "channelsFormat", CZ: "surroundFormatLabel", FD: "languageDescription", pCb: "disallowedSubtitleTracks", xVa: "defaultTimedText", isNative: "isNative", BD: "isNoneTrack", streams: ["streams", {
                                    Qr: "downloadable_id", size: "size", MG: "content_profile", hj: "trackType", bitrate: "bitrate", gl: "isDrm", urls: ["urls",
                                        { bq: "cdn_id", url: "url" }], NRb: "new_stream_id", type: "type", channels: "channels", swb: "channelsFormat", CZ: "surroundFormatLabel", language: "language", Rac: "audioKey", vRb: ["moov", { size: "size", offset: "offset" }], Ms: ["sidx", { size: "size", offset: "offset" }], jB: ["ssix", { size: "size", offset: "offset" }], rl: "tags"
                                }], Hka: "codecName", xx: "rawTrackType", id: "id", cc: "rank", yi: "hydrated", TSb: "offTrackDisallowed"
                            }], yB: ["video_tracks", {
                                hj: "trackType", tg: "new_track_id", type: "type", bQ: "track_id", vKb: "hasDrmProfile", uKb: "hasClearProfile",
                                yH: "hasDrmStreams", xpa: "hasClearStreams", Zz: "groupName", streams: ["streams", {
                                    Qr: "downloadable_id", size: "size", MG: "content_profile", hj: "trackType", kWa: "drmHeaderId", bitrate: "bitrate", gl: "isDrm", urls: ["urls", { bq: "cdn_id", url: "url" }], NRb: "new_stream_id", type: "type", vec: "peakBitrate", hCb: "dimensionsCount", iCb: "dimensionsLabel", U6a: "pix_w", T6a: "pix_h", e9a: "res_w", d9a: "res_h", ZAb: "crop_x", $Ab: "crop_y", YAb: "crop_w", XAb: "crop_h", jYa: "framerate_value", iYa: "framerate_scale", oab: "startByteOffset", zb: "vmaf", vRb: ["moov",
                                        { size: "size", offset: "offset" }], Ms: ["sidx", { size: "size", offset: "offset" }], jB: ["ssix", { size: "size", offset: "offset" }], Rq: ["segmentVmaf", { offset: "offset", zb: "vmaf" }], rl: "tags"
                                }], DWb: "profileType", Y0b: "stereo", profile: "profile", hCb: "dimensionsCount", iCb: "dimensionsLabel", ifc: ["snippets", { hn: [k.hn, { hfc: "snippetSpec", Aa: "startTimeMs", Da: "endTimeMs" }] }], jma: ["drmHeader", { ea: "bytes", Mwb: "checksum", kWa: "drmHeaderId", Qn: "keyId", QI: ["resolution", { height: "height", width: "width" }] }], bv: ["prkDrmHeaders", {
                                    ea: "bytes",
                                    Mwb: "checksum", kWa: "drmHeaderId", Qn: "keyId", QI: ["resolution", { height: "height", width: "width" }]
                                }], pu: "flavor", Qcc: "ict", maxWidth: "maxWidth", maxHeight: "maxHeight", VUb: "pixelAspectX", WUb: "pixelAspectY", vdc: "maxCroppedWidth", udc: "maxCroppedHeight", wdc: "maxCroppedX", xdc: "maxCroppedY", Edc: "max_framerate_value", Ddc: "max_framerate_scale", minWidth: "minWidth", minHeight: "minHeight", Qdc: "minCroppedWidth", Pdc: "minCroppedHeight", Rdc: "minCroppedX", Sdc: "minCroppedY", Rh: ["license", {
                                    pOb: "licenseResponseBase64", Cec: "providerSessionToken",
                                    Wec: "secureStopExpected", Nbc: "drmSessionId", links: ["links", {}]
                                }]
                            }], k4: ["cdnResponseData", { aJ: "sessionABTestCell", ss: "pbcid" }], zn: ["choiceMap", { ue: "initialSegment", type: "type", S: "viewableId", U: ["segments", { hn: [k.hn, { Aa: "startTimeMs", Da: "endTimeMs", next: ["next", { hn: [k.hn, { weight: "weight" }] }], Jd: "defaultNext", oq: "exitZones" }] }] }], Bw: ["contentPlaygraph", {
                                na: ["playgraph", {
                                    ue: "initialSegment", U: ["segments", {
                                        hn: [k.hn, {
                                            S: "viewableId", Aa: "startTimeMs", Da: "endTimeMs", next: ["next", { hn: [k.hn, { weight: "weight" }] }],
                                            Jd: "defaultNext"
                                        }]
                                    }]
                                }], qab: ["startIdent", { w0a: "identToken", S: "viewableId" }]
                            }], media: ["media", { id: "id", fg: ["tracks", { $b: "AUDIO", dn: "TEXT", Pb: "VIDEO" }] }], DY: ["recommendedMedia", { lQ: "videoTrackId", wn: "audioTrackId", ZP: "timedTextTrackId" }], OZ: ["timedtexttracks", {
                                hj: "trackType", tg: "new_track_id", type: "type", qJ: "subType", variant: "variant", xx: "rawTrackType", FD: "languageDescription", language: "language", id: "id", BD: "isNoneTrack", F7: "isForcedNarrative", iWa: ["downloadableIds", {}], dTa: ["cdnlist", {
                                    id: "id", name: "name",
                                    type: "type", cc: "rank", h3a: "lowgrade", zCb: ["dns", { host: "host", vMb: "ipv4", wMb: "ipv6", KFb: "forceLookup" }], key: "key"
                                }], tya: ["ttDownloadables", { hn: [k.hn, { id: "id", size: "size", sfc: "textKey", Fcc: "hashValue", Ecc: "hashAlgo", adc: "isImage", Esa: "midxOffset", w4a: "midxSize", height: "height", width: "width", Gw: ["downloadUrls", {}], urls: ["urls", { url: "url", bq: "cdn_id" }] }] }], I7: "isLanguageLeftToRight", xu: "headIdentDuration", cc: "rank", yi: "hydrated"
                            }], p3b: ["trickplays", {
                                Qr: "downloadable_id", size: "size", urls: "urls", id: "id",
                                interval: "interval", YUb: "pixelsAspectY", XUb: "pixelsAspectX", width: "width", height: "height", xu: "headIdentDuration"
                            }], wba: ["watermarkInfo", { opacity: "opacity", id: "id", anchor: "anchor" }], Mbc: "dpsid", vj: "isBranching", Nfc: "viewableType", TN: "isSupplemental", jxb: "clientIpAddress", Hfc: "urlExpirationDuration", qdc: "manifestExpirationDuration", mfc: ["steeringAdditionalInfo", { nfc: "steeringId", Mac: "additionalGroupNames", pfc: ["streamingClientConfig", {}] }], Ni: "auxiliaryManifestToken"
                        }; this.GPb = Object.assign(Object.assign({},
                            this.q3a), { kSa: ["auxiliaryManifests", this.q3a] })
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.GGa = void 0; r = a(1); var f = a(0), k = a(212); c.prototype.ZM = function (m) { this.cEb.ZM(m, this.GPb) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.jDa))], a); b.GGa = a
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.WUa = void 0; b.WUa = function (a, c, f, k) { return { YIb: function () { var m = a.Goa(); k.xu && (m += k.xu); return m }, wa: c, request: f, qk: !1 } } }, function (r, b, a) {
                    function c(h, l) {
                        var n; h = f.EventEmitter.call(this) ||
                            this; h.content = ""; h.entries = []; (0, k.gb)("videoSize" in l && "xml" in l && !!l.xml, "Subtitle options didn't contain XML data"); "videoSize" in l && "xml" in l && (h.content = null !== (n = l.xml) && void 0 !== n ? n : "", h.Ys = l.videoSize); return h
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.OFa = void 0; var f = a(19), k = a(20), m = a(14), g = a(28), d = a(1089); qa(c, f.EventEmitter); c.prototype.mH = function (h) {
                        var l; (0, g.Mc)(h) && (0, g.Mc)(this.duration) && h < this.duration && this.entries && (l = this.ORb || this.entries[Math.floor(h * this.A2b)] ||
                            this.entries[0]); if (l) { for (; l && l.endTime < h;)l = l.next; for (; l && l.previous && l.previous.endTime >= h;)l = l.previous; this.ORb = l } return l ? [l] : []
                    }; c.prototype.BN = function (h, l) { var n = []; try { n = this.entries.filter(function (q) { var p = da([q.startTime, q.endTime]); q = p.next().value; p = p.next().value; return q >= h && q <= l || q <= h && h <= p }) } catch (q) { } return n }; c.prototype.Wr = function (h, l) { return this.BN(h, l).reduce(function (n, q) { return n + q.blocks.length }, 0) }; c.prototype.start = function () {
                        var h = this; if (this.content) (0, d.B6a)(this.content,
                            this.Ys.width / this.Ys.height, m.config.cya, m.config.Oaa).then(function (n) { h.duration = n && Math.max.apply(Math, la(n.map(function (q) { return q.endTime }))) || 0; h.A2b = n && n.length / h.duration || 0; h.entries = n; h.emit("ready") }).catch(function (n) { h.emit("error", n) }); else { var l = Error("Subtitle content was empty"); l.errorDetails = "Subtitle content was empty"; this.emit("error", l) }
                    }; c.prototype.pause = function () { }; c.prototype.stop = function () { }; c.prototype.Wua = function () { throw Error("Method not implemented."); }; c.prototype.Vs =
                        function () { throw Error("Method not implemented."); }; c.prototype.hB = function () { throw Error("Method not implemented."); }; c.prototype.Di = function () { throw Error("Method not implemented."); }; c.prototype.Fi = function () { throw Error("Method not implemented."); }; b.OFa = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.B6a = void 0; var c = a(1090), f = a(285); b.B6a = function (k, m, g, d) {
                        return new Promise(function (h, l) {
                            (0, f.qza)(k, function (n) {
                                n.ga ? (n = n.object, (0, c.t6a)(n, m, g, d, function (q) {
                                    q.ga ? h(q.entries) :
                                        l(q)
                                })) : l(n)
                            })
                        })
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.v6a = b.u6a = b.Pta = b.x6a = b.nUb = b.oUb = b.w6a = b.y6a = b.P9 = b.z6a = b.A6a = b.t6a = void 0; var c = a(20), f = a(28), k = a(12), m = a(157), g = a(11), d = a(18), h = a(24); b.t6a = function () {
                        function l(P) { if ((0, f.DD)(P)) { P = P.toLowerCase(); if ("#" == P[0]) { if (7 == P.length) return P; if (4 == P.length) return "#" + P[1] + P[1] + P[2] + P[2] + P[3] + P[3] } return b.y6a[P] } } function n(P, S, U) { S = S[P]; 0 <= S || (S = parseFloat(P)); if (0 <= S) return (0, g.Cp)(S, U) } function q(P, S) {
                            var U = P.length,
                                Z = P[U - 1]; if ("t" === Z) return parseFloat(P) * S | 0; if ("s" === Z) return "m" === P[U - 2] ? parseFloat(P) | 0 : parseFloat(P) * k.Xl | 0; if ((P = P.match(K)) && 4 <= P.length) return (3600 * parseInt(P[1], 10) + 60 * parseInt(P[2], 10) + parseFloat(P[3])) * k.Xl | 0; throw Error("dfxp-badtime");
                        } function p(P, S, U, Z, ia) {
                            var ya = void 0; if (P) {
                                var na = P.style; U = na ? U[na] : void 0; Z = (na = P.region) ? Z[na] : void 0; na = ia.length; var X, ra; for (X = 0; X < na; X++) {
                                    var T = ia[X], R = P[T]; void 0 === R && U && (R = U[T]); void 0 === R && Z && (R = Z[T]); if (void 0 !== R && R !== S[T]) {
                                        if (!ya) for (ya = {},
                                            ra = 0; ra < na; ra++) { var ca = ia[ra], ua = S[ca]; void 0 !== ua && (ya[ca] = ua) } ya[T] = R
                                    }
                                }
                            } return ya || S
                        } function u(P, S, U, Z, ia, ya, na, X, ra) {
                            function T(ua, aa, La) {
                                var Ua = ua[m.Mk], $a = Ua.style || aa.style || "", Za = Ua.region || aa.region || ""; if ($a || Za) var cb = $a + "/" + Za, Wa = U[cb]; else Wa = S; if (!Wa) { Wa = S; var Pa = (0, f.fJ)(Z); (0, f.Ub)(Pa, ia[$a]); Wa = x(Wa, Pa, na, X, ra); U[$a + "/"] = Wa; Za && ((0, f.Ub)(Pa, ya[Za]), (0, f.Ub)(Pa, ia[$a]), Wa = x(Wa, Pa, na, X, ra), U[cb] = Wa) } if (!La) a: { for (La = N.length; La--;)if (void 0 !== Ua[N[La]]) { La = !0; break a } La = void 0 } La &&
                                    (Ua = p(Ua, aa, ia, ya, J), Wa = x(Wa, Ua, na, X, ra)); aa = (ua = ua[m.rQ]) && ua.length; for ($a = 0; $a < aa; $a++)Za = ua[$a], (0, f.Ph)(Za) ? I.test(Za[m.sQ]) ? ca++ : T(Za, Ua, La) : (R.push({ text: Za, lineBreaks: ca, style: Wa }), ca = 0)
                            } var R = [], ca = 0; T(P, Z, !1); 0 < ca && R.push({ text: "", lineBreaks: ca, style: S }); return R
                        } function t(P, S, U, Z, ia, ya, na, X) {
                            U && (U = G[U] || "top", P.verticalAlignment !== U && (P.verticalAlignment = U)); Z && (U = C[Z] || "left", P.horizontalAlignment !== U && (P.horizontalAlignment = U)); var ra; if (ia) {
                                if (ra = X[ia]) Z = ra.marginLeft, U = ra.marginTop;
                                else { var T = ia.split(" "); Z = z(T[0], na.x) || 0; U = z(T[1], na.y) || 0; ra = { um: 0, marginLeft: Z, marginTop: U, Vsb: Z * S.tpa + S.mW, Xsb: U * S.aza + S.lba }; 30 > X.um && (X.um++, X[ia] = ra) } P.marginLeft = ra.Vsb; P.marginTop = ra.Xsb
                            } else U = Z = 0, (ra = X["default"]) || (X["default"] = ra = { um: 0 }); ya && (ia = ra[ya], ia || (T = ya.split(" "), ia = { Wsb: (1 - (Z + (z(T[0], na.x) || 0))) * S.tpa + S.mW, Usb: (1 - (U + (z(T[1], na.y) || 0))) * S.aza + S.lba }, 30 > ra.um && (ra.um++, ra[ya] = ia)), P.marginRight = ia.Wsb, P.marginBottom = ia.Usb)
                        } function w(P, S, U, Z, ia) {
                            var ya = P.displayAlign, na = P.textAlign,
                                X = P.origin; P = P.extent; U = (0, f.fJ)(U); t(U, S, ya, na, X, P, Z, ia); U.id = F++; return U
                        } function v(P, S, U, Z) {
                            var ia = n(U.characterSize || S.characterSize, b.z6a, 2) || 1, ya = (ya = P.fontSize) && M.test(ya) ? (0, f.Dp)((0, f.Fd)(ya), 25, 200) : void 0; ia *= ya / 100 || 1; if ((ya = P.textOutline) && "none" != ya) { var na = ya.split(" "); if (O.test(na)) var X = 0, ra = P.color; else X = 1, ra = l(na[0]); var T = y(na[X]); na = y(na[X + 1]) } return {
                                characterStyle: U.characterStyle || b.A6a[P.fontFamily] || S.characterStyle, characterSize: ia * Z, characterColor: l(U.characterColor ||
                                    P.color || S.characterColor), characterOpacity: n((0, f.r4)(U.characterOpacity, P.opacity, S.characterOpacity), b.P9, 1), characterEdgeAttributes: U.characterEdgeAttributes || ya && ("none" === ya ? b.w6a : na ? b.Pta : b.x6a) || S.characterEdgeAttributes, characterEdgeColor: l(U.characterEdgeColor || ra || S.characterEdgeColor), characterEdgeWidth: T, characterEdgeBlur: na, characterItalic: "italic" === P.fontStyle, characterUnderline: "underline" === P.textDecoration, backgroundColor: l(U.backgroundColor || P.backgroundColor || S.backgroundColor),
                                backgroundOpacity: n((0, f.r4)(U.backgroundOpacity, P.opacity, S.backgroundOpacity), b.P9, 1)
                            }
                        } function x(P, S, U, Z, ia) { S = v(S, U, Z, ia); var ya; (0, h.xe)(S, function (na, X) { X !== P[na] && (ya || (ya = (0, g.xF)(P)), ya[na] = X) }); return ya || P } function y(P) { P = (0, f.Fd)(P); return (0, d.lA)(P, 0, 100) ? P : 0 } function z(P, S) { var U = P[P.length - 1]; if ("%" === U) return (0, f.Dp)(.01 * parseFloat(P), 0, 1); if ("c" === U) return (0, f.Dp)((0, f.Fd)(P) / S, 0, 1) } function A(P) { for (var S = P.length, U = P[--S].endTime; S--;)U = (0, g.Cp)(P[S].endTime, U); return U } function B(P) {
                            (0,
                                h.xe)(P, function (S, U) { 0 <= S.toLowerCase().indexOf("color") && (P[S] = l(U)) })
                        } function E(P, S) { var U = P.pixelAspectRatio, Z = { mW: 0, tpa: 1, lba: 0, aza: 1 }; P = (P.extent || "640px 480px").split(" "); if (2 <= P.length) { U = (U || "").split(" "); var ia = parseFloat(P[0]) * (parseFloat(U[0]) || 1), ya = parseFloat(P[1]) * (parseFloat(U[1]) || 1) } ia = 0 < ia && 0 < ya ? ia / ya : 1280 / 720; S = S || 1280 / 720; U = ia / S; .01 < (0, g.hF)(S - ia) && (S >= ia ? (Z.mW = (1 - U) / 2, Z.tpa = U) : (0, c.gb)(!1, "not implemented")); return Z } function D(P) {
                            var S; if (S = P.cellResolution) if (S = S.split(" "),
                                2 <= S.length) { var U = (0, f.Fd)(S[0]); S = (0, f.Fd)(S[1]); if (0 < U && 0 < S) return { x: U, y: S } } if ((S = P.extent) && (S = S.split(" "), 2 <= S.length)) { U = (0, f.Fd)(S[0]); var Z = (0, f.Fd)(S[1]); if (P = P.pixelAspectRatio) { S = P.split(" "); var ia = (0, f.Fd)(S[0]), ya = (0, f.Fd)(S[1]) } if (U && Z && 1.5 < U * (ia || 1) / (Z * (ya || 1))) return b.v6a } return b.u6a
                        } var F = 1, G = { before: "top", center: "center", after: "bottom" }, C = { left: "left", start: "left", center: "center", right: "right", end: "right" }, H = {
                            id: F++, verticalAlignment: "bottom", horizontalAlignment: "center", marginTop: .1,
                            marginLeft: .1, marginRight: .1, marginBottom: .1
                        }, L = { id: F++, verticalAlignment: "top", horizontalAlignment: "left", marginTop: 0, marginLeft: 0, marginRight: 0, marginBottom: 0 }, N = "fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" "), J = N.concat(["style", "region"]), Q = ["region", "textAlign", "displayAlign", "extent", "origin"], K = /^([0-9]+):([0-9]+):([0-9.]+)$/, I = /^br$/i, M = /^[0-9]{1,3}%$/, O = /^[0-9]/; return function (P, S, U, Z, ia) {
                            function ya() {
                                try {
                                    for (var qc; Jb;) {
                                        ab = Jb[m.Mk]; var ec =
                                            Sb, hc = ec.push, Xb = F++, nc = q(ab.begin, R), dc = q(ab.end, R), sb = void 0, Vc = Ua, pb = ca, Tb = Wa, bc = Fa, uc = Jb[m.Mk], Wc = p(Jb[m.Mk], Ec, aa, La, Q), fc = Wc.region, vc = uc.displayAlign, Od = Wc.textAlign, Xc = uc.origin, hd = uc.extent; fc || vc || Od || Xc || hd ? ((sb = Vc[fc]) ? sb = (0, g.xF)(sb) : vc || Xc || hd ? (sb = (0, g.xF)(L), sb.id = F++) : sb = (0, g.xF)(H), t(sb, pb, vc, Od, Xc, hd, Tb, bc)) : sb = H; hc.call(ec, { id: Xb, startTime: nc, endTime: dc, region: sb, textNodes: u(Jb, Md, se, mc, aa, La, ha, pa, Pa) }); Jb = Jb[m.JE]; qc = (0, g.$J)(); if (100 < qc - Nd) {
                                                Nd = Date.now(); gd = setTimeout(ya, 1);
                                                return
                                            }
                                    }
                                } catch (te) { X({ ma: f.M.t0, yb: (0, f.$d)(te) }); return } gd = setTimeout(na, 1)
                            } function na() {
                                function qc(pb, Tb) { for (var bc, uc = [], Wc = {}, fc, vc = hc.length; vc--;)bc = hc[vc], fc = bc.region.id, Wc[fc] || (Wc[fc] = 1, uc.unshift(bc)); (bc = ec[ec.length - 1]) && bc.endTime == pb && (0, f.MC)(bc.blocks, uc) ? bc.endTime = Tb : ec.push({ id: F++, startTime: pb, endTime: Tb, blocks: uc }) } try {
                                    if (!Sb.length) { X({ ga: !0, entries: [] }); return } (0, f.PRa)(Sb, "startTime"); var ec = [], hc = [], Xb = Sb[0], nc = Sb[0].startTime, dc, sb; for (dc = 1; hc.length || Xb;) {
                                        for (; !hc.length ||
                                            Xb && Xb.startTime == nc;)hc.push(Xb), nc = Xb.startTime, Xb = Sb[dc++]; var Vc = A(hc); if (!Xb || Vc <= Xb.startTime) for (qc(nc, Vc), nc = Vc, sb = hc.length; sb--;)hc[sb].endTime <= nc && hc.splice(sb, 1); else qc(nc, Xb.startTime), nc = Xb.startTime, hc.push(Xb), Xb = Sb[dc++]
                                    } for (dc = ec.length; dc--;)ec[dc].index = dc, ec[dc].previous = ec[dc - 1], ec[dc].next = ec[dc + 1]
                                } catch (pb) { X({ ma: f.M.t0, yb: (0, f.$d)(pb) }); return } X({ ga: !0, entries: ec })
                            } function X(qc) { setTimeout(function () { ra.abort = f.Sj; ia(qc) }, 1) } var ra = { abort: function () { gd && clearTimeout(gd) } };
                            try {
                                var T = P[m.Mk], R = k.Xl / ((0, f.Fd)(T.tickRate) || 1), ca = E(T, S), ua = (0, f.Ub)(L, { marginLeft: ca.mW, marginTop: ca.lba, marginRight: ca.mW, marginBottom: ca.lba }), aa = {}, La = {}, Ua = {}, $a, Za = P.head, cb = P.body, Wa = D(T, S), Pa = 1 / Wa.y * ca.aza, ha = (0, f.Ub)({ characterStyle: "PROPORTIONAL_SANS_SERIF", characterColor: "#EBEB64", characterEdgeAttributes: b.Pta, characterEdgeColor: "#000000", characterSize: 1 }, U, { JA: !0 }), pa = Z || {}, Fa = { um: 0 }; if (Za) {
                                    var Va = Za.styling; if (Va) for ($a = Va.style; $a;) { var ab = $a[m.Mk]; B(ab); aa[ab.id] = ab; $a = $a[m.JE] } var wb =
                                        Za.layout; if (wb) for (var zb = wb.region; zb;) { ab = zb[m.Mk]; var Fb = ab.id, Lb = (0, f.fJ)(aa[ab.style]); Lb = (0, f.Ub)(Lb, ab); for ($a = zb.style; $a;)(0, f.Ub)(Lb, $a[m.Mk]), $a = $a[m.JE]; B(Lb); La[Fb] = Lb; Ua[Fb] = w(Lb, ca, ua, Wa, Fa); zb = zb[m.JE] }
                                } var Db = cb.div, Jb = Db.p, Sb = [], mc = {}; mc = p(cb[m.Mk], mc, aa, La, J); mc = p(Db[m.Mk], mc, aa, La, J); var Ec = {}; Ec = p(cb[m.Mk], Ec, aa, La, Q); Ec = p(Db[m.Mk], Ec, aa, La, Q); var Md = v(mc, ha, pa, Pa); (0, f.Ub)(Md, {
                                    windowColor: l(pa.windowColor || ha.windowColor), windowOpacity: n((0, f.r4)(pa.windowOpacity, ha.windowOpacity),
                                        b.P9, 1), cellResolution: Wa
                                }, { JA: !0 }); var se = {}; Db.p = void 0; Db[m.rQ] = []
                            } catch (qc) { X({ ma: f.M.t0, yb: (0, f.$d)(qc) }); return } var Nd = (0, g.$J)(), gd = setTimeout(ya, 1); return ra
                        }
                    }(); b.A6a = {
                        "default": "PROPORTIONAL_SANS_SERIF", monospaceSansSerif: "MONOSPACED_SANS_SERIF", monospaceSerif: "MONOSPACED_SERIF", proportionalSansSerif: "PROPORTIONAL_SANS_SERIF", proportionalSerif: "PROPORTIONAL_SERIF", casual: "CASUAL", cursive: "CURSIVE", smallCapitals: "SMALL_CAPITALS", monospace: "MONOSPACED_SANS_SERIF", sansSerif: "PROPORTIONAL_SANS_SERIF",
                        serif: "PROPORTIONAL_SERIF"
                    }; b.z6a = { SMALL: .5, MEDIUM: 1, LARGE: 2 }; b.P9 = { NONE: 0, SEMI_TRANSPARENT: .5, OPAQUE: 1 }; b.y6a = { black: "#000000", silver: "#c0c0c0", gray: "#808080", white: "#ffffff", maroon: "#800000", red: "#ff0000", purple: "#800080", fuchsia: "#ff00ff", magenta: "#ff00ff", green: "#00ff00", lime: "#00ff00", olive: "#808000", yellow: "#ffff00", navy: "#000080", blue: "#0000ff", teal: "#008080", aqua: "#00ffff", cyan: "#00ffff", orange: "#ffa500", pink: "#ffc0cb" }; b.w6a = "NONE"; b.oUb = "RAISED"; b.nUb = "DEPRESED"; b.x6a = "UNIFORM"; b.Pta = "DROP_SHADOW";
                    b.u6a = { x: 40, y: 19 }; b.v6a = { x: 52, y: 19 }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Wlb = void 0; var c = a(1); r = a(116); var f = a(1092), k = a(1097), m = a(1104); a = function (g) {
                        function d(h, l) {
                            var n, q, p = g.call(this) || this; p.bk = !0; p.OS = []; p.gw = 0; p.MPa = !0; var u = h.qk || !1; p.Oa = h.wa || console; p.cG = h.request; p.cw = h.YIb; p.x2 = null !== (n = h.Bcc) && void 0 !== n ? n : function (t, w) { return t - (null !== w && void 0 !== w ? w : p.cw()) }; p.Tg = null; p.bk = !0; p.OS = []; p.Dt = l.profile; p.zl = l.url; p.$F = l.Ud; p.cT = l.preferences; p.zS = l.Ui;
                            p.gw = p.$F || 0; p.MPa = null !== (q = l.Fec) && void 0 !== q ? q : !0; h = { url: p.zl, request: p.cG, Ud: p.$F, xml: l.xml, preferences: p.cT, Ui: p.zS, wa: p.Oa, qk: u, bufferSize: l.bufferSize, Pu: l.Pu, Uua: l.Uua || 0, GSa: l.GSa }; if ("nflx-cmisc" === p.Dt) h.offset = l.Esa, h.size = l.w4a, h.Y$ = l.Y$, h.yWa = l.yWa, p.qd = new k(h); else if (-1 < ["simplesdh", "dfxp-ls-sdh", "imsc1.1"].indexOf(p.Dt) && "function" === typeof f) p.qd = new f(h); else throw Error("SubtitleManager: " + p.Dt + " is an unsupported profile"); p.qd.on("ready", function () {
                                var t = !!l.iSa; p.Oa.info("ready event fired by subtitle stream");
                                p.emit("ready"); var w = p.qd.mH.bind(p.qd); p.Tg = new m(p.cw, w, p.x2, function () { return p.bk }, p.Oa, l); if ("dfxp-ls-sdh" === p.Dt && "function" === typeof f) p.Tg.on("stagesubtitle", p.L0b.bind(p)); p.Tg.on("showsubtitle", p.gxa.bind(p)); p.Tg.on("removesubtitle", p.Hva.bind(p)); p.Tg.on("underflow", p.io.bind(p)); p.Tg.on("bufferingComplete", p.Se.bind(p)); t && (p.Oa.info("autostarting subtitles"), setTimeout(function () { p.Vs(p.cw()) }, 10))
                            }); p.qd.on("error", p.emit.bind(p, "error")); return p
                        } c.__extends(d, g); d.prototype.start =
                            function () { this.qd.start() }; d.prototype.Wua = function () { this.bk || (this.bk = !0, this.QWa(this.gw)) }; d.prototype.Vs = function (h) { this.MPa && !this.bk && 1E4 < Math.abs(h - this.gw) && (this.Oa.warn("Detected an unexpected pts jump larger than", 1E4, "at", h, ". If this is a seamless segment transition then the ptsShift API", "should have been called before the pts change was reflected."), this.Wua()); this.gw = h; this.bk && (this.bk = !1, this.N0b(h)); null !== this.Tg && (this.U3b(h), this.Tg.Vs(h)) }; d.prototype.stop = function () {
                                this.Oa.info("stop called");
                                this.bk || this.pause(); this.qd.removeAllListeners(["ready"]); null !== this.Tg && this.Tg.stop(); var h = this.OS.reduce(function (l, n) { l.X$a += n.pZ; l.D5 += n.E5 || 0; l.pMb.push(n); return l }, { X$a: 0, D5: 0, pMb: [] }); "object" === typeof this.qd && this.qd.close(); this.Oa.info("metrics: " + JSON.stringify(h)); return h
                            }; d.prototype.pause = function () { var h = this.cw(); this.bk ? this.Oa.warn("pause called on subtitle manager, but it was already paused!") : (this.Oa.info("pause called at " + h), this.bk = !0, this.QWa(h)); null !== this.Tg && this.Tg.pause() };
                        d.prototype.BN = function (h, l) { return "function" === typeof this.qd.BN ? this.qd.BN(h, l) : [] }; d.prototype.Wr = function (h, l) { return this.qd.Wr(h, l) }; d.prototype.mH = function (h) { return this.qd.mH(h) }; d.prototype.hB = function (h) { function l() { n.Oa.info("bufferingComplete from setStreamStartPosition"); n.emit("bufferingComplete") } var n = this; "function" === typeof this.qd.hB ? this.qd.hB(h, l) : l() }; d.prototype.Di = function (h, l) { "function" === typeof this.qd.Di && this.qd.Di(h, l) }; d.prototype.Fi = function (h, l) {
                            "function" === typeof this.qd.Fi &&
                                this.qd.Fi(h, l)
                        }; d.prototype.Xna = function () { return this.OS[this.OS.length - 1] }; d.prototype.gxa = function (h) {
                            var l, n = 0; this.Oa.info("show subtitle called at " + this.cw() + " for displayTime " + h.displayTime); this.emit("showsubtitle", h); var q = this.Xna(); q.GP || (q.GP = {}); if ("dfxp-ls-sdh" === this.Dt) try { for (var p = c.__values(h.blocks), u = p.next(); !u.done; u = p.next()) { var t = u.value; q.GP[t.id] || (n++, q.GP[t.id] = !0) } } catch (v) { var w = { error: v } } finally {
                                try { u && !u.done && (l = p.return) && l.call(p) } finally {
                                    if (w) throw w.error;
                                }
                            } else q.GP[h.id] || (n++, q.GP[h.id] = !0); q.pZ += n
                        }; d.prototype.Hva = function (h) { this.Oa.info("remove subtitle called at " + this.cw() + " for remove time " + (h.displayTime + h.duration)); this.emit("removesubtitle", h) }; d.prototype.L0b = function (h) { this.Oa.info("stage subtitle called at " + this.cw() + " for displayTime " + h.displayTime); this.emit("stagesubtitle", h) }; d.prototype.io = function () { this.Oa.info("underflow fired by the subtitle timer"); this.emit("underflow") }; d.prototype.Se = function () {
                            this.Oa.info("bufferingComplete fired by the subtitle timer");
                            this.emit("bufferingComplete")
                        }; d.prototype.N0b = function (h) { this.Oa.info("creating a new subtitle interval at " + h); this.OS.push({ Z: h, pZ: 0 }) }; d.prototype.U3b = function (h) { var l = this.Xna(); l && (l.jra = h) }; d.prototype.QWa = function (h) {
                            this.Oa.info("ending subtitle interval at " + h); var l = this.Xna(); l && (l.Ka = h, l.Ka < l.Z && (this.Oa.warn("correcting for interval where endPts is smaller than startPts"), l.Z = 0 < l.Ka ? l.Ka - 1 : 0), l.E5 = this.qd.Wr(l.Z, l.Ka), delete l.GP, l.E5 > l.pZ && l.jra && 500 > l.Ka - l.jra && (l.E5 = this.qd.Wr(l.Z,
                                l.jra)), this.Oa.info("showed " + l.pZ + " during this interval"), this.Oa.info("expected " + l.E5 + " for this interval"))
                        }; return d
                    }(r.EventEmitter); b.Wlb = a; b.default = a
                }, function (r, b, a) {
                    function c(F) {
                        var G = F.preferences, C = F.Ui, H = F.Ud, L = F.xml, N = F.wa; if (!F.xml && !F.request) throw Error("FullTextStream requires either a 'request' function or the 'xml' data"); w.call(this); this.Qe = this.Rga = null; this.cT = "object" === typeof G ? F.preferences : {}; this.zS = "object" === typeof C ? F.Ui : {}; this.sC = "number" === typeof H ? F.Ud : 0; this.nG =
                            "string" === typeof L ? F.xml : ""; this.Oa = "object" === typeof N ? F.wa : D; this.cG = F.request; this.zl = F.url; this.XB = []; this.gw = this.sC; this.Tg = null; this.Aha = this.NPa = !1; this.Tmb = F.Uua || 0
                    } function f(F, G) { return F && "object" === typeof F[G] && null !== F[G] ? F[G] : {} } function k(F, G) { return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length) } function m() {
                        var F = this, G = F.nG.indexOf("<p"); if (-1 < G) {
                            var C = F.nG.slice(0, G); h(C, function (H, L) {
                                null !== H ? (H.Kcc = C, F.emit("error", H)) : (F.Rga = L, F.Qe = new x(F.nG, L.tickRate),
                                    d.call(F, F.sC))
                            })
                        } else F.emit("error", Error("paragraph tag not found when searching for '<p'; could not build index"))
                    } function g(F, G) { var C = F.filter(function (H) { return H.startTime <= G && G <= H.endTime }); F = F.filter(function (H) { return H.startTime > G }); return 0 < F.length ? C.concat([F[0]]) : C } function d(F) {
                        var G = this, C = G.Rga, H = 0, L = [], N = C.defaultStyle ? [C.defaultStyle] : []; G.Oa.info("parsing the next 5 entries..."); var J = G.Qe.yIb(F); G.Oa.info(J); var Q = v.wc(!0); Q.onerror = function (K) { K.xml = J; G.emit("error", K) }; Q.onend =
                            function () { var K = G.XB.reduce(function (I, M) { M = M.blocks.reduce(function (O, P) { return O.concat([P.id]) }, []); return I.concat(M) }, []); L.forEach(function (I) { if (-1 === K.indexOf(I.id)) { var M = I && I.blocks && I.blocks.filter(function (O) { return 0 < O.textNodes.length }); M && 0 < M.length && (I.blocks = M, G.XB.push(I)) } }); G.Aha = !1; G.NPa || (G.NPa = !0, G.emit("ready")) }; Q.ontext = function (K) { ("" !== K.trim() || K.match(/ +/)) && p(p(L).blocks).textNodes.push({ text: K.match(/ +/) ? K : K.trim(), style: p(N), lineBreaks: H }); H = 0 }; Q.onclosetag = function () {
                                "undefined" !==
                                    typeof Q.tag.attributes.style && N.pop()
                            }; Q.onopentag = function (K) {
                                var I = K.attributes, M = K.name; K = C.tickRate; if ("p" === M) {
                                    H = 0; M = I["xml:id"]; I.style && N.push(I.style); var O = Math.floor(parseInt(I.begin) / K * 1E3); if (0 === L.length || p(L).displayTime !== O) {
                                        O = L.push; var P = {}, S = parseInt(I.begin) / K; K = parseInt(I.end) / K; P.id = M; P.startTime = Math.floor(1E3 * S); P.endTime = Math.floor(1E3 * K); P.style = I.style; P.region = I.region; P.displayTime = P.startTime; P.duration = P.endTime - P.startTime; P.extent = I["tts:extent"] || null; P.origin = I["tts:origin"] ||
                                            null; P.latestEndSoFar = 0 > P.endTime ? 0 : P.endTime; P.blocks = [{ textNodes: [], region: P.region, id: M, extent: P.extent, origin: P.origin }]; O.call(L, P)
                                    } else p(L).blocks.push({ textNodes: [], region: I.region, id: M, extent: I["tts:extent"] || null, origin: I["tts:origin"] || null })
                                } else "span" === M ? N.push(I.style) : "br" === M && H++
                            }; Q.write("<entries>").write(J).write("</entries>").close()
                    } function h(F, G) {
                        var C = v.wc(!0), H = {}, L = [], N = null, J = [], Q = {}; C.onerror = function (K) { G(K, null) }; C.onend = function () { G(null, H) }; C.onclosetag = function () { L.pop() };
                        C.onopentag = function (K) {
                            var I = K.attributes, M = K.name, O = H.regions, P = H.styles; L.push(K); if ("tt" === M) H = l(I); else if ("body" === M) "undefined" !== typeof I.style && (H.defaultStyle = I.style, J.push(I.style)); else if ("initial" === M && q(L, "styling")) Q = n(I, A); else if ("style" === M && q(L, "styling")) { O = I["xml:id"]; K = Q; I = n(I, A); if (Object.keys(K).length) for (var S in K) "undefined" === typeof I[S] && (I[S] = K[S]); P[O] = I } else "style" === M && q(L, "region") ? (P = Object.keys(I)[0], "string" === typeof P && (O[N][P.slice(4)] = I[P])) : "region" === M &&
                                q(L, "layout") && (N = I["xml:id"], O[N] = n(I, E))
                        }; setTimeout(function () { for (C.write(F); 0 < L.length && !C.error;) { var K = p(L).name; C.write("</" + K + ">") } C.close() }, 10)
                    } function l(F) {
                        F = n(F, B); if ("string" === typeof F.extent) { var G = F.extent.split(" ").map(function (C) { return parseInt(C, 10) }); F.width = G[0]; F.height = G[1] } else F.width = 1280, F.height = 720; F.aspectRatio = F.width / F.height; "string" === typeof F.cellResolution ? (G = F.cellResolution.split(" ").map(function (C) { return parseInt(C, 10) }), F.cellResolution = {}, F.cellResolution.x =
                            G[0], F.cellResolution.y = G[1]) : F.cellResolution = { x: 52, y: 19 }; return F
                    } function n(F, G) { var C = {}; G.forEach(function (H) { "undefined" !== typeof F["tts:" + H] ? C[H] = F["tts:" + H] : "undefined" !== typeof F["ttp:" + H] ? C[H] = F["ttp:" + H] : "undefined" !== typeof F["ebutts:" + H] ? C[H] = F["ebutts:" + H] : "undefined" !== typeof F["xml:" + H] && (C[H] = F["xml:" + H]) }); C.styles = {}; C.regions = {}; return C } function q(F, G) { var C; for (C = F.length - 1; 0 <= C; C--)if (F[C].name === G) return !0; return !1 } function p(F) {
                        if (!Array.isArray(F)) throw Error("last called on non-array: " +
                            F); return F[F.length - 1]
                    } function u(F, G) { return { lineBreaks: G.lineBreaks, text: G.text, style: z.KAb(F[G.style] || {}, this.zS, this.cT), id: G.id } } function t(F, G) { var C = this, H = F.styles || {}; return { startTime: G.startTime, id: G.id, endTime: G.endTime, displayTime: G.displayTime, duration: G.duration, blocks: G.blocks.map(function (L) { var N = y.FAb(F, L); return { textNodes: L.textNodes.map(u.bind(C, H)), region: N, id: L.id } }) } } var w = a(116).EventEmitter, v = a(1093), x = a(1094), y = a(1095), z = a(1096), A = "color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign".split(" "),
                        B = "cellResolution pixelAspectRatio tickRate timeBase extent lang".split(" "), E = "backgroundColor displayAlign extent origin writingMode multiRowAlign".split(" "), D = { info: function () { } }; b = Object.create(w.prototype); c.prototype = b; b.start = function () { var F = this; F.Oa.info("incremental text stream created, starting at pts " + F.sC); F.nG ? m.call(F) : F.cG({ url: F.zl }, function (G, C) { F.nG = C; m.call(F) }) }; b.mH = function (F) {
                            var G = this; F < G.gw - G.Tmb && (G.XB = []); var C = G.XB, H = 0 < C.length ? C[C.length - 1].startTime : F; G.gw = F; for (!G.Tg &&
                                5 > G.XB.length && !G.Aha && (G.Oa.info("buffer size: " + G.XB.length + "; minimum: 5"), G.Aha = !0, G.Tg = setTimeout(function () { G.Tg = null; d.call(G, H + 1) }, 10)); 0 < C.length && C[0].endTime < F;)C.shift(); C = g(C, F).map(t.bind(G, G.Rga)); F < G.Qe.cFb() && 0 === C.length && (C = null); return C
                        }; b.Wr = function (F, G) { return this.Qe ? this.Qe.Wr(F, G) : 0 }; b.close = function () { }; b.Gfc = function (F) { var G = f(F, "preferences"); F = f(F, "defaults"); return k(G, this.cT) || k(F, this.zS) ? (this.cT = G, this.zS = F, !0) : !1 }; r.exports = c
                }, function (r, b) {
                    (function (a) {
                        function c() { }
                        function f(I, M) {
                            if (!(this instanceof f)) return new f(I, M); for (var O = 0, P = x.length; O < P; O++)this[x[O]] = ""; this.q = this.c = this.Fn = this.textNode = ""; this.CSa = a.Pda; this.Xn = M || {}; this.Xn.f3a = this.Xn.f3a || this.Xn.jdc; this.Mra = this.Xn.f3a ? "toLowerCase" : "toUpperCase"; this.rl = []; this.closed = this.oU = this.rP = !1; this.tag = this.error = null; this.fo = !!I; this.m5a = !(!I && !this.Xn.m5a); this.state = K.hca; this.Wx = (this.Kab = this.Xn.Kab) ? Object.create(a.tmb) : Object.create(a.Wx); this.zC = []; this.Xn.x_ && (this.yk = Object.create(N));
                            if (this.Vaa = !1 !== this.Xn.position) this.position = this.line = this.pU = 0; this.onready && this.onready(void 0)
                        } function k(I, M) {
                            if (!(this instanceof k)) return new k(I, M); c.apply(this); this.Ey = new f(I, M); this.readable = this.writable = !0; var O = this; this.Ey.onend = function () { O.emit("end") }; this.Ey.onerror = function (P) { O.emit("error", P); O.Ey.error = null }; y.forEach(function (P) {
                                Object.defineProperty(O, "on" + P, {
                                    get: function () { return O.Ey["on" + P] }, set: function (S) {
                                        if (!S) return O.removeAllListeners(P), O.Ey["on" + P] = S; O.on(P,
                                            S)
                                    }, enumerable: !0, configurable: !1
                                })
                            })
                        } function m(I) { return I.split("").reduce(function (M, O) { M[O] = !0; return M }, {}) } function g(I, M) { return "[object RegExp]" === Object.prototype.toString.call(I) ? !!M.match(I) : I[M] } function d(I, M, O) { I.textNode && h(I); I[M] && I[M](O) } function h(I) { I.textNode = l(I.Xn, I.textNode); I.textNode && I.ontext && I.ontext(I.textNode); I.textNode = "" } function l(I, M) { I.trim && (M = M.trim()); I.normalize && (M = M.replace(/\s+/g, " ")); return M } function n(I, M) {
                            h(I); I.Vaa && (M += "\nLine: " + I.line + "\nColumn: " +
                                I.pU + "\nChar: " + I.c); M = Error(M); I.error = M; I.onerror && I.onerror(M); return I
                        } function q(I) { I.rP && !I.oU && p(I, "Unclosed root tag"); I.state !== K.hca && I.state !== K.ica && I.state !== K.dn && n(I, "Unexpected end"); h(I); I.c = ""; I.closed = !0; I.onend && I.onend(void 0); f.call(I, I.fo, I.Xn); return I } function p(I, M) { if ("object" !== typeof I || !(I instanceof f)) throw Error("bad call to strictFail"); I.fo && n(I, M) } function u(I, M) {
                            var O = 0 > I.indexOf(":") ? ["", I] : I.split(":"), P = O[0]; O = O[1]; M && "xmlns" === I && (P = "xmlns", O = ""); return {
                                prefix: P,
                                local: O
                            }
                        } function t(I) {
                            I.fo || (I.qj = I.qj[I.Mra]()); if (-1 !== I.zC.indexOf(I.qj) || I.tag.attributes.hasOwnProperty(I.qj)) return I.qj = I.rj = ""; if (I.Xn.x_) { var M = u(I.qj, !0), O = M.local; if ("xmlns" === M.prefix) if ("xml" === O && I.rj !== H) p(I, "xml: prefix must be bound to " + H + "\nActual: " + I.rj); else if ("xmlns" === O && I.rj !== L) p(I, "xmlns: prefix must be bound to " + L + "\nActual: " + I.rj); else { M = I.tag; var P = I.rl[I.rl.length - 1] || I; M.yk === P.yk && (M.yk = Object.create(P.yk)); M.yk[O] = I.rj } I.zC.push([I.qj, I.rj]) } else I.tag.attributes[I.qj] =
                                I.rj, d(I, "onattribute", { name: I.qj, value: I.rj }); I.qj = I.rj = ""
                        } function w(I, M) {
                            if (I.Xn.x_) {
                                var O = I.tag, P = u(I.tagName); O.prefix = P.prefix; O.local = P.local; O.uri = O.yk[P.prefix] || ""; O.prefix && !O.uri && (p(I, "Unbound namespace prefix: " + JSON.stringify(I.tagName)), O.uri = P.prefix); P = I.rl[I.rl.length - 1] || I; O.yk && P.yk !== O.yk && Object.keys(O.yk).forEach(function (X) { d(I, "onopennamespace", { prefix: X, uri: O.yk[X] }) }); P = 0; for (var S = I.zC.length; P < S; P++) {
                                    var U = I.zC[P], Z = U[0], ia = U[1], ya = u(Z, !0); U = ya.prefix; var na = "" == U ? "" :
                                        O.yk[U] || ""; ia = { name: Z, value: ia, prefix: U, local: ya.local, uri: na }; U && "xmlns" != U && !na && (p(I, "Unbound namespace prefix: " + JSON.stringify(U)), ia.uri = U); I.tag.attributes[Z] = ia; d(I, "onattribute", ia)
                                } I.zC.length = 0
                            } I.tag.edc = !!M; I.rP = !0; I.rl.push(I.tag); d(I, "onopentag", I.tag); M || (I.state = I.m5a || "script" !== I.tagName.toLowerCase() ? K.dn : K.GK, I.tag = null, I.tagName = ""); I.qj = I.rj = ""; I.zC.length = 0
                        } function v(I) {
                            if (I.tagName) {
                                if (I.Gk) {
                                    if ("script" !== I.tagName) { I.Gk += "</" + I.tagName + ">"; I.tagName = ""; I.state = K.GK; return } d(I,
                                        "onscript", I.Gk); I.Gk = ""
                                } var M = I.rl.length, O = I.tagName; I.fo || (O = O[I.Mra]()); for (var P = O; M--;)if (I.rl[M].name !== P) p(I, "Unexpected close tag"); else break; if (0 > M) p(I, "Unmatched closing tag: " + I.tagName), I.textNode += "</" + I.tagName + ">"; else {
                                    I.tagName = O; for (O = I.rl.length; O-- > M;) { var S = I.tag = I.rl.pop(); I.tagName = I.tag.name; d(I, "onclosetag", I.tagName); for (var U in S.yk); P = I.rl[I.rl.length - 1] || I; I.Xn.x_ && S.yk !== P.yk && Object.keys(S.yk).forEach(function (Z) { d(I, "onclosenamespace", { prefix: Z, uri: S.yk[Z] }) }) } 0 ===
                                        M && (I.oU = !0); I.tagName = I.rj = I.qj = ""; I.zC.length = 0
                                }
                            } else p(I, "Weird empty close tag."), I.textNode += "</>"; I.state = K.dn
                        } a.wc = function (I, M) { return new f(I, M) }; a.r$b = f; a.s$b = k; a.TUa = function (I) { return new k(I, void 0) }; a.Pda = 65536; var x = "comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" "); a.Oe = "text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" ");
                        Object.create || (Object.create = function (I) { function M() { this.__proto__ = I } M.prototype = I; return new M }); Object.getPrototypeOf || (Object.getPrototypeOf = function (I) { return I.__proto__ }); Object.keys || (Object.keys = function (I) { var M = [], O; for (O in I) I.hasOwnProperty(O) && M.push(O); return M }); f.prototype = {
                            end: function () { q(this) }, write: function (I) {
                                if (this.closed) return n(this, "Cannot write after close. Assign an onready handler."); if (null === I) return q(this); if (this.error) throw this.error; for (var M = 0, O; this.c =
                                    O = I.charAt(M++);)switch (this.Vaa && (this.position++, "\n" === O ? (this.line++, this.pU = 0) : this.pU++), this.state) {
                                        case K.hca: if (this.state = K.ica, "\ufeff" === O) continue; case K.ica: "<" === O ? (this.state = K.iea, this.zxa = this.position) : g(z, O) || (p(this, "Non-whitespace before first tag."), this.textNode = O, this.state = K.dn); continue; case K.dn: if (this.rP && !this.oU) {
                                            for (var P = M - 1; O && "<" !== O && "&" !== O;)(O = I.charAt(M++)) && this.Vaa && (this.position++, "\n" === O ? (this.line++, this.pU = 0) : this.pU++); this.textNode += I.substring(P,
                                                M - 1)
                                        } "<" !== O || this.rP && this.oU && !this.fo ? (g(z, O) || this.rP && !this.oU || p(this, "Text data outside of root node."), "&" === O ? this.state = K.yfa : this.textNode += O) : (this.state = K.iea, this.zxa = this.position); continue; case K.GK: "<" === O ? this.state = K.fLa : this.Gk += O; continue; case K.fLa: "/" === O ? this.state = K.qca : (this.Gk += "<" + O, this.state = K.GK); continue; case K.iea: "!" === O ? (this.state = K.lfa, this.Ls = "") : g(z, O) || (g(J, O) ? (this.state = K.aIa, this.tagName = O) : "/" === O ? (this.state = K.qca, this.tagName = "") : "?" === O ? (this.state = K.uIa,
                                            this.p$ = this.FI = "") : (p(this, "Unencoded <"), this.zxa + 1 < this.position && (O = Array(this.position - this.zxa).join(" ") + O), this.textNode += "<" + O, this.state = K.dn)); continue; case K.lfa: (this.Ls + O).toUpperCase() === G ? (d(this, "onopencdata"), this.state = K.L_, this.km = this.Ls = "") : "--" === this.Ls + O ? (this.state = K.N_, this.Ls = this.om = "") : (this.Ls + O).toUpperCase() === C ? (this.state = K.W_, (this.doctype || this.rP) && p(this, "Inappropriately located doctype declaration"), this.Ls = this.doctype = "") : ">" === O ? (d(this, "onsgmldeclaration",
                                                this.Ls), this.Ls = "", this.state = K.dn) : (g(E, O) && (this.state = K.iLa), this.Ls += O); continue; case K.iLa: O === this.q && (this.state = K.lfa, this.q = ""); this.Ls += O; continue; case K.W_: ">" === O ? (this.state = K.dn, d(this, "ondoctype", this.doctype), this.doctype = !0) : (this.doctype += O, "[" === O ? this.state = K.Aca : g(E, O) && (this.state = K.XBa, this.q = O)); continue; case K.XBa: this.doctype += O; O === this.q && (this.q = "", this.state = K.W_); continue; case K.Aca: this.doctype += O; "]" === O ? this.state = K.W_ : g(E, O) && (this.state = K.WBa, this.q = O); continue;
                                        case K.WBa: this.doctype += O; O === this.q && (this.state = K.Aca, this.q = ""); continue; case K.N_: "-" === O ? this.state = K.NAa : this.om += O; continue; case K.NAa: "-" === O ? (this.state = K.MAa, (this.om = l(this.Xn, this.om)) && d(this, "oncomment", this.om), this.om = "") : (this.om += "-" + O, this.state = K.N_); continue; case K.MAa: ">" !== O ? (p(this, "Malformed comment"), this.om += "--" + O, this.state = K.N_) : this.state = K.dn; continue; case K.L_: "]" === O ? this.state = K.GAa : this.km += O; continue; case K.GAa: "]" === O ? this.state = K.HAa : (this.km += "]" + O, this.state =
                                            K.L_); continue; case K.HAa: ">" === O ? (this.km && d(this, "oncdata", this.km), d(this, "onclosecdata"), this.km = "", this.state = K.dn) : "]" === O ? this.km += "]" : (this.km += "]]" + O, this.state = K.L_); continue; case K.uIa: "?" === O ? this.state = K.wea : g(z, O) ? this.state = K.vea : this.p$ += O; continue; case K.vea: if (!this.FI && g(z, O)) continue; else "?" === O ? this.state = K.wea : this.FI += O; continue; case K.wea: ">" === O ? (d(this, "onprocessinginstruction", { name: this.p$, body: this.FI }), this.p$ = this.FI = "", this.state = K.dn) : (this.FI += "?" + O, this.state = K.vea);
                                            continue; case K.aIa: if (g(Q, O)) this.tagName += O; else { this.fo || (this.tagName = this.tagName[this.Mra]()); P = this.rl[this.rl.length - 1] || this; var S = this.tag = { name: this.tagName, attributes: {} }; this.Xn.x_ && (S.yk = P.yk); this.zC.length = 0; ">" === O ? w(this) : "/" === O ? this.state = K.e1 : (!g(z, O) && p(this, "Invalid character in tag name"), this.state = K.TJ) } continue; case K.e1: ">" === O ? (w(this, !0), v(this)) : (p(this, "Forward-slash in opening tag not followed by >"), this.state = K.TJ); continue; case K.TJ: if (g(z, O)) continue; else ">" ===
                                                O ? w(this) : "/" === O ? this.state = K.e1 : g(J, O) ? (this.qj = O, this.rj = "", this.state = K.C_) : p(this, "Invalid attribute name"); continue; case K.C_: "=" === O ? this.state = K.Gba : ">" === O ? (p(this, "Attribute without value"), this.rj = this.qj, t(this), w(this)) : g(z, O) ? this.state = K.sza : g(Q, O) ? this.qj += O : p(this, "Invalid attribute name"); continue; case K.sza: if ("=" === O) this.state = K.Gba; else if (g(z, O)) continue; else p(this, "Attribute without value"), this.rj = this.tag.attributes[this.qj] = "", d(this, "onattribute", { name: this.qj, value: "" }),
                                                    this.qj = "", ">" === O ? w(this) : g(J, O) ? (this.qj = O, this.state = K.C_) : (p(this, "Invalid attribute name"), this.state = K.TJ); continue; case K.Gba: if (g(z, O)) continue; else g(E, O) ? (this.q = O, this.state = K.Jba) : (p(this, "Unquoted attribute value"), this.state = K.Kba, this.rj = O); continue; case K.Jba: if (O !== this.q) { "&" === O ? this.state = K.Hba : this.rj += O; continue } t(this); this.q = ""; this.state = K.tza; continue; case K.tza: g(z, O) ? this.state = K.TJ : ">" === O ? w(this) : "/" === O ? this.state = K.e1 : g(J, O) ? (p(this, "No whitespace between attributes"),
                                                        this.qj = O, this.rj = "", this.state = K.C_) : p(this, "Invalid attribute name"); continue; case K.Kba: if (!g(F, O)) { "&" === O ? this.state = K.Iba : this.rj += O; continue } t(this); ">" === O ? w(this) : this.state = K.TJ; continue; case K.qca: if (this.tagName) ">" === O ? v(this) : g(Q, O) ? this.tagName += O : this.Gk ? (this.Gk += "</" + this.tagName, this.tagName = "", this.state = K.GK) : (!g(z, O) && p(this, "Invalid tagname in closing tag"), this.state = K.KAa); else if (g(z, O)) continue; else g(J, O) ? this.tagName = O : this.Gk ? (this.Gk += "</" + O, this.state = K.GK) : p(this,
                                                            "Invalid tagname in closing tag."); continue; case K.KAa: if (g(z, O)) continue; ">" === O ? v(this) : p(this, "Invalid characters in closing tag"); continue; case K.yfa: case K.Hba: case K.Iba: switch (this.state) { case K.yfa: var U = K.dn, Z = "textNode"; break; case K.Hba: U = K.Jba; Z = "attribValue"; break; case K.Iba: U = K.Kba, Z = "attribValue" }if (";" === O) {
                                                                O = Z; P = this[O]; S = this.Fn; var ia = S.toLowerCase(), ya = ""; if (this.Wx[S]) S = this.Wx[S]; else if (this.Wx[ia]) S = this.Wx[ia]; else {
                                                                    S = ia; if ("#" === S.charAt(0)) if ("x" === S.charAt(1)) {
                                                                        S = S.slice(2);
                                                                        var na = parseInt(S, 16); ya = na.toString(16)
                                                                    } else S = S.slice(1), na = parseInt(S, 10), ya = na.toString(10); S = S.replace(/^0+/, ""); S = ya.toLowerCase() !== S ? (p(this, "Invalid character entity"), "&" + this.Fn + ";") : String.fromCodePoint(na)
                                                                } this[O] = P + S; this.Fn = ""; this.state = U
                                                            } else g(D, O) ? this.Fn += O : (p(this, "Invalid character entity"), this[Z] += "&" + this.Fn + O, this.Fn = "", this.state = U); continue; default: throw Error(this, "Unknown state: " + this.state);
                                    }if (this.position >= this.CSa) {
                                        I = Math.max(a.Pda, 10); O = M = 0; for (U = x.length; O < U; O++) {
                                            Z =
                                                this[x[O]].length; if (Z > I) switch (x[O]) { case "textNode": h(this); break; case "cdata": d(this, "oncdata", this.km); this.km = ""; break; case "script": d(this, "onscript", this.Gk); this.Gk = ""; break; default: n(this, "Max buffer length exceeded: " + x[O]) }M = Math.max(M, Z)
                                        } this.CSa = a.Pda - M + this.position
                                    } return this
                            }, resume: function () { this.error = null; return this }, close: function () { return this.write(null) }, flush: function () {
                                h(this); "" !== this.km && (d(this, "oncdata", this.km), this.km = ""); "" !== this.Gk && (d(this, "onscript", this.Gk),
                                    this.Gk = "")
                            }
                        }; var y = a.Oe.filter(function (I) { return "error" !== I && "end" !== I }); k.prototype = Object.create(c.prototype, { constructor: { value: k } }); k.prototype.write = function (I) { this.Ey.write(I.toString()); this.emit("data", I); return !0 }; k.prototype.end = function (I) { I && I.length && this.write(I); this.Ey.end(); return !0 }; k.prototype.on = function (I, M) {
                            var O = this; O.Ey["on" + I] || -1 === y.indexOf(I) || (O.Ey["on" + I] = function () {
                                var P = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments); P.splice(0, 0, I); O.emit.apply(O,
                                    P)
                            }); return c.prototype.on.call(O, I, M)
                        }; var z = "\r\n\t ", A = "0124356789", B = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", E = "'\"", D = A + B + "#", F = z + ">", G = "[CDATA[", C = "DOCTYPE", H = "http://www.w3.org/XML/1998/namespace", L = "http://www.w3.org/2000/xmlns/", N = { xml: H, x_: L }; z = m(z); A = m(A); B = m(B); var J = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/, Q = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;
                        E = m(E); D = m(D); F = m(F); var K = 0; a.TB = { hca: K++, ica: K++, dn: K++, yfa: K++, iea: K++, lfa: K++, iLa: K++, W_: K++, XBa: K++, Aca: K++, WBa: K++, K6b: K++, N_: K++, NAa: K++, MAa: K++, L_: K++, GAa: K++, HAa: K++, uIa: K++, vea: K++, wea: K++, aIa: K++, e1: K++, TJ: K++, C_: K++, sza: K++, Gba: K++, Jba: K++, tza: K++, Kba: K++, Hba: K++, Iba: K++, qca: K++, KAa: K++, GK: K++, fLa: K++ }; a.tmb = { amp: "&", gt: ">", lt: "<", quot: '"', apos: "'" }; a.Wx = {
                            amp: "&", gt: ">", lt: "<", quot: '"', apos: "'", AElig: 198, Aacute: 193, Acirc: 194, Agrave: 192, Aring: 197, Atilde: 195, Auml: 196, Ccedil: 199, ETH: 208,
                            Eacute: 201, Ecirc: 202, Egrave: 200, Euml: 203, Iacute: 205, Icirc: 206, Igrave: 204, Iuml: 207, Ntilde: 209, Oacute: 211, Ocirc: 212, Ograve: 210, Oslash: 216, Otilde: 213, Ouml: 214, THORN: 222, Uacute: 218, Ucirc: 219, Ugrave: 217, Uuml: 220, Yacute: 221, aacute: 225, acirc: 226, aelig: 230, agrave: 224, aring: 229, atilde: 227, auml: 228, ccedil: 231, eacute: 233, ecirc: 234, egrave: 232, eth: 240, euml: 235, iacute: 237, icirc: 238, igrave: 236, iuml: 239, ntilde: 241, oacute: 243, ocirc: 244, ograve: 242, oslash: 248, otilde: 245, ouml: 246, szlig: 223, thorn: 254, uacute: 250, ucirc: 251,
                            ugrave: 249, uuml: 252, yacute: 253, yuml: 255, copy: 169, reg: 174, nbsp: 160, iexcl: 161, cent: 162, pound: 163, curren: 164, yen: 165, brvbar: 166, sect: 167, uml: 168, ordf: 170, laquo: 171, not: 172, shy: 173, macr: 175, deg: 176, plusmn: 177, sup1: 185, sup2: 178, sup3: 179, acute: 180, micro: 181, para: 182, middot: 183, cedil: 184, ordm: 186, raquo: 187, frac14: 188, frac12: 189, frac34: 190, iquest: 191, times: 215, divide: 247, OElig: 338, oelig: 339, Scaron: 352, scaron: 353, Yuml: 376, fnof: 402, circ: 710, tilde: 732, Alpha: 913, Beta: 914, Gamma: 915, Delta: 916, Epsilon: 917, Zeta: 918,
                            Eta: 919, Theta: 920, Iota: 921, Kappa: 922, Lambda: 923, Mu: 924, Nu: 925, Xi: 926, Omicron: 927, Pi: 928, Rho: 929, Sigma: 931, Tau: 932, Upsilon: 933, Phi: 934, Chi: 935, Psi: 936, Omega: 937, alpha: 945, beta: 946, gamma: 947, delta: 948, epsilon: 949, zeta: 950, eta: 951, theta: 952, iota: 953, kappa: 954, lambda: 955, mu: 956, nu: 957, xi: 958, omicron: 959, pi: 960, rho: 961, sigmaf: 962, sigma: 963, tau: 964, upsilon: 965, phi: 966, chi: 967, psi: 968, omega: 969, thetasym: 977, upsih: 978, piv: 982, ensp: 8194, emsp: 8195, thinsp: 8201, zwnj: 8204, zwj: 8205, lrm: 8206, rlm: 8207, ndash: 8211,
                            mdash: 8212, lsquo: 8216, rsquo: 8217, sbquo: 8218, ldquo: 8220, rdquo: 8221, bdquo: 8222, dagger: 8224, Dagger: 8225, bull: 8226, hellip: 8230, permil: 8240, prime: 8242, Prime: 8243, lsaquo: 8249, rsaquo: 8250, oline: 8254, frasl: 8260, euro: 8364, image: 8465, weierp: 8472, real: 8476, trade: 8482, alefsym: 8501, larr: 8592, uarr: 8593, rarr: 8594, darr: 8595, harr: 8596, crarr: 8629, lArr: 8656, uArr: 8657, rArr: 8658, dArr: 8659, hArr: 8660, forall: 8704, part: 8706, exist: 8707, empty: 8709, nabla: 8711, isin: 8712, notin: 8713, ni: 8715, prod: 8719, sum: 8721, minus: 8722, lowast: 8727,
                            radic: 8730, prop: 8733, infin: 8734, ang: 8736, and: 8743, or: 8744, cap: 8745, cup: 8746, "int": 8747, there4: 8756, sim: 8764, cong: 8773, asymp: 8776, ne: 8800, equiv: 8801, le: 8804, ge: 8805, sub: 8834, sup: 8835, nsub: 8836, sube: 8838, supe: 8839, oplus: 8853, otimes: 8855, perp: 8869, sdot: 8901, lceil: 8968, rceil: 8969, lfloor: 8970, rfloor: 8971, lang: 9001, rang: 9002, loz: 9674, spades: 9824, clubs: 9827, hearts: 9829, diams: 9830
                        }; Object.keys(a.Wx).forEach(function (I) { var M = a.Wx[I]; M = "number" === typeof M ? String.fromCharCode(M) : M; a.Wx[I] = M }); for (K in a.TB) a.TB[a.TB[K]] =
                            K; K = a.TB; String.fromCodePoint || function () {
                                function I() { var P = [], S = -1, U = arguments.length; if (!U) return ""; for (var Z = ""; ++S < U;) { var ia = Number(arguments[S]); if (!isFinite(ia) || 0 > ia || 1114111 < ia || O(ia) != ia) throw RangeError("Invalid code point: " + ia); if (65535 >= ia) P.push(ia); else { ia -= 65536; var ya = (ia >> 10) + 55296; ia = ia % 1024 + 56320; P.push(ya, ia) } if (S + 1 == U || 16384 < P.length) Z += M.apply(null, P), P.length = 0 } return Z } var M = String.fromCharCode, O = Math.floor; Object.defineProperty ? Object.defineProperty(String, "fromCodePoint",
                                    { value: I, configurable: !0, writable: !0 }) : String.fromCodePoint = I
                            }()
                    })(b)
                }, function (r) {
                    function b(a, c) { var f = [], k = a.indexOf("<p"), m = -1; do { var g = {}; g.F0b = k; var d = a.indexOf("begin=", k) + 7, h = a.indexOf("end=", k) + 5; d = Math.floor(parseInt(a.substr(d, 25), 10) / c * 1E3); h = Math.floor(parseInt(a.substr(h, 25), 10) / c * 1E3); m = h > m ? h : m; g.startTime = d; g.endTime = h; g.latestEndSoFar = m; g.aXa = a.indexOf("/p>", k) + 3; k = g.aXa; f.push(g); k = a.indexOf("<p", k) } while (-1 !== k); this.r2 = f; this.nG = a } b.prototype.cFb = function () {
                        return this.r2[this.r2.length -
                            1].endTime
                    }; b.prototype.Wr = function (a, c) { return this.r2.filter(function (f) { return f.startTime <= c && f.endTime >= a }).length }; b.prototype.yIb = function (a) { for (var c = "", f = this.r2.filter(function (m) { return m.startTime <= a && a < m.endTime || m.startTime >= a }), k = 4; k + 1 < f.length && f[k + 1].startTime === f[4].startTime;)k++; f = f.slice(0, k + 1); 0 < f.length && (c = this.nG.slice(f[0].F0b, f[f.length - 1].aXa)); return c }; r.exports = b
                }, function (r, b, a) {
                    function c(l) { return "string" !== typeof l ? null : g[l] } function f(l) {
                        return "string" !== typeof l ?
                            null : d[l]
                    } function k(l) { return l.split(" ").map(function (n) { return .01 * parseFloat(n) }) } var m = a(481); r.exports = {
                        FAb: function (l, n) {
                            var q = n.textNodes[0] || {}, p = l.regions, u = l.styles; l = l.aspectRatio; p = p && p[n.region] ? p[n.region] : {}; q = u && u[q.style] ? u[q.style] : {}; u = k(m(n.extent, p.extent, "80% 80%")); var t = k(m(n.origin, p.origin, "10% 10%")); n = Object; l /= 1280 / 720; var w = (1 - l) / 2, v = t[0]; t = t[1]; u = n.create.call(n, { marginLeft: v * l + w, marginTop: t, marginRight: (1 - (v + u[0])) * l + w, marginBottom: 1 - (t + u[1]) }); 1 < Object.keys(p).length ?
                                u.verticalAlignment = c(m(q.displayAlign, p.displayAlign, "before")) : u.verticalAlignment = c(m(q.displayAlign, "after")); u.horizontalAlignment = f(m(q.textAlign, p.textAlign, "center")); l = p.writingMode ? p.writingMode : "lrtb"; u.writingMode = "string" !== typeof l ? null : h[l]; u.multiRowAlignment = f(m(q.multiRowAlign, p.multiRowAlign, q.textAlign, p.textAlign, "center")); return u
                        }
                    }; var g = { before: "top", center: "center", after: "bottom" }, d = { left: "left", start: "start", center: "center", right: "right", end: "end" }, h = {
                        lrtb: "horizontal-tb",
                        rltb: "horizontal-tb", tblr: "vertical-lr", tbrl: "vertical-rl"
                    }
                }, function (r, b, a) {
                    function c(q) { return "string" !== typeof q || "#" === q[0] && 7 === q.length ? q : "#" === q[0] && 4 === q.length ? "#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3] : g[q.toLowerCase()] } function f(q) { var p = (q || "").split(" "), u = /^[0-9]/.test(p); q = u ? "#000000" : c(p[0]); var t = u ? 0 : 1; u = parseInt(p[t]); p = parseInt(p[t + 1]); return { color: q, width: 0 < u ? u : 0, blur: 0 < p ? p : 0 } } var k = a(481); r.exports = {
                        KAb: function (q, p, u) {
                            var t = k(u.characterSize, p.characterSize, "MEDIUM"), w = q.fontFamily;
                            w = k(u.characterStyle, "string" !== typeof w ? null : d[w], p.characterStyle, "PROPORTIONAL_SANS_SERIF"); var v = (q.fontSize || "").split(" ")[0] || "", x = -1 < v.indexOf("%") ? parseInt(v, 10) / 100 : -1 < v.indexOf("em") ? parseFloat(v) : 1; v = "underline" === q.textDecoration; var y = "italic" === q.fontStyle, z = m[k(u.C5b, p.C5b, "OPAQUE")], A = m[k(u.characterOpacity, p.characterOpacity, "OPAQUE")], B = m[k(u.backgroundOpacity, q.opacity, p.backgroundOpacity, "OPAQUE")], E = c(k(u.characterColor, q.color, p.characterColor, "#ffffff")), D = c(k(u.backgroundColor,
                                q.backgroundColor, p.backgroundColor, null)), F = c(k(u.Cdb, q.Cdb, p.Cdb, null)), G = k(u.characterEdgeAttributes, p.characterEdgeAttributes, null); x *= h[t] || 1; var C = 1; l[t] && (C = l[t][w] || 1); x *= 1 / 19 * C; C = 0; n[t] && (C = n[t][w] || 0); t = C; C = q.textOutline; C = "string" !== typeof C ? null : f(C).width; C = k(C, 0); var H = q.textOutline; H = "string" !== typeof H ? null : f(H).blur; H = k(H, 0); u = u.characterEdgeColor; q = q.textOutline; q = "string" !== typeof q ? null : f(q).color; return {
                                    characterUnderline: v, characterItalic: y, characterStyle: w, windowOpacity: z, characterOpacity: A,
                                    backgroundOpacity: B, characterColor: E, backgroundColor: D, windowColor: F, characterEdgeAttributes: G, characterSize: x, characterTracking: t, characterEdgeWidth: C, characterEdgeBlur: H, characterEdgeColor: c(k(u, q, p.characterEdgeColor, "#000000"))
                                }
                        }
                    }; var m = { NONE: 0, SEMI_TRANSPARENT: .5, OPAQUE: 1 }, g = {
                        black: "#000000", silver: "#c0c0c0", gray: "#808080", white: "#ffffff", maroon: "#800000", red: "#ff0000", purple: "#800080", fuchsia: "#ff00ff", magenta: "#ff00ff", green: "#00ff00", lime: "#00ff00", olive: "#808000", yellow: "#ffff00", navy: "#000080",
                        blue: "#0000ff", teal: "#008080", aqua: "#00ffff", cyan: "#00ffff", orange: "#ffa500", pink: "#ffc0cb", transparent: null
                    }, d = { "default": "PROPORTIONAL_SANS_SERIF", monospaceSansSerif: "MONOSPACED_SANS_SERIF", monospaceSerif: "MONOSPACED_SERIF", proportionalSansSerif: "PROPORTIONAL_SANS_SERIF", proportionalSerif: "PROPORTIONAL_SERIF", casual: "CASUAL", cursive: "CURSIVE", smallCapitals: "SMALL_CAPITALS", monospace: "MONOSPACED_SANS_SERIF", sansSerif: "PROPORTIONAL_SANS_SERIF", serif: "PROPORTIONAL_SERIF" }, h = { SMALL: .5, MEDIUM: 1, LARGE: 2 },
                        l = { MEDIUM: { MONOSPACED_SANS_SERIF: 1.37, MONOSPACED_SERIF: 1.15 }, SMALL: { MONOSPACED_SANS_SERIF: 1.37, MONOSPACED_SERIF: 1.15 } }, n = { MEDIUM: { MONOSPACED_SANS_SERIF: 2, MONOSPACED_SERIF: 2 }, SMALL: { MONOSPACED_SANS_SERIF: 1, MONOSPACED_SERIF: 1 } }
                }, function (r, b, a) {
                    function c(l) { f.call(this); this.zl = l.url; this.cG = l.request; this.$F = l.Ud || 0; this.Oa = l.wa; this.Li = this.Dr = null; l.Pu ? this.Dr = l.Pu : (this.Re = l.offset, this.JL = l.size); this.fm; this.xha = l } var f = a(116).EventEmitter, k = a(1098), m = a(1099), g = a(1100), d = a(158), h = c.events = {
                        bjb: "midxready",
                        Dlb: "sidxready", nlb: "ready", Rf: "error"
                    }; c.prototype = Object.create(f.prototype); c.prototype.constructor = c; Object.defineProperties(c.prototype, { Lp: { get: function () { return this.fm && this.fm.xla } } }); c.prototype.start = function () { this.Dr ? (this.Oa.warn("midx was prefectched and provided"), this.iOa(this.Dr)) : this.Enb(this.Re, this.JL, this.xqb.bind(this)) }; c.prototype.close = function () { }; c.prototype.BN = function (l, n) { return this.fm && this.fm.apa(l, n) }; c.prototype.Wr = function (l, n) {
                        return (l = this.BN(l, n)) ? l.length :
                            l
                    }; c.prototype.hB = function (l, n) { this.Oa.debug("setStreamStartPosition: buffering subtitles at pts " + l); this.$F = l; this.fm ? this.fm.hB(l, n) : n && n() }; c.prototype.mH = function (l) { if (!this.fm || l > d.FHb(this.Dr)) return []; this.fm && this.fm.hma(l); var n = this.Lp.Ms, q = this.Lp.index, p = []; q = d.Mc(q) && this.Li[q + 1]; if (!(q && q.entries.length || n && !(l > n.endTime))) return []; n && n.images.length && (p = this.uOa(n, l, [])); 2 > p.length && q && q.images.length && (n = this.uOa(q, l, p), p.push.apply(p, n)); return this.fm.exa(l) ? null : d.eUa(p) }; c.prototype.Fi =
                        function (l, n) { this.fm && this.fm.Fi(l, n) }; c.prototype.Di = function (l, n) { this.fm && this.fm.Di(l, n) }; c.prototype.Enb = function (l, n, q) { this.Oa.debug("downloading midx..."); this.GOa(l, n, "binary", q) }; c.prototype.Fnb = function (l, n, q) { this.Oa.debug("downloading sidx..."); this.GOa(l, n, void 0, q) }; c.prototype.GOa = function (l, n, q, p) { this.cG({ url: this.zl, offset: l, size: n, responseType: q }, p) }; c.prototype.xqb = function (l, n) {
                            if (l) this.emit(h.Rf, d.QV(l, "midxdownloaderror")); else try { this.Dr = new k(n), this.iOa(this.Dr) } catch (q) {
                                this.emit(h.Rf,
                                    d.QV(q, "midxparseerror"))
                            }
                        }; c.prototype.iOa = function (l) { var n = l.entries.reduce(function (q, p) { return q + p.size }, 0); n ? (this.emit(h.bjb, l), this.Fnb(l.startOffset, n, this.Aqb.bind(this, l))) : this.emit(h.Rf, d.QV({}, "nosidxfoundinmidx")) }; c.prototype.Aqb = function (l, n, q) {
                            var p = this; if (n) p.emit(h.Rf, d.QV(n, "sidxdownloaderror")); else {
                                var u = 0, t = 0; p.Li = []; try { var w = 0; l.entries.forEach(function (v) { var x = new m(q, u, l.gqa, p.Oa, t, t + v.duration, w); p.Li.push(x); v.t0b = x; t = x.Kq; u += v.size; w++ }) } catch (v) {
                                    p.emit(h.Rf, d.QV(v,
                                        "sidxparseerror")); return
                                } p.emit(h.Dlb, p.Li); this.fm = new g(p.xha, l, p.Li); n = p.$F; p.xha && p.xha.Y$ || (n = Math.max(p.$F - 1E4, 0)); this.fm.hma(n, function (v) { v && p.Oa.error("initial sidx download failed"); p.emit(h.nlb) })
                            }
                        }; c.prototype.uOa = function (l, n, q) {
                            for (var p = l.entries, u = 0, t = p.length, w = [], v, x = this.Dr; u < t;) {
                                v = p[u]; if (v.displayTime <= n) v.displayTime + v.duration >= n && w.push(d.nla(v, l.images[u].data, x)); else {
                                    var y = w.length && w[w.length - 1] || q.length && q[q.length - 1]; if (y && y.displayTime > n && y.displayTime !== v.displayTime) break;
                                    y.CH !== v.CH && w.push(d.nla(v, l.images[u].data, x))
                                } u++
                            } return w
                        }; r.exports = c
                }, function (r, b, a) {
                    function c(m, g) { this.duration = m; this.size = g; this.t0b = void 0 } var f = a(286), k = a(158); r.exports = function (m) {
                        m = new f(m); this.identifier = m.iva(4); k.assert("midx" === this.identifier); this.version = m.Lq(4); k.assert(0 === this.version); this.gqa = m.dj(36); this.creationTime = m.ZO(); this.ep = m.ZO(); this.K = m.ZO(); this.YYb = m.Ah(); this.ZYb = m.Ah(); this.language = m.dj(16); m.dj(16); this.startOffset = m.ZO(); this.um = m.Ah(); for (var g = [],
                            d = 0, h = 0; h < this.um; h++) { var l = new c(m.Lq(4), m.Ah()); g.push(l); d += l.duration } this.entries = g; this.endTime = d
                    }
                }, function (r, b, a) {
                    function c(g, d, h, l, n, q, p, u) { this.displayTime = g; this.duration = d; this.UTb = h; this.VTb = l; this.z0b = n; this.A0b = q; this.CH = p; this.Vpa = u } function f(g, d, h, l, n, q, p) {
                        g = new k(g); var u = 0; g.position = d; this.Oa = l; this.identifier = g.iva(4); m.assert("sidx" === this.identifier, l); this.gqa = g.dj(36); m.xxb(this.gqa, h, l); this.duration = g.Lq(4); this.um = g.Ah(); this.wx = n; this.Kq = q; this.index = p || 0; this.entries =
                            []; this.images = []; for (this.Nha = 0; u < this.um;)d = new c(g.Lq(4), g.Lq(4), g.Ah(), g.Ah(), g.Ah(), g.Ah(), g.ZO(), g.Lq(4)), u++, this.entries.push(d); this.entries.length && (this.startTime = this.entries[0].displayTime, this.endTime = this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration)
                    } var k = a(286), m = a(158); f.prototype.RLb = function () { this.Nha++ }; f.prototype.ABb = function () {
                        var g = 0; this.Nha--; 1 > this.Nha ? this.images && 0 < this.images.length && (g += m.Woa([this]), this.images = []) : this.Oa.debug("Not cleaning up shared sidx with range",
                            this.wx, "-", this.Kq); return g
                    }; r.exports = f
                }, function(r, b, a) {
                    function c(d, h) {
                        d = d || 0;
                        if (h)
                            for (var l in h.U) {
                                var n = h.U[l];
                                if (d >= (n.Aa || 0) && (!n.Da || d < n.Da)) return l
                            }
                    }
                
                    function f(d, h) {
                        return d && h && h.U[d]
                    }
                
                    function k(d, h, l) {
                        this.Oa = d.wa;
                        this.Li = l;
                        this.pC = this.jnb(d.Y$);
                        this.ph = [];
                        var n = l && l[l.length - 1];
                        this.gw = n && (n.endTime || n.Kq);
                        this.Bg = new m(d, h, l);
                        d = c(d.Ud || 0, this.pC);
                        this.ro = this.wy(d)
                    }
                    var m = a(1101),
                        g = a(1103);
                    Object.defineProperties(k.prototype, {
                        xla: {
                            get: function() {
                                return this.Bg.xla
                            }
                        }
                    });
                    k.prototype.apa =
                        function(d, h) {
                            return this.Bg && this.Bg.apa(d, h)
                        };
                    k.prototype.hma = function(d, h) {
                        this.Bg.f_b(d);
                        this.vQa(d);
                        if (!this.pC && this.gw && d > this.gw) h && h();
                        else if (d = this.eOa(d, this.ro, 2, h), this.pC && 0 < this.ro.b5a.length) h && h();
                        else if (this.pC && this.ro.QN && d) {
                            2 > this.ph.length && this.pnb(this.ro);
                            h = Math.ceil(2 / (this.ph.length - 1));
                            for (var l = 0; l < this.ph.length && d && 3 > l; l++) d = this.ph[l], d = this.eOa(d.startTime, d, h)
                        }
                    };
                    k.prototype.exa = function(d) {
                        return this.Bg.exa(d) ? (this.Bg.$sb(), this.hma(d), this.ro.QN = !1, !0) : !1
                    };
                    k.prototype.hB =
                        function(d, h) {
                            this.vQa(d);
                            this.ph.forEach(function(n) {
                                n.QN = !1
                            });
                            var l = this.ro.bo && this.ro.bo[0];
                            this.Bg.hB(d, l && l.index);
                            (d = this.Bg.rJb(d)) && d.length ? this.Bg.gWa(d, h) : h && h()
                        };
                    k.prototype.Di = function(d, h) {
                        this.Oa.debug("Set next segment to", h, "for segment", d);
                        d = this.mOa(d) || this.wy(d);
                        d.R9a = h;
                        var l = this;
                        d.DX = d.DX.filter(function(n) {
                            if (n.id === h) return !0;
                            l.tga(n);
                            return !1
                        })
                    };
                    k.prototype.Fi = function(d, h) {
                        var l = f(d, this.pC);
                        Object.keys(l.next).forEach(function(n) {
                            l.next[n].weight = h[n] || 0
                        })
                    };
                    k.prototype.jnb =
                        function(d) {
                            var h = {};
                            if (d = (d || {}).U) {
                                h.U = {};
                                for (var l in d) {
                                    var n = d[l] || {};
                                    h.U[l] = {
                                        Aa: n.Aa,
                                        Da: n.Da,
                                        Jd: n.Jd,
                                        next: this.inb(n.next)
                                    }
                                }
                            }
                            return h
                        };
                    k.prototype.inb = function(d) {
                        var h = {},
                            l;
                        for (l in d) h[l] = {
                            weight: (d[l] || {}).weight
                        };
                        return h
                    };
                    k.prototype.vQa = function(d) {
                        if (this.pC && this.ro.startTime > d || this.ro.endTime && this.ro.endTime < d) {
                            var h = this.ro,
                                l = c(d, this.pC);
                            l ? (this.Oa.debug("Switching segments from", this.ro.id, "to", l, "at pts", d), this.ro = this.mOa(l) || this.wy(l), this.tga(h)) : this.Oa.debug("The pts is outside of the current segment but not in a new one yet")
                        }
                    };
                    k.prototype.wy = function(d) {
                        this.Oa.debug("SegmentManager: creating segment", d);
                        d = new g(d, f(d, this.pC), this.Li, this.Oa);
                        this.ph.push(d);
                        this.Oa.debug("SegmentManager: segment contains", d.bo.length, "sidxes");
                        return d
                    };
                    k.prototype.tga = function(d) {
                        if (d && d !== this.ro) {
                            this.Oa.debug("SegmentManager: deleting segment", d.id);
                            d.DX.forEach(this.tga.bind(this));
                            this.ph = this.ph.filter(function(l) {
                                return l !== d
                            });
                            var h = d.sTa();
                            this.Bg.PXb(h && h.size || 0, h && h.bo)
                        }
                    };
                    k.prototype.mOa = function(d) {
                        for (var h = 0; d && h < this.ph.length; h++) {
                            var l =
                                this.ph[h];
                            if (d === l.id) return l
                        }
                    };
                    k.prototype.pnb = function(d) {
                        var h = d.R9a;
                        if (h && "" !== h) d.DX.push(this.wy(h));
                        else {
                            h = d.b5a;
                            for (var l in h) {
                                var n = h[l];
                                if (!n || !n.weight) break;
                                d.DX.push(this.wy(l))
                            }
                        }
                    };
                    k.prototype.eOa = function(d, h, l, n) {
                        if (!h || h.QN) return this.Oa.debug("Done driving segment", h && h.id), !0;
                        if (!this.Bg.Vvb) return this.Oa.debug("Throttling buffering in quiet period"), !1;
                        this.Oa.debug("Drive streaming of segment", h.id, "from pts", d);
                        l = (d = this.Bg.sJb(d, h, l)) && d.length || 0;
                        if (0 === l) return this.Oa.debug("Segment is fully downloaded",
                            h && h.id), h.QN = !0, n && n(), !0;
                        this.Oa.debug("Downloading", l, "sidxes in segment", h.id);
                        return this.Bg.gWa(d, function(q, p) {
                            q && (h.QN = !1);
                            n && n(q, p)
                        })
                    };
                    r.exports = k
                }, function (r, b, a) {
                    function c(n, q, p) { var u = p.displayTime <= n && n <= p.displayTime + p.duration; return n <= p.displayTime && p.displayTime <= q || u } function f(n, q, p) { return q && (!q.entries.length && n > q.wx || n > q.endTime) && p.entries.length && n < p.endTime } function k(n, q, p) {
                        this.eG = this.Zv = 0; this.Uob = n.bufferSize || 4194304; this.Lp = new d; this.ZF; this.SF = n.qk; this.Oa = n.wa;
                        this.Dr = q; this.Li = p; this.Ao = new h(n); this.oG = new g(this.Li.length, n.yWa); this.fT = new m(n.GSa)
                    } function m(n) { this.Mnb = 0 !== n; this.on = !1; this.Yj = n || 3E3; this.Tg } function g(n, q) { if (this.enabled = q) this.bo = Array.apply(null, Array(n)).map(function () { return "-" }) } function d(n, q) { this.Ms = n; this.index = q } var h = a(1102), l = a(158); d.prototype.reset = function () { this.index = this.Ms = void 0 }; g.prototype.$ = function (n) { this.enabled && n < this.bo.length && (this.bo[n] = "x") }; g.prototype.c6a = function (n) {
                        this.enabled && n < this.bo.length &&
                            (this.bo[n] = "-")
                    }; g.prototype.toString = function () { return this.enabled && "|" + this.bo.join("") + "|" }; m.prototype.start = function () { if (this.Mnb) { var n = this; this.on = !0; this.Tg = setTimeout(function () { n.on = !1; n.Tg = void 0 }, this.Yj) } }; m.prototype.stop = function () { this.on = !1; clearTimeout(this.Tg); this.Tg = void 0 }; Object.defineProperties(k.prototype, { xla: { get: function () { return this.Lp } }, Vvb: { get: function () { return !this.fT.on } } }); k.prototype.VS = function () { this.oG.enabled && this.Oa.debug("Buffer: " + this.oG.toString()) };
                    k.prototype.Uqb = function (n) { this.eG += n; this.Oa.debug("Reserved buffer size is", this.Zv + this.eG, "after reserving", n) }; k.prototype.Drb = function (n) { this.eG -= n; this.Oa.debug("Reserved buffer size is", this.Zv + this.eG, "after unreserving", n) }; k.prototype.hnb = function (n) { this.Zv += n; this.Oa.debug("Buffer size is", this.Zv, "after claiming", n) }; k.prototype.RPa = function (n) { this.Zv -= n; this.Oa.debug("Buffer size is", this.Zv, "after clearing", n) }; k.prototype.PXb = function (n, q) {
                        this.RPa(n); var p = this; q && this.oG.enabled &&
                            (q.forEach(function (u) { p.oG.c6a(u.index) }), this.VS())
                    }; k.prototype.exa = function (n) { var q = this.Ynb(n); return l.y0a(q) && l.C1b(n, q) }; k.prototype.f_b = function (n) {
                        var q = this.zOa(n); (!q || q.index) !== (!this.Lp || this.Lp.index) && (this.ZF = this.Lp.Ms, q ? (this.SF && this.Oa.debug("Current sidx is index", q.index), this.Lp = q) : (this.SF && this.Oa.debug("Current sidx is out of range"), this.Lp.reset())); this.ZF && "number" === typeof this.ZF.index && (n < this.ZF.wx - 35E3 || n > this.ZF.Kq + 35E3) && (this.jga(this.ZF.index), this.ZF = void 0,
                            this.VS())
                    }; k.prototype.hB = function (n, q) { var p = this.Li && this.Li.length, u; for (q; q < p; q++)(u = this.Li[q]) && ((u.endTime || u.Kq) >= n - 1E4 && (u.endTime || u.Kq) < n + 3E5 || this.jga(q)); this.fT.stop(); this.VS() }; k.prototype.$sb = function () { this.Oa.debug("executing aggressive cleanup"); var n = this.Li && this.Li.length, q; for (q = 0; q < n; q++)q === this.Lp.index && (q += 2), this.jga(q); this.fT.stop(); this.VS() }; k.prototype.rJb = function (n) {
                        var q = [], p = this.zOa(n); if (!p) return this.Lp.reset(), q; this.Lp = p; var u = n + 1E4; p = p.index; var t = this.Li[p];
                        p; for (t; p < this.Li.length && u > t.wx; p++, t = this.Li[p])l.y0a(t) && l.D1b(n, u, t) && q.push(t); return q
                    }; k.prototype.gWa = function (n, q) {
                        if (!n || !n.length) return q && q(null), !0; this.Ao.aT && 2 <= Object.keys(this.Ao.aT).length && !this.fT.on && (this.Oa.debug("Enabling buffering quiet period"), this.fT.start()); var p = this, u = n[0], t = n[n.length - 1]; if (0 < u.entries.length) var w = u.entries[0].CH, v = u.entries[u.entries.length - 1]; 0 < t.entries.length && (l.Mc(w) || (w = t.entries[0].CH), v = t.entries[t.entries.length - 1]); if (w) var x = v.CH + v.Vpa -
                            w; else return q && q(null), !0; u = l.doa(w, x); if (this.Ao.aT[u]) this.Oa.debug("The request for", u, "is already pending. Not requesting again"), q && q(); else if (this.rob(l.Woa(n))) this.Oa.debug("Reserving", x, "bytes for subtitle request", n[0].wx, n[n.length - 1].Kq), this.Uqb(x), this.Ao.HCb(n, w, x, function (y, z) { p.Oa.debug("Claiming reserved space.  Expected", x, "received", z); p.oG.enabled && (n.forEach(function (A) { p.oG.$(A.index) }), p.VS()); p.Drb(x); p.hnb(z); q && q(y) }); else return this.Oa.debug("Not enough space in buffer to download all of the imaages in the list"),
                                q && q(), !1; return !0
                    }; k.prototype.apa = function (n, q) { var p = this.Dr, u = this.yOa(n, q, this.Li); if (!u || 0 === u.length) return []; var t = []; q = c.bind(null, n, q); for (var w = 0; w < u.length; w++)n = u[w], t = t.concat(n.entries.filter(q)); t = t.map(function (v) { return l.nla(v, null, p) }); return l.eUa(t) }; k.prototype.sJb = function (n, q, p) { return this.yOa(n, q.endTime, q.bo, p, !0) }; k.prototype.yOa = function (n, q, p, u, t) {
                        if (q && n > q || 0 > n) this.Oa.error("invalid range startPts: " + n + ", endPts: " + q); else {
                            var w = p && p.length || 0, v = []; if (p && 0 !== w) {
                                var x =
                                    p[0].duration, y = p[0].wx; if (l.Mc(x) && 0 < x) x = Math.floor((n - y) / x); else for (this.SF && this.Oa.warn("The duration of the first sidx is not defined or sidx", "durations vary, so use brute force to get starting sidx"), x = 0; x < w && (y = p[x], !l.BCb(y, n)); x++); for (; x < w && (!u || v.length < u);) { y = p[x]; if (!t || !y.images.length && y.endTime > n) v.push(y); else if (v.length) break; if (q && q <= y.Kq) break; x++ } return v
                            }
                        }
                    }; k.prototype.Ynb = function (n) {
                        var q = this.Li; if (q && 0 !== q.length) {
                            var p = q[Math.floor(n / 6E4)]; if (p && (p.wx > n || n > p.Kq)) a: {
                                this.Nnb ||
                                    (this.Nnb = !0, p = l.dIb(this.Dr.language), this.Oa.error("bruteforce search for ", { movieId: this.Dr.K, packageId: this.Dr.ep, lang: p })); p = q.length; for (var u = 0; u < p; u++) { var t = q[u]; if (t.wx <= n && n <= t.Kq) { p = t; break a } } p = void 0
                            } return p
                        }
                    }; k.prototype.zOa = function (n) {
                        var q = this.Lp, p = q.Ms, u = q.index, t = this.Li; this.rga(l.Mc(n)); if (p) if (p.entries.length) if (0 === u && n <= p.startTime || n >= p.startTime && n <= p.endTime) var w = !0, v = q; else { if (0 < u) { var x = t[u - 1]; f(n, x, p) && (w = !0, v = q) } } else {
                            x = t[u - 1]; var y = t[u + 1]; f(n, x, p) ? (w = !0, v = q) : y &&
                                y.endTime && n <= y.endTime && (n >= p.endTime || n >= p.Kq) && (w = !0, v = new d(y, u + 1))
                        } if (!w) for (q = t.length, p = 0; p < q; p++)if (u = t[p], u.entries.length && n <= u.endTime) { v = new d(u, p); break } return v
                    }; k.prototype.rob = function (n) { return this.Zv + this.eG + n <= this.Uob }; k.prototype.jga = function (n) { var q = this.Li[n], p = q && q.images && q.images.length || 0; if (0 < p) { var u = l.Woa([q]); q.images = []; this.oG.c6a(n); this.RPa(u); this.SF && this.Oa.debug("cleaning up space from sidx", { index: n, start: q.startTime, size: u, images: p, dec: this.Zv }) } }; k.prototype.rga =
                        function (n) { this.SF && l.assert(n, this.Oa) }; r.exports = k
                }, function (r, b, a) {
                    function c(m) { this.zl = m.url; this.cG = m.request; this.$F = m.Ud || 0; this.SF = m.qk; this.Oa = m.wa; this.aT = {} } var f = a(286), k = a(158); c.prototype.HCb = function (m, g, d, h) { this.aT[k.doa(g, d)] = !0; m && m.forEach(function (l) { l.V8a = !0 }); this.cG({ url: this.zl, offset: g, size: d }, this.Wpb.bind(this, m, g, d, h)) }; c.prototype.Wpb = function (m, g, d, h, l, n) {
                        var q = this, p = k.doa(g, d); setTimeout(function () { delete q.aT[p] }, 1E3); if (l) h && h(l, 0), m && m.forEach(function (w) { delete w.V8a });
                        else { var u = new f(n), t = 0; m && m.forEach(function (w) { delete w.V8a; w.entries.forEach(function (v, x) { u.position = v.CH - g; v = { data: u.dj(v.Vpa) }; w.images[x] = v; k.V4b(w.images[x].data, q.rga.bind(q)); t += w.images[x].data.length }) }); h && h(null, t) }
                    }; c.prototype.rga = function (m) { this.SF && k.assert(m, this.Oa) }; r.exports = c
                }, function (r) {
                    function b(a, c, f, k) {
                        this.Oa = k; this.id = a; this.startTime = c && c.Aa || 0; this.endTime = c && c.Da; this.b5a = c && c.next || []; this.R9a; this.DX = []; this.QN = !1; a = this.startTime; c = this.endTime; for (var m = [], g =
                            0; g < f.length; g++)(k = f[g]) && (!c || c > k.wx) && a < k.Kq && (k.RLb(), m.push(k)); this.bo = m
                    } b.prototype.sTa = function () { this.Oa.debug("Cleaning up segment", this.id); for (var a, c = 0, f, k = [], m = 0; m < this.bo.length; m++)a = this.bo[m], (f = a.ABb()) && k.push(a), a && (c += f); this.bo = []; return { size: c, bo: k } }; r.exports = b
                }, function (r, b, a) {
                    function c(k, m, g) { return { timeout: g, type: k, entry: m } } var f = a(116).EventEmitter; a(1105)({}); b = function q(m, g, d, h, l, n) {
                        if (!(this instanceof q)) return new q(m, g, d, h, l, n); f.call(this); this.cw = m; this.hob =
                            g; this.x2 = d; this.Gob = h; this.My = {}; this.iG = {}; this.Oa = l || console; this.qS = !1; this.Dqb = n && n.Uua || 0
                    }; b.prototype = Object.create(f.prototype); b.prototype.stop = function () { clearTimeout(this.Tg); this.UXb() }; b.prototype.UXb = function () { var m = this; Object.keys(m.My).forEach(function (g) { m.emit("removesubtitle", m.My[g]) }); m.My = {}; m.iG = {} }; b.prototype.pause = function () { this.qS || clearTimeout(this.Tg) }; b.prototype.Vs = function (m, g) {
                        var d = this, h = d.cw(); clearTimeout(this.Tg); m = d.hob(h); null !== m && d.qS && (d.qS = !1, this.Oa.info("bufferingComplete"),
                            d.emit("bufferingComplete"), this.Gob()) ? this.Oa.info("bufferingComplete while paused, no longer scheduling internal pts events") : (g = "number" === typeof g ? g : 0, Object.keys(d.My).forEach(function (l) { l = d.My[l]; l.displayTime - d.Dqb <= h && h < l.displayTime + l.duration || (delete d.My[l.id], d.emit("removesubtitle", l)) }), Object.keys(d.iG).forEach(function (l) { l = d.iG[l]; h >= l.displayTime + l.duration && delete d.iG[l.id] }), null !== m && 0 < m.length ? (g = m.length, d.Oa.info("found " + g + " entries for pts " + h), m.forEach(function (l) {
                                l.displayTime -
                                    0 <= h && h < l.displayTime + l.duration && !d.My[l.id] && (d.emit("showsubtitle", l), d.My[l.id] = l, delete d.iG[l.id])
                            }), g = m[m.length - 1], d.My[g.id] || d.iG[g.id] || (d.emit("stagesubtitle", g), d.iG[g.id] = g), g = d.kpb(h, m), 0 < g.length ? d.U2(g[0].timeout) : d.U2(2E4)) : null === m ? (m = 250 * Math.pow(2, g), 2E3 < m && (m = 2E3), d.Oa.warn("checking buffer again in " + m + "ms"), d.qS || (d.qS = !0, d.emit("underflow")), d.U2(m, g + 1)) : d.U2(2E4))
                    }; b.prototype.U2 = function (m, g) {
                        var d = this; d.Oa.info("Scheduling pts check."); d.Tg = setTimeout(function () {
                            d.Vs(d.cw(),
                                g)
                        }, m)
                    }; b.prototype.kpb = function (m, g) { return g.reduce(this.lpb.bind(this, m), []) }; b.prototype.lpb = function (m, g, d) { var h = this.x2(d.displayTime, m); m = this.x2(d.displayTime + d.duration, m); var l = 0 < g.length ? g[0].timeout : Infinity; return 0 < h && h < l ? [c("showsubtitle", d, h)] : h === l ? g.concat([c("showsubtitle", d, h)]) : 0 < m && m < l ? [c("removesubtitle", d, m)] : m === l ? g.concat([c("removesubtitle", d, m)]) : g }; r.exports = b
                }, function (r) {
                    function b(a) { return Object.keys(a).every(function (c) { return "function" === typeof a[c] }) } r.exports =
                        function (a) {
                            function c(h, l, n) { throw new TypeError(("undefined" !== typeof n.key ? "Types: expected " + n.key : "Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + l + "'")); } function f(h, l, n) { var q = g[h]; "undefined" !== typeof q ? q(l) || c(h, l, n) : h !== typeof l && c(h, l, n) } function k(h, l) {
                                var n = h.filter(function (q) { return "object" !== typeof q && -1 === d.indexOf(q) }); n = n.concat(h.filter(function (q) { return "object" === typeof q }).reduce(function (q, p) {
                                    return q.concat(Object.keys(p).map(function (u) { return p[u] }).filter(function (u) {
                                        return -1 ===
                                            d.indexOf(u)
                                    }))
                                }, [])); if (0 < n.length) throw Error(n.join(",") + " are invalid types"); return function () { var q = Array.prototype.slice.call(arguments); if (q.length !== h.length) throw new TypeError("Types: unexpected number of arguments"); h.forEach(function (p, u) { var t = q[u]; if ("string" === typeof p) f(p, t, { index: u }); else if ("object" === typeof p) Object.keys(p).forEach(function (w) { f(p[w], t[w], { key: w }) }); else throw Error("Types: unexpected type in type array"); }); return l.apply(this, q) }
                            } var m = "number boolean string object function symbol".split(" "),
                                g = { array: function (h) { return Array.isArray(h) } }; if ("undefined" !== typeof a) { if ("object" !== typeof a || !b(a)) throw new TypeError("Types: extensions must be an object of type definitions"); Object.keys(a).forEach(function (h) { if ("undefined" !== typeof g[h] || -1 < m.indexOf(h)) throw new TypeError("Types: attempting to override a built in type with " + h); g[h] = a[h] }) } var d = Object.keys(g).concat(m); return k(["array", "function"], k)
                        }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.ix = void 0; r = a(0);
                    var c = a(482), f = a(1107), k = a(156); b.ix = new r.dd(function (m) { m(c.cea).to(f.BHa).aa(); m(k.MR).RZ(function (g) { return function () { return g.kb.get(c.cea).ERb } }) })
                }, function (r, b, a) { function c() { var k = this; this.ready = !1; this.ERb = new Promise(function (m) { k.NYb = m }) } Object.defineProperty(b, "__esModule", { value: !0 }); b.BHa = void 0; r = a(1); a = a(0); c.prototype.FRb = function (k) { this.ready || (this.NYb(k), this.ready = !0) }; c.prototype.isReady = function () { return this.ready }; var f = c; f = r.__decorate([(0, a.R)()], f); b.BHa = f }, function (r,
                    b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Wi = void 0; r = a(0); var c = a(93), f = a(483), k = a(1109), m = a(485), g = a(1110); b.Wi = new r.dd(function (d) { d(c.Vx).yf(function () { return function () { return ub._cad_global.device } }); d(m.mCa).to(g.lCa).aa(); d(f.jCa).to(k.iCa).aa() }) }, function (r, b, a) {
                        function c(l, n) { this.Ba = l; this.cva = n } Object.defineProperty(b, "__esModule", { value: !0 }); b.iCa = void 0; r = a(1); var f = a(35), k = a(4), m = a(140), g = a(484), d = a(59); a = a(0); c.prototype.hGb = function () {
                            for (var l = "", n = this.Ba.Ie.$(k.ja),
                                q = 6; q--;)l = "0123456789ACDEFGHJKLMNPQRTUVWXYZ"[n % 32] + l, n = Math.floor(n / 32); for (; 30 > l.length;)l += "0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.cva.a8a(new g.gfa(0, 31, d.D5a))]; return l
                        }; var h = c; h = r.__decorate([(0, a.R)(), r.__param(0, (0, a.l)(f.ih)), r.__param(1, (0, a.l)(m.u1))], h); b.iCa = h
                    }, function(r, b, a) {
                        function c(w, v, x, y, z, A, B, E, D) {
                            this.bCb = w;
                            this.Rl = v;
                            this.hb = y;
                            this.rla = z;
                            this.ic = A;
                            this.debug = B;
                            this.Q4b = E;
                            this.EUb = D;
                            this.UCa = /^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;
                            this.log = x.lb("Device")
                        }
                        Object.defineProperty(b, "__esModule", {
                            value: !0
                        });
                        b.lCa = void 0;
                        r = a(1);
                        var f = a(3),
                            k = a(25),
                            m = a(1111),
                            g = a(7),
                            d = a(483),
                            h = a(41),
                            l = a(97),
                            n = a(31),
                            q = a(0),
                            p = a(71),
                            u = a(486);
                        a = a(487);
                        c.prototype.nXa = function(w) {
                            try {
                                return w.match(this.UCa)[2]
                            } catch (v) {}
                        };
                        c.prototype.pXa = function(w) {
                            try {
                                return w.match(this.UCa)[1]
                            } catch (v) {}
                        };
                        c.prototype.create = function(w) {
                            var v = this;
                            return new Promise(function(x, y) {
                                v.log = console;
                                console.log('c.prototype.create');
                                v.Rl.create().then(function(z) {
                                    console.log('v.Rl.create', z);
                                    console.log('w:', w);
                                    var B = w.hu, E;
                                    function A(H) {
                                        console.log('hitting A', v.hb.un(H), v.hb.un(B), H, B);
                                        if (v.hb.un(H) && v.hb.un(B)) {
                                            console.log('yup:', H, B);
                                            E = new m.kCa(H, B, void 0, D, w.QU || "cadmium");
                                            console.log(E);
                                            x(E);
                                        } else {
                                            console.log('nope:', { ma: f.M.TBa })
                                            y({ ma: f.M.TBa });
                                        }
                                    }
                                    
                                    if (w.aoa) {
                                        var D = "bind_device";
                                        v.EUb.Vf(v.log, {}).then(function(H) {
                                            A(H.esn)
                                        }).catch(function(H) {
                                            y(H)
                                        })
                                    } else if (w.Z5) {
                                        var F, G = w.wm;
                                        if (v.hb.un(G)) {
                                            var C = v.pXa(G);
                                            C != w.hu && v.log.error("esn prefix from ui is different", {
                                                ui: C,
                                                cad: w.hu,
                                                ua: w.userAgent
                                            })
                                        } else w.Dra && v.log.error("esn from ui is missing");
                                        !w.fQ && v.hb.un(G) ? (D = "config", A(G)) : z.load(w.KVa).then(function(H) {
                                            F = H.value;
                                            v.hb.un(F) && (!1, v.hb.un(G) ? (H = v.nXa(G), D = H === F ? "storage_matched_esn_in_config" : "storage_did_not_match_esn_in_config") :
                                                D = "storage_esn_not_in_config", A(B + F))
                                        }).catch(function(H) {
                                            function L() {
                                                z.save(w.KVa, J, !1).then(function() {
                                                    A(B + J)
                                                }).catch(function(Q) {
                                                    y(Q)
                                                })
                                            }
                    
                                            function N() {
                                                J = v.bCb.hGb();
                                                !1;
                                                L()
                                            }
                                            if (H.ma === f.M.oy)
                                                if (v.hb.un(w.wm)) {
                                                    var J = v.nXa(w.wm);
                                                    v.hb.un(J) ? (D = "config_since_not_in_storage", L()) : (D = "generated_since_invalid_in_config_and_not_in_storage", v.log.error("invalid esn passed from UI", w.wm), N())
                                                } else D = "generated_since_not_in_config_and_storage", N();
                                            else y(H)
                                        })
                                    } else {
                                        if (w.cCb && v.rla && v.rla.getKeyByName) {
                                            v.rla.getKeyByName(w.iub).then(function(H) {
                                                H = H.id;
                                                if (v.hb.tn(H)) H = String.fromCharCode.apply(void 0, v.ic.decode(H)), v.debug.assert("" != H), B = v.pXa(H), A(H);
                                                else throw "ESN from getKeyByName is not a string";
                                            }).catch(function(H) {
                                                y({
                                                    ma: f.M.SBa,
                                                    yb: v.Q4b.$d(H)
                                                })
                                            });
                                        } else {
                                            console.log('fell through');
                                            A();
                                        }
                                    }
                                }).catch(function(z) {
                                    console.log('v.Rl.create failed:', z);
                                    y(z)
                                })
                            })
                        };
                        var t = c;
                        t = r.__decorate([(0, q.R)(), r.__param(0, (0, q.l)(d.jCa)), r.__param(1, (0, q.l)(p.Rx)), r.__param(2, (0, q.l)(g.ub)), r.__param(3, (0, q.l)(k.pf)), r.__param(4, (0, q.l)(u.LBa)), r.__param(5, (0, q.l)(h.kj)), r.__param(6, (0, q.l)(l.Dv)), r.__param(7, (0, q.l)(n.oh)), r.__param(8,
                            (0, q.l)(a.EIa))], t);
                        b.lCa = t
                    }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.kCa = void 0; b.kCa = function (a, c, f, k) { this.wm = a; this.hu = c; this.PCb = f; this.x5 = k } }, function (r, b, a) {
                        Object.defineProperty(b, "__esModule", { value: !0 }); b.Z2a = void 0; r = a(0); var c = a(156), f = a(1113), k = a(1114), m = a(1115), g = a(1116), d = a(1117), h = a(13), l = a(1118), n = a(1119), q = a(1120), p = a(49), u = a(93), t = a(1121), w = a(489), v = a(488), x = a(89), y = a(287), z = a(52), A = a(182), B = a(1122), E = a(493), D = a(494), F = a(1125), G = a(495), C = a(1126); b.Z2a = new r.dd(function (H) {
                            H(z.no).to(k.ZFa).aa();
                            H(w.uHa).to(m.tHa).aa(); H(v.nGa).to(g.mGa).aa(); H(y.jGa).to(d.iGa).aa(); H(z.Gda).to(l.YFa).aa(); H(x.by).to(n.fGa).aa(); H(y.hGa).to(q.gGa).aa(); H(A.CR).to(B.BR).aa(); H(A.Jda).to(F.kGa).aa(); H(G.FR).to(C.ER).aa(); H(E.sCa).to(D.rCa).aa(); H(t.peb).to(f.Cza).aa(); H(z.$Fa).RZ(function (L) { return function () { return L.kb.get(c.MR)().then(function (N) { return new Promise(function (J) { function Q() { I() && M() && N.pO ? J(L.kb.get(z.no)) : K.ol(Q) } var K = L.kb.get(p.Uj), I = L.kb.get(h.cd), M = L.kb.get(u.Vx); K.ol(Q) }) }) } })
                        })
                    }, function (r,
                        b, a) {
                    function c(n, q, p, u) { var t = this; this.oPb = n; this.qA = q; this.config = u; this.vva = []; this.oPb.C$(f.Tdb, this.iKb.bind(this)); p().then(function (w) { var v = u().En.JFb; t.bQb = v ? l.kh[v.toUpperCase()] : l.kh.Rf; t.ag = w; t.OZb() }) } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.Cza = void 0; r = a(1); var k = a(0), m = a(13), g = a(115), d = a(52), h = a(89), l = a(7); c.prototype.iKb = function (n, q) { this.ag ? this.Y7a(n, q) : this.vva.push([n, q]) }; c.prototype.OZb = function () {
                        var n = this, q = this.vva; this.vva = []; q.forEach(function (p) {
                            n.Y7a(p[0],
                                p[1])
                        })
                    }; c.prototype.Y7a = function (n, q) { if (this.ag && this.c0b(n)) { var p = { debugMessage: n.message, debugCategory: n.Go }; n.kc.forEach(function (u) { return p = Object.assign(Object.assign({}, p), u.value) }); p = Object.assign(Object.assign({}, p), { prefix: "debug" }); n = this.qA.Zt("debug", l.kh[n.level].toLowerCase(), p, q); this.ag.Ic(n) } }; c.prototype.c0b = function (n) { var q = this.bQb; return void 0 !== q && n.level <= q && !n.kc.find(function (p) { return p.jV(l.VQ) }) }; a = f = c; a.Tdb = "adaptorAll"; a = f = r.__decorate([(0, k.R)(), r.__param(0, (0,
                        k.l)(g.tK)), r.__param(1, (0, k.l)(h.by)), r.__param(2, (0, k.l)(d.$Fa)), r.__param(3, (0, k.l)(m.cd))], a); b.Cza = a
                }, function (r, b, a) {
                    function c(t, w, v, x, y, z, A) { this.config = t; this.json = w; this.Oc = v; this.dPb = x; this.nX = z; this.Cla = A; this.H7 = this.Nn = !1; this.listeners = []; (0, k.Zo)(this, "json"); this.wa = y.lb("LogBatcher") } Object.defineProperty(b, "__esModule", { value: !0 }); b.ZFa = void 0; r = a(1); var f = a(0), k = a(59), m = a(32), g = a(488), d = a(49), h = a(7), l = a(52), n = a(489), q = a(3), p = a(99); a(190); var u = a(279); c.prototype.Ab = function () {
                        this.Nn =
                            !0
                    }; c.prototype.Ic = function (t) { var w = this; this.j0b(t) || (!1, 0 < t.size.El(this.config.ZPb) ? this.wa.error("Logblob is too large, dropping from the queue", { logblobType: t.type, logblobSize: t.size.toString() }) : (this.listeners.forEach(function (v) { return v.Kdc(t) }), !1, this.nX.zia(t), this.Oc.ol(function () { w.tFb() }))) }; c.prototype.flush = function (t) {
                        var w = this; t = void 0 === t ? !1 : t; return this.H7 ? (this.wa.trace("LogBatcher is in error state, ignoring flush"), Promise.reject()) : new Promise(function (v, x) {
                            w.wa.trace("Flushing",
                                h.VQ); w.Os(); w.Oc.ol(function () { w.Cwa(t).then(function () { v() }).catch(function (y) { x(y) }) })
                        })
                    }; c.prototype.addListener = function (t) { this.listeners.push(t) }; c.prototype.removeListener = function (t) { t = this.listeners.indexOf(t); 0 <= t && this.listeners.splice(t, 1) }; c.prototype.Cwa = function (t) {
                        var w = this; t = void 0 === t ? !1 : t; if (!this.Nn) return this.wa.trace("LogBatcher is not initialized"), Promise.resolve(); if (this.H7) return this.wa.trace("LogBatcher is in error state, ignoring sendLogMessages"), Promise.resolve();
                        var v = this.nX.HGb(); if (0 === v.length && !t) return this.wa.trace("No logblobs to send"), Promise.resolve(); !1; this.Os(); this.listeners.forEach(function (A) { return A.afc() }); t = Promise.resolve(); for (var x = {}, y = da(v), z = y.next(); !z.done; x = { zba: x.zba }, z = y.next())x.zba = z.value, t = t.then(function (A) { return function () { return w.LZb(A.zba) } }(x)); return t.then(function () { return w.fH() }).catch(function (A) { v.filter(function (B) { return !B.jA }).forEach(function (B) { return B.ju() }); w.fH(); throw Error("Send failure. " + A); })
                    };
                    c.prototype.LZb = function (t) { var w = this; this.wa.trace("Sending batch: " + t.size, h.VQ); return Promise.resolve(this.nX.VXb(t)).then(function () { return w.dPb.send(t.bI) }).then(function () { return t.UP() }).catch(function (v) { w.wa.warn("Failed to send batch of logblobs.", v, h.VQ); t.ju(); w.$_b(v) && w.nX.fsb(t); w.k0b(v) && (w.H7 = !0); throw v; }) }; c.prototype.$_b = function (t) { return t.Kg === q.K0.yIa ? !1 : this.config.wia }; c.prototype.k0b = function (t) { return t.jd === q.M.LDa || t.jd === q.M.qR || t.jd === q.M.uR ? !0 : !1 }; c.prototype.tFb =
                        function () { var t = this; 0 < this.nX.size.El(this.config.P3a) ? this.Cwa().catch(function (w) { return t.wa.warn("Failed to send log messages on size threshold. " + w) }) : this.fH() }; c.prototype.Os = function () { this.T7 && (!1, this.T7.cancel(), this.T7 = void 0) }; c.prototype.fH = function () { this.T7 || (!1, this.T7 = this.Oc.Fk(this.config.MZb, this.DO.bind(this))) }; c.prototype.DO = function () { var t = this; this.H7 = !1; this.Os(); this.Cwa().catch(function (w) { return t.wa.warn("Failed to send log messages on timer. " + w) }) }; c.prototype.stringify =
                            function (t) { var w = ""; try { w = this.json.stringify(t.data, void 0, "  ") } catch (v) { } return w }; c.prototype.j0b = function (t) { return 0 <= this.config.R$a.indexOf(t.type) ? !0 : t.type === u.kd.debug ? 0 <= this.config.Q$a.indexOf(t.data.debugCategory) : !1 }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(l.Gda)), r.__param(1, (0, f.l)(m.$E)), r.__param(2, (0, f.l)(d.Uj)), r.__param(3, (0, f.l)(g.nGa)), r.__param(4, (0, f.l)(h.ub)), r.__param(5, (0, f.l)(n.uHa)), r.__param(6, (0, f.l)(p.j0))], a); b.ZFa = a
                }, function (r, b, a) {
                    function c(q) {
                        this.JL =
                            g.cb; this.nha = []; this.PS = this.A2 = !1; q && (this.JL = q.size, this.nha = q.bI)
                    } function f(q, p, u, t) { this.OQb = q; this.config = p; this.bg = u; this.json = t; (0, m.Zo)(this, "json"); this.wa = this.bg.lb("MessageQueue"); this.Pt = [] } Object.defineProperty(b, "__esModule", { value: !0 }); b.tHa = void 0; r = a(1); var k = a(0), m = a(59), g = a(47), d = a(287), h = a(7), l = a(32); a = a(52); f.prototype.zia = function (q) {
                        0 === this.Pt.length && this.Pt.push(this.foa()); if (q = this.hJb(q)) {
                            var p = this.OQb.measure([q]), u = this.Pt[this.Pt.length - 1]; 0 < u.size.add(p).El(this.config.P3a) &&
                                (u = this.foa(), this.Pt.push(u)); u.zia(q)
                        }
                    }; f.prototype.HGb = function () { var q = this.Pt.filter(function (p) { return p.$vb }); this.Pt.push(this.foa()); q.forEach(function (p) { return p.NPb() }); return q }; f.prototype.fsb = function (q) { q.jA || this.Pt.unshift(new c(q)) }; f.prototype.VXb = function (q) { q = this.Pt.indexOf(q); 0 <= q && this.Pt.splice(q, 1) }; f.prototype.hJb = function (q) {
                        try { return { data: this.json.parse(this.json.stringify(q.data)), severity: q.severity, size: q.size, timestamp: q.timestamp, type: q.type } } catch (t) {
                            var p = {};
                            q = q.data; var u = q.debugMessage; u && "string" === typeof u && (p.originalDebugMessage = u); (q = q.debugCategory) && "string" === typeof q && (p.originalDebugCategory = q); this.wa.error("JSON.stringify error: " + t.message, p)
                        }
                    }; f.prototype.foa = function () { return new c }; Ya.Object.defineProperties(f.prototype, { size: { configurable: !0, enumerable: !0, get: function () { return this.Pt.reduce(function (q, p) { return q.add(p.size) }, g.cb) } } }); var n = f; n = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(d.jGa)), r.__param(1, (0, k.l)(a.Gda)), r.__param(2,
                        (0, k.l)(h.ub)), r.__param(3, (0, k.l)(l.$E))], n); b.tHa = n; c.prototype.UP = function () { this.A2 = !1; this.PS = !0 }; c.prototype.ju = function () { this.A2 = !1 }; c.prototype.zia = function (q) { this.nha.push(q); this.JL = this.JL.add(q.size) }; c.prototype.NPb = function () { this.A2 = !0 }; Ya.Object.defineProperties(c.prototype, {
                            size: { configurable: !0, enumerable: !0, get: function () { return this.JL } }, bI: { configurable: !0, enumerable: !0, get: function () { return this.nha } }, $vb: {
                                configurable: !0, enumerable: !0, get: function () {
                                    return 0 < this.bI.length &&
                                        !1 === this.A2
                                }
                            }, jA: { configurable: !0, enumerable: !0, get: function () { return this.PS } }
                        })
                }, function (r, b, a) {
                    function c(w, v, x, y, z, A, B, E) { this.ya = w; this.platform = x; this.Wi = y; this.json = z; this.ee = A; this.Uh = B; this.mPb = E; (0, m.Zo)(this, "json"); this.wa = v.lb("LogblobSender") } function f() { this.entries = [] } Object.defineProperty(b, "__esModule", { value: !0 }); b.mGa = void 0; r = a(1); var k = a(0), m = a(59), g = a(32), d = a(4), h = a(31), l = a(16), n = a(29), q = a(93), p = a(7), u = a(490); a = a(66); c.prototype.send = function (w) {
                        var v = this; return (new Promise(function (x,
                            y) { try { var z = w.reduce(function (A, B) { A.entries.push(v.oAb(B)); return A }, new f); x(v.jGb(z)) } catch (A) { v.wa.error(A.message), y(A) } })).then(function (x) { return v.Gwa(x) })
                    }; c.prototype.oAb = function (w) { return this.ee.mO(this.ee.mO({}, w.data), { esn: this.Wi().wm, sev: w.severity, type: w.type, lver: this.platform.lPb, jssid: this.ya.id, devmod: this.platform.PU, jsoffms: w.timestamp.Ja(this.ya.oA).$(d.ja), clienttime: w.timestamp.$(d.ja), client_utc: w.timestamp.$(d.Zl), uiver: this.Uh.yv }) }; c.prototype.jGb = function (w) {
                        var v =
                            this; try { return this.json.stringify(w) } catch (z) { for (var x = {}, y = 0; y < w.entries.length; x = { wQ: x.wQ, zv: x.zv }, ++y) { x.zv = Object.assign({}, w.entries[y]); try { this.json.stringify(x.zv) } catch (A) { x.wQ = void 0, this.ee.aD(x.zv, function (B) { return function (E, D) { try { v.json.stringify(D) } catch (F) { B.wQ = F.message, B.zv[E] = B.wQ } } }(x)), x.zv.stringifyException = x.wQ, x.zv.originalType = x.zv.type, x.zv.type = "debug", x.zv.sev = "error" } } return this.json.stringify(w) }
                    }; c.prototype.Gwa = function (w) {
                        var v = this; return this.mPb.Vf(this.wa,
                            { logblobs: w }).then(function () { !1 }).catch(function (x) { v.wa.error("PBO logblob failed", x); return Promise.reject(x) })
                    }; var t = c; t = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(l.bd)), r.__param(1, (0, k.l)(p.ub)), r.__param(2, (0, k.l)(n.Tj)), r.__param(3, (0, k.l)(q.Vx)), r.__param(4, (0, k.l)(g.$E)), r.__param(5, (0, k.l)(h.oh)), r.__param(6, (0, k.l)(a.qt)), r.__param(7, (0, k.l)(u.WIa))], t); b.mGa = t
                }, function (r, b, a) {
                    function c(g) { this.config = g } Object.defineProperty(b, "__esModule", { value: !0 }); b.iGa = void 0; r = a(1); var f = a(0),
                        k = a(287), m = a(47); c.prototype.measure = function (g) { var d = this; return g.map(function (h) { return h.size.add(d.config.gPb()) }).reduce(function (h, l) { return h.add(l) }, (0, m.ea)(0)) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.hGa))], a); b.iGa = a
                }, function (r, b, a) {
                    function c(n, q) { n = h.$e.call(this, n, "LogBatcherConfigImpl") || this; n.config = q; n.ZPb = (0, f.ea)(5E5); n.MZb = (0, k.Z8)(1); n.P3a = (0, f.ea)(1E6); return n } Object.defineProperty(b, "__esModule", { value: !0 }); b.YFa = void 0; r = a(1); var f = a(47), k = a(4), m = a(0), g = a(13),
                        d = a(42), h = a(48); a = a(33); qa(c, h.$e); Ya.Object.defineProperties(c.prototype, { wia: { configurable: !0, enumerable: !0, get: function () { return this.config().wia } }, R$a: { configurable: !0, enumerable: !0, get: function () { return [] } }, Q$a: { configurable: !0, enumerable: !0, get: function () { return ["MslTransport", "Pbo", "LogblobSender"] } } }); var l = c; r.__decorate([d.config(d.object(), "shedLogblobTypes")], l.prototype, "R$a", null); r.__decorate([d.config(d.Xy("string"), "shedDebugTypes")], l.prototype, "Q$a", null); l = r.__decorate([(0, m.R)(),
                        r.__param(0, (0, m.l)(a.Qk)), r.__param(1, (0, m.l)(g.cd))], l); b.YFa = l
                }, function (r, b, a) {
                    function c(u, t, w, v, x, y, z, A, B, E) {
                        this.platform = t; this.sla = w; this.type = v; this.severity = x; this.timestamp = y; this.ya = A; this.data = z; this.data.type = v; this.data.sev = x; this.data.devmod = this.platform.PU; this.data.clver = this.platform.version; u && u.ik && (u.ik.os && (this.data.osplatform = u.ik.os.name, this.data.osver = u.ik.os.version), this.data.browsername = u.ik.name, this.data.browserver = u.ik.version); u.Sqa && (this.data.tester = !0); u.Zz &&
                            !this.data.groupname && (this.data.groupname = u.Zz); u.oM && (this.data.groupname = this.data.groupname ? this.data.groupname + "|" + u.oM : u.oM); u.IJ && (this.data.uigroupname = u.IJ); this.data.uigroupname && (this.data.groupname = this.data.groupname ? this.data.groupname + ("|" + this.data.uigroupname) : this.data.uigroupname); this.data.appLogSeqNum = this.ya.kIb(); this.data.uniqueLogId = B.pYa(); this.data.appId = this.ya.id; E && (u = this.ya.Rb(), this.data.soffms = u.Ja(E.aj).$(d.ja), this.data.mid = this.data.mid || E.K, this.data.lvpi = E.Hra,
                                this.data.uiLabel = E.Wd, this.data.uxLabels = E.jba, v = "startup" === v ? "playbackxid" : "xid", this.data[v] = "xid" === v && this.data.xid || E.da, E.aJ && (v = E.aJ, (E = E.aJ.split(".")) && 1 < E.length && "S" !== E[0][0] && (v = "SABTest" + E[0] + ".Cell" + E[1]), this.data.groupname = this.data.groupname ? this.data.groupname + "|" + v : v))
                    } function f(u, t, w, v, x, y) { this.Ba = u; this.sla = t; this.config = w; this.ya = v; this.S4b = x; this.platform = y } Object.defineProperty(b, "__esModule", { value: !0 }); b.fGa = void 0; r = a(1); var k = a(47), m = a(0), g = a(35), d = a(4), h = a(339), l =
                        a(34), n = a(16), q = a(491); a = a(29); f.prototype.Zt = function (u, t, w, v) { return new c(this.config, this.platform, this.sla, u, t, this.Ba.Ie, w, this.ya, this.S4b, v) }; var p = f; p = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(g.ih)), r.__param(1, (0, m.l)(h.NBa)), r.__param(2, (0, m.l)(l.Wl)), r.__param(3, (0, m.l)(n.bd)), r.__param(4, (0, m.l)(q.cNa)), r.__param(5, (0, m.l)(a.Tj))], p); b.fGa = p; Ya.Object.defineProperties(c.prototype, {
                            size: {
                                configurable: !0, enumerable: !0, get: function () {
                                    this.RSa || (this.RSa = (0, k.ea)(this.sla.encode(this.data).length));
                                    return this.RSa
                                }
                            }
                        })
                }, function (r, b, a) { function c(g) { this.Wi = g } Object.defineProperty(b, "__esModule", { value: !0 }); b.gGa = void 0; r = a(1); var f = a(0), k = a(47); a = a(93); c.prototype.gPb = function () { var g = this.Wi() ? this.Wi().wm.length : 40; return (0, k.ea)(g + 33) }; var m = c; m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.Vx))], m); b.gGa = m }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.peb = "AppLogSinkSymbol" }, function (r, b, a) {
                    function c(F, G, C, H, L, N, J, Q, K, I, M, O, P, S, U, Z, ia, ya, na) {
                        this.obb = F; this.ag = G; this.rsa =
                            C; this.Pma = H; this.Vc = L; this.f5 = N; this.lf = J; this.config = Q; this.fe = K; this.Ba = I; this.ya = M; this.platform = O; this.Hq = P; this.qA = S; this.cj = U; this.Ur = Z; this.dI = ia; this.vc = ya; this.OD = na
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.BR = void 0; r = a(1); var f = a(451), k = a(52), m = a(31), g = a(459), d = a(282), h = a(0), l = a(182), n = a(492), q = a(493), p = a(91), u = a(13), t = a(35), w = a(16), v = a(29), x = a(89), y = a(133), z = a(160), A = a(32), B = a(34), E = a(288); a = a(72); c.prototype.create = function (F, G) {
                        return new n.DR(F, G, this.obb, this.ag, this.rsa,
                            this.Pma, this.Vc, this.f5, this.lf, this.config, this.fe, this.Ba, this.ya, this.Hq, this.qA, this.cj, this.Ur, this.dI, this.vc, this.OD)
                    }; var D = c; D = r.__decorate([(0, h.R)(), r.__param(0, (0, h.l)(f.xMa)), r.__param(1, (0, h.l)(k.no)), r.__param(2, (0, h.l)(g.YGa)), r.__param(3, (0, h.l)(d.Xca)), r.__param(4, (0, h.l)(m.oh)), r.__param(5, (0, h.l)(q.sCa)), r.__param(6, (0, h.l)(p.ay)), r.__param(7, (0, h.l)(u.cd)), r.__param(8, (0, h.l)(y.MK)), r.__param(9, (0, h.l)(t.ih)), r.__param(10, (0, h.l)(w.bd)), r.__param(11, (0, h.l)(v.Tj)), r.__param(12,
                        (0, h.l)(A.WR)), r.__param(13, (0, h.l)(x.by)), r.__param(14, (0, h.l)(z.AF)), r.__param(15, (0, h.l)(B.Wl)), r.__param(16, (0, h.l)(E.$da)), r.__param(17, (0, h.l)(l.Jda)), r.__param(18, (0, h.l)(a.mt))], D); b.BR = D
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.qCa = void 0; var c = a(47); b.qCa = function (f, k) { this.JCb = f; this.size = k.Fqa() ? c.cb : k } }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.fsa = void 0; b.fsa = function (a, c) {
                        if (0 !== a.length) {
                            if (1 === a.length) return a[0]; for (var f = a[0],
                                k = c(f), m = 1; m < a.length; m++) { var g = a[m], d = c(g); d > k && (f = g, k = d) } return f
                        }
                    }
                }, function (r, b, a) {
                    function c(u, t, w) { this.platform = u; this.config = t; this.ya = w; this.kNa = /-?l(\d\d)/i } Object.defineProperty(b, "__esModule", { value: !0 }); b.kGa = void 0; r = a(1); var f = a(0), k = a(43), m = a(16), g = a(3), d = a(29), h = a(4), l = a(13), n = a(24), q = a(11), p = a(159); c.prototype.vq = function (u, t, w) { w && (u.adlid = w.Dc, u.abitrate = w.bitrate); t && (u.vdlid = t.Dc, u.vbitrate = t.bitrate) }; c.prototype.F0a = function (u, t, w) {
                        w ? u = Object.assign(u, (0, p.Eoa)(this.platform.dN,
                            w)) : u.errorcode = g.N.wl; u.errorcode === this.platform.dN + g.N.oIa && (u.lastSyncWithVideoElement = this.getTime() - t.EZ)
                    }; c.prototype.M0a = function (u, t) { Object.assign(u, (0, p.Poa)()); try { var w = t.getBoundingClientRect(); u.rendersize = w.width + "x" + w.height; u.renderpos = w.left + "x" + w.top } catch (v) { } }; c.prototype.L0a = function (u, t) {
                        var w = t.uc[k.Yb.Wa.Pb].value, v = t.uc[k.Yb.Wa.$b].value, x = t.nf.value; t = t.Td.value; w && (u.cdnid = w.id, u.cdnname = w.name); v && (u.acdnid = v.id, u.acdnname = v.name); if (null === x || void 0 === x ? 0 : x.stream) u.adlid =
                            x.stream.Dc, u.abitrate = x.stream.bitrate; if (null === t || void 0 === t ? 0 : t.stream) u.vdlid = t.stream.Dc, u.vbitrate = t.stream.bitrate, u.vheight = t.stream.height, u.vwidth = t.stream.width
                    }; c.prototype.ELb = function (u, t) { var w, v = null === (w = t.Ma) || void 0 === w ? void 0 : w.bBb; v && (null === v || void 0 === v ? void 0 : v.S) !== t.oz && (u.auxMid = v.S) }; c.prototype.J0a = function (u, t) { 0 <= t.mediaTime.value && (u.moff = (0, n.Lo)(t.mediaTime.value), u.moffms = (0, n.Wf)(t.mediaTime.value)) }; c.prototype.C0a = function (u, t) {
                        t.Jg && (u.pbcid = t.Jg); t.zi && (u.playbackcontextid =
                            t.zi)
                    }; c.prototype.bqa = function (u) { var t, w; u.browserua = q.PB; u.browseruad = null === (w = null === (t = q.ie.userAgentData) || void 0 === t ? void 0 : t.brands) || void 0 === w ? void 0 : w.map(function (v) { return [v.brand, v.version] }); u.browserhref = location.href; (t = q.ie && q.ie.connection && q.ie.connection.type) && (u.nettype = t) }; c.prototype.LN = function (u) {
                        var t, w, v, x; if (this.config().MDb) {
                            var y = null === (t = null === q.ie || void 0 === q.ie ? void 0 : q.ie.connection) || void 0 === t ? void 0 : t.effectiveType; t = null === q.ie || void 0 === q.ie ? void 0 : q.ie.deviceMemory;
                            y && (u.effectiveType = y); t && (u.deviceMemory = t)
                        } (y = null === (w = null === q.ie || void 0 === q.ie ? void 0 : q.ie.connection) || void 0 === w ? void 0 : w.type) && (u.connectionType = y); w = null === (v = null === q.ie || void 0 === q.ie ? void 0 : q.ie.connection) || void 0 === v ? void 0 : v.downlink; "number" === typeof w && isFinite(w) && (u.downlink = w); v = null === (x = null === q.ie || void 0 === q.ie ? void 0 : q.ie.connection) || void 0 === x ? void 0 : x.rtt; "number" === typeof v && isFinite(v) && (u.rtt = v)
                    }; c.prototype.l7 = function (u, t) {
                        if (t = t.fb.ao) t.isUIAutoPlay && (u.isUIAutoPlay =
                            !0), t.clLogId && (u.cl_log_id = t.clLogId)
                    }; c.prototype.MN = function (u, t) { var w = this; if (t = t && t.streams) { var v = new Set, x = new Set, y = new Set; t.forEach(function (z) { z = z.Ig; v.add(z); x.add(z.replace(w.kNa, "")); (z = z.match(w.kNa)) && 0 < z.length && y.add(z[1]) }); u.videoProfiles = [].concat(la(v)); u.videoProfile = 0 === x.size ? "none" : [].concat(la(x))[0]; u.videoProfileLevels = [].concat(la(y)); t && t.length && (u.isMcClearen = !!t[0].rl.find(function (z) { return 0 <= z.toLowerCase().indexOf("mcclearen") })) } }; c.prototype.z0a = function (u,
                        t) { if (t = t && t.streams) { var w = {}; t.forEach(function (v) { w[v.Ig] = void 0 }); u.audioProfiles = Object.keys(w) } }; c.prototype.D0a = function (u) { u.configversion = this.config().version; this.config().endpoint || (u.configendpoint = "error") }; c.prototype.getTime = function () { return this.ya.Rb().$(h.ja) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(d.Tj)), r.__param(1, (0, f.l)(l.cd)), r.__param(2, (0, f.l)(m.bd))], a); b.kGa = a
                }, function (r, b, a) {
                    function c(n, q, p, u, t) { this.ag = n; this.config = q; this.Ba = p; this.ya = u; this.Jra = t } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.ER = void 0; r = a(1); var f = a(52), k = a(0), m = a(182), g = a(13), d = a(35), h = a(16), l = a(1127); c.prototype.create = function (n, q, p) { var u = this.Jra.create(n, q); return new l.GR(n, q, p, this.ag, this.config, this.ya, u) }; a = c; a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(f.no)), r.__param(1, (0, k.l)(g.cd)), r.__param(2, (0, k.l)(d.ih)), r.__param(3, (0, k.l)(h.bd)), r.__param(4, (0, k.l)(m.CR))], a); b.ER = a
                }, function (r, b, a) {
                    function c(h, l, n, q, p, u, t) {
                        var w = this; this.j = h; this.xa = l; this.ag = q; this.config = p; this.ya =
                            u; this.qb = t; this.pA = function (v, x) { return function (y) { var z = x(y); if ("number" !== typeof z) throw Error("Event " + JSON.stringify(y) + " does not have movie Id"); z === w.K && v(y) } }; this.u3a = this.pA(function (v) { w.saa(v.E7) }, function (v) { return v.K }); this.r3a = this.pA(function () { w.nU() }, function (v) { return v.K }); this.FTa = this.pA(function () { w.nU() }, function (v) { return v.movieId }); this.lka = this.pA(function () { w.j.sb.value === d.Xa.Kc && (w.j.sb.removeListener(w.lka), w.Iq()) }, function () { return w.j.K }); this.oB = function (v) {
                                w.NA &&
                                    w.qb.oB(v)
                            }; this.KTa = this.pA(this.qb.txb, function (v) { return v.K }); this.dWa = this.pA(this.qb.DCb, function (v) { return v.K }); this.T2a = this.pA(this.qb.ZW, function (v) { return w.j.nk(v.segmentId).K }); this.Z9a = this.pA(this.qb.fZ, function (v) { return w.j.nk(v.segmentId).K }); this.TVa = this.pA(this.qb.ema, function (v) { return v.K }); this.Ck = function (v) {
                                v.skip && (w.eo = !0); switch (v.cause) {
                                    case d.Ce.ly: case d.Ce.H1: w.Fs && w.up && w.qb.iua(w.getTime() - w.up, w.Fs); w.Fs = "repos"; w.qb.iP(v.wta, v.nf, v.Td); w.up = w.getTime(); (0, g.Tc)(w.Aw);
                                        break; case d.Ce.s0: w.Fs = "force_rebuffer", w.up = w.getTime(), (0, g.Tc)(w.Aw)
                                }
                            }; this.jm = function (v) { w.mA = v.oldValue; w.qb.jm(v) }; this.Aw = function () { if (w.up && w.j.sb.value !== d.Xa.Pe) { var v = w.getTime() - w.up; w.qb.qP(v, w.eo, w.Fs); w.mA && w.mA != w.j.Cb.value && w.qb.lja(); w.up = void 0; w.Fs = void 0; w.eo = void 0 } }; this.Iq = function () {
                                w.NA || (w.NA = !0, w.qb.uE(!1), w.iqa(), w.config().s7 && (w.hA = ub.setTimeout(function () {
                                    w.ag.flush(!1).catch(function () { return w.log.warn("failed to flush log batcher on initialLogFlushTimeout") });
                                    w.hA = void 0
                                }, w.config().s7)))
                            }; this.ng = function () { w.hA && (ub.clearTimeout(w.hA), w.hA = void 0); if (w.config().g5 || w.config().aM) w.gma && (ub.clearInterval(w.gma), w.gma = void 0), w.qb.RVa(); w.d_ && w.d_(); w.NA ? w.qb.eH(!!w.j.uh) : w.j.uh ? w.qb.uE(!0) : w.xa.background || w.qb.jua() }; this.p_ = function (v) { v.oldValue && v.rm && v.rm.DG && w.qb.sM(v.oldValue, v.newValue, v.rm.DG, v.rm.WT) }; this.nY = function (v) { if (v.newValue) { var x = v.newValue.stream; w.TH != x && (w.TH && w.qb.Lva(w.TH, x, v.newValue.Dl.startTime), w.TH = x) } }; this.K = l.K; this.log =
                                (0, k.Oh)(h, "LogblobBuilder"); this.Ab(); n && this.saa()
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.GR = void 0; var f = a(12), k = a(8), m = a(4), g = a(50), d = a(15); c.prototype.Ab = function () {
                        this.j.addEventListener(d.ca.XH, this.u3a); this.j.addEventListener(d.ca.Yra, this.r3a); this.j.addEventListener(d.ca.ZW, this.T2a); this.j.addEventListener(d.ca.fZ, this.Z9a); this.j.addEventListener(d.ca.ng, this.FTa); this.j.addEventListener(d.ca.YG, this.TVa, f.g1); if (this.config().g5 || this.config().aM) this.j.addEventListener(d.ca.YG,
                            this.dWa), this.gma = ub.setInterval(this.qb.RVa, this.config().ICb); this.config().Rva && this.j.addEventListener(d.ca.YG, this.KTa)
                    }; c.prototype.saa = function (h) {
                        var l = this; this.K4a || (this.j.sb.value !== d.Xa.Kc || (void 0 === h ? 0 : h) ? this.j.sb.addListener(this.lka) : this.Iq(), this.j.Mi.addListener(this.oB), this.j.Qb.addListener(this.qb.Tl), this.j.Cb.addListener(this.jm), this.j.rh.addListener(this.qb.OT), this.j.paused.addListener(this.qb.S9), this.j.Td.addListener(this.nY), this.j.sb.addListener(this.Aw), this.j.sb.addListener(this.qb.Mbb),
                            this.j.he.addListener(this.p_), this.j.playbackRate.addListener(this.qb.tZ), this.j.addEventListener(d.ca.oi, this.qb.oi), this.j.addEventListener(d.ca.$L, this.qb.$L), this.j.addEventListener(d.ca.TP, this.qb.TP), this.j.addEventListener(d.ca.dz, function (n) { l.Fs = "rebuffer"; l.qb.dz(n); l.up = l.getTime(); (0, g.Tc)(l.Aw) }), this.j.addEventListener(d.ca.Ck, this.Ck), this.j.addEventListener(d.ca.YP, this.qb.YP), this.xa.Yp && this.xa.Yp.addListener(this.qb.Yp), this.K4a = !0)
                    }; c.prototype.nU = function () {
                        this.ng(); this.K4a &&
                            (this.j.removeEventListener(d.ca.XH, this.u3a), this.j.removeEventListener(d.ca.Yra, this.r3a), this.j.removeEventListener(d.ca.ZW, this.T2a), this.j.removeEventListener(d.ca.fZ, this.Z9a), this.j.Mi.removeListener(this.oB), this.j.Qb.removeListener(this.qb.Tl), this.j.Cb.removeListener(this.jm), this.j.rh.removeListener(this.qb.OT), this.j.paused.removeListener(this.qb.S9), this.j.Td.removeListener(this.nY), this.j.sb.removeListener(this.Aw), this.j.sb.removeListener(this.lka), this.j.sb.removeListener(this.qb.Mbb),
                                this.j.he.removeListener(this.p_), this.j.playbackRate.removeListener(this.qb.tZ), this.j.removeEventListener(d.ca.YG, this.TVa), this.j.removeEventListener(d.ca.ng, this.FTa), this.j.removeEventListener(d.ca.oi, this.qb.oi), this.j.removeEventListener(d.ca.$L, this.qb.$L), this.j.removeEventListener(d.ca.TP, this.qb.TP), this.j.removeEventListener(d.ca.dz, this.qb.dz), this.j.removeEventListener(d.ca.Ck, this.Ck), this.j.removeEventListener(d.ca.YP, this.qb.YP), this.xa.Yp && this.xa.Yp.removeListener(this.qb.Yp), this.j.removeEventListener(d.ca.YG,
                                    this.dWa), this.j.removeEventListener(d.ca.YG, this.KTa))
                    }; c.prototype.getTime = function () { return this.ya.Rb().$(m.ja) }; c.prototype.iqa = function () { var h = this, l, n = []; this.config().u4a && (this.config().v4a.forEach(function (q) { n.push(ub.setTimeout(h.qb.PD, q)) }), this.config().L8 && (l = ub.setInterval(this.qb.PD, this.config().L8)), this.d_ = function () { n.forEach(function (q) { ub.clearTimeout(q) }); l && ub.clearInterval(l) }) }; b.GR = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.W4a = void 0; r = a(0);
                    var c = a(1129), f = a(91), k = a(496), m = a(1130), g = a(498), d = a(497), h = a(1131), l = a(437), n = a(1135); b.W4a = new r.dd(function (q) { q(k.uNa).to(c.tNa).aa(); q(f.ay).BE(function () { return ub._cad_global.http }); q(g.LHa).to(m.KHa).aa(); q(d.MHa).Lj(h.default); q(l.xEa).to(n.wEa).aa() })
                }, function (r, b, a) { function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.tNa = void 0; r = a(1); a = a(0); c.prototype.create = function () { return new XMLHttpRequest }; var f = c; f = r.__decorate([(0, a.R)()], f); b.tNa = f }, function (r, b, a) {
                    function c(d,
                        h, l) { this.config = d; this.ZOb = h; this.Vb = l } Object.defineProperty(b, "__esModule", { value: !0 }); b.KHa = void 0; r = a(1); var f = a(326), k = a(0), m = a(186); a = a(497); c.prototype.vAb = function () { if (this.config.Tcb) return this.Vb(this.ZOb()) }; var g = c; g = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(f.JHa)), r.__param(1, (0, k.l)(m.GHa)), r.__param(2, (0, k.l)(a.MHa))], g); b.KHa = g
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(1132), f = a(1133), k = a(1134); b.default = function (m) {
                        m = new c.Xba(m); var g = new k.Njb(m);
                        return new f.Mjb(m, g)
                    }
                }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r = function () {
                        function a(c) { this.R2a = c } a.prototype.Qwa = function (c) { try { this.R2a.setItem("gtp", JSON.stringify(c)) } catch (f) { return !1 } return !0 }; a.prototype.lZa = function () { try { var c = this.R2a.getItem("gtp"); if (c) return JSON.parse(c) } catch (f) { } }; a.prototype.Sw = function () { var c = this.lZa(); if (c && c.tp) return c.tp.a }; a.prototype.YHb = function () { var c = this.noa(); if (c) return c.p25 }; a.prototype.ZHb = function () {
                            var c = this.noa();
                            if (c) return c.p50
                        }; a.prototype.$Hb = function () { var c = this.noa(); if (c) return c.p75 }; a.prototype.noa = function () { var c = this.lZa(); if (c && (c = c.iqr)) return c }; return a
                    }(); b.Xba = r
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); r = function () { function a(c, f) { this.uw = c; this.Zsa = f } a.prototype.Qwa = function (c) { return this.uw.Qwa(c) }; a.prototype.Sw = function () { return this.uw.Sw() }; return a }(); b.Mjb = r }, function (r, b) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r = function () {
                        function a(c) {
                            this.uw =
                                c
                        } a.prototype.Zsa = function () { var c = this.uw.YHb(), f = this.uw.ZHb(), k = this.uw.$Hb(); if ("number" === typeof c && "number" === typeof f && "number" === typeof k) return (k - c) / f }; return a
                    }(); b.Njb = r
                }, function (r, b, a) {
                    function c(g, d) { this.lf = d; this.wa = g.lb("HttpDispatcherImpl") } Object.defineProperty(b, "__esModule", { value: !0 }); b.wEa = void 0; r = a(1); var f = a(0), k = a(7); a = a(91); c.prototype.download = function (g, d) {
                        var h = this; d = void 0 === d ? { Y3a: 0 } : d; return new Promise(function (l, n) {
                            function q(u) {
                                if (u.ga) return l(u.content); if (p ===
                                    d.Y3a) return n({ ma: u.ma, Uw: u.mk }); p++; !1; h.lf.download(g, q)
                            } var p = 0; h.lf.download(g, q)
                        })
                    }; var m = c; m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(a.ay))], m); b.wEa = m
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.lYa = void 0; r = a(0); var c = a(1137), f = a(1138), k = a(1139), m = a(1140), g = a(1141), d = a(499), h = a(500), l = a(164); b.lYa = new r.dd(function (n) { n(l.JDa).to(c.IDa).aa(); n(l.WKa).to(f.VKa).aa(); n(l.UKa).to(k.TKa).aa(); n(d.FDa).to(m.EDa).aa(); n(h.AEa).to(g.zEa).aa() }) },
                function (r, b, a) {
                    function c(q, p, u, t, w, v, x) { this.config = q; this.q0a = p; this.Oc = u; this.wc = t; this.qYb = w; this.Pva = v; this.INb = 0; this.wa = x.lb("FTL") } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.IDa = void 0; r = a(1); var k = a(0), m = a(4), g = a(49), d = a(7), h = a(499), l = a(500); a = a(164); c.prototype.start = function () { this.config.enabled && !this.Gs && (this.Gs = this.Oc.Fk(this.config.pab, this.Bx.bind(this))) }; c.prototype.stop = function () { this.Gs && (this.Gs.cancel(), this.Gs = void 0) }; c.prototype.Bx = function () {
                        var q = this,
                            p = "" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?") ? "?" : "&") + "iter=" + this.INb++; this.CJb(p).then(function (u) { return Promise.all(u.urls.map(function (t) { return q.sKb(u, t.url, t.name) })).then(function (t) { 0 < t.length && q.qYb.KY({ data: t, context: u.context, Kra: u.Kra }) }).then(function () { return u }) }).then(function (u) { q.Gs && (u.f2a ? q.Gs = q.Oc.Fk(u.f2a, q.Bx.bind(q)) : q.stop()) }).catch(function (u) { return q.wa.error("FTL run failed", u) })
                    }; c.prototype.CJb = function (q) {
                        var p = this; return this.q0a.get(q, !1).then(function (u) {
                            if (200 !=
                                u.status || null == u.body) return p.Pva.KY({ url: q, status: u.status, fua: "FTL API request failed", ve: u.ve }), Promise.reject(Error("FTL API request failed: " + u.status)); var t = p.wc.parse(u.body); return t instanceof Error ? (p.Pva.KY({ url: q, status: 4, fua: "FTL Probe API JSON parsing error", ve: u.ve }), Promise.reject(t)) : Promise.resolve(t)
                        }).catch(function (u) { u instanceof Error && (p.Pva.KY({ url: q, status: 0, fua: u.message }), p.wa.error("FTL API call failed", u.message)); return Promise.reject(u) })
                    }; c.prototype.sKb = function (q,
                        p, u) {
                        var t = this; return new Promise(function (w, v) {
                            for (var x, y, z, A, B = [], E = {}, D = 0; D < q.OWb; E = { Aba: E.Aba, Bba: E.Bba }, ++D) {
                                E.Aba = D < q.V7a.length ? q.V7a[D] : m.cb; E.Bba = "" + p + (-1 === p.indexOf("?") ? "?" : "&") + "pulse=" + (D + 1); var F = function (G) {
                                    return function () {
                                        return new Promise(function (C, H) {
                                            t.Oc.Fk(G.Aba, function () {
                                                f.tWb(t.q0a, G.Bba, q.NWb).then(function (L) {
                                                    function N(J, Q, K) { J || (J = K.headers[Q]); return J } x = N(x, "via", L); y = N(y, "x-ftl-probe-data", L); z = N(z, "x-ftl-error", L); A = N(A, "latency-trace", L); L = {
                                                        status: L.status, ve: L.ve,
                                                        d5b: x || "", Rwb: y || "", kV: z || "", kOb: t.wUb(A)
                                                    }; C(L)
                                                }).catch(function (L) { H(L) })
                                            })
                                        })
                                    }
                                }(E); B.push(0 < D ? B[D - 1].then(F) : F())
                            } Promise.all(B).then(function (G) { w({ url: p, name: u, data: G }) }).catch(function (G) { v(G) })
                        })
                    }; c.prototype.wUb = function (q) { if (q) { var p = {}; q = da(q.split(";")); for (var u = q.next(); !u.done; u = q.next())if ((u = u.value.trim().split("=")) && 2 == u.length) try { p[u[0].trim()] = Number.parseInt(u[1]) } catch (t) { } return p } }; c.tWb = function (q, p, u) { return q.get(p, !1, u).then(function (t) { return Object.assign({}, t) }) }; var n =
                        f = c; n = f = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(a.HDa)), r.__param(1, (0, k.l)(l.AEa)), r.__param(2, (0, k.l)(g.Uj)), r.__param(3, (0, k.l)(h.FDa)), r.__param(4, (0, k.l)(a.WKa)), r.__param(5, (0, k.l)(a.UKa)), r.__param(6, (0, k.l)(d.ub))], n); b.IDa = n
                }, function (r, b, a) {
                    function c(l, n) { this.ag = l; this.zsa = n } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.VKa = void 0; r = a(1); var k = a(0), m = a(47), g = a(4), d = a(52); a = a(89); c.prototype.KY = function (l) {
                        var n = {
                            ctx: l.context, data: l.data.map(function (q) {
                                return {
                                    name: q.name,
                                    url: q.url, data: q.data.map(function (p) { return f.J5b({ d: p.ve.duration.$(g.ja), sc: p.status, sz: p.ve.size.$(m.hr), via: p.d5b, cip: p.Rwb, err: p.kV }, p) })
                                }
                            })
                        }; l = this.zsa.Zt(l.Kra, "info", n); this.ag.Ic(l)
                    }; c.J5b = function (l, n) { f.tw(l, "dns", n.ve.YVa); f.tw(l, "tcp", n.ve.Xxa); f.tw(l, "tls", n.ve.eya); f.tw(l, "ttfb", n.ve.bya); f.ysb(l, n.kOb); return l }; c.ysb = function (l, n) { n && (l.rtts = n) }; c.tw = function (l, n, q) { q && (l[n] = q.$(g.ja)) }; var h = f = c; h = f = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(d.no)), r.__param(1, (0, k.l)(a.by))],
                        h); b.VKa = h
                }, function (r, b, a) {
                    function c(l, n) { this.ag = l; this.zsa = n } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.TKa = void 0; r = a(1); var k = a(0), m = a(47), g = a(4), d = a(52); a = a(89); c.prototype.KY = function (l) { l = this.zsa.Zt("ftlProbeError", "info", f.I5b({ url: l.url, sc: l.status, pf_err: l.fua }, l)); this.ag.Ic(l) }; c.I5b = function (l, n) { n.ve && (n = n.ve, f.tw(l, "d", n.duration), f.tw(l, "dns", n.YVa), f.tw(l, "tcp", n.Xxa), f.tw(l, "tls", n.eya), f.tw(l, "ttfb", n.bya), l.sz = n.size.$(m.hr)); return l }; c.tw = function (l, n, q) {
                        q &&
                            (l[n] = q.$(g.ja))
                    }; var h = f = c; h = f = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(d.no)), r.__param(1, (0, k.l)(a.by))], h); b.TKa = h
                }, function (r, b, a) {
                    function c(h, l) { this.is = h; this.json = l; (0, k.Zo)(this, "json") } Object.defineProperty(b, "__esModule", { value: !0 }); b.EDa = void 0; r = a(1); var f = a(0), k = a(59), m = a(32), g = a(4); a = a(25); c.prototype.parse = function (h) {
                        h = this.json.parse(h); if (!this.is.kia(h)) throw Error("FtlProbe: param: not an object"); if (h.next && !this.is.xT(h.next)) throw Error("FtlProbe: param.next: not a positive integer");
                        if (!this.is.xT(h.pulses)) throw Error("FtlProbe: param.pulses: not a positive integer"); if (h.pulse_delays && !this.is.Vy(h.pulse_delays)) throw Error("FtlProbe: param.pulse_delays: not an array"); if (!this.is.xT(h.pulse_timeout)) throw Error("FtlProbe: param.pulse_timeout: not a positive integer"); if (!this.is.Vy(h.urls)) throw Error("FtlProbe: param.urls: not an array"); if (!this.is.un(h.logblob)) throw Error("FtlProbe: param.logblob: not a string"); if (!this.is.tG(h.ctx)) throw Error("FtlProbe: param.ctx: not an object");
                        for (var l = 0; l < h.urls.length; ++l) { var n = h.urls[l]; if (!this.is.kia(n)) throw Error("FtlProbe: param.urls[" + l + "]: not an object"); if (!this.is.tn(n.name)) throw Error("FtlProbe: param.urls[" + l + "].name: not a string"); if (!this.is.tn(n.url)) throw Error("FtlProbe: param.urls[" + l + "].url: not a string"); } return { OWb: h.pulses, V7a: h.pulse_delays ? h.pulse_delays.map(g.Nc) : [], NWb: (0, g.Nc)(h.pulse_timeout), f2a: h.next ? (0, g.Nc)(h.next) : void 0, urls: h.urls, Kra: h.logblob, context: h.ctx }
                    }; var d = c; d = r.__decorate([(0, f.R)(),
                    r.__param(0, (0, f.l)(a.pf)), r.__param(1, (0, f.l)(m.$E))], d); b.EDa = d
                }, function (r, b, a) {
                    function c(p, u, t) { this.Ba = p; this.L5b = u; this.performance = t; (0, k.Zo)(this, "performance") } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.zEa = void 0; r = a(1); var k = a(59), m = a(283), g = a(47), d = a(32), h = a(35), l = a(0), n = a(496), q = a(4); c.prototype.get = function (p, u, t) {
                        var w = this; return new Promise(function (v, x) {
                            try {
                                var y = w.L5b.create(); "withCredentials" in y || x(Error("Missing CORS support")); y.open("GET", p, !0); u && (y.withCredentials =
                                    !0); t && (y.timeout = t.$(q.ja)); var z = w.Ba.Ie, A = void 0; y.onreadystatechange = function () { switch (y.readyState) { case XMLHttpRequest.HEADERS_RECEIVED: A = w.Ba.Ie.Ja(z); break; case XMLHttpRequest.DONE: var B = w.Ba.Ie.Ja(z); B = { body: y.responseText, status: y.status, headers: f.Qta(y.getAllResponseHeaders()), ve: w.woa(p, (0, g.ea)(y.responseText.length), B, A) }; v(B) } }; y.send()
                            } catch (B) { x(B) }
                        })
                    }; c.Qta = function (p) {
                        var u = {}; p = p.split("\r\n"); for (var t = 0; t < p.length; t++) {
                            var w = p[t], v = w.indexOf(": "); 0 < v && (u[w.substring(0, v).toLowerCase()] =
                                w.substring(v + 2))
                        } return u
                    }; c.prototype.woa = function (p, u, t, w) {
                        u = { size: u, duration: t, bya: w }; if (!this.performance || !this.performance.getEntriesByName) return u; t = this.performance.getEntriesByName(p); if (0 == t.length && (t = this.performance.getEntriesByName(p + "/"), 0 == t.length)) return u; p = t[t.length - 1]; u = (0, m.cO)(u); p.decodedBodySize && (u.size = (0, g.ea)(p.decodedBodySize)); 0 < p.duration ? u.duration = (0, q.timestamp)(p.duration) : 0 < p.startTime && 0 < p.responseEnd && (u.duration = (0, q.timestamp)(p.responseEnd - p.startTime));
                        0 < p.requestStart && (u.YVa = (0, q.timestamp)(p.domainLookupEnd - p.domainLookupStart), u.Xxa = (0, q.timestamp)(p.connectEnd - p.connectStart), u.bya = (0, q.timestamp)(p.responseStart - p.startTime), 0 === p.secureConnectionStart ? u.eya = (0, q.timestamp)(0) : void 0 !== p.secureConnectionStart && (t = p.connectEnd - p.secureConnectionStart, u.eya = (0, q.timestamp)(t), u.Xxa = (0, q.timestamp)(p.connectEnd - p.connectStart - t))); return u
                    }; a = f = c; a = f = r.__decorate([(0, l.R)(), r.__param(0, (0, l.l)(h.ih)), r.__param(1, (0, l.l)(n.uNa)), r.__param(2, (0,
                        l.l)(d.Cea)), r.__param(2, (0, l.optional)())], a); b.zEa = a
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.S7a = void 0; r = a(0); var c = a(328), f = a(1143), k = a(191), m = a(1144); b.S7a = new r.dd(function (g) { g(c.ACa).to(f.zCa).aa(); g(k.AR).to(m.TFa).aa() }) }, function (r, b, a) {
                    function c(q, p, u, t) { this.ee = q; this.Ot = p; this.P4b = u; this.ZN = t } Object.defineProperty(b, "__esModule", { value: !0 }); b.zCa = void 0; r = a(1); var f = a(0), k = a(31), m = a(41), g = a(112), d = a(137), h = a(60), l = a(56); a = a(191); c.prototype.Rh = function (q) {
                        var p =
                            this; return this.ee.MC(q.yn[0].data[0], [8, 4]) ? Promise.resolve({ Ve: [{ id: "ddd", VH: "cert", WW: void 0 }], Dm: [{ sessionId: "ddd", data: new Uint8Array(this.Ot.decode(l.nNa)) }] }) : this.ee.MC(q.yn[0].data[0], this.P4b.decode("certificate")) ? Promise.resolve({ Ve: [{ id: "ddd", VH: "cert", WW: void 0 }], Dm: [{ sessionId: "ddd", data: new Uint8Array(this.Ot.decode(l.Yca)) }] }) : this.ZN.Qy(this.ZFb(q)).then(function (u) { return p.$Fb(u) })
                    }; c.prototype.release = function (q) { return this.ZN.release(this.cGb(q)).then(function () { }) }; c.prototype.ZFb =
                        function (q) { var p = this, u = q.yn.map(function (t) { return t.data.map(function (w) { return { sessionId: t.sessionId, dataBase64: p.Ot.encode(w) } }) }); return { da: q.da, zi: q.zi, h5: q.h5, $f: (0, h.vra)(q.$f), Rr: d.mo[q.Rr], yn: u.reduce(function (t, w) { return t.concat(w) }, []), kX: q.kX, uk: q.uk } }; c.prototype.cGb = function (q) { return { da: q.da, Ve: q.Ve } }; c.prototype.$Fb = function (q) { return { Ve: q.Ve, Dm: q.Dm } }; var n = c; n = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.oh)), r.__param(1, (0, f.l)(m.kj)), r.__param(2, (0, f.l)(g.JF)), r.__param(3,
                            (0, f.l)(a.AR))], n); b.zCa = n
                }, function (r, b, a) {
                    function c(l, n, q, p, u) { this.Yrb = l; this.NXb = n; this.Z8a = p; this.RYb = u; this.wa = q.lb("LicenseProviderImpl") } Object.defineProperty(b, "__esModule", { value: !0 }); b.TFa = void 0; r = a(1); var f = a(0), k = a(7), m = a(501); a(502); var g = a(504), d = a(505); a = a(289); c.prototype.Qy = function (l) {
                        var n = this; !1; var q = this.Z8a.c3b(l); return this.Yrb.nq(this.wa, l.uk, q).then(function (p) { p.map(function (u) { return u.pOb }); return n.RYb.Qbb(p) }).catch(function (p) {
                            n.wa.error("PBO license failed", p);
                            return Promise.reject(p)
                        })
                    }; c.prototype.release = function (l) { var n = this; !1; l = this.Z8a.f3b(l); return this.NXb.Vf(this.wa, l).then(function () { return { ga: !0 } }).catch(function (q) { n.wa.error("PBO release license failed", q); return Promise.reject(q) }) }; var h = c; h = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.AIa)), r.__param(1, (0, f.l)(g.qJa)), r.__param(2, (0, f.l)(k.ub)), r.__param(3, (0, f.l)(d.QIa)), r.__param(4, (0, f.l)(a.zea))], h); b.TFa = h
                }, function (r, b, a) {
                    function c(x) { return function () { return x.kb.get(f.kJa).Ab() } }
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.AI = void 0; r = a(0); var f = a(181), k = a(261), m = a(290), g = a(506), d = a(1146), h = a(1147), l = a(507), n = a(1148), q = a(508), p = a(1149), u = a(291), t = a(1150), w = a(509), v = a(1151); b.AI = new r.dd(function (x) { x(l.TJa).to(n.SJa).aa(); x(k.Bea).to(m.gJa).aa(); x(g.GIa).to(d.FIa).aa(); x(f.kJa).to(h.jJa).aa(); x(f.m1).RZ(c); x(w.iJa).to(v.hJa).aa(); x(q.MIa).to(p.LIa).aa().t_(); x(u.mJa).to(t.lJa).aa(); x(u.dJa).to(t.cJa).aa(); x(u.fJa).to(t.eJa).aa() })
                }, function (r, b, a) {
                    function c() { } function f() { }
                    function k(w, v, x, y, z) {
                        var A = this; this.is = w; this.Rl = v; this.config = x; this.XG = y; this.GUb = z; this.Hx = function () { return (new c).encode({ version: A.version, data: A.AI }) }; this.q4b = function (B) { B = A.upgrade(B); A.GUb.validate(B); return B }; this.upgrade = function (B) {
                            if (A.is.un(B)) return A.r4b(B); var E = B.version; if (void 0 != E && A.is.li(E) && 1 == E) return A.s4b(B); E = B.version; if (void 0 != E && A.is.li(E) && 2 == E) return (new c).decode(B); if (B.version && A.is.li(B.version)) throw new l.Wc(d.N.KB, d.M.EAa, void 0, void 0, void 0, "Version number is not supported. Version: " +
                                B.version, void 0, B); throw new l.Wc(d.N.KB, d.M.FB, void 0, void 0, void 0, "The format of the playdata is inconsistent with what is expected.", void 0, B);
                        }; this.Ks = new n.tda(2, this.config().g7a, "" !== this.config().g7a && 0 < this.config().jVb, this.Rl, this.Hx)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.FIa = void 0; r = a(1); var m = a(0), g = a(13), d = a(3), h = a(25), l = a(40), n = a(324), q = a(71), p = a(93), u = a(290); a = a(291); k.prototype.$Wb = function () {
                        return this.Ks.load(this.q4b).catch(function (w) {
                            throw new l.Wc(d.N.KB, w.ma ||
                                w.jd, void 0, void 0, void 0, "Unable to load persisted playdata.", void 0, w);
                        })
                    }; k.prototype.Csb = function (w) { return this.Ks.add(w) }; k.prototype.J8a = function (w) { return this.Ks.remove(w, function (v, x) { return v.da === x.da }) }; k.prototype.Jya = function (w) { return this.Ks.update(w, function (v, x) { return v.da === x.da }) }; k.prototype.toString = function () { return JSON.stringify(this.Hx(), null, "  ") }; k.prototype.Icb = function (w) { return w ? "/events?playbackContextId=" + w + "&esn=" + this.XG().wm : "" }; k.prototype.Nya = function (w) {
                        return w.map(function (v) {
                            return {
                                Dc: v.downloadableId,
                                duration: v.duration
                            }
                        })
                    }; k.prototype.Jcb = function (w) { var v; return w ? { total: w.playTimes.total, CJ: null !== (v = w.playTimes.totalContentTime) && void 0 !== v ? v : w.playTimes.total, audio: this.Nya(w.playTimes.audio || []), video: this.Nya(w.playTimes.video || []), text: this.Nya(w.playTimes.timedtext || []) } : { total: 0, CJ: 0, audio: [], video: [], text: [] } }; k.prototype.r4b = function (w) {
                        var v = this; w = JSON.parse(w); var x = {
                            type: "online", href: this.Icb(w.playbackContextId), da: w.xid ? w.xid.toString() : "", K: w.movieId, position: w.position, mU: w.timestamp,
                            gZ: w.playback ? 1E3 * w.playback.startEpoch : -1, gO: w.mediaId, eY: this.Jcb(w.playback), trackId: "", ao: {}, profileId: w.accountKey
                        }, y = JSON.stringify({ keySessionIds: w.keySessionIds, movieId: w.movieId, xid: w.xid, licenseContextId: w.licenseContextId, profileId: w.profileId }); this.Rl.create().then(function (z) { z.save(v.config().$U, y, !1) }); if ("" === x.href || "" === x.da) throw new l.Wc(d.N.KB, d.M.FB); return { version: 2, data: [x] }
                    }; k.prototype.s4b = function (w) {
                        var v = this; if (!w.playdata || !this.is.Vy(w.playdata)) throw new l.Wc(d.N.KB,
                            d.M.FB, void 0, void 0, void 0, "The version 1 playdata is corrupted.", void 0, w); return { version: 2, data: function (x) { return x.map(function (y) { return { type: y.type, href: v.Icb(y.playbackContextId), da: y.xid ? y.xid.toString() : "", K: y.movieId, position: y.position, mU: y.timestamp, gZ: y.playback ? 1E3 * y.playback.startEpoch : -1, gO: y.mediaId, eY: v.Jcb(y.playback), trackId: "", ao: {}, profileId: y.profileId } }) }(w.playdata) }
                    }; Ya.Object.defineProperties(k.prototype, {
                        version: { configurable: !0, enumerable: !0, get: function () { return this.Ks.version } },
                        AI: { configurable: !0, enumerable: !0, get: function () { return this.Ks.xw } }
                    }); var t = k; t = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(h.pf)), r.__param(1, (0, m.l)(q.Rx)), r.__param(2, (0, m.l)(g.cd)), r.__param(3, (0, m.l)(p.Vx)), r.__param(4, (0, m.l)(a.fJa))], t); b.FIa = t; f.prototype.encode = function (w) { var v = new u.l1; return w.map(v.encode) }; f.prototype.decode = function (w) { var v = new u.l1; return w.map(v.decode) }; c.prototype.encode = function (w) { return { version: w.version, data: (new f).encode(w.data) } }; c.prototype.decode = function (w) {
                        return {
                            version: w.version,
                            data: (new f).decode(w.data)
                        }
                    }
                }, function (r, b, a) {
                    function c(y, z, A, B, E, D, F, G) { this.config = y; this.Oc = A; this.Kx = B; this.Vu = E; this.c$ = D; this.Vh = F; this.RH = Promise.resolve(); this.closed = !1; this.log = z.lb("PlaydataServices"); this.zI = []; this.active = new Set; this.VYb = new f(y, G) } function f(y, z) { this.config = y; this.Ba = z } function k(y, z, A, B, E, D) { this.log = y; this.Oc = z; this.bj = A; this.Vu = B; this.Kx = E; this.cVb = D; this.qXa = this.Kh = !1 } Object.defineProperty(b, "__esModule", { value: !0 }); b.jJa = b.Vkb = void 0; r = a(1); var m = a(0), g = a(4),
                        d = a(7), h = a(49), l = a(261), n = a(506), q = a(507), p = a(3), u = a(290), t = a(508), w = a(106), v = a(35); a = a(123); k.prototype.b9 = function (y, z) {
                            function A() { var E = B.Vu.create(B.bj); B.Kx.Jya(E).catch(function (D) { var F = B.qXa ? d.kh.Lfa : d.kh.Rf; B.qXa = !0; B.log.write(F, "Unable to save playdata changes to IDB", D) }) } var B = this; this.log.trace("Adding initial playdata", z); this.Kx.Csb(z).then(function () { B.log.trace("Scheduling monitor", { interval: y }); B.Gs = B.Oc.U$(y, A) }).catch(function (E) {
                                B.log.error("Unable to add playdata", {
                                    error: E,
                                    playdata: (new u.l1).encode(z)
                                }); B.Gs = B.Oc.U$(y, A)
                            })
                        }; k.prototype.stop = function (y) {
                            var z = this; if (this.Kh) return Promise.resolve(); this.Gs && this.Gs.cancel(); var A = this.Vu.create(this.bj); return this.Kx.Jya(A).catch(function (B) { z.log.error("Unable to update playdata changes during stop", B) }).then(function () {
                                if (y) {
                                    if (z.bj.background) return z.log.trace("Playback is currently in the background and never played, not sending the playdata", A), Promise.resolve(); z.log.trace("Sending final playdata to the server",
                                        A); return z.cVb.W9a(A)
                                } z.log.trace("Currently configured to not send play data, not sending the data to the server")
                            }).then(function () { if (y) return z.log.trace("Removing playdata from the persisted store", A), z.Kx.J8a(A); z.log.trace("Currently configured to not send play data, not removing the play data from IDB") }).then(function () { z.log.info("Successfully stopped the playback", A.K) }).catch(function (B) { z.log.error("Unable to remove playdata changes", B); throw B; })
                        }; k.prototype.cancel = function () {
                            this.Kh =
                                !0; this.Gs && this.Gs.cancel(); this.Kx.Jya(this.Vu.create(this.bj))
                        }; Ya.Object.defineProperties(f.prototype, { Wvb: { configurable: !0, enumerable: !0, get: function () { var y = this.Ba.Ie; return !this.RH || 0 <= y.Ja(this.RH).El(this.config.h2a) ? (this.RH = y, !0) : !1 } } }); b.Vkb = f; c.prototype.Ab = function () {
                            var y = this; this.ds || (this.log.trace("Starting playdata services"), this.ds = this.Kx.$Wb().then(function () { !1; return y }).catch(function (z) {
                                y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",
                                    z); return y
                            })); return this.ds
                        }; c.prototype.close = function () { this.closed = !0; this.zI.forEach(function (y) { y.b9.cancel() }) }; c.prototype.send = function (y) { if (this.closed) return Promise.resolve(); var z = this.config; return z.KO && z.Dwa ? this.KZb(y) : Promise.resolve() }; c.prototype.lp = function (y, z, A, B) { var E = this; this.closed || (this.yxa(y), this.Hwa(y, B).catch(function (D) { E.log.error("Start command failed", { playdata: D.AI, error: D.kV }) }), z && this.vxa(this.aIb(y), y, A)) }; c.prototype.zZ = function (y) {
                            var z = this; if (this.closed) return Promise.resolve();
                            var A = this.Vu.create(y); this.active.delete(A.da); y = da((0, w.Tu)(function (E) { return E.key === A.da }, this.zI)); var B = y.next().value; this.zI = y.next().value; return Promise.all(B.map(function (E) { E.stopped = !0; return E.b9.stop(z.config.Dwa) })).then(function () { })
                        }; c.prototype.yxa = function (y) {
                            y.Ld("pdb"); if (this.config.dua.hNb()) {
                                var z = this.Vu.create(y), A = z.da; this.zI.some(function (B) { return B.key === A }) ? this.log.trace("Already collecting playdata, ignoring", z) : (this.log.info("Starting to collect playdata", z),
                                    this.active.add(A), this.zI.push({ key: A, b9: this.rIb(y, z), Fx: !1, stopped: !1 }))
                            }
                        }; c.prototype.KZb = function (y) { var z = this, A = this.Kx.AI.filter(function (D) { return !z.active.has(D.da) }), B = void 0, E = void 0; y && Infinity === y ? B = A : (A = da((0, w.Tu)(function (D) { return D.K === y }, A)), B = A.next().value, E = A.next().value); E && 0 < E.length && this.Oc.Fk(this.config.T9a, function () { z.V9a(E) }); return B && 0 !== B.length ? this.V9a(B) : Promise.resolve() }; c.prototype.V9a = function (y) {
                            function z(B) { return A.c$.W9a(B).then(function () { return A.aYb(B) }) }
                            var A = this; return y.reduce(function (B, E) { return B.then(function () { return z(E) }) }, Promise.resolve())
                        }; c.prototype.aYb = function (y) { var z = this; return this.Kx.J8a(y).then(function () { }).catch(function (A) { z.log.error("Unable to complete the stop lifecycle event", A); throw A; }) }; c.prototype.rIb = function (y, z) { y = new k(this.log, this.Oc, y, this.Vu, this.Kx, this.c$); y.b9(this.config.dua, z); return y }; c.prototype.Hwa = function (y, z) {
                            var A = this, B = this.Vu.gAb(y, z); return this.c$.Hwa(y, B).then(function () {
                                !1; A.zI.filter(function (E) {
                                    return E.key ===
                                        y.da.toString()
                                }).forEach(function (E) { E.Fx = !0 })
                            }).catch(function (E) { throw { AI: B, kV: E }; })
                        }; c.prototype.U9a = function (y) { return this.VYb.Wvb ? this.cZ(t.yea.MW, y, p.N.Bda) : Promise.resolve() }; c.prototype.caa = function (y) { return this.cZ(t.yea.splice, y, p.N.kLa) }; c.prototype.cZ = function (y, z, A) {
                            function B(D) { var F = E.zI.filter(function (G) { return G.key === D.da.toString() }); return 0 === F.length ? !0 : F.reduce(function (G, C) { return G || C.stopped || !C.Fx }, !1) } var E = this; return B(z) ? this.RH : this.RH = this.RH.catch(function () { return Promise.resolve() }).then(function () {
                                if (B(z)) return Promise.resolve();
                                !1; var D = E.Vu.create(z); return E.c$.cZ(y, z, D)
                            }).then(function (D) { !1; return D }).catch(function (D) { E.log.error("Failed to send event", { eventKey: y, xid: z.da, error: D }); var F; D.vm ? F = E.Vh(A, D) : D.FA === p.W0.Ffa && (F = E.Vh(A, D)); throw { kV: D, NO: F }; })
                        }; c.prototype.vxa = function (y, z, A) { var B = this; !1; this.zka(); this.Yqa = this.Oc.Fk(y, function () { B.zka(); B.cZ(t.yea.MW, z, p.N.Bda).then(function () { B.vxa(y, z, A) }).catch(function (E) { var D = E.kV; (E = E.NO) && A(E); D.FA === p.W0.Ffa && B.vxa(y, z, A) }) }) }; c.prototype.Aab = function () { this.zka() };
                    c.prototype.zka = function () { this.Yqa && (this.Yqa.cancel(), this.Yqa = void 0) }; c.prototype.aIb = function (y) { return y.fb.Fpa ? (0, g.Nc)(y.fb.Fpa) : this.config.g2a }; var x = c; x = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(q.TJa)), r.__param(1, (0, m.l)(d.ub)), r.__param(2, (0, m.l)(h.Uj)), r.__param(3, (0, m.l)(n.GIa)), r.__param(4, (0, m.l)(l.Bea)), r.__param(5, (0, m.l)(t.MIa)), r.__param(6, (0, m.l)(a.BK)), r.__param(7, (0, m.l)(v.ih))], x); b.jJa = x
                }, function (r, b, a) {
                    function c(l, n) {
                        l = k.$e.call(this, l, "PlaydataConfigImpl") || this; l.config =
                            n; return l
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.SJa = void 0; r = a(1); var f = a(0), k = a(48), m = a(33), g = a(42), d = a(4); a = a(34); qa(c, k.$e); Ya.Object.defineProperties(c.prototype, {
                        KO: { configurable: !0, enumerable: !0, get: function () { return this.config.gu ? "unsentplaydatatest" : "unsentplaydata" } }, Dwa: { configurable: !0, enumerable: !0, get: function () { return !0 } }, T9a: { configurable: !0, enumerable: !0, get: function () { return (0, d.Nc)(1E4) } }, dua: { configurable: !0, enumerable: !0, get: function () { return (0, d.Nc)(4E3) } }, g2a: {
                            configurable: !0,
                            enumerable: !0, get: function () { return (0, d.Z8)(1) }
                        }, h2a: { configurable: !0, enumerable: !0, get: function () { return (0, d.vg)(30) } }
                    }); var h = c; r.__decorate([g.config(g.string, "playdataPersistKey")], h.prototype, "KO", null); r.__decorate([g.config(g.Rc, "sendPersistedPlaydata")], h.prototype, "Dwa", null); r.__decorate([g.config(g.il, "playdataSendDelayMilliseconds")], h.prototype, "T9a", null); r.__decorate([g.config(g.il, "playdataPersistIntervalMilliseconds")], h.prototype, "dua", null); r.__decorate([g.config(g.il, "heartbeatCooldown")],
                        h.prototype, "g2a", null); r.__decorate([g.config(g.il, "keepAliveWindow")], h.prototype, "h2a", null); h = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Qk)), r.__param(1, (0, f.l)(a.Wl))], h); b.SJa = h
                }, function (r, b, a) {
                    function c(g, d) { this.qU = d; this.log = g.lb("PboEventSenderImpl") } Object.defineProperty(b, "__esModule", { value: !0 }); b.LIa = void 0; r = a(1); var f = a(90), k = a(7); a = a(0); c.prototype.Hwa = function (g, d) { var h = this.qU(f.Ap.start); return this.kXa(h, g, d) }; c.prototype.W9a = function (g) {
                        var d = this; return this.qU(f.Ap.stop).Vf(this.log,
                            g).then(function () { }).catch(function (h) { d.log.error("PBO stop event failed", h); throw h; })
                    }; c.prototype.cZ = function (g, d, h) { g = this.qU(g); return this.kXa(g, d, h) }; c.prototype.kXa = function (g, d, h) { var l = this; return g.nq(this.log, d.pa.uk, h).then(function () { }).catch(function (n) { l.log.error("PBO event failed", n); throw n; }) }; var m = c; m = r.__decorate([(0, a.R)(), r.__param(0, (0, a.l)(k.ub)), r.__param(1, (0, a.l)(f.Vca))], m); b.LIa = m
                }, function (r, b, a) {
                    function c() { } function f(l) { this.FUb = l } function k(l) { this.HUb = l } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.lJa = b.eJa = b.cJa = void 0; r = a(1); var m = a(0), g = a(291), d = a(40), h = a(3); k.prototype.validate = function (l) { l.map(this.HUb.validate) }; a = k; a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(g.mJa))], a); b.cJa = a; f.prototype.validate = function (l) { this.FUb.validate(l.data) }; a = f; a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(g.dJa))], a); b.eJa = a; c.prototype.validate = function (l) {
                            var n; l.da && "string" === typeof l.da ? l.href && "string" === typeof l.href ? l.profileId && "string" === typeof l.profileId || (n = "ProfileId value is corrupted.") :
                                n = "Href value is corrupted." : n = "Xid value is corrupted."; if (n) throw new d.Wc(h.N.KB, h.M.FB, void 0, void 0, void 0, n, void 0, l.da);
                        }; g = c; g = r.__decorate([(0, m.R)()], g); b.lJa = g
                }, function (r, b, a) {
                    function c(d, h) { this.L6a = h; this.log = d.lb("PlaydataServices") } Object.defineProperty(b, "__esModule", { value: !0 }); b.hJa = void 0; r = a(1); var f = a(0), k = a(7), m = a(15); a = a(181); c.prototype.lp = function (d) {
                        var h = this; this.L6a().then(function (l) {
                            d.addEventListener(m.ca.XH, function (n) {
                                if (void 0 !== n.SO) {
                                    var q = d.jD(n.SO); l.zZ(q);
                                    n.E7 || (new Promise(function (p) { if (d.Dj.value) p(); else { var u = function (t) { t.newValue && (p(), d.Dj.removeListener(u)) }; d.Dj.addListener(u) } })).then(function () { return l.lp(d, h.U$a(d), function (p) { return d.GG(p) }, d.NG) })
                                }
                            }); d.addEventListener(m.ca.Iq, function () { l.lp(d.ka, h.U$a(d), function (n) { return d.GG(n) }, d.NG) }); d.background || d.addEventListener(m.ca.XW, function (n) { n = d.jD(n.K); l.yxa(n) }); d.addEventListener(m.ca.ng, function () { l.Aab() }); d.addEventListener(m.ca.Zya, function () {
                                l.U9a(d.ka).catch(function (n) {
                                    (n =
                                        n.NO) && d.GG(n)
                                })
                            }); d.Qb.addListener(function () { d.fb.cma ? h.log.trace("stickiness is disabled for timedtext") : l.caa(d.ka) }); d.Cb.addListener(function () { d.fb.cma ? h.log.trace("stickiness is disabled for audio") : l.caa(d.ka).catch(function (n) { (n = n.NO) && d.GG(n) }) })
                        })
                    }; c.prototype.U$a = function (d) { return d.state.value == m.Mb.je }; var g = c; g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(a.m1))], g); b.hJa = g
                }, function (r, b, a) {
                    function c(q) {
                        return function () {
                            return new Promise(function (p, u) {
                                var t =
                                    q.kb.get(k.ICa); t.Ab().then(function () { p(t) }).catch(function (w) { u(w) })
                            })
                        }
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.pWa = void 0; r = a(0); var f = a(510); a(1153); var k = a(512), m = a(1155), g = a(104), d = a(1156), h = a(513), l = a(1157), n = a(1158); a(1159); b.pWa = new r.dd(function (q) { q(h.bGa).to(l.aGa).aa(); q(f.FCa).to(n.cGa); q(g.zQ).to(d.Fza).aa(); q(k.ICa).to(m.GCa).aa(); q(k.HCa).RZ(c) })
                }, function (r, b, a) {
                    function c(n, q, p) {
                        var u = d.eS.call(this, n, q, "idb") || this; u.Rl = p; u.x9a = function (t) { u.SBb(t.target.id).then(function () { return u.refresh() }) };
                        u.cTb = function () { u.bxb().then(function () { return u.refresh() }) }; u.BTb = function () { u.refresh() }; u.fTb = function () { u.iyb() }; return u
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Iib = void 0; r = a(1); var f = a(0), k = a(31), m = a(25), g = a(187), d = a(511), h = a(134), l = a(292); qa(c, d.eS); c.prototype.Ab = function () {
                        var n = this; if (this.Nn) return Promise.resolve(); ub.addEventListener("keydown", function (q) { q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == h.Hv.Khb && n.toggle() }); return this.Rl.create().then(function (q) {
                            n.storage =
                                q; n.Nn = !0
                        })
                    }; c.prototype.fl = function () { return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>') }; c.prototype.Ooa = function (n,
                        q, p) { n = n.toString(); var u = '<font color="#C41A16">"' + q + '"</font>'; p = this.qb.ri({ name: q, data: p }); return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + u + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + p + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + q + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>') };
                    c.prototype.cpa = function (n) { var q = this, p = '<table class="' + this.prefix + '-display-table" width="100%">' + this.fl(); Object.entries(n).forEach(function (u, t) { var w = da(u); u = w.next().value; w = w.next().value; p += q.Ooa(t, u, w) }); return p + "</table>" }; c.prototype.OYa = function () {
                        var n = this.ee.createElement("button", d.YJ, "Clear", { "class": this.prefix + "-display-btn" }), q = this.ee.createElement("button", d.YJ, "Refresh", { "class": this.prefix + "-display-btn" }), p = this.ee.createElement("button", d.YJ, "Copy", {
                            "class": this.prefix +
                                "-display-btn"
                        }); n.onclick = this.cTb; q.onclick = this.BTb; p.onclick = this.fTb; return [n, q, p]
                    }; c.prototype.UOb = function () { var n = this; return this.storage.loadAll().then(function (q) { n.v0a = q.reduce(function (p, u) { p[u.key] = u.value; return p }, {}); return n.v0a }) }; c.prototype.SBb = function (n) { return this.storage.remove(n) }; c.prototype.bxb = function () { return this.storage.removeAll() }; c.prototype.z8a = function () { var n = this; return this.UOb().then(function (q) { return n.cpa(q) }) }; c.prototype.iyb = function () {
                        var n = JSON.stringify(this.v0a,
                            null, 4); l.Q_.dla(n)
                    }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.oh)), r.__param(1, (0, f.l)(m.pf)), r.__param(2, (0, f.l)(g.uda))], a); b.Iib = a
                }, function (r, b) {
                    function a(c) { this.is = c; this.ONb = "#881391"; this.o1b = "#C41A16"; this.Tub = this.HSb = "#1C00CF"; this.qMb = "#D79BDB"; this.G3b = this.DSb = "#808080" } Object.defineProperty(b, "__esModule", { value: !0 }); b.NMa = void 0; a.prototype.ri = function (c) { return this.getValue("~~NONAME~~", c) }; a.prototype.hD = function (c, f) {
                        return '<font color="' + ((void 0 === f ? 0 : f) ? this.qMb :
                            this.ONb) + '">' + c + ": </font>"
                    }; a.prototype.tYa = function (c, f) { f = f || ""; c = '<li><a href="#">' + this.hD(c) + "Array[" + f.length + "]</a>"; c += "<ul>"; for (var k = 0; k < f.length; ++k)c += this.getValue(k.toString(), f[k]); c += this.getValue("length", f.length, !0); return c + "</ul></li>" }; a.prototype.QZa = function (c, f) {
                        var k = this; if (f instanceof CryptoKey) return this.eHb(c, f); var m = ""; m += '<li><a href="#">' + ("~~NONAME~~" !== c ? this.hD(c) : "") + "Object</a>"; m += "<ul>"; Object.entries(f).forEach(function (g) {
                            var d = da(g); g = d.next().value;
                            d = d.next().value; m = g.startsWith("$") ? m + k.getValue(g, "REMOVED") : m + k.getValue(g, d)
                        }); m += "</ul>"; return m += "</li>"
                    }; a.prototype.eHb = function (c, f) { c = '<li><a href="#">' + this.hD(c) + "CryptoKey</a>"; c = c + "<ul>" + this.QZa("algorithm", f.algorithm); c += this.zYa("extractable", f.extractable); c += this.o_a("type", f.type); c += this.tYa("usages", f.usages); return c + "</ul></li>" }; a.prototype.EIb = function (c, f, k) { return '<li><a href="#">' + this.hD(c, void 0 === k ? !1 : k) + ('<font color="' + this.HSb + '">' + f.toString() + "</font></a></li>") };
                    a.prototype.zYa = function (c, f, k) { return '<li><a href="#">' + this.hD(c, void 0 === k ? !1 : k) + ('<font color="' + this.Tub + '">' + f.toString() + "</font></a></li>") }; a.prototype.o_a = function (c, f, k) { 128 < f.length && (f = f.substr(0, 128) + "..."); return '<li><a href="#">' + this.hD(c, void 0 === k ? !1 : k) + ('<font color="' + this.o1b + '">"' + f + '"</font></a></li>') }; a.prototype.DIb = function (c) { return '<li><a href="#">' + this.hD(c) + ('<font color="' + this.DSb + '">null</font></a></li>') }; a.prototype.NJb = function (c, f) {
                        f = "undefined" === typeof f ?
                            "" : f.toString(); 255 < f.length && (f = f.substr(0, 255) + "..."); return '<li><a href="#">' + this.hD(c) + ('<font color="' + this.G3b + '">' + f + "</font></a></li>")
                    }; a.prototype.getValue = function (c, f, k) { k = void 0 === k ? !1 : k; return null === f ? "" + this.DIb(c) : this.is.Vy(f) ? "" + this.tYa(c, f) : this.is.tG(f) ? "" + this.QZa(c, f) : this.is.tn(f) ? "" + this.o_a(c, f, k) : this.is.li(f) ? "" + this.EIb(c, f, k) : this.is.wT(f) ? "" + this.zYa(c, f, k) : "" + this.NJb(c, f) }; b.NMa = a
                }, function (r, b, a) {
                    function c(m) { this.uCb = m } Object.defineProperty(b, "__esModule", { value: !0 });
                    b.GCa = void 0; r = a(1); var f = a(0); a = a(510); c.prototype.Ab = function () { var m = this; this.ds || (this.ds = new Promise(function (g, d) { var h = []; m.uCb.forEach(function (l) { h.push(l.Ab()) }); Promise.all(h).then(function () { g() }).catch(function (l) { d(l) }) })); return this.ds }; var k = c; k = r.__decorate([(0, f.R)(), r.__param(0, (0, f.iI)(a.FCa))], k); b.GCa = k
                }, function (r, b, a) {
                    function c() { this.wwa = ""; this.tdb = [[], []]; this.Y = [[], []] } Object.defineProperty(b, "__esModule", { value: !0 }); b.Fza = void 0; r = a(1); var f = a(0); a(4); var k = a(104);
                    c.prototype.downloadRequest = function (m) { "" === this.wwa && (this.wwa = m.ha); if (!m.gd) { var g = this.I2b(m); this.Y[m.mediaType].push(g); this.tdb[m.mediaType].forEach(function (d) { d.Lac(g) }) } }; c.prototype.I2b = function (m) { return { id: m.wi(), ha: m.ha, mediaType: m.mediaType, kk: m.kk, startTime: m.UA, endTime: m.ux, offset: m.fv, mM: m.mM, lM: m.lM, duration: m.Sr, bitrate: m.bitrate, state: k.$ba.jWa, Dj: !1, Tcc: !1, P_a: !1, Jbc: k.Zba.waiting } }; c.prototype.update = function (m) { this.tdb[m.mediaType].forEach(function (g) { g.Ffc(m) }) }; Ya.Object.defineProperties(c.prototype,
                        { ha: { configurable: !0, enumerable: !0, get: function () { return this.wwa } } }); a = c; a = r.__decorate([(0, f.R)()], a); b.Fza = a
                }, function (r, b, a) {
                    function c(h, l) { h = m.$e.call(this, h, "LogDisplayConfigImpl") || this; h.Ui = l; return h } Object.defineProperty(b, "__esModule", { value: !0 }); b.aGa = void 0; r = a(1); var f = a(0), k = a(42), m = a(48), g = a(33); a = a(81); qa(c, m.$e); Ya.Object.defineProperties(c.prototype, {
                        D$: { configurable: !0, enumerable: !0, get: function () { return !0 } }, WH: { configurable: !0, enumerable: !0, get: function () { return this.Ui.WH } },
                        Y2a: { configurable: !0, enumerable: !0, get: function () { return -1 } }
                    }); var d = c; r.__decorate([k.config(k.Rc, "renderDomDiagnostics")], d.prototype, "D$", null); r.__decorate([k.config(k.xD, "logDisplayMaxEntryCount")], d.prototype, "WH", null); r.__decorate([k.config(k.xD, "logDisplayAutoshowLevel")], d.prototype, "Y2a", null); d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(g.Qk)), r.__param(1, (0, f.l)(a.Nv))], d); b.aGa = d
                }, function (r, b, a) {
                    function c(B, E, D, F, G, C, H, L, N, J) {
                        var Q = this; this.Ba = B; this.kg = E; this.ee = D; this.Oc = F; this.co =
                            G; this.config = C; this.XG = H; this.Zxa = L; this.hBb = N; this.Rl = J; this.p2b = function () { Q.f_.ol(function () { Q.update() }) }; this.clear = function () { Q.entries = []; Q.update() }; this.C4a = function () { Q.Me.SN = !Q.Me.SN; Q.LD && Q.QD && (Q.Me.SN ? (Q.LD.style.display = "inline-block", Q.QD.style.display = "none") : (Q.QD.style.display = "inline-block", Q.LD.style.display = "none")); Q.eJ(!1) }; this.nPb = function (K) {
                                Q.entries.push(K); var I = Q.config.WH; 0 <= I && Q.entries.length > I && Q.entries.shift(); void 0 === Q.Me.fz[K.Go] && (Q.Me.fz[K.Go] = !0, Q.eJ(!1));
                                Q.Me.isVisible && !Q.hbb ? Q.p2b() : Q.f_.ol()
                            }; this.CCb = function () { k.download("all", Q.entries.map(function (K) { return K.Qaa(!1, !1) })).catch(function (K) { console.error("Unable to download all logs to the file", K) }) }; this.Nn = !1; this.Me = { isVisible: !1, SN: !0, d5: !0, Fra: t.kh.pda, fz: {} }; this.f_ = this.Zxa((0, q.vg)(1)); this.YEb = this.hBb((0, q.Nc)(250)); this.entries = []; !1; !1
                    } function f(B) { this.elements = []; var E = document.createElementNS(f.DZ, "svg"); E.setAttribute("viewBox", B); this.elements.push(E) } function k() { } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.cGa = void 0; r = a(1); var m = a(0), g = a(31), d = a(114), h = a(211), l = a(49), n = a(35), q = a(4), p = a(16), u = a(93), t = a(7), w = a(115), v = a(293), x = a(513), y = a(71), z = a(134), A = a(292); k.download = function (B, E) { return k.DHb(B).then(function (D) { return k.DJb(D, E.join("\r\n")).then(function (F) { return k.ACb(F.filename, F.text) }) }) }; k.DHb = function (B) {
                            return new Promise(function (E, D) {
                                try {
                                    var F = new Date, G = F.getDate().toString(), C = (F.getMonth() + 1).toString(), H = F.getFullYear().toString(), L = F.getHours().toString(),
                                        N = F.getMinutes().toString(), J = F.getSeconds().toString(); 1 === G.length && (G = "0" + G); 1 === C.length && (C = "0" + C); 1 === L.length && (L = "0" + L); 1 === N.length && (N = "0" + N); 1 === J.length && (J = "0" + J); E(H + C + G + L + N + J + "." + B + ".log")
                                } catch (Q) { D(Q) }
                            })
                        }; k.DJb = function (B, E) { return new Promise(function (D, F) { try { D({ filename: B, text: URL.createObjectURL(new Blob([E], { type: "text/plain" })) }) } catch (G) { F(G) } }) }; k.ACb = function (B, E) {
                            try {
                                var D = document.createElement("a"); D.setAttribute("href", E); D.setAttribute("download", B); D.style.display =
                                    "none"; document.body.appendChild(D); D.click(); document.body.removeChild(D); return Promise.resolve()
                            } catch (F) { return Promise.reject(F) }
                        }; f.prototype.NP = function () { var B = document.createElementNS(f.DZ, "g"); B.setAttribute("stroke", "none"); B.setAttribute("stroke-width", (1).toString()); B.setAttribute("fill", "none"); B.setAttribute("fill-rule", "evenodd"); B.setAttribute("stroke-linecap", "round"); this.addElement(B); return this }; f.prototype.PP = function (B, E, D) {
                            var F = document.createElementNS(f.DZ, "path"); F.setAttribute("d",
                                B); E && F.setAttribute("fill", E); D && F.setAttribute("fill-rule", D); this.addElement(F); return this
                        }; f.prototype.wZ = function (B, E, D, F, G) { G = void 0 === G ? "#000000" : G; var C = document.createElementNS(f.DZ, "rect"); C.setAttribute("x", B.toString()); C.setAttribute("y", E.toString()); C.setAttribute("height", D.toString()); C.setAttribute("width", F.toString()); G && C.setAttribute("fill", G); this.addElement(C); return this }; f.prototype.R0b = function () {
                            var B = document.createElementNS(f.DZ, "polygon"); B.setAttribute("points", "0 0 24 0 24 24 0 24");
                            B.setAttribute("transform", "translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)"); this.addElement(B); return this
                        }; f.prototype.end = function () { this.elements.pop(); return this }; f.prototype.ri = function () { if (1 < this.elements.length) throw new RangeError("Some item wasn't terminated correctly"); if (0 === this.elements.length) throw new RangeError("Too many items were terminated"); return this.elements[0] }; f.prototype.addElement = function (B) {
                            if (0 === this.elements.length) throw new RangeError("Too many items were terminated");
                            this.elements[this.elements.length - 1].appendChild(B); this.elements.push(B)
                        }; Ya.Object.defineProperties(f, { background: { configurable: !0, enumerable: !0, get: function () { return "transparent" } }, TG: { configurable: !0, enumerable: !0, get: function () { return "#000000" } } }); f.DZ = "http://www.w3.org/2000/svg"; c.prototype.Ab = function () {
                            var B = this; this.ds || (this.ds = new Promise(function (E) {
                                ub.addEventListener("keydown", function (D) { D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Hv.Lib ? B.toggle() : D.keyCode == z.Hv.E && A.Q_.dla(B.XG().wm)) });
                                B.co.C$(v.Kda.pgb, B.nPb); E()
                            })); return this.ds
                        }; c.prototype.show = function () { document.body && (this.element || (this.Vzb(), this.Nn = !0), !this.Me.isVisible && this.element && (document.body.appendChild(this.element), this.Me.isVisible = !0, this.update(!0))) }; c.prototype.zu = function () { this.Nn && this.Me.isVisible && this.element && (document.body.removeChild(this.element), this.Me.isVisible = !1) }; c.prototype.toggle = function () { this.Me.isVisible ? this.zu() : this.show(); this.eJ(!1) }; c.prototype.Vzb = function () {
                            try {
                                var B = this.createElement("div",
                                    "position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;", void 0, { "class": "player-log" }), E = this.createElement("style"); E.type = "text/css"; E.appendChild(document.createTextNode("button:focus { outline: none; }")); B.appendChild(E); B.appendChild(this.mp = this.MAb()); B.appendChild(this.NAb()); B.appendChild(this.Pzb()); this.element = B
                            } catch (D) { console.error("Unable to create the log console", D) }
                        }; c.prototype.MAb = function () {
                            var B = this, E = this.createElement("textarea", "position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");
                            E.setAttribute("wrap", "off"); E.setAttribute("readonly", "readonly"); E.addEventListener("focus", function () { B.hbb = !0; B.update(); B.mp && (B.mp.style.cssText = "position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)") }); E.addEventListener("blur", function () { B.hbb = !1; B.update(); B.mp && (B.mp.style.cssText = "position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)") });
                            return E
                        }; c.prototype.NAb = function () { var B = this.createElement("div", "float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif"); B.appendChild(this.nAb()); B.appendChild(this.eAb()); B.appendChild(this.$zb()); B.appendChild(this.PAb()); B.appendChild(this.Tzb()); B.appendChild(this.tAb()); B.appendChild(this.rAb()); B.appendChild(this.bAb()); B.appendChild(this.Uzb()); return B }; c.prototype.Pzb = function () {
                            var B = this, E = this.createElement("div", "float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif"),
                                D = this.createElement("div", "padding:2px"), F = this.createElement("select", this.Pw(22, 160, 1, 2), "<option>Select categories</option>"), G = this.createElement("div", "height:500px;overflow-y:auto;display:none;border:1px #dadada solid"); E.appendChild(D); E.appendChild(G); D.appendChild(F); D.addEventListener("mousedown", function (H) { H.preventDefault() }); var C = !1; D.addEventListener("click", function () {
                                    C ? G.style.display = "none" : (G.innerHTML = "", ["all", "none"].concat(Object.keys(B.Me.fz).sort()).forEach(function (H) {
                                        G.appendChild(B.Qzb(H,
                                            D))
                                    }), G.style.display = "block"); C = !C
                                }); return E
                        }; c.prototype.Qzb = function (B, E) {
                            var D = this, F = this.createElement("label", "display: block;margin:1px"); F.htmlFor = B; var G = this.createElement("input", "margin:1px"); G.type = "checkbox"; G.id = B; G.checked = this.Me.fz[B]; G.addEventListener("click", function () { "all" === B || "none" === B ? (Object.keys(D.Me.fz).forEach(function (C) { D.Me.fz[C] = "all" === B }), E.click()) : D.Me.fz[B] = !D.Me.fz[B]; D.eJ(!0) }); F.appendChild(G); F.insertAdjacentText("beforeend", 18 < B.length ? B.slice(0, 15) +
                                "..." : B); return F
                        }; c.prototype.nAb = function () { var B = this, E = this.createElement("select", this.Pw(22, NaN, 1, 2), '<option value="' + t.kh.Rf + '">Error</option><option value="' + (t.kh.Lfa + '">Warn</option><option value="') + (t.kh.pda + '">Info</option><option value="') + (t.kh.oMa + '">Trace</option><option value="') + (t.kh.ia + '">Debug</option>')); E.value = this.Me.Fra.toString(); E.addEventListener("change", function (D) { B.Me.Fra = parseInt(D.target.value); B.eJ(!0) }, !1); return E }; c.prototype.eAb = function () {
                            function B(F) {
                                return E.YEb.ol(function () {
                                    var G =
                                        F.target.value; E.Me.filter = G ? new RegExp(G) : void 0; E.eJ(!0)
                                })
                            } var E = this, D = this.createElement("input", this.Pw(14, 150, 1, 2)); D.value = this.Me.filter ? this.Me.filter.source : ""; D.title = "Filter (RegEx)"; D.placeholder = "Filter (RegEx)"; D.addEventListener("keydown", B, !1); D.addEventListener("change", B, !1); return D
                        }; c.prototype.$zb = function () {
                            var B = this, E = this.createElement("div", this.Pw(NaN, NaN)), D = this.createElement("input", "vertical-align: middle;margin: 0px 2px 0px 0px;"); D.id = "details"; D.type = "checkbox";
                            D.title = "Details"; D.checked = this.Me.d5; D.addEventListener("change", function (G) { B.Me.d5 = G.target.checked; B.eJ(!0) }, !1); var F = this.createElement("label", "vertical-align: middle;margin: 0px 0px 0px 2px;"); F.setAttribute("for", "details"); F.innerHTML = "View details"; E.appendChild(D); E.appendChild(F); return E
                        }; c.prototype.PAb = function () {
                            var B = this, E = this.createElement("button", this.Pw()), D = (new f("0 0 24 24")).NP().R0b().end().PP("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",
                                f.TG, "nonzero").end().end().ri(); E.appendChild(D); E.addEventListener("click", function () { B.update() }, !1); E.setAttribute("title", "Refresh the log console"); return E
                        }; c.prototype.Tzb = function () {
                            var B = this.createElement("button", this.Pw()), E = (new f("0 0 24 24")).NP().wZ(0, 0, 24, 24, f.background).end().PP("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z", f.TG).end().end().ri(); B.appendChild(E); B.addEventListener("click",
                                this.clear, !1); B.setAttribute("title", "Remove all log messages"); return B
                        }; c.prototype.tAb = function () {
                            this.QD = this.createElement("button", this.Pw()); this.QD.style.display = this.Me.SN ? "none" : "inline-block"; var B = (new f("0 0 24 24")).NP().wZ(0, 0, 24, 24, f.background).end().PP("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z", f.TG, "nonzero").end().end().ri(); this.QD.addEventListener("click", this.C4a, !1); this.QD.appendChild(B); this.QD.setAttribute("title", "Shrink the log console");
                            return this.QD
                        }; c.prototype.rAb = function () { this.LD = this.createElement("button", this.Pw()); this.LD.style.display = this.Me.SN ? "inline-block" : "none"; var B = (new f("0 0 24 24")).NP().wZ(4, 4, 16, 16, f.background).end().PP("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z", f.TG, "nonzero").end().end().ri(); this.LD.addEventListener("click", this.C4a, !1); this.LD.appendChild(B); this.LD.setAttribute("title", "Expand the log console"); return this.LD }; c.prototype.bAb = function () {
                            var B = this.createElement("button",
                                this.Pw()), E = (new f("0 0 26 26")).NP().wZ(0, 0, 24, 24, f.background).end().PP("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z", f.TG, "nonzero").end().end().ri(); B.appendChild(E); B.addEventListener("click", this.CCb, !1); B.setAttribute("title", "Download all log messages"); return B
                        }; c.prototype.Uzb = function () {
                            var B =
                                this, E = this.createElement("button", this.Pw()), D = (new f("0 0 24 24")).NP().wZ(0, 0, 24, 24, f.background).end().PP("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z", f.TG, "nonzero").end().end().ri(); E.appendChild(D); E.addEventListener("click", function () { B.toggle() }, !1); E.setAttribute("title", "Close the log console");
                            return E
                        }; c.prototype.eJ = function (B) { B = void 0 === B ? !1 : B; var E = void 0 === E ? !1 : E; !1; B && this.update(E) }; c.prototype.update = function (B) {
                            var E = this; B = void 0 === B ? !1 : B; this.element && this.config.D$ && Promise.resolve(this.hvb() + this.EHb().join("\r\n")).then(function (D) {
                                E.element && E.mp && (E.mp.value = D, E.element.style.cssText = E.Me.SN ? "position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;" : "position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;", B && E.Oc.Fk(q.cb,
                                    function () { E.mp.scrollTop = E.mp.scrollHeight }))
                            }).catch(function (D) { console.error("Unable to update the log console", D) })
                        }; c.prototype.EHb = function () { var B = this, E = []; this.entries.forEach(function (D) { (D.level || D.level) <= B.Me.Fra && B.Me.fz[D.Go] && (D = D.Qaa(!B.Me.d5, !B.Me.d5), B.Me.filter && !B.Me.filter.test(D) || E.push(D)) }); return E }; c.prototype.hvb = function () {
                            var B = this.XG(); return "Version: 6.0034.519.611 \n" + ((B ? "Esn: " + B.wm : "") + "\nJsSid: ") + (this.kg.id + ", Epoch: " + this.Ba.Ie.$(q.Zl) + ", Start: " + this.kg.oA.$(q.Zl) +
                                ", TimeZone: " + (new Date).getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n")
                        }; c.prototype.createElement = function (B, E, D, F) { return this.ee.createElement(B, E, D, F) }; c.prototype.Pw = function (B, E, D, F) {
                            B = void 0 === B ? 26 : B; E = void 0 === E ? 26 : E; return "display:inline-block;border:" + (void 0 === D ? 0 : D) + "px solid " + f.TG + ";padding:3px;" + (isNaN(B) ? "" : "height:" + B + "px") + ";" + (isNaN(E) ? "" : "width:" + E + "px") +
                                ";margin:0px 3px;background-color:transparent;" + (F ? "border-radius:" + F + "px;" : "")
                        }; a = c; a.a1b = "logDxDisplay"; a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(n.ih)), r.__param(1, (0, m.l)(p.bd)), r.__param(2, (0, m.l)(g.oh)), r.__param(3, (0, m.l)(l.Uj)), r.__param(4, (0, m.l)(w.tK)), r.__param(5, (0, m.l)(x.bGa)), r.__param(6, (0, m.l)(u.Vx)), r.__param(7, (0, m.l)(d.JK)), r.__param(8, (0, m.l)(h.Gca)), r.__param(9, (0, m.l)(y.Rx))], a); b.cGa = a
                }, function (r, b, a) {
                    function c(q, p, u) {
                        var t = h.eS.call(this, q, p, "network") || this; t.Cla = u;
                        t.e5 = d.cCa.rjb; t.YPb = 30; t.NTb = function (w) { t.e5 = w.target.value; t.refresh() }; t.bTb = function () { t.data = {}; t.refresh() }; t.x9a = function (w) { var v = Number(w.target.id); w = w.target.getAttribute("data-type"); v = t.data[t.e5][v].value; var x = JSON.stringify(v, null, 4); "copy" === w ? n.Q_.dla(x) : "log" === w && console.log(v) }; return t
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Ljb = void 0; r = a(1); var f = a(0), k = a(31), m = a(25), g = a(99), d = a(190), h = a(511), l = a(134), n = a(292); qa(c, h.eS); c.prototype.Ab = function () {
                        var q = this; if (this.Nn) return Promise.resolve();
                        ub.addEventListener("keydown", function (p) { p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == l.Hv.xjb && q.toggle() }); this.data = {}; this.Cla.addListener(d.Hca.Ukb, function (p) { q.data[p.type] || (q.data[p.type] = []); var u = q.data[p.type]; u.length === q.YPb && u.shift(); u.push(p); p.type === q.e5 && q.refresh() }); this.Nn = !0; return Promise.resolve()
                    }; c.prototype.fl = function () {
                        return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') +
                            (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>')
                    }; c.prototype.Ooa = function (q, p, u) {
                        var t = q.toString(); p = '<font color="#C41A16">"' + p + '"</font>'; u = this.qb.ri(u); return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + t + '</span></td>\n                <td><span class="' +
                            this.prefix + '-display-keyvalue">' + p + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + u + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + q + '" class="' +
                            this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        '
                    }; c.prototype.cpa = function () { for (var q = '<table class="' + this.prefix + '-display-table" width="100%">' + this.fl(), p = this.data[this.e5] || [], u = 0; u < p.length; ++u)q += this.Ooa(u, p[u].name, p[u].value); return q + "</table>" }; c.prototype.OYa = function () {
                        var q = this.ee.createElement("button", h.YJ, "Clear", { "class": this.prefix + "-display-btn" });
                        q.onclick = this.bTb; return [q, this.OAb(), this.DAb()]
                    }; c.prototype.OAb = function () { var q = this.ee.createElement("select", h.YJ, Object.values(d.cCa).reduce(function (p, u) { return p + ('<option value="' + u + '">' + u + "</option>") }, ""), { "class": this.prefix + "-display-select" }); q.onchange = this.NTb; return q }; c.prototype.DAb = function () {
                        var q = this, p = this.ee.createElement("input", "margin:3px;", void 0, { id: "preventRefresh", type: "checkbox", title: "PreventRefresh" }); p.checked = this.qY; p.onchange = function () { return q.Q2b() }; var u =
                            this.ee.createElement("label", void 0, "Prevent Refresh", { "for": "preventRefresh" }), t = this.ee.createElement("div", void 0, void 0, { "class": this.prefix + "-display-div" }); t.appendChild(p); t.appendChild(u); return t
                    }; c.prototype.z8a = function () { return Promise.resolve(this.cpa()) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.oh)), r.__param(1, (0, f.l)(m.pf)), r.__param(2, (0, f.l)(g.j0))], a); b.Ljb = a
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.crypto = void 0; r = a(0); var c = a(486), f = a(11);
                    b.crypto = new r.dd(function (k) { k(c.LBa).Lj(f.Y0) })
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Vc = void 0; r = a(0); var c = a(1162), f = a(1163), k = a(1164), m = a(139), g = a(325), d = a(491), h = a(1165), l = a(1166), n = a(294), q = a(1167); b.Vc = new r.dd(function (p) { p(m.G1).to(c.hMa).aa(); p(g.bfa).to(k.JKa).aa(); p(d.cNa).to(f.bNa).aa(); p(h.Wjb).to(l.cIa).aa(); p(n.Ofa).to(q.rNa).aa() }) }, function (r, b, a) {
                    function c(l, n) { this.is = l; this.json = n; (0, k.Zo)(this, "json") } var f; Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.hMa = void 0; r = a(1); var k = a(59), m = a(32), g = a(0), d = a(25), h = a(139); c.prototype.g8a = function (l) { var n = this; return f.read(l, function (q) { return parseInt(q) }, function (q) { return n.is.Pia(q) }) }; c.prototype.gva = function (l) { var n = this; return f.read(l, function (q) { return "true" == q ? !0 : "false" == q ? !1 : void 0 }, function (q) { return n.is.wT(q) }) }; c.prototype.Mq = function (l) { var n = this; return f.read(l, function (q) { return parseInt(q) }, function (q) { return n.is.FT(q) }) }; c.prototype.YWb = function (l) {
                            var n = this; return f.read(l,
                                function (q) { return parseFloat(q) }, function (q) { return n.is.li(q) })
                        }; c.prototype.f8a = function (l, n) { return f.read(l, function (q) { return f.gFb(q, n) }, function (q) { return void 0 !== q }) }; c.prototype.ova = function (l, n) { return f.read(l, function (q) { return q }, function (q) { return n ? n.test(q) : !0 }) }; c.prototype.h8a = function (l) { var n = this, q = void 0 === q ? function () { return !0 } : q; try { return f.read(l, function (p) { return n.json.parse(decodeURIComponent(p)) }, function (p) { return n.is.tG(p) && q(p) }) } catch (p) { return new h.Ep } }; c.prototype.dj =
                            function (l, n, q) { var p = this; q = void 0 === q ? 1 : q; l = l.trim(); var u = n instanceof Function ? n : this.uAb(n, q); n = l.indexOf("["); q = l.lastIndexOf("]"); if (0 != n || q != l.length - 1) return new h.Ep; l = l.substring(n + 1, q); try { return f.tUb(l).map(function (t) { t = u(p, f.W4b(t)); if (t instanceof h.Ep) throw t; return t }) } catch (t) { return t instanceof h.Ep ? t : new h.Ep } }; c.prototype.uAb = function (l, n) { var q = this; n = void 0 === n ? 1 : n; return function (p, u) { p = f.GIb(l); return 1 < n ? q.dj(u, l, n - 1) : p(q, u) } }; c.gFb = function (l, n) {
                                for (var q in n) {
                                    var p =
                                        parseInt(q); if (n[p] == l) return p
                                }
                            }; c.read = function (l, n, q) { l = n(l); return void 0 !== l && q(l) ? l : new h.Ep }; c.GIb = function (l) { switch (l) { case "int": return function (n, q) { return n.g8a(q) }; case "bool": return function (n, q) { return n.gva(q) }; case "uint": return function (n, q) { return n.Mq(q) }; case "float": return function (n, q) { return n.YWb(q) }; case "string": return function (n, q) { return n.ova(q) }; case "object": return function (n, q) { return n.h8a(q) } } }; c.tUb = function (l) {
                                for (var n = [["[", "]"]], q = [], p = 0, u = 0, t = 0, w = [], v = {}; u <
                                    l.length; v = { tQ: v.tQ }, ++u) { v.tQ = l.charAt(u); var x = void 0; "," == v.tQ && 0 == t ? (q.push(l.substr(p, u - p)), p = u + 1) : (x = n.find(function (y) { return function (z) { return z[0] == y.tQ } }(v))) ? (++t, w.push(x)) : 0 < w.length && w[w.length - 1][1] == v.tQ && (--t, w.pop()) } if (p != u) q.push(l.substr(p, u - p)); else if (p == u && 0 < p) throw new h.Ep; return q
                            }; c.W4b = function (l) { var n = l.charAt(0); if ('"' == n || "'" == n) { if (l.charAt(l.length - 1) != n) throw new h.Ep; return l.substring(1, l.length - 1) } return l }; a = f = c; a = f = r.__decorate([(0, g.R)(), r.__param(0, (0, g.l)(d.pf)),
                            r.__param(1, (0, g.l)(m.$E))], a); b.hMa = a
                }, function (r, b, a) { function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.bNa = void 0; r = a(1); a = a(0); c.prototype.pYa = function (k) { var m = this; return k ? (k ^ 16 * Math.random() >> k / 4).toString(16) : "10000000-1000-4000-8000-100000000000".replace(/[018]/g, function (g) { return m.pYa(g) }) }; var f = c; f = r.__decorate([(0, a.R)()], f); b.bNa = f }, function (r, b, a) {
                    function c(d) { this.location = d; (0, k.Zo)(this, "location") } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.JKa = void 0;
                    r = a(1); var k = a(59), m = a(32); a = a(0); c.YX = function (d) { var h = {}; if (0 < d.length) { d = d.split("&"); for (var l = 0; l < d.length; l++) { var n = d[l].trim(), q = n.indexOf("="); 0 <= q ? h[decodeURIComponent(n.substr(0, q).replace(f.tIa, "%20"))] = decodeURIComponent(n.substr(q + 1).replace(f.tIa, "%20")) : h[n.toLowerCase()] = "" } } return h }; Ya.Object.defineProperties(c.prototype, {
                        RWb: { configurable: !0, enumerable: !0, get: function () { return this.data ? this.data : this.data = f.YX(this.X7a) } }, X7a: {
                            configurable: !0, enumerable: !0, get: function () {
                                if (void 0 !==
                                    this.wY) return this.wY; this.wY = this.location.search.substr(1); var d = this.wY.indexOf("#"); 0 <= d && (this.wY = this.X7a.substr(0, d)); return this.wY
                            }
                        }
                    }); var g = f = c; g.tIa = /[+]/g; g = f = r.__decorate([(0, a.R)(), r.__param(0, (0, a.l)(m.XFa))], g); b.JKa = g
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Wjb = "ObjectComparerSymbol" }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.cIa = void 0; r = a(1); var f = a(0), k = a(198); c.prototype.compare = function (m, g) {
                        var d = []; this.Lka(m,
                            g, "", d); return d
                    }; c.prototype.Lka = function (m, g, d, h) { var l = this; if (k.ZE.Vy(m)) k.ZE.Vy(g) && m.length === g.length ? m.forEach(function (p, u) { l.Lka(m[u], g[u], d + "[" + u + "]", h) }) : h.push({ a: m, b: g, path: d }); else if (k.ZE.tG(m) && null != m) if (k.ZE.tG(g) && null != g) { for (var n in m) this.Lka(m[n], g[n], d + "." + n, h); for (var q in g) q in m || void 0 === g[q] || h.push({ a: void 0, b: g[q], path: d + "." + q }) } else h.push({ a: m, b: g, path: d }); else m !== g && h.push({ a: m, b: g, path: d }) }; a = c; a = r.__decorate([(0, f.R)()], a); b.cIa = a
                }, function (r, b, a) {
                    function c() { }
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.rNa = void 0; r = a(1); var f = a(0), k = a(11), m = a(29), g = a(295), d = a(8); c.prototype.e_a = function () { var h = ub.devicePixelRatio || 1; return { width: this.Bha.a7b || k.Mv.width * h, height: this.Bha.$6b || k.Mv.height * h } }; Ya.Object.defineProperties(c.prototype, { Bha: { configurable: !0, enumerable: !0, get: function () { return d.ta.get(m.hy) } } }); a = c; r.__decorate([g.RW], a.prototype, "Bha", null); a = r.__decorate([(0, f.R)()], a); b.rNa = a
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.fe = void 0; r = a(0); var c = a(1169), f = a(1170), k = a(133), m = a(296), g = a(1171), d = a(1172), h = a(1174), l = a(1175), n = a(1176), q = a(514), p = a(515), u = a(161), t = a(298), w = a(1177), v = a(297), x = a(1179); b.fe = new r.dd(function (y) { y(c.$kb).to(f.AJa).aa(); y(m.Xea).to(g.AKa).aa(); y(k.MK).to(d.jNa).aa(); y(q.zKa).to(n.OGa).aa(); y(q.yKa).to(l.SFa).aa(); y(q.xKa).to(h.JFa).aa(); y(t.Rza).M2b(function () { var z; return null === (z = u.Lt.Ei) || void 0 === z ? void 0 : z.$u }); y(t.Qza).to(w.Pza).aa(); y(p.Uea).to(p.nKa); y(v.sca).to(x.XAa).aa() })
                },
                function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.$kb = "PlayPredictionDeserializerSymbol" }, function (r, b, a) { function c(m, g) { this.hb = g; this.wa = m.lb("PlayPredictionDeserializer") } Object.defineProperty(b, "__esModule", { value: !0 }); b.AJa = void 0; r = a(1); var f = a(0), k = a(7); a = a(25); c = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(a.pf))], c); b.AJa = c }, function (r, b, a) {
                    function c(u, t, w, v) {
                        this.is = w; this.kg = v; this.log = u.lb("TaskScheduler"); this.Zb = new q.Nk; this.config = t(); this.currentIteration =
                            this.DU = 0; this.uJ = []; this.paused = !1; this.uaa = []; this.WTa = []; this.iMb = this.config.ZVb || p.append; this.addEventListener = this.Zb.addListener
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.AKa = void 0; r = a(1); var f = a(0), k = a(296), m = a(7), g = a(13), d = a(132), h = a(25), l = a(16), n = a(4), q = a(74), p; (function (u) { u.prepend = "prepend"; u.append = "append"; u.sLb = "ignore" })(p || (p = {})); c.prototype.Isb = function (u) {
                        this.log.trace("adding tasks, number of tasks: " + u.length); this.paused = !1; this.uJ = this.jMb(u); this.DU = 0; this.currentIteration +=
                            1; this.Tc()
                    }; c.prototype.pause = function () { this.paused = !0 }; c.prototype.Tc = function () {
                        var u = this; if (this.DU === this.uJ.length) this.log.trace("all tasks completed"); else if (this.paused) this.log.trace("in paused state", { currentTaskIndex: this.DU, numberOfTasks: this.uJ.length }); else {
                            var t = this.zIb(), w = this.currentIteration; t.startTime = this.kg.Rb().$(n.ja); t.status = d.Ok.Fx; this.Zb.Gc(k.DK.i2b, { K: t.K, type: t.type }); this.uaa.push(t); var v = function (x) {
                                t.endTime = u.kg.Rb().$(n.ja); x(); u.WTa.push(t); u.uaa.splice(u.uaa.indexOf(t),
                                    1); u.currentIteration === w && (u.DU++, u.Tc())
                            }; t.eZb().then(function () { v(function () { t.status = d.Ok.UP; u.Qua(t, k.DK.j2b, "task succeeded") }) }).catch(function (x) { v(function () { 0 <= [d.Ok.Kh, d.Ok.bwb, d.Ok.dka].indexOf(x.status) ? (t.status = x.status, u.Qua(t, k.DK.g2b, "cancelled task")) : (t.status = d.Ok.ju, u.Qua(t, k.DK.h2b, "task failed", x)) }) })
                        }
                    }; c.prototype.zIb = function () { return this.uJ[this.DU] }; c.prototype.getStats = function (u, t, w) {
                        var v = this.WTa.map(function (A) { return A.su() }), x = this.uaa.map(function (A) { return A.su() }),
                            y = this.is.Vi(u) && this.is.Vi(t), z = {}; if (this.is.Vi(w)) return z.Dxb = v.filter(function (A) { return A.movieId === w }), z; v.concat(x).forEach(function (A) { z[A.type + "_" + A.status] = (z[A.type + "_" + A.status] | 0) + 1; var B = A.status == d.Ok.Fx ? A.startTime : A.endTime; y && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"] = (z[A.type + "_" + A.status + "_delta"] | 0) + 1) }); return z
                    }; c.prototype.Qua = function (u, t, w, v) { var x = u.su(); v ? this.log.warn(w, x, v) : this.log.trace(w, x); this.Zb.Gc(t, { K: u.K, type: u.type, reason: u.status }); u.wO(x) }; c.prototype.jMb =
                        function (u) { var t = this.uJ.filter(function (v) { return v.QUb && v.status === d.Ok.Io }), w = this.iMb; return w === p.sLb ? [].concat(u) : w === p.prepend ? t.concat(u) : u.concat(t) }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ub)), r.__param(1, (0, f.l)(g.cd)), r.__param(2, (0, f.l)(h.pf)), r.__param(3, (0, f.l)(l.bd))], a); b.AKa = a
                }, function (r, b, a) {
                    function c(y, z, A, B, E, D, F, G, C, H, L) {
                        this.M5b = A; this.hb = B; this.kg = E; this.Ne = D; this.REb = F; this.PEb = G; this.QEb = C; this.Tma = H; this.events = new x.EventEmitter; this.log = y.lb("VideoPreparer");
                        this.config = z(); this.pza = {}; this.c9 = {}; this.jc = { num_of_calls: 0, num_of_movies: 0 }; this.mg = L.mg
                    } function f(y) { return void 0 !== y } Object.defineProperty(b, "__esModule", { value: !0 }); b.jNa = void 0; r = a(1); var k = a(1173), m = a(13), g = a(0), d = a(7), h = a(83), l = a(25), n = a(296), q = a(16), p = a(4), u = a(132), t = a(297), w = a(514), v = a(298), x = a(19); c.prototype.i$a = function (y, z, A) { this.mg.setData(y, "ldl", z, A) }; c.prototype.M_a = function (y) { return this.mg.pW(y, "ldl") }; c.prototype.uTa = function (y) { this.mg.clearData(y, "ldl", void 0, !0) }; c.prototype.oN =
                        function (y, z) { return this.mg.getData(y, z) }; c.prototype.GYa = function (y) { var z = this.mg.getData(y, "ldl"); this.mg.clearData(y, "ldl", void 0, !0); return z }; c.prototype.sdb = function (y) { return this.wab === y || this.$Ua === y }; c.prototype.PO = function (y, z) {
                            var A = this; y = y.map(function (D) { D.Nb = D.Nb || { N3: { xec: !1 }, Kk: 0 }; A.hb.SC(D.Nb.Kk) || (D.Nb.Kk = 0); A.hb.SC(D.Ud) && (D.Nb.Z = D.Ud); return D }); var B = y.map(function (D) { return A.LAb(D, z) }).reduce(function (D, F) { return D.concat(F) }, []), E = B.map(function (D) { return D.K + "-" + D.type });
                            this.log.trace("prepare tasks", E); this.Ne.Isb(B); this.jc.num_of_calls++; this.jc.num_of_movies += y.length
                        }; c.prototype.getStats = function (y, z, A) { return Object.assign(Object.assign({}, A && this.c9[A] || {}), { uJ: this.Ne.getStats(y, z, A), cache: this.mg.getStats(y, z), gGb: Object.assign(Object.assign({}, this.jc), this.Tma.getStats()) }) }; c.prototype.oKb = function (y) { this.wab = y }; c.prototype.nKb = function (y) {
                            this.log.trace("task scheduler paused on playback created"); this.Ne.pause(); this.config.VBb && this.mg.n4(y, ["manifest"]);
                            this.config.UBb && this.mg.n4(y, ["ldl"]); this.config.QBb && this.mg.clearData(y, "manifest"); this.Tma.F8a(y); this.$Ua = y
                        }; c.prototype.J_a = function () { this.log.info("track changed, clearing all manifests from cache"); this.mg.n4("none", ["manifest"]) }; c.prototype.mKb = function (y) {
                            var z = this; this.config.RBb ? this.mg.clearData(y, "manifest") : this.mg.pW(y, "manifest") && this.mg.getData(y, "manifest").then(function (A) { A.Gb.isSupplemental || z.mg.clearData(y, "manifest") }, function (A) {
                                z.log.warn("Failed to get manifest for movieId [" +
                                    y + "] from cacheManager.", A)
                            }); this.Bka(y); this.wab = this.$Ua = void 0
                        }; c.prototype.EFb = function () { this.mg.n4("none", ["manifest", "ldl"]) }; c.prototype.Bka = function (y) { delete this.pza[y] }; c.prototype.Vz = function (y) { return this.pza[y] }; c.prototype.ZUa = function (y) { return this.pza[y] = this.M5b.nz() }; c.prototype.S$a = function (y, z) { if (this.M_a(y)) return u.Ok.Kh; if (!z.yH) return u.Ok.dka }; c.prototype.LAb = function (y, z) {
                            y.Wd && y.Nb && (y.Nb.Wd = y.Wd); this.g4b(y.K, y.zm); var A = this.qAb(y, z), B = this.mAb(y, null === A || void 0 ===
                                A ? void 0 : A.id, z); y = this.sAb(y, null === A || void 0 === A ? void 0 : A.id, z); return [A, B, y].filter(f)
                        }; c.prototype.qAb = function (y, z) { if (this.mg.pW(y.K, "manifest")) this.log.trace("manifest exists in cache for " + y.K); else return new k.YR("manifest", this.kg.Rb().$(p.ja), !!y.Nb.Xh, void 0, z, this.REb, y, this) }; c.prototype.mAb = function (y, z, A) {
                            if (this.config.fV) if (this.mg.pW(y.K, "ldl")) !1; else return this.config.qp ? new k.YR("ldl", this.kg.Rb().$(p.ja), !!y.Nb.Xh, z, A, this.PEb, y, this) : new k.YR("ldl", this.kg.Rb().$(p.ja),
                                !!y.Nb.Xh, z, A, this.QEb, y, this)
                        }; c.prototype.sAb = function (y, z, A) { if (this.config.HWa) return new k.YR("getMedia", this.kg.Rb().$(p.ja), !!y.Nb.Xh, z, A, this.Tma, y, this) }; c.prototype.g4b = function (y, z) { this.c9[y] || (this.c9[y] = { l$: 0, zm: 0 }); y = this.c9[y]; y.l$ = (void 0 !== y ? void 0 !== y.l$ ? y.l$ : 0 : 0) + 1; y.zm = z }; a = c; a = r.__decorate([(0, g.R)(), r.__param(0, (0, g.l)(d.ub)), r.__param(1, (0, g.l)(m.cd)), r.__param(2, (0, g.l)(h.$x)), r.__param(3, (0, g.l)(l.pf)), r.__param(4, (0, g.l)(q.bd)), r.__param(5, (0, g.l)(n.Xea)), r.__param(6, (0,
                            g.l)(w.zKa)), r.__param(7, (0, g.l)(w.yKa)), r.__param(8, (0, g.l)(w.xKa)), r.__param(9, (0, g.l)(v.Qza)), r.__param(10, (0, g.l)(t.sca))], a); b.jNa = a
                }, function (r, b, a) {
                    function c(m, g, d, h, l, n, q, p) { this.type = m; this.Io = g; this.QUb = void 0 === d ? !1 : d; this.notify = l; this.SEb = n; this.QO = q; this.fe = p; this.id = ++k; this.status = f.Ok.Io } Object.defineProperty(b, "__esModule", { value: !0 }); b.YR = void 0; var f = a(132), k = 0; c.prototype.su = function () {
                        var m = { id: this.id, type: this.type, created: this.Io, status: this.status, movieId: this.K }; this.startTime &&
                            (m.startTime = this.startTime); this.endTime && this.startTime && (m.duration = this.endTime - this.startTime, m.endTime = this.endTime); return m
                    }; c.prototype.wO = function (m) { this.notify && this.notify(m) }; c.prototype.eZb = function () { return this.SEb.fetch(this.QO, this.fe) }; Ya.Object.defineProperties(c.prototype, { K: { configurable: !0, enumerable: !0, get: function () { return this.QO.K } }, priority: { configurable: !0, enumerable: !0, get: function () { return this.QO.priority } } }); b.YR = c
                }, function (r, b, a) {
                    function c(z, A, B, E, D, F, G, C, H, L) {
                        this.us =
                            B; this.rZ = E; this.ic = D; this.Ba = F; this.ya = G; this.ZN = C; this.ZUb = H; this.wk = L; this.log = z.lb("VideoPreparer"); this.config = A()
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.JFa = void 0; r = a(1); var f = a(0), k = a(7), m = a(13), g = a(132), d = a(63), h = a(60), l = a(29), n = a(155), q = a(191), p = a(41), u = a(4), t = a(35), w = a(16), v = a(192), x = a(203); a = a(120); c.prototype.fetch = function (z, A) {
                        var B = this; this.log.trace("Fetching LDL", (0, v.jK)(z)); this.K = z.K; this.fe = A; return A.oN(z.K, "ldl").catch(function () {
                            B.log.trace("Requesting a new license",
                                (0, v.jK)(z)); return B.wk.k6(z.K).then(function (E) {
                                    B.pa = E; B.Gb = E.Gb; if (E = B.fe.S$a(z.K, B.Gb)) throw { status: E }; E = B.Gb.yB[0].bv; var D = B.Gb.yB[0].jma, F = (E ? E : [D]).map(function (G) { return B.ic.decode(G.bytes) }); B.tf = B.PG({ uWa: B.log, Dma: function (G) { return B.handleError(G) }, Ld: void 0, gta: function () { }, Ba: { getTime: function () { return B.ya.Rb().$(u.ja) }, tcc: function () { return B.Ba.Ie.$(u.Zl) } } }); A.i$a(z.K, B.tf); return B.tf.create(B.config.Xo).then(function () { return B.tf.Rh(h.ei.Bp, F, !0) }).then(function () { return B.tf }).catch(function (G) {
                                        B.handleError(G);
                                        throw G;
                                    })
                                }).catch(function (E) { B.log.warn("Manifest not available for ldl request", E); if (void 0 !== E.status) throw E; throw { status: g.Ok.Kh }; })
                        })
                    }; c.prototype.handleError = function (z) { this.log.warn("ldl is now invalid", z); this.tf.close(); this.fe.uTa(this.K); this.fe.Bka(this.K) }; c.prototype.PG = function (z) {
                        var A = this; if (!this.us.hK || !this.us.dK) { var B = this.ZUb(); this.us.hK = B.dc; this.us.dK = B.request } B = new this.us.dK(z.uWa, function (E) {
                            var D = []; E.yn.forEach(function (F) { D.push({ sessionId: F.sessionId, dataBase64: A.ic.encode(F.data) }) });
                            E = { yn: D, h5: [A.Gb.sm], $f: d.yp.wUa(E.$f), zi: A.Gb.zi, da: A.fe.ZUa(A.K), uk: A.pa.uk }; A.log.trace("xid created ", { MovieId: A.K, xid: E.da }); return A.ZN.Qy(E)
                        }, void 0, { qk: !1, kA: !1 }); return this.us.hK(z.uWa, z.Ld, { qk: !1, kA: !1, $A: B, N7a: this.config.O7a, ba: void 0, iQ: this.config.CWa, onerror: z.Dma, gta: z.gta, Ba: z.Ba, Z9: !1, ZRa: this.rZ.B4([]), jdb: this.rZ.F4([]), xW: this.config.xW })
                    }; var y = c; y = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.cd)), r.__param(2, (0, f.l)(l.hy)), r.__param(3, (0, f.l)(n.cS)),
                    r.__param(4, (0, f.l)(p.kj)), r.__param(5, (0, f.l)(t.ih)), r.__param(6, (0, f.l)(w.bd)), r.__param(7, (0, f.l)(q.AR)), r.__param(8, (0, f.l)(x.Hea)), r.__param(9, (0, f.l)(a.gF))], y); b.JFa = y
                }, function (r, b, a) {
                    function c(u, t, w, v, x, y) { this.ic = w; this.TCb = v; this.hO = x; this.wk = y; this.log = u.lb("VideoPreparer") } Object.defineProperty(b, "__esModule", { value: !0 }); b.SFa = void 0; r = a(1); var f = a(0), k = a(7), m = a(13), g = a(60), d = a(41), h = a(122), l = a(138), n = a(132), q = a(192); a = a(120); c.prototype.fetch = function (u, t) {
                        var w = this; this.log.trace("Fetching LDL",
                            (0, q.jK)(u)); this.K = u.K; this.fe = t; return t.oN(u.K, "ldl").then(function (v) { return v.gaa }).catch(function () {
                                w.log.trace("Requesting a new license", (0, q.jK)(u)); return w.wk.k6(u.K).then(function (v) {
                                    w.Gb = v.Gb; if (t.M_a(u.K)) return t.oN(u.K, "ldl").then(function (B) { return B.gaa }); var x = w.fe.S$a(u.K, w.Gb); if (x) throw { status: x }; var y = w.Gb.yB[0].bv; x = w.Gb.yB[0].jma; var z = (y ? y : [x]).map(function (B) { return w.ic.decode(B.bytes) }), A = w.TCb().then(function (B) {
                                        var E = {
                                            type: g.ei.Bp, initData: z, context: { bv: y }, $i: {
                                                K: u.K,
                                                da: t.ZUa(u.K), zi: w.Gb.zi, sm: w.Gb.sm, uk: v.uk
                                            }
                                        }; return B.Rh(E, w.hO())
                                    }).catch(function (B) { w.handleError("Unable to prepare an EME session.", B); throw B; }); w.fe.i$a(u.K, { gaa: A, source: "videopreparer" }, function () { if (!w.fe.sdb(u.K)) try { A.then(function (B) { return B.close() }).catch(function (B) { w.handleError("Unable to cleanup LDL session, Unable to get the session.", B) }) } catch (B) { w.handleError("Unable to cleanup LDL session, unexpected exception.", B) } }); return A
                                }).catch(function (v) {
                                    w.log.warn("Manifest not available for ldl request",
                                        v); if (void 0 !== v.status) throw v; throw { status: n.Ok.Kh };
                                })
                            })
                    }; c.prototype.handleError = function (u, t) { this.log.warn(u + " LDL is now invalid.", t); this.fe.uTa(this.K); this.fe.Bka(this.K) }; var p = c; p = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.cd)), r.__param(2, (0, f.l)(d.kj)), r.__param(3, (0, f.l)(h.n0)), r.__param(4, (0, f.l)(l.IR)), r.__param(5, (0, f.l)(a.gF))], p); b.SFa = p
                }, function (r, b, a) {
                    function c(u, t, w, v, x) {
                        this.dX = w; this.kg = v; this.wk = x; this.log = u.lb("VideoPreparer"); this.config =
                            t()
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.OGa = void 0; r = a(1); var f = a(13), k = a(0), m = a(7), g = a(16), d = a(4), h = a(189), l = a(105), n = a(192), q = a(120), p = a(60); c.prototype.fetch = function (u, t) {
                        var w; this.log.trace("Fetching manifest", (0, n.jK)(u)); var v = u.Nb; this.config.Wrb && v && v.pa && !this.wk.vpa(u.K) && (!("clientGenesis" in v.pa && v.pa.clientGenesis) || Date.now() - v.pa.clientGenesis < this.config.y7a) && (v = this.dX.create(v.pa)) && (v.LI = this.kg.Rb().$(d.ja), v.lP = this.kg.Rb().$(d.ja), this.wk.AZ(u.K, v)); return this.wk.sN({
                            S: u.K,
                            fb: null !== (w = u.Nb) && void 0 !== w ? w : {}, pu: l.bn.zF, $f: p.ei.Bp
                        }, !0, function () { t.events.emit("manifestRemovedFromCache", { target: t, type: "manifestRemovedFromCache", S: u.K }) })
                    }; a = c; a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(m.ub)), r.__param(1, (0, k.l)(f.cd)), r.__param(2, (0, k.l)(h.R0)), r.__param(3, (0, k.l)(g.bd)), r.__param(4, (0, k.l)(q.gF))], a); b.OGa = a
                }, function (r, b, a) {
                    function c() { var y = this; this.promise = new Promise(function (z, A) { y.resolve = z; y.reject = A }) } function f(y, z, A, B, E) {
                        var D = this; this.uua = A; this.XVb =
                            B; this.wk = E; this.u_ = []; this.PA = new Map; this.yTb = function (F) { var G; F = F.wishListItem.key.S; if (D.PA.has(F)) { var C = D.PA.get(F); F = C.QO; C = C.Pka; null === (G = C.resolve) || void 0 === G ? void 0 : G.call(C, F) } }; this.L5a = function (F) { !F.target.sdb(F.S) && D.PA.has(F.S) && (D.F8a(F.S), D.L$a(D.u_), D.jj.has({ S: F.S }) && (D.jj.Am(F.S).iu = !0)) }; this.wa = y.lb("VideoPreparer"); this.config = z(); this.jj = new v.Kfa
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Pza = void 0; r = a(1); var k = a(7); a(192); var m = a(161), g = a(43), d = a(13), h = a(14),
                        l = a(105), n = a(298), q = a(0), p = a(515), u = a(19), t = a(120), w = a(60), v = a(516), x = a(1178); f.prototype.fetch = function (y, z) { if (-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.L5a)) z.events.on("manifestRemovedFromCache", this.L5a); !1; this.L$a(this.vxb(this.UAb(y, z))); return this.PA.get(y.K).Pka.promise }; f.prototype.getStats = function () { return this.$u.getStats() }; f.prototype.vxb = function (y) {
                            return [y].concat(la(this.u_.filter(function (z) { return z.key.S !== y.key.S }))).slice(0, this.config.VVb).map(this.config.WVb ?
                                function (z, A) { return Object.assign({}, z, { priority: A }) } : function (z) { return z })
                        }; f.prototype.sN = function (y) { var z; return this.wk.sN({ S: y.K, pu: l.bn.zF, $f: w.ei.Bp, fb: null !== (z = y.Nb) && void 0 !== z ? z : {} }).then(function (A) { return A.Gb }) }; f.prototype.UAb = function (y, z) {
                            var A, B, E = new c; if (this.PA.has(y.K)) { var D = this.PA.get(y.K), F = D.QO; if (F.K === y.K && F.Wd === y.Wd) var G = D.G5b.key; this.$u.getStats().contents.some(function (C) { return C.id === y.K }) && (E = D.Pka) } D = m.Lt.gf.Xt((0, h.Tka)(y.Wd)); G || (G = { S: y.K, config: D }); F = { S: y.K };
                            this.jj.has(F) || this.jj.store(F, this.TAb(y, z, D)); z = { key: G, cdc: !1, priority: y.priority, S3: g.O.Na(null !== (B = null === (A = y.Nb) || void 0 === A ? void 0 : A.Z) && void 0 !== B ? B : 0), jj: this.jj }; this.PA.set(y.K, { G5b: z, QO: y, Pka: E }); return z
                        }; f.prototype.TAb = function (y, z, A) {
                            var B = this, E = y.K, D; return {
                                get da() { return z.Vz(E) }, iu: !1, events: new u.EventEmitter, cka: function () { }, get ar() { D || (D = B.sN(y).then(function (F) { return { pa: F, Ri: F.xpa && !F.yH, config: A, Y$a: {} } })); return D }, S: E, Tab: !1, equals: function (F) {
                                    var G = z.Vz(E); return F.S ===
                                        E && (!F.da || !G || G === F.da)
                                }
                            }
                        }; f.prototype.r$a = function (y) { this.u_ = y }; f.prototype.L$a = function (y) { this.r$a(y); this.$u.K$a(this.u_) }; f.prototype.F8a = function (y) { this.PA.has(y) && (this.r$a(this.u_.filter(function (z) { return z.key.S !== y })), this.PA.delete(y)) }; Ya.Object.defineProperties(f.prototype, { $u: { configurable: !0, enumerable: !0, get: function () { this.Gy || (this.Gy = this.XVb(), this.Gy.Twa(this.uua).B$a(new x.nFa).h$a({ EH: this.config.UVb }), this.Gy.events.on("prefetchComplete", this.yTb)); return this.Gy } } }); a =
                            f; a = r.__decorate([(0, q.R)(), r.__param(0, (0, q.l)(k.ub)), r.__param(1, (0, q.l)(d.cd)), r.__param(2, (0, q.l)(p.Uea)), r.__param(3, (0, q.l)(n.Rza)), r.__param(4, (0, q.l)(t.gF))], a); b.Pza = a
                }, function (r, b) {
                    function a() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.nFa = void 0; a.prototype.HXa = function (c, f) { var k; return null !== (k = this.hFb(c, f)) && void 0 !== k ? k : this.kFb(c, f) }; a.prototype.hFb = function (c, f) { var k = this, m = f.na; return c.find(function (g) { var d; return k.Q4(m, null === (d = g.na) || void 0 === d ? void 0 : d.na) }) };
                    a.prototype.kFb = function (c, f) { var k = f.na.ue, m = f.na.U[k]; return c.find(function (g) { var d; g = null === (d = g.na) || void 0 === d ? void 0 : d.na; g = (d = null === g || void 0 === g ? void 0 : g.ue) && (null === g || void 0 === g ? void 0 : g.U[d]) || void 0; return k === d && m.S === (null === g || void 0 === g ? void 0 : g.S) && m.Aa === (null === g || void 0 === g ? void 0 : g.Aa) }) }; a.prototype.Q4 = function (c, f) {
                        var k = this; return c === f ? !0 : "object" !== typeof c || "object" !== typeof f ? c === f : Object.keys(c).length === Object.keys(f).length && Object.keys(c).every(function (m) {
                            return k.Q4(c[m],
                                f[m])
                        })
                    }; b.nFa = a
                }, function (r, b, a) { function c(l, n, q) { var p = this; this.kg = n; n = q(); this.mg = new h({ log: l.lb("CacheManager"), Ba: { getTime: function () { return p.kg.Rb().$(g.ja) } }, Promise: Promise, qk: !1, wvb: n.bWb, vvb: n.$Vb, uEb: n.y7a, tEb: n.aWb }) } Object.defineProperty(b, "__esModule", { value: !0 }); b.XAa = void 0; r = a(1); var f = a(0), k = a(16), m = a(7), g = a(4), d = a(13), h = a(1180); c = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ub)), r.__param(1, (0, f.l)(k.bd)), r.__param(2, (0, f.l)(d.cd))], c); b.XAa = c }, function (r, b, a) {
                    function c() { return Object.create(null) }
                    function f(d) { this.log = d.log; this.Ba = d.Ba; this.SD = c(); this.Promise = d.Promise; this.lz = d.lz; this.wya = d.wya; this.qk = d.qk || !1; this.Lw = c(); this.FC = c(); this.zG = c(); this.jrb(d); d.lq && (this.lq = d.lq) } function k(d) { return "undefined" !== typeof d } function m(d) { for (var h = 0, l = arguments.length; h < l;) { var n = arguments[h++]; if (k(n)) return n } } a(1181); var g = a(1182); f.prototype.jrb = function (d) {
                        this.Lw.manifest = m(d.uEb, g.Lw.pa); this.Lw.ldl = m(d.tEb, g.Lw.SW); this.Lw.metadata = m(d.dcc, g.Lw.Hc); this.FC.manifest = m(d.wvb, g.FC.pa);
                        this.FC.ldl = m(d.vvb, g.FC.SW); this.FC.metadata = m(d.ibc, g.FC.Hc); this.zG.manifest = m(d.gbc, g.zG.pa); this.zG.ldl = m(d.fbc, g.zG.SW); this.zG.metadata = m(d.hbc, g.zG.Hc)
                    }; f.prototype.pW = function (d, h) { this.cu("undefined" !== typeof d); this.cu("undefined" !== typeof h); return !!this.lOa(d, h, void 0).value }; f.prototype.lOa = function (d, h, l) {
                        var n = { value: null, reason: "", log: "" }, q = this.SD[h]; if ("undefined" === typeof q) return n.log = "cache miss: no data exists for field:" + h, n.reason = "unavailable", n; "undefined" === typeof q[d] ?
                            (n.log = "cache miss: no data exists for movieId:" + d, n.reason = "unavailable") : (l = q[d][l ? l : "DEFAULTCAPS"]) && l.value ? this.D7(h, l.creationTime) ? (n.log = "cache miss: " + h + " data expired for movieId:" + d, n.reason = "expired") : (n.log = this.Promise && l.value instanceof this.Promise ? "cache hit: " + h + " request in flight for movieId:" + d : "cache hit: " + h + " available for movieId:" + d, n.value = l.value) : (n.log = "cache miss: " + h + " data not available for movieId:" + d, n.reason = "unavailable"); return n
                    }; f.prototype.getData = function (d,
                        h, l) { this.cu("undefined" !== typeof d); this.cu("undefined" !== typeof h); d = this.lOa(d, h, l); this.log.trace(d.log); return d.value ? this.Promise ? d.value instanceof this.Promise ? d.value : Promise.resolve(d.value) : this.wya ? JSON.parse(this.wya(d.value, "gzip", !1)) : d.value : this.Promise ? Promise.reject(d.reason) : d.reason }; f.prototype.setData = function (d, h, l, n, q) {
                            this.cu("undefined" !== typeof d); this.cu("undefined" !== typeof h); var p = this.SD, u = q ? q : "DEFAULTCAPS"; p[h] || (p[h] = c(), Object.defineProperty(p[h], "numEntries",
                                { enumerable: !1, configurable: !0, writable: !0, value: 0 }), Object.defineProperty(p[h], "size", { enumerable: !1, configurable: !0, writable: !0, value: 0 })); l = this.lz ? this.lz(JSON.stringify(l), "gzip", !0) : l; p = p[h]; this.Tob(d, h, u, p); var t = this; n = { creationTime: this.Ba.getTime(), value: l, size: 0, type: h, Wla: n, sEb: setTimeout(function () { t.clearData(d, h, u, !1, "expired") }, this.Lw[h] + 1) }; p[d] = p[d] || c(); p[d][u] = p[d][u] || c(); p[d][u] = n; p.size += 0; p.numEntries++; this.lq && this.lq.emit("addedCacheItem", n); return n
                        }; f.prototype.Tob =
                            function (d, h, l, n) {
                                var q = this, p = n.numEntries, u = this.FC[h], t = n[d] && n[d][l]; if (t && t.value) var w = d, v = "promise_or_expired"; else if (p >= u) { var x, y = Number.POSITIVE_INFINITY, z; Object.keys(n).every(function (A) { var B = n[A] && n[A][l]; B && B.value && q.D7(h, B.creationTime) && (z = A); B && B.value && B.creationTime < y && (y = B.creationTime, x = A); return !0 }); w = z || x; v = "cache_full" } this.qk && this.log.debug("makespace ", { maxCount: u, currentCount: n.numEntries, field: h, movieId: d, movieToBeRemoved: w }); w && (q.clearData(w, h, l, void 0, v), this.log.debug("removed from cache: ",
                                    w, h))
                            }; f.prototype.n4 = function (d, h) { var l = this; l.cu("undefined" !== typeof d); var n = d + ""; h.forEach(function (q) { var p = l.SD[q]; p && Object.keys(p).forEach(function (u) { u != n && l.clearData(u, q, void 0, void 0, "clear_all") }) }) }; f.prototype.clearData = function (d, h, l, n, q) {
                                this.cu("undefined" !== typeof d); this.cu("undefined" !== typeof h); var p = this.SD[h]; h = p ? p[d] : void 0; l = l ? l : "DEFAULTCAPS"; if (h && h[l]) {
                                    p.size -= h[l].size; p.numEntries--; if (p = h && h[l]) clearTimeout(p.sEb), h[l] = void 0, !n && p.Wla && p.Wla(); this.lq && (d = {
                                        creationTime: p.creationTime,
                                        destroyFn: p.Wla, size: p.size, type: p.type, value: p.value, reason: q, movieId: d
                                    }, this.lq.emit("deletedCacheItem", d))
                                }
                            }; f.prototype.flush = function (d) { this.cu("undefined" !== typeof d); var h = this.SD; h[d] = c(); h[d].numEntries = 0; h[d].size = 0 }; f.prototype.sTa = function () { this.cu(!1); var d = this, h = this.SD; h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function (l) { var n = h[void 0][l].DEFAULTCAPS; d.Ba.getTime() - n.creationTime > d.Lw[void 0] && this.clearData(l, void 0, "DEFAULTCAPS", void 0, "clean_up") }) }; f.prototype.D7 =
                                function (d, h) { return this.Ba.getTime() - h > this.Lw[d] }; f.prototype.getStats = function (d, h, l) { var n = {}, q = this, p = q.SD, u = k(d) && k(h), t = l || "DEFAULTCAPS"; Object.keys(p).forEach(function (w) { var v = Object.keys(p[w]), x = p[w]; v.forEach(function (y) { !(y = x && x[y] && x[y][t]) || !k(y.value) || y.value instanceof this.Promise || (n[w] = (n[w] | 0) + 1, q.D7(y.type, y.creationTime) && (n[w + "_expired"] = (n[w + "_expired"] | 0) + 1), u && y.creationTime >= d && y.creationTime < h && (n[w + "_delta"] = (n[w + "_delta"] | 0) + 1)) }) }); return n }; f.prototype.getState = function (d) {
                                    var h =
                                        [], l = this, n = l.SD, q = d || "DEFAULTCAPS"; Object.keys(n).forEach(function (p) { var u = Object.keys(n[p]), t = n[p]; u.forEach(function (w) { var v = t && t[w] && t[w][q]; if (v && k(v.value)) { var x = l.D7(v.type, v.creationTime) ? "expired" : v.value instanceof this.Promise ? "loading" : "cached"; h.push({ movieId: w, state: x, type: p, size: v.size }) } }) }); return h
                                }; f.prototype.cu = function (d) { if (!d && (this.log.error("Debug Assert Failed", void 0), this.qk)) throw Error("Debug Assert Failed "); }; r.exports = f
                }, function (r) {
                    function b(a) {
                        var c = []; return function m(k) {
                            if (k &&
                                "object" === typeof k) { if (-1 !== c.indexOf(k)) return !0; c.push(k); for (var g in k) if (k.hasOwnProperty(g) && m(k[g])) return !0 } return !1
                        }(a)
                    } r.exports = function (a, c) { if (c && b(a)) return -1; c = []; a = [a]; for (var f = 0; a.length;) { var k = a.pop(); if ("boolean" === typeof k) f += 4; else if ("string" === typeof k) f += 2 * k.length; else if ("number" === typeof k) f += 8; else if ("object" === typeof k && -1 === c.indexOf(k)) { c.push(k); for (var m in k) a.push(k[m]) } } return f }
                }, function (r) {
                    r.exports = {
                        Lw: { pa: 12E5, SW: 9E5, Hc: 12E5 }, FC: { pa: 10, SW: 10, Hc: 10 }, zG: {
                            pa: 10240,
                            SW: 10240, Hc: 10240
                        }
                    }
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Ma = void 0; r = a(0); var c = a(193), f = a(1184), k = a(517), m = a(1185), g = a(518), d = a(1186), h = a(1187), l = a(519), n = a(1188); b.Ma = new r.dd(function (q) { q(c.Mca).to(f.tCa).aa(); q(k.dHa).to(m.cHa).aa(); q(g.gIa).to(d.fIa).aa(); q(g.kHa).to(h.jHa).aa(); q(l.iHa).to(n.hHa).aa() }) }, function (r, b, a) {
                    function c(d) {
                        function h(l, n) {
                            this.J = l; this.am = n; this.G5 = !1; this.emit = g.prototype.emit; this.addListener = g.prototype.addListener; this.on = g.prototype.on;
                            this.once = g.prototype.once; this.removeListener = g.prototype.removeListener; this.removeAllListeners = g.prototype.removeAllListeners; this.listeners = g.prototype.listeners; this.listenerCount = g.prototype.listenerCount; g.call(this); this.Fg = d.lb("DownloadTrack")
                        } h.prototype.hq = function () { !1; this.rT = void 0; this.emit("destroyed") }; h.prototype.toString = function () { return "id:" + this.rT + " config: " + JSON.stringify(this.J) }; h.prototype.toJSON = function () { return "Download Track id:" + this.rT + " config: " + JSON.stringify(this.J) };
                        h.prototype.JW = function () { return void 0 === this.rT ? !1 : !0 }; h.prototype.A$ = function (l) { this.J.connections !== l.connections && (this.J = l) }; h.prototype.Fu = function () { return 1 < this.J.connections ? !0 : !1 }; Ya.Object.defineProperties(h.prototype, {
                            trackId: { configurable: !0, enumerable: !0, get: function () { return this.rT } }, Io: { configurable: !0, enumerable: !0, get: function () { return void 0 === this.rT } }, config: { configurable: !0, enumerable: !0, get: function () { return this.J } }, a$: { configurable: !0, enumerable: !0, get: function () { return this.Fg } },
                            $H: { configurable: !0, enumerable: !0, get: function () { return this.am.$H } }
                        }); this.bK = Object.assign(h, new m.uCa)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.tCa = void 0; r = a(1); var f = a(0), k = a(7), m = a(193), g = a(116).EventEmitter; c = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub))], c); b.tCa = c
                }, function (r, b, a) {
                    function c(u, t, w, v, x, y) { this.ZL = u; this.lf = w; this.hb = v; this.ya = x; this.config = y; this.log = t.lb("MediaHttp") } Object.defineProperty(b, "__esModule", { value: !0 }); b.cHa = void 0; r = a(1); var f = a(194), k = a(104),
                        m = a(3), g = a(7), d = a(0), h = a(91), l = a(25), n = a(16), q = a(4); a = a(13); c.prototype.Nz = function () { return this.ya.Rb().$(q.ja) }; c.prototype.q5a = function (u, t) { u.fSb({ mediaRequest: u, timestamp: t }) }; c.prototype.K5a = function (u) { var t = u.mediaRequest.CA; t.readyState = f.xc.Xc.ky; u = u.connect ? u : { timestamp: this.Nz(), connect: !1 }; u.mediaRequest = t; u.readyState = t.readyState; t.fta(u) }; c.prototype.D9 = function (u) { this.q5a(u.mediaRequest.CA, u.timestamp) }; c.prototype.F9 = function (u) {
                            var t = u.mediaRequest.CA, w = u.bytes; "undefined" ===
                                typeof t ? !1 : (t.readyState === f.xc.Xc.ny && this.K5a(u), this.hb.li(w) && (u.mediaRequest = t, u.timestamp = this.Nz(), w > t.bytesReceived && (u.newBytes = w - t.bytesReceived, u.bytesLoaded = w, t.jSb(u))))
                        }; c.prototype.sI = function (u) {
                            var t = u.mediaRequest, w = u.errorcode, v = u.httpcode, x = f.xc.q0; if ("undefined" === typeof t) !1; else if (t = t.CA, "undefined" === typeof t) !1; else if (t.readyState !== f.xc.Xc.iK) if (w === m.M.JB) t.readyState = f.xc.Xc.xQ, u.mediaRequest = t, u.readyState = t.readyState, t.bSb(u); else {
                                t.readyState = f.xc.Xc.iK; switch (w) {
                                    case m.M.uR: v =
                                        x.OAa; break; case m.M.kda: v = x.hda; break; case m.M.rR: v = 400 < v && 500 > v ? x.jda : 500 <= v ? x.kEa : x.hda; break; case m.M.sR: v = x.ida; break; case m.M.qR: v = x.PAa; break; case m.M.tR: v = x.J0; break; case m.M.XE: v = x.J0; break; case m.M.jEa: v = x.iEa; break; case m.M.fEa: v = x.jda; break; case m.M.Pgb: v = x.ida; break; default: v = x.J0
                                }u.mediaRequest = t; u.readyState = t.readyState; u.errorcode = v; u.nativecode = w; t.hta(u)
                            }
                        }; c.prototype.yta = function (u, t) {
                            var w = t.request.CA; if (w) if (t.ga) {
                                if (!1, u.j && w.readyState !== f.xc.Xc.DONE) {
                                    switch (w.readyState) {
                                        case f.xc.Xc.xQ: !1;
                                            return; case f.xc.Xc.iK: !1; break; case f.xc.Xc.ky: break; case f.xc.Xc.ny: this.K5a({ mediaRequest: t.request }); break; default: !1
                                    }w.readyState = f.xc.Xc.DONE; if (!w.gd) { var v = { mediaRequest: w, readyState: w.readyState, timestamp: this.Nz(), cadmiumResponse: t }; u.j.gya += 1; w.IJb(); w.lNb() && (u.j.awa += 1, t.Fm.Ci = Math.ceil(w.jna), t.Fm.jp = Math.ceil(w.IG), t.Fm.Oq = Math.floor(w.HD)); w.v4 = v; w.wO(v) }
                                }
                            } else !1, w.readyState === f.xc.Xc.xQ ? !1 : (u = { mediaRequest: t.request, timestamp: this.Nz(), errorcode: t.ma, httpcode: t.mk }, this.sI(u))
                        };
                    c.prototype.download = function (u, t) { var w = this; t = this.lf.download(u, t); if (u.CA) { var v = u.CA; -1 < [f.xc.Xc.OPENED, f.xc.Xc.iK].indexOf(v.readyState) && (v.readyState = f.xc.Xc.ny, this.config().G8 ? t.t_b(function (x) { w.D9(x) }) : this.q5a(v, this.Nz())) } t.ria(function (x) { w.yta(u, x) }); t.z_b(function (x) { w.F9(x) }); t.k_b(function (x) { w.sI(x) }); return t }; var p = c; p = r.__decorate([(0, d.R)(), r.__param(0, (0, d.l)(k.zQ)), r.__param(1, (0, d.l)(g.ub)), r.__param(2, (0, d.l)(h.ay)), r.__param(3, (0, d.l)(l.pf)), r.__param(4, (0, d.l)(n.bd)),
                    r.__param(5, (0, d.l)(a.cd))], p); b.cHa = p
                }, function (r, b, a) { function c(g, d) { this.lf = d; this.log = g.lb("OpenConnectSideChannel") } Object.defineProperty(b, "__esModule", { value: !0 }); b.fIa = void 0; r = a(1); var f = a(0), k = a(7); a = a(91); c.prototype.FV = function (g, d, h) { g = { url: g.url, uZb: h }; !1; this.lf.s0b(g) }; c.prototype.pG = function (g) { try { g.Spa() } catch (d) { this.log.warn("exception aborting request") } }; var m = c; m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(a.ay))], m); b.fIa = m }, function (r, b, a) {
                    function c(t,
                        w, v, x, y, z) { this.ya = t; this.Ur = w; this.config = v; this.lf = y; this.DQb = z; this.log = x.lb("MediaRequestDownloader") } Object.defineProperty(b, "__esModule", { value: !0 }); b.jHa = void 0; r = a(1); var f = a(43), k = a(0), m = a(7), g = a(91), d = a(517), h = a(75), l = a(194), n = a(16), q = a(4), p = a(34); a = a(13); c.prototype.FV = function (t, w, v) {
                            function x() { t.removeEventListener(l.xc.Oe.vF, x); t.mV ? t.mV++ : t.mV = 1; t.mV >= y.config().Rma.length && (t.mV = y.config().Rma.length - 1); setTimeout(function () { y.FV(t, w, v) }, y.config().Rma[t.mV]) } var y = this; t.ddc = !0;
                            var z = this.DQb.download({ url: t.url, responseType: this.lf.qlb.zeb, withCredentials: !1, UC: t.mediaType === f.Yb.Wa.$b ? "audio" : "video", offset: w.start, length: t.eh, track: { type: t.mediaType === f.Yb.Wa.$b ? h.gi.audio : h.gi.video }, stream: { Dc: t.Ta, bitrate: t.bitrate }, uc: t.Md, CA: t, paa: v, Ws: this.Ur.Ws }, function (B) {
                                B.ga && t.readyState !== l.xc.Xc.DONE && (t.readyState === l.xc.Xc.xQ ? !1 : (t.readyState === l.xc.Xc.iK ? !1 : t.readyState === l.xc.Xc.ny ? (t.readyState = l.xc.Xc.ky, t.fta({
                                    mediaRequest: t, readyState: t.readyState, timestamp: y.Nz(),
                                    connect: !1
                                })) : t.readyState !== l.xc.Xc.ny && t.readyState !== l.xc.Xc.ky && !1, t.readyState = l.xc.Xc.DONE, B = { mediaRequest: t, readyState: t.readyState, timestamp: y.Nz(), cadmiumResponse: B, response: B.content }, t.v4 = B, t.wO(B)))
                            }); if (t.gd) { var A = { mediaRequest: t, readyState: t.readyState, timestamp: this.Nz(), connect: !1 }; t.fta(A) } t.addEventListener(l.xc.Oe.vF, x); t.Spa = z.abort
                        }; c.prototype.pG = function (t) { try { t.Spa() } catch (w) { this.log.warn("exception aborting request") } }; c.prototype.Nz = function () { return this.ya.Rb().$(q.ja) };
                    var u = c; u = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(n.bd)), r.__param(1, (0, k.l)(p.Wl)), r.__param(2, (0, k.l)(a.cd)), r.__param(3, (0, k.l)(m.ub)), r.__param(4, (0, k.l)(g.ay)), r.__param(5, (0, k.l)(d.dHa))], u); b.jHa = u
                }, function (r, b, a) {
                    function c(q, p, u, t, w, v) {
                        function x(z, A) {
                            this.track = z; this.label = A; this.Ih = n.xc.Xc.UNSENT; this.bytesReceived = 0; this.Es = []; this.requestId = v.nz().toString(); this.hb = u; this.log = p.lb("MediaRequest"); this.config = q; this.Zb = new l.Nk; "notification" === this.label ? this.config().Ez && (this.$H =
                                t) : this.$H = w; !1
                        } function y(z, A) {
                            this.requestId = v.nz().toString(); this.hb = u; this.log = p.lb("MediaRequest"); this.config = q; this.Zb = new l.Nk; this.label = A; "notification" === this.label ? this.config().Ez && (this.$H = t) : this.$H = w; this.BW = this.lM = this.mM = void 0; this.track = z; this.d4 = this.url = this.responseType = void 0; this.Ih = n.xc.Xc.UNSENT; this.zj = this.gN = this.th = this.status = void 0; this.zs = this.bytesReceived = 0; this.connect = this.jna = this.IG = this.HD = this.gra = this.uf = this.ina = this.loadTime = this.GL = void 0; this.Es = [];
                            this.Io = !1; !1
                        } x.prototype.addEventListener = function (z, A, B) { this.Zb.addListener.call(this, z, A, B) }; x.prototype.removeEventListener = function (z, A) { this.Zb.removeListener.call(this, z, A) }; x.prototype.emit = function (z, A, B) { this.Zb.Gc.call(this, z, A, B) }; x.prototype.fSb = function (z) { this.Ih === n.xc.Xc.OPENED && (this.BW = !0, this.loadTime = this.uf = z.timestamp, !1, this.Ih = n.xc.Xc.ny, this.emit(n.xc.Oe.ZHa, z)) }; x.prototype.fta = function (z) {
                            if (this.Ih < n.xc.Xc.ky) {
                                this.Es = []; var A = z.timestamp - this.loadTime; !this.gd && 0 < A &&
                                    (this.connect = !0, this.Es.push(A)); !0 === this.config().wLb ? this.ina = z.timestamp : this.ina = this.uf = z.timestamp; !1; this.Ih = n.xc.Xc.ky; this.emit(n.xc.Oe.YHa, z)
                            }
                        }; x.prototype.jSb = function (z) { this.Ih === n.xc.Xc.ky && (!1, this.gra = this.uf = z.timestamp, z.newBytes = z.bytesLoaded - this.bytesReceived, this.bytesReceived = z.bytesLoaded, this.hb.Vi(this.gra) && this.emit(n.xc.Oe.$Ha, z)) }; x.prototype.wO = function (z) {
                            -1 < [n.xc.Xc.ny, n.xc.Xc.ky].indexOf(this.Ih) && (this.BW = !1, !1, this.uf = z.timestamp, this.Ih = n.xc.Xc.DONE, z.newBytes =
                                this.eh - this.bytesReceived, this.bytesReceived = this.eh, this.hb.Vi(this.IG) && (this.uf = this.IG, 0 === z.newBytes && (this.gra = this.IG)), this.hb.Vi(this.HD) && (this.loadTime = this.HD), this.GL = z.response, this.emit(n.xc.Oe.QR, z))
                        }; x.prototype.bSb = function (z) { this.BW = !1; !1; this.emit(n.xc.Oe.Sjb, z) }; x.prototype.hta = function (z) { this.uf = z.timestamp; this.status = z.httpcode; this.th = z.errorcode; this.gN = n.xc.q0.name[this.th]; this.zj = z.nativecode; !1; this.emit(n.xc.Oe.vF, z); this.BW = !1 }; x.prototype.open = function (z, A, B, E,
                            D, F, G) { this.Fx = !1; this.d4 = A; this.url = z; this.responseType = B; !1; if (!this.url) return !1, !1; this.Ih = n.xc.Xc.OPENED; this.$H.FV(this, A, G); return !0 }; x.prototype.md = function () { !1; -1 !== [n.xc.Xc.OPENED, n.xc.Xc.ny, n.xc.Xc.ky].indexOf(this.Ih) && this.abort(); return !0 }; x.prototype.tTa = function () { this.GL = void 0; this.v4 && (this.v4.response = void 0, this.v4.cadmiumResponse.content = void 0); this.Spa = void 0 }; x.prototype.Faa = function (z) { !1; this.url = z; return !0 }; x.prototype.abort = function () {
                                this.Ih = n.xc.Xc.xQ; this.$H.pG(this);
                                return !0
                            }; x.prototype.pause = function () { }; x.prototype.getResponseHeader = function () { return null }; x.prototype.getAllResponseHeaders = function () { return "" }; x.prototype.GY = function () { }; x.prototype.wi = function () { return this.requestId }; x.prototype.toString = function () { var z = { requestId: this.wi(), segmentId: this.ha, isHeader: this.gd, ptsStart: this.UA, ptsOffset: this.fv, responseType: this.responseType, duration: this.Sr, readystate: this.Ih }; this.stream && (z.bitrate = this.stream.bitrate); return JSON.stringify(z) }; x.prototype.toJSON =
                                function () { return this.toString() }; x.prototype.IJb = function () {
                                    if (this.config().Xcb && g.Lv && g.Lv.getEntriesByType && (!this.hb.Vi(this.HD) || !this.hb.Vi(this.IG) && this.hb.Vi(this.url))) {
                                        var z = "" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.mM + "-" + this.lM + "*"), A = new RegExp(z); z = g.Lv.getEntriesByType("resource").filter(function (B) { return A.exec(B.name) })[0]; this.hb.Vi(z) && (0 < z.startTime && (this.HD = z.startTime, 0 < z.requestStart && (this.HD = Math.max(this.HD, z.requestStart))),
                                            0 < z.responseStart && (this.jna = z.responseStart), 0 < z.responseEnd && (this.IG = z.responseEnd))
                                    }
                                }; x.prototype.lNb = function () { return this.hb.Vi(this.HD) && this.hb.Vi(this.IG) && this.hb.Vi(this.jna) }; Ya.Object.defineProperties(x.prototype, {
                                    eh: { configurable: !0, enumerable: !0, get: function () { return this.d4.end - this.d4.start + 1 } }, byteLength: { configurable: !0, enumerable: !0, get: function () { return this.lM - this.mM + 1 } }, P_a: { configurable: !0, enumerable: !0, get: function () { return !!(this.response && 0 < this.response.byteLength) } },
                                    gd: { configurable: !0, enumerable: !0, get: function () { return !this.AD } }, response: { configurable: !0, enumerable: !0, get: function () { return this.GL } }, readyState: { configurable: !0, enumerable: !0, get: function () { return this.Ih }, set: function () { } }
                                }); Object.getOwnPropertyNames(x.prototype).forEach(function (z) { var A = Object.getOwnPropertyDescriptor(x.prototype, z); Object.defineProperty(y.prototype, z, A) }); this.pr = Object.assign(y, n.xc)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.hHa = void 0; r = a(1); var f = a(0), k = a(7),
                        m = a(13), g = a(11), d = a(25), h = a(518), l = a(74), n = a(194); a = a(83); c = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.cd)), r.__param(1, (0, f.l)(k.ub)), r.__param(2, (0, f.l)(d.pf)), r.__param(3, (0, f.l)(h.gIa)), r.__param(4, (0, f.l)(h.kHa)), r.__param(5, (0, f.l)(a.$x))], c); b.hHa = c
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.N4a = void 0; r = a(0); var c = a(341), f = a(1190); b.N4a = new r.dd(function (k) { k(c.bea).to(f.AHa).aa() }) }, function (r, b, a) {
                    function c(h) { return k.$e.call(this, h, "MseConfigImpl") || this } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.AHa = void 0; r = a(1); var f = a(42), k = a(48), m = a(0), g = a(33), d = a(4); qa(c, k.$e); Ya.Object.defineProperties(c.prototype, { F4a: { configurable: !0, enumerable: !0, get: function () { return (0, d.Nc)(5E3) } }, Y5a: { configurable: !0, enumerable: !0, get: function () { return (0, d.Nc)(1E3) } }, Z5a: { configurable: !0, enumerable: !0, get: function () { return (0, d.Nc)(1E3) } } }); a = c; r.__decorate([f.config(f.il, "minDecoderBufferMilliseconds")], a.prototype, "F4a", null); r.__decorate([f.config(f.il, "optimalDecoderBufferMilliseconds")],
                            a.prototype, "Y5a", null); r.__decorate([f.config(f.il, "optimalDecoderBufferMillisecondsBranching")], a.prototype, "Z5a", null); a = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(g.Qk))], a); b.AHa = a
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.K6a = void 0; r = a(0); var c = a(520), f = a(1192), k = a(66), m = a(1194), g = a(523), d = a(1195), h = a(477), l = a(1196), n = a(522), q = a(1197); b.K6a = new r.dd(function (p) {
                        p(k.qt).to(m.IIa).aa(); p(c.KIa).to(f.JIa).aa(); p(h.UIa).to(l.TIa); p(h.SIa).yf(function (u) { return function () { return u.kb.get(h.UIa) } });
                        p(g.sJa).to(d.rJa).aa(); p(n.oJa).to(q.nJa).aa()
                    })
                }, function (r, b, a) {
                    function c(E) { this.config = E; this.jz = [] } function f(E, D, F) { this.ya = E; this.cQ = D; this.context = F; this.startTime = this.ya.Rb() } function k(E, D, F, G, C, H, L, N, J, Q) { this.Ubb = D; this.json = F; this.ya = G; this.Ur = C; this.cva = H; this.Oc = L; this.config = N; this.Zb = J; this.receiver = Q; this.log = E.lb("Pbo"); N.v8a && (this.jz = new c(N)); this.cQ = this.Ubb() } Object.defineProperty(b, "__esModule", { value: !0 }); b.JIa = void 0; r = a(1); var m = a(0), g = a(4), d = a(521), h = a(7), l = a(32), n =
                        a(16), q = a(34), p = a(140), u = a(49), t = a(299), w = a(66), v = a(99), x = a(15), y = a(69), z = a(1193); a = a(522); var A = { "shakti-": "akira", "UI-": "chromecast" }; k.prototype.send = function (E, D) { var F = new f(this.ya, this.cQ, E); this.jz && this.jz.append(F); return this.Gwa(E, D, F) }; k.prototype.Gwa = function (E, D, F) {
                            var G = this; return new Promise(function (C, H) {
                                G.retry(E, D).then(function (L) {
                                    G.QZb(L); var N = da(G.X4b(L)), J = N.next().value; N = N.next().value; J && (G.receiver.Yua({ command: E.An, inputs: D, outputs: J }), G.rxb(F), C(L)); N && (G.receiver.Yua({
                                        command: E.An,
                                        inputs: D, outputs: N
                                    }), G.HTa(F, N), H(N))
                                }).catch(function (L) { G.receiver.Yua({ command: E.An, inputs: D, outputs: L }); var N = G.HTa(F, L); L.yb && (L.yb = [L.yb, " ", N].join("")); H(L) })
                            })
                        }; k.prototype.QZb = function (E) { (E = E.serverTime) && this.Zb.Gc(x.wda.$9a, (0, g.Nc)(E)) }; k.prototype.X4b = function (E) {
                            !1; var D = E.result; if ("deviceCommand" in E) {
                                E = E.deviceCommand; this.log.trace("Received device command '" + E + "'"); switch (E) {
                                    case "reset": D = "RESET_DEVICE"; break; case "reload": D = "RELOAD_DEVICE"; break; case "exit": D = "EXIT_DEVICE";
                                        break; default: D = "FAIL", this.log.error("Unhandled device command '" + E + "'")
                                }return [, { YD: !0, code: D, detail: { message: "Server sent device action to '" + E + "' device" } }]
                            } if (D) return !1, [D, void 0]; if (E.code) return this.log.error("Response did not contain a result or an error but did contain an error code", E), [, { code: E.code, detail: { message: E.message } }]; this.log.error("Response did not contain a result or an error", E); return [, { code: "FAIL", detail: { message: "Response did contain a result or an error" } }]
                        }; k.prototype.Ttb =
                            function (E, D, F) { var G = this; this.m4b(D, E); this.cQ = this.Ubb(F); return this.cQ.send(D, F).then(function (C) { return { retry: !1, result: z.k1.vUb(G.json, C.body) } }).catch(function (C) { var H = z.k1.nIb(C), L = void 0 !== H ? Math.min(H, D.dwa) : D.dwa; return G.maa(D, C, E, L) ? (H = G.Lvb(C, E, L), G.log.warn("Method failed, retrying", Object.assign({ Method: D.An, Attempt: E + 1, WaitTime: H, MaxRetries: L }, G.Gla(C))), Promise.resolve({ retry: !0, delay: H, error: C })) : Promise.resolve({ retry: !1, error: C }) }) }; k.prototype.oGb = function (E) {
                                if (!this.lia ||
                                    this.lia.aUb !== E) { var D = "", F = E; Object.entries(A).find(function (G) { var C = da(G); G = C.next().value; C = C.next().value; if (0 === E.indexOf(G)) return D = C, E = E.slice(G.length), !0 }); this.lia = { CTa: D, yv: E, aUb: F } } return this.lia
                            }; k.prototype.m4b = function (E, D) {
                                var F, G, C, H = E.url.searchParams; H.set(y.SB.tlb, (D + 1).toString()); H.set(y.SB.ulb, E.ip); E = this.oGb(null !== (F = this.config.yv) && void 0 !== F ? F : ""); E.CTa && (H.set(y.SB.Qfb, E.CTa), E.yv && H.set(y.SB.emb, encodeURIComponent(E.yv)), F = this.Ur.ik, (null === F || void 0 === F ? 0 : F.name) &&
                                    H.set(y.SB.gfb, encodeURIComponent(F.name)), (null === F || void 0 === F ? 0 : F.version) && H.set(y.SB.hfb, encodeURIComponent(F.version)), (null === (G = null === F || void 0 === F ? void 0 : F.os) || void 0 === G ? 0 : G.name) && H.set(y.SB.Tjb, encodeURIComponent(F.os.name)), (null === (C = null === F || void 0 === F ? void 0 : F.os) || void 0 === C ? 0 : C.version) && H.set(y.SB.Ujb, encodeURIComponent(F.os.version)))
                            }; k.prototype.retry = function (E, D, F) {
                                var G = this; F = void 0 === F ? 0 : F; return this.Ttb(F++, E, D).then(function (C) {
                                    if (C.retry) return G.wait(C.delay).then(function () {
                                        return G.retry(E,
                                            D, F)
                                    }); if (C.error) throw C.error; if (void 0 === C.result) throw { pboc: !1, code: "FAIL", detail: { message: "The response was undefined" } }; return C.result
                                })
                            }; k.prototype.maa = function (E, D, F, G) { var C = this.Ur.N$ || z.k1.mNb(D); if (C && F < G) return !0; C ? this.log.error("Method failed, retry limit exceeded, giving up", Object.assign({ Method: E.An, Attempt: F + 1, MaxRetries: G }, this.Gla(D))) : this.log.error("Method failed with an error that is not retriable, giving up", Object.assign({ Method: E.An }, this.Gla(D))); return !1 }; k.prototype.Lvb =
                                function (E, D, F) { if (E && E.kE && void 0 !== E.kE.retryAfterSeconds) return (0, g.vg)(E.kE.retryAfterSeconds); E = 1E3 * (0 === D ? 1 : D); D = 1E3 * Math.pow(2, Math.min(D, F)); return (0, g.Nc)(this.cva.a8a(E, D)) }; k.prototype.wait = function (E) { var D = this; return new Promise(function (F) { D.Oc.Fk(E || g.cb, F) }) }; k.prototype.Gla = function (E) { return (0, t.G1a)(E) ? E : { message: E.message, subCode: E.jd, extCode: E.Kg, mslCode: E.FA, data: E.data } }; k.prototype.rxb = function (E) { E.UP() }; k.prototype.HTa = function (E, D) {
                                    E.ju(D); if (this.jz) try {
                                        var F = this.json.stringify(this.jz);
                                        this.log.error("PBO command history", F); return F
                                    } catch (G) { } return ""
                                }; var B = k; B = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(h.ub)), r.__param(1, (0, m.l)(d.LMa)), r.__param(2, (0, m.l)(l.$E)), r.__param(3, (0, m.l)(n.bd)), r.__param(4, (0, m.l)(q.Wl)), r.__param(5, (0, m.l)(p.u1)), r.__param(6, (0, m.l)(u.Uj)), r.__param(7, (0, m.l)(w.qt)), r.__param(8, (0, m.l)(v.ada)), r.__param(9, (0, m.l)(a.oJa))], B); b.JIa = B; f.prototype.UP = function () { this.ga = !0; this.elapsedTime = this.ya.Rb().Ja(this.startTime) }; f.prototype.ju = function (E) {
                                    this.ga =
                                        !1; this.elapsedTime = this.ya.Rb().Ja(this.startTime); this.v1b = E.jd || E.subCode; this.yEb = E.Kg || E.extCode
                                }; f.prototype.toString = function () { return JSON.stringify(this) }; f.prototype.toJSON = function () { var E = Object.assign({ success: this.ga, method: this.context.An, startTime: this.startTime.$(g.ja), elapsedTime: this.elapsedTime ? this.elapsedTime.$(g.ja) : "in progress" }, this.cQ.Yka()); return this.ga ? E : Object.assign(Object.assign(Object.assign({}, E), this.cQ.Yka()), { subcode: this.v1b, extcode: this.yEb }) }; c.prototype.append =
                                    function (E) { this.jz.push(E); 0 < this.config.Opa && this.jz.length > this.config.Opa && this.jz.shift() }; c.prototype.toJSON = function () { return this.jz }
                }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.k1 = void 0; var f = a(3); c.mNb = function (k) { var m = k && k.code, g = k && (k.ma || k.jd); k = k.Kg !== f.K0.yIa; g = !!g && g >= f.M.uR && g <= f.M.sR && k; return !("RETRY" !== m && "FAIL" !== m) || g }; c.nIb = function (k) {
                        var m, g = null === (m = null === k || void 0 === k ? void 0 : k.kE) || void 0 === m ? void 0 : m.maxRetries; return "number" ===
                            typeof g ? g : "FAIL" === (null === k || void 0 === k ? void 0 : k.code) ? 1 : void 0
                    }; c.vUb = function (k, m) { if (m) { try { var g = k.parse(m) } catch (d) { throw { YD: !0, code: "FAIL", message: "Unable to parse the response body", data: m }; } if (g.error) throw g.error; if (g.result) { if (Array.isArray(g.result) && (k = g.result.find(function (d) { return d.error }))) throw k.error; return g } throw { YD: !0, code: "FAIL", message: "There is no result property on the response" }; } throw { YD: !0, code: "FAIL", message: "There is no body property on the response" }; }; b.k1 = c
                },
                function (r, b, a) {
                    function c(n, q, p, u) { n = k.$e.call(this, n, "PboConfigImpl") || this; n.config = q; n.mtb = p; n.Ui = u; return n } Object.defineProperty(b, "__esModule", { value: !0 }); b.IIa = void 0; r = a(1); var f = a(0), k = a(48), m = a(33), g = a(42), d = a(13), h = a(98); a = a(81); qa(c, k.$e); Ya.Object.defineProperties(c.prototype, {
                        yv: { configurable: !0, enumerable: !0, get: function () { return this.config().En.yv || "" } }, aba: { configurable: !0, enumerable: !0, get: function () { return this.config().En.aba || "" } }, version: { configurable: !0, enumerable: !0, get: function () { return 2 } },
                        organization: { configurable: !0, enumerable: !0, get: function () { return "cadmium" } }, languages: { configurable: !0, enumerable: !0, get: function () { return this.config().En.k$ } }, E1a: { configurable: !0, enumerable: !0, get: function () { return !1 } }, rQb: { configurable: !0, enumerable: !0, get: function () { return !0 } }, uQb: { configurable: !0, enumerable: !0, get: function () { return !0 } }, a$a: {
                            configurable: !0, enumerable: !0, get: function () {
                                return Object.assign({
                                    logblob: { service: "logblob", isPlayApiDirect: !0, version: "1" }, manifest: {
                                        service: "manifest",
                                        isPlayApiDirect: !0, version: "1"
                                    }, licensedmanifest: { service: "licensedmanifest", isPlayApiDirect: !0, version: "1" }, license: { service: "pbo_licenses", version: "^1.0.0" }, events: { service: "event", isPlayApiDirect: !0, version: "1" }, bind: { service: this.mtb.R3, version: "^1.0.0" }, pair: { service: "pbo_mdx", version: "^1.0.0" }, ping: { service: "pbo_events", version: "^1.0.0" }, config: { service: "pbo_config", version: "^1.0.0" }
                                }, this.b$a)
                            }
                        }, b$a: { configurable: !0, enumerable: !0, get: function () { return {} } }, v8a: {
                            configurable: !0, enumerable: !0,
                            get: function () { return !1 }
                        }, Opa: { configurable: !0, enumerable: !0, get: function () { return 10 } }, dRa: { configurable: !0, enumerable: !0, get: function () { return !1 } }, t4: { configurable: !0, enumerable: !0, get: function () { return !1 } }, FWa: { configurable: !0, enumerable: !0, get: function () { return !1 } }, B4b: { configurable: !0, enumerable: !0, get: function () { return !1 } }, Zcb: { configurable: !0, enumerable: !0, get: function () { return !1 } }, EWa: { configurable: !0, enumerable: !0, get: function () { return !0 } }, MWa: { configurable: !0, enumerable: !0, get: function () { return !0 } },
                        cH: { configurable: !0, enumerable: !0, get: function () { return this.Ui.cH } }, lUa: { configurable: !0, enumerable: !0, get: function () { return ["start"] } }
                    }); var l = c; r.__decorate([g.config(g.string, "uiVersion")], l.prototype, "yv", null); r.__decorate([g.config(g.string, "uiPlatform")], l.prototype, "aba", null); r.__decorate([g.config(g.tB, "pboVersion")], l.prototype, "version", null); r.__decorate([g.config(g.string, "pboOrganization")], l.prototype, "organization", null); r.__decorate([g.config(g.oJ, "pboLanguages")], l.prototype, "languages",
                        null); r.__decorate([g.config(g.Rc, "hasLimitedPlaybackFunctionality")], l.prototype, "E1a", null); r.__decorate([g.config(g.Rc, "mdxBindUsingNodeQuark")], l.prototype, "rQb", null); r.__decorate([g.config(g.Rc, "mdxPairUsingNodeQuark")], l.prototype, "uQb", null); r.__decorate([g.config(g.object(), "pboCommands")], l.prototype, "a$a", null); r.__decorate([g.config(g.object(), "pboCommandsOverride")], l.prototype, "b$a", null); r.__decorate([g.config(g.Rc, "pboRecordHistory")], l.prototype, "v8a", null); r.__decorate([g.config(g.tB,
                            "pboHistorySize")], l.prototype, "Opa", null); r.__decorate([g.config(g.Rc, "pboAddXEsnHeader")], l.prototype, "dRa", null); r.__decorate([g.config(g.Rc, "combineManifestAndLicense")], l.prototype, "t4", null); r.__decorate([g.config(g.Rc, "enableLicensedManifestForPrefetch")], l.prototype, "FWa", null); r.__decorate([g.config(g.Rc, "useLdlForPrefetchLicensedManifest")], l.prototype, "B4b", null); r.__decorate([g.config(g.Rc, "pboUseStudioManifest")], l.prototype, "Zcb", null); r.__decorate([g.config(g.Rc, "pboEnableLeanManifest")],
                                l.prototype, "EWa", null); r.__decorate([g.config(g.Rc, "pboEnableV2OptimizedManifest")], l.prototype, "MWa", null); r.__decorate([g.config(g.Rc, "pboEnableManifestPartialHydrationSupport")], l.prototype, "cH", null); r.__decorate([g.config(g.oJ, "pboContentPlaygraphTypes")], l.prototype, "lUa", null); l = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Qk)), r.__param(1, (0, f.l)(d.cd)), r.__param(2, (0, f.l)(h.BB)), r.__param(3, (0, f.l)(a.Nv))], l); b.IIa = l
                }, function (r, b, a) {
                    function c(g, d, h, l, n, q, p) {
                        this.version = g; this.url = d;
                        this.id = h; this.languages = l; this.Nb = n; this.cDb = q; this.BRb = p
                    } function f(g) { this.Uh = g } Object.defineProperty(b, "__esModule", { value: !0 }); b.rJa = void 0; r = a(1); var k = a(0); a = a(66); f.prototype.create = function (g, d, h, l, n) { return new c(this.Uh.version, d, g, this.Uh.languages, h, l, n) }; var m = f; m = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(a.qt))], m); b.rJa = m; c.prototype.toJSON = function () { return { version: this.version, url: this.url, id: this.id, languages: this.languages, params: this.Nb, echo: this.cDb } }
                }, function (r, b, a) {
                    function c(g,
                        d) { this.XG = d; this.log = g.lb("Pbo"); this.links = {} } Object.defineProperty(b, "__esModule", { value: !0 }); b.TIa = void 0; r = a(1); var f = a(0), k = a(7); a = a(93); c.prototype.QQa = function (g) { g && (!1, this.links = Object.assign(Object.assign({}, this.links), g)) }; c.prototype.UV = function (g) { !1; return this.links[g] }; var m = c; m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(a.Vx))], m); b.TIa = m
                }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.nJa = void 0; r = a(1); a = a(0); c.prototype.Yua =
                        function (k) { var m; null === (m = this.listener) || void 0 === m ? void 0 : m.call(this, k) }; var f = c; f = r.__decorate([(0, a.R)()], f); b.nJa = f
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.j = void 0; r = a(0); var c = a(475), f = a(524), k = a(1199), m = a(526), g = a(1200), d = a(260), h = a(215), l = a(1201), n = a(1211), q = a(13), p = a(16), u = a(97), t = a(25), w = a(7), v = a(1212), x = a(265), y = a(1213), z = a(4), A = a(1214), B = a(1215), E = a(547), D = a(1216), F = a(99), G = a(527), C = a(1217), H = a(114), L = a(31), N = a(155), J = a(93), Q = a(288), K = a(550), I = a(1218), M =
                        a(73), O = a(34), P = a(528), S = a(1219), U = a(300), Z = a(30); b.j = new r.dd(function (ia) {
                            ia(K.Qea).to(I.NJa).aa(); ia(U.bca).yf(function (ya) { var na = ya.kb; return function (X, ra) { return new (a(1220).Kza)(X, ra, na.get(u.Dv)) } }); ia(c.OMa).yf(function (ya) { var na = ya.kb; return function (X, ra, T, R, ca, ua, aa, La, Ua) { return new (a(1223).PMa)(na.get(A.UMa), X, ra, T, R, ca, ua, aa, La, Ua) } }); ia(A.UMa).to(B.TMa).aa(); ia(f.SMa).to(k.RMa).aa(); ia(h.Pea).to(l.IJa).aa(); ia(P.$Ka).to(S.ZKa); ia(P.YKa).Dbb(P.$Ka); ia(d.Lca).yf(function (ya) {
                                var na =
                                    ya.kb; return function (X) { return new (a(1224).oCa)(na.get(F.nCa), na.get(u.Dv), na.get(p.bd), X) }
                            }); ia(m.iAa).yf(function () { return function (ya) { return new g.jAa(ya) } }); ia(v.BJa).yf(function (ya) { var na = ya.kb; return function (X) { return new n.CJa(X, na.get(w.ub), na.get(q.cd), na.get(t.pf), na.get(u.Dv)) } }); ia(x.Rea).yf(function (ya) { var na = ya.kb; return function (X, ra, T, R, ca, ua, aa, La, Ua, $a) { return new y.QJa(X, ra, T, R, ca, ua, aa, La, Ua, na.get(v.BJa), na.get(K.Qea), $a) } }); ia(E.tLa).yf(function (ya) {
                                return function (na) {
                                    var X =
                                        ya.kb.get(q.cd), ra = ya.kb.get(w.ub); return new D.uLa(X, na, ra)
                                }
                            }); ia(G.KJa).yf(function (ya) { return function (na) { var X = ya.kb.get(J.Vx), ra = ya.kb.get(H.JK), T = ya.kb.get(L.oh), R = ya.kb.get(N.cS), ca = ya.kb.get(Z.UE); return new C.LJa(na, X, ra((0, z.vg)(1)), T, R, ca) } }); ia(Q.$da).BE(function (ya) { return new (a(1225).wHa)(ya.kb.get(M.LR), ya.kb.get(O.Wl)) }).aa()
                        })
                }, function (r, b, a) {
                    function c(l, n) { this.kg = l; this.config = n } Object.defineProperty(b, "__esModule", { value: !0 }); b.RMa = void 0; r = a(1); var f = a(15), k = a(525), m = a(16),
                        g = a(0), d = a(4); a = a(13); c.prototype.XM = function (l) { l.$Z = {}; if (!l.TN() && l.rB && 0 < l.rB.length && (l.qB = this.nZa(l), l.qB)) { var n = this.T_b(l); n() || (l.sb.addListener(n), l.he.addListener(n)) } }; c.prototype.T_b = function (l) { function n() { if (!l.he.value || l.sb.value === f.Xa.Pe) return !1; var p = l.qB, u = p.getState(); return u === k.Ip.LOADING ? !1 : u !== k.Ip.aF && p.retry ? (p = q.MJb(l)) ? (l.$Z.offset = q.kg.Rb().$(d.ja), l.qB = p, p.download(), !0) : !1 : (l.sb.removeListener(n), l.he.removeListener(n), !1) } var q = this; return n }; c.prototype.MJb =
                            function (l) { var n = this.config(), q = l.Ol.CN() < n.l3b; n = (l.he.value ? l.he.value.bitrate : 0) > n.k3b; return this.iJb(l, q && n) }; c.prototype.iJb = function (l, n) { if (n && (n = this.nZa(l), this.g_a(l, n.size))) return l.$Z.c9a = "h", n; n = this.lIb(l); if (this.g_a(l, n.size)) return l.$Z.c9a = "l", n }; c.prototype.g_a = function (l, n) { var q = this.config(), p = Math.min(l.KT(), l.j_()); return l.zub.Bvb(n) * (1 + .01 * q.Psb[2]) < p * q.o3b }; c.prototype.nZa = function (l) { return l.rB[l.rB.length - 1] }; c.prototype.lIb = function (l) { return l.rB[0] }; var h = c; h =
                                r.__decorate([(0, g.R)(), r.__param(0, (0, g.l)(m.bd)), r.__param(1, (0, g.l)(a.cd))], h); b.RMa = h
                }, function (r, b) {
                    function a(c) { this.j = c } Object.defineProperty(b, "__esModule", { value: !0 }); b.jAa = void 0; a.prototype.Ccb = function () { var c = this.j.Ma; if (null !== c && void 0 !== c && c.bC) { c = c.Vb.get(); if (null === c || void 0 === c ? 0 : c.Fj) this.j.Fj = c.Fj.Ha; if (null === c || void 0 === c ? 0 : c.Sa) this.j.Sa = c.Sa.Ha } }; a.prototype.Sw = function () { -1 === this.j.Sa && this.Ccb(); return this.j.Sa }; a.prototype.Bvb = function (c) {
                        -1 !== this.j.Fj && -1 !== this.j.Sa ||
                            this.Ccb(); return -1 === this.j.Fj || -1 === this.j.Sa ? Number.MAX_VALUE : this.j.Fj + 8 * c / this.j.Sa
                    }; b.jAa = a
                }, function (r, b, a) {
                    function c(Q, K, I, M, O, P, S, U, Z, ia, ya, na, X, ra, T, R, ca, ua, aa, La, Ua, $a, Za, cb, Wa, Pa) { this.cA = Q; this.dM = K; this.ya = I; this.Ba = M; this.Aub = O; this.Zxa = P; this.eX = S; this.Zra = U; this.aO = Z; this.fe = ia; this.Vh = ya; this.cj = na; this.hM = X; this.iY = ra; this.wk = T; this.mya = R; this.ag = ca; this.Km = ua; this.Vc = aa; this.lua = La; this.sYb = Ua; this.aja = $a; this.dI = Za; this.Vta = cb; this.JC = Wa; this.ZL = Pa } Object.defineProperty(b, "__esModule",
                        { value: !0 }); b.IJa = void 0; r = a(1); var f = a(83), k = a(0), m = a(114), g = a(39), d = a(16), h = a(35), l = a(526), n = a(266), q = a(476), p = a(495), u = a(133), t = a(123), w = a(160), v = a(104), x = a(466), y = a(265), z = a(195), A = a(524), B = a(52), E = a(31), D = a(527), F = a(73), G = a(528), C = a(300), H = a(288), L = a(120), N = a(509); c.prototype.create = function (Q, K, I, M, O, P, S, U) {
                            return new (a(529).JJa)(Q, K, P, S, M, O, this.cA, I, this.ya, this.dM, this.Ba, this.eX, this.Aub, this.Zxa, this.Zra, this.aO, this.fe, this.Vh, this.cj, this.hM, this.iY, this.wk, this.mya, this.ag, this.Vc,
                                this.lua, this.Km, this.sYb(), this.aja, this.dI, this.Vta, void 0, this.JC, U)
                        }; var J = c; J = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(f.$x)), r.__param(1, (0, k.l)(g.ai)), r.__param(2, (0, k.l)(d.bd)), r.__param(3, (0, k.l)(h.ih)), r.__param(4, (0, k.l)(l.iAa)), r.__param(5, (0, k.l)(m.JK)), r.__param(6, (0, k.l)(n.Vda)), r.__param(7, (0, k.l)(q.PGa)), r.__param(8, (0, k.l)(p.FR)), r.__param(9, (0, k.l)(u.MK)), r.__param(10, (0, k.l)(t.BK)), r.__param(11, (0, k.l)(w.AF)), r.__param(12, (0, k.l)(x.rAa)), r.__param(13, (0, k.l)(y.Rea)), r.__param(14,
                            (0, k.l)(L.gF)), r.__param(15, (0, k.l)(A.SMa)), r.__param(16, (0, k.l)(B.no)), r.__param(17, (0, k.l)(F.LR)), r.__param(18, (0, k.l)(E.oh)), r.__param(19, (0, k.l)(D.KJa)), r.__param(20, (0, k.l)(G.YKa)), r.__param(21, (0, k.l)(C.bca)), r.__param(22, (0, k.l)(H.$da)), r.__param(23, (0, k.l)(N.iJa)), r.__param(24, (0, k.l)(z.uca)), r.__param(24, (0, k.optional)()), r.__param(25, (0, k.l)(v.zQ)), r.__param(25, (0, k.optional)())], J); b.IJa = J
                }, function (r, b, a) {
                    function c() { this.Saa = []; this.U2b = 50 } function f(Q) {
                        var K = this; this.j = Q; this.Adb =
                            Promise.resolve(); this.WCa = ub.WebKitMediaKeys ? "webkit" : HTMLVideoElement.prototype.msSetMediaKeys ? "ms" : ""; this.rC = []; this.zt = new n.Nk; this.YNa = this.Vfa = 0; this.f2 = []; this.Fg = (0, u.Oh)(this.j, "MediaElementASE"); this.VPa = z.Sj; this.sga = !1; this.Wb = new c; this.Bo = {}; this.AOa = {}; this.o6 = this.h2(function () { var I; if (K.ba) return null !== (I = K.ba.webkitDecodedFrameCount) && void 0 !== I ? I : 0 }); this.gD = this.h2(function () { if (K.ba) { var I = K.Nga(); return I ? I.totalVideoFrames : K.ba.webkitDecodedFrameCount } }); this.nH = this.h2(function () {
                                if (K.ba) {
                                    var I =
                                        K.Nga(); return I ? I.droppedVideoFrames : K.ba.webkitDroppedFrameCount
                                }
                            }); this.LV = this.h2(function () { if (K.ba) { var I = K.Nga(); return I && I.corruptedVideoFrames } }); this.WOa = function (I) { return K.zt.Gc(F.Qj.G2a, { S: I }) }; this.Kl = u.ta.get(D.QFa).create(l.config.qp, this, this.j); l.config.GD && (this.Adb = new Promise(function (I) { K.VPa = I; K.j.addEventListener(H.ca.ng, I) })); this.Fg.trace("Created Media Element"); this.addEventListener = this.zt.addListener; this.removeEventListener = this.zt.removeListener
                    } function k(Q) {
                        var K =
                            u.ta.get(G.Ofa).e_a(); Q = Q.width / Q.height * K.height; var I = (K.width - Q) / 2; return l.config.O_b ? (0, z.createElement)("VIDEO", "position:absolute;width:" + Q + "px;height:" + K.height + "px;left:" + I + "px;top:0px") : (0, z.createElement)("VIDEO", "position:absolute;width:100%;height:100%")
                    } function m(Q) { Q.preventDefault(); return !1 } Object.defineProperty(b, "__esModule", { value: !0 }); b.bHa = void 0; var g = a(43), d = a(304), h = a(12), l = a(14), n = a(74), q = a(62), p = a(46), u = a(8), t = a(3), w = a(20), v = a(94), x = a(335), y = a(24), z = a(28), A = a(305), B = a(11),
                        E = a(18), D = a(536), F = a(306), G = a(294), C = a(4), H = a(15), L = a(63), N = a(56), J = !!(B.rF && HTMLVideoElement && URL && HTMLVideoElement.prototype.play); f.prototype.NV = function (Q) { try { this.ba && (this.YNa = this.ba.currentTime) } catch (K) { this.Fg.error("Exception while getting VIDEO.currentTime", K), Q && this.vS(t.N.Jkb, K) } return (0, B.lj)(this.YNa * z.Xl) }; f.prototype.seek = function (Q) {
                            (0, w.gb)(!this.Rp); this.PPa(); var K = this.NV(!0); if (!l.config.gtb && (0, B.hF)(K - Q) <= this.vwa) this.Fg.trace("Seek delta too small", {
                                currentTime: K, seekTime: Q,
                                min: this.vwa
                            }), this.Wb.trace("smallseek", Q); else { this.Wb.trace("seek", Q); try { this.Fg.trace("Setting video elements currentTime", { From: (0, v.mj)(K), To: (0, v.mj)(Q) }), this.Rp = {}, this.ba.currentTime = Q / z.Xl, this.zt.Gc(F.Qj.fq) } catch (I) { this.Fg.error("Exception while setting VIDEO.currentTime", I), this.vS(t.N.Kkb, I) } }
                        }; f.prototype.h_a = function () { return !!this.Rp }; f.prototype.addSourceBuffer = function (Q) {
                            var K = (0, z.Fd)(this.Vfa.toString() + this.rC.length.toString()); K = { sZ: this.Vfa, Y3: K }; try {
                                var I = new d.Xda(this.j,
                                    Q, this.hg, K, this.Fg); this.rC.push(I); Q == h.vK && I.kna && I.kna.addListener(this.VPa); return I
                            } catch (M) { I = (0, z.$d)(M), this.Fg.error("Unable to add source buffer.", { error: I }), this.j.Pd(t.N.tea, { ma: Q === g.Yb.ul.$b ? z.M.Sda : z.M.Tda, yb: I }) }
                        }; f.prototype.u3 = function (Q) { var K = this; Q.forEach(function (I) { return K.addSourceBuffer(I) }); this.zt.Gc(F.Qj.kab); return !0 }; f.prototype.removeSourceBuffer = function (Q) { this.rC = this.rC.filter(function (K) { return !(0, p.QTa)(Q, K) }); this.hg.removeSourceBuffer(Q) }; f.prototype.endOfStream =
                            function () { this.Wb.trace("endofstream"); !1; l.config.i4 && this.hg.endOfStream() }; f.prototype.hq = function (Q) { !1; this.rC = []; Q && Q.jec(); return !0 }; f.prototype.ZZb = function (Q) { this.Vfa = Q }; f.prototype.IZa = function () { if (this.hg) return (0, C.v7a)(this.hg.duration) }; f.prototype.dCb = function () { if (!this.sga && this.ba && this.ba.readyState >= L.yp.I0.HAVE_CURRENT_DATA) { var Q = this.ba.webkitDecodedFrameCount; if (void 0 === Q || 0 < Q || l.config.z5b) this.sga = !0 } return this.sga }; f.prototype.open = function () {
                                var Q = this; this.ba = k(this.j.Ys);
                                this.sourceBuffers = this.rC; this.j.addEventListener(H.ca.V$a, function (M) { return Q.aqb(M) }); if (J) {
                                    this.j.MH && !l.config.Ocb && this.Kl.E9(); try { this.hg = new B.rF } catch (M) { this.vS(t.N.Akb, M); return } try { this.zl = URL.createObjectURL(this.hg) } catch (M) { this.vS(t.N.Bkb, M); return } try {
                                        this.Kl.rsb(this.WOa); this.hg.addEventListener("sourceopen", function (M) { return Q.vPa(M) }); this.hg.addEventListener(this.WCa + "sourceopen", function (M) { return Q.vPa(M) }); this.ba.addEventListener("error", this.Bo.error = function (M) { return Q.YS(M) });
                                        this.ba.addEventListener("seeking", this.Bo.seeking = function () { return Q.$pb() }); this.ba.addEventListener("seeked", this.Bo.seeked = function () { return Q.Zpb() }); this.ba.addEventListener("timeupdate", this.Bo.timeupdate = function () { return Q.bqb() }); this.ba.addEventListener("loadstart", this.Bo.loadstart = function () { return Q.vha() }); this.ba.addEventListener("volumechange", this.Bo.volumechange = function (M) { return Q.cqb(M) }); this.ba.addEventListener(this.Kl.TD, this.Bo[this.Kl.TD] = function () {
                                            Q.Fg.trace(Q.Kl.TD);
                                            Q.Xpb()
                                        }); var K = this.j.bh, I = K.lastChild; I ? K.insertBefore(this.ba, I) : K.appendChild(this.ba); l.config.PVa && this.ba.addEventListener("contextmenu", m); this.ba.src = this.zl; q.ye.addListener(q.Xr, this.AOa[q.Xr] = function () { return Q.uPa() }); this.uPa()
                                    } catch (M) { this.vS(t.N.Ckb, M) }
                                } else this.b2(t.N.rIa)
                            }; f.prototype.close = function () {
                                function Q() { K.zl && (K.PPa(), q.ye.removeListener(q.Xr, K.AOa[q.Xr]), K.knb()) } var K = this; this.Wb.trace("close"); this.ba.removeEventListener(this.Kl.TD, this.Bo[this.Kl.TD]); this.ba.removeEventListener("error",
                                    this.Bo.error); this.ba.removeEventListener("seeking", this.Bo.seeking); this.ba.removeEventListener("seeked", this.Bo.seeked); this.ba.removeEventListener("timeupdate", this.Bo.timeupdate); this.ba.removeEventListener("loadstart", this.Bo.loadstart); this.ba.removeEventListener("volumechange", this.Bo.volumechange); this.Kl.ZXb(this.WOa); l.config.qp ? this.Kl.HI().then(function () { return Q() }) : Q(); this.Kl.O8a && clearTimeout(this.Kl.O8a)
                            }; f.prototype.mD = function () { return this.Wb.mD() }; f.prototype.Xpb = function () {
                                l.config.Ocb &&
                                    this.Kl.E9()
                            }; f.prototype.Nga = function () { if (this.ba) return this.ba.getVideoPlaybackQuality && this.ba.getVideoPlaybackQuality() || this.ba.videoPlaybackQuality || this.ba.playbackQuality }; f.prototype.lrb = function () { var Q = this.j.uh; return (Q = Q && Q.errorCode) && 0 <= [t.N.h1, t.N.L0].indexOf(Q) }; f.prototype.knb = function () {
                                var Q = !1; l.config.jWb && this.lrb() && (Q = !0); l.config.ixb && !Q && (this.ba.removeAttribute("src"), this.ba.load && this.ba.load()); URL.revokeObjectURL(this.zl); l.config.PVa && this.ba.removeEventListener("contextmenu",
                                    m); !Q && this.ba && this.j.bh.removeChild(this.ba); this.ba = this.hg = void 0; this.zl = ""
                            }; f.prototype.uPa = function () { !0 === B.Be.hidden ? this.f2.forEach(function (Q) { Q.refresh(); Q.M0b() }) : this.f2.forEach(function (Q) { Q.refresh(); Q.Z0b() }) }; f.prototype.h2 = function (Q) { var K = u.ta.get(x.dIa)(Q); this.f2.push(K); return function () { K.refresh(); return K.dHb() } }; f.prototype.vS = function (Q, K) {
                                var I = { ma: z.M.ci, yb: (0, z.$d)(K) }, M; try {
                                    (M = K.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == M.length &&
                                        (I.Te = M)
                                } catch (O) { } this.j.Pd(Q, I)
                            }; f.prototype.PPa = function () { this.f2.forEach(function (Q) { Q.refresh() }) }; f.prototype.eob = function () { return this.ba && this.ba.msGraphicsTrustStatus }; f.prototype.b2 = function (Q, K) { this.j.Pd(Q, K, void 0) }; f.prototype.aqb = function (Q) {
                                if (this.ba) {
                                    Q = Q.l_; var K = this.eob(); K && (Q.ConstrictionActive = K.constrictionActive, Q.Status = K.status); try { Q.readyState = "" + this.ba.readyState, Q.currentTime = "" + this.ba.currentTime, Q.pbRate = "" + this.ba.playbackRate } catch (ia) { } K = this.rC.length; for (var I; K--;) {
                                        I =
                                            this.rC[K]; var M = ""; I.type == h.P0 ? M = "audio" : I.type == h.vK && (M = "video"); (0, z.Ub)(Q, I.j6(), { prefix: M }); l.config.DDb && this.j.uh && h.vK == I.type && (M = (0, z.fJ)(I.RYa()), 3E3 > (M.data && M.data.length) && (M.data = (0, y.yUa)(M.data).join(), (0, z.Ub)(Q, M, { prefix: I.type })))
                                    } this.hg && (K = this.hg.duration) && !isNaN(K) && (Q.duration = K.toFixed(4)); if (l.config.ePb) try { var O = this.j.tf, P = O && O.Wo; if (P) { var S = P.expiration; isNaN(S) || (Q.exp = S); var U = P.keyStatuses.entries(); if (U.next) { var Z = U.next().value; Z && (Q.keyStatus = Z[1]) } } } catch (ia) { }
                                }
                            };
                    f.prototype.vPa = function (Q) { !1; this.nrb || (this.nrb = !0, this.zt.Gc(F.Qj.lab, Q)) }; f.prototype.$pb = function () { this.Wb.trace("seeking"); this.Fg.trace("Video element event: seeking"); this.Rp ? this.Rp.MSb = !0 : (this.Fg.error("unexpected seeking event"), l.config.MEb && this.b2(t.N.Pkb, { yb: { Trace: this.mD() } })) }; f.prototype.Zpb = function () {
                        this.Wb.trace("seeked"); this.Fg.trace("Video element event: seeked"); this.Rp ? ((0, w.gb)(this.Rp.MSb), this.Rp.LSb = !0, this.sQa()) : (this.Fg.error("unexpected seeked event"), l.config.LEb &&
                            this.b2(t.N.Okb, { yb: { Trace: this.mD() } }))
                    }; f.prototype.bqb = function () { var Q; this.Wb.trace("timeupdate", null === (Q = this.ba) || void 0 === Q ? void 0 : Q.currentTime); !1; this.Rp && (this.Rp.OSb = !0, this.sQa()); this.zt.Gc(F.Qj.fq) }; f.prototype.vha = function () { this.Fg.trace("Video element event: loadstart") }; f.prototype.cqb = function (Q) { this.Fg.trace("Video element event:", Q.type); try { this.j.volume.set(this.ba.volume), this.j.muted.set(this.ba.muted) } catch (K) { this.Fg.error("error updating volume", K) } }; f.prototype.YS =
                        function (Q) { var K = this.b2, I = t.N.qIa, M = t.pDa, O = this.mD(), P = Q.target, S = P && P.error, U = Q.errorCode; P = S && S.code; (0, z.Mc)(P) || (P = U && U.code); U = S && S.message; var Z = S && S.msExtendedCode; (0, z.Mc)(Z) || (Z = S && S.systemCode); (0, z.Mc)(Z) || (Z = Q.systemCode); (0, z.Mc)(Z) || (Z = (0, N.Doa)(U)); Q = (0, z.Ub)({}, { code: P, systemCode: Z, trace: JSON.stringify(O) }, { JA: !0 }); M = { ma: M(P), yb: (0, A.Ura)(Q) }; try { U && (M.mX = U) } catch (ia) { } Z = (0, z.Fd)(Z); (0, E.Ea)(Z) && (M.Te = (0, u.xja)(Z, 4)); K.call(this, I, M) }; f.prototype.sQa = function () {
                            this.Rp && this.Rp.LSb &&
                                this.Rp.OSb && (this.Wb.trace("seekcomplete"), this.Rp = void 0, this.zt.Gc(F.Qj.aZ))
                        }; Ya.Object.defineProperties(f.prototype, { vwa: { configurable: !0, enumerable: !0, get: function () { return l.config.E0b } } }); b.bHa = f; c.prototype.trace = function (Q, K) { this.Saa.push([Q, K]); this.Saa.length > this.U2b && this.Saa.shift() }; c.prototype.mD = function () { return this.Saa }
                }, function (r, b, a) {
                    function c(t) {
                        var w = this; this.j = t; this.Pxa = this.S4a = 0; this.ng = this.Lm = !1; this.O$ = 0; this.Tl = function () {
                            w.K$(); w.SG && (w.log.info("Deactivating",
                                w.SG), w.mB.gBb(w.Ue())); w.j.Mi.set(null); w.yJ.s$a(void 0); w.yTa(); var v = w.j.Qb.value; v && v.Vo() && !v.On() && (v = null); if (v && w.j.sb.value !== p.Xa.Pe) { var x = w.Ue(); w.mB.bsb(x, v) } v ? (w.log.info("Activating", v), w.j.Tm.set(v.getState() === f.EF.TB.aF ? p.Bf.je : p.Bf.wd), w.Lm || w.j.Ld("tt_start"), v.o7().then(w.UL).catch(w.UL)) : w.j.Tm.set(p.Bf.je); w.SG = v; w.LJ()
                        }; this.sync = function () { w.Lm && (w.yJ.start(), w.j.sb.value !== p.Xa.Kc && w.yJ.stop()) }; this.LJ = function () {
                            var v; w.j.state.value === p.Mb.je && w.j.sb.value !== p.Xa.Pe &&
                                (w.Bh ? v = w.yJ.qGb() : w.j.Qb.value && (v = c.V0b[w.j.Qb.value.getState()])); v && (0, q.Mc)(v.startTime) && w.j.Zq.value !== v && (w.S4a++, w.Pxa += w.yJ.JZa() - v.startTime, w.mSa = Math.ceil(w.Pxa / (w.S4a + 0))); w.j.Zq.set(v)
                        }; this.Ue = function () { var v = w.j.Goa(); w.SG && w.SG.xu && (v += w.SG.xu); return v }; this.ITb = function (v) { w.fireEvent(c.r0b, v); v && v.id && (w.mB.Gcb(v.id), !1); w.log.trace("showsubtitle", w.p_a(v)) }; this.DTb = function (v) { w.fireEvent(c.gYb, v); w.log.trace("removesubtitle", w.p_a(v)) }; this.zk = function () {
                            w.log.warn("imagesubs buffer underflow",
                                w.j.Qb.value.Th); w.j.Tm.set(p.Bf.wd)
                        }; this.$Sb = function () { w.log.info("imagesubs buffering complete", w.j.Qb.value.Th); w.j.Tm.set(p.Bf.je) }; this.z9 = function () { w.Lm && w.Bh && w.Bh.Vs(w.Ue()) }; this.P5a = function (v) { w.Lm && w.Bh && (w.Bh.pause(), w.Bh.hB(v.kk)) }; this.VD = function () { w.Lm && w.Bh && w.Bh.Wua() }; this.M5a = function (v) { w.Bh && w.Bh.Di(v.Wg, v.tO) }; this.U5a = function (v) { w.Bh && w.Bh.Fi(v.ha, v.p4b) }; this.vTb = function () {
                            w.Lm = !0; (0, n.Tc)(function () {
                                var v, x; (null === (v = w.SG) || void 0 === v ? 0 : v.sk) ? null === (x = w.Bh) || void 0 ===
                                    x ? void 0 : x.Vs(w.Ue()) : w.sync(); w.LJ()
                            })
                        }; this.sTb = function () { w.yTa(); w.yJ.stop(); w.LJ(); w.ng = !0; w.K$() }; this.Fta = function (v) { (v = v.newValue) && (0, q.isArray)(v.blocks) && (w.mB.Gcb.apply(w.mB, la(v.blocks.map(function (x) { return x.id }))), !1) }; this.zTb = function (v) { w.j4b(v.newValue, v.oldValue); w.sync(); w.LJ() }; this.UL = function (v) {
                            if (!w.ng) {
                                var x = v.track; if (x === w.j.Qb.value) try { w.Bh = x.Mxa, x.sk ? w.Zrb(v) : w.$rb(v) } catch (y) { w.log.error("Error activating track:", y, x); return } w.Lm || w.j.Ld(v.ga ? "tt_comp" : "tt_err");
                                v.ga ? (g.config.D9a ? setTimeout(function () { w.j.Tm.set(p.Bf.je) }, g.config.D9a) : w.j.Tm.set(p.Bf.je), x.sk || w.LJ()) : v.aborted ? w.log.warn("aborted timed text track loading") : g.config.KEb ? w.j.Pd(l.N.sib, { yb: v.track ? v.track.Th : {} }) : (w.log.error("ignore subtitle initialization error", v), w.j.Tm.set(p.Bf.je))
                            }
                        }; this.Zb = new m.Nk; this.mB = new h.jMa((0, d.Oh)(t, "SubtitleTracker"), g.config.QDb); this.log = (0, d.Oh)(t, "TimedTextManager"); this.yJ = new k.EMa(this.Ue, this.LJ); this.j.Qb.addListener(this.Tl); g.config.IVb ? (this.j.addEventListener(p.ca.Lm,
                            this.vTb), this.Tl()) : (this.j.Tm.set(p.Bf.je), this.j.addEventListener(p.ca.Lm, function () { w.Lm = !0; w.Tl() })); this.j.sb.addListener(this.zTb); this.j.addEventListener(p.ca.Iaa, this.sync); this.j.Zq.addListener(this.Fta); this.j.addEventListener(p.ca.ng, this.sTb)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.CMa = void 0; var f = a(284), k = a(537), m = a(74), g = a(14), d = a(8), h = a(1204), l = a(3), n = a(50), q = a(18), p = a(15), u = a(1205); c.prototype.addEventListener = function (t, w, v) { this.Zb.addListener(t, w, v) }; c.prototype.removeEventListener =
                        function (t, w) { this.Zb.removeListener(t, w) }; c.prototype.fireEvent = function (t, w, v) { this.Zb.Gc(t, w, v) }; c.prototype.tia = function (t, w, v) { var x = this, y = u.AMa.Xzb(this.j, t, w, v); this.h1a(this.j.cg, y); this.j.Gg.forEach(function (z) { x.h1a(z.cg, y) }); this.j.Qb.set(y); this.j.fireEvent(p.ca.wv) }; c.prototype.OVb = function (t) { this.Wva(t) ? t.o7().then(function () { }) : Promise.resolve() }; c.prototype.BJb = function (t) { return this.mB.jJb(t) }; c.prototype.bpa = function (t) { return this.mB.bpa(t) }; c.prototype.hW = function () {
                            var t = this.j.NZ,
                                w = g.config.cya.characterSize; w = { size: g.config.Oaa.characterSize || w }; t && (w.visibility = t.hpa(), w.$T = t.fpa(), w.qs = t.gpa()); return w
                        }; c.prototype.J_b = function (t) { g.config.Oaa.characterSize = t; t = this.j.Qb.value; this.Wva(t) && !t.sk && t.o7().then(this.UL).catch(this.UL) }; c.prototype.j4b = function (t, w) {
                            var v; t === p.Xa.Kc || t == p.Xa.mh ? w !== p.Xa.Kc && w !== p.Xa.mh && ((w = this.j.Qb.value) && !this.Wva(w) || this.mB.X4a(this.Ue(), w || void 0, "presentingstate:" + t)) : t !== p.Xa.Pe && t !== p.Xa.xp || this.mB.zma(null !== (v = this.Ue()) && void 0 !==
                                v ? v : void 0, "presentingstate:" + t)
                        }; c.prototype.K$ = function () { this.O$ = 0; clearTimeout(this.XYb) }; c.prototype.yTa = function () { var t; this.Bh && this.Bh.stop(); (null === (t = this.SG) || void 0 === t ? 0 : t.sk) && this.n3a("removeListener"); this.Bh = void 0 }; c.prototype.n3a = function (t) {
                            this.Bh && (this.Bh[t]("showsubtitle", this.ITb), this.Bh[t]("removesubtitle", this.DTb), this.Bh[t]("underflow", this.zk), this.Bh[t]("bufferingComplete", this.$Sb), "addListener" === t ? (this.j.addEventListener(p.ca.fq, this.z9), this.j.addEventListener(p.ca.Ck,
                                this.P5a), this.j.addEventListener(p.ca.WI, this.VD), this.j.addEventListener(p.ca.l9, this.M5a), this.j.addEventListener(p.ca.Hya, this.U5a)) : (this.j.removeEventListener(p.ca.fq, this.z9), this.j.removeEventListener(p.ca.Ck, this.P5a), this.j.removeEventListener(p.ca.WI, this.VD), this.j.removeEventListener(p.ca.l9, this.M5a), this.j.removeEventListener(p.ca.Hya, this.U5a)))
                        }; c.prototype.p_a = function (t) {
                            return {
                                currentPts: this.Ue(), displayTime: t.displayTime, duration: t.duration, id: t.id, originX: t.originX, originY: t.originY,
                                sizeX: t.sizeX, sizeY: t.sizeY, rootContainerExtentX: t.rootContainerExtentX, rootContainerExtentY: t.rootContainerExtentY
                            }
                        }; c.prototype.Zrb = function (t) { var w = this, v = t.track; if (!v || !v.sk) throw Error("Not an image base subtitle"); t.ga ? (this.K$(), this.n3a("addListener"), this.log.info("Activated", v), this.j.Mi.set(v), this.Lm ? (0, n.Tc)(function () { w.Bh.Vs(w.Ue()) }) : this.Bh.pause()) : this.s9a(v, t) }; c.prototype.$rb = function (t) {
                            var w = t.track, v = t.ga; if (!w || w.sk) throw Error("Not a valid text track"); v ? (this.K$(), this.yJ.s$a(this.Bh),
                                this.log.info("Activated", w), this.j.Mi.set(w)) : this.s9a(w, (0, l.Gv)(t)); this.LJ()
                        }; c.prototype.s9a = function (t, w) { var v = this, x = this.O$ < g.config.hQb; x && (this.XYb = setTimeout(function () { v.O$++; t.o7().then(v.UL).catch(v.UL) }, g.config.B2b)); this.log.error("Failed to activate" + ((null === t || void 0 === t ? 0 : t.sk) ? " img subtitle" : ""), { retry: x }, w, t) }; c.prototype.Wva = function (t) { return !(!t || t.Vo() && !t.On()) }; c.prototype.h1a = function (t, w) {
                            var v = t.findIndex(function (x) { return x.cc >= w.cc }); -1 === v && (v = 0); t.splice(v, 0,
                                w)
                        }; b.CMa = c; r = {}; c.V0b = (r[f.EF.TB.LOADING] = { YW: !0 }, r[f.EF.TB.zR] = { ju: !0 }, r); c.r0b = "showsubtitle"; c.gYb = "removesubtitle"
                }, function (r, b, a) {
                    function c(m, g, d) { this.start = m; this.track = g; this.rJ = Array.isArray(d) ? d : [] } function f(m, g) { this.log = m; this.iQ = g; this.eva = []; this.orphans = [] } Object.defineProperty(b, "__esModule", { value: !0 }); b.jMa = void 0; var k = a(20); f.prototype.bsb = function (m, g) { this.X4a(m, g, "activating") }; f.prototype.gBb = function (m) { this.zma(m, "de-activating") }; f.prototype.X4a = function (m, g, d) {
                        this.Zk &&
                            this.zma(m, "close current for new"); var h = []; this.orphans.length && (h.push.apply(h, la(this.orphans)), this.orphans = []); this.Zk = new c(m, g, h); this.iQ && this.log.trace("new range: " + d, this.Zk)
                    }; f.prototype.zma = function (m, g) { this.Zk && (this.Zk.end = m, this.eva.push(this.Zk), this.iQ && this.log.trace("end range: " + g, this.Zk || {}), this.Zk = void 0) }; f.prototype.Gcb = function (m) {
                        for (var g = [], d = 0; d < arguments.length; ++d)g[d - 0] = arguments[d]; this.Zk ? this.Zk.rJ.push.apply(this.Zk.rJ, la(g)) : this.orphans.push.apply(this.orphans,
                            la(g))
                    }; f.prototype.bpa = function (m) {
                        var g = this.eva.slice(0); if (this.Zk && "undefined" !== typeof m) { var d = new c(this.Zk.start, this.Zk.track, this.Zk.rJ); d.end = m; g.push(d) } m = g.reduce(function (h, l) { var n; if (!l.track) return h; var q = l.track.Dc, p = l.track.Wr(l.start, l.end); if (void 0 === p || null === p) return h; var u = new Set(l.rJ); h[q] ? (l = h[q], l.expected += p, l.missed += p - u.size) : h[q] = { dlid: q, bcp47: l.track.hf, profile: l.track.profile, expected: p, missed: p - u.size, startPts: null !== (n = l.track.wJb()) && void 0 !== n ? n : 0 }; return h },
                            {}); m = Object.values(m); this.iQ && this.log.trace("subtitleqoe:", JSON.stringify(m, null, "\t")); return m
                    }; f.prototype.jJb = function (m) {
                        var g = this.eva.slice(0), d = 0, h = 0; if (this.Zk && "undefined" != typeof m) { var l = new c(this.Zk.start, this.Zk.track, this.Zk.rJ); l.end = m; g.push(l) } g.forEach(function (n) {
                            if (n.track) { if (n.end < n.start) { (0, k.gb)(!1, "negative range"); n.lE = 0; return } var q = new Set(n.rJ), p = n.track.Wr(n.start, n.end); n.D5 = p; n.lE = void 0 === p || null === p ? 0 : 0 === p ? 100 : 100 * q.size / p } else n.lE = 100; q = n.end - n.start; d +=
                                q; h += n.lE * q
                        }); l = d ? Math.round(h / d) : 100; this.log.trace("qoe score " + l + ", at pts: " + m); this.iQ && (m = g.map(function (n) { return { start: n.start, "end  ": n.end, duration: n.end - n.start, score: Math.round(n.lE), lang: n.track ? n.track.hf : "none", "actual  ": n.rJ.join(" "), expected: n.D5 } }), this.log.trace("score for each range: ", JSON.stringify(m, function (n, q) { return q }, " "))); return l
                    }; b.jMa = f
                }, function (r, b, a) {
                    function c(p, u, t, w, v, x) {
                        var y, z; p = d.EF.call(this, u, p, p, v, !0, "", "1", { 0: t }, [{ id: 0, name: "custom" }], "xx", w || p, h.Hp.zK,
                            void 0, void 0, "primary", null !== (y = null === x || void 0 === x ? void 0 : x.profile) && void 0 !== y ? y : "dfxp-ls-sdh", null !== (z = null === x || void 0 === x ? void 0 : x.midx) && void 0 !== z ? z : {}, !1, !1, null === x || void 0 === x ? void 0 : x.isLanguageLeftToRight) || this; p.j = u; p.url = t; p.options = x; p.Ws = null === x || void 0 === x ? void 0 : x.useRangeHeader; return p
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.AMa = void 0; r = a(68); var f = a(14), k = a(62), m = a(8), g = a(28), d = a(284), h = a(130), l = a(76), n = a(134), q = a(15); (0, r.Oea)(r.Lea, function (p) {
                        function u(w) {
                            if (w.ctrlKey &&
                                w.altKey && w.shiftKey && w.keyCode == n.Hv.Xlb) { var v = (0, g.createElement)("INPUT", void 0, void 0, { type: "file" }); v.addEventListener("change", function () { var x = v.files[0]; if (x) { var y = x.name; t.info("Loading file", { FileName: y }); var z = new FileReader; z.readAsText(x); z.addEventListener("load", function () { return p.ho.tia("nourl", y, { content: z.result }) }) } }); v.click() }
                        } var t = (0, m.Oh)(p, "TimedTextCustomTrack"); f.config.yla && (t.info("Loading url", { Url: f.config.yla }), p.ho.tia(f.config.yla, "custom")); k.ye.addListener(k.pD,
                            u); p.addEventListener(q.ca.ng, function () { k.ye.removeListener(k.pD, u) })
                    }); qa(c, d.EF); c.Xzb = function (p, u, t, w) { var v = "custom" + c.kMb++; return new c(v, p, u, t, -1, w) }; c.prototype.hWa = function () { var p = this; return new Promise(function (u, t) { var w; if (null === (w = p.options) || void 0 === w ? 0 : w.content) u(p.options.content); else if (p.url) { var v = { responseType: l.Ppa, url: p.url, track: p, uc: null, UC: "tt-" + p.hf }; p.j.g7.download(v, function (x) { x.ga ? u(x.content) : (x.reason = "downloadfailed", x.url = v.url, x.track = p, t(x)) }) } }) }; b.AMa =
                        c; c.kMb = 0
                }, function (r, b, a) {
                    function c(l) {
                        var n = this; this.j = l; this.eTb = function () { m.ye.removeListener(m.Q6, n.S5a); var p = n.cs.Ln(); p && p.parentNode && p.parentNode.removeChild(p) }; this.Fta = function (p) { n.cs.j_b(p.newValue) }; this.LTb = function (p) { n.cs.r_b(p.newValue ? p.newValue.I7 : void 0) }; this.S5a = function () { n.cs.dP() }; this.cs = new d.BMa(g.config.Naa, l.Qb.value ? l.Qb.value.I7 : void 0); var q = l.Ys; (0, k.gb)(.1 < q.width / q.height); this.cs.$Zb(q.width / q.height); l.bh.appendChild(this.cs.Ln()); l.Zq.addListener(this.Fta);
                        l.Qb.addListener(this.LTb); l.addEventListener(h.ca.ng, this.eTb, f.wF); m.ye.addListener(m.Q6, this.S5a)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.DMa = void 0; var f = a(12), k = a(20), m = a(62), g = a(14), d = a(542), h = a(15); c.prototype.axa = function (l) { this.cs.axa(l) }; c.prototype.hpa = function () { return this.cs.hpa() }; c.prototype.Zwa = function (l) { this.cs.Zwa(l) }; c.prototype.fpa = function () { return this.cs.fpa() }; c.prototype.$wa = function (l) { this.cs.$wa(l) }; c.prototype.gpa = function () { return this.cs.gpa() }; b.DMa =
                        c
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Q7a = void 0; b.Q7a = function (a) { var c = !1, f = !1; return function () { if (c) f = !0; else for (f = !0; f;)f = !1, c = !0, a(), c = !1 } } }, function (r, b, a) {
                    function c(t) {
                        this.j = t; this.U1b = !1; this.log = (0, g.Oh)(this.j, "MediaAppendManager"); this.Tb = this.j.Tb; this.ba = this.Tb.ba; this.q_ = this.PT = !1; this.audio = { type: m.gi.audio, Fw: [], Ll: [], IO: !1 }; this.video = { type: m.gi.video, Fw: [], Ll: [], IO: !1 }; t = {}; this.DJ = (t[f.Yb.ul.Pb] = this.video, t[f.Yb.ul.$b] = this.audio, t); this.closed =
                            !1; this.MD = k.config.MD; this.S8 = k.config.S8; this.wI = (0, k.aUa)(!!this.j.fb.vj).wI; this.nSa = !0; (0, h.gb)(this.MD > this.S8, "bad config"); (0, h.gb)(this.MD > this.wI, "bad config")
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.TGa = void 0; var f = a(43), k = a(14), m = a(75), g = a(8), d = a(3), h = a(20), l = a(28), n = a(15), q = a(165), p = a(4), u = a(63); c.prototype.i6 = function () {
                        function t(y, z) { return w(y, z.F8) } function w(y, z) {
                            var A, B, E = !!z.response, D = z.response; if (z.gd) return y + (D.byteLength || 0); z = (null !== (A = null === z || void 0 === z ?
                                void 0 : z.lM) && void 0 !== A ? A : 0) - (null !== (B = null === z || void 0 === z ? void 0 : z.mM) && void 0 !== B ? B : 0); return (E ? D.byteLength : z) + y
                        } var v = this.DJ[f.Yb.ul.Pb], x = this.DJ[f.Yb.ul.$b]; return { videoToAppend: v.Ll.reduce(w, 0), videoInBuffer: v.Fw.reduce(t, 0), audioToAppend: x.Ll.reduce(w, 0), audioInBuffer: x.Fw.reduce(t, 0) }
                    }; c.prototype.BSb = function () { this.audio.gj && !this.audio.gj.Nh() && (!1, this.audio.gj.CRa(new Uint8Array([0, 0, 0, 8, 102, 114, 101, 101]))) }; c.prototype.B_b = function () { this.audio.fxa = !0; this.video.fxa = !0 }; c.prototype.H_b =
                        function (t) { t === f.Yb.ul.$b ? this.PT = !0 : t === f.Yb.ul.Pb && (this.q_ = !0) }; c.prototype.Nh = function () { var t, w; return !(null === (t = this.audio.gj) || void 0 === t || !t.Nh()) || !(null === (w = this.video.gj) || void 0 === w || !w.Nh()) }; c.prototype.iaa = function (t) { var w, v; null === (w = this.audio.gj) || void 0 === w ? void 0 : w.iaa(t); null === (v = this.video.gj) || void 0 === v ? void 0 : v.iaa(t) }; c.prototype.qtb = function (t) { t.mediaType === f.Yb.ul.$b ? this.PT = !1 : t.mediaType === f.Yb.ul.Pb && (this.q_ = !1); var w = this.DJ[t.mediaType]; w ? w.Ll.push(t) : (0, h.gb)(!1) };
                    c.prototype.otb = function (t, w, v) { w = { mediaType: t.type, AD: !1, response: w, wi: function () { return "header" }, get gd() { return !this.AD }, profile: v.profile }; (t = this.DJ[t.type]) ? t.Ll.push(w) : (0, h.gb)(!1) }; c.prototype.F_b = function (t) { var w = this.DJ[t.type]; if (w) try { w.gj = t } catch (v) { this.Pd(d.N.tea, { ma: (0, q.q6)(t.type), yb: (0, l.$d)(v) }) } }; c.prototype.close = function () { this.closed = !0 }; c.prototype.Pd = function (t, w, v) { this.closed || this.j.Pd(t, w, v) }; c.prototype.Ila = function (t) {
                        return this.$Va(this.audio, t, this.M4()) && this.$Va(this.video,
                            t, this.M4())
                    }; c.prototype.M4 = function () { return this.j.sb.value === n.Xa.Pe ? this.wI : this.S8 }; c.prototype.H2b = function () { var t = this.video.Ll.filter(function (v) { return !v.gd }).reduce(function (v, x) { return v + x.Sr }, 0), w = this.audio.Ll.filter(function (v) { return !v.gd }).reduce(function (v, x) { return v + x.Sr }, 0); return Math.min(t, w) }; c.prototype.$Va = function (t, w, v) { var x = t.Jla; x = x && x.F8; return !t.gj || 0 === t.Ll.length && (t.type === m.gi.audio && this.PT || t.type === m.gi.video && this.q_) ? !0 : x && x.ux - w >= v || !1 }; c.prototype.pya =
                        function (t) { this.U1b || (this.Xbb(this.audio, t), this.Xbb(this.video, t)); this.closed || this.lTa() }; c.prototype.lTa = function () { var t, w, v = !this.audio.gj || 0 !== this.audio.Fw.length, x = 0 === this.video.Ll.length && this.q_, y = !this.video.gj || 0 !== this.video.Fw.length; !(!(0 === this.audio.Ll.length && this.PT && y || x && v) || (null === (t = this.audio.gj) || void 0 === t ? 0 : t.Nh()) || (null === (w = this.video.gj) || void 0 === w ? 0 : w.Nh()) || this.yma) && this.ba.readyState > u.yp.I0.HAVE_NOTHING && (this.yma = !0, this.Tb.endOfStream()) }; c.prototype.Xbb =
                            function (t, w) { if (!this.closed && t.gj) { var v = t.gj, x = t.Fw; !v.Nh() && 0 < x.length && (t.Jla = x[x.length - 1]); if (t.fxa) { if (v.Nh()) return; t.fxa = !1; var y = this.Tb.IZa().u7a(p.Zl); 0 < y && v.remove(0, y) } for (y = t.Ll[0]; y && y.response && (y.gd || y.UA - w <= this.MD);)if (this.yma = !1, this.v3b(y)) t.Ll.shift(), y = t.Ll[0]; else break; !v.Nh() && 0 < x.length && (t.Jla = x[x.length - 1]) } }; c.prototype.v3b = function (t) {
                                !1; (0, h.gb)(t && !!t.response); var w = t.response, v = t.mediaType, x = this.DJ[v]; if (!this.closed && x.gj && !x.gj.Nh()) {
                                    try {
                                        t.gd && t.profile && x.gj.pwb(t.profile),
                                            this.log.trace("Feeding media segment to decoder", { Bytes: w.byteLength }), x.gj.CRa(w, t), t.gd || x.Fw.push(this.Zzb(t)), k.config.qCb && !t.gd && t.tTa()
                                    } catch (y) { "QuotaExceededError" === y.name ? (this.j.O4 = this.j.O4 ? this.j.O4 + 1 : 1, this.nSa = !1, x.IO = !0) : (this.log.error("Exception while appending media", t, y), this.Pd("CodecSwitchingError" === y.name ? d.N.sIa : d.N.Lkb, (0, q.q6)(v))); return } return !0
                                }
                            }; c.prototype.Rzb = function (t) {
                                var w = this.j.tKb(t.Md); w || (this.log.warn("Could not find CDN", { cdnId: t.Md }), w = { id: t.Md, zra: t.location });
                                return w
                            }; c.prototype.TUa = function (t) { var w, v = t.Ta; t.mediaType === f.Yb.ul.$b ? w = this.j.K_a(v) : t.mediaType === f.Yb.ul.Pb && (w = this.j.W_a(v)); w || this.log.error("Could not find stream", { stream: v }); return w }; c.prototype.Zzb = function (t) { var w = this.TUa(t); return { F8: t, stream: w, Dl: { startTime: Math.floor(t.UA), endTime: Math.floor(t.ux) }, uc: this.Rzb(t) } }; c.prototype.kka = function (t) { this.pTa(t, f.Yb.ul.$b); this.pTa(t, f.Yb.ul.Pb) }; c.prototype.pTa = function (t, w) {
                                var v = this, x = t; this.nSa && (x -= k.config.SY); var y = this.DJ[w],
                                    z = y.Fw, A, B, E = !1; z.some(function (G, C) { var H = G.F8; if (t < H.UA) return (0, h.gb)(!1, "decoder content does not contain media time"), !0; x >= H.ux && (A = C); if (t < H.ux) return B = C, C = w === f.Yb.ul.$b ? v.j.nf : v.j.Td, G !== C.value && (C.set(G), E = !0), !0 }); if ((y.IO || E) && void 0 !== A && !this.yma) { if (A + 1 === B) { if (0 === A) return; A-- } var D = z[A].F8.ux - 1; if (0 < D) { var F = y.gj; F && !F.Nh() ? (F.remove(0, D / l.Xl), y.IO = !1, z.splice(0, A + 1)) : (y.IO = !0, !1) } }
                            }; c.prototype.h9a = function () {
                                !1;[this.audio, this.video].forEach(function (t) {
                                    t.Fw = []; t.Jla = void 0;
                                    t.Ll = []
                                }); this.q_ = this.PT = !1; this.j.fireEvent(n.ca.C8)
                            }; c.prototype.opa = function () { return [this.audio, this.video].filter(function (t) { return t.gj }) }; c.prototype.NGb = function () {
                                if (this.Nh()) (0, h.gb)(!1, "should not be busy while checking buffer ranges"); else {
                                    var t = this.opa().map(function (v) {
                                        var x, y, z, A = v.Ll.filter(function (E) { return E.AD }), B = v.gj.buffered(); v = B.length ? Math.ceil(1E3 * B.start(0)) : void 0; B = B.length ? Math.floor(1E3 * B.end(B.length - 1)) : void 0; v = null !== v && void 0 !== v ? v : null === (x = A[0]) || void 0 ===
                                            x ? void 0 : x.UA; x = null !== (z = null === (y = A[A.length - 1]) || void 0 === y ? void 0 : y.ux) && void 0 !== z ? z : B; if (void 0 !== v && void 0 !== x) return { start: v, end: x }
                                    }); if (t.every(function (v) { return v })) { var w = Math.max.apply(Math, la(t.map(function (v) { return v.start }))); t = Math.min.apply(Math, la(t.map(function (v) { return v.end }))); if (t > w) return { start: (0, p.Nc)(w), end: (0, p.Nc)(t) } }
                                }
                            }; c.prototype.skip = function (t) {
                                (0, h.gb)(!this.Nh(), "should not be busy while skipping"); this.opa().forEach(function (w) { w.IO = !0 }); this.kka(t); this.opa().forEach(function (w) {
                                    0 <
                                        w.Fw.length || (w.Ll = w.Ll.filter(function (v) { return v.gd || v.ux > t ? !0 : !1 }))
                                })
                            }; b.TGa = c
                }, function (r, b) {
                    function a(f, k, m) {
                        var g = []; f.forEach(function (n) { -1 == g.indexOf(n.Ig) && g.push(n.Ig) }); var d = null, h = null; k.forEach(function (n) { null === d ? h = d = n.bitrate : h < n.bitrate ? h = n.bitrate : d > n.bitrate && (d = n.bitrate) }); var l = []; g.forEach(function (n) {
                            var q = { ranges: [], profile: n }; d && h && (q.ranges.push({ min: d, max: h }), m && (q.disallowed = m.filter(function (p) { return p.stream.Ig === n }).map(function (p) {
                                return {
                                    stream: { bitrate: p.stream.bitrate },
                                    disallowedBy: p.c5
                                }
                            })), l.push(q))
                        }); return l
                    } function c(f, k) { var m = void 0; f = f.filter(function (d) { var h = k(d); h && (m = m || [], m.push({ stream: d, c5: h })); return !h }); for (var g = 0; g < f.length; g++)f[g].lower = f[g - 1], f[g].UKb = f[g + 1]; return { cD: f, oCb: m } } Object.defineProperty(b, "__esModule", { value: !0 }); b.nCb = b.Yt = b.QAb = b.z_a = void 0; b.z_a = function (f, k) { k = c(f, k); return a(f, k.cD, k.oCb) }; b.QAb = a; b.Yt = c; b.nCb = function (f) { if (f.gl && f.lower && 1080 < f.height) return ["Prefetch UHD"] }
                }, function (r, b, a) {
                    function c(m, g) {
                        m = f.ec.call(this,
                            m) || this; m.jsa = g; return m
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.PJa = void 0; var f = a(82), k = a(94); qa(c, f.ec); c.prototype.set = function (m) { f.ec.prototype.set.call(this, (0, k.Dp)(m, 0, this.jsa)) }; b.PJa = c
                }, function (r, b, a) {
                    function c(p, u, t, w, v) {
                        var x = this; this.bj = p; this.config = t; this.hb = w; this.debug = v; this.d$ = []; this.ws = []; this.pua = []; this.xG = {}; this.aWa = !1; this.VT = {}; this.sqa = 0; this.log = u.lb("PlayTimeTracker"); this.startTime = this.bj.mediaTime.value; this.k8 = this.config().Vrb; this.PJ(); this.xG.abrdel =
                            0; this.k8.forEach(function (y) { y = "abrdel" + y; x.VT[y] = 0; x.xG[y] = 0 })
                    } function f() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.CJa = void 0; var k = a(1); r = a(0); var m = a(7), g = a(13), d = a(80); a(4); var h = a(25), l = a(97), n = a(12), q = a(24); f.prototype.encode = function (p) { return { downloadableId: p.Dc, correlationId: p.Jg, bitrate: p.bitrate, vmaf: p.zb, duration: p.duration, metric: p.oX, cdnId: p.KC } }; f.prototype.decode = function (p) {
                        return {
                            Dc: p.downloadableId, Jg: p.correlationId, bitrate: p.bitrate, zb: p.vmaf, duration: p.duration,
                            oX: p.metric, KC: p.cdnId
                        }
                    }; c.prototype.CN = function () { this.jJ(this.bj.mediaTime.value); var p = 0; this.ws.forEach(function (u) { p += (u.endTime - u.startTime) / u.rate }); return Math.floor(p) }; c.prototype.ipa = function () { this.jJ(this.bj.mediaTime.value); var p = 0; this.ws.forEach(function (u) { p += u.endTime - u.startTime }); this.debug.assert(p === Math.floor(p), "Value of totalContentPlayTime is not an integer."); return Math.floor(p) }; c.prototype.zGb = function () {
                        this.jJ(this.bj.mediaTime.value); return {
                            audio: this.PV(this.d$, this.ZYa),
                            video: this.PV(this.ws, this.ZYa)
                        }
                    }; c.prototype.OIb = function () { var p = { total: this.CN(), totalContentTime: this.ipa(), audio: this.PV(this.d$, this.p6), video: this.PV(this.ws, this.p6), timedtext: this.PV(this.pua, this.p6) }; this.debug.assert(!(!p.audio || !p.video)); return p }; c.prototype.Ona = function () { this.jJ(this.bj.mediaTime.value); var p = this.Ina(this.ws, this.LGb); try { var u = this.xYa(p) } catch (t) { return this.log.warn("Failed to calc average bitrate."), null } this.xG.abrdel = Math.round(u); return this.xG.abrdel }; c.prototype.yYa =
                        function () { this.jJ(this.bj.mediaTime.value); var p = this.Ina(this.ws, this.WJb); try { var u = this.xYa(p) } catch (t) { return this.log.warn("Failed to calc average vmaf."), null } return Math.round(u) }; c.prototype.wYa = function () {
                            var p = this; if (!this.aWa) {
                                var u = this.CN(); this.k8.forEach(function (t) {
                                    if (0 === p.VT["abrdel" + t] && u > t * n.Xl) {
                                        var w = 0, v = 0, x = 0; p.ws.some(function (y) { w += y.stream.bitrate * (y.endTime - y.startTime); v += y.endTime - y.startTime; x = y.stream.bitrate; if (v > t * n.Xl) return !0 }); w && (p.VT["abrdel" + t] = Math.round((w -
                                            x * (v - t * n.Xl)) / (t * n.Xl)))
                                    }
                                }); 0 !== this.VT["abrdel" + this.k8[this.k8.length - 1]] && (this.aWa = !0); (0, q.xe)(this.VT, function (t, w) { p.xG[t] = 0 === w ? p.xG.abrdel : w })
                            } return this.xG
                        }; c.prototype.psb = function (p) { this.sqa += p }; c.prototype.X_a = function () { return !!(this.ws[0] && this.ws[0].stream && this.hb.Vi(this.ws[0].stream.zb)) }; c.prototype.PJ = function () {
                            var p = this; this.bj.nf.addListener(function (u) { p.DM = p.hTa(p.DM, p.d$, u.newValue) }); this.bj.Td.addListener(function (u) { p.FM = p.hTa(p.FM, p.ws, u.newValue) }); this.bj.playbackRate.addListener(function (u) {
                                p.jJ(p.bj.mediaTime.value,
                                    u.oldValue)
                            }); this.bj.Mi.addListener(this.USb.bind(this))
                        }; c.prototype.ita = function (p, u) { this.jJ(p); this.startTime = u; this.FM = this.DM = void 0; this.EM && (this.EM.startTime = this.startTime); !1 }; c.prototype.USb = function (p) { this.uY(this.EM, this.pua, this.bj.mediaTime.value); this.EM = p.newValue ? { track: p.newValue, startTime: this.bj.mediaTime.value, endTime: d.cy } : void 0 }; c.prototype.jJ = function (p, u) {
                            u = void 0 === u ? this.bj.playbackRate.value : u; p && this.DM && this.FM && (p = Math.min(p, this.DM.endTime, this.FM.endTime), this.uY(this.DM,
                                this.d$, p, u), this.DM.startTime = p, this.uY(this.FM, this.ws, p, u), this.FM.startTime = p, this.EM && (this.uY(this.EM, this.pua, p, u), this.EM.startTime = p), this.startTime = p, !1)
                        }; c.prototype.hTa = function (p, u, t) { p && this.uY(p, u, Math.min(p.endTime, this.bj.mediaTime.value)); if (t && t.stream) return p = t.Dl, u = t.stream, { uc: t.uc, track: u.track, stream: u, startTime: Math.max(p.startTime, this.startTime), endTime: p.endTime } }; c.prototype.uY = function (p, u, t, w) {
                            w = void 0 === w ? this.bj.playbackRate.value : w; p && t && t >= p.startTime && (p = {
                                uc: p.uc,
                                track: p.track, stream: p.stream, startTime: p.startTime, endTime: t, rate: w
                            }, (t = u[u.length - 1]) && t.track === p.track && t.stream === p.stream && t.uc === p.uc && t.endTime === p.startTime && t.rate === p.rate ? t.endTime = p.endTime : u.push(p), !1)
                        }; c.prototype.Ina = function (p, u) { var t = this, w = {}; return p.reduce(function (v, x) { var y = u.bind(t, x)(), z = y.key; y = k.__rest(y, ["key"]); x = x.endTime - x.startTime; var A = w[z]; A ? A.duration += x : (A = y, A.duration = x, v.push(A), w[z] = A); return v }, []) }; c.prototype.PV = function (p, u) { return this.Ina(p, u).map(function (t) { return (new f).encode(t) }) };
                    c.prototype.p6 = function (p) { var u = p.stream; if (u) { p = u.Dc; var t = u.bitrate, w = u.zb } else p = p.track.Dc; return { key: p + "$" + t + "$" + w, Dc: p, bitrate: t, zb: w } }; c.prototype.ZYa = function (p) { var u, t = this.p6(p), w = null === (u = p.uc) || void 0 === u ? void 0 : u.id; p = p.track.Jg; return Object.assign({}, t, { key: t.key + "$" + w + "$" + p, KC: w, Jg: p }) }; c.prototype.LGb = function (p) { var u = p.stream; p = null === u || void 0 === u ? void 0 : u.Dc; u = null === u || void 0 === u ? void 0 : u.bitrate; return { key: p + "$" + u, Dc: null !== p && void 0 !== p ? p : "", oX: u } }; c.prototype.WJb = function (p) {
                        var u =
                            p.stream; p = null === u || void 0 === u ? void 0 : u.Dc; u = null === u || void 0 === u ? void 0 : u.zb; return { key: p + "$" + u, Dc: null !== p && void 0 !== p ? p : "", oX: u }
                    }; c.prototype.xYa = function (p) { var u = this, t = 0; p.forEach(function (v) { if (u.hb.Vi(v.duration) && u.hb.Vi(v.oX)) t += v.duration; else throw Error("Invalid arguments: missing duration and/or metric in segment."); }); if (!t) return 0; var w = 0; p.forEach(function (v) { w += v.oX * v.duration / t }); return w }; a = c; a = k.__decorate([(0, r.R)(), k.__param(1, (0, r.l)(m.ub)), k.__param(2, (0, r.l)(g.cd)), k.__param(3,
                        (0, r.l)(h.pf)), k.__param(4, (0, r.l)(l.Dv))], a); b.CJa = a
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.BJa = "PlayTimeTrackerFactorySymbol" }, function (r, b, a) {
                    function c(m, g, d, h, l, n, q, p, u, t, w, v) {
                        this.index = m; this.K = g; this.ha = d; this.fb = h; this.da = l; this.aj = n; this.Hra = q; this.$xb = u; this.x4a = w; this.sj = v; this.Cb = new f.ec(null); this.Af = new f.ec(null); this.Qb = new f.ec(null); this.Mi = new f.ec(null); this.Zq = new f.ec(void 0); this.he = new f.ec(null); this.rh = new f.ec(null); this.nf = new f.ec(null); this.Td =
                            new f.ec(null); this.uc = [new f.ec(null), new f.ec(null)]; this.mediaTime = new f.ec(void 0); this.playbackRate = new f.ec(1); this.Yp = new f.ec(null); this.BG = this.AG = "notcached"; this.b5 = this.background = !1; p && (this.he.set(p.he.value), this.rh.set(p.rh.value)); this.Ol = t(this); this.Km = this.x4a.JXb(this.da, this.aj)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.QJa = void 0; var f = a(82), k = a(4); c.prototype.Ld = function (m) { this.Km.Vp(m) }; c.prototype.dA = function (m) {
                        var g = this; Object.entries(m).forEach(function (d) {
                            var h =
                                da(d); d = h.next().value; h = h.next().value; g.Km.Vp(d, (0, k.Nc)(h - g.aj.$(k.ja)))
                        })
                    }; c.prototype.t9 = function () { this.x4a.bYb(this.da) }; Ya.Object.defineProperties(c.prototype, {
                        Wd: { configurable: !0, enumerable: !0, get: function () { return this.fb.Wd } }, jba: { configurable: !0, enumerable: !0, get: function () { return this.fb.jba } }, sm: { configurable: !0, enumerable: !0, get: function () { return this.Uc && this.Uc.sm } }, Gg: { configurable: !0, enumerable: !0, get: function () { var m; return null !== (m = this.Uc && this.Uc.Gg) && void 0 !== m ? m : [] } }, rp: {
                            configurable: !0,
                            enumerable: !0, get: function () { var m; return null !== (m = this.Uc && this.Uc.rp) && void 0 !== m ? m : [] }
                        }, rB: { configurable: !0, enumerable: !0, get: function () { var m; return null !== (m = this.Uc && this.Uc.rB) && void 0 !== m ? m : [] } }, cg: { configurable: !0, enumerable: !0, get: function () { var m; return null !== (m = this.Uc && this.Uc.cg) && void 0 !== m ? m : [] } }, zi: { configurable: !0, enumerable: !0, get: function () { return this.Uc && this.Uc.zi } }, MH: {
                            configurable: !0, enumerable: !0, get: function () {
                                var m; return null !== (m = this.Uc && this.Uc.MH) && void 0 !== m ? m :
                                    !1
                            }
                        }, ev: { configurable: !0, enumerable: !0, get: function () { var m; return null !== (m = this.Uc && this.Uc.ev) && void 0 !== m ? m : [] } }, uj: { configurable: !0, enumerable: !0, get: function () { var m; return null !== (m = this.Uc && this.Uc.uj) && void 0 !== m ? m : [] } }, Vt: { configurable: !0, enumerable: !0, get: function () { return this.lga && 0 < this.lga.$(k.ja) ? this.lga : (0, k.Nc)(this.pa ? this.pa.Gb.duration : 0) }, set: function (m) { this.lga = m } }, Kk: { configurable: !0, enumerable: !0, get: function () { return this.fb.Kk || 0 } }, CU: {
                            configurable: !0, enumerable: !0, get: function () {
                                return void 0 !==
                                    this.uU ? this.uU : void 0 === this.mediaTime.value ? null : this.$xb(this.mediaTime.value, this.ha)
                            }
                        }, Jg: { configurable: !0, enumerable: !0, get: function () { var m, g; return null === (g = null === (m = this.pa) || void 0 === m ? void 0 : m.Gb.k4) || void 0 === g ? void 0 : g.ss } }, aJ: { configurable: !0, enumerable: !0, get: function () { var m, g; return null === (g = null === (m = this.pa) || void 0 === m ? void 0 : m.Gb.k4) || void 0 === g ? void 0 : g.aJ } }, yd: { configurable: !0, enumerable: !0, get: function () { return this.Km.yd } }
                    }); b.QJa = c
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.UMa = "TrickPlayParserSymbol"
                }, function (r, b, a) {
                    function c() { } var f; Object.defineProperty(b, "__esModule", { value: !0 }); b.TMa = void 0; r = a(1); var k = a(503); a = a(0); c.prototype.parse = function (g) { if (!g) throw Error("invalid array buffer"); var d = new Uint8Array(g), h = new k.YBa(d); g = this.pUb(h); d = this.qUb(h, d, g); return { header: g, images: d } }; c.prototype.pUb = function (g) {
                        if (g.d_a() < this.FYb()) throw Error("array buffer too short"); f.rGa.forEach(function (q) {
                            if (q != g.XO()) throw Error("BIF has invalid magic.");
                        }); var d = g.YO(); if (d > f.VERSION) throw Error("BIF version in unsupported"); var h = g.YO(); if (0 == h) throw Error("BIF has no frames."); var l = g.YO(), n = g.dj(f.LKa); return { version: d, JSb: h, Abb: l, f9a: n }
                    }; c.prototype.qUb = function (g, d, h) { for (var l = [], n = 0; n <= h.JSb; n++) { var q = { timestamp: g.YO(), offset: g.YO() }; void 0 != p && l.push(d.subarray(p.offset, q.offset)); var p = q } return l }; c.prototype.FYb = function () { return f.rGa.length + 4 + 4 + 4 + f.LKa }; var m = f = c; m.rGa = [137, 66, 73, 70, 13, 10, 26, 10]; m.VERSION = 0; m.LKa = 44; m = f = r.__decorate([(0,
                        a.R)()], m); b.TMa = m
                }, function (r, b, a) {
                    function c(g, d, h) { this.config = g; this.j = d; this.bg = h; this.aY = void 0; this.T9 = !1; this.kra = 0; this.log = this.bg.lb() } Object.defineProperty(b, "__esModule", { value: !0 }); b.uLa = void 0; var f = a(15), k = a(4), m = a(94); c.prototype.vIb = function (g, d, h, l, n) {
                        h = void 0 === h ? this.j.ha : h; l = void 0 === l ? !1 : l; var q = d === f.Ce.HK, p = this.Nvb(q ? g : this.Xwb(g, h), l, h); l = this.j.Ma; q ? (g = p, p = l.Wt(p)) : g = l.AM(h, p); d === f.Ce.Zx && (this.j.zSa = p); n = this.Oi(g, d, n); var u = (q = q || n) ? g : p; if (this.j.Wu) {
                            var t = this.config().wI;
                            this.j.N_a(u, t) || d !== f.Ce.ly || (u = this.j.Wu.$(k.ja) - t - 1E3, q ? (g = u, p = l.Wt(u)) : (g = l.AM(h, u), p = u))
                        } return { k9: u, kk: p, pVb: g, Oi: n }
                    }; c.prototype.Nvb = function (g, d, h) { g = this.iNb() || d ? Math.round(g) : this.j.Ma.aka(g, h); this.j.fb.vj && (g = this.MFb(g)); this.config().uwa && (g += this.config().uwa); return g }; c.prototype.Oi = function (g, d, h) { if (this.config().mCb || d === f.Ce.Zx || d === f.Ce.H1 || d === f.Ce.s0 || !h || g < h.start.$(k.ja) || g >= h.end.$(k.ja)) return !1; d = this.j.Ma; return (null === d || void 0 === d ? void 0 : d.ii) && d.Oi(g) || !1 }; c.prototype.iNb =
                        function () { return this.j.fb.vj ? !0 : "boolean" === typeof this.j.fb.lY ? this.j.fb.lY : navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency ? this.config().lY && this.config().LVb : this.config().lY }; c.prototype.Xwb = function (g, d) { d = this.j.nk(d); var h = d.Vt; d = (d.iQb || h).$(k.ja) - this.config().K5b; return (0, m.Dp)(g, 0, d) }; c.prototype.MFb = function (g) {
                            var d = this.j.JV(); if (Object.values(d).find(function (n) { var q = n.Da; q = g < (null !== q && void 0 !== q ? q : Infinity); return n.Aa <= g && q })) return !1, g; var h, l = g; Object.entries(d).forEach(function (n) {
                                n =
                                    da(n); n.next(); n = n.next().value.Aa; var q = n - g; 0 < q && (void 0 === h || q < h) && (h = q, l = n)
                            }); !1; return l
                        }; Ya.Object.defineProperties(c.prototype, { Hqa: { configurable: !0, enumerable: !0, get: function () { return this.T9 || !!this.aY } } }); b.uLa = c
                }, function (r, b, a) {
                    function c(x, y, z, A, B, E) {
                        var D = this; this.j = x; this.Wi = y; this.f_ = z; this.ee = A; this.rZ = B; this.Cn = E; this.fVa = {}; this.update = function () {
                            if (D.mp.selectionStart == D.mp.selectionEnd) {
                                var F = ""; D.RV().forEach(function (G) {
                                    F = F ? F + "\n" : ""; Object.entries(G).forEach(function (C) {
                                        var H =
                                            da(C); C = H.next().value; H = H.next().value; F += C + ": " + H + "\n"
                                    })
                                }); D.mp.style.fontSize = (0, g.Dp)((0, h.MB)(D.element.clientHeight / 60), 8, 18) + "px"; D.mp.value = F
                            }
                        }; this.jTb = function () { var F; if (D.j.Kf) { var G = D.j.Kf.nH(); G && (D.vla = G - (null !== (F = D.Jbb) && void 0 !== F ? F : 0), D.Jbb = G, D.BO()) } }; this.BO = function () { D.f_.ol(D.update) }; this.onkeydown = function (F) { F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == q.Hv.Tfb || F.keyCode == q.Hv.Q) && D.toggle() }; this.d7a = [x.mediaTime, x.uc[f.Yb.Wa.$b], x.uc[f.Yb.Wa.Pb], x.nf, x.Td, x.rh, x.he, x.Mi,
                        x.state, x.Kr, x.sb, x.volume, x.muted]; this.element = this.ee.createElement("div", "position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999", void 0, { "class": "player-info" }); this.mp = this.ee.createElement("textarea", "position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;", void 0, { readonly: "readonly" }); this.element.appendChild(this.mp); this.controls = this.ee.createElement("div",
                            "position:absolute;top:2px;right:2px"); this.element.appendChild(this.controls); y = this.ee.createElement("button", void 0, "X"); y.addEventListener("click", function () { return D.zu() }, !1); this.controls.appendChild(y); m.ye.addListener(m.pD, this.onkeydown); x.addEventListener(n.ca.ng, function () { m.ye.removeListener(m.pD, D.onkeydown); D.zu() })
                    } Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.LJa = void 0;
                    var f = a(43),
                        k = a(68),
                        m = a(62),
                        g = a(94),
                        d = a(305),
                        h = a(11),
                        l = a(18),
                        n = a(15),
                        q = a(134),
                        p = a(4);
                    r = {};
                    var u = (r[n.Mb.yK] =
                        "Not Loaded", r[n.Mb.LOADING] = "Loading", r[n.Mb.je] = "Normal", r[n.Mb.CLOSING] = "Closing", r[n.Mb.CLOSED] = "Closed", r);
                    r = {};
                    var t = (r[n.Bf.je] = "Normal", r[n.Bf.wd] = "Pre-buffering", r[n.Bf.lLa] = "Network stalled", r);
                    r = {};
                    var w = (r[n.Xa.Pe] = "Waiting for decoder", r[n.Xa.Kc] = "Playing", r[n.Xa.mh] = "Paused", r[n.Xa.xp] = "Media ended", r),
                        v = [n.ca.C8];
                    c.prototype.g_b = function(x) {
                        this.fVa.DFR = x
                    };
                    c.prototype.show = function() {
                        var x = this;
                        this.visible || (this.oMb = ub.setInterval(this.jTb, 1E3), document.body.appendChild(this.element),
                            this.d7a.forEach(function(y) {
                                y.addListener(x.BO)
                            }), v.forEach(function(y) {
                                x.j.addEventListener(y, x.BO)
                            }), this.visible = !0, this.Cn.Eaa().then(function(y) {
                                x.Bpa = y;
                                x.BO()
                            }));
                        this.update()
                    };
                    c.prototype.zu = function() {
                        var x = this;
                        this.visible && (clearInterval(this.oMb), this.Jbb = this.vla = void 0, document.body.removeChild(this.element), this.d7a.forEach(function(y) {
                            y.removeListener(x.BO)
                        }), v.forEach(function(y) {
                            x.j.removeEventListener(y, x.BO)
                        }), this.f_.ol(), this.visible = !1)
                    };
                    c.prototype.toggle = function() {
                        this.visible ?
                            this.zu() : this.show()
                    };
                    c.prototype.RV = function() {
                        var x, y, z, A, B, E, D, F, G = [],
                            C = this.Wi();
                        G.push({
                            Version: "6.0034.519.611",
                            Esn: C ? C.wm : "UNKNOWN",
                            PBCID: this.j.Jg,
                            UserAgent: h.PB
                        });
                        try {
                            var H = {
                                MovieId: this.j.K,
                                TrackingId: this.j.Kk,
                                Xid: this.j.da + " (" + k.RB.map(function(Wa) {
                                    return Wa.da
                                }).join(", ") + ")",
                                Position: (0, g.mj)(this.j.mediaTime.value),
                                Duration: (0, g.mj)(this.j.Vt.$(p.ja)),
                                PlayerDuration: (0, g.mj)(this.j.Wu.$(p.ja)),
                                Volume: (0, h.lj)(100 * this.j.volume.value) + "%" + (this.j.muted.value ? " (Muted)" : "")
                            };
                            if (this.j.fb.vj ||
                                this.j.fb.K7) H["Segment Position"] = (0, g.mj)(this.j.kD()), H.Segment = this.j.Hoa();
                            G.push(H)
                        } catch (Wa) {}
                        try {
                            G.push({
                                "Player state": u[this.j.state.value],
                                "Buffering state": t[this.j.Kr.value],
                                "Rendering state": w[this.j.sb.value]
                            })
                        } catch (Wa) {}
                        try {
                            var L = this.j.mba() + this.j.J3(),
                                N = this.j.nf.value,
                                J = null === N || void 0 === N ? void 0 : N.stream,
                                Q = this.j.Td.value,
                                K = null === Q || void 0 === Q ? void 0 : Q.stream,
                                I = null !== (x = null === J || void 0 === J ? void 0 : J.bitrate) && void 0 !== x ? x : "?",
                                M = K ? K.bitrate + " (" + K.width + "x" + K.height + ")" : "?",
                                O = null !== (y = null === K || void 0 === K ? void 0 : K.zb) && void 0 !== y ? y : "?",
                                P = null !== (A = null === (z = this.j.he.value) || void 0 === z ? void 0 : z.zb) && void 0 !== A ? A : "?",
                                S = null !== (E = null === (B = this.j.rh.value) || void 0 === B ? void 0 : B.bitrate) && void 0 !== E ? E : "?",
                                U = null !== (F = null === (D = this.j.he.value) || void 0 === D ? void 0 : D.bitrate) && void 0 !== F ? F : "?",
                                Z = this.j.uc[f.Yb.Wa.Pb].value,
                                ia = this.j.uc[f.Yb.Wa.$b].value;
                            G.push({
                                "Playing bitrate (a/v)": I + " / " + M,
                                "Playing/Buffering vmaf": O + "/" + P,
                                "Buffering bitrate (a/v)": S + " / " + U,
                                "Buffer size in Bytes (a/v)": this.j.J3() +
                                    " / " + this.j.mba(),
                                "Buffer size in Bytes": "" + L,
                                "Buffer size in Seconds (a/v)": (0, g.mj)(this.j.KT()) + " / " + (0, g.mj)(this.j.j_()),
                                "Current CDN (a/v)": (ia ? ia.name + ", Id: " + ia.id : "?") + " / " + (Z ? Z.name + ", Id: " + Z.id : "?")
                            })
                        } catch (Wa) {}
                        try {
                            if (this.j.nf.value && this.j.Td.value) {
                                var ya = this.j.nf.value.stream,
                                    na = ya.track,
                                    X = this.j.Td.value.stream,
                                    ra = this.j.Mi.value,
                                    T = this.rZ.F4(this.j.Af.value ? this.j.Af.value.streams : []),
                                    R = this.rZ.B4(na.streams),
                                    ca = X.Ig,
                                    ua = /hevc/.test(ca) ? "hevc" : /vp9/.test(ca) ? "vp9" : /h264hpl/.test(ca) ?
                                    "avchigh" : /av1/.test(ca) ? "av1" : "avc";
                                /hdr/.test(ca) && (ua += ", hdr");
                                /dv/.test(ca) && (ua += ", dv");
                                /prk/.test(ca) && (ua += ", prk");
                                var aa = ya.Ig,
                                    La = /xheaac/.test(aa) ? "xhe-aac" : /heaac/.test(aa) ? "he-aac" : /ddplus/.test(aa) ? "ddplus" : "unknown";
                                /atmos/.test(aa) && (La += ", atmos");
                                G.push({
                                    "Audio Track": na.hf + ", Id: " + na.trackId + ", Channels: " + na.channels + ", Codec: " + R + " (" + La + ")",
                                    "Video Track": "Codec: " + T + " (" + ua + ")",
                                    "Timed Text Track": ra ? ra.hf + ", Profile: " + ra.profile + ", Id: " + ra.trackId : "none"
                                })
                            }
                        } catch (Wa) {}
                        try {
                            var Ua =
                                this.j.Kf,
                                $a = this.j.he.value ? this.j.he.value.framerate : 0,
                                Za = a(549).j3a;
                            G.push({
                                Framerate: $a.toFixed(3),
                                "Current Dropped Frames": (0, l.Ea)(this.vla) ? this.vla : "",
                                "Total Frames": Ua.gD(),
                                "Total Dropped Frames": Ua.nH(),
                                "Total Corrupted Frames": Ua.LV(),
                                "Main Thread stall/sec": Za ? Za.PHb().join(" ") : "DISABLED",
                                VideoDiag: (0, d.Ura)(this.j.M6()),
                                "HDR support": this.Bpa ? this.Bpa.result + " (" + this.Bpa.reason + ")" : "unknown"
                            })
                        } catch (Wa) {}
                        try {
                            G.push({
                                Throughput: this.j.Sa + " kbps"
                            })
                        } catch (Wa) {}
                        var cb = void 0;
                        try {
                            Object.entries(this.fVa).forEach(function(Wa) {
                                var Pa =
                                    da(Wa);
                                Wa = Pa.next().value;
                                Pa = Pa.next().value;
                                cb = cb || {};
                                cb[Wa] = JSON.stringify(Pa)
                            }), cb && G.push(cb)
                        } catch (Wa) {}
                        return G
                    }; b.LJa = c
                }, function (r, b, a) {
                    function c(h, l, n, q) { this.da = h; this.BYb = l; this.wa = n; this.kg = q; this.yd = {} } function f(h, l) { this.bg = h; this.kg = l; this.Hc = {}; this.wa = h.lb("PlaybackMilestoneStoreImpl") } Object.defineProperty(b, "__esModule", { value: !0 }); b.dlb = b.NJa = void 0; r = a(1); var k = a(0), m = a(7), g = a(16), d = a(4); f.prototype.JXb = function (h, l) {
                        this.Hc[h] && this.wa.warn("registerPlayback: xid " + h + " already registered, overriding");
                        l = (l ? l : this.kg.Rb()).$(d.ja); this.wa.trace("registerPlayback: xid " + h + " at " + l); this.Hc[h] = new c(h, l, this.wa, this.kg); return this.Hc[h]
                    }; f.prototype.QIb = function (h) { this.Hc[h] || this.wa.warn("getPlaybackMilestones: xid " + h + " is not registered"); return this.Hc[h] }; f.prototype.bYb = function (h) { this.wa.trace("removePlayback: xid " + h); delete this.Hc[h] }; a = f; a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(m.ub)), r.__param(1, (0, k.l)(g.bd))], a); b.NJa = a; c.prototype.Vp = function (h, l) {
                        l = l ? l.$(d.ja) : this.kg.Rb().$(d.ja) -
                            this.BYb; this.wa.trace("addMilestone: xid " + this.da + " " + h + " at " + l); this.yd[h] = l
                    }; b.dlb = c
                }, function (r, b, a) {
                    function c(d) { this.ya = d; this.trace = [] } Object.defineProperty(b, "__esModule", { value: !0 }); b.ZKa = void 0; r = a(1); var f = a(15), k = a(0), m = a(16), g = a(4); c.prototype.Ck = function (d) { d.cause !== f.Ce.Zx && (this.trace.unshift({ time: this.ya.Rb(), event: d }), 5 < this.trace.length && this.trace.pop()) }; c.prototype.r_a = function () {
                        var d = this; if (0 === this.trace.length) return {}; var h = this.trace[0]; return {
                            timeSinceLastRepositionMs: this.wbb(h.time),
                            lastRepositionCause: this.JYa(h.event.cause), repositionTrace: this.trace.map(function (l) { return { timeSince: d.wbb(l.time), cause: d.JYa(l.event.cause), newMediaTime: l.event.k9, oldMediaTime: l.event.wta, contentPts: l.event.kk, skip: l.event.skip } })
                        }
                    }; c.prototype.wbb = function (d) { return this.ya.Rb().Ja(d).$(g.ja) }; c.prototype.JYa = function (d) { switch (d) { case f.Ce.Zx: return "initial"; case f.Ce.ly: return "seek"; case f.Ce.HK: return "segment_changed"; case f.Ce.H1: return "track_changed"; case f.Ce.s0: return "force_rebuffer" } };
                    a = c; a = r.__decorate([(0, k.R)(), r.__param(0, (0, k.l)(m.bd))], a); b.ZKa = a
                }, function (r, b, a) {
                    function c(y, z, A) {
                        var B = this; this.nb = y; this.j = z; this.debug = A; this.Br = this.ii = this.bC = !1; this.X7 = this.Cr = this.qn = void 0; this.Se = function () {
                            var E, D, F, G; B.debug.assert(B.qa, "has access to asePlaygraph"); B.debug.assert(B.pd, "has access to internalLogger"); B.debug.assert(B.Ou, "has access to mediaBufferGetLogFields"); if (B.wf.value !== f.sa.wr && B.wf.value !== f.sa.nj) {
                                var C = B.Eo, H = null === (D = null === (E = B.Vb.get()) || void 0 ===
                                    E ? void 0 : E.Sa) || void 0 === D ? void 0 : D.Ha; E = { type: "logdata", target: "startplay", fields: { hasasereport: B.j.UM, hashindsight: !1, buffCompleteReason: C.reason, actualbw: H, initSelReason: null !== (F = C.initSelReason) && void 0 !== F ? F : "unknown", bcVBufferLevelMs: C.vBufferLevelMs, bcABufferLevelMs: C.aBufferLevelMs } }; (0, h.fja)({ iXa: E, vk: B.vk, loadTime: B.loadTime }); B.qa.a_("startplay", m.me.lp); null !== (G = B.Ia) && void 0 !== G && G.Xf ? (B.pd.trace("Buffering complete", { Cause: "ASE Buffering complete", evt: C }, B.Ou()), B.j.Eo = C, B.j.Kr.set(l.Bf.je),
                                        B.CFb || (B.CFb = !0, B.j.Ld("pb")), B.play()) : B.pd.error("Shim received buffering complete but player has no position (player " + (B.Ia ? "" : "un") + "defined, state " + B.j.state + ")")
                            }
                        }; this.RT = function () { var E, D; B.debug.assert(B.pd, "has access to internalLogger"); !1; B.qn = void 0; B.j.paused.value && B.XD && (B.XD = !1, B.j.paused.set(!1, { EX: !0 })); null === (E = B.j.Kf) || void 0 === E ? void 0 : E.Bxb(); null === (D = B.JX) || void 0 === D ? void 0 : D.call(B); B.JX = void 0 }; this.events = new x; this.jj = new v.Kfa(this.pja.bind(this))
                    } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.Kza = void 0; var f = a(43), k = a(19), m = a(300), g = a(50), d = a(3), h = a(1221), l = a(15), n = a(14), q = a(18), p = a(4), u = a(1222), t = a(94), w = a(82), v = a(516), x = a(116).EventEmitter; c.prototype.md = function () { var y; this.Br = !1; this.Vb.CP(null); this.debug.assert(this.Ei, "has access to streamingEngine"); this.qa && this.Ei.hv(this.qa); this.Ia && this.Ei.bP(this.Ia); this.Ei.Gva(this.jj.Am(this.nb.ka.S)); this.jj.clear(); null === (y = this.Gm) || void 0 === y ? void 0 : y.hq() }; c.prototype.S_b = function (y) {
                            var z = y.config, A =
                                y.Lt, B = y.pd, E = y.Vc, D = y.Ou, F = y.vh, G = y.iZ; y = y.XI; var C, H, L, N, J, Q; this.pd = B; this.Ou = D; this.iZ = G; this.XI = y; D = this.j.ka; this.debug.assert(D, "has a playback segment"); this.debug.assert(z, "has access to config"); this.debug.assert(E, "has access to utils"); this.debug.assert(F, "has access to getCategoryLog"); this.debug.assert(A, "has access to aseGlobals"); this.debug.assert(A.Ei, "has access to streamingEngine"); this.debug.assert(D.pa, "has access to manifest"); this.Ei = A.Ei; A.gf.set(a(178)(z), !0, F("ASE")); A.gf.set({
                                    maxNumberTitlesScheduled: null !==
                                        (H = null === (C = z.HVb) || void 0 === C ? void 0 : C.maxNumberTitlesScheduled) && void 0 !== H ? H : 1
                                }, !0, B); z.kyb && 3E5 > D.pa.Gb.duration ? A.gf.UX({ expandDownloadTime: !1 }, !0, B) : A.gf.UX({ expandDownloadTime: A.gf.R6a().expandDownloadTime }, !0, B); z = D.background || z.FVb && "postplay" === D.Wd ? "historical" : A.gf.R6a().initBitrateSelectorAlgorithm; A.gf.UX({ initBitrateSelectorAlgorithm: z }, !0, B); z = null === (Q = null === (J = null === (N = null === (L = D.Af) || void 0 === L ? void 0 : L.value) || void 0 === N ? void 0 : N.streams) || void 0 === J ? void 0 : J[0]) || void 0 ===
                                    Q ? void 0 : Q.Ig; A.gf.UX((0, n.$Ta)(!!D.fb.vj, !!D.fb.K7, z), !0, B); B = E.mO({}, (0, n.Tka)(D.Wd)); this.gf = A.gf.Xt(B); f.platform.events.emit("networkchange", D.Uc.XZb); this.bC = !0
                        }; c.prototype.v7 = function (y) {
                            this.debug.assert(this.Ei, "has access to streamingEngine"); var z = this.j.nk(y.ha); this.debug.assert(z.Uc, "has access to playback parsedManifest"); var A = y.flags; this.Vb.reset(); this.Dd = new Set([f.Yb.Wa.$b, f.Yb.Wa.Pb]); (A.GE || A.NT) && this.Dd.delete(A.GE ? f.Yb.Wa.$b : f.Yb.Wa.Pb); this.aQ = [z.Uc.BBb, z.Uc.LBb]; this.BU(y.ha,
                                y.Dw); this.aMb(y); this.kla()
                        }; c.prototype.vB = function (y) { var z; null === (z = this.qa) || void 0 === z ? void 0 : z.vB(y) }; c.prototype.Mub = function (y) {
                            var z = this, A = y.loadTime, B = y.vk; this.debug.assert(this.qa, "has access to asePlaygraph"); this.debug.assert(this.Ia, "has access to asePlayer"); this.vk = B; this.loadTime = A; y = this.qa.events; var E = this.Ia.events; y.addListener("error", function (D) {
                                "NFErr_MC_StreamingFailure" === D.error && (z.pd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)), z.pd.trace("StreamingFailure, buffer status:" +
                                    JSON.stringify(z.Ou())), (0, g.Tc)(function () { z.j.Pd(d.N.$db, { ma: D.nativeCode, yb: D.errormsg, mk: D.httpCode, f9: D.networkErrorCode }) }))
                            }); y.addListener("logdata", function (D) { var F; "string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion = null === (F = z.qa) || void 0 === F ? void 0 : F.uG, (0, h.fja)({ iXa: D, vk: B, loadTime: A })) }); y.addListener("bufferingStarted", function () { z.j.Kr.set(l.Bf.wd) }); y.addListener("bufferingComplete", function (D) { z.Eo = D }); this.j.paused.addListener(function (D) {
                                var F; z.debug.assert(z.pd,
                                    "has access to internalLogger"); null !== (F = D.rm) && void 0 !== F && F.EX || !z.bC || (D.newValue && z.wf.value === f.sa.Kc ? (z.wf.set(f.sa.mh), z.Ed.emit("paused", { type: "paused", pts: z.Ed.Cc })) : D.newValue || z.wf.value !== f.sa.mh || (z.wf.set(f.sa.Kc), z.Ed.emit("playing", { type: "playing", pts: z.Ed.Cc }))); D.newValue || (z.XD = !1); z.pd.info("Paused changed", { From: D.oldValue, To: D.newValue, MediaTime: (0, t.mj)(z.j.mediaTime.value) })
                            }); this.j.Cb.addListener(function (D) {
                                var F, G, C; if (z.bC) if (z.debug.assert(z.pd, "has access to internalLogger"),
                                    D.rm && D.rm.qRa) z.pd.trace("Not processing already applied track", null === (F = D.newValue) || void 0 === F ? void 0 : F.trackId); else { var H = D.newValue; z.Gaa({ wn: H.iA, toJSON: function () { return H.Th } }) ? z.pd.trace("ASE accepted the audio track switch", null === (C = D.newValue) || void 0 === C ? void 0 : C.trackId) : (z.pd.trace("ASE rejected the audio track switch", null === (G = D.newValue) || void 0 === G ? void 0 : G.trackId), D.oldValue && D.oldValue.iA !== H.iA && z.j.Cb.set(D.oldValue, { qRa: !0 })) }
                            }); y.addListener("serverSwitch", function (D) {
                                z.j.fireEvent(l.ca.fZ,
                                    D); if ("video" === D.mediatype) var F = f.Yb.Wa.Pb; else "audio" === D.mediatype && (F = f.Yb.Wa.$b); (0, q.Mc)(F) && z.iZ(D.segmentId, D.server, F)
                            }); y.addListener("streamSelected", function (D) {
                                var F, G = (null === (F = z.qa) || void 0 === F ? void 0 : F.Yz(D.position)).pm.T; F = []; if (D.mediaType === f.Yb.Wa.Pb) { var C = z.j.W_a(D.streamId), H = z.j.he; F = z.j.uH() } else D.mediaType === f.Yb.Wa.$b && (C = z.j.K_a(D.streamId), H = z.j.rh, F = z.j.wGb()); C && H ? (!1, H.set(C, { DG: G, WT: D.bandwidth })) : z.pd.error("no matching stream for streamSelected event", {
                                    streamId: D.streamId,
                                    mediaType: D.mediaType, streamList: F, cachedManifest: z.j.BG
                                })
                            }); y.addListener("segmentNormalized", function (D) { var F = D.segmentId, G = Math.floor(D.viewableContentEnd.T); D = Math.floor(D.viewableEarliestContentEnd.T); G = (0, p.Nc)(G); D = (0, p.Nc)(D); if (F = z.j.nk(F)) F.Vt = G, F.iQb = D; z.j.Wu || (z.j.Wu = G) }); E.addListener("segmentPresenting", function (D) {
                                z.debug.assert(z.qa, "has access to asePlaygraph"); z.debug.assert(z.Ia, "has access to asePlayer"); z.debug.assert(z.XI, "has access to segmentPresentingHandler"); var F = z.qa.Yz(D.position);
                                z.XI(F.S, !1); z.j.fireEvent(l.ca.WI, { type: "segmentPresenting", position: { segmentId: D.position.ha, offset: D.position.offset }, playerTimestamp: D.playerTimestamp, metrics: D.metrics }); z.Cr = z.Ia.Mn()
                            }); E.addListener("ptsChanged", function () { z.Ed.emit("skipped") }); y.addListener("locationSelected", function (D) { z.j.fireEvent(l.ca.ZW, D) }); y.addListener("aseReportEnabled", function () { z.j.UM = !0 }); y.addListener("aseReport", function (D) { z.j.fireEvent(l.ca.$L, D) })
                        }; c.prototype.Mn = function () {
                            var y, z, A, B, E, D, F, G = null === (y =
                                this.Ia) || void 0 === y ? void 0 : y.X6(); y = (null !== (z = this.Cr) && void 0 !== z ? z : G && this.Ia.Mn()) || {}; z = y.H; G = y.Ge; var C = y.$D; y = y.xs; return {
                                    id: String(null === z || void 0 === z ? void 0 : z.id), Fe: null !== (A = null === G || void 0 === G ? void 0 : G.T) && void 0 !== A ? A : 0, od: null !== (B = null === z || void 0 === z ? void 0 : z.Nf.T) && void 0 !== B ? B : Infinity, Lc: null !== (E = null === z || void 0 === z ? void 0 : z.Yi.T) && void 0 !== E ? E : 0, we: null !== (D = null === C || void 0 === C ? void 0 : C.T) && void 0 !== D ? D : Infinity, Ad: null !== (F = null === y || void 0 === y ? void 0 : y.T) && void 0 !== F ? F :
                                        0
                                }
                        }; c.prototype.Una = function () { return { Fe: 0 } }; c.prototype.w7 = function () { this.debug.assert(this.qa, "has access to asePlaygraph"); var y = {}, z = this.qa.Ow(); y.vbuflmsec = z.totalvbuflmsecs; y.vbuflbytes = z.vbuflbytes; y.abuflmsec = z.totalabuflmsecs; y.abuflbytes = z.abuflbytes; return y }; c.prototype.paused = function () { }; c.prototype.nua = function () { this.Ed.emit("playbackRateChanged", { type: "playbackRateChanged", pts: this.Ed.Cc }) }; c.prototype.QT = function (y, z) {
                            this.debug.assert(this.j.pa, "has access to playback manifest");
                            var A = this.aQ[f.Yb.Wa.$b]; return y.K === this.j.pa.Gb.K ? A : this.jFb(this.j.pa.Gb.Mt[A], z)
                        }; c.prototype.jFb = function (y, z) {
                            this.debug.assert(this.pd, "has access to internalLogger"); !1; var A = z.filter(function (D) { return D.profile === y.profile }).sort(function (D, F) { var G = "zxx" === D.language || "zxx" === F.language ? 0 : D.language.localeCompare(F.language); if (0 === G) { var C, H; D = (null !== (C = D.cc) && void 0 !== C ? C : 0) - (null !== (H = F.cc) && void 0 !== H ? H : 0) } else D = G; return D }), B = 0, E = da(A).next().value; E && z.some(function (D, F) {
                                if (D ===
                                    E) return B = F, !0
                            }); !1; return B
                        }; c.prototype.Gaa = function (y) {
                            var z = this, A, B; this.debug.assert(this.pd, "has access to internalLogger"); this.debug.assert(this.qa, "has access to asePlaygraph"); this.debug.assert(this.Ia, "has access to asePlayer"); this.debug.assert(this.j.pa, "has access to playback manifest"); if (this.EJ) return !1, !1; var E; if (!this.j.pa.Gb.audio_tracks.some(function (D, F) { if (D.track_id === y.wn) return E = F, !0 })) return !1, !1; !1; this.qn = E; null === (A = this.j.Kf) || void 0 === A ? void 0 : A.U0b(); (null === (B =
                                this.Ia) || void 0 === B ? 0 : B.nB) ? this.XD = !1 : n.config.BUb && !this.j.paused.value && (this.Ia.pause([f.Yb.Wa.$b]), this.XD = !0, this.j.paused.set(!0, { EX: !0 })); this.debug.dja(this.qn, "has access to valid requestedAudioTrackIndex number"); this.aQ[f.Yb.Wa.$b] = this.qn; (this.qa.nE({ Is: this.QT.bind(this) }, { Is: function () { return z.aQ[f.Yb.Wa.Pb] } }) || this.XD) && this.Ia.resume(this.XD ? [f.Yb.Wa.$b] : void 0); this.cr(this.RT); return !0
                        }; c.prototype.io = function () {
                            var y; this.wf.set(f.sa.Tf); null === (y = this.qa) || void 0 === y ? void 0 :
                                y.a_("intrplay", m.me.io); this.Ed.emit("underflow", { type: "underflow", pts: this.Ed.Cc }); this.cr(this.Se)
                        }; c.prototype.Tq = function (y, z) { this.xB.Tq(y, z) }; c.prototype.open = function () { this.Br || (this.debug.assert(this.qa, "has access to asePlaygraph"), this.debug.assert(this.Ia, "has access to asePlayer"), this.Br = this.ii = !0, this.qa.open(), this.debug.assert(this.Ex, "invalid start position relative to playgraph"), this.qa.eB(this.Ex), this.wf.set(f.sa.wd), this.cr(this.Se), this.qa.JT(this.Ia), this.OOb()) }; c.prototype.play =
                            function () { this.debug.assert(this.qa, "has access to asePlaygrah"); this.debug.assert(this.Ia, "has access to asePlayer"); 0 !== this.qa.state && (this.Ia.resume(this.XD ? [f.Yb.Wa.$b] : void 0), this.wf.set(f.sa.Kc), this.Ed.emit("playing", { type: "playing", pts: this.Ed.Cc })) }; c.prototype.stop = function () { var y; this.wf.set(f.sa.wr); null === (y = this.Ia) || void 0 === y ? void 0 : y.pause(); this.events.emit("stop"); this.Ed.emit("paused", { type: "paused", pts: this.Ed.Cc }) }; c.prototype.flush = function () {
                                this.debug.assert(this.qa, "has access to asePlaygraph");
                                this.debug.assert(this.Ei, "has access to streamingEngine"); this.Br && this.wf.value !== f.sa.nj && this.wf.value !== f.sa.wr && this.stop(); this.qa.a_("endplay", m.me.jq); this.qa.rf(); this.Ei.Sh.save(); this.Ei.Sn.save()
                            }; c.prototype.Wt = function (y) { this.debug.assert(this.qa, "has access to asePlaygraph"); var z = f.O.Na(y); return (z = this.qa.fp(z, { gab: !0, fab: !0 })) ? this.qa.na.U[z.ha].Aa + Number(z.offset.T.toFixed(0)) : this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y) }; c.prototype.AM = function (y,
                                z) { this.debug.assert(this.qa, "has access to asePlaygraph"); this.debug.assert(this.pd, "has access to internalLogger"); this.qa.na.U[y] || (y = this.rV(z)); this.debug.G3(y, "has access to segmentId"); y = { ha: y, offset: f.O.Na(z - this.qa.na.U[y].Aa) }; if (y = this.qa.wH(y)) return y.T; !1; return z }; c.prototype.aka = function (y, z) {
                                    var A, B, E; this.debug.assert(this.qa, "has access to asePlaygraph"); this.debug.assert(this.Ia, "has access to asePlayer"); z && this.qa.na.U[z] || (z = null !== (A = this.rV(y)) && void 0 !== A ? A : null === (B = this.Ia) ||
                                        void 0 === B ? void 0 : B.Si.ha); z = this.j.nk(z); y = { pm: f.O.Na(y), S: z.K }; return null === (E = this.qa.ym(y)) || void 0 === E ? void 0 : E.od
                                }; c.prototype.Bz = function (y) { var z = void 0 === z ? !0 : z; this.ii ? Number.isFinite(y) && (this.debug.assert(this.Ia, "has access to asePlayer"), z ? this.Ia.kZ(y) : this.Ia.Owa(y)) : this.fail("Must call open prior to drmReady") }; c.prototype.W6 = function () { var y; return null !== (y = this.Ia) && void 0 !== y && y.Xf ? this.Ia.Uo(this.nb.ka.S) : !1 }; c.prototype.Oi = function (y) {
                                    !1; return this.Ia ? this.Ia.Oi(f.O.Na(y)) :
                                        (!1, !1)
                                }; c.prototype.Hs = function (y, z) {
                                    var A; this.debug.assert(this.qa, "has access to asePlaygraph"); this.debug.assert(this.Ia, "has access to asePlayer"); z && this.qa.na.U[z] || (z = null !== (A = this.rV(y)) && void 0 !== A ? A : this.nb.Wg); this.debug.G3(z, "has access to segmentId"); this.debug.assert(this.qa.na.U[z], "segment exists in playgraph map"); y = { ha: z, offset: f.O.Na(y - this.qa.na.U[z].Aa) }; this.qa.eB(y); this.Ia.resume(); this.wf.set(f.sa.wd); this.cr(this.Se); y = this.qa.S$(y); this.debug.assert(y, "Valid position must be provided for seek");
                                    return y.offset.T
                                }; c.prototype.addEventListener = function (y, z) { this.events.addListener(y, z); return this }; c.prototype.removeEventListener = function (y, z) { this.events.removeListener(y, z); return this }; c.prototype.eQ = function (y, z) { var A = {}; this.qa.Fi((A[y] = z, A)) }; c.prototype.Mr = function (y, z) {
                                    this.debug.assert(this.pd, "has access to internalLogger"); this.debug.assert(this.qa, "has access to asePlaygraph"); this.debug.assert(this.Ia, "has access to asePlayer"); var A = this.Mn().id, B = this.qa.ZV(A, y); if (z) {
                                        if (!B.ddb) return this.pd.warn("chooseNextSegment, seamless transition, invalid destination: " +
                                            (y + " for current segment: " + A)), !1; if (void 0 !== B.sO) return !1, B.sO === y; this.qa.Di(A, y, !1, z); return !0
                                    } if (void 0 !== B.sO) return !1, !1; B.cU && (this.Ia.reset(), this.qa.Di(A, y, !1, z), this.Ia.resume(), this.wf.set(f.sa.wd), this.cr(this.Se)); return !!B.cU
                                }; c.prototype.Di = function (y, z, A, B) { this.debug.assert(this.qa, "has access to asePlaygraph"); this.qa.Di(y, z, A, B) }; c.prototype.eo = function () {
                                    this.debug.assert(this.pd, "has access to internalLogger"); var y = this.Ed.Cc; !1; this.Ed.emit("skipped", { type: "skipped", pts: y });
                                    return (new f.GF(Promise.resolve())).cwa
                                }; c.prototype.rV = function (y) { this.debug.assert(this.qa, "has acccess to asePlaygraph"); this.debug.assert(this.pd, "has acccess to internalLogger"); var z = this.qa.na, A = [], B = Infinity, E; for (E in z.U) { var D = z.U[E], F = D.Aa; D = D.Da; var G = F <= y, C = y < Number(null !== D && void 0 !== D ? D : Infinity); !1; if (G && C) !1, A.push(E); else if (F = Math.min(Math.abs(y - F), Math.abs(y - D)), F < B) { B = F; var H = E } } y = A[0] || H; this.debug.G3(y, "has access to locatedSegmentId"); !1; return y }; c.prototype.OOb = function () {
                                    var y =
                                        this; this.debug.assert(this.j.Tb, "has acccess to mediaElement"); var z = this.j.Tb.ba; this.debug.assert(z, "has acccess to videoElement"); z.addEventListener("play", function () { y.wf.value === f.sa.mh && (y.wf.set(f.sa.Kc), y.Ed.emit("playing", { type: "playing", pts: y.Ed.Cc })) }); z.addEventListener("pause", function () { y.wf.value === f.sa.Kc && (y.wf.set(f.sa.mh), y.Ed.emit("paused", { type: "paused", pts: y.Ed.Cc })) })
                                }; c.prototype.fail = function (y) {
                                    var z; null === (z = this.qa) || void 0 === z ? void 0 : z.events.emit("error", {
                                        type: "error",
                                        error: "NFErr_MC_StreamingFailure", errormsg: y
                                    })
                                }; c.prototype.cr = function (y) {
                                    var z = this, A, B, E, D, F, G; if (y !== this.RT && this.EJ) this.JX = y; else {
                                        var C = !0 === (null === (A = this.Ia) || void 0 === A ? void 0 : A.BA.value); A = (null === (B = this.qa) || void 0 === B ? void 0 : B.Ff.value) === f.Jc.oj; null === (E = this.Ia) || void 0 === E ? void 0 : E.BA.removeListener(this.g4a); null === (D = this.qa) || void 0 === D ? void 0 : D.Ff.removeListener(this.KSa); C && A ? y() : (this.g4a = function () { return z.cr(y) }, this.KSa = function () { return z.cr(y) }, null === (F = this.Ia) || void 0 ===
                                            F ? void 0 : F.BA.addListener(this.g4a), null === (G = this.qa) || void 0 === G ? void 0 : G.Ff.addListener(this.KSa))
                                    }
                                }; c.prototype.qYa = function (y) { var z = this, A; y = this.j.nk(y); return Promise.resolve(null !== (A = y.pa) && void 0 !== A ? A : this.bva(y)).then(function (B) { B = B.Gb; return { pa: B, Ri: B.xpa && !B.yH, config: z.gf, Dd: [].concat(la(z.Dd)) } }) }; c.prototype.bva = function (y) {
                                    var z = this, A, B = Promise.resolve(); if (y.sj) {
                                        var E = y.sj.XX, D; (D = null === (A = this.j.jD(E).pa) || void 0 === A ? void 0 : A.Gb) ? y.sj.O9 = D : B = this.jj.Am(E).ar.then(function (F) { return F.pa }).then(function (F) {
                                            y.sj.O9 =
                                                F
                                        }).catch(function () { z.j.Pd(d.N.uK, d.M.leb) })
                                    } return B.then(function () { return z.j.bva(y) }).then(function () { z.j.RVb(y); return y.pa })
                                }; c.prototype.pja = function (y, z) { this.debug.assert(this.X7, "Auxiliary viewable config request needs to happen after main viewable"); this.debug.assert(void 0 !== this.X7.da, "Auxiliary viewable xid is the same as main viewable, needs to be defined"); this.j.wAb(y, z, this.X7.da) }; c.prototype.BU = function (y, z) {
                                    var A = this; this.debug.assert(this.Ei, "has access to streamingEngine");
                                    var B = this.j.nk(y), E = B.sj, D = { S: B.K, Ni: null === E || void 0 === E ? void 0 : E.Ni }; this.X7 = z; if (!this.jj.has(D)) { var F; this.jj.store(D, { cka: function () { }, equals: function (G) { return G.S === D.S && (z.da === G.da || !G.da || !z.da) }, get ar() { F || (F = A.qYa(y)); return F }, set ar(G) { F = G }, events: new k.EventEmitter, da: z.da, S: D.S, iu: !1, Tab: !1 }); this.gf.Ez && this.Ei.mE(this.jj.Am(D.S, E ? { P3: { Ni: E.Ni, XX: E.XX } } : void 0), { da: z.da, ss: z.ss, YC: z.Dz }) }
                                }; c.prototype.Mx = function (y) {
                                    this.debug.assert(this.Ei, "has access to streamingEngine"); var z =
                                        this.j.nk(y), A = z.sj; z = { S: z.K, Ni: null === A || void 0 === A ? void 0 : A.Ni }; A = this.nb.kf(y).S; if (!this.jj.has(z)) return Promise.resolve(); z = this.jj.Am(A); z.ar = this.qYa(y); return this.Ei.Mx(z)
                                }; c.prototype.ZV = function (y) { var z; this.debug.assert(this.Ia, "has access to asePlayer"); this.debug.assert(this.qa, "has access to asePlaygraph"); return this.qa.ZV(null === (z = this.Ia.Mn().H) || void 0 === z ? void 0 : z.id, y) }; c.prototype.aMb = function (y) {
                                    var z = this, A = y.Dw, B = y.ha; this.debug.assert(this.Ei, "has access to streamingEngine");
                                    this.debug.assert(this.pd, "has access to internalLogger"); y = this.j.nk(B); y = this.nb.E6(y); B = y.U[B]; this.debug.assert(B, "segment exists"); this.Ex = (0, u.fW)(B.S, y, this.j.Z, B.Aa); A = Object.create(this.gf, { Dz: { value: A.Dz } }); this.wf = new w.ec(f.sa.Fh); this.qa = this.Ei.qG(y, this.gf.k7a, A, this.jj); this.xB = new f.KF(this.pd); A = this.qa.QC(this.xB); y = this.qa.PC(); this.qa.laa(y, A); this.qa.nE({ Is: function () { return z.aQ[f.Yb.Wa.$b] } }, { Is: function () { return z.aQ[f.Yb.Wa.Pb] } }); this.XD = !1
                                }; c.prototype.kla = function () {
                                    var y =
                                        this; this.debug.assert(this.Ei, "has access to streamingEngine"); var z = Object.create(this.gf, { Dd: { value: [].concat(la(this.Dd)) }, XV: { value: function () { return y.B6() } } }); this.Ed = Object.create(new k.EventEmitter, { Cc: { get: function () { y.debug.dja(y.j.mediaTime.value, "has access to mediaTime.value"); return f.O.Na(y.j.mediaTime.value) } }, playbackRate: { get: function () { return Math.max(y.j.playbackRate.value, .01) } }, WV: { value: function () { y.debug.assert(y.j.Tb, "has access to mediaElement"); return y.j.Tb } } }); this.Ia =
                                            this.Ei.VQa(this.Ed, z)
                                }; c.prototype.B6 = function () { this.Gm || (this.Gm = new f.platform.MediaSource(this.Ed), this.Gm.Sc || (this.Gm.Sc = f.platform.MediaSource.Sc)); return this.Gm }; Ya.Object.defineProperties(c.prototype, {
                                    EJ: { configurable: !0, enumerable: !0, get: function () { return void 0 !== this.qn } }, Vb: { configurable: !0, enumerable: !0, get: function () { this.debug.assert(this.Ei, "has access to streamingEngine"); return this.Ei.Vb } }, Hg: {
                                        configurable: !0, enumerable: !0, get: function () {
                                            var y, z; return null === (z = null === (y = this.qa) ||
                                                void 0 === y ? void 0 : y.Hg) || void 0 === z ? void 0 : z.na
                                        }
                                    }, MTa: { configurable: !0, enumerable: !0, get: function () { var y; return null === (y = this.Ia) || void 0 === y ? void 0 : y.pqa } }, bBb: { configurable: !0, enumerable: !0, get: function () { var y, z; if (null === (y = this.MTa) || void 0 === y ? 0 : y.Xf) { var A = (y = this.MTa.Si) && (null === (z = this.Hg) || void 0 === z ? void 0 : z.U[y.ha]); if (A) return { pm: f.O.Na(y.offset.T + A.Aa), S: A.S } } if (this.j.CU) return { pm: f.O.Na(this.j.CU), S: this.j.oz } } }
                                }); b.Kza = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 });
                    b.fja = void 0; var c = a(18); b.fja = function (f) {
                        var k = f.vk, m = f.loadTime; f = f.iXa; var g = (0, c.Ea)(m) ? m : 0, d = k[f.target] || {}; k[f.target] !== d && (k[f.target] = d); Object.entries(f.fields).forEach(function (h) {
                            var l = da(h); h = l.next().value; l = l.next().value; if ("object" !== typeof l || null === l) d[h] = l; else {
                                var n = l.type; if ("count" === n) void 0 === d[h] && (d[h] = 0), ++d[h]; else if (void 0 !== l.value) if ("array" === n) { n = d[h]; var q = l.adjust, p = l.value; n || (n = d[h] = []); q && 0 < q.length && q.forEach(function (u) { p[u] -= g || 0 }); n.push(p) } else d[h] =
                                    "sum" === n ? (d[h] || 0) + l.value : l.value; else d[h] = l
                            }
                        })
                    }
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.fW = void 0; var c = a(43), f = a(20); b.fW = function (k, m, g, d) { return m.U[m.ue].Aa === d ? (k = (0, c.yM)(m, k, c.O.Na(g)), (0, f.gb)(k, "has valid start position relative to playgraph"), k) : { ha: m.ue, offset: c.O.cb } } }, function (r, b, a) {
                    function c(n, q, p, u, t, w, v, x, y, z) {
                        var A = this; this.n3b = n; this.j = q; this.id = p; this.height = u; this.width = t; this.TUb = w; this.UUb = v; this.size = x; this.xu = y; this.urls = z; this.type = f.gi.nya;
                        this.retry = !0; this.state = d.Ip.b1; this.Th = {}; this.I3 = {}; this.AWb = function (B) { if (B.ga) try { A.data = A.n3b.parse(B.content), A.state = d.Ip.aF, A.log.trace("TrickPlay parsed", { Images: A.data.images.length }, A.Th), A.j.fireEvent(h.ca.ZZ) } catch (E) { A.state = d.Ip.hIa, A.log.error("TrickPlay parse failed.", E) } else A.state = d.Ip.b1, A.log.error("TrickPlay download failed.", (0, l.Gv)(B), A.Th) }; this.log = (0, m.Oh)(q, "TrickPlay")
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.PMa = void 0; var f = a(75), k = a(14), m = a(8), g = a(76),
                        d = a(525), h = a(15), l = a(3); c.prototype.JHb = function (n) { if (this.data && (this.xu && (n += this.xu), n = Math.floor(n / this.data.header.Abb), 0 <= n && n < this.data.images.length)) return { image: this.data.images[n], time: n * this.data.header.Abb, height: this.height, width: this.width, pixelAspectHeight: this.TUb, pixelAspectWidth: this.UUb } }; c.prototype.H6 = function () { switch (this.state) { case d.Ip.aF: return "downloaded"; case d.Ip.LOADING: return "loading"; case d.Ip.zR: return "downloadfailed"; case d.Ip.hIa: return "parsefailed"; default: return "notstarted" } };
                    c.prototype.download = function () { var n = this.PJb(); n ? (this.state = d.Ip.LOADING, this.GCb(n)) : this.retry = !1 }; c.prototype.getState = function () { return this.state }; c.prototype.PJb = function () { var n = this, q = Object.keys(this.urls).find(function (u) { return (n.I3[n.urls[u]] || 0) <= k.config.j3b }); if (q) { var p = this.urls[q]; p in this.I3 ? this.I3[p]++ : this.I3[p] = 1; return { url: p, KC: q } } }; c.prototype.GCb = function (n) {
                        this.log.trace("Downloading", n.url, this.Th); n = { responseType: g.sW, uc: this.Rna(n.KC), url: n.url, track: this }; this.j.g7.download(n,
                            this.AWb)
                    }; c.prototype.Rna = function (n) { return this.j.uj.find(function (q) { return q && q.id === n }) }; b.PMa = c
                }, function (r, b, a) {
                    function c(k, m, g, d) { this.Zla = k; this.debug = m; this.ya = g; this.j = d; this.N9 = []; this.a9 = {}; this.ama = {}; this.gna = !1; this.gbb = 1; this.eAa = 7.8125 } Object.defineProperty(b, "__esModule", { value: !0 }); b.oCa = void 0; var f = a(4); a(15); a(18); a(76); c.prototype.register = function (k, m) { this.debug.assert(!(0 <= this.N9.indexOf(k)), "panel already registered"); this.a9[k] = m; this.N9.push(k) }; c.prototype.w5a = function (k) {
                        var m =
                            this; this.ama[k] = !0; this.gna || (this.gna = !0, setTimeout(function () { return m.vFb() }, 0))
                    }; c.prototype.LZa = function (k) { return (k = this.a9[k]) ? k() : void 0 }; c.prototype.RV = function () { var k = this.j.kua; return k ? k.RV() : [] }; c.prototype.addEventListener = function (k, m) { this.Zla.addListener(k, m); this.a9[k] && this.w5a(k) }; c.prototype.removeEventListener = function (k, m) { this.Zla.removeListener(k, m) }; c.prototype.getTime = function () { return this.ya.Rb().$(f.ja) }; c.prototype.vFb = function () {
                        this.gna = !1; for (var k = this.N9.length,
                            m; k--;)m = this.N9[k], this.ama[m] && (this.ama[m] = !1, this.Zla.Gc(m + "changed", { getModel: this.a9[m] }))
                    }; b.oCa = c
                }, function (r, b, a) {
                    function c(n, q) {
                        var p = this; this.Km = n; this.Ur = q; this.Lbb = function (u) {
                            var t = p.gbb++, w = u.request.UC || "dl", v = p.w_a(w, "start"); if (v) {
                                var x = u.request.CA, y = x.stream.P.gp; x = da(x.stream.P.hi).next().value; if (y || x) if (y = null !== y && void 0 !== y ? y : x.H.id, !p.xab.has(y)) {
                                    var z = p.VZa(y), A = u.Bs; p.Km.mark(v, z, A ? w + "-" + A + "-" + t : w); u.ria(function () {
                                        var B = p.w_a(w, "end"), E = A ? w + "-" + A + "-" + t : w; B && p.Km.mark(B,
                                            z, E)
                                    })
                                }
                            }
                        }; this.gbb = 0; this.xab = new Set; this.xwa = new Map; q.gV && this.D5b()
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.wHa = void 0; r = a(1); var f = a(0), k = a(63), m = a(73), g = a(4), d = a(76); a = a(34); var h = { start: { video: k.La.MQ, audio: k.La.IQ }, end: { video: k.La.LQ, audio: k.La.HQ } }; c.prototype.WZa = function (n) {
                        function q(A) { return (0, g.timestamp)(p.iRa((0, g.timestamp)(A), n, !0)) } var p = this, u = new Set, t = n.yd, w = n.da, v = void 0 === n.rab ? null : n.rab, x = n.ha, y = this.Km.CZa(w), z = x && this.VZa(x); z && y.push.apply(y, la(this.Km.CZa(z)));
                        this.Km.H8a(n.da); z && this.Km.H8a(z); x && this.xab.add(x); x = []; "pr_ats" in t && x.push({ name: k.La.t1, Qs: q(t.pr_ats), da: w, Jg: "request-pre-manifest" }); "ats" in t && x.push({ name: k.La.r1, Qs: q(t.ats), da: w, Jg: "request-manifest" }); "pr_at" in t && x.push({ name: k.La.s1, Qs: q(t.pr_at), da: w, Jg: "request-pre-manifest" }); "at" in t && x.push({ name: k.La.q1, Qs: q(t.at), da: w, Jg: "request-manifest" }); "lg" in t && x.push({ name: k.La.p1, Qs: q(t.lg), da: w, Jg: "request-license" }); "lr" in t && (x.push({ name: k.La.o1, Qs: q(t.lr), da: w, Jg: "request-license" }),
                            x.push({ name: k.La.B_, Qs: q(t.lr), da: w, Jg: "apply-license" })); "ld" in t && x.push({ name: k.La.A_, Qs: q(t.ld), da: w, Jg: "apply-license" }); "tt_start" in t && x.push({ name: k.La.KQ, Qs: q(t.tt_start), da: w, Jg: "request-timed-text" }); "tt_comp" in t && x.push({ name: k.La.JQ, Qs: q(t.tt_comp), da: w, Jg: "request-timed-text" }); return x.concat(y).map(function (A) { return p.F2b(A, n) }).filter(function (A) { return A.ts <= (null !== v && void 0 !== v ? v : A.ts) ? ("end" === A.step && u.add(A.eventId), !0) : !1 }).filter(function (A) {
                                return "start" !== A.step || u.has(A.eventId) ?
                                    !0 : !1
                            }).sort(function (A, B) { return A.ts - B.ts }).reduce(function (A, B) { var E = B.eventName; delete B.eventName; E && (A[E] = B); return A }, {})
                    }; c.prototype.Rsb = function (n, q, p) { return (void 0 === p ? 0 : p) ? n.$(g.ja) + q.aj.$(g.ja) : n.$(g.ja) - q.aj.$(g.ja) }; c.prototype.iRa = function (n, q, p) { p = void 0 === p ? !1 : p; if (q.Um) if (p) n.$(g.ja) + q.Um; else return n.$(g.ja) - q.Um; return this.Rsb(n, q, p) }; c.prototype.F2b = function (n, q) {
                        var p = n.Jg, u = n.name; return {
                            eventName: this.XRb(u, p), eventId: p || u, ts: this.iRa(n.Qs, q), comp: this.KV(u), cat: this.SGb(u),
                            step: this.yJb(u)
                        }
                    }; c.prototype.XRb = function (n, q) { switch (n) { case k.La.KQ: case k.La.JQ: case k.La.IQ: case k.La.HQ: case k.La.MQ: case k.La.LQ: return n + "-" + q; default: return n } }; c.prototype.KV = function (n) {
                        switch (n) {
                            case k.La.t1: case k.La.s1: case k.La.r1: case k.La.q1: return "manifest"; case k.La.p1: case k.La.o1: case k.La.kfa: case k.La.jfa: case k.La.v0: case k.La.u0: case k.La.B_: case k.La.A_: return "license"; case k.La.KQ: case k.La.JQ: case k.La.IQ: case k.La.HQ: case k.La.MQ: case k.La.LQ: case k.La.Eba: case k.La.Dba: return "buffering";
                            case k.La.oea: case k.La.nea: return "playback"; default: return null
                        }
                    }; c.prototype.SGb = function (n) { switch (n) { case k.La.t1: case k.La.s1: case k.La.r1: case k.La.q1: return "aws"; case k.La.p1: case k.La.o1: return "mixed"; case k.La.oea: case k.La.nea: case k.La.kfa: case k.La.jfa: case k.La.v0: case k.La.u0: case k.La.B_: case k.La.A_: case k.La.Eba: case k.La.Dba: return "device"; case k.La.KQ: case k.La.JQ: case k.La.IQ: case k.La.HQ: case k.La.MQ: case k.La.LQ: return "cdn"; default: return null } }; c.prototype.yJb = function (n) {
                        switch (n) {
                            case k.La.t1: case k.La.oea: case k.La.r1: case k.La.p1: case k.La.Eba: case k.La.KQ: case k.La.IQ: case k.La.MQ: case k.La.kfa: case k.La.v0: case k.La.B_: return "start";
                            case k.La.s1: case k.La.nea: case k.La.q1: case k.La.o1: case k.La.jfa: case k.La.u0: case k.La.A_: case k.La.Dba: case k.La.JQ: case k.La.HQ: case k.La.LQ: return "end"; default: return null
                        }
                    }; c.prototype.w_a = function (n, q) { if (n in h[q]) return h[q][n] }; c.prototype.L3b = function () { d.lf.removeEventListener(d.d7, this.Lbb) }; c.prototype.D5b = function () { this.L3b(); d.lf.addEventListener(d.d7, this.Lbb) }; c.prototype.VZa = function (n) { if (this.xwa.has(n)) return this.xwa.get(n); var q = Date.now(); this.xwa.set(n, q); return q }; var l =
                        c; l = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.LR)), r.__param(1, (0, f.l)(a.Wl))], l); b.wHa = l
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.OTa = void 0; r = a(0); var c = a(490), f = a(1227), k = a(105), m = a(1228), g = a(501), d = a(1229), h = a(504), l = a(1230), n = a(505), q = a(1231), p = a(289), u = a(1232), t = a(90), w = a(1233), v = a(1234), x = a(40), y = a(3), z = a(1235), A = a(1236), B = a(1237), E = a(55), D = a(1238), F = a(552), G = a(1239), C = a(553), H = a(1240), L = a(487), N = a(1241), J = a(1242), Q = a(1243), K = a(423), I = a(1244), M = a(66), O = a(551),
                        P = a(1245), S = a(1246); b.OTa = new r.dd(function (U) {
                            U(E.cn).to(D.HIa); U(c.WIa).to(f.VIa); U(F.CIa).to(G.BIa); U(L.EIa).to(N.DIa); U(C.aJa).to(H.$Ia); U(k.Aea).to(m.XIa); U(O.YIa).yf(function (Z) { return function () { var ia = Z.kb.get(M.qt); return ia && ia.Zcb ? Z.kb.resolve(S.tJa) : Z.kb.resolve(P.ZIa) } }); U(g.AIa).to(d.zIa); U(h.qJa).to(l.pJa); U(n.QIa).to(q.PIa); U(p.zea).to(u.RIa); U(t.VLa).to(w.ULa); U(t.ZLa).to(v.YLa); U(t.yFa).to(z.xFa); U(t.PLa).to(A.OLa); U(t.gDa).to(B.fDa); U(Q.Wkb).to(J.bJa); U(K.OIa).to(I.NIa); U(t.Vca).yf(function (Z) {
                                return function (ia) {
                                    switch (ia) {
                                        case t.Ap.start: return Z.kb.get(t.VLa);
                                        case t.Ap.stop: return Z.kb.get(t.ZLa); case t.Ap.MW: return Z.kb.get(t.yFa); case t.Ap.splice: return Z.kb.get(t.PLa); case t.Ap.YM: return Z.kb.get(t.gDa)
                                    }throw new x.Wc(y.N.hkb, void 0, void 0, void 0, void 0, "The event key was invalid - " + ia);
                                }
                            })
                        })
                }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.Pib, 1) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.VIa = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function (h, l) {
                        var n = this; return this.send(h, {
                            url: "/" +
                                m.yg.Ira, name: m.yg.Ira, ip: m.yg.Ira
                        }, l).then(function (q) { return q.result }).catch(function (q) { throw n.Jn(q); })
                    }; c.prototype.nq = function () { return Promise.reject(Error("Links are unsupported with logblobs")) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.VIa = d
                }, function (r, b, a) {
                    function c(t, w, v, x, y) { t = g.Ii.call(this, t, k.N.uK, 3) || this; t.platform = w; t.dX = v; t.qOb = x; t.HPb = y; return t } Object.defineProperty(b, "__esModule", { value: !0 }); b.XIa = void 0; r = a(1); var f = a(105), k = a(3), m = a(69); a(190);
                    var g = a(77), d = a(55), h = a(29), l = a(34), n = a(189), q = a(289), p = a(0); a = a(551); qa(c, g.Ii); c.prototype.Vf = function (t, w) {
                        var v = this, x = w.pu === f.bn.zF ? "prefetch/manifest" : m.yg.pa, y = m.yg.pa, z = w.pu === f.bn.z1 ? l.ot.tKa : l.ot.XR; return this.HPb().transform(w, z).then(function (A) {
                            A = da(A); var B = A.next().value, E = A.next().value; !1; "licensedManifest" === E.An && (x = w.pu === f.bn.zF ? "prefetch/licensedManifest" : "licensedManifest", y = m.yg.rOb); return v.send(t, { url: E.An, name: y, ip: x }, B, void 0, void 0, z).then(function (D) {
                                D = v.dX.create(D.result);
                                var F = D.Gb.yB.map(function (G) { return G.Rh }).filter(Boolean); E.Az && (0 < F.length ? (F = v.qOb.Qbb(F), E.Az.OQa(F), D.Az = E.Az, D.A1a = w.pu === f.bn.zF, D.z1a = !0) : E.Az.close()); !1; return D
                            })
                        }).catch(function (A) { !1; throw v.Jn(A); })
                    }; c.prototype.nq = function () { return Promise.reject(Error("Links are not supported with manifest command")) }; var u = c; u = r.__decorate([(0, p.R)(), r.__param(0, (0, p.l)(d.cn)), r.__param(1, (0, p.l)(h.Tj)), r.__param(2, (0, p.l)(n.R0)), r.__param(3, (0, p.l)(q.zea)), r.__param(4, (0, p.l)(a.YIa))], u); b.XIa =
                        u
                }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.xR, 3) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.zIa = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function () { return Promise.reject(Error("Links are required with acquire command")) }; c.prototype.nq = function (h, l, n) {
                        var q = this; l = { url: l.UV(n.I2a).href, name: m.yg.Rh, ip: "ldl" === n.I2a ? "prefetch/license" : m.yg.Rh }; return this.send(h, l, n.inputs, "drmSessionId").then(function (p) {
                            p = p.result; q.zwb(p);
                            return p
                        }).catch(function (p) { throw q.Jn(p); })
                    }; c.prototype.zwb = function (h) { h.forEach(function (l) { if (!l.licenseResponseBase64) throw Error("Received empty licenseResponseBase64"); }) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.zIa = d
                }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.KKa, 3) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.pJa = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function (h, l) {
                        var n = this; return this.send(h,
                            { url: "/bundle", name: m.yg.Rh, ip: "release/license" }, l).then(function (q) { return q.result }).catch(function (q) { throw n.Jn(q); })
                    }; c.prototype.nq = function () { return Promise.reject(Error("Links are unsupported with release")) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.pJa = d
                }, function (r, b, a) {
                    function c(g) { this.Ba = g } Object.defineProperty(b, "__esModule", { value: !0 }); b.PIa = void 0; r = a(1); var f = a(0), k = a(35), m = a(4); c.prototype.c3b = function (g) {
                        var d = this.Ba.Ie.$(m.Zl); return {
                            inputs: g.yn.map(function (h) {
                                return {
                                    drmSessionId: h.sessionId,
                                    clientTime: d, challengeBase64: h.dataBase64, xid: g.da.toString(), mdxControllerEsn: g.kX
                                }
                            }), I2a: "standard" === g.$f.toLowerCase() ? "license" : "ldl"
                        }
                    }; c.prototype.f3b = function (g) { var d = this, h = []; return g.Ve.map(function (l) { h.push(l.id); return { url: d.jvb(l.VH, l.WW), echo: "drmSessionId", params: { drmSessionId: l.id, xid: g.da.toString() } } }) }; c.prototype.jvb = function (g, d) { return "/releaseLicense?drmLicenseContextId=" + g + (d ? "&licenseId=" + d : "") }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ih))], a); b.PIa = a
                }, function (r,
                    b, a) {
                    function c(g, d) { this.ee = g; this.Ot = d } Object.defineProperty(b, "__esModule", { value: !0 }); b.RIa = void 0; r = a(1); var f = a(0), k = a(31); a = a(41); c.prototype.Qbb = function (g) { var d = this, h = g.map(function (l) { return l.links.releaseLicense.href }).map(function (l) { return d.ee.YX(l.substring(l.indexOf("?") + 1)) }); return { ga: !0, Ve: g.map(function (l, n) { return { id: l.drmSessionId, VH: h[n].drmlicensecontextid, WW: h[n].licenseid } }), Dm: g.map(function (l) { return { data: d.Ot.decode(l.licenseResponseBase64), sessionId: l.drmSessionId } }) } };
                    var m = c; m = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.oh)), r.__param(1, (0, f.l)(a.kj))], m); b.RIa = m
                }, function (r, b, a) { function c(h) { return m.fr.call(this, h, k.N.Ilb, g.Ap.start, 3) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.ULa = void 0; r = a(1); var f = a(0), k = a(3), m = a(162), g = a(90); a = a(55); qa(c, m.fr); var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.ULa = d }, function (r, b, a) {
                    function c(h) { return m.fr.call(this, h, k.N.mLa, g.Ap.stop, 3) || this } Object.defineProperty(b, "__esModule", { value: !0 });
                    b.YLa = void 0; r = a(1); var f = a(0), k = a(3), m = a(162), g = a(90); a = a(55); qa(c, m.fr); var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.YLa = d
                }, function (r, b, a) { function c(h) { return m.fr.call(this, h, k.N.Bda, g.Ap.MW, 1) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.xFa = void 0; r = a(1); var f = a(0), k = a(3), m = a(162), g = a(90); a = a(55); qa(c, m.fr); var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.xFa = d }, function (r, b, a) {
                    function c(h) {
                        return m.fr.call(this, h, k.N.kLa, g.Ap.splice, 1) ||
                            this
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.OLa = void 0; r = a(1); var f = a(0), k = a(3), m = a(162), g = a(90); a = a(55); qa(c, m.fr); var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.OLa = d
                }, function (r, b, a) {
                    function c(h) { return m.fr.call(this, h, k.N.ohb, g.Ap.YM, 3) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.fDa = void 0; r = a(1); var f = a(0), k = a(3), m = a(162), g = a(90); a = a(55); qa(c, m.fr); c.prototype.a4 = function (h) {
                        return Object.assign(Object.assign({}, m.fr.prototype.a4.call(this, h)),
                            { action: h.action })
                    }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.fDa = d
                }, function (r, b, a) {
                    function c(p, u, t, w, v, x, y, z, A) { this.Jh = p; this.lf = u; this.Uh = t; this.tCb = w; this.cA = v; this.v4b = x; this.Cla = y; this.vYb = z; this.XG = A } Object.defineProperty(b, "__esModule", { value: !0 }); b.HIa = void 0; r = a(1); var f = a(0), k = a(98), m = a(66), g = a(523), d = a(520), h = a(83), l = a(91), n = a(343), q = a(99); a = a(93); c = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.BB)), r.__param(1, (0, f.l)(l.ay)), r.__param(2, (0, f.l)(m.qt)), r.__param(3,
                        (0, f.l)(d.KIa)), r.__param(4, (0, f.l)(h.$x)), r.__param(5, (0, f.l)(n.XMa)), r.__param(6, (0, f.l)(q.j0)), r.__param(7, (0, f.l)(g.sJa)), r.__param(8, (0, f.l)(a.Vx))], c); b.HIa = c
                }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.Aeb, 2) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.BIa = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function (h, l, n) {
                        var q = this; return this.send(h, { url: "/" + m.yg.bind, name: m.yg.bind, ip: m.yg.bind }, l, void 0, n).then(function (p) { return p.result }).catch(function (p) {
                            throw q.Jn(p);
                        })
                    }; c.prototype.nq = function () { return Promise.reject(Error("Links are unsupported with bind")) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.BIa = d
                }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.Yjb, 2) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.$Ia = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function (h, l, n) {
                        var q = this; return this.send(h, { url: "/" + m.yg.FO, name: m.yg.FO, ip: m.yg.FO }, l, void 0, n).then(function (p) { return p.result }).catch(function (p) {
                            throw q.Jn(p);
                        })
                    }; c.prototype.nq = function () { return Promise.reject(Error("Links are unsupported with pair")) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.$Ia = d
                }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.Beb, 2) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.DIa = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function (h, l, n) {
                        var q = this; return this.send(h, { url: "/bindDevice", name: m.yg.bind, ip: m.yg.bind }, l, void 0, n).then(function (p) { return p.result }).catch(function (p) {
                            throw q.Jn(p);
                        })
                    }; c.prototype.nq = function () { return Promise.reject(Error("Links are unsupported with bindDevice")) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.DIa = d
                }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.ukb, 1) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.bJa = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function (h, l, n) {
                        var q = this; return this.send(h, { url: "/" + m.yg.ping, name: m.yg.ping, ip: m.yg.ping }, l, void 0, n).then(function (p) { return p.result }).catch(function (p) {
                            throw q.Jn(p);
                        })
                    }; c.prototype.nq = function () { return Promise.reject(Error("Links are unsupported with ping")) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.bJa = d
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Wkb = "PboPingCommandSymbol" }, function (r, b, a) {
                    function c(h) { return g.Ii.call(this, h, k.N.Bhb, 2) || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.NIa = void 0; r = a(1); var f = a(0), k = a(3), m = a(69), g = a(77); a = a(55); qa(c, g.Ii); c.prototype.Vf = function (h, l) {
                        var n = this; return this.send(h,
                            { url: "/generateScreenshots", name: m.yg.pa, ip: "generateScreenshots" }, l).then(function (q) { return q.result }).catch(function (q) { throw n.Jn(q); })
                    }; c.prototype.nq = function (h, l, n) { var q = this; l = { url: l.UV("generateScreenshots").href, name: m.yg.pa, ip: "generateScreenshots" }; return this.send(h, l, n).then(function (p) { return p.result }).catch(function (p) { throw q.Jn(p); }) }; var d = c; d = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(a.cn))], d); b.NIa = d
                }, function (r, b, a) {
                    function c(y, z, A, B, E, D, F, G, C, H) {
                        this.Uh = y; this.platform =
                            z; this.config = A; this.fwb = B; this.gVb = E; this.xk = D; this.jU = F; this.Ba = G; this.E8 = C; this.Cn = H
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.ZIa = void 0; r = a(1); var f = a(0), k = a(105), m = a(13), g = a(471), d = a(469), h = a(550), l = a(72), n = a(29), q = a(35), p = a(4), u = a(163), t = a(66), w = a(345), v = a(30), x = a(60); c.prototype.transform = function (y, z) {
                        var A = this, B = y.fb, E = Object.assign({}, B.N3, B.ao), D = {}, F = y.S; D[F] = { unletterboxed: !!E.preferUnletterboxed }; var G = this.config(), C = G.H4b ? 30 : 25; G = G.qp ? this.xk.tHb() : Promise.resolve(this.E8.ru());
                        var H = { Wd: null === B || void 0 === B ? void 0 : B.Wd }; return Promise.all([this.Cn.I6(H), this.Cn.t_a(H), this.Cn.vN(), this.Cn.D6(), this.TGb(y.da, z), this.yHb(y), G]).then(function (L) {
                            var N = da(L), J = N.next().value, Q = N.next().value, K = N.next().value, I = N.next().value, M = N.next().value; L = N.next().value; N = N.next().value; var O, P, S; J = (J || []).concat(Q || []).concat(A.config().vv).concat(["BIF240", "BIF320"]).filter(Boolean); I = I ? I.DEVICE_SECURITY_LEVEL : void 0; Q = "postplay" === B.Wd ? !0 : !!E.isUIAutoPlay; K = {
                                type: "standard", manifestVersion: A.Uh.MWa ?
                                    "v2" : "v1", viewableId: F, profiles: J, flavor: y.pu, drmType: N, drmVersion: C, usePsshBox: !0, isBranching: !!y.fb.vj, useHttpsStreams: !0, supportsUnequalizedDownloadables: A.config().T1b, imageSubtitleHeight: g.xfa.a_a(), uiVersion: A.Uh.yv, uiPlatform: A.Uh.aba, clientVersion: A.platform.version, supportsPreReleasePin: A.config().En.L1b, supportsWatermark: A.config().En.M1b, packageId: A.JIb(B), deviceSecurityLevel: I, videoOutputInfo: K, titleSpecificData: D, preferAssistiveAudio: !!E.assistiveAudioPreferred, preferredTextLocale: E.preferredTextLocale,
                                preferredAudioLocale: E.preferredAudioLocale, isUIAutoPlay: Q, challenge: M, isNonMember: A.Uh.E1a, pin: B.bY, desiredVmaf: A.config().Scb ? A.config().HVa : A.config().IVa, desiredSegmentVmaf: A.config().Scb ? A.config().HVa : A.config().IVa, requestSegmentVmaf: A.config().AYb, supportsPartialHydration: A.Uh.cH, contentPlaygraph: A.Uh.lUa, auxiliaryManifestToken: y.fb.vj ? void 0 : null === (O = y.sj) || void 0 === O ? void 0 : O.Ni, originalPlaybackContextId: !y.fb.vj && (null === (P = y.sj) || void 0 === P ? 0 : P.Ni) ? null === (S = y.sj) || void 0 === S ? void 0 :
                                    S.Kta : void 0
                            }; B.mXa && (K.extraParams = B.mXa); B.GVa && (K.desiredDownloadables = B.GVa); B.Uva && (K.requestReference = B.Uva); O = { An: L ? "licensedManifest" : "manifest", Az: null === L || void 0 === L ? void 0 : L.dc }; L && (L = { drmSessionId: L.dc.Oz() || "session", clientTime: A.Ba.eZ.$(p.Zl), challengeBase64: L.hka }, K.challenges = { "default": [L] }, K.profileGroups = [{ name: "default", profiles: J }], K.licenseType = y.$f == x.ei.Bp ? "limited" : "standard", y.da && (K.xid = y.da.toString())); A.Uh.cH || (K.showAllSubDubTracks = A.config().En.p0b || !!E.showAllSubDubTracks,
                                A.Uh.EWa && y.pu === k.bn.z1 && (K.maxSupportedLanguages = 2)); y.Uaa && (K.originalPlaybackContextId = y.Uaa.Kta, K.requiredAudioTrackId = y.Uaa.EYb, K.requiredTextTrackId = y.Uaa.HYb); return [K, O]
                        })
                    }; c.prototype.JIb = function (y) { if (this.config().u$.enabled) { if (void 0 !== y.ep) return y.ep; if (void 0 !== this.config().u$.ep) return Number(this.config().u$.ep) } }; c.prototype.TGb = function (y, z) { var A = this; return this.fwb.KYa(z).then(function (B) { var E = y && A.gVb.QIb(y); E && E.Vp("cad"); return B }) }; c.prototype.yHb = function (y) {
                        if (void 0 ===
                            y.$f || !this.config().qp) return Promise.resolve(void 0); var z = y.$f === x.ei.Fp && this.Uh.t4; return y.$f === x.ei.Bp && this.Uh.FWa || z ? this.jU.Toa(y.$f) : Promise.resolve(void 0)
                    }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(t.qt)), r.__param(1, (0, f.l)(n.Tj)), r.__param(2, (0, f.l)(m.cd)), r.__param(3, (0, f.l)(d.JAa)), r.__param(4, (0, f.l)(h.Qea)), r.__param(5, (0, f.l)(l.mt)), r.__param(6, (0, f.l)(u.O_)), r.__param(7, (0, f.l)(q.ih)), r.__param(8, (0, f.l)(w.Wda)), r.__param(9, (0, f.l)(v.UE))], a); b.ZIa = a
                }, function (r, b, a) {
                    function c(l,
                        n, q, p) { this.platform = l; this.config = n; this.jU = q; this.Cn = p } Object.defineProperty(b, "__esModule", { value: !0 }); b.tJa = void 0; r = a(1); var f = a(0), k = a(13), m = a(29), g = a(163), d = a(30), h = a(60); c.prototype.transform = function (l) {
                            var n = this, q = l.fb, p = { Wd: void 0 }; return Promise.all([this.Cn.I6(p), this.Cn.t_a(p), this.jU.Toa(h.ei.Fp)]).then(function (u) {
                                var t = da(u); u = t.next().value; var w = t.next().value; t = t.next().value; return [{
                                    viewableId: l.S, packageId: q.ep, assetId: q.eja, challenge: t.hka, audioProfiles: u, textProfiles: n.config().vv,
                                    trickplayProfiles: ["BIF240", "BIF320"], videoProfiles: w, audioLanguages: q.Ztb, textLanguages: q.n2b, videoLanguages: q.mdb ? [q.mdb] : void 0, requestReference: q.Uva, additionalAudioAssets: q.Osb, additionalTextAssets: q.Qsb
                                }, { Az: null === t || void 0 === t ? void 0 : t.dc, An: "studioManifest" }]
                            })
                        }; a = c; a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Tj)), r.__param(1, (0, f.l)(k.cd)), r.__param(2, (0, f.l)(g.O_)), r.__param(3, (0, f.l)(d.UE))], a); b.tJa = a
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.transports =
                        void 0; r = a(0); var c = a(188), f = a(521), k = a(1248), m = a(1249), g = a(1250), d = a(34); b.transports = new r.dd(function (h) { h(c.gS).to(g.KMa).aa(); h(f.DHa).to(k.CHa); h(f.RLa).to(m.QLa); h(f.LMa).yf(function (l) { return function (n) { var q; return l.kb.get(c.gS).naa(null !== (q = null === n || void 0 === n ? void 0 : n.BRb) && void 0 !== q ? q : d.ot.XR) ? l.kb.get(f.DHa) : l.kb.get(f.RLa) } }) })
                }, function (r, b, a) {
                    function c(l, n, q) { var p = this; this.ix = n; this.profile = q; this.log = l.lb("MslTransport"); this.ix().then(function (u) { return p.wX = u }) } Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.CHa = void 0; r = a(1); var f = a(0), k = a(7), m = a(156), g = a(4); a = a(80); var d = { license: !0 }; c.prototype.send = function (l, n) {
                            var q = this, p = { O4a: Object.assign({ lf: l.lf, log: l.log, profile: this.profile }, l.Lub), method: l.An, url: l.url.href, body: JSON.stringify(n), timeout: l.timeout.$(g.ja), N4b: this.profile, Iec: !d[l.An], VRb: !!d[l.An], cl: !0, O$: l.dwa, headers: l.headers }; !1; return this.ix().then(function (u) {
                                return u.send(p).catch(function (t) {
                                    if (!t.error) throw t.jd = t.ma || t.jd, t; var w = t.error; w.kE = t.kE;
                                    q.log.error("Error sending MSL request", { mslCode: w.FA, subCode: w.jd, data: w.data, message: w.message }); throw w;
                                })
                            })
                        }; c.prototype.Yka = function () { var l; return { userTokens: null === (l = this.wX) || void 0 === l ? void 0 : l.pO.getUserIdTokenKeys() } }; var h = c; h = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.ub)), r.__param(1, (0, f.l)(m.MR)), r.__param(2, (0, f.l)(a.EK))], h); b.CHa = h
                }, function (r, b, a) {
                    function c(d, h) { this.lf = h; this.log = d.lb("SslTransport") } Object.defineProperty(b, "__esModule", { value: !0 }); b.QLa = void 0; r = a(1); var f =
                        a(0), k = a(4), m = a(7); a = a(91); c.prototype.send = function (d, h) { var l = this, n = { url: d.url.href, UC: "nq-" + d.An, yua: JSON.stringify(h), x4: d.timeout.$(k.ja), headers: d.headers, withCredentials: !0 }; !1; return (new Promise(function (q, p) { l.lf.download(n, function (u) { u.ga ? q(u) : p(u) }) })).then(function (q) { return { status: "success", body: q.content } }).catch(function (q) { if (!q.error) throw q.jd = q.ma || q.jd, q; var p = q.error; p.kE = q.kE; l.log.error("Error sending SSL request", { subCode: p.jd, data: p.content, message: p.message }); throw p; }) };
                    c.prototype.Yka = function () { return {} }; var g = c; g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ub)), r.__param(1, (0, f.l)(a.ay))], g); b.QLa = g
                }, function (r, b, a) {
                    function c(h) { return k.$e.call(this, h, "TransportConfigImpl") || this } Object.defineProperty(b, "__esModule", { value: !0 }); b.KMa = void 0; r = a(1); var f = a(0), k = a(48), m = a(33), g = a(42), d = a(34); qa(c, k.$e); c.prototype.naa = function (h) { var l = this.fQ, n = this.nRa; switch (h) { case d.ot.XR: return l; case d.ot.tKa: return l && !n; case d.ot.OHa: return !1 } }; Ya.Object.defineProperties(c.prototype,
                        { fQ: { configurable: !0, enumerable: !0, get: function () { return !0 } }, nRa: { configurable: !0, enumerable: !0, get: function () { return !1 } } }); a = c; r.__decorate([g.config(g.Rc, "usesMsl")], a.prototype, "fQ", null); r.__decorate([g.config(g.Rc, "allowRequestsWithoutMsl")], a.prototype, "nRa", null); a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Qk))], a); b.KMa = a
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.Kl = void 0; r = a(0); var c = a(536), f = a(1252); b.Kl = new r.dd(function (k) { k(c.QFa).to(f.PFa) }) }, function (r,
                    b, a) {
                    function c(q, p, u, t, w) { this.$G = q; this.iq = p; this.config = u; this.hO = t; this.fe = w } Object.defineProperty(b, "__esModule", { value: !0 }); b.PFa = void 0; r = a(1); var f = a(0), k = a(122), m = a(1253), g = a(1254), d = a(70), h = a(13), l = a(138); a = a(133); c.prototype.create = function (q, p, u) { return q ? new m.RFa(this.config(), this.iq, this.fe, p, u, this.$G, this.hO()) : new g.IFa(this.config, this.fe, p, u) }; var n = c; n = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.n0)), r.__param(1, (0, f.l)(d.Fv)), r.__param(2, (0, f.l)(h.cd)), r.__param(3, (0, f.l)(l.IR)),
                    r.__param(4, (0, f.l)(a.MK))], n); b.PFa = n
                }, function (r, b, a) {
                    function c(p, u, t, w, v, x, y) { w = l.GQ.call(this, w, v) || this; w.config = p; w.iq = u; w.fe = t; w.$G = x; w.tsa = y; w.log = (0, k.Oh)(w.j, "LicenseBroker"); w.UW = new Set; w.ssa = !1; return w } Object.defineProperty(b, "__esModule", { value: !0 }); b.RFa = void 0; r = a(1); var f = a(3), k = a(8), m = a(333), g = a(4), d = a(0), h = a(295), l = a(554), n = a(60), q = a(15); qa(c, l.GQ); c.prototype.E9 = function () {
                        var p = this, u = this.j.ka; this.UW.has(u.K) || (this.UW.add(u.K), this.ttb(u).catch(function () { return p.U8a(u) }).then(function () { return p.HRa(u) }).catch(function (t) {
                            return p.GRa(u,
                                t)
                        }).catch(function (t) { return p.Pd(t.code, t, t.Kg) }))
                    }; c.prototype.ttb = function (p) { var u = this; return Promise.all([this.fe.GYa(p.K), this.$G()]).then(function (t) { t = da(t); var w = t.next().value, v = t.next().value; return w.gaa.then(function (x) { if ("manifest" === w.source) { var y = u.xZa(p); v.J4a(y, x) } return x }).then(function (x) { return u.Via(x, p, w.source) }) }).catch(function (t) { u.log.warn("eme not in cache", t); throw t; }) }; c.prototype.Via = function (p, u, t) { this.H7a(p, u); u.AG = t; this.tsa.RQa(p.mediaKeys); return p.Wia() };
                    c.prototype.PFb = function (p) { var u = {}; p.forEach(function (t) { u[(0, m.mWa)(t.DA)] = t.time.$(g.ja) }); return u }; c.prototype.H7a = function (p, u) { var t = this; u.tf = p; p.l_b(function (w) { t.Pd(w.code, w, w.Kg) }) }; c.prototype.HRa = function (p) { this.log.info("Successfully applied license for xid: " + p.da + ", viewable: " + p.K + ", segment: " + p.ha); this.dA(p); this.ssa ? this.O5(p.K) : this.setMediaKeys(p) }; c.prototype.GRa = function (p, u) { this.dA(p); throw u; }; c.prototype.dA = function (p) { p.tf && p.dA(this.PFb(p.tf.yd)) }; c.prototype.xZa =
                        function (p) { var u; return { type: this.w6(!1), initData: p.ev.map(function (t) { return (0, k.$y)(t) }), context: { ba: this.Tb.ba, bv: null === (u = p.Af.value) || void 0 === u ? void 0 : u.bv }, $i: { K: p.K, da: p.da, zi: p.zi, sm: p.sm, uk: p.pa.uk } } }; c.prototype.U8a = function (p) { var u = this; return this.$G().then(function (t) { var w = u.xZa(p); u.UW.add(p.K); return t.Rh(w, u.tsa).then(function (v) { u.H7a(v, p); u.j.fireEvent(q.ca.XW, { K: p.K }); return v.Wia() }) }) }; c.prototype.setMediaKeys = function (p) {
                            var u = this; if (this.ssa) this.log.trace("Media Keys already set");
                            else try { this.Tb.ba ? this.Tb.ba.setMediaKeys(p.tf.mediaKeys).then(function () { u.O5(p.K); u.ssa = !0 }).catch(function (t) { t = u.y_a(t); u.Pd(f.N.rea, t, t.Te) }) : this.O5(p.K) } catch (t) { this.Pd(f.N.rea, t, void 0) }
                        }; c.prototype.HI = function () { var p = this, u = this.j.ka.tf; return u ? this.$G().then(function (t) { return t.release(u, p.tsa).then(function (w) { p.log.trace("Successfully released the license"); return w.close() }).catch(function (w) { p.log.error("Unable to release the license", w) }) }) : Promise.resolve() }; c.prototype.T8a =
                            function (p) { var u = this; p = void 0 === p ? this.j : p; return this.U8a(p).then(function () { return u.HRa(p) }).catch(function (t) { return u.GRa(p, t) }) }; c.prototype.w6 = function (p) { return this.iq.yV ? n.ei.Bp : p ? n.ei.Bp : n.ei.Fp }; Ya.Object.defineProperties(c.prototype, { TD: { configurable: !0, enumerable: !0, get: function () { return "encrypted" } }, Xo: { configurable: !0, enumerable: !0, get: function () { return this.config.Xo } } }); a = c; r.__decorate([h.RW], a.prototype, "TD", null); a = r.__decorate([(0, d.R)()], a); b.RFa = a
                }, function (r, b, a) {
                    function c(t,
                        w, v, x) { v = q.GQ.call(this, v, x) || this; v.config = t; v.fe = w; v.log = (0, k.Oh)(v.j, "LegacyLicenseBroker"); v.Xo = v.config().Xo; v.config().O7a ? (0, g.I1a)() ? v.iba = !0 : v.log.error("Promise based eme requested but platform does not support it", { browserua: d.PB }) : v.iba = !1; return v } Object.defineProperty(b, "__esModule", { value: !0 }); b.IFa = void 0; r = a(1); var f = a(3), k = a(8), m = a(155), g = a(46), d = a(11), h = a(0), l = a(295), n = a(29), q = a(554), p = a(60); qa(c, q.GQ); c.prototype.GUa = function (t) {
                            var w = void 0 === w ? this.j : w; return new this.us.dK(t,
                                function (v) { return w.y4.TV(v) }, function (v) { return w.y4.release(v) }, { qk: !1, kA: !1 })
                        }; c.prototype.PG = function (t) {
                            var w = this; t = void 0 === t ? this.j : t; var v = a(54).jk; this.us.dK || this.Pd(f.N.xR, f.M.ehb); var x = (0, k.Oh)(t, "Eme"), y = this.GUa(x), z = k.ta.get(m.cS), A = z.B4(t.Cb.value.streams); z = z.F4(t.Af.value.streams); return this.us.hK(x, function (B) { return t.Ld(B) }, {
                                qk: !1, kA: !1, Ba: { getTime: v }, $A: y, N7a: !!this.iba, ba: this.Tb.ba, iQ: this.config().CWa, onerror: function (B, E, D) { return w.Pd(B, E, D) }, gta: function () { }, Z9: !0,
                                ZRa: A, jdb: z, xW: this.config().xW
                            })
                        }; c.prototype.setMediaKeys = function (t) { var w = this; return this.iba ? new Promise(function (v, x) { if (w.Tb.ba) w.Tb.ba.setMediaKeys(t).then(function () { v() }).catch(function (y) { var z = w.y_a(y); x({ ga: !1, code: f.N.rea, jd: z.ma, Kg: z.Te, yb: z.yb, message: "Set media keys is a failure", cause: y }) }); else return Promise.resolve() }) : Promise.resolve() }; c.prototype.eXa = function (t) { return { code: t.code, subCode: t.jd, extCode: t.Kg, edgeCode: t.Hw, message: t.message, errorDetails: t.yb, errorData: t.$M, state: t.state } };
                    c.prototype.cJ = function (t, w, v) {
                        function x() { z.fP().catch(function (B) { y.log.error("Unable to set the license", y.eXa(B)); B.cause && B.cause.yb && (B.yb = B.yb ? B.yb + B.cause.yb : B.cause.yb); y.Pd(B.code, B, B.Kg) }) } var y = this; v = void 0 === v ? this.j : v; var z = v.tf; this.log.info("Setting the license"); var A = w ? function () { return Promise.resolve() } : function () { return z.Rh(y.w6(!1), t) }; return (w ? function () { return z.Via(y.Tb.ba) } : function () { return z.create(y.Xo).then(function () { return Promise.resolve() }) })().then(function () {
                            return y.config().t$a ?
                                y.setMediaKeys(z.mediaKeys) : Promise.resolve()
                        }).then(A).then(function () { return y.config().t$a ? Promise.resolve() : y.setMediaKeys(z.mediaKeys) }).then(function () { y.log.info("license set"); y.O5(v.K); y.Tb.Adb.then(function () { y.config().GD && (w || y.config().yV) && (y.O8a = ub.setTimeout(x, y.config().GD)) }) }).catch(function (B) {
                            y.log.error("Unable to set the license", y.eXa(B)); B.cause && B.cause.yb && (B.yb = B.yb ? B.yb + B.cause.yb : B.cause.yb); if (w) throw Error(B && B.message ? B.message : "failed to set license"); y.Pd(B.code,
                                B, B.Kg)
                        })
                    }; c.prototype.HI = function () { return Promise.resolve() }; c.prototype.E9 = function () {
                        function t() { w.j.tf = w.PG(); var v = []; w.j.ev.forEach(function (x) { v.push((0, k.$y)(x)) }); w.cJ(v) } var w = this; this.UW || (this.UW = !0, this.us.hK ? this.j.ev ? this.config().fV && this.config().QA ? this.fe.GYa(this.j.K).then(function (v) {
                            w.j.tf = v; return v.zdb.then(function () {
                                var x = []; w.j.ev.forEach(function (y) { x.push((0, k.$y)(y)) }); return w.cJ(x, !0).then(function () {
                                    if (v.qbc) w.Pd(f.N.ihb); else {
                                        var y = (0, k.Oh)(w.j, "Eme"); w.GUa(y);
                                        w.j.dA(v.yd || {}); w.j.AG = "videopreparer"
                                    }
                                })
                            })
                        }).catch(function (v) { w.log.warn("eme not in cache", v); t() }) : t() : (this.log.error("Missing the PSSH on the video track, closing the player"), this.Pd(f.N.Gkb)) : this.Pd(f.N.xR, f.M.fhb))
                    }; c.prototype.T8a = function (t) { t = void 0 === t ? this.j : t; t.tf = this.PG(); var w = []; t.ev.forEach(function (v) { w.push((0, k.$y)(v)) }); return this.cJ(w, !1, t) }; c.prototype.w6 = function (t) { return this.config().yV ? p.ei.Bp : t ? p.ei.Bp : p.ei.Fp }; Ya.Object.defineProperties(c.prototype, {
                        us: {
                            configurable: !0,
                            enumerable: !0, get: function () { return k.ta.get(n.hy) }
                        }, TD: { configurable: !0, enumerable: !0, get: function () { return this.iba ? "encrypted" : this.Tb.WCa + "needkey" } }
                    }); var u = c; r.__decorate([l.RW], u.prototype, "us", null); r.__decorate([l.RW], u.prototype, "TD", null); u = r.__decorate([(0, h.R)()], u); b.IFa = u
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.Zg = void 0; r = a(0); var c = a(1256), f = a(1257), k = a(557), m = a(1261), g = a(121), d = a(1263), h = a(1264), l = a(160), n = a(556), q = a(1265), p = a(307), u = a(1267), t = a(83), w =
                        a(558), v = a(1268); b.Zg = new r.dd(function (x) { x(c.flb).to(f.fKa).aa(); x(k.rKa).to(m.qKa).aa(); x(g.CK).to(d.dKa).aa(); x(l.AF).to(h.bKa).aa(); x(n.lKa).to(q.kKa).aa(); x(p.Vea).yf(function (y) { var z = y.kb; return function (A) { return new u.pKa(A, z.get(t.$x), z.get(l.AF)) } }); x(w.MFa).yf(function (y) { var z = y.kb; return function (A, B, E) { return new v.NFa(A, B, E, z.get(l.AF), z.get(g.CK)) } }) })
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }); b.flb = "PlaygraphManagerFactorySymbol" }, function (r, b, a) {
                    function c(p,
                        u, t, w, v, x, y) { this.bg = p; this.Lma = u; this.cj = t; this.jya = w; this.vVb = v; this.xVb = x; this.wVb = y } Object.defineProperty(b, "__esModule", { value: !0 }); b.fKa = void 0; r = a(1); var f = a(0), k = a(1258), m = a(7), g = a(160), d = a(346), h = a(556), l = a(422), n = a(307); a = a(557); c.prototype.create = function (p) { return new k.gKa(p, this.bg, this.Lma, this.cj, this.jya, this.vVb, this.xVb, this.wVb) }; var q = c; q = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ub)), r.__param(1, (0, f.l)(d.ZQ)), r.__param(2, (0, f.l)(g.AF)), r.__param(3, (0, f.l)(l.IMa)), r.__param(4,
                            (0, f.l)(h.lKa)), r.__param(5, (0, f.l)(n.Vea)), r.__param(6, (0, f.l)(a.rKa))], q); b.fKa = q
                }, function (r, b, a) {
                    function c(g, d, h, l, n, q, p, u) { this.jya = n; this.odb = u; this.uV = !1; l.hba && (g = (new m.hKa).e3b(g)); this.nb = p(g); this.Lk = new k.Wea(this.nb); this.Lk.l$a(this.nb.ka.S); this.log = d.lb("PlaygraphManager"); this.Zb = h.create(); this.rx = q.create(this.nb, this.Lk, this.log, this.Zb); this.V_b() } Object.defineProperty(b, "__esModule", { value: !0 }); b.gKa = void 0; var f = a(15), k = a(555), m = a(1260); c.prototype.TIb = function () { return this.nb.f$ };
                    c.prototype.RYa = function () { return this.nb.ka }; c.prototype.SYa = function () { return this.nb.Wg }; c.prototype.Foa = function () { return this.nb.ll }; c.prototype.Di = function (g) { for (var d = [], h = 0; h < arguments.length; ++h)d[h - 0] = arguments[h]; this.nb.Di.apply(this.nb, la(d)) }; c.prototype.exb = function (g) { for (var d = [], h = 0; h < arguments.length; ++h)d[h - 0] = arguments[h]; this.nb.URa(d) }; c.prototype.vB = function (g) { this.nb.ll = g }; c.prototype.Fi = function (g, d) { this.nb.Fi(g, d) }; c.prototype.qpa = function (g, d, h, l) {
                        h = void 0 === h ? {} : h;
                        l = void 0 === l ? !0 : l; var n, q; if (g !== this.nb.Wg) throw Error("Invalid currentSegmentId"); if (-1 === Object.keys(null !== (n = this.Foa().U[g].next) && void 0 !== n ? n : {}).indexOf(d)) throw Error("Invalid nextSegmentId"); this.log.info("Transition initiated: " + g + " -> " + d); this.P$a(); null === (q = h.ao) || void 0 === q ? void 0 : q.isUIAutoPlay; return this.rx.rpa(d, h, l)
                    }; c.prototype.isReady = function () { return this.rx.isReady() }; c.prototype.addListener = function (g, d, h) { this.Zb.addListener(g, d, h) }; c.prototype.removeListener = function (g,
                        d) { this.Zb.removeListener(g, d) }; c.prototype.Ln = function () { return this.rx.Ln() }; c.prototype.Fb = function () { return this.rx.sH() }; c.prototype.Lsb = function (g) { this.log.info("Adding segment - movieId: " + g.K + ", startPts: " + g.Z + ", logicalEnd: " + g.xj); var d = Object.assign({}, g.Nb, g.Z ? { Z: g.Z } : {}, g.xj ? { xj: g.xj } : {}); this.c1b(g.K, d, g.pa); g = this.rx.cRa(g); this.P$a(); return g }; c.prototype.transition = function (g) {
                            var d = this.nb.YV(this.nb.Wg); return d ? this.qpa(this.nb.Wg, d, g) : (this.log.error("Next segment is not defined"),
                                Promise.reject())
                        }; c.prototype.close = function (g) { return this.rx.close(g) }; c.prototype.c1b = function (g, d, h) { h && this.Lk.VL(g, h); this.Lk.Bsb(g, d) }; c.prototype.V_b = function () { var g = this; this.nb.z1b(function () { g.Lk.lx(); g.rx.lx() }); this.nb.A1b(function (d) { g.rx.Cta(d) }); this.nb.y1b(function (d) { g.rx.tI(d) }); this.addListener(f.BF.bZ, function () { return g.GTb() }); this.addListener(f.Fa.j1a, function (d) { return g.tTb(d) }) }; c.prototype.P$a = function () {
                            var g = this; this.uV || (this.Fb().Bia(f.ca.WI, function (d) { return g.VD(d) }),
                                this.uV = !0)
                        }; c.prototype.tTb = function (g) { var d = this; this.rx.acb(g).catch(function () { return d.Zb.Gc(f.Fa.error, g.BJ()) }) }; c.prototype.GTb = function () { var g = this.Fb().getError(); g ? this.Zb.Gc(f.Fa.kM, g) : (this.Zb.Gc(f.Fa.M3), this.Zb.Gc(f.Fa.jm), this.Zb.Gc(f.Fa.wv), this.Zb.Gc(f.Fa.Tl), this.Zb.Gc(f.Fa.ZZ), this.Zb.Gc(f.Fa.kM)) }; c.prototype.VD = function (g) { !1; var d = g.metrics; if (d) { var h = this.Fb(), l = h.nk(g.position.segmentId); d = h.nk(d.srcsegment); this.jya.BWb(g, l, d, !!h.XZa().vj) } }; b.gKa = c
                }, function (r, b) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); b.qy = void 0; r = b.qy || (b.qy = {}); r[r.PHa = 0] = "None"; r[r.CDa = 1] = "Fetching"; r[r.Xgb = 2] = "Done"; r[r.Error = 3] = "Error"
                }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.hKa = void 0; var f = a(61); c.prototype.e3b = function (k) {
                        if (!this.pNb(k.U)) return k; var m = (new f.iy).bJ(k.ue); Object.entries(k.U).forEach(function (g) { var d = da(g); g = d.next().value; d = d.next().value; g === k.ue ? m.Vk(g, Object.assign(Object.assign({}, d), { next: void 0, Da: void 0, Jd: void 0 })) : m.Vk(g, d) });
                        return m.ri()
                    }; c.prototype.pNb = function (k) { k = Object.values(k).map(function (m) { return m.S }); return 1 === (new Set(k)).size }; b.hKa = c
                }, function (r, b, a) { function c(d) { this.ya = d } Object.defineProperty(b, "__esModule", { value: !0 }); b.qKa = void 0; r = a(1); var f = a(0), k = a(16), m = a(558); c.prototype.create = function (d) { return new (a(559).P1)(this.ya.Rb(), d) }; var g = c; g = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.bd)), r.__param(1, (0, f.l)(m.MFa))], g); b.qKa = g }, function (r, b, a) {
                    function c(k, m, g) {
                        var d = f.P1.call(this, k, m) ||
                            this; d.seek = function (h) { return d.Fb().seek(h) }; d.addEpisode = function (h) { return d.ura.ksb(h) }; d.playNextEpisode = function (h) { h = void 0 === h ? {} : h; return d.ura.dVb(h) }; d.watchCredits = function (h) { return d.ura.x5b(h) }; d.playSegment = function (h) { return d.Fb().$6a(h) }; d.queueSegment = function (h) { return d.Fb().Z7a(h) }; d.updateNextSegmentWeights = function (h, l) { return d.Fb().Fi(h, l) }; d.setNextSegment = function (h) {
                                for (var l = [], n = 0; n < arguments.length; ++n)l[n - 0] = arguments[n]; l = l.map(function (q) {
                                    return {
                                        ha: q.segmentId,
                                        tO: q.nextSegmentId
                                    }
                                }); d.Zg.Di.apply(d.Zg, la(l))
                            }; d.clearNextSegment = function (h) { for (var l = [], n = 0; n < arguments.length; ++n)l[n - 0] = arguments[n]; return d.Zg.exb.apply(d.Zg, la(l)) }; d.goToNextSegment = function (h, l) { return d.Zg.qpa(h, l) }; d.getPlaying = function () { return d.isPlaying() }; d.getPaused = function () { return d.isPaused() }; d.getMuted = function () { return d.isMuted() }; d.getEnded = function () { return d.isEnded() }; d.getTimedTextVisibility = function () { return d.isTimedTextVisible() }; d.isTimedTextVisible = function () { return !!d.Fb().hW().visibility };
                        d.setTimedTextVisibility = function (h) { return d.setTimedTextVisible(h) }; d.setTimedTextSize = function (h) { return d.Fb().FP({ size: h }) }; d.setTimedTextBounds = function (h) { return d.Fb().FP({ bounds: h }) }; d.setTimedTextMargins = function (h) { return d.Fb().FP({ margins: h }) }; d.setTimedTextVisible = function (h) { return d.Fb().FP({ visibility: h }) }; d.getCongestionInfo = function (h) { h && h({ success: !1, name: null, isCongested: null }) }; d.ura = g(k, m, d.log); return d
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.kmb = void 0; var f = a(559);
                    qa(c, f.P1); b.kmb = c
                }, function (r, b, a) {
                    function c() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.dKa = void 0; r = a(1); var f = a(121), k = a(0), m = a(61); c.prototype.AAb = function (g) { for (var d = [], h = 0; h < arguments.length; ++h)d[h - 0] = arguments[h]; var l = this; if (0 === d.length) throw Error("Empty playgraph"); var n = (new m.iy).bJ(this.Vr(d[0])), q; d.reverse().forEach(function (p) { var u = l.Vr(p); n.Vk(u, Object.assign({ S: p, Aa: 0, Da: Infinity }, q ? { Jd: q } : {})); q = u }); return n.ri() }; c.prototype.Vr = function (g, d) {
                        d = void 0 === d ? f.CF.Nda :
                            d; return g + ":" + d
                    }; c.prototype.stb = function (g, d) { var h, l; if (void 0 === n) var n = null !== (h = d.id) && void 0 !== h ? h : this.Vr(d.K); h = this.uZa(g); var q = new m.iy(g); q.Vk(n, { S: d.K, Aa: null !== (l = d.Z) && void 0 !== l ? l : 0, Da: Infinity }); g = g.U[h]; d = {}; q.Vk(h, Object.assign({}, g, { Jd: n, next: Object.assign({}, g.next || {}, (d[n] = {}, d)) })); return q.ri() }; c.prototype.uZa = function (g) { for (var d = g.ue, h = d; h = g.U[h].Jd;)d = h; return d }; a = c; a = r.__decorate([(0, k.R)()], a); b.dKa = a
                }, function (r, b, a) {
                    function c(h) {
                        return k.$e.call(this, h, "PlaygraphConfigImpl") ||
                            this
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.bKa = void 0; r = a(1); var f = a(0), k = a(48), m = a(33), g = a(42), d = a(4); qa(c, k.$e); Ya.Object.defineProperties(c.prototype, {
                        dWb: { configurable: !0, enumerable: !0, get: function () { return 2 } }, cWb: { configurable: !0, enumerable: !0, get: function () { return (0, d.Z8)(3) } }, Wya: { configurable: !0, enumerable: !0, get: function () { return !1 } }, hba: { configurable: !0, enumerable: !0, get: function () { return !1 } }, Ycb: { configurable: !0, enumerable: !0, get: function () { return !1 } }, ZXa: {
                            configurable: !0,
                            enumerable: !0, get: function () { return !1 }
                        }, i$: { configurable: !0, enumerable: !0, get: function () { return !0 } }
                    }); a = c; r.__decorate([g.config(g.tB, "prepareSegmentsUpfront")], a.prototype, "dWb", null); r.__decorate([g.config(g.il, "prepareSegmentsDuration")], a.prototype, "cWb", null); r.__decorate([g.config(g.Rc, "usePlaygraphForPostPlay")], a.prototype, "Wya", null); r.__decorate([g.config(g.Rc, "usePlaygraphForSkipSegment")], a.prototype, "hba", null); r.__decorate([g.config(g.Rc, "useSinglePlayerPlayback")], a.prototype, "Ycb",
                        null); r.__decorate([g.config(g.Rc, "forcePlaygraphTrace")], a.prototype, "ZXa", null); r.__decorate([g.config(g.Rc, "postPlayDefaultNextEpisode")], a.prototype, "i$", null); a = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.Qk))], a); b.bKa = a
                }, function (r, b, a) {
                    function c(u, t, w, v, x, y, z) { this.ya = u; this.AZb = w; this.cj = x; this.Mm = z; this.zZb = t.Mz(!1, "6.0034.519.611", u.id, y, v) } Object.defineProperty(b, "__esModule", { value: !0 }); b.kKa = void 0; r = a(1); var f = a(0), k = a(16), m = a(160), g = a(1266), d = a(350), h = a(214), l = a(13), n = a(560), q =
                        a(32); a = a(121); c.prototype.create = function (u, t, w, v) { var x = this.AZb.pAb(u, this.zZb, t), y = u.Xya; w.debug("Using " + (y ? "single" : "multiple") + " player playback strategy"); return y ? new g.MLa(this.cj, u, t, w, x, v, this.Mm) : new n.mF(u, t, x, v, this.Mm) }; var p = c; p = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(k.bd)), r.__param(1, (0, f.l)(d.yLa)), r.__param(2, (0, f.l)(h.qfa)), r.__param(3, (0, f.l)(l.cd)), r.__param(4, (0, f.l)(m.AF)), r.__param(5, (0, f.l)(q.WR)), r.__param(6, (0, f.l)(a.CK))], p); b.kKa = p
                }, function (r, b, a) {
                    function c(h,
                        l, n, q, p, u, t) { var w = g.mF.call(this, l, n, p, u, t) || this; w.cj = h; w.wa = q; w.uV = !1; w.Fma = new Map; w.wTb = function () { w.sH().Bia(k.ca.WI, function (v) { w.Zb.Gc(k.BF.bZ); w.nb.Wg = v.position.segmentId }) }; w.VLb(); u.addListener(k.Fa.loaded, w.wTb); return w } Object.defineProperty(b, "__esModule", { value: !0 }); b.MLa = void 0; var f = a(61), k = a(15), m = a(3), g = a(560), d = a(121); qa(c, g.mF); c.prototype.cRa = function (h) {
                            var l = this, n, q = this.nb.ll, p = this.Mm.Vr(h.K, "ident"), u = this.Mm.Vr(h.K, "main"), t = this.Mm.Vr(h.K, "credits"), w = isFinite(h.xj),
                                v = isFinite(h.Z) && h.K !== q.U[q.ue].S, x = {}, y = (new f.iy(q)).Vk(u, Object.assign({ S: h.K, Aa: v && h.Z || 0, Da: null !== (n = h.xj) && void 0 !== n ? n : Infinity }, w ? { next: (x[t] = {}, x), Jd: t } : {})); v && (n = {}, y.Vk(p, { S: h.K, Aa: 0, Da: h.Z, next: (n[u] = {}, n), Jd: u })); w && y.Vk(t, { S: h.K, Aa: h.xj, Da: Infinity }); if (!this.nb.fB(u)) {
                                    h = q.U[this.Mm.uZa(q)].S; var z = this.Mm.Vr(h, d.CF.SAa);[this.Mm.Vr(h, d.CF.Nda), z].filter(function (A) { return l.nb.fB(A) }).forEach(function (A) {
                                        var B = l.nb.kf(A), E = A === z || l.cj.i$, D = {}; y.Vk(A, Object.assign({}, B, {
                                            next: Object.assign({},
                                                B.next, (D[u] = {}, D))
                                        }, E ? { Jd: u } : {}))
                                    })
                                } this.nb.ll = y.ri(); return this.RO(u)
                        }; c.prototype.lx = function () { this.isReady() && this.sH().lx() }; c.prototype.Cta = function () { }; c.prototype.tI = function (h) { this.sH().tI(h) }; c.prototype.rpa = function (h, l, n) { l = void 0 === l ? {} : l; this.wa.debug("goToSegment " + h); return this.sH().kW(h, l, n) }; c.prototype.RO = function (h) { if (h === this.yZb) return null; this.yZb = h; return this.uV ? this.Lk.EN(this.nb.kf(h).S).bXb : (this.uV = !0, g.mF.prototype.RO.call(this, h)) }; c.prototype.acb = function (h) {
                            return h.errorCode &&
                                this.Fma.has(h.errorCode) ? this.Fma.get(h.errorCode)(h) : Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"))
                        }; c.prototype.VLb = function () { var h = this; this.Fma.set(m.N.sIa, function () { var l, n; return null !== (n = null === (l = g.mF.prototype.RO.call(h, h.nb.Wg)) || void 0 === l ? void 0 : l.then(function () { var q, p; g.mF.prototype.rpa.call(h, h.nb.Wg, null !== (p = null === (q = h.Lk.EN(h.nb.ka.S)) || void 0 === q ? void 0 : q.Nb) && void 0 !== p ? p : {}) })) && void 0 !== n ? n : Promise.reject(Error("Couldn't prepare segment for transition")) }) };
                    b.MLa = c
                }, function (r, b, a) {
                    function c(m, g, d) { this.cA = g; this.cj = d; this.J2 = {}; this.vcb = []; this.dab = []; this.$4a = []; this.bja = new WeakMap; this.reset(m) } Object.defineProperty(b, "__esModule", { value: !0 }); b.pKa = void 0; var f = a(61), k = a(61); c.prototype.reset = function (m) { var g = 1 < Object.keys(m.U).length && 1 === (new Set(Object.values(m.U).map(function (d) { return d.S }))).size; this.Irb = this.cj.Ycb || g; this.A$a(m); this.Wg = m.ue; this.qqb = this.cA.nz(); this.oxa = new Map }; c.prototype.E6 = function (m) {
                        if (this.Xya) return this.ll;
                        this.bja.has(m) || this.bja.set(m, (0, f.qE)(m.K, m.ha)); return this.bja.get(m)
                    }; c.prototype.A$a = function (m) { this.rqb = m; this.J2 = {}; m = Object.keys(m.U); this.URa(m); this.rSb() }; c.prototype.Di = function (m) { for (var g = [], d = 0; d < arguments.length; ++d)g[d - 0] = arguments[d]; var h = this; g.filter(function (l) { return h.fB(l.ha) }).filter(function (l) { l = l.tO; return !l || h.fB(l) }).forEach(function (l) { var n = l.ha; h.J2[n] = h.x5a(l.tO); h.iSb(n) }) }; c.prototype.URa = function (m) {
                        var g = this; m.filter(function (d) { return g.fB(d) }).forEach(function (d) {
                            g.J2[d] =
                                g.x5a(g.kf(d).Jd)
                        })
                    }; c.prototype.Fi = function (m, g) { var d = this.kf(m); if (d && d.next) { var h = new k.iy(this.ll), l = Object.keys(d.next).reduce(function (n, q) { n[q] = void 0 === g[q] ? d.next[q] : Object.assign({}, d.next[q], { weight: g[q] }); return n }, {}); l = Object.assign({}, d, { next: l }); h.Vk(m, l); this.ll = h.ri() } }; c.prototype.fB = function (m, g) { g = void 0 === g ? this.ll.U : g; return m in g }; c.prototype.YV = function (m) { return this.J2[m] }; c.prototype.kf = function (m) { return this.ll.U[m] }; c.prototype.tJb = function (m) {
                        if (this.oxa.has(m)) return this.oxa.get(m);
                        m = this.kf(m); return isFinite(m.Da) ? m.Da : void 0
                    }; c.prototype.f4b = function (m, g) { this.oxa.set(m, g); this.nSb(m) }; c.prototype.z1b = function (m) { this.vcb.push(m) }; c.prototype.A1b = function (m) { this.dab.push(m) }; c.prototype.y1b = function (m) { this.$4a.push(m) }; c.prototype.rSb = function () { var m = this; this.vcb.forEach(function (g) { return g(m.ll) }) }; c.prototype.iSb = function (m) { this.$4a.forEach(function (g) { return g(m) }) }; c.prototype.nSb = function (m) { this.dab.forEach(function (g) { return g(m) }) }; c.prototype.x5a = function (m) {
                        return null ===
                            m ? void 0 : m
                    }; Ya.Object.defineProperties(c.prototype, {
                        f$: { configurable: !0, enumerable: !0, get: function () { return this.qqb } }, Xya: { configurable: !0, enumerable: !0, get: function () { return this.Irb } }, ll: { configurable: !0, enumerable: !0, get: function () { return this.rqb }, set: function (m) { if (this.Wg && !this.fB(this.Wg, m.U)) throw Error("Provided playgraphMap does not contain the current segmentId " + this.Wg); this.A$a(m) } }, Wg: {
                            configurable: !0, enumerable: !0, get: function () { return this.xnb }, set: function (m) {
                                if (!this.fB(m)) throw Error("Provided currentSegmentId " +
                                    m + " does not exist in the current playgraph"); this.xnb = m
                            }
                        }, ka: { configurable: !0, enumerable: !0, get: function () { return this.kf(this.Wg) } }
                    }); b.pKa = c
                }, function (r, b, a) {
                    function c(m, g, d, h, l) { this.aj = m; this.Zg = g; this.log = d; this.cj = h; this.Mm = l; this.c7a = new f.OJa } Object.defineProperty(b, "__esModule", { value: !0 }); b.NFa = void 0; var f = a(1269), k = a(121); c.prototype.ksb = function (m) {
                        var g, d, h, l, n; this.log.info("Next episode added", m); var q = this.c7a.x3a(m.playbackParams), p = Math.max(0, null !== (h = null !== (d = null !== (g = m.startPts) &&
                            void 0 !== g ? g : m.nextStartPts) && void 0 !== d ? d : q.Z) && void 0 !== h ? h : 0); g = null !== (n = null !== (l = m.endPts) && void 0 !== l ? l : m.currentEndPts) && void 0 !== n ? n : q.xj; return this.Zg.Lsb({ K: m.movieId, Z: p, xj: g, Nb: q, pa: m.manifest, aj: this.aj })
                    }; c.prototype.dVb = function (m) {
                        var g, d; m = this.c7a.x3a(m); this.log.info("Playing the next episode", m); var h = this.Zg.SYa(), l = this.Zg.Foa(), n = l.U[h], q = Object.keys(null !== (g = n.next) && void 0 !== g ? g : {}).find(function (p) { return n.S !== l.U[p].S }); g = !this.cj.i$ || !(null === (d = m.ao) || void 0 === d ? 0 :
                            d.isUIAutoPlay); return q ? this.Zg.qpa(h, q, m, g) : Promise.reject(Error("Next episode not found"))
                    }; c.prototype.x5b = function (m) { var g = this.Mm.Vr(m, k.CF.Nda); m = this.Mm.Vr(m, k.CF.SAa); var d = this.Zg.nb; this.cj.i$ && d.Wg !== m && d.fB(m) && d.YV(g) !== m && this.Zg.Di({ ha: g, tO: m }) }; b.NFa = c
                }, function (r, b) {
                    function a() { } Object.defineProperty(b, "__esModule", { value: !0 }); b.OJa = void 0; a.prototype.x3a = function (c) {
                        c = void 0 === c ? {} : c; return {
                            Kk: c.trackingId, N3: c.authParams, ao: c.sessionParams, Wd: c.uiLabel, jba: c.uxLabels, cma: c.disableTrackStickiness,
                            sB: c.uiPlayStartTime, xV: c.forceAudioTrackId, zV: c.forceTimedTextTrackId, vj: c.isBranching, fza: c.vuiCommand, playbackState: c.playbackState ? { currentTime: c.playbackState.currentTime, volume: c.playbackState.volume, muted: c.playbackState.muted, playbackRate: c.playbackState.playbackRate } : void 0, XM: c.enableTrickPlay, Fpa: c.heartbeatCooldown, K7: c.isPlaygraph, g8: c.loadImmediately || !1, bY: c.pin, lY: c.preciseSeeking, Z: c.startPts, Ka: c.endPts, xj: c.logicalEnd, eP: c.renderTimedText, mXa: c.extraManifestParams, eja: c.assetId,
                            Ztb: c.audioLanguages, n2b: c.textLanguages, mdb: c.videoLanguage, ep: c.packageId, GVa: c.desiredDownloadables, Uva: c.requestReference, Osb: c.additionalAudioAssets, Qsb: c.additionalTextAssets
                        }
                    }; b.OJa = a
                }, function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.XRa = void 0;
                    r = a(0);
                    var c = a(1271),
                        f = a(39);
                    b.XRa = new r.dd(function(k) {
                        k(f.ai).to(c.Zza).aa()
                    })
                },
                function(r, b, a) {
                    function c(v, x, y, z, A, B) {
                        var E = this;
                        this.sl = v;
                        this.config = y;
                        this.hp = z;
                        this.debug = A;
                        this.ya = B;
                        this.Ebb = [];
                        this.yd = {};
                        this.log = x.lb("loadAsync");
                        this.BPb = (0, u.KDa)(function(D) {
                            E.KXb = !0;
                            E.startTime = E.ya.Rb().$(q.ja);
                            console.log('E', E, E.config());
                            E.load(E.Ebb).then(function() {
                                E.endTime = E.ya.Rb().$(q.ja);
                                D(w.Yd)
                            }).catch(function(F) {
                                E.endTime = E.ya.Rb().$(q.ja);
                                D(F)
                            })
                        })
                    }
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    b.Zza = void 0;
                    r = a(1);
                    var f = a(73),
                        k = a(3),
                        m = a(1272),
                        g = a(63),
                        d = a(0),
                        h = a(7),
                        l = a(13),
                        n = a(64),
                        q = a(4),
                        p = a(97),
                        u = a(561),
                        t = a(16),
                        w = a(12);
                    c.prototype.$N = function(v) {
                        // console.log(v);
                        this.BPb(v)
                    };
                    c.prototype.register = function(v, x) {
                        this.debug.assert(!this.KXb);
                        this.Ebb.push({
                            TOb: this.Tvb(x),
                            errorCode: v
                        })
                    };
                    c.prototype.Ld = function(v) {
                        this.debug.assert(void 0 === this.yd[v]);
                        this.yd[v] = this.ya.Rb().$(q.ja)
                    };
                    c.prototype.load = function(v) {
                        var x = this;
                        return (0, m.F7a)(v).then(function(y) {
                            x.sl.mark(g.yp.Wj.heb);
                            return y.reduce(function(z, A) {
                                return z.then(function() {
                                    return x.QOb(A)
                                })
                            }, Promise.resolve()).then(function() {
                                x.sl.mark(g.yp.Wj.feb)
                            })
                        })
                    };
                    c.prototype.QOb = function(v) {
                        var x = this,
                            y = v.TOb;
                        !1;
                        const timeout = 150000;this.config().Ntb
                        console.log('Fails to load this component:', timeout);
                        // console.log('q.Nc', q.Nc);
                        // console.log('(0, q.Nc)', (0, q.Nc));
                        // console.log('y', y);
                        // console.log('this.hp.Pq', this.hp.Pq);
                        this.log = console;
                        return this.hp.Pq((0, q.Nc)(timeout), y()).catch(function(z) {
                            x.log.error("Failed to load component " +
                                v.errorCode, z);
                            x.sl.mark(g.yp.Wj.geb);
                            if (z instanceof n.xr) throw {
                                ma: k.M.eeb,
                                errorCode: v.errorCode
                            };
                            z.errorCode = z.errorCode || v.errorCode;
                            z.ma = z.ma || k.M.deb;
                            throw z;
                        })
                    };
                    c.prototype.Tvb = function(v) {
                        this.log = console;
                        return function() {
                            return new Promise(function(x, y) {
                                // console.log("Tvb:", v, x, y);
                                v(function(z) {
                                    console.log('v z.ga:', z.ga, z);
                                    z.ga ? x() : y(z)
                                })
                            })
                        }
                    };
                    a = c;
                    a = r.__decorate([(0, d.R)(), r.__param(0, (0, d.l)(f.FF)), r.__param(1, (0, d.l)(h.ub)), r.__param(2, (0, d.l)(l.cd)), r.__param(3, (0, d.l)(n.jy)), r.__param(4, (0, d.l)(p.Dv)), r.__param(5, (0, d.l)(t.bd))], a);
                    b.Zza = a
                }, function(r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", {
                            value: !0
                        });
                    b.F7a = void 0;
                    var c = a(3),
                        f = [c.N.eib, c.N.YEa, c.N.WEa, c.N.XEa, c.N.ZEa, c.N.NEa, c.N.LEa, c.N.rda, c.N.aFa, c.N.OEa, c.N.HEa, c.N.cib, c.N.MEa, c.N.KB, c.N.IEa, c.N.KEa, c.N.iib, c.N.jib, c.N.kib, c.N.fib, c.N.QEa, c.N.UEa, c.N.SEa, c.N.REa, c.N.PEa, c.N.TEa, c.N.hib, c.N.VEa, c.N.gib, c.N.JEa],
                        k;
                    (function(m) {
                        m.Ojb = function(g) {
                            for (var d = {}, h = 0; h < g.length; h++) {
                                var l = g[h];
                                if (d[l.errorCode]) return {
                                    errorCode: l.errorCode,
                                    ma: c.M.beb
                                };
                                d[l.errorCode] = 1
                            }
                        };
                        m.Pjb = function(g) {
                            for (var d = 0; d < g.length; d++) {
                                var h = g[d];
                                if (-1 === f.indexOf(h.errorCode)) return {
                                    errorCode: h.errorCode,
                                    ma: c.M.ceb
                                }
                            }
                        }
                    })(k || (k = {}));
                    b.F7a = function(m) {
                        return new Promise(function(g, d) {
                            // debugger;
                            var h = k.Pjb(m);
                            h && d(h);
                            (h = k.Ojb(m)) && d(h);
                            g(m.sort(function(l, n) {
                                return f.indexOf(l.errorCode) - f.indexOf(n.errorCode)
                            }))
                        })
                    }
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.pa = void 0; r = a(0); var c = a(1274), f = a(120); b.pa = new r.dd(function (k) { k(f.gF).to(c.JGa).aa() }) }, function (r, b, a) {
                    function c(u, t, w, v, x, y) {
                        this.kg = t; this.s3a = v; this.dX = y; this.HY =
                            new Map; this.log = u.lb("ManifestFetcher"); this.mg = w.mg; this.uvb = x().EDb
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.JGa = void 0; r = a(1); var f = a(0), k = a(16), m = a(40), g = a(7), d = a(4), h = a(13), l = a(105), n = a(54), q = a(297); a = a(189); c.prototype.sN = function (u, t, w) { var v = this; t = void 0 === t ? !0 : t; w && this.Fsb(u.S, w); return t && this.vpa(u.S) ? this.k6(u.S).catch(function () { return v.W8a(u, t) }) : this.W8a(u, t) }; c.prototype.vpa = function (u) { return this.mg.pW(u, "manifest") }; c.prototype.AZ = function (u, t) {
                        var w = this; this.uvb &&
                            this.mg.setData(u, "manifest", t, function () { return w.jKb(u) })
                    }; c.prototype.k6 = function (u) { var t = this; return this.mg.getData(u, "manifest").then(function (w) { if (!w) throw Error("Manifest not found"); if (w.Gb.expiration <= (0, n.Dka)()) throw t.mg.clearData(u, "manifest"), Error("Manifest has expired"); return w }) }; c.prototype.jKb = function (u) { var t; null === (t = this.HY.get(u)) || void 0 === t ? void 0 : t.forEach(function (w) { return w() }); this.HY.delete(u) }; c.prototype.Fsb = function (u, t) { this.HY.has(u) || this.HY.set(u, []); this.HY.get(u).push(t) };
                    c.prototype.W8a = function (u, t) {
                        var w = this; this.log.trace("Requesting a new manifest", u.S); var v = this.kg.Rb().$(d.ja), x = (u.sj ? this.w3b(u).catch(function (y) { w.log.warn(y.message); return w.s3a.Vf(w.log, u) }) : this.s3a.Vf(this.log, u)).then(function (y) { if (y.Az) { var z = y.Az, A = { gaa: Promise.resolve(z), source: "manifest" }; delete y.Az; w.mg.setData(u.S, "ldl", A, function () { z.close().catch(function (B) { w.log.info("Unable to cleanup LDL session.", B) }) }) } u.pu === l.bn.zF && (y.LI = v, y.lP = w.kg.Rb().$(d.ja)); return y }).catch(function (y) {
                            t &&
                                w.AZ(u.S, void 0); w.log.error("Failed to fetch manifest", m.Wc.$d(y)); throw y;
                        }); t && this.AZ(u.S, x); return x
                    }; c.prototype.w3b = function (u) {
                        var t = this; return new Promise(function (w, v) {
                            var x, y; t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest", u.S); var z = null === (x = u.sj) || void 0 === x ? void 0 : x.O9; if (!z) return v(Error("Parent manifest does not exist.")); x = null === (y = z.kSa) || void 0 === y ? void 0 : y.find(function (A) { var B; return A.K === u.S && A.Ni === (null === (B = u.sj) || void 0 === B ? void 0 : B.Ni) });
                            if (!x) return v(Error("Auxiliary manifest not found in parent manifest.")); w(t.dX.create(x))
                        })
                    }; var p = c; p = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(g.ub)), r.__param(1, (0, f.l)(k.bd)), r.__param(2, (0, f.l)(q.sca)), r.__param(3, (0, f.l)(l.Aea)), r.__param(4, (0, f.l)(h.cd)), r.__param(5, (0, f.l)(a.R0))], p); b.JGa = p
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.registration = b.profile = b.zRa = void 0; var c = a(98); r = a(0); var f = a(1276), k = a(308), m = a(1278), g = a(80), d = a(13), h = a(1280), l = a(562); b.zRa =
                        new r.dd(function (n) { n(c.BB).to(f.bBa).aa() }); b.profile = new r.dd(function (n) { n(k.gea).to(m.THa).aa(); n(g.EK).BE(function (q) { return (q = q.kb.get(d.cd)()) && q.gu ? "defaultacctest" : "defaultacc" }) }); b.registration = new r.dd(function (n) { n(l.WHa).to(h.VHa) })
                }, function (r, b, a) {
                    function c(l, n, q) { l = m.Wba.call(this, l, q, n, "CastApiInfoConfigImpl") || this; l.YZ = n; l.config = q; return l } Object.defineProperty(b, "__esModule", { value: !0 }); b.bBa = void 0; r = a(1); var f = a(0), k = a(34), m = a(1277), g = a(42), d = a(33); a = a(188); qa(c, m.Wba);
                    Ya.Object.defineProperties(c.prototype, {
                        endpoint: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return this.host
                            }
                        },
                        host: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                switch (this.config.Jw) {
                                    case k.zp.SLa:
                                        var l = "cast.staging.cloud";
                                        break;
                                    case k.zp.Bfa:
                                        l = "cast.test.cloud";
                                        break;
                                    case k.zp.vda:
                                        l = "cast.int.cloud";
                                        break;
                                    default:
                                        l = "cast.prod.cloud"
                                }
                                console.log('t3 netflix.com - host.get', "https://" + l + ".netflix.com");
                                // return "https://" + l + ".netflix.com"
                                return "";
                            }
                        },
                        R3: {
                            configurable: !0,
                            enumerable: !0,
                            get: function() {
                                return "pbo_mdx"
                            }
                        }
                    });

                    var h = c;
                    r.__decorate([g.config(g.string, "apiEndpoint")], h.prototype, "endpoint", null);
                    r.__decorate([g.config(g.string, "bindService")], h.prototype, "R3", null); h = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(d.Qk)), r.__param(1, (0, f.l)(a.gS)), r.__param(2, (0, f.l)(k.Wl))], h); b.bBa = h
                }, function (r, b, a) {
                    function c(l, n, q, p) { l = g.$e.call(this, l, void 0 === p ? "AppInfoConfigImpl" : p) || this; l.config = n; l.YZ = q; return l } Object.defineProperty(b, "__esModule", { value: !0 }); b.Wba = void 0; r = a(1); var f = a(0), k = a(34), m = a(42), g = a(48), d = a(33); a = a(188); qa(c, g.$e); c.prototype.CIb = function (l) { return "" + this.UWa + (this.YZ.naa(l) ? "/msl_v1" : "") }; c.prototype.NIb =
                        function (l) {
                            console.log("" + this.host + (this.YZ.naa(l) ? "/msl" : "") + "/playapi")
                            return "" + this.host + (this.YZ.naa(l) ? "/msl" : "") + "/playapi";
                        };
                        Ya.Object.defineProperties(c.prototype, {
                            endpoint: {
                                configurable: !0,
                                enumerable: !0,
                                get: function() {
                                    console.log('endpoint.get', this.host + "/api")
                                    return this.host + "/api"
                                }
                            },
                            UWa: {
                                configurable: !0,
                                enumerable: !0,
                                get: function() {
                                    console.log('UWa.get', this.host + "/nq")
                                    return this.host + "/nq"
                                }
                            },
                            host: {
                                configurable: !0,
                                enumerable: !0,
                                get: function() {
                                    switch (this.config.Jw) {
                                        case k.zp.SLa:
                                            var l = "www.stage";
                                            break;
                                        case k.zp.Bfa:
                                            l = "www-qa.test";
                                            break;
                                        case k.zp.vda:
                                            l = "www-int.test";
                                            break;
                                        default:
                                            l = "www"
                                    }
                                    console.log('t4 netflix.com - host.get', "https://" + l + ".netflix.com")
                                    return "https://" + l + ".netflix.com"
                                }
                            },
                            R3: {
                                configurable: !0,
                                enumerable: !0,
                                get: function() {
                                    return "pbo_manifests"
                                }
                            }
                        });
                        
                        var h = c; r.__decorate([m.config(m.string, "apiEndpoint")], h.prototype, "endpoint", null); r.__decorate([m.config(m.string, "nqEndpoint")], h.prototype, "UWa", null); r.__decorate([m.config(m.string, "bindService")], h.prototype, "R3", null); h = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(d.Qk)), r.__param(1, (0, f.l)(k.Wl)), r.__param(2, (0, f.l)(a.gS)), r.__param(3, (0, f.l)(d.R_)), r.__param(3, (0, f.optional)())], h); b.Wba = h
                }, function (r, b, a) {
                    function c(u,
                        t, w, v, x, y) { var z = this; this.platform = u; this.ix = t; this.Rl = v; this.is = x; this.GRb = y; this.log = w.lb("AccountManager"); this.D4().then(function (A) { return z.Dt = A }) } Object.defineProperty(b, "__esModule", { value: !0 }); b.THa = void 0; r = a(1); var f = a(0), k = a(3), m = a(29), g = a(156), d = a(7), h = a(71), l = a(1279), n = a(40), q = a(25); a = a(80); c.prototype.Ab = function () {
                            var u = this; this.ds || (this.ds = this.D4().then(function (t) {
                                u.Dt = t; return u.Rl.create().then(function (w) { return u.storage = w }).then(function () { return u.load() }).then(function () { return u.Zwb() }).catch(function (w) {
                                    u.ds =
                                        void 0; throw w;
                                })
                            })); return this.ds
                        }; c.prototype.save = function () { var u = this; if (!this.storage) return Promise.resolve(); var t = this.N2b(); this.log.trace("Saving account data", JSON.stringify(t, null, "  ")); return this.storage.save("nrdp-account", t, !1).then(function () { }).catch(function (w) { u.log.error("Unable to save account information", w); throw w; }) }; c.prototype.load = function () {
                            var u = this; return this.storage ? this.storage.load("nrdp-account").then(function (t) { return u.YFb(t.value) }).catch(function (t) {
                                u.log.debug("Unable to load persisted account data",
                                    { code: t.ma, cause: t.cause }); if (t.ma === k.M.oy) return u.log.trace("No persisted account data, creating default profile"), u.D4().then(function (w) { u.Dt = w; return u.save() }); throw u.fya(k.N.HEa, t, "Unable to read IDB for account information.");
                            }) : Promise.resolve()
                        }; c.prototype.D4 = function (u) { var t = this; return this.ix().then(function (w) { w = new l.UHa(t.platform, w, t.GRb); u && w.XFb(u); return w }) }; c.prototype.fya = function (u, t, w) {
                            return t.ma && t.cause ? new n.Wc(u, t.ma, void 0, void 0, void 0, w, void 0, t.cause) : void 0 !==
                                t.jd ? (w = (t.message ? t.message + " " : "") + (w ? w : ""), t.code = u, t.message = "" === w ? void 0 : w, t) : t instanceof Error ? new n.Wc(u, k.M.ci, void 0, void 0, void 0, w, t.stack, t) : new n.Wc(u, k.M.wl, void 0, void 0, void 0, w, void 0, t)
                        }; c.prototype.N2b = function () { var u; return null === (u = this.Dt) || void 0 === u ? void 0 : u.L2b() }; c.prototype.YFb = function (u) { var t = this; this.is.tG(u) && this.D4(u).then(function (w) { t.Dt = w; t.save() }) }; c.prototype.Zwb = function () {
                            var u = this, t = [this.WG("acc-daka"), this.WG("acc-dakb"), this.WG("acc-dakc"), this.WG("acc-dakd"),
                            this.WG("acc-dake"), this.WG("selecteddak"), this.WG("accounts")]; Promise.all(t).catch(function (w) { return u.log.error("Unable to clean up old registration data", w) })
                        }; c.prototype.WG = function (u) { var t = this; return this.storage ? this.storage.remove(u).catch(function (w) { return t.log.error("Unable to delete old registration data for - " + u, w) }) : Promise.resolve() }; Ya.Object.defineProperties(c.prototype, { profile: { configurable: !0, enumerable: !0, get: function () { return this.Dt } } }); var p = c; p = r.__decorate([(0, f.R)(),
                        r.__param(0, (0, f.l)(m.Tj)), r.__param(1, (0, f.l)(g.MR)), r.__param(2, (0, f.l)(d.ub)), r.__param(3, (0, f.l)(h.Rx)), r.__param(4, (0, f.l)(q.pf)), r.__param(5, (0, f.l)(a.EK))], p); b.THa = p
                }, function (r, b, a) {
                    function c(k, m, g, d) { this.platform = k; this.wX = m; this.pL = this.DRb = g; this.languages = k.Lla; this.Uja = void 0; this.UN = d || f.cb; this.C5 = this.FH = !1 } Object.defineProperty(b, "__esModule", { value: !0 }); b.UHa = void 0; var f = a(4); c.prototype.hVa = function () {
                        this.C5 = this.FH = !1; this.UN = (0, f.vg)(0); this.languages = this.platform.Lla; this.x9 =
                            this.k2a = this.Uja = this.PSa = void 0; this.wX.pO.removeUserIdToken(this.id); this.Ew = void 0
                    }; c.prototype.L2b = function () { return { id: this.id, lastAccessTime: this.UN ? this.UN.$(f.Zl) : 0, languages: this.languages, inUse: this.FH, exists: this.C5, cTicket: this.PSa, cTicketExpiration: this.Uja, keyPairHash: this.k2a, nrdpStorage: this.x9, customerGUID: this.Ew } }; c.prototype.XFb = function (k) {
                        this.pL = this.DRb; this.UN = (0, f.vg)(k.lastAccessTime || 0); this.languages = k.languages || this.platform.Lla; this.FH = k.inUse || !1; this.C5 = k.exists ||
                            !1; this.PSa = k.cTicket; this.Uja = k.cTicketExpiration; this.k2a = k.keyPairHash; this.x9 = k.nrdpStorage; this.Ew = k.customerGUID
                    }; Ya.Object.defineProperties(c.prototype, { id: { configurable: !0, enumerable: !0, get: function () { return this.pL } }, zva: { configurable: !0, enumerable: !0, get: function () { return this.wX.pO.hasUserIdToken(this.id) } } }); b.UHa = c
                }, function (r, b, a) {
                    function c(n, q, p, u, t) { this.Kub = q; this.jUb = p; this.Ot = u; this.profile = t; this.log = n.lb("NrdpPbo") } Object.defineProperty(b, "__esModule", { value: !0 }); b.VHa = void 0;
                    r = a(1); var f = a(0), k = a(3), m = a(7), g = a(552), d = a(553), h = a(41); a = a(80); c.prototype.FO = function (n) {
                        return this.jUb.Vf(this.log, { controlleruuid: n.bla, cticket: n.tla, nonce: n.nonce, pairdatahmac: n.o6a, targetuuid: n.Wxa }).then(function (q) { return { Yr: { tUa: q.controllerSharedSecret, vUa: q.controllerUserId, dyb: n.bla, nonce: q.nonce, ebb: q.targetSharedSecret, fbb: q.targetUserId, f2b: n.Wxa }, C_a: q.grantDataHmac } }).catch(function (q) {
                            switch (q && q.Hw) { case "MDX_CONTROLLER_CTICKET_INVALID": var p = k.U0.Zjb; break; default: p = k.U0.$jb }throw {
                                ga: !1,
                                Ema: p, vm: q.data
                            };
                        })
                    }; c.prototype.ovb = function (n) { var q = this, p = { f4a: n.tla, sQb: n.cyb, tQb: n.nonce, vQb: n.bY, wQb: this.Ot.decode(n.IXb), profile: this.profile }; return this.bind(p, !0).then(function () { return q.FO(n) }) }; c.prototype.mvb = function () { return this.bind({ profile: void 0 }, !1) }; c.prototype.pvb = function (n, q) { return this.bind({ lI: n, ZY: q }, !1) }; c.prototype.nvb = function (n, q) { return this.bind({ email: n, password: q }, !1) }; c.prototype.qvb = function (n, q) {
                        var p = this; return nrdp && nrdp.registration ? new Promise(function (u,
                            t) { nrdp.registration.deactivateAll(function () { p.bind({ AQb: "GOOGLE_JWT", Ibb: n, r$: q }, !1).then(function (w) { return u(w) }).catch(function (w) { return t(w) }) }) }) : Promise.resolve()
                    }; c.prototype.bind = function (n, q) { var p = this; return this.Kub.Vf(this.log, {}, n).then(function (u) { return { Ew: u.customerGUID } }).catch(function (u) { if (q) return p.bind(n, !1); throw u; }) }; var l = c; l = r.__decorate([(0, f.R)(), r.__param(0, (0, f.l)(m.ub)), r.__param(1, (0, f.l)(g.CIa)), r.__param(2, (0, f.l)(d.aJa)), r.__param(3, (0, f.l)(h.kj)), r.__param(4,
                        (0, f.l)(a.EK))], l); b.VHa = l
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); b.JC = void 0; r = a(0); var c = a(195), f = a(1282); b.JC = new r.dd(function (k) { k(c.uca).to(f.fBa) }) }, function (r, b, a) {
                    function c(d) { this.hb = d; this.aia = {}; this.YPa = {}; for (var h in f.RE) this.hb.li(parseInt(h)) && (this.YPa[f.RE[h]] = 1) } Object.defineProperty(b, "__esModule", { value: !0 }); b.fBa = void 0; r = a(1); var f = a(195), k = a(1283), m = a(0); a = a(25); c.prototype.track = function (d) {
                        if (this.hb.tn(d)) {
                            if (!this.YPa[d]) throw new k.xda("Cast Interaction type " +
                                d + " is undefined.");
                        } else { if (!this.hb.SC(f.RE[d])) throw new k.xda("Cast Interaction type " + d + " is undefined."); d = f.RE[d] } var h = this.aia[d]; this.aia[d] = h ? h + 1 : 1
                    }; var g = c; g = r.__decorate([(0, m.R)(), r.__param(0, (0, m.l)(a.pf))], g); b.fBa = g
                }, function (r, b) { function a(c) { var f = Error.call(this); this.message = f.message; "stack" in f && (this.stack = f.stack); this.name = "InvalidOperationError"; this.message = c } Object.defineProperty(b, "__esModule", { value: !0 }); b.xda = void 0; qa(a, Error); b.xda = a }, function (r, b, a) {
                    Object.defineProperty(b,
                        "__esModule", { value: !0 }); r = a(8); b = a(115); a = a(293); r.ta.get(b.tK).C$(a.Kda.Ffb, function (c) { var f = c.level; if (!ub._cad_global.config || f <= ub._cad_global.config.kPb) { c = c.Qaa(); var k = ub.console; 1 >= f ? k.error(c) : 2 >= f ? k.warn(c) : k.log(c) } })
                }, function (r, b, a) {
                    function c(u) { (0, l.HM)(u); if ((0, n.Zf)(u) && b.dFa.test(u)) { var t = u.split("."); if (4 === t.length) { for (var w = 0; w < t.length; w++) { var v = (0, n.Fd)(t[w]); if (0 > v || !(0, p.lA)(v, 0, 255) || 1 !== t[w].length && 0 === t[w].indexOf("0")) return } return u } } } function f(u) {
                        var t = 0; if (c(u) ===
                            u) return u = u.split("."), t += (0, n.Fd)(u[0]) << 24, t += (0, n.Fd)(u[1]) << 16, t += (0, n.Fd)(u[2]) << 8, t + (0, n.Fd)(u[3])
                    } function k(u) { (0, l.HM)(u); if ((0, n.Zf)(u) && u.match(b.eFa)) { var t = u.split(":"); -1 !== t[t.length - 1].indexOf(".") && (u = m(t[t.length - 1]), t.pop(), t.push(u[0]), t.push(u[1]), u = t.join(":")); u = u.split("::"); if (!(2 < u.length || 1 === u.length && 8 !== t.length) && (t = 1 < u.length ? g(u) : t, u = t.length, 8 === u)) { for (; u--;) { var w = parseInt(t[u], 16); if (!(0, p.lA)(w, 0, h.uGa)) return } return t.join(":") } } } function m(u) {
                        u = f(u) >>> 0; var t =
                            []; t.push((u >>> 16 & 65535).toString(16)); t.push((u & 65535).toString(16)); return t
                    } function g(u) { var t = u[0].split(":"); u = u[1].split(":"); 1 === t.length && "" === t[0] && (t = []); 1 === u.length && "" === u[0] && (u = []); var w = 8 - (t.length + u.length); if (1 > w) return []; var v; for (v = 0; v < w; v++)t.push("0"); for (v = 0; v < u.length; v++)t.push(u[v]); return t } function d(u) { return -1 << 32 - u } Object.defineProperty(b, "__esModule", { value: !0 }); b.Bib = b.Gib = b.Dib = b.Cib = b.Fib = b.Aib = b.Eib = b.YE = b.eFa = b.dFa = void 0; var h = a(12), l = a(20), n = a(28), q = a(11), p =
                        a(18); b.dFa = /^[0-9.]*$/; b.eFa = /^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/; b.YE = "0000000000000000"; b.Eib = c; b.Aib = f; b.Fib = k; b.Cib = m; b.Dib = g; b.Gib = function (u, t, w) {
                            var v = c(u), x = k(u), y = c(t), z = k(t); if (!v && !x || !y && !z || v && !y || x && !z) return !1; if (u === v) return w = d(w), (f(u) & w) !== (f(t) & w) ? !1 : !0; if (u === x) {
                                u = u.split(":"); t = t.split(":"); for (v = (0, q.MB)(w / b.YE.length); v--;)if (u[v] !== t[v]) return !1; w %= b.YE.length; if (0 !== w) for (u = parseInt(u[v], 16).toString(2), t = parseInt(t[v], 16).toString(2), u = b.YE.substring(0, b.YE.length - u.length) +
                                    u, t = b.YE.substring(0, b.YE.length - t.length) + t, v = 0; v < w; v++)if (u[v] !== t[v]) return !1; return !0
                            } return !1
                        }; b.Bib = d
                }, function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    a(14);
                    a(12);
                    r = a(8);
                    a(115);
                    a(293);
                    a(3);
                    a(114);
                    a(4);
                    a = a(39);
                    r.ta.get(a.ai);
                    !1
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(46),
                        f = a(12),
                        k = a(14),
                        m = a(3),
                        g = a(202),
                        d = a(29),
                        h = a(11),
                        l = a(8);
                    r = a(39);
                    var n = l.ta.get(r.ai);
                    console.log('registering:', m.N.ZEa)
                    n.register(m.N.ZEa, function(q) {
                        console.log('generateKey invoked');
                        if (h.RC
                            && h.RC.generateKey
                            && h.RC.importKey
                            && h.RC.unwrapKey) {
                            console.log('l.ta', l.ta);
                            console.log('l.ta.get(d.hy)', l.ta.get(d.hy));
                            console.log('!l.ta.get(d.hy).RBa', !l.ta.get(d.hy).RBa, 'd.hy', d.hy);
                            console.log('k.config.gM', k.config.gM, 'g.VJ.Tkb', g.VJ.Tkb, 'g.VJ.$ib', g.VJ.$ib);
                            console.log('k.config', k.config);
                            console.log('g.VJ', g.VJ);
                            console.log('h.Y0', h.Y0);
                            console.log('l.ta.get("PlatformSymbol").RBa', l.ta.get("PlatformSymbol").RBa);
                            if (!l.ta.get(d.hy).RBa
                                && k.config.gM != g.VJ.Tkb
                                && k.config.gM != g.VJ.$ib
                                || h.Y0)
                            {
                                console.log('really generateKey');
                                (n.Ld("wcs"), (0, c.V5a)(h.RC.generateKey({
                                    name: "AES-CBC",
                                    length: 128
                                }, !0, ["encrypt", "decrypt"])).then(function() {
                                    console.log('generateKey done', f.Yd);
                                    n.Ld("wcdone");
                                    q(f.Yd)
                                }, function(p) {
                                    p = "" + p;
                                    console.log('generateKey error', p);
                                    if (0 <= p.indexOf("missing crypto.subtle")) var u = m.M.Mfa;
                                    else 0 <= p.indexOf("timeout waiting for iframe to load") && (u = m.M.omb);
                                    q({
                                        ma: u,
                                        yb: p
                                    })
                                }))
                            } else {
                                console.log({ ma: m.M.nmb }, q);
                                q({
                                    ma: m.M.nmb
                                })
                            }
                        } else {
                            q({
                                ma: m.M.Mfa
                            })
                        }
                    })
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r = a(3); var c = a(8), f = a(512); a = a(39); c.ta.get(a.ai).register(r.N.LEa,
                        function (k) { c.ta.get(f.HCa)().then(function () { k({ ga: !0 }) }).catch(function (m) { c.log.error("error in initializing indexedDb debug tool", m); k({ ga: !0 }) }) })
                }, function (r, b, a) {
                    function c(l, n, q, p) {
                        (0, m.gb)((0, h.Ph)(l) && !(0, h.isArray)(l)); p = p || ""; var u = "", t = l.hasOwnProperty(d.Mk) && l[d.Mk]; t && (0, g.xe)(t, function (v, x) { u && (u += " "); u += v + '="' + k(x) + '"' }); q = (n ? n + ":" : "") + q; t = p + "<" + q + (u ? " " + u : ""); var w = l.hasOwnProperty(d.$s) && l[d.$s].trim && "" !== l[d.$s].trim() && l[d.$s]; if (w) return t + ">" + k(w) + "</" + q + ">"; l = f(l, n, p + "  ");
                        return t + (l ? ">\n" + l + "\n" + p + "</" + q + ">" : "/>")
                    } function f(l, n, q) { (0, m.gb)((0, h.Ph)(l) && !(0, h.isArray)(l)); q = q || ""; var p = ""; (0, g.xe)(l, function (u, t) { if ("$" != u[0]) for (var w = (0, g.Zw)(t), v = 0; v < w.length; v++)if (t = w[v], p && (p += "\n"), (0, h.Ph)(t)) p += c(t, n, u, q); else { var x = (n ? n + ":" : "") + u; p += q + "<" + x + ">" + k(t) + "</" + x + ">" } }); return p } function k(l) {
                        if ((0, h.Zf)(l)) return (0, g.rW)(l); if ((0, h.Ea)(l)) return (0, m.HU)(l, "Convert non-integer numbers to string for xml serialization."), "" + l; if (null === l || void 0 === l) return ""; (0,
                            m.gb)(!1, "Invalid xml value."); return ""
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.P2b = b.LNb = b.KNb = void 0; var m = a(20), g = a(24), d = a(157), h = a(18); b.KNb = c; b.LNb = f; b.P2b = k
                }, function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(301),
                        f = a(196),
                        k = a(14),
                        m = a(12),
                        g = a(3),
                        d = a(20),
                        h = a(8),
                        l = a(73),
                        n = a(63),
                        q = a(71),
                        p = a(24),
                        u = a(11),
                        t = a(18),
                        w = a(46),
                        v = a(114),
                        x = a(4);
                    r = a(39);
                    var y = a(482),
                        z = {},
                        A = h.ta.get(r.ai);
                    A.register(g.N.OEa, function(B) {
                        function E(Z) {
                            Z && Z.userList && k.config.e0b && (Z.userList = []);
                            console.log('another esnPrefix:', f.Wi.hu);
                            L({
                                esn: f.Wi.wm,
                                esnPrefix: f.Wi.hu,
                                authenticationType: k.config.gM,
                                authenticationKeyNames: k.config.fSa,
                                systemKeyWrapFormat: k.config.Z1b,
                                serverIdentityId: "MSL_TRUSTED_NETWORK_SERVER_KEY",
                                serverIdentityKeyData: S,
                                storeState: Z,
                                notifyMilestone: A.Ld.bind(A),
                                log: Q,
                                ErrorSubCodes: {
                                    MSL_REQUEST_TIMEOUT: g.M.ojb,
                                    MSL_READ_TIMEOUT: g.M.njb
                                }
                            }, {
                                result: function(ia) {
                                    D(ia)
                                },
                                timeout: function() {
                                    B({
                                        ma: g.M.DGa
                                    })
                                },
                                error: function(ia) {
                                    B(F(g.M.DGa, void 0, ia))
                                }
                            })
                        }
                
                        function D(Z) {
                            function ia() {
                                P && h.ta.get(q.Rx).create().then(function(ra) {
                                    return ra.save(M,
                                        na, !1)
                                }).catch(function(ra) {
                                    Q.error("Error persisting msl store", (0, g.Gv)(ra))
                                })
                            }
                            var ya = h.ta.get(v.JK)((0, x.Nc)(100)),
                                na, X = N.extend({
                                    init: function(ra) {
                                        this.kPa = ra
                                    },
                                    getResponse: function(ra, T, R) {
                                        T = this.kPa;
                                        var ca = T.O4a.lf || ca;
                                        ra = (0, t.Tqa)(ra.body) ? (0, h.$ya)(ra.body) : ra.body;
                                        (0, d.HM)(ra, "Msl should not be sending empty request");
                                        ra = {
                                            url: T.url,
                                            yua: ra,
                                            withCredentials: !0,
                                            UC: "nq-" + T.method,
                                            headers: T.headers
                                        };
                                        T = this.kPa.timeout;
                                        ra.x4 = T;
                                        ra.ata = T;
                                        var ua = ca.download(ra, function(aa) {
                                            try {
                                                if (aa.ga) R.result({
                                                    body: aa.content
                                                });
                                                else if (400 === aa.mk && aa.yb) R.result({
                                                    body: aa.yb
                                                });
                                                else throw (0, p.Ub)(new J("HTTP error, SubCode: " + aa.ma + (aa.mk ? ", HttpCode: " + aa.mk : "")), {
                                                    cadmiumResponse: aa
                                                });
                                            } catch (La) {
                                                R.error(La)
                                            }
                                        });
                                        return {
                                            abort: function() {
                                                ua.abort()
                                            }
                                        }
                                    }
                                });
                            I && Z.addEventHandler("shouldpersist", function(ra) {
                                na = ra.storeState;
                                ya.ol(ia)
                            });
                            (0, p.Ub)(z, {
                                Ucc: function() {
                                    O = !0
                                },
                                send: function(ra) {
                                    function T() {
                                        var R = ra.O4a,
                                            ca = {
                                                method: ra.method,
                                                nonReplayable: ra.VRb,
                                                encrypted: ra.cl,
                                                userId: ra.N4b,
                                                body: ra.body,
                                                timeout: 2 * ra.timeout,
                                                url: new X(ra),
                                                allowTokenRefresh: P,
                                                sendUserAuthIfRequired: U,
                                                shouldSendUserAuthData: k.config.i0b
                                            };
                                        R.email ? (ca.email = R.email, ca.password = R.password || "") : R.Ibb ? (ca.token = R.Ibb, ca.mechanism = R.AQb, R.lI && (ca.netflixId = R.lI, ca.secureNetflixId = R.ZY), R.r$ && (ca.profileGuid = R.r$)) : R.lI ? (ca.netflixId = R.lI, ca.secureNetflixId = R.ZY) : R.f4a ? (ca.mdxControllerToken = R.f4a, ca.mdxPin = R.vQb, ca.mdxNonce = R.tQb, ca.mdxEncryptedPinB64 = R.sQb, ca.mdxSignature = R.wQb) : O || R.useNetflixUserAuthData ? ca.useNetflixUserAuthData = !0 : R.r$ && (ca.profileGuid =
                                            R.r$);
                                        return ca
                                    }
                                    return new Promise(function(R, ca) {
                                        var ua = T();
                                        Z.send(ua).then(function(aa) {
                                            O && (O = !1);
                                            R({
                                                ga: !0,
                                                body: aa.body
                                            })
                                        }).catch(function(aa) {
                                            if (aa.error) {
                                                var La = aa.error.cadmiumResponse && aa.error.cadmiumResponse.ma ? aa.error.cadmiumResponse.ma : Z.isErrorReauth(aa.error) ? g.M.CGa : Z.isErrorHeader(aa.error) ? g.M.hjb : g.M.gjb,
                                                    Ua = Z.getErrorCode(aa.error);
                                                ca(F(La, Ua, aa.error))
                                            } else Q.error("Unknown MSL error", aa), aa.jd = aa.subCode, ca({
                                                ma: aa.jd ? aa.jd : g.M.pjb
                                            })
                                        })
                                    })
                                },
                                pO: Z
                            });
                            B(m.Yd);
                            h.ta.get(y.cea).FRb(z)
                        }
                
                        function F(Z,
                            ia, ya) {
                            var na, X, ra = {
                                ma: Z,
                                cN: ia
                            };
                            if (ya) {
                                var T = function(R) {
                                    R = R || "" + ya;
                                    if (ya.stack) {
                                        var ca = "" + ya.stack;
                                        R = 0 <= ca.indexOf(R) ? ca : R + ca
                                    }
                                    return R
                                };
                                if (X = ya.cadmiumResponse) {
                                    if (na = X.Te && X.Te.toString()) X.Te = na;
                                    X.ma = Z;
                                    X.cN = ia;
                                    X.yb = T(ya.message);
                                    X.error = {
                                        jd: Z,
                                        Kg: na,
                                        FA: ia,
                                        data: ya.cause,
                                        message: ya.message
                                    };
                                    return X
                                }
                                T = T(ya.errorMessage);
                                na = (0, p.Fd)(ya.internalCode) || (0, p.Fd)(ya.error && ya.error.internalCode);
                                X = void 0 !== ya.jEb ? (0, w.ota)(ya.jEb) : void 0
                            }
                            T && (ra.yb = T);
                            na && (ra.Te = na);
                            ra.error = {
                                jd: Z,
                                Kg: na.toString(),
                                FA: ia,
                                data: X,
                                message: T
                            };
                            return ra
                        }(0, d.gb)(k.config);
                        var G = h.ta.get(l.FF),
                            C = n.yp.Wj;
                        if (u.sF && u.RC && u.RC.unwrapKey) {
                            try {
                                var H = ub.netflix.msl,
                                    L = H.createMslClient,
                                    N = H.IHttpLocation,
                                    J = H.MslIoException;
                                window.mslClient = L;
                            } catch (Z) {
                                B({
                                    ma: g.M.ijb
                                });
                                return
                            }
                            var Q = (0, h.vh)("Msl"),
                                K = k.config.ARb,
                                I = k.config.CRb,
                                M = k.config.gu ? "mslstoretest" : "mslstore";
                            H = c.mJ.d$a;
                            var O = k.config.KLb,
                                P = !H || H.ga,
                                S = (0, h.$y)(k.config.gu ? "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB" :
                                    "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB"),
                                U = !!k.config.daa;
                            h.ta.get(q.Rx).create().then(function(Z) {
                                K ? Z.remove(M).then(function() {
                                    E()
                                }).catch(function(ia) {
                                    Q.error("Unable to delete MSL store",
                                        (0, g.Gv)(ia));
                                    E()
                                }) : I ? Z.load(M).then(function(ia) {
                                    G.mark(C.kjb);
                                    E(ia.value)
                                }).catch(function(ia) {
                                    ia.ma == g.M.oy ? (G.mark(C.mjb), E()) : (Q.error("Error loading msl store", (0, g.Gv)(ia)), G.mark(C.ljb), Z.remove(M).then(function() {
                                        E()
                                    }).catch(function(ya) {
                                        B(ya)
                                    }))
                                }) : E()
                            }).catch(function(Z) {
                                Q.error("Error creating app storage while loading msl store", (0, g.Gv)(Z));
                                B(Z)
                            })
                        } else B({
                            ma: g.M.jjb
                        })
                    })
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(159), f = a(12), k = a(14), m = a(68), g = a(54); r = a(3);
                    var d = a(8), h = a(73), l = a(11), n = a(50), q = a(18), p = a(52), u = a(89); a = a(39); var t, w, v = d.ta.get(a.ai); v.register(r.N.MEa, function (x) {
                        function y() {
                            var A = v.startTime, B = { browserua: l.PB, browserhref: l.$0.href, initstart: A, initdelay: v.endTime - A }; (A = l.Be.documentMode) && (B.browserdm = "" + A); "undefined" !== typeof ub.nrdp && ub.nrdp.device && (B.firmware_version = ub.nrdp.device.firmwareVersion); (0, q.DD)(k.config.wXa) && (B.fesn = k.config.wXa); Object.assign(B, (0, c.Poa)()); var E = l.Lv && l.Lv.timing; E && k.config.hPb.map(function (D) {
                                var F =
                                    E[D]; F && (B["pt_" + D] = F - (0, g.DTa)())
                            }); A = z.zZa(); Object.entries(A).forEach(function (D) { var F = da(D); D = F.next().value; F = F.next().value; return B["m_" + D] = F }); A = w.Zt("startup", "info", B, m.Ov.P5); t.Ic(A)
                        } w = d.ta.get(u.by); t = d.ta.get(p.no); var z = d.ta.get(h.FF); v.$N(function () { t.Ab(); (0, n.Tc)(y) }); x(f.Yd)
                    })
                }, function (r, b) { Object.defineProperty(b, "__esModule", { value: !0 }) }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(1), f = a(43), k = a(519), m = a(1294), g = a(304), d = a(14), h = a(12), l = a(193), n =
                        a(564), q = a(54); r = a(3); var p = a(8), u = a(498), t = a(11), w = a(302); b = a(39); var v = a(68), x = a(161); p.ta.get(b.ai).register(r.N.IEa, function (y) {
                            var z = p.ta.get(u.LHa).vAb(), A = p.ta.get(l.Mca).bK, B = p.ta.get(k.iHa).pr, E = { a$: (0, p.HV)("ASE"), ztb: (0, p.HV)("JS-ASE", void 0, "Platform"), vh: p.HV, storage: w.storage, BIb: t.$J, getTime: q.jk, YN: {}, pr: B, Pv: m.Pv, bK: A, MediaSource: n.lHa, SourceBuffer: g.Xda, Mo: function () { return [d.config.YL, d.config.cM] }, Yt: function (C) { v.RB.forEach(function (H) { H.G$a(C) }) } }; A = new Promise(function (C) {
                                w.storage.load("nh",
                                    function (H) { E.YN.nh = H.ga ? H.data : void 0; C() })
                            }); B = new Promise(function (C) { w.storage.load("lh", function (H) { E.YN.lh = H.ga ? H.data : void 0; C() }) }); var D = new Promise(function (C) { w.storage.load("gh", function (H) { E.YN.gh = H.ga ? H.data : void 0; C() }) }), F = new Promise(function (C) { w.storage.load("sth", function (H) { E.YN.sth = H.ga ? H.data : void 0; C() }) }), G = new Promise(function (C) { w.storage.load("vb", function (H) { E.YN.vb = H.ga ? H.data : void 0; C() }) }); Promise.all([A, B, G, F, D]).then(function () {
                                return c.__awaiter(this, void 0, void 0,
                                    function H() { var L, N; return Ka(H, function (J) { if (1 == J.nI) { L = a(1296)(E); x.Lt.gf = a(565); x.Lt.gf.declare(f.Ui); x.Lt.gf.set(a(178)(d.config), !0, (0, p.HV)("ASE")); var Q = f.rH(L); J.nI = 2; return { value: Q } } N = J.rza; N.open(x.Lt.gf, z); N.Mwa({ audio: d.config.YL, video: d.config.cM }, { T: d.config.SY, ea: void 0 }); x.Lt.Ei = N; y(h.Yd); J.nI = 0 }) })
                            }).catch(function (C) { E.a$.error("Exception loading location history from local storage", C) })
                        })
                }, function (r, b, a) {
                    function c() {
                        var n = new k.Nk; this.addEventListener = n.addListener.bind(this);
                        this.removeEventListener = n.removeListener.bind(this); this.emit = n.Gc.bind(this); this.R2 = h++; this.Fg = (0, m.vh)("ProbeRequest"); this.GPa = f.EKa; (0, g.gb)(void 0 !== this.GPa); this.Ih = b.Pv.Xc.UNSENT; !1
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.Pv = void 0; var f = a(1295), k = a(74), m = a(8), g = a(20), d = a(28), h = 0; (function () {
                        function n() { return JSON.stringify({ url: this.zl, id: this.R2, affected: this.U1, readystate: this.Ih }) } (0, d.Ub)(c.prototype, {
                            wO: function (q) {
                                q.affected = this.U1; q.probed = {
                                    requestId: this.R2, url: this.zl,
                                    Md: this.mT, groupId: this.y2
                                }; this.emit(b.Pv.Oe.QR, q)
                            }, hta: function (q) { this.qrb = q.httpcode; q.affected = this.U1; q.probed = { requestId: this.R2, url: this.zl, Md: this.mT, groupId: this.y2 }; this.emit(b.Pv.Oe.vF, q) }, open: function (q, p, u, t) { if (!q) return !1, !1; this.zl = q; this.U1 = p; this.mT = u; this.Ih = b.Pv.Xc.OPENED; this.Oob = t; this.GPa.FV(this); return !0 }, md: function () { !1; return !0 }, wi: function () { return this.R2 }, toString: n, toJSON: n
                        }); Object.defineProperties(c.prototype, {
                            readyState: { get: function () { return this.Ih }, set: function () { } },
                            status: { get: function () { return this.qrb } }, url: { get: function () { return this.zl } }, Nac: { get: function () { return this.U1 } }, $Ob: { get: function () { return this.Oob } }
                        })
                    })(); var l; (function (n) { n.Oe = { QR: "pr0", vF: "pr1" }; n.Xc = { UNSENT: 0, OPENED: 1, ny: 2, DONE: 3, iK: 4, name: ["UNSENT", "OPENED", "SENT", "DONE", "FAILED"] } })(l || (l = {})); b.Pv = Object.assign(c, l)
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.EKa = void 0; var c = a(8), f = a(76); b.EKa = function () {
                        (0, c.vh)("ProbeDownloader"); return {
                            FV: function (k) {
                                k = {
                                    url: k.url,
                                    pWb: k
                                }; !1; f.lf.sWb(k)
                            }
                        }
                    }()
                }, function (r, b, a) {
                    function c(D, F, G) { this.Go = D; this.groups = F; this.prefix = G; D = v(D, F, G); this.info = D.info.bind(D); this.fatal = D.fatal.bind(D); this.error = D.error.bind(D); this.warn = D.warn.bind(D); this.trace = D.trace.bind(D); this.debug = D.debug.bind(D); this.log = D.log.bind(D) } function f() {
                        this.EUa = function () { throw Error("Not implemented"); }; this.sCb = {
                            query: function () { throw Error("Not implemented"); }, read: function () { throw Error("Not implemented"); }, create: function () {
                                throw Error("Not implemented");
                            }, append: function () { throw Error("Not implemented"); }
                        }
                    } function k() { } function m() { return w ? w : "0.0.0.0" } function g(D) { D({ b6a: 0, FZ: 0, h0a: 0, vXa: 0 }) } var d = a(19), h, l, n, q, p, u, t, w, v; f.prototype.set = function (D, F) { n[D] = F; q.save(D, F) }; f.prototype.get = function (D, F) { if (n.hasOwnProperty(D)) return n[D]; t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously"); q.load(D, function (G) { G.ga ? (n[D] = G.data, F && F(G.data)) : n[D] = void 0 }) }; f.prototype.remove = function (D) { q.remove(D) }; f.prototype.clear =
                        function () { t.info("WARNING: Calling unimplemented function Storage.clear()") }; k.prototype.now = function () { return p() }; k.prototype.fa = function () { return u() }; k.prototype.Nsa = function (D) { return D + p() - u() }; k.prototype.jta = function (D) { return D + u() - p() }; c.prototype.UUa = function (D) { var F = []; this.prefix && Array.isArray(this.prefix) ? F.push.apply(F, la(this.prefix)) : this.prefix && F.push(this.prefix); F.push(D); return new c(this.Go, this.groups, F) }; var x = function () {
                            var D = Promise; D.prototype.fail = Promise.prototype.catch;
                            return D
                        }(), y, z, A, B, E; r.exports = function (D) { h = D.a$; v = D.vh; q = D.storage; n = D.YN; p = D.BIb; u = D.getTime; t = D.ztb; y = D.pr; E = D.Pv; z = D.bK; A = D.SourceBuffer; B = D.MediaSource; w = D.Ycc; l = D.Yt; return { name: "cadmium", Yt: l, a$: h, storage: new f, Storage: f, time: new k, events: new d.EventEmitter, console: new c("JS-ASE", void 0, "default"), Console: c, options: {}, Promise: x, pr: y, bK: z, sjb: A, MediaSource: B, Pv: E, cp: { name: m }, memory: { OHb: g }, Mo: D.Mo } }
                }, function (r, b, a) { r.exports = { EventEmitter: a(1298), di: a(1299) } }, function (r) {
                    function b(c, f) {
                        if (void 0 ===
                            f || "function" !== typeof f || "string" !== typeof c) throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments"); if (void 0 === this.Bd) return this.Bd = {}, this.Bd[c] = [f], !0; var k = this.Bd[c]; return void 0 === k ? (this.Bd[c] = [f], !0) : 0 > k.indexOf(f) ? (k.push(f), !0) : !1
                    } function a(c, f) { c = this.Bd ? this.Bd[c] : void 0; if (!c) return !1; c.forEach(function (k) { k(f) }); return !0 } r.exports = {
                        addEventListener: b, on: b, removeEventListener: function (c, f) {
                            if (void 0 === f || "function" !== typeof f || "string" !==
                                typeof c) throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments"); if (void 0 === this.Bd) return !1; var k = this.Bd[c]; if (void 0 === k) return !1; f = k.indexOf(f); if (0 > f) return !1; if (1 === k.length) return delete this.Bd[c], !0; k.splice(f, 1); return !0
                        }, Za: a, emit: a, removeAllListeners: function (c) { this.Bd && (void 0 === c ? delete this.Bd : delete this.Bd[c]); return this }
                    }
                }, function (r) {
                    function b(c, f, k, m) { c.trace(":", k, ":", m); f(m) } function a(c) { this.listeners = []; this.console = c } a.prototype.constructor =
                        a; a.prototype.addEventListener = function (c, f, k, m) { k = m ? k.bind(m) : k; m = !1; if (c) { this.console && (k = b.bind(null, this.console, k, f)); if ("function" === typeof c.addEventListener) m = c.addEventListener(f, k); else if ("function" === typeof c.addListener) m = c.addListener(f, k); else throw Error("Emitter does not have a function to add listeners for '" + f + "'"); this.listeners.push([c, f, k]) } return m }; a.prototype.on = a.prototype.addEventListener; a.prototype.clear = function () {
                            var c = this.listeners.length; this.listeners.forEach(function (f) {
                                var k =
                                    f[0], m = f[1]; f = f[2]; "function" === typeof k.removeEventListener ? k.removeEventListener(m, f) : "function" === typeof k.removeListener && k.removeListener(m, f)
                            }); this.listeners = []; this.console && this.console.trace("removed", c, "listener(s)")
                        }; r.exports = a
                }, function (r, b, a) {
                    function c(p, u) {
                        function t() { var H = p.sb.value === n.Xa.Kc && p.state.value === n.Mb.je && p.K === u.K; C ? H || (clearInterval(C), B = C = void 0) : H && (C = ub.setInterval(w, 1E3)) } function w() {
                            var H = p.Td.value; H = (H = H && H.stream) && H.height; if (null !== H && 0 < H) {
                                var L = (0, g.jk)(),
                                    N = p.Kf.nH(); if (N) { if (B && 2E3 > L - B.time && H === B.height) { var J = N - B.VCb, Q = x[H]; Q || (x[H] = Q = [], H > D && (A.push(H), (0, m.D_)(A))); 0 < J && !(G && G < H) && (G = H); Q.push(J); Q.length > E && Q.shift(); (Q = z[H]) || (z[H] = Q = {}); var K = Q[J]; Q[J] = K ? K + 1 : 1 } B = { time: L, VCb: N, height: H }; p.kua && p.kua.g_b(x) }
                            }
                        } var v = (0, d.Oh)(p, "DFF"), x = {}, y = f.config.ZCb, z = {}, A = [], B, E = f.config.XCb, D = f.config.YCb, F = k.tGa, G, C; if (f.config.WCb) return u.nma = {
                            EGb: function () {
                                var H = {}; z && A.forEach(function (L) {
                                    var N = z[L]; if (N) {
                                        var J = 0, Q = 0; (0, q.xe)(N, function (K, I) {
                                            Q += (0,
                                                h.Fd)(K); J += I
                                        }); H[L] = Q / J
                                    }
                                }); return H
                            }, bW: function (H) { var L = {}; H.forEach(function (N) { L[N] = {} }); z && ((0, m.D_)(H), A.forEach(function (N) { var J = z[N]; if (J) { var Q = 0, K = 0; (0, q.xe)(J, function (U, Z) { Q += Z }); var I = Object.keys(J).map(Number); (0, m.D_)(I); for (var M = I.length - 1, O = I[M], P = H.length - 1; 0 <= P; P--) { for (var S = H[P]; O >= S && 0 <= M;)(O = J[O]) && (K += O), O = I[--M]; L[S][N] = (0, l.lj)(K / Q * 100) } } })); return L }
                        }, p.state.addListener(t), p.sb.addListener(t), p.addEventListener(n.ca.XH, t), {
                            hN: "df", rv: function (H) {
                                if (H.lower && H.height >
                                    D) { H = H.height; a: { if (G) { for (var L = A.length, N = 0; N < L; N++) { var J = A[N]; if (J >= G && J < F) { var Q = x[J], K; if (K = Q) b: { K = y.length; for (var I = Q.length, M = 0; M < K; M++) { var O = y[M], P = O[0]; O = O[1]; for (var S = 0; S < I; S++)if (Q[S] >= O && 0 >= --P) { K = !0; break b } } K = !1 } if (K && F != J) { v.warn("Restricting resolution due to high number of dropped frames", { MaxHeight: J }); u.Yp.set({ reason: "droppedFrames", height: J }); L = F = J; break a } } } G = void 0 } L = F } H = H >= L } else H = !1; return H
                            }
                        }
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.tjb = void 0; r = a(109); var f =
                        a(14), k = a(12), m = a(46), g = a(54), d = a(8), h = a(28), l = a(11), n = a(15), q = a(24); (0, r.jF)(c); b.tjb = c
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); r = a(109); (0, r.jF)(function () { return { hN: "op", rv: function () { } } }) }, function (r, b, a) {
                    function c(m, g) {
                        var d = (0, k.Oh)(m, "MSS"), h; if (f.config.WQb) return {
                            hN: "mss", rv: function (l) {
                                var n; if (l.lower && 2160 <= l.height) a: { for (n = l; n.lower;) { if (2160 > n.height && 1080 < n.height) { n = !0; break a } if (1080 >= n.height) break; n = n.lower } n = !1 } else n = void 0; if (n) {
                                    if (void 0 === h) {
                                        try {
                                            var q =
                                                ub.MSMediaKeys; h = q && q.isTypeSupportedWithFeatures ? "probably" === q.isTypeSupportedWithFeatures("com.microsoft.playready.software", 'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"') : !1
                                        } catch (p) { d.error("hasUltraHdDisplay exception"), h = !0 } h || (d.warn("Restricting resolution due screen size", { MaxHeight: l.height }), g.Yp.set({ reason: "microsoftScreenSize", height: l.height }))
                                    } return !h
                                }
                            }
                        }
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.ujb = void 0; r = a(109); var f = a(14),
                        k = a(8); (0, r.jF)(c); b.ujb = c
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); r = a(109); var c = a(1304), f = a(8), k = a(29), m = a(72); (0, r.jF)(function (g) { if (f.ta.get(k.Tj).QXb) { var d = f.ta.get(m.mt); return new c.AFa(g, f.bg, d) } }) }, function (r, b, a) {
                    function c(k, m, g) {
                        var d = this; this.j = k; this.wa = m; this.OD = g; this.Qqa = !1; this.log = this.wa.lb("KeySystemRobustness", this.j); this.Qqa = !1; this.OD.Qw().then(function (h) {
                            var l, n = null === (l = h.getConfiguration().videoCapabilities) || void 0 === l ? void 0 : l.map(function (q) { return q.robustness });
                            d.Qqa = !(null === n || void 0 === n || !n.some(function (q) { return q === f.oK })); k.H$a("keySystem", h.keySystem); k.H$a("robustness", null === n || void 0 === n ? void 0 : n.toString()); d.log.trace("KeySystemRobustness: " + n)
                        }).catch(function (h) { d.log.error("KeySystemRobustness exception", h) })
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.AFa = void 0; var f = a(56); c.prototype.rv = function (k) { return k.lower && k.gl && !this.Qqa && 720 < k.height }; Ya.Object.defineProperties(c.prototype, { hN: { configurable: !0, enumerable: !0, get: function () { return "KeySystemRobustness" } } });
                    b.AFa = c
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); r = a(109); var c = a(14), f = a(8), k = a(1306); (0, r.jF)(function (m, g) { if (c.config.QNb) return new k.zFa(m, g, f.bg, c.config, f.Ba, f.Oc) }) }, function (r, b, a) {
                    function c(g, d, h, l, n, q) {
                        var p = this; this.j = g; this.xa = d; this.wa = h; this.config = l; this.Ba = n; this.Oc = q; this.htb = function (u) { !0 === u.oldValue && !1 === u.newValue && (p.log.error("RestartStreaming: UHD key is no longer usable"), p.j.TYb()) }; this.y3b = function (u) {
                            var t; p.log.trace("UhdKeyStatus: " + u.oldValue +
                                " -> " + u.newValue); var w = null === u || void 0 === u ? void 0 : u.newValue, v = null === u || void 0 === u ? void 0 : u.oldValue; "usable" !== w && (p.a_b(w, (null === (t = null === u || void 0 === u ? void 0 : u.rm) || void 0 === t ? void 0 : t.height) || 0), "usable" === v && (u = p.Ba.Ie.Ja(p.SNb), p.log.error("UHD KeyStatus unexpectedly changed: " + u.$(m.ja))))
                        }; this.T1a = !1; this.log = this.wa.lb("KeyStatusStreamFilter", this.j); this.oRa = new k.ec(!1, this.htb); this.x3b = new k.ec(void 0, this.y3b)
                    } Object.defineProperty(b, "__esModule", { value: !0 }); b.zFa = void 0; var f =
                        a(209), k = a(82), m = a(4); c.prototype.rv = function (g) { return g.gl && (this.w1b(), this.oRa.set(this.T1a && this.JKb), g.lower && 1080 < g.height && !this.oRa.value) ? !0 : !1 }; c.prototype.Axb = function () { this.JKb = !0; this.log.trace("HDCP enagement wait is complete: " + this.config.a0a) }; c.prototype.kAb = function () { var g, d = {}, h = null === (g = this.xa.Af.value) || void 0 === g ? void 0 : g.bv; null === h || void 0 === h ? void 0 : h.forEach(function (l) { d[l.Qn] = l.QI.height }); this.log.trace("KeyStatusMap", d); return d }; c.prototype.Y4a = function (g) {
                            var d =
                                this; Object.entries(g).forEach(function (h) { var l = da(h); h = l.next().value; l = l.next().value; h = d.RNb[h]; 1080 < h && (d.T1a = "usable" === l, d.x3b.set(l, { height: h })) })
                        }; c.prototype.w1b = function () { var g = this, d = this.xa.tf; !this.tNb && (0, f.wqa)(d) && (this.tNb = !0, this.RNb = this.kAb(), this.Y4a(d.keyStatuses.value), d.keyStatuses.addListener(function (h) { return g.Y4a(h.newValue) }), this.Oc.Fk((0, m.Nc)(this.config.a0a), function () { return g.Axb() }), this.SNb = this.Ba.Ie) }; c.prototype.a_b = function (g, d) {
                            this.log.error("Restricting resolution due to keyStatus",
                                { keyHeight: d, keyStatus: g }); this.xa.Yp.set({ reason: "keyStatus", height: d })
                        }; Ya.Object.defineProperties(c.prototype, { hN: { configurable: !0, enumerable: !0, get: function () { return "UhdKeyStatus" } } }); b.zFa = c
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); r = a(109); var c = a(14), f = a(8); (0, r.jF)(function (k, m) {
                        var g = { "video-merch-bob-vertical": 480, "video-merch-bob-horizontal": 384, "video-merch-jaw": 720, "show-as-a-row-bob-horizontal": 480, "mini-modal-horizontal": 720 }; Object.assign(g, c.config.z3b); var d =
                            g[m.Wd]; if (c.config.A3b && d) { var h = {}, l = (0, f.Oh)(k, "MediaStreamFilter"); return { hN: "uiLabel", rv: function (n) { if (n.lower && n.height > d) return h[n.height] || (h[n.height] = !0, l.warn("Restricting resolution due to uiLabel", { MaxHeight: d, streamHeight: n.height }), m.Yp.set({ reason: "uiLabel", height: n.height })), !0 } } }
                    })
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(159), f = a(309); r = a(68); var k = a(14), m = a(62), g = a(12), d = a(46), h = a(54), l = a(24), n = a(11), q = a(8), p = a(98), u = a(15), t = a(39), w = a(29); (0,
                        r.Oea)(r.Kea, function (v) {
                            function x(N) { if (N.newValue >= u.Mb.LOADING) { v.state.removeListener(x); N = (0, n.Z0); try { var J = "" + (0, h.p4)(); localStorage.setItem("player$test", J); var Q = localStorage.getItem("player$test"); localStorage.removeItem("player$test"); J = J == Q ? "success" : "mism" } catch (K) { J = "ex: " + K } E("type=openplay&sev=info&locstor=" + N(J)); G = (0, h.jk)(); A() } } function y() { L("type=startplay&sev=info&outcome=success") } function z() {
                                var N = v.uh; if (N) {
                                    var J = "type=startplay&sev=error&outcome=error"; N = (0, c.Eoa)(q.ta.get(w.Tj).dN,
                                        N); (0, l.xe)(N, function (Q, K) { J += "&" + (0, n.Z0)(Q) + "=" + (0, n.Z0)(K || "") }); L(J)
                                } else L("type=startplay&sev=info&outcome=abort")
                            } function A() { var N = C.shift(); if (0 < N) { var J = (0, n.oo)(N - ((0, h.jk)() - G), 0); F = setTimeout(function () { E("type=startstall&sev=info&kt=" + N); A() }, J) } } function B() { L("type=startplay&sev=info&outcome=unload") } function E(N) { N = H + "&soffms=" + v.Moa() + "&" + N; v.yd && Object.keys(v.yd).length && (N += "&" + (0, d.AO)((0, l.Ub)({}, v.yd, { prefix: "sm_" }))); (0, f.xv)("playback", N, D) } var D = q.ta.get(p.BB).host + k.config.Ss;
                            if (k.config.Nbb && D && k.config.Obb.playback) { var F, G, C = k.config.a3b.slice(), H = "xid=" + v.da + "&pbi=" + v.index + "&uiLabel=" + (v.Wd || ""); v.state.addListener(x); v.addEventListener(u.ca.Iq, y); v.addEventListener(u.ca.ng, z); m.ye.addListener(m.Jl, B, g.wF); var L = function (N) { L = g.Sj; var J = q.ta.get(t.ai); N += "&initstart=" + J.startTime + "&initend=" + J.endTime; E(N); clearTimeout(F); v.removeEventListener(u.ca.Iq, y); v.removeEventListener(u.ca.ng, z); m.ye.removeListener(m.Jl, B) } }
                        })
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule",
                        { value: !0 }); var c = a(14), f = a(12); r = a(3); var k = a(8), m = a(164); a = a(39); k.ta.get(a.ai).register(r.N.KEa, function (g) { c.config.EV && k.ta.get(m.JDa).start(); g(f.Yd) })
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(68),
                        f = a(8);
                    r = a(7);
                    var k = a(115),
                        m = a(20);
                    b = a(24);
                    var g = a(78),
                        d = a(52),
                        h = a(89),
                        l = (0, f.vh)("NrdpApi"),
                        n = {
                            debug: r.kh.DEBUG,
                            info: r.kh.DEBUG,
                            warn: r.kh.DEBUG,
                            error: r.kh.DEBUG,
                            fatal: r.kh.DEBUG,
                            trace: r.kh.DEBUG
                        },
                        q = (0, b.$ia)(["info", "warn", "trace", "error"]);
                    g.nrdp.log = {
                        addEventListener: function(p,
                            u) {
                            g.nrdp._addEventListener("log", p, u)
                        },
                        removeEventListener: function(p, u) {
                            g.nrdp._removeEventListener("log", p, u)
                        },
                        get areas() {
                            (0, m.Fl)()
                        },
                        get levels() {
                            (0, m.Fl)()
                        },
                        get level() {
                            (0, m.Fl)()
                        },
                        set level(p) {
                            console.log('log level', p)
                            (0, m.Fl)()
                        },
                        traceAreas: ["UI_SCRIPT"],
                        get sendLogBlobsToJS() {
                            (0, m.Fl)()
                        },
                        set sendLogBlobsToJS(p) {
                            (0, m.Fl)()
                        },
                        errorCodes: {},
                        _log: function(p, u) {
                            var t = u[1];
                            console.log(n[p], (t ? t + ": " : "") + u[0])
                            l.write(n[p], (t ? t + ": " : "") + u[0])
                        },
                        debug: function() {
                            g.nrdp.log._log("debug", arguments)
                        },
                        info: function() {
                            g.nrdp.log._log("info", arguments)
                        },
                        warn: function() {
                            g.nrdp.log._log("warn",
                                arguments)
                        },
                        error: function() {
                            g.nrdp.log._log("error", arguments)
                        },
                        fatal: function() {
                            g.nrdp.log._log("fatal", arguments)
                        },
                        trace: function() {
                            g.nrdp.log._log("trace", arguments)
                        },
                        toNCCP: function(p, u, t) {
                            if (p && u && (u = u.toLowerCase(), q[u])) {
                                var w = f.ta.get(d.no);
                                p = f.ta.get(h.by).Zt(p, u, t, c.Ov.P5);
                                w.Ic(p)
                            }
                        },
                        get xid() {
                            return c.Ov.Osa ? c.Ov.Osa.da : 0
                        },
                        beginUserTransaction: function() {
                            (0, m.Fl)()
                        },
                        endUserTransaction: function() {
                            (0, m.Fl)()
                        },
                        flush: function() {
                            f.ta.get(d.no).flush(!0)
                        },
                        getLogBlobs: function() {
                            (0, m.Fl)()
                        },
                        _handleEvent: function() {
                            (0,
                                m.Fl)()
                        },
                        addLogSink: function(p, u) {
                            f.ta.get(k.tK).C$(p, u)
                        }
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(78), f = a(196), k = a(12), m = a(14), g = a(46); r = a(3); var d = a(8), h = a(29), l = a(30), n = a(4), q = a(20), p = a(28), u = a(11), t = a(294), w = a(211), v = a(81); b = a(39); var x = a(183); d.ta.get(b.ai).register(r.N.QEa, function (y) {
                        function z() { return H && H.framework && H.framework.platform && H.framework.platform.getValue || H && H.receiver.platform && H.receiver.platform.getValue || H && H.__platform__ && H.__platform__.queryPlatformValue }
                        function A() { return F.I6().then(function (N) { return C.fM.map(function (J) { return J.name }).filter(function (J) { return 0 > N.indexOf(J) }) }) } function B(N, J) { !1; J = J || {}; J.type = N; c.nrdp._callEventListeners("device", J) } function E() { var N = []; try { c.nrdp.device.castReceiverVersion.split(".").forEach(function (Q) { N.push(parseInt(Q, 10)) }) } catch (Q) { var J = Q } return 3 !== N.length ? (D.error("Invalid firmware version", { firmwareVersion: c.nrdp.device.firmwareVersion, exception: J }), []) : N } var D = (0, d.vh)("NrdpDevice"), F = (0, d.$na)(),
                            G = d.ta.get(h.Tj), C = d.ta.get(v.Nv), H = d.ta.get(x.PQ), L = function () {
                                function N() { I && I.onSystemVolumeChanged != J && (I.onSystemVolumeChanged = J) } function J() { !1; Q.ol(B.bind(null, "volumeChanged", { level: U.volume, muted: U.muted })) } var Q = d.ta.get(w.Gca)((0, n.vg)(2)), K, I; if (H && H.framework) {
                                    var M = H.framework.system.EventType, O = H.framework.CastReceiverContext.getInstance(); if ((K = O) && O.isSystemReady()) O.addEventListener(M.VOLUME_CHANGED_EVENT, J); else {
                                        var P = function () {
                                            O.addEventListener(M.VOLUME_CHANGED_EVENT, J); O.removeEventListener(M.READY,
                                                P)
                                        }; O.addEventListener(M.READY, P)
                                    }
                                } else { var S = H && H.receiver && H.receiver.CastReceiverManager && H.receiver.CastReceiverManager.getInstance && H.receiver.CastReceiverManager.getInstance(); (I = K = S) && S.isSystemReady() && (S.onSystemVolumeChanged = J) } var U = {
                                    get volume() { try { N(); var Z = K && K.getSystemVolume(), ia = Z && Z.level; ia || (ia = 0); var ya = (0, u.S0)(100 * ia); !1; return ya } catch (na) { D.error("Error getting volume: ", na) } }, set volume(Z) {
                                        try {
                                            if (N(), !1, "number" === typeof Z && 0 <= Z && 100 >= Z && (Z !== U.volume || 0 === Z || 100 === Z) &&
                                                (Z /= 100, K && K.isSystemReady())) { var ia = K, ya = ia.getSystemVolume().level || 0, na = Z - ya; if (!(.1 >= na)) { var X = Math.floor(na / .1); for (na = 0; na < X; na++)ya += .1, ia.setSystemVolumeLevel(ya) } ia.setSystemVolumeLevel(Z) }
                                        } catch (ra) { D.error("Error setting volume: ", ra) }
                                    }, get muted() { try { N(); var Z = K && K.getSystemVolume(), ia = Z && Z.muted; !1; return !!ia } catch (ya) { D.error("Error getting muted: ", ya) } }, set muted(Z) {
                                        try { N(), Z !== U.muted && K && K.isSystemReady() && K.setSystemVolumeMuted(!!Z) } catch (ia) {
                                            D.error("Error setting muted: ",
                                                ia)
                                        }
                                    }
                                }; return U
                            }(); c.nrdp.device = {
                                addEventListener: function(N, J) {
                                    c.nrdp._addEventListener("device", N, J)
                                },
                                removeEventListener: function(N, J) {
                                    c.nrdp._removeEventListener("device", N, J)
                                },
                                get VOLUME_NONE() {
                                    return 0
                                },
                                get VOLUME_SPEAKER() {
                                    return 1
                                },
                                get VOLUME_STREAM() {
                                    return 2
                                },
                                get currentViewMode() {
                                    return c.w9
                                },
                                get availableViewModes() {
                                    return [c.w9]
                                },
                                get castShellMajorVersion() {
                                    var N = z();
                                    N = N && N("cast-receiver-version") || "unknown_cast_shell_ver";
                                    return (N = /([0-9a-z]+\.[0-9a-z]+)\./g.exec(N)) && 1 < N.length ? N[1] :
                                        "unknown_cast_shell_ver"
                                },
                                get softwareVersion() {
                                    var N = (0, g.dW)().build_time;
                                    N = N ? ";" + N : "";
                                    return ((0, p.Mc)("6.0034.519.611") && "6.0034.519.611" || "") + N
                                },
                                get certificationVersion() {
                                    return m.config.En.mwb
                                },
                                get deviceModel() {
                                    var N = z();
                                    return N && N("device-model") || G.PU
                                },
                                get ESNPrefix() {
                                    console.log('ESNPrefix', f.Wi.hu);
                                    return f.Wi.hu
                                },
                                get SDKVersion() {
                                    return {
                                        production: !0,
                                        version: G && G.QU,
                                        versionString: G && G.QU,
                                        libraries: [{
                                            name: "DPI",
                                            runtime: f.Wi.PCb
                                        }]
                                    }
                                },
                                get nettype() {
                                    return u.ie && u.ie.connection && u.ie.connection.type
                                },
                                get castReceiverVersion() {
                                    var N =
                                        z();
                                    if (N) return N("cast-receiver-version")
                                },
                                get systemVersion() {
                                    var N = z();
                                    if (N) return N("system-version")
                                },
                                get firmwareVersion() {
                                    var N, J = c.nrdp.device.castReceiverVersion,
                                        Q = c.nrdp.device.systemVersion;
                                    J && Q && (N = J + " (" + Q + ")");
                                    return N
                                },
                                get firmwareMajorVersion() {
                                    return E()[0]
                                },
                                get firmwareMinorVersion() {
                                    return E()[1]
                                },
                                get firmwarePatchVersion() {
                                    return E()[2]
                                },
                                get ESN() {
                                    return f.Wi.wm
                                },
                                get language() {
                                    return u.ie.language
                                },
                                get friendlyName() {
                                    return G.PU
                                },
                                get deviceCategory() {
                                    return G.Z4
                                },
                                get volume() {
                                    return L.volume
                                },
                                set volume(N) {
                                    L.volume = N
                                },
                                get volumeControlType() {
                                    var N = z();
                                    N = N && N("volume-controllable");
                                    return ((0, p.Mc)(N) ? N : 1) ? c.nrdp.device[m.config.ASb] : c.nrdp.device.VOLUME_NONE
                                },
                                get isVolumeControlNative() {
                                    return !0
                                },
                                get volumeStep() {
                                    return 1
                                },
                                get mute() {
                                    return L.muted
                                },
                                set mute(N) {
                                    L.muted = N
                                },
                                capability: {
                                    get audioProfiles() {
                                        return F.I6()
                                    },
                                    get unavailableAudioProfiles() {
                                        return A()
                                    },
                                    get supportHD() {
                                        return F.X9(l.xd.cR)
                                    },
                                    get supportUltraHD() {
                                        return F.X9(l.xd.HF)
                                    },
                                    get supportDV_HDR() {
                                        return F.X9(l.xd.jr)
                                    },
                                    get supportUHDA_HDR() {
                                        return F.X9(l.xd.jt)
                                    },
                                    support3D: !1,
                                    supportOnTheFlyAudioSwitch: !0,
                                    get support5dot1Audio() {
                                        return 6 <= F.e6()
                                    }
                                },
                                get videoOutput() {
                                    var N = d.ta.get(t.Ofa).e_a();
                                    return {
                                        width: N.width,
                                        height: N.height
                                    }
                                },
                                get UIVersion() {
                                    return m.config.En.yv
                                },
                                set UIVersion(N) {
                                    c.nrdp.setConfigData(c.vM, {
                                        uiVersion: N
                                    })
                                },
                                setUIVersion: function(N) {
                                    c.nrdp.setConfigData(c.vM, {
                                        uiVersion: N
                                    })
                                },
                                get UILanguages() {
                                    return m.config.En.k$
                                },
                                set UILanguages(N) {
                                    c.nrdp.setConfigData(c.vM, {
                                        preferredLanguages: N
                                    })
                                },
                                isScreensaverOn: function() {
                                    return !1
                                },
                                factoryReset: function(N) {
                                    c.nrdp.registration.deactivateAll(N)
                                },
                                setViewMode: function(N) {
                                    (0, q.gb)(N == c.w9)
                                }
                            }; y(k.Yd)
                    })
                }, function (r, b, a) {
                    function c() { var g; return (null === (g = m.profile) || void 0 === g ? void 0 : g.x9) || {} } function f(g, d) { m.profile && (m.profile.x9 = d, m.save()) } Object.defineProperty(b, "__esModule", { value: !0 }); var k = a(78); r = a(8); a = a(308); var m = r.ta.get(a.gea); k.nrdp.storage = {
                        get NO_DEVICE_ACCOUNT() { return "NO_DEVICE_ACCOUNT" }, get size() { return 1 }, length: function (g) { g = c(g); var d = 0, h; for (h in g) void 0 != g[h] && d++; return d }, key: function (g, d) {
                            g = c(g); for (var h in g) if (void 0 !=
                                g[h]) { if (0 == d) return h; d-- }
                        }, getItem: function (g, d) { return c(g)[d] }, setItem: function (g, d, h) { var l = c(g); l[d] = h; f(g, l) }, removeItem: function (g, d) { var h = c(g); h.hasOwnProperty(d) && delete h[d]; f(g, h) }, clear: function (g) { f(g, {}) }, _clearAll: function () { }, setPersistentData: function (g, d, h, l, n) { k.nrdp.storage._fn("setPersistentData", { JVa: g, key: d, data: h, Abc: l }, n) }, unsetPersistentData: function (g, d, h) { k.nrdp.storage._fn("unsetPersistentData", { JVa: g, key: d }, h) }, getPersistentData: function (g, d, h, l) {
                            k.nrdp.storage._fn("getPersistentData",
                                { JVa: g, key: d, Vcc: h }, l)
                        }
                    }
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(78), f = a(309), k = a(12), m = a(14), g = a(46), d = a(8), h = a(3), l = a(4), n = a(20), q = a(563), p = a(28), u = a(50), t = a(98), w = a(18), v = a(133), x = a(308), y = a(562), z = a(35); c.qI.push({
                        GX: h.N.UEa, IT: function (A) {
                            function B() { c.nrdp.removeEventListener("init", B); D() } function E() {
                                function I(P, S, U) {
                                    P.ga ? (U && (L.profile.Ew = P.Ew, L.save()), c.nrdp._callEventListeners("registration", {
                                        type: S, transaction: P.method, result: c.nrdp.COMPLETE, cookies: [F().Rwa,
                                        F().Wwa]
                                    }), (0, u.Tc)(D)) : (c.nrdp._callEventListeners("registration", { type: S, transaction: P.method, result: c.nrdp.ACTION_ID, cadmiumError: (0, d.Tea)(P.errorCode || ("netflixid" == P.method ? h.N.Bjb : h.N.Qdb), P) }), c.nrdp._callEventListeners("registration", { type: S, transaction: P.method, result: c.nrdp.COMPLETE }))
                                } function M(P) { I(P, "activate", !0) } function O() { L.profile.UN = d.ta.get(z.ih).Ie; L.save() } J.info("Ready", L.profile && { profileId: L.profile.id, registered: L.profile.zva }); O(); c.nrdp.registration = {
                                    addEventListener: function (P,
                                        S) { c.nrdp._addEventListener("registration", P, S) }, removeEventListener: function (P, S) { c.nrdp._removeEventListener("registration", P, S) }, get deviceAccounts() { J.trace("Getting the list of device accounts"); var P = L.profile; return [{ accountKey: P.id, lastAccessTime: P.UN.$(l.Zl), UILanguages: P.languages, registered: P.zva }] }, get currentDeviceAccount() { var P = L.profile; J.trace("Getting current profile", { profileId: P.id, inUse: P.FH, isDefault: !0 }); return P }, get registered() { return L.profile.zva }, get activationTokens() {
                                            return {
                                                NetflixId: F().lI,
                                                SecureNetflixId: F().ZY
                                            }
                                        }, set activationTokens(P) { }, get UILanguages() { return m.config.En.k$ }, set UILanguages(P) { var S = L.profile; S.FH && (S.languages = P, O()); m.config.En.k$ = P }, get validateSSOTokens() { return m.config.zSb }, createDeviceAccount: function (P) { J.trace("Client is asking to create a device account"); L.profile.C5 = !0; P({ result: c.nrdp.COMPLETE, key: L.profile.id }) }, selectDeviceAccount: function (P, S) {
                                            J.info("selectDeviceAccount", { accountKey: P }); S = S || p.Sj; L.profile.FH = !0; S({ result: c.nrdp.COMPLETE, selectedDeviceAccountKey: L.profile.id });
                                            (0, u.Tc)(D)
                                        }, unselectDeviceAccount: function (P) { J.info("unselectDeviceAccount"); L.profile.FH = !1; P({ result: c.nrdp.COMPLETE }) }, ping: function () { }, getDeviceTokens: function () { J.info("getDeviceTokens"); N.mvb().then(function (P) { I(Object.assign({ ga: !0 }, P), "bind", !1) }).catch(function (P) { I(Object.assign({ ga: !1 }, P), "bind", !1) }) }, tokenActivate: function (P) { N.pvb(P.NetflixId, P.SecureNetflixId).then(function (S) { M(Object.assign({ ga: !0 }, S)) }).catch(function (S) { M(Object.assign({ ga: !1 }, S)) }) }, emailActivate: function (P,
                                            S) { J.info("emailActivate"); N.nvb(P, S).then(function (U) { M(Object.assign({ ga: !0 }, U)) }).catch(function (U) { M(Object.assign({ ga: !1 }, U)) }) }, ssoActivate: function (P, S, U) {
                                                (0, w.fd)(S) && !(0, p.Mc)(U) && (U = S, S = void 0); J.info("ssoActivate", { ssoToken: P, profileGuid: S }); (0, f.xv)("sso", "type=ssoActivate&accountKey=" + S, C.host + m.config.Ss); N.qvb(P, S).then(function (Z) { var ia = {}; if (Z) return ia.success = !0, (0, f.xv)("sso", "type=ssoActivateResponse&success=true&accountKey=" + Z.Ew, C.host + m.config.Ss), ia.profileGuid = Z.Ew, U(ia) }).catch(function (Z) {
                                                    var ia =
                                                        {}, ya = h.N.Ijb, na = (0, d.Tea)(ya, Z), X = "type=ssoActivateResponse&success=false&mslcode=" + Z.cN + "&errorcode=" + ya + "&errorsubcode=" + Z.ma + "&errorextcode=" + Z.Te + "&errordetails=" + Z.yb; Z.bN && (X += "&erroredgecode=" + Z.bN); (0, f.xv)("sso", X, C.host + m.config.Ss); ia.error = { code: ya, mslcode: Z.cN, subcode: Z.ma, extcode: Z.Te, edgecode: Z.bN, displaycode: na.display.code, message: Z.yb }; U(ia)
                                                })
                                            }, mdxActivate: function (P, S, U, Z, ia, ya, na, X) { (0, n.gb)(!1, "must use mdx.mdxMslActivate"); X && X({ result: c.nrdp.ERROR }) }, mdxMslActivate: function (P,
                                                S, U, Z, ia, ya, na, X, ra) {
                                                (0, f.xv)("regpair", "type=mdxMslActivate&accountKey=" + L.profile.id, C.host + m.config.Ss); K[ya] = 1; N.ovb({ cyb: Z, bla: ya, tla: S, nonce: U, o6a: X, bY: ia, IXb: na, Wxa: P }).then(function (T) {
                                                    K[ya] && ((0, f.xv)("regpair", "type=mdxMslActivateResponse&success=true", C.host + m.config.Ss), m.config.ySb && G(), T = {
                                                        result: c.nrdp.COMPLETE, grantdatahmac: T.C_a, controlleruuid: ya, targetuuid: P, controllersharedsecret: T.Yr.tUa, controlleruserid: T.Yr.vUa, nonce: T.Yr.nonce, targetsharedsecret: T.Yr.ebb, targetuserid: T.Yr.fbb,
                                                        cookies: [F().Rwa, F().Wwa]
                                                    }, T.data = T, ra && ra([T]))
                                                }).catch(function (T) { (0, f.xv)("regpair", "type=mdxMslActivateResponse&success=false&reasonCode=" + T.dXa + "&errorcode=" + T.Ema + "&actionID=" + T.v5 + "&message=" + T.vm + "&errorDetails=" + T.yb, C.host + m.config.Ss); T = { result: T.v5 ? c.nrdp.ACTION_ID : c.nrdp.ERROR, message: T.vm }; T.data = T; ra && ra([T]) })
                                            }, mdxActivateFinish: function (P) { delete K[P] }, massDeactivationCheck: function () { (0, n.Fl)() }, deactivate: function (P, S) {
                                                var U, Z; J.info("deactivate", { accountKey: P }); H.EFb(); null ===
                                                    (U = L.profile) || void 0 === U ? void 0 : U.hVa(); L.save(); S && S({ result: c.nrdp.COMPLETE, key: null === (Z = L.profile) || void 0 === Z ? void 0 : Z.id })
                                            }, deactivateAll: function (P) { var S; J.info("deactivateAll"); null === (S = L.profile) || void 0 === S ? void 0 : S.hVa(); L.save().then(function () { P && P({ result: c.nrdp.COMPLETE }); c.nrdp._callEventListeners("nrdp", { type: "factoryReset" }) }) }
                                }; c.nrdp.mdxnccp = {
                                    pair: function (P, S, U, Z, ia, ya) {
                                        J.info("mdxnccp.pair"); (0, f.xv)("regpair", "type=pair", C.host + m.config.Ss); K[S] = 1; N.FO({
                                            bla: S, o6a: U, nonce: Z,
                                            Wxa: ia, tla: P
                                        }).then(function (na) { K[S] && ((0, f.xv)("regpair", "type=pairResponse&success=true", C.host + m.config.Ss), na = { result: c.nrdp.COMPLETE, grantdatahmac: na.C_a, controllersharedsecret: na.Yr.tUa, controlleruserid: na.Yr.vUa, controlleruuid: na.Yr.dyb, nonce: na.Yr.nonce, targetsharedsecret: na.Yr.ebb, targetuserid: na.Yr.fbb, targetuuid: na.Yr.f2b }, na.data = na, ya && ya([na])) }).catch(function (na) {
                                            (0, f.xv)("regpair", "type=pairResponse&success=false&reasonCode=" + na.dXa + "&errorcode=" + na.Ema + "&actionID=" + na.v5 + "&message=" +
                                                na.vm + "&errorDetails=" + na.yb, C.host + m.config.Ss); na = { result: na.v5 ? c.nrdp.ACTION_ID : c.nrdp.ERROR, actionID: na.v5, errorcode: na.Ema, reasonCode: na.dXa, message: na.vm, bcp47: na.Ybc }; na.data = na; ya && ya([na])
                                        })
                                    }, abort: function (P) { K[P] && delete K[P] }, finish: function (P) { delete K[P] }
                                }; A(k.Yd)
                            } function D() {
                                var I = L.profile; J.info((0, q.fMa)("trying to load config. (_configLoadedForCustomerGUID, customerGUID) = ({0}, {1})", Q, null === I || void 0 === I ? void 0 : I.Ew)); var M = F(); M && M.lI && M.ZY ? Q !== (null === I || void 0 === I ? void 0 :
                                    I.Ew) && (Q = null === I || void 0 === I ? void 0 : I.Ew, c.nrdp.loadConfigList()) : c.nrdp.configLoaded.resolve()
                            }
                            function F() {
                                if (m.config.gu) var I = "NetflixIdTest",
                                    M = "SecureNetflixIdTest";
                                else I = "NetflixId", M = "SecureNetflixId";
                                var O = (0, g.jva)(),
                                    P = O[I],
                                    S = O[M];
                                O = O.nfvdid;
                                var U = (new Date(Date.now() + 31536E6)).toUTCString(),
                                    Z = (new Date(Date.now() + 31536E7)).toUTCString();
                                console.log('t5 netflix.com');
                                return {
                                    lI: P,
                                    ZY: S,
                                    Kfc: O,
                                    N_b: "nfvdid=" + O + "; Domain=.netflix.com; Expires=" + U + "; Path=/; Secure",
                                    Rwa: I + "=" + P + "; Domain=.netflix.com; Expires=" + U + "; Path=/",
                                    Wwa: M + "=" + S + "; Domain=.netflix.com; Expires=" + Z + "; Path=/; Secure"
                                }
                            }
                            function G() {
                                try {
                                    var I = ub.indexedDB.open("netflix.cookies", 1), M, O = F(), P = [O.Rwa, O.Wwa, O.N_b]; I.onerror = function () { J.error("Failed to open IndexDB and persist cookies") }; I.onsuccess = function () {
                                        M = I.result; var S = M.transaction(["cookies"], "readwrite"); S.onerror = function () { J.error("transaction failed when persisting cookies") }; S = S.objectStore("cookies").put({ key: "all", cookies: P }); S.onerror = function () { J.error("Failed to add object to IndexDB and persist cookies") };
                                        S.onsuccess = function () { M.close() }
                                    }; I.onupgradeneeded = function () { I.result.createObjectStore("cookies", { keyPath: "key" }) }
                                } catch (S) { J.error("Failed to persist cookies to IndexDB", S) }
                            } var C = d.ta.get(t.BB), H = d.ta.get(v.MK), L = d.ta.get(x.gea), N = d.ta.get(y.WHa); (0, n.gb)(L); var J = (0, d.vh)("NrdpReg"), Q = "none", K = {}; c.nrdp.addEventListener("init", B); L.Ab().then(function () { return E() })
                        }
                    })
                }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); b.uSb = b.sSb = b.vSb = b.tSb = void 0; var c = a(78), f = a(12), k = a(14),
                        m = a(46), g = a(75), d = a(30), h = a(8), l = a(16), n = a(20), q = a(24), p = a(28), u = a(1315), t = a(11), w = a(50), v = a(18), x = a(3), y = a(260), z = a(15), A = a(4), B = a(215), E = a(121), D = a(307), F = a(555); c.qI.push({
                            GX: x.N.SEa, IT: function (G) {
                                function C(ha) {
                                    var pa = ha.movieId, Fa = ha.trackerId, Va = (0, p.Fd)(ha.pts) || 0, ab = Pa || ha.audioTrack, wb = ha.subtitleTrack, zb = ha.params, Fb = zb.pin, Lb = ha.authParams, Db = ha.uiPlayStartTime; ha = ha.vuiCommand; Pa = null; H(pa, { Kk: (0, p.Fd)(Fa), N3: Lb, ao: zb, sB: Db, xV: ab, zV: wb, fza: ha, bY: Fb, playbackState: { currentTime: Va } }); zb &&
                                        (aa.NG = { vU: zb.mdxesn, sUa: zb.controllerGroupNames, uUa: zb.controllerUiVer }); Ua = n.gca; aa.load(function (Jb, Sb) { (0, n.gb)(aa == Jb); Ua = L; J(3); Q("opencomplete", { playing: !0 }); k.config.wSb && ub.application && ub.application.uiInfoOverlay && ub.application.uiInfoOverlay.active.set(!0); (0, w.Tc)(function () { J(1); (0, w.Tc)(function () { Sb(f.Yd) }) }) })
                                } function H(ha, pa) {
                                    (0, n.gb)(!aa); ua || (ua = (0, p.createElement)("DIV"), I(), (0, m.A7a)(t.Be.body, ua)); var Fa = h.ta.get(l.bd).Rb(), Va = h.ta.get(B.Pea), ab = h.ta.get(y.Lca), wb = h.ta.get(E.CK),
                                        zb = h.ta.get(D.Vea); wb = wb.AAb((0, p.Fd)(ha)); zb = zb(wb); aa = Va.create((0, p.Fd)(ha), Fa, ab, zb, new F.Wea(zb), pa, wb.ue); ua.appendChild(aa.bh); aa.volume.set(cb / 100); aa.muted.set(Wa); aa.state.addListener(O); aa.gU.addListener(P); aa.sb.addListener(S); aa.Cb.addListener(U); aa.Qb.addListener(ia); k.config.eP || aa.Zq.addListener(na); aa.Td.addListener(X); aa.addEventListener(z.ca.Iaa, function () { K() })
                                } function L(ha) { J(1); aa.paused.set(!1, { EX: !0 }); aa.Kf.seek(ha, z.Ce.ly) } function N() {
                                    function ha() {
                                        pa.state.value == z.Mb.CLOSED &&
                                            (pa.state.removeListener(ha), pa == aa && (J(4), aa = null))
                                    } var pa = aa; (0, n.gb)(pa); pa && (pa.state.value == z.Mb.CLOSED ? (J(4), aa = null) : (pa.state.addListener(ha), pa.close()))
                                } function J(ha) { La = ha; Q("statechanged", { state: ha }) } function Q(ha, pa) { R[ha] ? ca.info("Event " + ha, pa && (0, p.fJ)(pa)) : !1; pa = pa || {}; pa.type = ha; try { c.nrdp._callEventListeners("media", pa) } catch (Fa) { ca.error(ha + " Event Listener Exception", Fa) } } function K() {
                                    if (aa && 1 === La && aa.sb.value !== z.Xa.Pe) {
                                        var ha = aa.mediaTime.value; (0, n.UG)(ha); (0, v.Ea)(ha) &&
                                            Q("updatepts", { pts: ha })
                                    }
                                } function I() { ua.style.cssText = "position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center;" + Za } function M(ha, pa) { (0, n.gb)(aa == ha); Ua = function (Fa) { (0, n.gb)(aa == ha); Ua = L; J(1); ha.Qt = Fa; (0, w.Tc)(function () { pa(f.Yd) }) }; J(3); Q("opencomplete") } function O(ha) {
                                    switch (ha.newValue) {
                                        case z.Mb.LOADING: J(0); break; case z.Mb.CLOSED: aa.state.removeListener(O); aa.gU.removeListener(P); aa.sb.removeListener(S); aa.Cb.removeListener(U);
                                            aa.Qb.removeListener(ia); k.config.eP || aa.Zq.removeListener(na); aa.Td.removeListener(X); ua.removeChild(aa.bh); var pa = aa.uh; pa && (0, w.Tc)(function () {
                                                var Fa = pa.BJ(); Fa = { message: pa.MM, cadmiumError: Fa }; if ((0, x.kDa)(pa.errorCode)) if ((0, x.oDa)(pa.ma)) { var Va = (0, p.Ub), ab = 3; switch (pa.UU) { case "R7111-1331-P18": var wb = 5068; ab = 3 }Q("nccperror", Va({ transaction: pa.method, origin: "handleActionId", result: c.nrdp.ACTION_ID, actionId: ab, actionID: ab, code: wb }, Fa)) } else Q("nccperror", (0, p.Ub)({
                                                    transaction: pa.method, origin: "reportNetworkingError",
                                                    result: c.nrdp.NETWORK_ERROR, actionId: 3, actionID: 3
                                                }, Fa)); else Q("error", (0, p.Ub)({ error: pa.errorCode, stack: pa.stack }, Fa))
                                            }); break; case z.Mb.je: aa.ho.addEventListener("showsubtitle", function (Fa) { Q("showsubtitle", Fa) }), aa.ho.addEventListener("removesubtitle", function (Fa) { Q("removesubtitle", Fa) })
                                    }
                                } function P(ha) { (ha = ha.newValue) && (0, v.Ea)(ha.progress) && ((0, n.gb)(aa.sb.value === z.Xa.Pe), Q("buffering", { percentage: (0, t.lj)(100 * ha.progress) })) } function S(ha) {
                                    ha.oldValue === z.Xa.Pe && (0, w.Tc)(function () {
                                        Q("bufferingcomplete");
                                        K()
                                    }); ha.newValue === z.Xa.Pe && (0, w.Tc)(function () { Q("buffering", { percentage: 0 }) }); ha.newValue === z.Xa.xp && (0, w.Tc)(function () { Q("endofstream") })
                                } function U(ha) { var pa = ha.newValue; Q("audiotrackchanged", { trackIndex: aa.Gg.indexOf(pa), trackId: pa.trackId }); Z(); ha.newValue && ha.oldValue && ha.newValue.Hka != ha.oldValue.Hka && (Pa = pa.trackId, 0 !== c.nrdp.media.state && Q("restartPlayback", { reason: "audioCodecChange" })) } function Z() {
                                    return new Promise(function (ha) {
                                        var pa = aa.Cb.value.cg; 0 <= pa.indexOf(aa.Qb.value) || (ca.info("Changing timed text track to match audio track"),
                                            aa.Qb.set(pa[0])); ha()
                                    })
                                } function ia(ha) { ha = ha.newValue; Q("subtitletrackchanged", { trackIndex: ha ? c.nrdp.media.currentTimedTextTrackIndex : -1, trackId: ha ? ha.trackId : void 0 }) } function ya(ha) { var pa = ""; ha.forEach(function (Fa) { pa && (pa += "<br />"); Fa.textNodes.forEach(function (Va) { for (var ab = Va.lineBreaks; ab--;)pa += "<br />"; pa += (Va.style.italic ? "<i>" : "") + Va.text + (Va.style.italic ? "</i>" : "") }) }); return pa } function na(ha) {
                                    ha = ha.newValue; $a != ha && ($a && $a.blocks && $a.blocks.length && Q("removesubtitle", { subtitleID: $a.id }),
                                        ($a = ha) && $a.blocks && $a.blocks.length && Q("showsubtitle", { subtitleID: $a.id, text: $a.vob = $a.vob || ya($a.blocks) }))
                                } function X(ha) {
                                    if (aa) {
                                        var pa = ha.newValue; ha = ha.oldValue; !pa || ha && ha.stream == pa.stream || (ha = pa.Dl.startTime, pa = pa.stream, (0, n.gb)(pa && pa.type == g.gi.video), pa = pa.xSb = pa.xSb || { streamType: c.nrdp.media.VIDEO_STREAM, bitsPerSecond: 1E3 * pa.bitrate, isHighDefinition: !0, isSuperHighDefinition: !0, frameWidth: pa.width, frameHeight: pa.height, displayAspectRatioX: pa.width, displayAspectRatioY: pa.height }, Q("newstream",
                                            { startPts: ha, streamInfo: pa }))
                                    }
                                } function ra(ha) { return ha.split(".").reduce(function (pa, Fa) { return pa + Number(Fa) }, 0) } var T = (0, h.$na)(), R = (0, q.$ia)("statechanged opencomplete bufferingcomplete endofstream underflow audiotrackchanged subtitletrackchanged error nccperror".split(" ")), ca = (0, h.vh)("NrdpMedia"), ua, aa, La = 4, Ua, $a, Za = "", cb = k.config.yVa, Wa = !1, Pa; c.nrdp.media = {
                                    addEventListener: function (ha, pa) { c.nrdp._addEventListener("media", ha, pa) }, removeEventListener: function (ha, pa) {
                                        c.nrdp._removeEventListener("media",
                                            ha, pa)
                                    }, get audioTrackList() { var ha = []; aa.Gg.forEach(function (pa) { var Fa = pa.twb; ha.push.call(ha, { id: pa.trackId, channels: { "2.0": "Stereo", "5.1": "Dolby Digital Plus", "1.0": "Mono" }[Fa] || Fa, channelsCount: ra(pa.channels), format: pa.channels, isNative: pa.isNative, codecName: "", language: pa.hf, languageDescription: pa.displayName, rawTrackType: pa.xx, trackType: pa.hj, url: "netflix://audioTrack/index=" + ha.length }) }); return ha }, get currentAudioTrack() { return aa.Gg.indexOf(aa.Cb.value) }, set currentAudioTrack(ha) {
                                        !1; aa.Cb.set(aa.Gg[(0,
                                            p.Fd)(ha)])
                                    }, get isVolumeControlSupported() { if (aa && aa.Cb && aa.Cb.value) { var ha = c.nrdp.device.volumeControlType === c.nrdp.device.VOLUME_STREAM, pa = !1; if (c.nrdp.device.volumeControlType === c.nrdp.device.VOLUME_SPEAKER || ha && 6 != this.currentChannelCount) pa = !0; return pa } }, get currentChannelCount() { return aa && aa.Cb && aa.Cb.value ? ra(aa.Cb.value.channels) : 6 }, get currentSubtitleTrack() { return c.nrdp.media.currentTimedTextTrackIndex }, get getAudioSubtitleTracksDirectlyFromPlayer() { return !0 }, get currentTimedTextTrackIndex() {
                                        var ha =
                                            aa.Cb && aa.Cb.value, pa = aa.Qb && aa.Qb.value; if (ha && pa) { if ((ha = ha.cg) && (0, v.isArray)(ha)) return ha.indexOf(aa.Qb.value) } else ca.error("Attempted to get currentTextTrackIndex with no selected audioTrack or timedTextTrack"); return -1
                                    }, set currentSubtitleTrack(ha) { }, get displayAspectRatio() { return { x: aa.Ys.x3 || aa.Ys.width, y: aa.Ys.height } }, get croppedAspectRatio() { return aa && aa.MV() }, get rootElement() { return aa && aa.bh }, get videoElement() { return aa && aa.Tb && aa.Tb.ba }, get showDebugBadging() { return k.config.q0b },
                                    get isPreleaseContent() { var ha; return !(null === (ha = aa.pa) || void 0 === ha || !ha.Gb.wba) }, get prereleaseWatermarkInfo() { var ha; return null === (ha = aa.pa) || void 0 === ha ? void 0 : ha.Gb.wba }, get videoQualityTier() { if (aa && aa.Af && aa.Af.value) { var ha = d.xd[T.oZa(aa.Af.value.streams)]; return "HDR10" == ha ? "UHDA-HDR" : ha } }, get framerate() { return aa && aa.he && aa.he.value && aa.he.value.framerate && aa.he.value.framerate.toFixed(3) }, get duration() { return aa && aa.Vt.$(A.ja) || 0 }, get movieID() { return aa.K }, get state() { return La }, get currentPts() {
                                        if (aa &&
                                            (0, p.Mc)(aa.mediaTime)) return aa.mediaTime.value
                                    }, get timedTextTrackList() { var ha = [], pa = aa && aa.Cb.value; pa && (pa = pa.cg, pa.forEach(function (Fa) { Fa && ha.push({ id: Fa.trackId, isOffTrack: function () { return Fa.Vo() || Fa.On() }, language: Fa.hf, languageDescription: Fa.displayName, rawTrackType: Fa.xx, trackType: Fa.hj, url: "netflix://timedText/index=" + ha.length }) })); return ha }, get subtitleTrackList() {
                                        var ha = []; aa.cg.forEach(function (pa) {
                                            pa && ha.push({
                                                id: pa.trackId, language: pa.hf, languageDescription: pa.displayName, rawTrackType: pa.xx,
                                                trackType: pa.hj, url: "netflix://timedText/index=" + ha.length
                                            })
                                        }); return ha
                                    }, get xid() { return "" + (aa ? aa.da : 0) }, get UNKNOWN_STREAM() { return -1 }, get AUDIO_STREAM() { return 0 }, get VIDEO_STREAM() { return 1 }, get TIMEDTEXT_STREAM() { return 2 }, OPENING: 0, PLAYING: 1, PAUSED: 2, STOPPED: 3, CLOSED: 4, get WIRED() { return 0 }, get WIFI() { return 1 }, get MOBILE() { return 2 }, get STANDARD_PLAYBACK() { return 1 }, get BROWSE_PLAYBACK() { return 2 }, open: function (ha, pa, Fa) {
                                        (0, w.Tc)(function () {
                                            var Va = Fa && Fa.sB; ca.info("open", { MovieId: ha }); var ab =
                                                Fa; ab = void 0 === ab ? {} : ab; ab.Wd = ab.Wd || "standard"; H(ha, Object.assign(ab, { Kk: (0, p.Fd)(pa), sB: Va })); aa.load(M)
                                        })
                                    }, openAndPlay: function (ha) { (0, w.Tc)(function () { ca.info("openAndPlay", ha); C(ha) }) }, close: function () { (0, w.Tc)(function () { ca.info("close"); N() }) }, play: function (ha) { (0, w.Tc)(function () { ca.info("play", { ms: ha }); Ua(ha) }) }, stop: function () { (0, w.Tc)(function () { ca.info("stop"); aa.paused.set(!0, { EX: !0 }); J(3) }) }, pause: function () {
                                        (0, w.Tc)(function () {
                                            ca.info("pause"); aa.paused.set(!0); aa.fireEvent(z.ca.adb);
                                            J(2)
                                        })
                                    }, unpause: function () { (0, w.Tc)(function () { ca.info("unpause"); aa.paused.set(!1); aa.fireEvent(z.ca.Zya); J(1); K() }) }, setVideoWindow: function () { I() }, bringToFront: function () { Za = ";z-index:1000"; I() }, sendToBack: function () { Za = ""; I() }, transitionPlaybackType: p.Sj, selectTracks: function (ha, pa) {
                                        return new Promise(function (Fa) {
                                            ca.info("selectTracks", { audioTrackId: ha, timedTextTrackId: pa }); var Va; ha && (Va = (Va = aa.Gg.filter(function (ab) { return ab.trackId == ha })) && Va[0]) && aa.Cb.set(Va); pa && (Va = Va || aa.Cb.value, (Va =
                                                Va.cg.filter(function (ab) { return ab && ab.trackId == pa })) && Va[0] && aa.Qb.set(Va[0])); Z().then(Fa)
                                        })
                                    }, swim: function (ha, pa, Fa, Va) { (0, w.Tc)(function () { ca.info("swim", { pts: ha, absolute: pa, fuzz: Fa, allowRebuffer: Va }); var ab = ha; pa || (ab = aa.mediaTime.value + ha, Va || (ab = void 0)); void 0 === ab || 0 > ab || ab > aa.Vt.$(A.ja) ? Q("swim", { currentPts: aa.mediaTime.value, error: !0 }) : (Q("swim", { currentPts: ab }), Ua(ab)) }) }, getBufferRange: function () { }, diagnostics: {
                                        addEventListener: function (ha) { aa.VC.addEventListener.apply(this, arguments) },
                                        removeEventListener: function () { aa.VC.removeEventListener.apply(this, arguments) }, getModel: function () { return aa.VC.LZa.apply(this, arguments) }, getGroups: function () { return aa.VC.RV.apply(this, arguments) }, getTime: function () { return aa.VC.getTime.apply(this, arguments) }
                                    }, getBufferedMediaByteTotal: function () { return aa && aa.JJb() || 0 }, get castInteractionTypes() { return u.RE }, logCastInteraction: function (ha) { try { aa && aa.JC.track(ha) } catch (pa) { ca.error("There was an error logging cast interactions.", pa) } }
                                }; b.tSb =
                                    function () { return cb }; b.vSb = function (ha) { cb = ha; aa && aa.volume.set(cb / 100) }; b.sSb = function () { return Wa }; b.uSb = function (ha) { Wa = ha; aa && aa.muted.set(ha) }; G(f.Yd)
                            }
                        })
                }, function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    a(1).__exportStar(a(195), b)
                },
                function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(78),
                        f = a(12),
                        k = a(29);
                    r = a(3);
                    var m = a(8);
                    c.nrdp.log = console;
                    c.qI.push({
                        GX: r.N.REa,
                        IT: function(g) {
                            try {
                                m.ta.get(k.hy).Sca = c.nrdp.device.ESNPrefix
                            } catch (d) {
                                c.nrdp.log.error("Failed to set ESNPrefix",
                                    d)
                            }
                            g(f.Yd)
                        }
                    })
                }, function(r, b, a) {
                    Object.defineProperty(b, "__esModule", {
                        value: !0
                    });
                    var c = a(78),
                        f = a(566),
                        k = a(12),
                        m = a(196),
                        g = a(8),
                        d = a(98);
                    r = a(3);
                    var h = a(66),
                        l = a(299),
                        n = a(34),
                        q = a(29),
                        p = a(321);
                    c.qI.push({
                        GX: r.N.PEa,
                        IT: function(u) {
                            var t = g.ta.get(q.Tj),
                                w = {
                                    name: "Cast",
                                    os: {
                                        name: "Cast",
                                        fullName: "Google Cast",
                                        version: c.nrdp.device && c.nrdp.device.firmwareVersion,
                                        major: c.nrdp.device && c.nrdp.device.firmwareMajorVersion,
                                        minor: c.nrdp.device && c.nrdp.device.firmwareMinorVersion,
                                        patch: c.nrdp.device && c.nrdp.device.firmwarePatchVersion
                                    },
                                    isCast: !0,
                                    isChromecast: "chromecast" === t.Z4,
                                    isCastTV: "casttv" === t.Z4,
                                    features: {},
                                    specialFlags: {},
                                    esnPrefix: m.Wi.hu
                                };
                            console.log('nrdp start config', w);
                            c.nrdp.config = {
                                load: function(v) {
                                    var x = g.ta.get(p.cBa).apply({
                                            hu: w.esnPrefix,
                                            oec: {
                                                vPb: w.os.major,
                                                rRb: w.os.minor,
                                                AUb: w.os.patch
                                            }
                                        }),
                                        y = g.ta.get(h.qt),
                                        z = g.ta.get(d.BB);
                                    y = {
                                        VWa: (0, l.Pja)(z, y, "config", n.ot.OHa, "config/cast"),
                                        ik: w
                                    };
                                    (new f.xca(c.nrdp.log, y)).Mz(v).then(function(A) {
                                        c.nrdp.setConfigData(v, Object.assign(Object.assign({}, x), A.config));
                                        c.nrdp.configLoaded.resolve()
                                    }).catch(function(A) {
                                        c.nrdp.log.error(A.message, {
                                            yb: A.yb,
                                            Uw: A.Uw
                                        });
                                        c.nrdp.configLoaded.reject("Configuration load failed.")
                                    })
                                }
                            };
                            u(k.Yd)
                        }
                    })
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); r = a(78); var c = a(12); a = a(3); r.qI.push({ GX: a.N.TEa, IT: function (f) { f(c.Yd) } }) }, function (r, b, a) {
                    Object.defineProperty(b, "__esModule", { value: !0 }); var c = a(14), f = a(12); r = a(3); var k = a(8); b = a(39); var m = a(133), g; k.ta.get(b.ai).register(r.N.VEa, function (d) {
                        if (c.config.oVb) {
                            var h = (0, k.vh)("PlayerPredictionModel"), l = k.ta.get(m.MK), n = a(1320); h.log = h.trace.bind(h);
                            g = new n({}, h, { LY: function () { }, nYb: function () { } }, l, { PO: function () { } }); ub._cad_global.playerPredictionModel = g; h.info("ppm v2 initialized")
                        } d(f.Yd)
                    })
                }, function (r, b, a) {
                    function c(p, u, t, w, v, x) { this.K = this.S = p; this.priority = u; this.Ud = t; x && x.Wd && (this.Wd = x.Wd); void 0 !== w && (this.cY = w); this.zm = v; this.Nb = x } function f(p, u, t, w, v) {
                        d(void 0 !== w, "video preparer is null"); d(void 0 !== v, "ui preparer is null"); this.I = u; this.Oa = t; this.Jrb = w; this.Crb = v; this.DPa = n.Aua; this.ML = []; this.gia = !1; this.BS = 0; (new q).on(n, "changed",
                            k, this); this.reset()
                    } function k() { this.I.log("config changed"); n.Aua && (this.DPa = n.Aua); n.vX !== this.BL && (this.reset(), this.Ova()) } var m = a(310), g = a(311); b = a(567); var d = b.assert, h = b.GXa, l = a(1321), n = a(568).config, q = a(1322).di; n.declare({ Aua: ["ppmConfig", { y6b: { C5a: 0, B5a: 2, z5a: 0, A5a: 5, M$a: 0 }, Q$b: { C5a: 0, B5a: 1, z5a: 0, A5a: 3, M$a: 1E3 }, O6b: { C5a: 0, B5a: 1, z5a: 0, A5a: 3, M$a: 1E3 } }] }); f.prototype.constructor = f; f.prototype.reset = function () {
                        this.Iga = !0; this.BL = n.vX; this.I.log("create model: " + n.vX, n.w9a, n.ITa); switch (n.vX) {
                            case "modelone": this.BL =
                                new l(this.I); break; default: this.BL = new l(this.I)
                        }
                    }; f.prototype.Ova = function () { if (!1 === this.gia) { this.gia = !0; for (var p = 0; p < this.ML.length; p++) { this.I.log("PlayPredictionModel replay: ", JSON.stringify(this.ML[p])); var u = this.xUa(this.ML[p]), t = this.rYa(u); this.BL.update(u, t); this.Iga = !1 } this.ML = [] } }; f.prototype.update = function (p) {
                        this.I.log("PlayPredictionModel update: ", JSON.stringify(p)); if (p && p.eb && p.eb[0]) {
                            !1 === this.gia && this.ML.length < n.dQb && this.ML.push(p); var u = this.xUa(p), t = this.rYa(u); this.I.log("actionType",
                                t); u = "mlmodel" == n.vX ? this.BL.update(p, t) : this.BL.update(u, t); u = this.mGb(u, n.FNb || 1); this.I.log("PlayPredictionModel.prototype.update() - returnedList: ", JSON.stringify(u)); 0 === this.BS && (this.BS = m(), this.Oa && this.Oa.LY && this.Oa.LY({ XBb: this.BS })); if (this.Oa && this.Oa.nYb) { this.kHb(); var w = []; u.forEach(function (v) { w.push({ Afc: v.S }) }); JSON.stringify(p); JSON.stringify(u) } this.Jrb.PO(u); this.Crb.PO(u); this.Iga = !1
                        }
                    }; f.prototype.kHb = function () { m() }; f.prototype.LY = function () {
                        this.BS = m(); this.Oa && this.Oa.LY &&
                            this.Oa.LY({ XBb: this.BS })
                    }; f.prototype.xUa = function (p) {
                        var u = {}, t, w = p.eb || [], v = function (y) { var z = {}, A; x = g.yR.name.indexOf(y.context); z.context = 0 <= x ? x : g.yR.gy; z.rowIndex = y.rowIndex; z.requestId = y.requestId; z.list = []; t = y.list || []; t.forEach(function (B) { A = { S: B.S, Ud: B.Ud, index: B.index, cY: B.cY, Dua: B.Dua, list: B.list, Nb: B.Nb }; void 0 !== B.property && (x = g.qK.name.indexOf(B.property), A.property = 0 <= x ? x : g.qK.gy); z.list.push(A) }.bind(this)); u.eb.push(z) }.bind(this); if (void 0 !== p.direction) {
                            var x = g.Jv.name.indexOf(p.direction);
                            u.direction = 0 <= x ? x : g.Jv.gy
                        } void 0 !== p.vV && (u.kcc = p.vV.rowIndex, u.jcc = p.vV.uxb); u.vV = p.vV; u.eb = []; w.forEach(v); return u
                    }; f.prototype.rYa = function (p) { var u = p.direction || g.Jv.gy, t = p.vV, w = p.eb || []; !0 === this.Iga ? p = g.Qx.xDa : !0 === w.some(this.GKb) ? (p = g.Qx.TR, this.E$(w, u, t)) : p = w[0].context === g.yR.w1 ? g.Qx.w1 : u === g.Jv.OKa || u === g.Jv.BFa ? g.Qx.gLa : g.Qx.gy; return p }; f.prototype.GKb = function (p) { return (p.list || []).some(function (u) { return u.property === g.qK.TR || u.property === g.qK.QBa }) }; f.prototype.E$ = function (p, u, t) {
                        this.I.log("reportPlayFocusEvent: ",
                            u, t); var w = {}, v = h(p); this.Oa && this.Oa.E$ && (w.acc = m(), w.direction = g.Jv.name[u], t && (w.rowIndex = t.rowIndex, w.Jka = t.uxb), void 0 !== v.Dk && (w.requestId = p[v.Dk].requestId), this.Oa.E$ && this.Oa.E$(w))
                    }; f.prototype.mGb = function (p, u) { for (var t = p.length, w = [], v, x, y, z, A = 0; A < t; A++) { x = p[A]; v = Math.floor(A / u) + 1; if (void 0 !== x.list) { y = x.list; z = y.length; for (var B = 0; B < Math.min(n.sxb, z) && !(y[B].zm = x.zm, this.UQa(y[B], v, w), w.length >= n.S3a); B++); } else this.UQa(x, v, w); if (w.length >= n.S3a) break } return w }; f.prototype.UQa = function (p,
                        u, t) { function w(y) { y.Wd && (y.Nb || (y.Nb = {}), y.Nb.Wd = y.Wd); return y.Nb } var v = p.Dua; if (void 0 !== v && v instanceof Array) v.forEach(function (y) { void 0 !== y.S && (x = w(y), t.push(new c(y.S, u, y.Ud, y.cY, p.zm, x))) }); else if (void 0 !== v && void 0 !== v.S) { v = p.Dua; var x = w(v); t.push(new c(v.S, u, v.Ud, v.cY, p.zm, x)) } void 0 !== p.S && (x = w(p), t.push(new c(p.S, u, p.Ud, p.cY, p.zm, x))) }; f.prototype.Mz = function (p) { var u = this.DPa; return p ? u[p] : u }; r.exports = f
                }, function (r, b, a) {
                    function c(t, w) { this.Dk = t; this.mm = w } function f(t) { this.I = t; this.reset() }
                    var k = a(310), m = a(311); b = a(567); var g = a(568).config, d = b.cHb, h = b.KGb, l = b.ZBb, n = b.SSb, q = b.RSb, p = b.QSb, u = b.GXa; f.prototype.constructor = f; f.prototype.reset = function () { this.EPa = void 0; this.Tk = []; this.sPa = this.tPa = !1 }; f.prototype.update = function (t, w) {
                        this.Tk && (this.Tk = this.Tk.filter(this.g0b, this)); if (!1 === this.tPa) { var v = d(t.eb).slice(0, g.gVa); 0 < v.length && (this.gI(v, m.Ux.vl), this.tPa = !0, this.Tk = this.JJ(v.concat(this.Tk))) } !1 === this.sPa && (v = h(t.eb).slice(0, g.gVa), 0 < v.length && (this.gI(v, m.Ux.vl), this.sPa =
                            !0, this.Tk = this.JJ(v.concat(this.Tk)))); switch (w) { case m.Qx.xDa: w = this.gKb(t); break; case m.Qx.gLa: w = this.pKb(t); break; case m.Qx.w1: w = this.qKb(t); break; case m.Qx.TR: w = this.lKb(t); break; default: w = this.dKb(t) }this.EPa = t; return w
                    }; f.prototype.gKb = function (t) { t = n(t.eb, g.w9a, g.ITa); this.gI(t, m.Ux.vl); return this.Tk = this.JJ(this.Tk.concat(t)) }; f.prototype.pKb = function (t) {
                        this.I.log("handleScrollHorizontal"); var w = t.eb; t = n(w, g.y9a, g.JTa); var v = l(w, this.EPa.eb); w = w[v].list.slice(0, g.bZb); w.concat(t); this.gI(w,
                            m.Ux.zfa); return this.JJ(w.concat(this.Tk))
                    }; f.prototype.gI = function (t, w) { t.forEach(function (v) { if (void 0 === v.GC || v.GC < w) v.GC = w; void 0 === v.XP && (v.XP = k()); void 0 === v.zm && (v.zm = k()) }) }; f.prototype.qKb = function (t) { this.I.log("handleSearch"); t = q(t.eb, g.vZb); this.gI(t, m.Ux.hLa); this.Tk = t.concat(this.Tk); return this.Tk = this.JJ(this.Tk) }; f.prototype.lKb = function (t) {
                        this.I.log("handlePlayFocus: ", g.qW); var w = t.direction, v = t.eb; t = []; var x = u(v); if (void 0 !== x.Dk) switch (t.push(x), w) {
                            case m.Jv.OKa: for (w = 1; w < g.qW; w++)t.push(new c(x.Dk,
                                x.mm + w)); t.push(new c(x.Dk - 1, x.mm)); t.push(new c(x.Dk + 1, x.mm)); break; case m.Jv.BFa: for (w = 1; w < g.qW; w++)t.push(new c(x.Dk, x.mm - w)); t.push(new c(x.Dk - 1, x.mm)); t.push(new c(x.Dk + 1, x.mm)); break; case m.Jv.hmb: t.push(new c(x.Dk - 1, x.mm)); for (w = 1; w <= g.qW / 2; w++)t.push(new c(x.Dk, x.mm + w)), t.push(new c(x.Dk, x.mm - w)); break; case m.Jv.Ogb: for (t.push(new c(x.Dk + 1, x.mm)), w = 1; w <= g.qW / 2; w++)t.push(new c(x.Dk, x.mm + w)), t.push(new c(x.Dk, x.mm - w))
                        }var y = [], z; t.forEach(function (A) { z = p(v, A.Dk, A.mm); void 0 !== z && y.push(z) });
                        this.gI(y, m.Ux.zfa); return this.JJ(y.concat(this.Tk))
                    }; f.prototype.dKb = function (t) { this.I.log("ModelOne: handleDefaultCase"); t = n(t.eb, g.y9a, g.JTa); this.gI(t, m.Ux.zfa); return this.JJ(t.concat(this.Tk)) }; f.prototype.g0b = function (t) { return t.GC == m.Ux.vl | t.GC == m.Ux.hLa & k() - t.XP < g.$Kb }; f.prototype.JJ = function (t) { var w = [], v = {}, x, y = 0, z = t.length; for (x = 0; x < z; x++) { var A = t[x].S, B = t[x]; !1 === A in v ? (w.push(B), v[A] = y, y++) : (A = w[v[A]], B.zm < A.zm && (A.zm = B.zm), B.GC > A.GC && (A.GC = B.GC), B.XP > A.XP && (A.XP = B.XP)) } return w };
                    r.exports = f
                }, function (r, b, a) { r.exports = { EventEmitter: a(1323), di: a(1324) } }, function (r) {
                    function b(c, f) { if (void 0 === f || "function" !== typeof f || "string" !== typeof c) throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments"); if (void 0 === this.Bd) return this.Bd = {}, this.Bd[c] = [f], !0; var k = this.Bd[c]; return void 0 === k ? (this.Bd[c] = [f], !0) : 0 > k.indexOf(f) ? (k.push(f), !0) : !1 } function a(c, f) { c = this.Bd ? this.Bd[c] : void 0; if (!c) return !1; c.forEach(function (k) { k(f) }); return !0 }
                    r.exports = { addEventListener: b, on: b, removeEventListener: function (c, f) { if (void 0 === f || "function" !== typeof f || "string" !== typeof c) throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments"); if (void 0 === this.Bd) return !1; var k = this.Bd[c]; if (void 0 === k) return !1; f = k.indexOf(f); if (0 > f) return !1; if (1 === k.length) return delete this.Bd[c], !0; k.splice(f, 1); return !0 }, Za: a, emit: a, removeAllListeners: function (c) { this.Bd && (void 0 === c ? delete this.Bd : delete this.Bd[c]); return this } }
                },
                function (r) {
                    function b(c, f, k, m) { c.trace(":", k, ":", m); f(m) } function a(c) { this.listeners = []; this.console = c } a.prototype.constructor = a; a.prototype.addEventListener = function (c, f, k, m) { k = m ? k.bind(m) : k; m = !1; if (c) { this.console && (k = b.bind(null, this.console, k, f)); if ("function" === typeof c.addEventListener) m = c.addEventListener(f, k); else if ("function" === typeof c.addListener) m = c.addListener(f, k); else throw Error("Emitter does not have a function to add listeners for '" + f + "'"); this.listeners.push([c, f, k]) } return m };
                    a.prototype.on = a.prototype.addEventListener; a.prototype.clear = function () { var c = this.listeners.length; this.listeners.forEach(function (f) { var k = f[0], m = f[1]; f = f[2]; "function" === typeof k.removeEventListener ? k.removeEventListener(m, f) : "function" === typeof k.removeListener && k.removeListener(m, f) }); this.listeners = []; this.console && this.console.trace("removed", c, "listener(s)") }; r.exports = a
                }, function (r, b, a) { Object.defineProperty(b, "__esModule", { value: !0 }); a(78).nrdp.Fdc = {} }])
            }).call(ub)
    })(window);
}).call(window)